<!DOCTYPE HTML>
<html lang="en" class="light sidebar-visible" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Patterns</title>
        <meta name="robots" content="noindex">


        <!-- Custom HTML head -->

        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->


        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>
        <!-- Start loading toc.js asap -->
        <script src="toc.js"></script>
    </head>
    <body>
    <div id="body-container">
        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            const html = document.documentElement;
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add("js");
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var sidebar = null;
            var sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            sidebar_toggle.checked = sidebar === 'visible';
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <!-- populated by js -->
            <mdbook-sidebar-scrollbox class="sidebar-scrollbox"></mdbook-sidebar-scrollbox>
            <noscript>
                <iframe class="sidebar-iframe-outer" src="toc.html"></iframe>
            </noscript>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">Patterns</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="patterns-2025"><a class="header" href="#patterns-2025">Patterns 2025</a></h1>
<p>Rethinking GRASP, SOLID, and GoF patterns for Frontend &amp; Backend modern development</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="prerequisites"><a class="header" href="#prerequisites">Prerequisites</a></h1>
<ul>
<li><a href="prerequisites/js-course-2024.html">üí°JavaScript for basics</a></li>
<li><a href="prerequisites/error-handling-lecture.html">üí°Errors and exceptions, operational, soft, hard, recovery, logging</a></li>
<li><a href="prerequisites/native-contracts-lecture.html">üí°JavaScript Native Primitives: Callable, Thenable/Promise, Iterable, Observable, Streams...</a></li>
<li><a href="prerequisites/lecture_notes.html">üí°–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è JavaScript c –î–µ–º–∏ –ú—É—Ä—ã—á–µ–º</a></li>
<li><a href="prerequisites/seminar-patterns-conspect.html">üí°–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ü–∞—Ç—Ç–µ—Ä–Ω–æ–≤ c –î–µ–º–∏ –ú—É—Ä—ã—á–µ–º</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="javascript-basics"><a class="header" href="#javascript-basics">JavaScript Basics</a></h1>
<h2 id="1-–í–≤–µ–¥–µ–Ω–∏–µ"><a class="header" href="#1-–í–≤–µ–¥–µ–Ω–∏–µ">1. –í–≤–µ–¥–µ–Ω–∏–µ</a></h2>
<p>–≠—Ç–æ –ø–æ–∫—Ä—ã–≤–∞–µ—Ç <strong>–Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–π –º–∏–Ω–∏–º—É–º</strong> —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞ JavaScript ‚Äî –ø—Ä–∏–º–µ—Ä–Ω–æ 20-25% —è–∑—ã–∫–∞, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ–∑–≤–æ–ª—è—Ç –ø–∏—Å–∞—Ç—å –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏ –∑–Ω–∞—á–∏–º—ã–π –∫–æ–¥. JavaScript –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç –≤–µ–∑–¥–µ: –Ω–∞ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–µ, –±—ç–∫–µ–Ω–¥–µ, –≤ –º–æ–±–∏–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ. –ü—Ä–∏ —ç—Ç–æ–º –æ–Ω —è–≤–ª—è–µ—Ç—Å—è –æ–¥–Ω–∏–º –∏–∑ —Å–∞–º—ã—Ö —Å–ª–æ–∂–Ω—ã—Ö —è–∑—ã–∫–æ–≤ –∏–∑-–∑–∞ –Ω–∞–∫–æ–ø–∏–≤—à–∏—Ö—Å—è –∑–∞ –∏—Å—Ç–æ—Ä–∏—é —Å–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–∏—Ö –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–π.</p>
<h3 id="–ù–∞—Å—Ç—Ä–æ–π–∫–∞-—Å—Ä–µ–¥—ã"><a class="header" href="#–ù–∞—Å—Ç—Ä–æ–π–∫–∞-—Å—Ä–µ–¥—ã">–ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å—Ä–µ–¥—ã</a></h3>
<pre><code class="language-bash"># –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–µ—Ä—Å–∏–∏ Git
git -v

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–µ—Ä—Å–∏–∏ Node.js
node -v
</code></pre>
<p>–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã:</p>
<ul>
<li><strong>–û–°</strong>: Linux (Fedora, Ubuntu), macOS, FreeBSD (Windows —Ç–æ–∂–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è)</li>
<li><strong>–ë—Ä–∞—É–∑–µ—Ä</strong>: Chrome –∏–ª–∏ Chromium</li>
<li><strong>–†–µ–¥–∞–∫—Ç–æ—Ä –∫–æ–¥–∞</strong>: –ª—é–±–æ–π —Å –ø–æ–¥—Å–≤–µ—Ç–∫–æ–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞</li>
</ul>
<hr />
<h2 id="2-–ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã-–ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ-–∏-–∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã"><a class="header" href="#2-–ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã-–ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ-–∏-–∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã">2. –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã: –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∏ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã</a></h2>
<h3 id="–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ-let"><a class="header" href="#–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ-let">–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ (let)</a></h3>
<p>–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–±—ä—è–≤–ª—è—é—Ç—Å—è –∫–ª—é—á–µ–≤—ã–º —Å–ª–æ–≤–æ–º <code>let</code> –∏ –º–æ–≥—É—Ç –∏–∑–º–µ–Ω—è—Ç—å —Å–≤–æ—ë –∑–Ω–∞—á–µ–Ω–∏–µ.</p>
<pre><code class="language-javascript">// –û–±—ä—è–≤–ª–µ–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π
let amount = 0;

// –ò–∑–º–µ–Ω–µ–Ω–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è
amount = 100;

// –°–æ—Å—Ç–∞–≤–Ω–æ–µ –ø—Ä–∏—Å–≤–∞–∏–≤–∞–Ω–∏–µ
amount += 50; // amount —Ç–µ–ø–µ—Ä—å 150
</code></pre>
<h3 id="–ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã-const"><a class="header" href="#–ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã-const">–ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã (const)</a></h3>
<p>–ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã –æ–±—ä—è–≤–ª—è—é—Ç—Å—è –∫–ª—é—á–µ–≤—ã–º —Å–ª–æ–≤–æ–º <code>const</code> –∏ –Ω–µ –º–æ–≥—É—Ç –±—ã—Ç—å –ø–µ—Ä–µ–ø—Ä–∏—Å–≤–æ–µ–Ω—ã.</p>
<pre><code class="language-javascript">// –ì–ª–æ–±–∞–ª—å–Ω–∞—è –∫–æ–Ω—Å—Ç–∞–Ω—Ç–∞ (SCREAMING_SNAKE_CASE)
const MAX_PURCHASE = 2000;

// –õ–æ–∫–∞–ª—å–Ω–∞—è –∫–æ–Ω—Å—Ç–∞–Ω—Ç–∞ (camelCase)
const groupName = 'Electronics';
</code></pre>
<h3 id="–°—Ç–∏–ª–∏-–∏–º–µ–Ω–æ–≤–∞–Ω–∏—è"><a class="header" href="#–°—Ç–∏–ª–∏-–∏–º–µ–Ω–æ–≤–∞–Ω–∏—è">–°—Ç–∏–ª–∏ –∏–º–µ–Ω–æ–≤–∞–Ω–∏—è</a></h3>
<div class="table-wrapper"><table><thead><tr><th>–°—Ç–∏–ª—å</th><th>–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ</th><th>–ü—Ä–∏–º–µ—Ä</th></tr></thead><tbody>
<tr><td>SCREAMING_SNAKE_CASE</td><td>–ì–ª–æ–±–∞–ª—å–Ω—ã–µ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã</td><td><code>MAX_PURCHASE</code>, <code>API_URL</code></td></tr>
<tr><td>camelCase</td><td>–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ, —Ñ—É–Ω–∫—Ü–∏–∏, –ø–∞—Ä–∞–º–µ—Ç—Ä—ã</td><td><code>groupName</code>, <code>calculateTotal</code></td></tr>
<tr><td>PascalCase</td><td>–ö–ª–∞—Å—Å—ã, –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä—ã</td><td><code>UserService</code>, <code>ProductModel</code></td></tr>
</tbody></table>
</div>
<h3 id="–•–æ—Ä–æ—à–∏–µ-–∏-–ø–ª–æ—Ö–∏–µ-–∏–º–µ–Ω–∞"><a class="header" href="#–•–æ—Ä–æ—à–∏–µ-–∏-–ø–ª–æ—Ö–∏–µ-–∏–º–µ–Ω–∞">–•–æ—Ä–æ—à–∏–µ –∏ –ø–ª–æ—Ö–∏–µ –∏–º–µ–Ω–∞</a></h3>
<pre><code class="language-javascript">// ‚úÖ –•–æ—Ä–æ—à–æ
const prices = [100, 200, 300];
const groupName = 'Electronics';
const calculateTotal = (items) =&gt; { /* ... */ };

// ‚ùå –ü–ª–æ—Ö–æ
const numbers = [100, 200, 300];     // –ù–µ–ø–æ–Ω—è—Ç–Ω–æ, —á—Ç–æ —ç—Ç–æ —Ü–µ–Ω—ã
const g_n = 'Electronics';           // –°–æ–∫—Ä–∞—â–µ–Ω–∏–µ –Ω–µ–ø–æ–Ω—è—Ç–Ω–æ
const itogo2 = 500;                  // –ù—É–º–µ—Ä–∞—Ü–∏—è ‚Äî –ø–ª–æ—Ö–∞—è –ø—Ä–∞–∫—Ç–∏–∫–∞
const ERCODE = 404;                  // –ê–±–±—Ä–µ–≤–∏–∞—Ç—É—Ä–∞ –±–µ–∑ —Å–º—ã—Å–ª–∞
</code></pre>
<h3 id="–ü—Ä–∞–≤–∏–ª–∞-–æ–±—ä—è–≤–ª–µ–Ω–∏—è"><a class="header" href="#–ü—Ä–∞–≤–∏–ª–∞-–æ–±—ä—è–≤–ª–µ–Ω–∏—è">–ü—Ä–∞–≤–∏–ª–∞ –æ–±—ä—è–≤–ª–µ–Ω–∏—è</a></h3>
<pre><code class="language-javascript">// ‚úÖ –•–æ—Ä–æ—à–æ ‚Äî –∫–∞–∂–¥–∞—è –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è –Ω–∞ –æ—Ç–¥–µ–ª—å–Ω–æ–π —Å—Ç—Ä–æ–∫–µ
let i = 0;
let counter = 0;
const year = 2024;
const eventName = 'Conference';

// ‚ùå –ü–ª–æ—Ö–æ ‚Äî –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –≤ –æ–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–µ
let i = 0, counter = 0, year = 2024, eventName = 'Conference';
</code></pre>
<hr />
<h2 id="3-–¢–∏–ø—ã-–¥–∞–Ω–Ω—ã—Ö"><a class="header" href="#3-–¢–∏–ø—ã-–¥–∞–Ω–Ω—ã—Ö">3. –¢–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö</a></h2>
<h3 id="–ü—Ä–∏–º–∏—Ç–∏–≤–Ω—ã–µ-—Ç–∏–ø—ã"><a class="header" href="#–ü—Ä–∏–º–∏—Ç–∏–≤–Ω—ã–µ-—Ç–∏–ø—ã">–ü—Ä–∏–º–∏—Ç–∏–≤–Ω—ã–µ —Ç–∏–ø—ã</a></h3>
<p>JavaScript –∏–º–µ–µ—Ç 7 –ø—Ä–∏–º–∏—Ç–∏–≤–Ω—ã—Ö —Ç–∏–ø–æ–≤ –¥–∞–Ω–Ω—ã—Ö:</p>
<pre><code class="language-javascript">// 1. Number ‚Äî —á–∏—Å–ª–∞ (—Ü–µ–ª—ã–µ –∏ —Å –ø–ª–∞–≤–∞—é—â–µ–π —Ç–æ—á–∫–æ–π)
const integer = 42;
const float = 3.14;
const infinity = Infinity;
const notANumber = NaN;

// 2. BigInt ‚Äî –±–æ–ª—å—à–∏–µ —Ü–µ–ª—ã–µ —á–∏—Å–ª–∞
const bigNumber = 9007199254740991n;
const anotherBig = BigInt('123456789012345678901234567890');

// 3. String ‚Äî —Å—Ç—Ä–æ–∫–∏
const singleQuotes = 'Hello';
const doubleQuotes = "World";
const templateLiteral = `Hello, ${name}!`;

// 4. Boolean ‚Äî –ª–æ–≥–∏—á–µ—Å–∫–∏–π —Ç–∏–ø
const isActive = true;
const isDeleted = false;

// 5. undefined ‚Äî –∑–Ω–∞—á–µ–Ω–∏–µ –Ω–µ –∑–∞–¥–∞–Ω–æ
let notDefined;
console.log(notDefined); // undefined

// 6. null ‚Äî –Ω–∞–º–µ—Ä–µ–Ω–Ω–æ–µ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è
const emptyObject = null;

// 7. Symbol ‚Äî —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä
const sym = Symbol('description');
</code></pre>
<h3 id="–û–ø–µ—Ä–∞—Ç–æ—Ä-typeof"><a class="header" href="#–û–ø–µ—Ä–∞—Ç–æ—Ä-typeof">–û–ø–µ—Ä–∞—Ç–æ—Ä typeof</a></h3>
<pre><code class="language-javascript">typeof 42;           // 'number'
typeof 'hello';      // 'string'
typeof true;         // 'boolean'
typeof undefined;    // 'undefined'
typeof null;         // 'object' (–∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞!)
typeof {};           // 'object'
typeof [];           // 'object'
typeof function(){}; // 'function'
typeof Symbol();     // 'symbol'
typeof 42n;          // 'bigint'
</code></pre>
<h3 id="–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏-—Ç–∏–ø–æ–≤"><a class="header" href="#–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏-—Ç–∏–ø–æ–≤">–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ —Ç–∏–ø–æ–≤</a></h3>
<pre><code class="language-javascript">// undefined vs null
// undefined ‚Äî –¥–ª—è –ø—Ä–∏–º–∏—Ç–∏–≤–Ω—ã—Ö —Ç–∏–ø–æ–≤, –∫–æ–≥–¥–∞ –∑–Ω–∞—á–µ–Ω–∏–µ –Ω–µ –∑–∞–¥–∞–Ω–æ
// null ‚Äî –¥–ª—è –æ–±—ä–µ–∫—Ç–æ–≤, –∫–æ–≥–¥–∞ –æ–±—ä–µ–∫—Ç –Ω–∞–º–µ—Ä–µ–Ω–Ω–æ –ø—É—Å—Ç

let count;          // undefined (–ø—Ä–∏–º–∏—Ç–∏–≤ –Ω–µ –∑–∞–¥–∞–Ω)
let user = null;    // null (–æ–±—ä–µ–∫—Ç –Ω–∞–º–µ—Ä–µ–Ω–Ω–æ –ø—É—Å—Ç)

// NaN ‚Äî Not a Number
const result = 'hello' / 2;  // NaN
isNaN(result);               // true

// Infinity
const inf = 1 / 0;           // Infinity
const negInf = -1 / 0;       // -Infinity
</code></pre>
<hr />
<h2 id="4-–§—É–Ω–∫—Ü–∏–∏-–∏-–æ–±–ª–∞—Å—Ç—å-–≤–∏–¥–∏–º–æ—Å—Ç–∏"><a class="header" href="#4-–§—É–Ω–∫—Ü–∏–∏-–∏-–æ–±–ª–∞—Å—Ç—å-–≤–∏–¥–∏–º–æ—Å—Ç–∏">4. –§—É–Ω–∫—Ü–∏–∏ –∏ –æ–±–ª–∞—Å—Ç—å –≤–∏–¥–∏–º–æ—Å—Ç–∏</a></h2>
<h3 id="–°—Ç—Ä–µ–ª–æ—á–Ω—ã–µ-—Ñ—É–Ω–∫—Ü–∏–∏-arrow-functions"><a class="header" href="#–°—Ç—Ä–µ–ª–æ—á–Ω—ã–µ-—Ñ—É–Ω–∫—Ü–∏–∏-arrow-functions">–°—Ç—Ä–µ–ª–æ—á–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ (Arrow Functions)</a></h3>
<p>–û—Å–Ω–æ–≤–Ω–æ–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å, –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–π –≤ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–º JavaScript:</p>
<pre><code class="language-javascript">// –ü–æ–ª–Ω–∞—è —Ñ–æ—Ä–º–∞
const sum = (a, b) =&gt; {
  return a + b;
};

// –ö—Ä–∞—Ç–∫–∞—è —Ñ–æ—Ä–º–∞ (–Ω–µ—è–≤–Ω—ã–π return)
const sum = (a, b) =&gt; a + b;

// –û–¥–∏–Ω –ø–∞—Ä–∞–º–µ—Ç—Ä ‚Äî —Å–∫–æ–±–∫–∏ –º–æ–∂–Ω–æ –æ–ø—É—Å—Ç–∏—Ç—å
const double = x =&gt; x * 2;

// –ë–µ–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
const greet = () =&gt; 'Hello!';
</code></pre>
<h3 id="function-declaration-vs-function-expression"><a class="header" href="#function-declaration-vs-function-expression">Function Declaration vs Function Expression</a></h3>
<pre><code class="language-javascript">// Function Declaration ‚Äî –ø–æ–¥–Ω–∏–º–∞–µ—Ç—Å—è (hoisting)
function multiply(a, b) {
  return a * b;
}

// Function Expression ‚Äî –Ω–µ –ø–æ–¥–Ω–∏–º–∞–µ—Ç—Å—è
const divide = function(a, b) {
  return a / b;
};

// –í—ã–∑–æ–≤ –¥–æ –æ–±—ä—è–≤–ª–µ–Ω–∏—è
console.log(multiply(2, 3)); // 6 ‚Äî —Ä–∞–±–æ—Ç–∞–µ—Ç (hoisting)
console.log(divide(6, 2));   // –û—à–∏–±–∫–∞! (–Ω–µ –ø–æ–¥–Ω–∏–º–∞–µ—Ç—Å—è)
</code></pre>
<h3 id="–ü–∞—Ä–∞–º–µ—Ç—Ä—ã-–∏-–∞—Ä–≥—É–º–µ–Ω—Ç—ã"><a class="header" href="#–ü–∞—Ä–∞–º–µ—Ç—Ä—ã-–∏-–∞—Ä–≥—É–º–µ–Ω—Ç—ã">–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∏ –∞—Ä–≥—É–º–µ–Ω—Ç—ã</a></h3>
<pre><code class="language-javascript">// –ü–∞—Ä–∞–º–µ—Ç—Ä—ã ‚Äî –≤–Ω—É—Ç—Ä–∏ —Ñ—É–Ω–∫—Ü–∏–∏
// –ê—Ä–≥—É–º–µ–Ω—Ç—ã ‚Äî –ø—Ä–∏ –≤—ã–∑–æ–≤–µ —Ñ—É–Ω–∫—Ü–∏–∏

const greet = (name, greeting) =&gt; {
  return `${greeting}, ${name}!`;
};

// –ü—Ä–∏ –≤—ã–∑–æ–≤–µ –ø–µ—Ä–µ–¥–∞—ë–º –∞—Ä–≥—É–º–µ–Ω—Ç—ã
greet('Alice', 'Hello'); // 'Hello, Alice!'
</code></pre>
<h3 id="–ü–∞—Ä–∞–º–µ—Ç—Ä—ã-–ø–æ-—É–º–æ–ª—á–∞–Ω–∏—é"><a class="header" href="#–ü–∞—Ä–∞–º–µ—Ç—Ä—ã-–ø–æ-—É–º–æ–ª—á–∞–Ω–∏—é">–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é</a></h3>
<pre><code class="language-javascript">const createUser = (name, age = 18, role = 'user') =&gt; {
  return { name, age, role };
};

createUser('Alice');              // { name: 'Alice', age: 18, role: 'user' }
createUser('Bob', 25);            // { name: 'Bob', age: 25, role: 'user' }
createUser('Admin', 30, 'admin'); // { name: 'Admin', age: 30, role: 'admin' }
</code></pre>
<h3 id="rest-–ø–∞—Ä–∞–º–µ—Ç—Ä—ã"><a class="header" href="#rest-–ø–∞—Ä–∞–º–µ—Ç—Ä—ã">Rest-–ø–∞—Ä–∞–º–µ—Ç—Ä—ã</a></h3>
<pre><code class="language-javascript">// –°–æ–±—Ä–∞—Ç—å –≤—Å–µ –∞—Ä–≥—É–º–µ–Ω—Ç—ã –≤ –º–∞—Å—Å–∏–≤
const sum = (...numbers) =&gt; {
  return numbers.reduce((acc, n) =&gt; acc + n, 0);
};

sum(1, 2, 3);       // 6
sum(1, 2, 3, 4, 5); // 15

// –ö–æ–º–±–∏–Ω–∞—Ü–∏—è –æ–±—ã—á–Ω—ã—Ö –∏ rest-–ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
const greetAll = (greeting, ...names) =&gt; {
  return names.map(name =&gt; `${greeting}, ${name}!`);
};

greetAll('Hello', 'Alice', 'Bob', 'Charlie');
// ['Hello, Alice!', 'Hello, Bob!', 'Hello, Charlie!']
</code></pre>
<h3 id="–û–±–ª–∞—Å—Ç—å-–≤–∏–¥–∏–º–æ—Å—Ç–∏-scope"><a class="header" href="#–û–±–ª–∞—Å—Ç—å-–≤–∏–¥–∏–º–æ—Å—Ç–∏-scope">–û–±–ª–∞—Å—Ç—å –≤–∏–¥–∏–º–æ—Å—Ç–∏ (Scope)</a></h3>
<pre><code class="language-javascript">const globalVar = 'global';

const outerFunction = () =&gt; {
  const outerVar = 'outer';
  
  const innerFunction = () =&gt; {
    const innerVar = 'inner';
    
    // –î–æ—Å—Ç—É–ø –∫–æ –≤—Å–µ–º –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º
    console.log(globalVar); // 'global'
    console.log(outerVar);  // 'outer'
    console.log(innerVar);  // 'inner'
  };
  
  innerFunction();
  // console.log(innerVar); // –û—à–∏–±–∫–∞! innerVar –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞
};

outerFunction();
// console.log(outerVar); // –û—à–∏–±–∫–∞! outerVar –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞
</code></pre>
<h3 id="–ë–ª–æ—á–Ω–∞—è-–æ–±–ª–∞—Å—Ç—å-–≤–∏–¥–∏–º–æ—Å—Ç–∏"><a class="header" href="#–ë–ª–æ—á–Ω–∞—è-–æ–±–ª–∞—Å—Ç—å-–≤–∏–¥–∏–º–æ—Å—Ç–∏">–ë–ª–æ—á–Ω–∞—è –æ–±–ª–∞—Å—Ç—å –≤–∏–¥–∏–º–æ—Å—Ç–∏</a></h3>
<pre><code class="language-javascript">let level = 1;
console.log(level); // 1

{
  let level = 2; // –ù–æ–≤–∞—è –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è –≤ –±–ª–æ–∫–µ
  console.log(level); // 2
  
  {
    let level = 3;
    console.log(level); // 3
  }
  
  console.log(level); // 2
}

console.log(level); // 1
</code></pre>
<hr />
<h2 id="5-–£—Å–ª–æ–≤–∏—è-–∏-–≤–µ—Ç–≤–ª–µ–Ω–∏–µ"><a class="header" href="#5-–£—Å–ª–æ–≤–∏—è-–∏-–≤–µ—Ç–≤–ª–µ–Ω–∏–µ">5. –£—Å–ª–æ–≤–∏—è –∏ –≤–µ—Ç–≤–ª–µ–Ω–∏–µ</a></h2>
<h3 id="if--else-if--else"><a class="header" href="#if--else-if--else">if / else if / else</a></h3>
<pre><code class="language-javascript">const checkAge = (age) =&gt; {
  if (age &lt; 0) {
    return '–ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π –≤–æ–∑—Ä–∞—Å—Ç';
  } else if (age &lt; 18) {
    return '–ù–µ—Å–æ–≤–µ—Ä—à–µ–Ω–Ω–æ–ª–µ—Ç–Ω–∏–π';
  } else if (age &lt; 65) {
    return '–í–∑—Ä–æ—Å–ª—ã–π';
  } else {
    return '–ü–µ–Ω—Å–∏–æ–Ω–µ—Ä';
  }
};

checkAge(25); // '–í–∑—Ä–æ—Å–ª—ã–π'
</code></pre>
<h3 id="–¢–µ—Ä–Ω–∞—Ä–Ω—ã–π-–æ–ø–µ—Ä–∞—Ç–æ—Ä"><a class="header" href="#–¢–µ—Ä–Ω–∞—Ä–Ω—ã–π-–æ–ø–µ—Ä–∞—Ç–æ—Ä">–¢–µ—Ä–Ω–∞—Ä–Ω—ã–π –æ–ø–µ—Ä–∞—Ç–æ—Ä</a></h3>
<pre><code class="language-javascript">// condition ? valueIfTrue : valueIfFalse
const status = age &gt;= 18 ? 'adult' : 'minor';

// –í–ª–æ–∂–µ–Ω–Ω—ã–µ —Ç–µ—Ä–Ω–∞—Ä–Ω—ã–µ –æ–ø–µ—Ä–∞—Ç–æ—Ä—ã (–Ω–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∑–ª–æ—É–ø–æ—Ç—Ä–µ–±–ª—è—Ç—å)
const category = age &lt; 13 ? 'child' 
               : age &lt; 20 ? 'teenager' 
               : 'adult';
</code></pre>
<h3 id="switch--case"><a class="header" href="#switch--case">switch / case</a></h3>
<pre><code class="language-javascript">const getDayName = (dayNumber) =&gt; {
  switch (dayNumber) {
    case 1:
      return '–ü–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫';
    case 2:
      return '–í—Ç–æ—Ä–Ω–∏–∫';
    case 3:
      return '–°—Ä–µ–¥–∞';
    case 4:
      return '–ß–µ—Ç–≤–µ—Ä–≥';
    case 5:
      return '–ü—è—Ç–Ω–∏—Ü–∞';
    case 6:
    case 7:
      return '–í—ã—Ö–æ–¥–Ω–æ–π';
    default:
      return '–ù–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–π –¥–µ–Ω—å';
  }
};
</code></pre>
<h3 id="–õ–æ–≥–∏—á–µ—Å–∫–∏–µ-–æ–ø–µ—Ä–∞—Ç–æ—Ä—ã"><a class="header" href="#–õ–æ–≥–∏—á–µ—Å–∫–∏–µ-–æ–ø–µ—Ä–∞—Ç–æ—Ä—ã">–õ–æ–≥–∏—á–µ—Å–∫–∏–µ –æ–ø–µ—Ä–∞—Ç–æ—Ä—ã</a></h3>
<pre><code class="language-javascript">// &amp;&amp; ‚Äî –ò (–≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø–µ—Ä–≤–æ–µ –ª–æ–∂–Ω–æ–µ –∏–ª–∏ –ø–æ—Å–ª–µ–¥–Ω–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ)
const result1 = true &amp;&amp; 'hello';  // 'hello'
const result2 = false &amp;&amp; 'hello'; // false
const result3 = 'a' &amp;&amp; 'b' &amp;&amp; 'c'; // 'c'

// || ‚Äî –ò–õ–ò (–≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø–µ—Ä–≤–æ–µ –∏—Å—Ç–∏–Ω–Ω–æ–µ –∏–ª–∏ –ø–æ—Å–ª–µ–¥–Ω–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ)
const result4 = false || 'default'; // 'default'
const result5 = 'value' || 'default'; // 'value'

// ?? ‚Äî Nullish coalescing (—Ç–æ–ª—å–∫–æ –¥–ª—è null/undefined)
const result6 = null ?? 'default';      // 'default'
const result7 = undefined ?? 'default'; // 'default'
const result8 = 0 ?? 'default';         // 0 (0 –Ω–µ null/undefined)
const result9 = '' ?? 'default';        // '' (–ø—É—Å—Ç–∞—è —Å—Ç—Ä–æ–∫–∞ –Ω–µ null/undefined)
</code></pre>
<h3 id="–°—Ä–∞–≤–Ω–µ–Ω–∏–µ-–∑–Ω–∞—á–µ–Ω–∏–π"><a class="header" href="#–°—Ä–∞–≤–Ω–µ–Ω–∏–µ-–∑–Ω–∞—á–µ–Ω–∏–π">–°—Ä–∞–≤–Ω–µ–Ω–∏–µ –∑–Ω–∞—á–µ–Ω–∏–π</a></h3>
<pre><code class="language-javascript">// === ‚Äî —Å—Ç—Ä–æ–≥–æ–µ —Ä–∞–≤–µ–Ω—Å—Ç–≤–æ (–±–µ–∑ –ø—Ä–∏–≤–µ–¥–µ–Ω–∏—è —Ç–∏–ø–æ–≤)
5 === 5;     // true
5 === '5';   // false
null === undefined; // false

// == ‚Äî –Ω–µ—Å—Ç—Ä–æ–≥–æ–µ —Ä–∞–≤–µ–Ω—Å—Ç–≤–æ (—Å –ø—Ä–∏–≤–µ–¥–µ–Ω–∏–µ–º —Ç–∏–ø–æ–≤) ‚Äî –ù–ï –†–ï–ö–û–ú–ï–ù–î–£–ï–¢–°–Ø
5 == '5';    // true (—Å—Ç—Ä–æ–∫–∞ –ø—Ä–∏–≤–æ–¥–∏—Ç—Å—è –∫ —á–∏—Å–ª—É)
null == undefined; // true

// –í—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ === –∏ !==
</code></pre>
<hr />
<h2 id="6-–¶–∏–∫–ª—ã"><a class="header" href="#6-–¶–∏–∫–ª—ã">6. –¶–∏–∫–ª—ã</a></h2>
<h3 id="for"><a class="header" href="#for">for</a></h3>
<pre><code class="language-javascript">// –ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π for
for (let i = 0; i &lt; 5; i++) {
  console.log(i); // 0, 1, 2, 3, 4
}

// –û–±—Ä–∞—Ç–Ω—ã–π —Ü–∏–∫–ª
for (let i = 4; i &gt;= 0; i--) {
  console.log(i); // 4, 3, 2, 1, 0
}

// –° —à–∞–≥–æ–º
for (let i = 0; i &lt; 10; i += 2) {
  console.log(i); // 0, 2, 4, 6, 8
}
</code></pre>
<h3 id="forof-–∏—Ç–µ—Ä–∞—Ü–∏—è-–ø–æ-–∑–Ω–∞—á–µ–Ω–∏—è–º"><a class="header" href="#forof-–∏—Ç–µ—Ä–∞—Ü–∏—è-–ø–æ-–∑–Ω–∞—á–µ–Ω–∏—è–º">for...of (–∏—Ç–µ—Ä–∞—Ü–∏—è –ø–æ –∑–Ω–∞—á–µ–Ω–∏—è–º)</a></h3>
<pre><code class="language-javascript">const fruits = ['apple', 'banana', 'orange'];

for (const fruit of fruits) {
  console.log(fruit);
}
// 'apple', 'banana', 'orange'

// –î–ª—è —Å—Ç—Ä–æ–∫
for (const char of 'Hello') {
  console.log(char);
}
// 'H', 'e', 'l', 'l', 'o'

// –î–ª—è Map
const map = new Map([['a', 1], ['b', 2]]);
for (const [key, value] of map) {
  console.log(key, value);
}
// 'a' 1, 'b' 2
</code></pre>
<h3 id="forin-–∏—Ç–µ—Ä–∞—Ü–∏—è-–ø–æ-–∫–ª—é—á–∞–º"><a class="header" href="#forin-–∏—Ç–µ—Ä–∞—Ü–∏—è-–ø–æ-–∫–ª—é—á–∞–º">for...in (–∏—Ç–µ—Ä–∞—Ü–∏—è –ø–æ –∫–ª—é—á–∞–º)</a></h3>
<pre><code class="language-javascript">const user = { name: 'Alice', age: 25, city: 'Minsk' };

for (const key in user) {
  console.log(`${key}: ${user[key]}`);
}
// 'name: Alice', 'age: 25', 'city: Minsk'

// ‚ö†Ô∏è –ù–µ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ for...in –¥–ª—è –º–∞—Å—Å–∏–≤–æ–≤!
const arr = ['a', 'b', 'c'];
for (const index in arr) {
  console.log(index); // '0', '1', '2' ‚Äî —ç—Ç–æ —Å—Ç—Ä–æ–∫–∏!
}
</code></pre>
<h3 id="while-–∏-dowhile"><a class="header" href="#while-–∏-dowhile">while –∏ do...while</a></h3>
<pre><code class="language-javascript">// while ‚Äî –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–µ—Ä–µ–¥ –∏—Ç–µ—Ä–∞—Ü–∏–µ–π
let count = 0;
while (count &lt; 3) {
  console.log(count);
  count++;
}
// 0, 1, 2

// do...while ‚Äî –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Å–ª–µ –∏—Ç–µ—Ä–∞—Ü–∏–∏ (–º–∏–Ω–∏–º—É–º 1 –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ)
let num = 0;
do {
  console.log(num);
  num++;
} while (num &lt; 3);
// 0, 1, 2
</code></pre>
<h3 id="break-–∏-continue"><a class="header" href="#break-–∏-continue">break –∏ continue</a></h3>
<pre><code class="language-javascript">// break ‚Äî –≤—ã—Ö–æ–¥ –∏–∑ —Ü–∏–∫–ª–∞
for (let i = 0; i &lt; 10; i++) {
  if (i === 5) break;
  console.log(i);
}
// 0, 1, 2, 3, 4

// continue ‚Äî –ø—Ä–æ–ø—É—Å–∫ –∏—Ç–µ—Ä–∞—Ü–∏–∏
for (let i = 0; i &lt; 5; i++) {
  if (i === 2) continue;
  console.log(i);
}
// 0, 1, 3, 4

// –ú–µ—Ç–∫–∏ –¥–ª—è –≤–ª–æ–∂–µ–Ω–Ω—ã—Ö —Ü–∏–∫–ª–æ–≤
outer: for (let i = 0; i &lt; 3; i++) {
  for (let j = 0; j &lt; 3; j++) {
    if (i === 1 &amp;&amp; j === 1) break outer;
    console.log(i, j);
  }
}
// 0 0, 0 1, 0 2, 1 0
</code></pre>
<hr />
<h2 id="7-–ö–æ–ª–ª–µ–∫—Ü–∏–∏-–º–∞—Å—Å–∏–≤—ã-–∏-–æ–±—ä–µ–∫—Ç—ã"><a class="header" href="#7-–ö–æ–ª–ª–µ–∫—Ü–∏–∏-–º–∞—Å—Å–∏–≤—ã-–∏-–æ–±—ä–µ–∫—Ç—ã">7. –ö–æ–ª–ª–µ–∫—Ü–∏–∏: –º–∞—Å—Å–∏–≤—ã –∏ –æ–±—ä–µ–∫—Ç—ã</a></h2>
<h3 id="–ú–∞—Å—Å–∏–≤—ã-array"><a class="header" href="#–ú–∞—Å—Å–∏–≤—ã-array">–ú–∞—Å—Å–∏–≤—ã (Array)</a></h3>
<pre><code class="language-javascript">// –°–æ–∑–¥–∞–Ω–∏–µ –º–∞—Å—Å–∏–≤–æ–≤
const empty = [];
const numbers = [1, 2, 3, 4, 5];
const mixed = [1, 'hello', true, null, { key: 'value' }];

// –î–æ—Å—Ç—É–ø –ø–æ –∏–Ω–¥–µ–∫—Å—É
numbers[0]; // 1
numbers[2]; // 3
numbers[numbers.length - 1]; // 5 (–ø–æ—Å–ª–µ–¥–Ω–∏–π —ç–ª–µ–º–µ–Ω—Ç)

// –ò–∑–º–µ–Ω–µ–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–æ–≤
numbers[0] = 10;
numbers.push(6);    // –î–æ–±–∞–≤–∏—Ç—å –≤ –∫–æ–Ω–µ—Ü
numbers.pop();      // –£–¥–∞–ª–∏—Ç—å —Å –∫–æ–Ω—Ü–∞
numbers.unshift(0); // –î–æ–±–∞–≤–∏—Ç—å –≤ –Ω–∞—á–∞–ª–æ
numbers.shift();    // –£–¥–∞–ª–∏—Ç—å —Å –Ω–∞—á–∞–ª–∞
</code></pre>
<h3 id="–ú–µ—Ç–æ–¥—ã-–º–∞—Å—Å–∏–≤–æ–≤"><a class="header" href="#–ú–µ—Ç–æ–¥—ã-–º–∞—Å—Å–∏–≤–æ–≤">–ú–µ—Ç–æ–¥—ã –º–∞—Å—Å–∏–≤–æ–≤</a></h3>
<pre><code class="language-javascript">const numbers = [1, 2, 3, 4, 5];

// map ‚Äî –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –∫–∞–∂–¥–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞
const doubled = numbers.map(n =&gt; n * 2);
// [2, 4, 6, 8, 10]

// filter ‚Äî —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ —É—Å–ª–æ–≤–∏—é
const even = numbers.filter(n =&gt; n % 2 === 0);
// [2, 4]

// find ‚Äî –ø–æ–∏—Å–∫ –ø–µ—Ä–≤–æ–≥–æ –ø–æ–¥—Ö–æ–¥—è—â–µ–≥–æ
const found = numbers.find(n =&gt; n &gt; 3);
// 4

// findIndex ‚Äî –∏–Ω–¥–µ–∫—Å –ø–µ—Ä–≤–æ–≥–æ –ø–æ–¥—Ö–æ–¥—è—â–µ–≥–æ
const index = numbers.findIndex(n =&gt; n &gt; 3);
// 3

// some ‚Äî –µ—Å—Ç—å –ª–∏ —Ö–æ—Ç—è –±—ã –æ–¥–∏–Ω –ø–æ–¥—Ö–æ–¥—è—â–∏–π
const hasEven = numbers.some(n =&gt; n % 2 === 0);
// true

// every ‚Äî –≤—Å–µ –ª–∏ –ø–æ–¥—Ö–æ–¥—è—Ç
const allPositive = numbers.every(n =&gt; n &gt; 0);
// true

// reduce ‚Äî —Å–≤—ë—Ä—Ç–∫–∞ –º–∞—Å—Å–∏–≤–∞
const sum = numbers.reduce((acc, n) =&gt; acc + n, 0);
// 15

// includes ‚Äî —Å–æ–¥–µ—Ä–∂–∏—Ç –ª–∏ —ç–ª–µ–º–µ–Ω—Ç
numbers.includes(3); // true
numbers.includes(10); // false
</code></pre>
<h3 id="–î–µ—Å—Ç—Ä—É–∫—Ç—É—Ä–∏–∑–∞—Ü–∏—è-–º–∞—Å—Å–∏–≤–æ–≤"><a class="header" href="#–î–µ—Å—Ç—Ä—É–∫—Ç—É—Ä–∏–∑–∞—Ü–∏—è-–º–∞—Å—Å–∏–≤–æ–≤">–î–µ—Å—Ç—Ä—É–∫—Ç—É—Ä–∏–∑–∞—Ü–∏—è –º–∞—Å—Å–∏–≤–æ–≤</a></h3>
<pre><code class="language-javascript">const coordinates = [10, 20, 30];

// –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –∑–Ω–∞—á–µ–Ω–∏–π
const [x, y, z] = coordinates;
console.log(x, y, z); // 10 20 30

// –ü—Ä–æ–ø—É—Å–∫ —ç–ª–µ–º–µ–Ω—Ç–æ–≤
const [first, , third] = coordinates;
console.log(first, third); // 10 30

// Rest-–æ–ø–µ—Ä–∞—Ç–æ—Ä
const [head, ...tail] = [1, 2, 3, 4, 5];
console.log(head); // 1
console.log(tail); // [2, 3, 4, 5]

// –ó–Ω–∞—á–µ–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
const [a, b, c = 0] = [1, 2];
console.log(c); // 0
</code></pre>
<h3 id="–û–±—ä–µ–∫—Ç—ã-object"><a class="header" href="#–û–±—ä–µ–∫—Ç—ã-object">–û–±—ä–µ–∫—Ç—ã (Object)</a></h3>
<pre><code class="language-javascript">// –°–æ–∑–¥–∞–Ω–∏–µ –æ–±—ä–µ–∫—Ç–æ–≤
const user = {
  name: 'Alice',
  age: 25,
  email: 'alice@example.com',
  isActive: true
};

// –î–æ—Å—Ç—É–ø –∫ —Å–≤–æ–π—Å—Ç–≤–∞–º
user.name;       // 'Alice'
user['age'];     // 25

// –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π –¥–æ—Å—Ç—É–ø
const key = 'email';
user[key];       // 'alice@example.com'

// –ò–∑–º–µ–Ω–µ–Ω–∏–µ –∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ —Å–≤–æ–π—Å—Ç–≤
user.age = 26;
user.city = 'Minsk';

// –£–¥–∞–ª–µ–Ω–∏–µ —Å–≤–æ–π—Å—Ç–≤
delete user.isActive;
</code></pre>
<h3 id="–ú–µ—Ç–æ–¥—ã-–æ–±—ä–µ–∫—Ç–æ–≤"><a class="header" href="#–ú–µ—Ç–æ–¥—ã-–æ–±—ä–µ–∫—Ç–æ–≤">–ú–µ—Ç–æ–¥—ã –æ–±—ä–µ–∫—Ç–æ–≤</a></h3>
<pre><code class="language-javascript">const user = { name: 'Alice', age: 25, city: 'Minsk' };

// Object.keys ‚Äî –º–∞—Å—Å–∏–≤ –∫–ª—é—á–µ–π
Object.keys(user); // ['name', 'age', 'city']

// Object.values ‚Äî –º–∞—Å—Å–∏–≤ –∑–Ω–∞—á–µ–Ω–∏–π
Object.values(user); // ['Alice', 25, 'Minsk']

// Object.entries ‚Äî –º–∞—Å—Å–∏–≤ –ø–∞—Ä [–∫–ª—é—á, –∑–Ω–∞—á–µ–Ω–∏–µ]
Object.entries(user); // [['name', 'Alice'], ['age', 25], ['city', 'Minsk']]

// Object.assign ‚Äî –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ/—Å–ª–∏—è–Ω–∏–µ
const copy = Object.assign({}, user);
const merged = Object.assign({}, user, { role: 'admin' });

// Spread-–æ–ø–µ—Ä–∞—Ç–æ—Ä (—Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π —Å–ø–æ—Å–æ–±)
const copy2 = { ...user };
const merged2 = { ...user, role: 'admin' };
</code></pre>
<h3 id="–î–µ—Å—Ç—Ä—É–∫—Ç—É—Ä–∏–∑–∞—Ü–∏—è-–æ–±—ä–µ–∫—Ç–æ–≤"><a class="header" href="#–î–µ—Å—Ç—Ä—É–∫—Ç—É—Ä–∏–∑–∞—Ü–∏—è-–æ–±—ä–µ–∫—Ç–æ–≤">–î–µ—Å—Ç—Ä—É–∫—Ç—É—Ä–∏–∑–∞—Ü–∏—è –æ–±—ä–µ–∫—Ç–æ–≤</a></h3>
<pre><code class="language-javascript">const user = {
  name: 'Alice',
  age: 25,
  address: {
    city: 'Minsk',
    country: 'Belarus'
  }
};

// –ü—Ä–æ—Å—Ç–∞—è –¥–µ—Å—Ç—Ä—É–∫—Ç—É—Ä–∏–∑–∞—Ü–∏—è
const { name, age } = user;
console.log(name, age); // 'Alice' 25

// –ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ
const { name: userName, age: userAge } = user;
console.log(userName, userAge); // 'Alice' 25

// –ó–Ω–∞—á–µ–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
const { name, role = 'user' } = user;
console.log(role); // 'user'

// –í–ª–æ–∂–µ–Ω–Ω–∞—è –¥–µ—Å—Ç—Ä—É–∫—Ç—É—Ä–∏–∑–∞—Ü–∏—è
const { address: { city, country } } = user;
console.log(city, country); // 'Minsk' 'Belarus'

// –í –ø–∞—Ä–∞–º–µ—Ç—Ä–∞—Ö —Ñ—É–Ω–∫—Ü–∏–∏
const greet = ({ name, age }) =&gt; {
  return `Hello, ${name}! You are ${age} years old.`;
};
greet(user); // 'Hello, Alice! You are 25 years old.'
</code></pre>
<h3 id="json"><a class="header" href="#json">JSON</a></h3>
<pre><code class="language-javascript">const user = { name: 'Alice', age: 25 };

// –û–±—ä–µ–∫—Ç ‚Üí JSON-—Å—Ç—Ä–æ–∫–∞
const jsonString = JSON.stringify(user);
// '{"name":"Alice","age":25}'

// JSON-—Å—Ç—Ä–æ–∫–∞ ‚Üí –û–±—ä–µ–∫—Ç
const parsed = JSON.parse(jsonString);
// { name: 'Alice', age: 25 }

// –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –≤—ã–≤–æ–¥
const formatted = JSON.stringify(user, null, 2);
/*
{
  "name": "Alice",
  "age": 25
}
*/
</code></pre>
<hr />
<h2 id="8-set-–∏-map"><a class="header" href="#8-set-–∏-map">8. Set –∏ Map</a></h2>
<h3 id="set-–ú–Ω–æ–∂–µ—Å—Ç–≤–æ"><a class="header" href="#set-–ú–Ω–æ–∂–µ—Å—Ç–≤–æ">Set (–ú–Ω–æ–∂–µ—Å—Ç–≤–æ)</a></h3>
<p>Set —Ö—Ä–∞–Ω–∏—Ç —Ç–æ–ª—å–∫–æ —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è.</p>
<pre><code class="language-javascript">// –°–æ–∑–¥–∞–Ω–∏–µ Set
const set = new Set();
const setFromArray = new Set([1, 2, 3, 2, 1]);
console.log(setFromArray); // Set { 1, 2, 3 }

// –ú–µ—Ç–æ–¥—ã Set
set.add(1);
set.add(2);
set.add(1); // –ò–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç—Å—è (—É–∂–µ –µ—Å—Ç—å)
set.has(1); // true
set.delete(1);
set.size;   // 1
set.clear();

// –ò—Ç–µ—Ä–∞—Ü–∏—è
for (const value of setFromArray) {
  console.log(value);
}

// –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –≤ –º–∞—Å—Å–∏–≤
const arr = [...setFromArray];
const arr2 = Array.from(setFromArray);

// –£–¥–∞–ª–µ–Ω–∏–µ –¥—É–±–ª–∏–∫–∞—Ç–æ–≤ –∏–∑ –º–∞—Å—Å–∏–≤–∞
const unique = [...new Set([1, 2, 2, 3, 3, 3])];
// [1, 2, 3]
</code></pre>
<h3 id="map-–•–µ—à-—Ç–∞–±–ª–∏—Ü–∞"><a class="header" href="#map-–•–µ—à-—Ç–∞–±–ª–∏—Ü–∞">Map (–•–µ—à-—Ç–∞–±–ª–∏—Ü–∞)</a></h3>
<p>Map —Ö—Ä–∞–Ω–∏—Ç –ø–∞—Ä—ã –∫–ª—é—á-–∑–Ω–∞—á–µ–Ω–∏–µ, –≥–¥–µ –∫–ª—é—á–æ–º –º–æ–∂–µ—Ç –±—ã—Ç—å –ª—é–±–æ–π —Ç–∏–ø.</p>
<pre><code class="language-javascript">// –°–æ–∑–¥–∞–Ω–∏–µ Map
const map = new Map();
const mapFromArray = new Map([
  ['name', 'Alice'],
  ['age', 25]
]);

// –ú–µ—Ç–æ–¥—ã Map
map.set('key', 'value');
map.get('key');     // 'value'
map.has('key');     // true
map.delete('key');
map.size;           // 0
map.clear();

// –ö–ª—é—á–∏ –ª—é–±–æ–≥–æ —Ç–∏–ø–∞ (–≤ –æ—Ç–ª–∏—á–∏–µ –æ—Ç –æ–±—ä–µ–∫—Ç–æ–≤)
const objKey = { id: 1 };
map.set(objKey, 'value for object');
map.get(objKey); // 'value for object'

// –ò—Ç–µ—Ä–∞—Ü–∏—è
for (const [key, value] of mapFromArray) {
  console.log(key, value);
}

map.keys();    // Iterator –ø–æ –∫–ª—é—á–∞–º
map.values();  // Iterator –ø–æ –∑–Ω–∞—á–µ–Ω–∏—è–º
map.entries(); // Iterator –ø–æ –ø–∞—Ä–∞–º [–∫–ª—é—á, –∑–Ω–∞—á–µ–Ω–∏–µ]
</code></pre>
<h3 id="–ö–æ–≥–¥–∞-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å-map-vs-object"><a class="header" href="#–ö–æ–≥–¥–∞-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å-map-vs-object">–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Map vs Object</a></h3>
<pre><code class="language-javascript">// –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Object –∫–æ–≥–¥–∞:
// - –ö–ª—é—á–∏ ‚Äî —Å—Ç—Ä–æ–∫–∏ –∏–ª–∏ —Å–∏–º–≤–æ–ª—ã
// - –ù—É–∂–µ–Ω JSON (Object –ª–µ–≥–∫–æ —Å–µ—Ä–∏–∞–ª–∏–∑—É–µ—Ç—Å—è)
// - –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö –∏–∑–≤–µ—Å—Ç–Ω–∞ –∑–∞—Ä–∞–Ω–µ–µ

// –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Map –∫–æ–≥–¥–∞:
// - –ö–ª—é—á–∏ –º–æ–≥—É—Ç –±—ã—Ç—å –ª—é–±–æ–≥–æ —Ç–∏–ø–∞
// - –í–∞–∂–µ–Ω –ø–æ—Ä—è–¥–æ–∫ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è
// - –ß–∞—Å—Ç–æ –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è/—É–¥–∞–ª—è—é—Ç—Å—è —ç–ª–µ–º–µ–Ω—Ç—ã
// - –ù—É–∂–Ω–æ –∑–Ω–∞—Ç—å —Ä–∞–∑–º–µ—Ä (.size)
</code></pre>
<hr />
<h2 id="9-callback-—Ñ—É–Ω–∫—Ü–∏–∏-–∏-—Ç–∞–π–º–µ—Ä—ã"><a class="header" href="#9-callback-—Ñ—É–Ω–∫—Ü–∏–∏-–∏-—Ç–∞–π–º–µ—Ä—ã">9. Callback-—Ñ—É–Ω–∫—Ü–∏–∏ –∏ —Ç–∞–π–º–µ—Ä—ã</a></h2>
<h3 id="callback-—Ñ—É–Ω–∫—Ü–∏–∏"><a class="header" href="#callback-—Ñ—É–Ω–∫—Ü–∏–∏">Callback-—Ñ—É–Ω–∫—Ü–∏–∏</a></h3>
<p>Callback ‚Äî —ç—Ç–æ —Ñ—É–Ω–∫—Ü–∏—è, –ø–µ—Ä–µ–¥–∞–≤–∞–µ–º–∞—è –∫–∞–∫ –∞—Ä–≥—É–º–µ–Ω—Ç –¥—Ä—É–≥–æ–π —Ñ—É–Ω–∫—Ü–∏–∏.</p>
<pre><code class="language-javascript">// –ü—Ä–æ—Å—Ç–æ–π callback
const processArray = (arr, callback) =&gt; {
  const result = [];
  for (const item of arr) {
    result.push(callback(item));
  }
  return result;
};

const numbers = [1, 2, 3, 4, 5];
const doubled = processArray(numbers, n =&gt; n * 2);
// [2, 4, 6, 8, 10]

// Callback —Å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏
const processWithIndex = (arr, callback) =&gt; {
  const result = [];
  for (let i = 0; i &lt; arr.length; i++) {
    result.push(callback(arr[i], i, arr));
  }
  return result;
};
</code></pre>
<h3 id="settimeout"><a class="header" href="#settimeout">setTimeout</a></h3>
<p>–í—ã–ø–æ–ª–Ω—è–µ—Ç —Ñ—É–Ω–∫—Ü–∏—é –æ–¥–∏–Ω —Ä–∞–∑ —á–µ—Ä–µ–∑ —É–∫–∞–∑–∞–Ω–Ω–æ–µ –≤—Ä–µ–º—è.</p>
<pre><code class="language-javascript">// –ü—Ä–æ—Å—Ç–æ–π setTimeout
setTimeout(() =&gt; {
  console.log('–í—ã–ø–æ–ª–Ω–µ–Ω–æ —á–µ—Ä–µ–∑ 1 —Å–µ–∫—É–Ω–¥—É');
}, 1000);

// –° —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º ID –¥–ª—è –æ—Ç–º–µ–Ω—ã
const timeoutId = setTimeout(() =&gt; {
  console.log('–≠—Ç–æ –Ω–µ –≤—ã–ø–æ–ª–Ω–∏—Ç—Å—è');
}, 5000);

clearTimeout(timeoutId); // –û—Ç–º–µ–Ω–∞ —Ç–∞–π–º–µ—Ä–∞

// –ü–µ—Ä–µ–¥–∞—á–∞ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤
setTimeout((name, greeting) =&gt; {
  console.log(`${greeting}, ${name}!`);
}, 1000, 'Alice', 'Hello');
</code></pre>
<h3 id="setinterval"><a class="header" href="#setinterval">setInterval</a></h3>
<p>–í—ã–ø–æ–ª–Ω—è–µ—Ç —Ñ—É–Ω–∫—Ü–∏—é –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏ —Å —É–∫–∞–∑–∞–Ω–Ω—ã–º –∏–Ω—Ç–µ—Ä–≤–∞–ª–æ–º.</p>
<pre><code class="language-javascript">// –ü—Ä–æ—Å—Ç–æ–π setInterval
let count = 0;
const intervalId = setInterval(() =&gt; {
  count++;
  console.log(`–ò—Ç–µ—Ä–∞—Ü–∏—è ${count}`);
  
  if (count &gt;= 5) {
    clearInterval(intervalId); // –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–æ—Å–ª–µ 5 –∏—Ç–µ—Ä–∞—Ü–∏–π
  }
}, 1000);

// –ß–∞—Å—ã
const showTime = () =&gt; {
  const now = new Date();
  console.log(now.toLocaleTimeString());
};
setInterval(showTime, 1000);
</code></pre>
<h3 id="–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–π-–ø—Ä–∏–º–µ—Ä-debounce"><a class="header" href="#–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–π-–ø—Ä–∏–º–µ—Ä-debounce">–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–π –ø—Ä–∏–º–µ—Ä: debounce</a></h3>
<pre><code class="language-javascript">const debounce = (fn, delay) =&gt; {
  let timeoutId;
  return (...args) =&gt; {
    clearTimeout(timeoutId);
    timeoutId = setTimeout(() =&gt; fn(...args), delay);
  };
};

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ: —Ñ—É–Ω–∫—Ü–∏—è –≤—ã–∑–æ–≤–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ 300–º—Å
// –ø–æ—Å–ª–µ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –≤—ã–∑–æ–≤–∞
const search = debounce((query) =&gt; {
  console.log(`–ü–æ–∏—Å–∫: ${query}`);
}, 300);

search('a');
search('ab');
search('abc'); // –¢–æ–ª—å–∫–æ —ç—Ç–æ—Ç –≤—ã–∑–æ–≤ –≤—ã–ø–æ–ª–Ω–∏—Ç—Å—è
</code></pre>
<hr />
<h2 id="10-–ó–∞–º—ã–∫–∞–Ω–∏—è"><a class="header" href="#10-–ó–∞–º—ã–∫–∞–Ω–∏—è">10. –ó–∞–º—ã–∫–∞–Ω–∏—è</a></h2>
<h3 id="–ß—Ç–æ-—Ç–∞–∫–æ–µ-–∑–∞–º—ã–∫–∞–Ω–∏–µ"><a class="header" href="#–ß—Ç–æ-—Ç–∞–∫–æ–µ-–∑–∞–º—ã–∫–∞–Ω–∏–µ">–ß—Ç–æ —Ç–∞–∫–æ–µ –∑–∞–º—ã–∫–∞–Ω–∏–µ</a></h3>
<p>–ó–∞–º—ã–∫–∞–Ω–∏–µ ‚Äî —ç—Ç–æ —Ñ—É–Ω–∫—Ü–∏—è, –∫–æ—Ç–æ—Ä–∞—è –∑–∞–ø–æ–º–∏–Ω–∞–µ—Ç —Å–≤–æ—ë –ª–µ–∫—Å–∏—á–µ—Å–∫–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ –¥–∞–∂–µ –ø–æ—Å–ª–µ —Ç–æ–≥–æ, –∫–∞–∫ –≤–Ω–µ—à–Ω—è—è —Ñ—É–Ω–∫—Ü–∏—è –∑–∞–≤–µ—Ä—à–∏–ª–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ.</p>
<pre><code class="language-javascript">const createCounter = () =&gt; {
  let count = 0; // –≠—Ç–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è "–∑–∞–º–∫–Ω—É—Ç–∞" –≤–Ω—É—Ç—Ä–∏
  
  return () =&gt; {
    count++;
    return count;
  };
};

const counter = createCounter();
console.log(counter()); // 1
console.log(counter()); // 2
console.log(counter()); // 3

// –ö–∞–∂–¥—ã–π –≤—ã–∑–æ–≤ createCounter —Å–æ–∑–¥–∞—ë—Ç –Ω–æ–≤–æ–µ –∑–∞–º—ã–∫–∞–Ω–∏–µ
const counter2 = createCounter();
console.log(counter2()); // 1 (–Ω–µ–∑–∞–≤–∏—Å–∏–º—ã–π —Å—á—ë—Ç—á–∏–∫)
</code></pre>
<h3 id="–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ-–ø—Ä–∏–º–µ—Ä—ã-–∑–∞–º—ã–∫–∞–Ω–∏–π"><a class="header" href="#–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ-–ø—Ä–∏–º–µ—Ä—ã-–∑–∞–º—ã–∫–∞–Ω–∏–π">–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–∏–º–µ—Ä—ã –∑–∞–º—ã–∫–∞–Ω–∏–π</a></h3>
<pre><code class="language-javascript">// –§–∞–±—Ä–∏–∫–∞ —Ñ—É–Ω–∫—Ü–∏–π —É–º–Ω–æ–∂–µ–Ω–∏—è
const createMultiplier = (factor) =&gt; {
  return (number) =&gt; number * factor;
};

const double = createMultiplier(2);
const triple = createMultiplier(3);

double(5);  // 10
triple(5);  // 15

// –ü—Ä–∏–≤–∞—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
const createBankAccount = (initialBalance) =&gt; {
  let balance = initialBalance; // –ü—Ä–∏–≤–∞—Ç–Ω–∞—è –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è
  
  return {
    deposit: (amount) =&gt; {
      balance += amount;
      return balance;
    },
    withdraw: (amount) =&gt; {
      if (amount &lt;= balance) {
        balance -= amount;
        return balance;
      }
      return '–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Å—Ä–µ–¥—Å—Ç–≤';
    },
    getBalance: () =&gt; balance
  };
};

const account = createBankAccount(1000);
account.deposit(500);   // 1500
account.withdraw(200);  // 1300
account.getBalance();   // 1300
// account.balance ‚Äî undefined (–Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞ –Ω–∞–ø—Ä—è–º—É—é)

// –ú–µ–º–æ–∏–∑–∞—Ü–∏—è
const memoize = (fn) =&gt; {
  const cache = new Map();
  return (...args) =&gt; {
    const key = JSON.stringify(args);
    if (cache.has(key)) {
      return cache.get(key);
    }
    const result = fn(...args);
    cache.set(key, result);
    return result;
  };
};

const expensiveCalculation = memoize((n) =&gt; {
  console.log('–í—ã—á–∏—Å–ª–µ–Ω–∏–µ...');
  return n * n;
});

expensiveCalculation(5); // '–í—ã—á–∏—Å–ª–µ–Ω–∏–µ...' ‚Üí 25
expensiveCalculation(5); // 25 (–∏–∑ –∫—ç—à–∞, –±–µ–∑ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è)
</code></pre>
<hr />
<h2 id="11-asyncawait"><a class="header" href="#11-asyncawait">11. Async/Await</a></h2>
<h3 id="–ü—Ä–æ–º–∏—Å—ã-promise"><a class="header" href="#–ü—Ä–æ–º–∏—Å—ã-promise">–ü—Ä–æ–º–∏—Å—ã (Promise)</a></h3>
<p>Promise ‚Äî –æ–±—ä–µ–∫—Ç, –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—é—â–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–π –æ–ø–µ—Ä–∞—Ü–∏–∏.</p>
<pre><code class="language-javascript">// –°–æ–∑–¥–∞–Ω–∏–µ Promise
const fetchData = () =&gt; {
  return new Promise((resolve, reject) =&gt; {
    setTimeout(() =&gt; {
      const success = true;
      if (success) {
        resolve({ data: '–î–∞–Ω–Ω—ã–µ –ø–æ–ª—É—á–µ–Ω—ã' });
      } else {
        reject(new Error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏'));
      }
    }, 1000);
  });
};

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å .then/.catch
fetchData()
  .then(result =&gt; console.log(result))
  .catch(error =&gt; console.error(error));
</code></pre>
<h3 id="asyncawait"><a class="header" href="#asyncawait">async/await</a></h3>
<p>–°–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–∏–π —Å–∞—Ö–∞—Ä –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ø—Ä–æ–º–∏—Å–∞–º–∏.</p>
<pre><code class="language-javascript">// –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è
const getData = async () =&gt; {
  try {
    const response = await fetch('https://api.example.com/data');
    const data = await response.json();
    return data;
  } catch (error) {
    console.error('–û—à–∏–±–∫–∞:', error);
    throw error;
  }
};

// –í—ã–∑–æ–≤ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–∏
const main = async () =&gt; {
  const data = await getData();
  console.log(data);
};

main();
</code></pre>
<h3 id="–ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–µ-–≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ"><a class="header" href="#–ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–µ-–≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ">–ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ</a></h3>
<pre><code class="language-javascript">// Promise.all ‚Äî –∂–¥—ë—Ç –≤—Å–µ –ø—Ä–æ–º–∏—Å—ã
const fetchAll = async () =&gt; {
  const [users, posts, comments] = await Promise.all([
    fetch('/api/users').then(r =&gt; r.json()),
    fetch('/api/posts').then(r =&gt; r.json()),
    fetch('/api/comments').then(r =&gt; r.json())
  ]);
  return { users, posts, comments };
};

// Promise.race ‚Äî –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø–µ—Ä–≤—ã–π –∑–∞–≤–µ—Ä—à–∏–≤—à–∏–π—Å—è
const fastest = await Promise.race([
  fetch('/api/server1'),
  fetch('/api/server2')
]);

// Promise.allSettled ‚Äî –∂–¥—ë—Ç –≤—Å–µ, –¥–∞–∂–µ —Å –æ—à–∏–±–∫–∞–º–∏
const results = await Promise.allSettled([
  fetch('/api/endpoint1'),
  fetch('/api/endpoint2'),
  Promise.reject('Error')
]);
// [{ status: 'fulfilled', value: ... }, { status: 'rejected', reason: ... }]
</code></pre>
<h3 id="–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–π-–ø—Ä–∏–º–µ—Ä-–∑–∞–≥—Ä—É–∑–∫–∞-–∫—É—Ä—Å–æ–≤-–≤–∞–ª—é—Ç"><a class="header" href="#–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–π-–ø—Ä–∏–º–µ—Ä-–∑–∞–≥—Ä—É–∑–∫–∞-–∫—É—Ä—Å–æ–≤-–≤–∞–ª—é—Ç">–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–π –ø—Ä–∏–º–µ—Ä: –∑–∞–≥—Ä—É–∑–∫–∞ –∫—É—Ä—Å–æ–≤ –≤–∞–ª—é—Ç</a></h3>
<pre><code class="language-javascript">const fetchExchangeRates = async (baseCurrency = 'USD') =&gt; {
  try {
    const url = `https://api.exchangerate-api.com/v4/latest/${baseCurrency}`;
    const response = await fetch(url);
    
    if (!response.ok) {
      throw new Error(`HTTP error: ${response.status}`);
    }
    
    const data = await response.json();
    return data.rates;
  } catch (error) {
    console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –∫—É—Ä—Å–æ–≤:', error);
    return null;
  }
};

const convertCurrency = async (amount, from, to) =&gt; {
  const rates = await fetchExchangeRates(from);
  if (!rates || !rates[to]) {
    throw new Error('–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–∞—è –≤–∞–ª—é—Ç–∞');
  }
  return amount * rates[to];
};

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
const result = await convertCurrency(100, 'USD', 'EUR');
console.log(`100 USD = ${result.toFixed(2)} EUR`);
</code></pre>
<hr />
<h2 id="12-–û–±—Ä–∞–±–æ—Ç–∫–∞-–æ—à–∏–±–æ–∫"><a class="header" href="#12-–û–±—Ä–∞–±–æ—Ç–∫–∞-–æ—à–∏–±–æ–∫">12. –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫</a></h2>
<h3 id="trycatchfinally"><a class="header" href="#trycatchfinally">try/catch/finally</a></h3>
<pre><code class="language-javascript">const divideNumbers = (a, b) =&gt; {
  try {
    if (b === 0) {
      throw new Error('–î–µ–ª–µ–Ω–∏–µ –Ω–∞ –Ω–æ–ª—å');
    }
    return a / b;
  } catch (error) {
    console.error('–û—à–∏–±–∫–∞:', error.message);
    return null;
  } finally {
    console.log('–û–ø–µ—Ä–∞—Ü–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∞');
  }
};

divideNumbers(10, 2);  // 5, '–û–ø–µ—Ä–∞—Ü–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∞'
divideNumbers(10, 0);  // '–û—à–∏–±–∫–∞: –î–µ–ª–µ–Ω–∏–µ –Ω–∞ –Ω–æ–ª—å', null, '–û–ø–µ—Ä–∞—Ü–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∞'
</code></pre>
<h3 id="–¢–∏–ø—ã-–æ—à–∏–±–æ–∫"><a class="header" href="#–¢–∏–ø—ã-–æ—à–∏–±–æ–∫">–¢–∏–ø—ã –æ—à–∏–±–æ–∫</a></h3>
<pre><code class="language-javascript">// –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ —Ç–∏–ø—ã –æ—à–∏–±–æ–∫
throw new Error('–û–±—â–∞—è –æ—à–∏–±–∫–∞');
throw new TypeError('–ù–µ–≤–µ—Ä–Ω—ã–π —Ç–∏–ø');
throw new RangeError('–ó–Ω–∞—á–µ–Ω–∏–µ –≤–Ω–µ –¥–∏–∞–ø–∞–∑–æ–Ω–∞');
throw new ReferenceError('–ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è –Ω–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∞');
throw new SyntaxError('–°–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞');

// –°–æ–∑–¥–∞–Ω–∏–µ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ —Ç–∏–ø–∞ –æ—à–∏–±–∫–∏
class ValidationError extends Error {
  constructor(message, field) {
    super(message);
    this.name = 'ValidationError';
    this.field = field;
  }
}

const validateUser = (user) =&gt; {
  if (!user.name) {
    throw new ValidationError('–ò–º—è –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ', 'name');
  }
  if (!user.email) {
    throw new ValidationError('Email –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω', 'email');
  }
  return true;
};

try {
  validateUser({ name: 'Alice' });
} catch (error) {
  if (error instanceof ValidationError) {
    console.log(`–û—à–∏–±–∫–∞ –≤ –ø–æ–ª–µ ${error.field}: ${error.message}`);
  } else {
    throw error; // –ü—Ä–æ–±—Ä–∞—Å—ã–≤–∞–µ–º –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–µ –æ—à–∏–±–∫–∏
  }
}
</code></pre>
<h3 id="–û–±—Ä–∞–±–æ—Ç–∫–∞-–æ—à–∏–±–æ–∫-–≤-asyncawait"><a class="header" href="#–û–±—Ä–∞–±–æ—Ç–∫–∞-–æ—à–∏–±–æ–∫-–≤-asyncawait">–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –≤ async/await</a></h3>
<pre><code class="language-javascript">// –° try/catch
const fetchData = async () =&gt; {
  try {
    const response = await fetch('/api/data');
    if (!response.ok) {
      throw new Error(`HTTP ${response.status}`);
    }
    return await response.json();
  } catch (error) {
    if (error.name === 'TypeError') {
      console.error('–°–µ—Ç–µ–≤–∞—è –æ—à–∏–±–∫–∞');
    } else {
      console.error('–û—à–∏–±–∫–∞:', error.message);
    }
    return null;
  }
};

// –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞: –æ–±—ë—Ä—Ç–∫–∞ –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫
const safeAsync = async (asyncFn) =&gt; {
  try {
    const result = await asyncFn();
    return [result, null];
  } catch (error) {
    return [null, error];
  }
};

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
const [data, error] = await safeAsync(() =&gt; fetch('/api/data'));
if (error) {
  console.error(error);
} else {
  console.log(data);
}
</code></pre>
<hr />
<h2 id="13-–ú–æ–¥—É–ª—å–Ω–æ—Å—Ç—å"><a class="header" href="#13-–ú–æ–¥—É–ª—å–Ω–æ—Å—Ç—å">13. –ú–æ–¥—É–ª—å–Ω–æ—Å—Ç—å</a></h2>
<h3 id="commonjs-cjs"><a class="header" href="#commonjs-cjs">CommonJS (CJS)</a></h3>
<p>–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ Node.js –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é.</p>
<pre><code class="language-javascript">// math.js ‚Äî —ç–∫—Å–ø–æ—Ä—Ç
const add = (a, b) =&gt; a + b;
const subtract = (a, b) =&gt; a - b;
const multiply = (a, b) =&gt; a * b;

module.exports = { add, subtract, multiply };
// –∏–ª–∏
module.exports.add = add;
exports.subtract = subtract;

// app.js ‚Äî –∏–º–ø–æ—Ä—Ç
const math = require('./math');
console.log(math.add(2, 3)); // 5

// –î–µ—Å—Ç—Ä—É–∫—Ç—É—Ä–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –∏–º–ø–æ—Ä—Ç–µ
const { add, subtract } = require('./math');
console.log(add(2, 3)); // 5
</code></pre>
<h3 id="es-modules-esm"><a class="header" href="#es-modules-esm">ES Modules (ESM)</a></h3>
<p>–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π —Å—Ç–∞–Ω–¥–∞—Ä—Ç –º–æ–¥—É–ª–µ–π JavaScript.</p>
<pre><code class="language-javascript">// math.js ‚Äî –∏–º–µ–Ω–æ–≤–∞–Ω–Ω—ã–π —ç–∫—Å–ø–æ—Ä—Ç
export const add = (a, b) =&gt; a + b;
export const subtract = (a, b) =&gt; a - b;

// –∏–ª–∏ –≤ –∫–æ–Ω—Ü–µ —Ñ–∞–π–ª–∞
const multiply = (a, b) =&gt; a * b;
const divide = (a, b) =&gt; a / b;
export { multiply, divide };

// –≠–∫—Å–ø–æ—Ä—Ç –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
const Calculator = {
  add: (a, b) =&gt; a + b,
  subtract: (a, b) =&gt; a - b
};
export default Calculator;

// app.js ‚Äî –∏–º–µ–Ω–æ–≤–∞–Ω–Ω—ã–π –∏–º–ø–æ—Ä—Ç
import { add, subtract } from './math.js';

// –ò–º–ø–æ—Ä—Ç –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
import Calculator from './math.js';

// –ò–º–ø–æ—Ä—Ç –≤—Å–µ–≥–æ –º–æ–¥—É–ª—è
import * as math from './math.js';
console.log(math.add(2, 3));

// –ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ –ø—Ä–∏ –∏–º–ø–æ—Ä—Ç–µ
import { add as sum } from './math.js';
</code></pre>
<h3 id="–ù–∞—Å—Ç—Ä–æ–π–∫–∞-esm-–≤-nodejs"><a class="header" href="#–ù–∞—Å—Ç—Ä–æ–π–∫–∞-esm-–≤-nodejs">–ù–∞—Å—Ç—Ä–æ–π–∫–∞ ESM –≤ Node.js</a></h3>
<pre><code class="language-json">// package.json
{
  "type": "module"
}
</code></pre>
<p>–ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ <code>.mjs</code> –¥–ª—è ES –º–æ–¥—É–ª–µ–π.</p>
<hr />
<h2 id="14-–†–µ–∫—É—Ä—Å–∏—è"><a class="header" href="#14-–†–µ–∫—É—Ä—Å–∏—è">14. –†–µ–∫—É—Ä—Å–∏—è</a></h2>
<h3 id="–û—Å–Ω–æ–≤—ã-—Ä–µ–∫—É—Ä—Å–∏–∏"><a class="header" href="#–û—Å–Ω–æ–≤—ã-—Ä–µ–∫—É—Ä—Å–∏–∏">–û—Å–Ω–æ–≤—ã —Ä–µ–∫—É—Ä—Å–∏–∏</a></h3>
<p>–†–µ–∫—É—Ä—Å–∏—è ‚Äî —ç—Ç–æ –≤—ã–∑–æ–≤ —Ñ—É–Ω–∫—Ü–∏–∏ —Å–∞–º–æ–π —Å–µ–±—è.</p>
<pre><code class="language-javascript">// –§–∞–∫—Ç–æ—Ä–∏–∞–ª
const factorial = (n) =&gt; {
  if (n &lt;= 1) return 1;        // –ë–∞–∑–æ–≤—ã–π —Å–ª—É—á–∞–π
  return n * factorial(n - 1); // –†–µ–∫—É—Ä—Å–∏–≤–Ω—ã–π –≤—ã–∑–æ–≤
};

factorial(5); // 120 (5 * 4 * 3 * 2 * 1)

// –ß–∏—Å–ª–∞ –§–∏–±–æ–Ω–∞—á—á–∏
const fibonacci = (n) =&gt; {
  if (n &lt;= 1) return n;
  return fibonacci(n - 1) + fibonacci(n - 2);
};

fibonacci(10); // 55
</code></pre>
<h3 id="–°—Ç–µ–∫-–≤—ã–∑–æ–≤–æ–≤"><a class="header" href="#–°—Ç–µ–∫-–≤—ã–∑–æ–≤–æ–≤">–°—Ç–µ–∫ –≤—ã–∑–æ–≤–æ–≤</a></h3>
<pre><code class="language-javascript">// –ö–∞–∂–¥—ã–π —Ä–µ–∫—É—Ä—Å–∏–≤–Ω—ã–π –≤—ã–∑–æ–≤ –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –≤ —Å—Ç–µ–∫
// –ü—Ä–∏ —Å–ª–∏—à–∫–æ–º –≥–ª—É–±–æ–∫–æ–π —Ä–µ–∫—É—Ä—Å–∏–∏ –≤–æ–∑–Ω–∏–∫–∞–µ—Ç Stack Overflow

// –ü—Ä–∏–º–µ—Ä: —Å—É–º–º–∞ —á–∏—Å–µ–ª –æ—Ç 1 –¥–æ n
const sum = (n) =&gt; {
  console.log(`sum(${n})`); // –î–ª—è –æ—Ç–ª–∞–¥–∫–∏
  if (n &lt;= 0) return 0;
  return n + sum(n - 1);
};

sum(5);
// sum(5) ‚Üí sum(4) ‚Üí sum(3) ‚Üí sum(2) ‚Üí sum(1) ‚Üí sum(0)
// –°—Ç–µ–∫ —Ä–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞–µ—Ç—Å—è: 0 + 1 + 2 + 3 + 4 + 5 = 15
</code></pre>
<h3 id="–•–≤–æ—Å—Ç–æ–≤–∞—è-—Ä–µ–∫—É—Ä—Å–∏—è"><a class="header" href="#–•–≤–æ—Å—Ç–æ–≤–∞—è-—Ä–µ–∫—É—Ä—Å–∏—è">–•–≤–æ—Å—Ç–æ–≤–∞—è —Ä–µ–∫—É—Ä—Å–∏—è</a></h3>
<p>–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è, –∫–æ–≥–¥–∞ —Ä–µ–∫—É—Ä—Å–∏–≤–Ω—ã–π –≤—ã–∑–æ–≤ ‚Äî –ø–æ—Å–ª–µ–¥–Ω—è—è –æ–ø–µ—Ä–∞—Ü–∏—è.</p>
<pre><code class="language-javascript">// –û–±—ã—á–Ω–∞—è —Ä–µ–∫—É—Ä—Å–∏—è (–Ω–µ —Ö–≤–æ—Å—Ç–æ–≤–∞—è)
const factorial = (n) =&gt; {
  if (n &lt;= 1) return 1;
  return n * factorial(n - 1); // –£–º–Ω–æ–∂–µ–Ω–∏–µ –ü–û–°–õ–ï —Ä–µ–∫—É—Ä—Å–∏–∏
};

// –•–≤–æ—Å—Ç–æ–≤–∞—è —Ä–µ–∫—É—Ä—Å–∏—è
const factorialTail = (n, acc = 1) =&gt; {
  if (n &lt;= 1) return acc;
  return factorialTail(n - 1, n * acc); // –†–µ–∫—É—Ä—Å–∏—è ‚Äî –ø–æ—Å–ª–µ–¥–Ω—è—è –æ–ø–µ—Ä–∞—Ü–∏—è
};

factorialTail(5); // 120
</code></pre>
<h3 id="–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–π-–ø—Ä–∏–º–µ—Ä-–æ–±—Ö–æ–¥-–¥–µ—Ä–µ–≤–∞"><a class="header" href="#–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–π-–ø—Ä–∏–º–µ—Ä-–æ–±—Ö–æ–¥-–¥–µ—Ä–µ–≤–∞">–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–π –ø—Ä–∏–º–µ—Ä: –æ–±—Ö–æ–¥ –¥–µ—Ä–µ–≤–∞</a></h3>
<pre><code class="language-javascript">// –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–µ—Ä–µ–≤–∞
const fileSystem = {
  name: 'root',
  type: 'folder',
  children: [
    {
      name: 'src',
      type: 'folder',
      children: [
        { name: 'index.js', type: 'file' },
        { name: 'utils.js', type: 'file' }
      ]
    },
    { name: 'README.md', type: 'file' }
  ]
};

// –†–µ–∫—É—Ä—Å–∏–≤–Ω—ã–π –æ–±—Ö–æ–¥
const listFiles = (node, path = '') =&gt; {
  const currentPath = path ? `${path}/${node.name}` : node.name;
  
  if (node.type === 'file') {
    console.log(currentPath);
    return;
  }
  
  for (const child of node.children || []) {
    listFiles(child, currentPath);
  }
};

listFiles(fileSystem);
// root/src/index.js
// root/src/utils.js
// root/README.md
</code></pre>
<hr />
<h2 id="–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ-—Ä–µ—Å—É—Ä—Å—ã"><a class="header" href="#–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ-—Ä–µ—Å—É—Ä—Å—ã">–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã</a></h2>
<h3 id="–°—Å—ã–ª–∫–∏-–∞–≤—Ç–æ—Ä–∞-–∫—É—Ä—Å–∞"><a class="header" href="#–°—Å—ã–ª–∫–∏-–∞–≤—Ç–æ—Ä–∞-–∫—É—Ä—Å–∞">–°—Å—ã–ª–∫–∏ –∞–≤—Ç–æ—Ä–∞ –∫—É—Ä—Å–∞</a></h3>
<ul>
<li><strong>GitHub –∞–≤—Ç–æ—Ä–∞</strong>: <a href="https://github.com/tshemsedinov">github.com/tshemsedinov</a></li>
<li><strong>GitHub –∫—É—Ä—Å–∞</strong>: <a href="https://github.com/HowProgrammingWorks">github.com/HowProgrammingWorks</a></li>
<li><strong>Telegram –∫–∞–Ω–∞–ª</strong>: <a href="https://t.me/HowProgrammingWorks">t.me/HowProgrammingWorks</a></li>
<li><strong>Telegram –≥—Ä—É–ø–ø–∞</strong>: <a href="https://t.me/metaedu">t.me/metaedu</a></li>
<li><strong>–û–≥–ª–∞–≤–ª–µ–Ω–∏–µ –∫—É—Ä—Å–∞</strong>: <a href="https://github.com/HowProgrammingWorks/Index">github.com/HowProgrammingWorks/Index</a></li>
</ul>
<h3 id="–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏-–ø–æ-–¥–∞–ª—å–Ω–µ–π—à–µ–º—É-–∏–∑—É—á–µ–Ω–∏—é"><a class="header" href="#–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏-–ø–æ-–¥–∞–ª—å–Ω–µ–π—à–µ–º—É-–∏–∑—É—á–µ–Ω–∏—é">–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –¥–∞–ª—å–Ω–µ–π—à–µ–º—É –∏–∑—É—á–µ–Ω–∏—é</a></h3>
<ol>
<li><strong>–§—É–Ω–¥–∞–º–µ–Ω—Ç–∞–ª—å–Ω—ã–π –∫—É—Ä—Å</strong> –¢–∏–º—É—Ä–∞ –®–µ–º—Å–µ–¥–∏–Ω–æ–≤–∞ (–±–æ–ª–µ–µ –≥–ª—É–±–æ–∫–æ–µ –∏–∑—É—á–µ–Ω–∏–µ)</li>
<li><strong>MDN Web Docs</strong> ‚Äî –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è JavaScript</li>
<li><strong>JavaScript.info</strong> ‚Äî —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π —É—á–µ–±–Ω–∏–∫ JavaScript</li>
<li><strong>TypeScript</strong> ‚Äî —Ç–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –Ω–∞–¥–º–Ω–æ–∂–µ—Å—Ç–≤–æ JavaScript</li>
</ol>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="–ü–æ–ª–Ω–æ–µ-—Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ-–ø–æ-–æ–±—Ä–∞–±–æ—Ç–∫–µ-–æ—à–∏–±–æ–∫-–≤-javascript-–∏-nodejs"><a class="header" href="#–ü–æ–ª–Ω–æ–µ-—Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ-–ø–æ-–æ–±—Ä–∞–±–æ—Ç–∫–µ-–æ—à–∏–±–æ–∫-–≤-javascript-–∏-nodejs">–ü–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –æ–±—Ä–∞–±–æ—Ç–∫–µ –æ—à–∏–±–æ–∫ –≤ JavaScript –∏ Node.js</a></h1>
<h2 id="–í–≤–µ–¥–µ–Ω–∏–µ-–ü–æ—á–µ–º—É-–æ–±—Ä–∞–±–æ—Ç–∫–∞-–æ—à–∏–±–æ–∫-–∫—Ä–∏—Ç–∏—á–Ω–∞"><a class="header" href="#–í–≤–µ–¥–µ–Ω–∏–µ-–ü–æ—á–µ–º—É-–æ–±—Ä–∞–±–æ—Ç–∫–∞-–æ—à–∏–±–æ–∫-–∫—Ä–∏—Ç–∏—á–Ω–∞">–í–≤–µ–¥–µ–Ω–∏–µ: –ü–æ—á–µ–º—É –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –∫—Ä–∏—Ç–∏—á–Ω–∞</a></h2>
<p>–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ ‚Äî —ç—Ç–æ <strong>–æ–¥–Ω–∞ –∏–∑ —Ç—Ä—ë—Ö –æ—Å–Ω–æ–≤–Ω—ã—Ö —Å–æ—Å—Ç–∞–≤–ª—è—é—â–∏—Ö —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏</strong>, –Ω–∞—Ä–∞–≤–Ω–µ —Å –Ω–∞–ø–∏—Å–∞–Ω–∏–µ–º –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏ –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ–º. –ù–∞ –Ω–µ—ë –º–æ–∂–µ—Ç –ø—Ä–∏—Ö–æ–¥–∏—Ç—å—Å—è –¥–æ 30% –æ—Ç –æ–±—â–µ–≥–æ –æ–±—ä—ë–º–∞ —Ä–∞–±–æ—Ç—ã –≤ production-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏. –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –Ω–∞–¥—ë–∂–Ω–æ—Å—Ç—å, –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º–æ—Å—Ç—å —Å–∏—Å—Ç–µ–º—ã.</p>
<p>–ö —Å–æ–∂–∞–ª–µ–Ω–∏—é, –≤ –ø–æ—Å–ª–µ–¥–Ω–∏–µ –≥–æ–¥—ã –Ω–∞–±–ª—é–¥–∞–µ—Ç—Å—è –æ–ø–∞—Å–Ω–∞—è —Ç–µ–Ω–¥–µ–Ω—Ü–∏—è: —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∏ –Ω–∞—á–∏–Ω–∞—é—Ç –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å –æ—à–∏–±–∫–∏ –∫–∞–∫ —á–∞—Å—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ —Ñ—É–Ω–∫—Ü–∏–∏ (–ø–∞—Ç—Ç–µ—Ä–Ω Go), –≤–º–µ—Å—Ç–æ —Ç–æ–≥–æ —á—Ç–æ–±—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∏—Å–∫–ª—é—á–µ–Ω–∏—è. –≠—Ç–æ –ø—Ä–∏–≤–æ–¥–∏—Ç –∫ –ø–æ—Ç–µ—Ä–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ –æ—à–∏–±–∫–∏ –∏ —É—Å–ª–æ–∂–Ω—è–µ—Ç –æ—Ç–ª–∞–¥–∫—É.</p>
<hr />
<h2 id="–ö–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è-–æ—à–∏–±–æ–∫"><a class="header" href="#–ö–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è-–æ—à–∏–±–æ–∫">–ö–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è –æ—à–∏–±–æ–∫</a></h2>
<h3 id="1-–û–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ-–æ—à–∏–±–∫–∏-operational-errors"><a class="header" href="#1-–û–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ-–æ—à–∏–±–∫–∏-operational-errors">1. –û–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ –æ—à–∏–±–∫–∏ (Operational Errors)</a></h3>
<p>–≠—Ç–æ –æ—à–∏–±–∫–∏, —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å –≤–Ω–µ—à–Ω–∏–º–∏ —Ä–µ—Å—É—Ä—Å–∞–º–∏ –∏ —É—Å–ª–æ–≤–∏—è–º–∏, –∫–æ—Ç–æ—Ä—ã–µ <strong>–º–æ–≥—É—Ç –±—ã—Ç—å –æ–±—Ä–∞–±–æ—Ç–∞–Ω—ã</strong> –∏ –æ—Ç –∫–æ—Ç–æ—Ä—ã—Ö –º–æ–∂–Ω–æ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å—Å—è.</p>
<p><strong>–ü—Ä–∏–º–µ—Ä—ã:</strong></p>
<ul>
<li>–°–æ–∫–µ—Ç –Ω–µ —Å–º–æ–≥ –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è</li>
<li>–§–∞–π–ª –Ω–µ –Ω–∞–π–¥–µ–Ω</li>
<li>–ù–µ—Ç —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö</li>
<li>–ò—Å—Ç–µ–∫–ª–æ –≤—Ä–µ–º—è –æ–∂–∏–¥–∞–Ω–∏—è (timeout)</li>
<li>–ö–æ–Ω—Ç—Ä–æ–ª—å–Ω–∞—è —Å—É–º–º–∞ –Ω–µ —Å–æ–≤–ø–∞–ª–∞</li>
</ul>
<p><strong>–°—Ç—Ä–∞—Ç–µ–≥–∏—è –æ–±—Ä–∞–±–æ—Ç–∫–∏:</strong></p>
<pre><code class="language-typescript">// Exponential backoff retry strategy
async function connectWithRetry(
  maxRetries: number = 5,
  delays: number[] = [5000, 5000, 20000, 60000, 600000]
): Promise&lt;Connection&gt; {
  for (let attempt = 0; attempt &lt; maxRetries; attempt++) {
    try {
      return await connectToDatabase();
    } catch (error) {
      if (attempt === maxRetries - 1) {
        throw new Error(`Failed to connect after ${maxRetries} attempts`, { 
          cause: error 
        });
      }
      
      const delay = delays[attempt] || delays[delays.length - 1];
      await sleep(delay);
    }
  }
}

function sleep(ms: number): Promise&lt;void&gt; {
  return new Promise(resolve =&gt; setTimeout(resolve, ms));
}
</code></pre>
<h3 id="2-–ú—è–≥–∫–∏–µ-–æ—à–∏–±–∫–∏-soft-errors"><a class="header" href="#2-–ú—è–≥–∫–∏–µ-–æ—à–∏–±–∫–∏-soft-errors">2. –ú—è–≥–∫–∏–µ –æ—à–∏–±–∫–∏ (Soft Errors)</a></h3>
<p>–≠—Ç–æ <strong>–æ–∂–∏–¥–∞–µ–º—ã–µ –±–∏–∑–Ω–µ—Å-—Å–æ–±—ã—Ç–∏—è</strong>, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ —è–≤–ª—è—é—Ç—Å—è –∏—Å–∫–ª—é—á–µ–Ω–∏—è–º–∏. –ò—Ö –Ω–µ –Ω—É–∂–Ω–æ –≤—ã–±—Ä–∞—Å—ã–≤–∞—Ç—å –∫–∞–∫ <code>throw</code>.</p>
<p><strong>–ü—Ä–∏–º–µ—Ä—ã:</strong></p>
<ul>
<li>–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –Ω–∞–π–¥–µ–Ω –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö</li>
<li>–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ª–æ–≥–∏–Ω –∏–ª–∏ –ø–∞—Ä–æ–ª—å</li>
<li>–°–∫–ª–∞–¥ —Å –Ω–æ–º–µ—Ä–æ–º 18 –Ω–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω –≤ —Å–∏—Å—Ç–µ–º–µ</li>
<li>–ì–æ—Ä–æ–¥ —Å —Ç–∞–∫–∏–º –Ω–∞–∑–≤–∞–Ω–∏–µ–º –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç</li>
<li>–û—à–∏–±–∫–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö</li>
</ul>
<p><strong>–ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞:</strong></p>
<pre><code class="language-typescript">interface UserResult {
  success: boolean;
  user?: User;
  error?: string;
}

async function getUserById(userId: string): Promise&lt;UserResult&gt; {
  try {
    const user = await database.users.findById(userId);
    
    if (!user) {
      return {
        success: false,
        error: 'User not found'
      };
    }
    
    return {
      success: true,
      user
    };
  } catch (error) {
    // –≠—Ç–æ —É–∂–µ —Å–∏—Å—Ç–µ–º–Ω–∞—è –æ—à–∏–±–∫–∞!
    throw new Error('Failed to retrieve user', { cause: error });
  }
}
</code></pre>
<h3 id="3-–ñ—ë—Å—Ç–∫–∏–µ-–æ—à–∏–±–∫–∏-hard-errors"><a class="header" href="#3-–ñ—ë—Å—Ç–∫–∏–µ-–æ—à–∏–±–∫–∏-hard-errors">3. –ñ—ë—Å—Ç–∫–∏–µ –æ—à–∏–±–∫–∏ (Hard Errors)</a></h3>
<p>–≠—Ç–æ <strong>runtime-–æ—à–∏–±–∫–∏</strong>, –∫–æ—Ç–æ—Ä—ã–µ <strong>–≤—Å–µ–≥–¥–∞ –ø—Ä–∏–≤–æ–¥—è—Ç –∫ –æ—Ç–∫–∞–∑—É</strong> –∏ –Ω–µ –º–æ–≥—É—Ç –±—ã—Ç—å –æ–±—Ä–∞–±–æ—Ç–∞–Ω—ã:</p>
<p><strong>–ü—Ä–∏–º–µ—Ä—ã:</strong></p>
<ul>
<li>–û–±—Ä–∞—â–µ–Ω–∏–µ –∫ –º–µ—Ç–æ–¥—É, –∫–æ—Ç–æ—Ä—ã–π –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç</li>
<li>–ß—Ç–µ–Ω–∏–µ —Å–≤–æ–π—Å—Ç–≤–∞ —É <code>undefined</code></li>
<li>–°–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞ –≤ –∫–æ–¥–µ</li>
<li>TypeError –ø—Ä–∏ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–π –æ–ø–µ—Ä–∞—Ü–∏–∏</li>
<li>Division by zero –≤ JavaScript</li>
</ul>
<p><strong>–ü—Ä–∞–≤–∏–ª–æ:</strong> –ñ—ë—Å—Ç–∫–∏–µ –æ—à–∏–±–∫–∏ <strong>–î–û–õ–ñ–ù–´ –±—ã—Ç—å –≤—ã–±—Ä–æ—à–µ–Ω—ã –∫–∞–∫ –∏—Å–∫–ª—é—á–µ–Ω–∏—è</strong>.</p>
<pre><code class="language-typescript">// –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ - –ø–æ–ø—ã—Ç–∞–µ–º—Å—è –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å –Ω–µ–æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω–æ–µ
const value = unknownObject.nonExistentMethod(); // –í—ã–∑–æ–≤–µ—Ç TypeError

// –ü—Ä–∞–≤–∏–ª—å–Ω–æ - –æ—à–∏–±–∫–∞ –≤—ã–±—Ä–æ—Å–∏—Ç—Å—è –Ω–∞ —É—Ä–æ–≤–µ–Ω—å, –≥–¥–µ –µ—ë –º–æ–∂–Ω–æ –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å
function processData(data: unknown): void {
  if (!data || typeof data !== 'object') {
    throw new TypeError('Expected object, got ' + typeof data);
  }
  
  // –¢–µ–ø–µ—Ä—å safe –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å data –∫–∞–∫ object
  const result = (data as Record&lt;string, any&gt;).method?.();
}
</code></pre>
<h3 id="4-–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ--–î–æ–º–µ–Ω–Ω—ã–µ-–æ—à–∏–±–∫–∏-domain-errors"><a class="header" href="#4-–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ--–î–æ–º–µ–Ω–Ω—ã–µ-–æ—à–∏–±–∫–∏-domain-errors">4. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ / –î–æ–º–µ–Ω–Ω—ã–µ –æ—à–∏–±–∫–∏ (Domain Errors)</a></h3>
<p>–≠—Ç–æ –æ—à–∏–±–∫–∏, —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ –¥–ª—è –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏ –∏ –ø—Ä–µ–¥–º–µ—Ç–Ω–æ–π –æ–±–ª–∞—Å—Ç–∏.</p>
<p><strong>–ü—Ä–∏–º–µ—Ä—ã:</strong></p>
<ul>
<li>–ù–µ–ª—å–∑—è –≤—ã–¥–∞—Ç—å –ø–æ—Å—ã–ª–∫—É: –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –∏–¥–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω</li>
<li>–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Å—Ä–µ–¥—Å—Ç–≤ –¥–ª—è –ø–µ—Ä–µ–≤–æ–¥–∞</li>
<li>–ü—Ä–µ–≤—ã—à–µ–Ω–∞ –∫–≤–æ—Ç–∞ –Ω–∞ —á–∏—Å–ª–æ –∑–∞–ø—Ä–æ—Å–æ–≤</li>
<li>–û–ø–µ—Ä–∞—Ü–∏—è –∑–∞–ø—Ä–µ—â–µ–Ω–∞ –ø–æ –ø–æ–ª–∏—Ç–∏–∫–µ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏</li>
</ul>
<p><strong>–ü—Ä–∞–≤–∏–ª–æ:</strong> –î–ª—è –∫–∞–∂–¥–æ–≥–æ —É—Ä–æ–≤–Ω—è –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–∏ –≤ –ø—Ä–µ–¥–º–µ—Ç–Ω–æ–π –æ–±–ª–∞—Å—Ç–∏ –Ω—É–∂–µ–Ω <strong>–æ–¥–∏–Ω –∫–ª–∞—Å—Å –æ—à–∏–±–∫–∏</strong>.</p>
<pre><code class="language-typescript">// ‚ùå –ù–ï–ü–†–ê–í–ò–õ–¨–ù–û - 150 –∏–¥–µ–Ω—Ç–∏—á–Ω—ã—Ö –∫–ª–∞—Å—Å–æ–≤
class UserNotFoundError extends Error {}
class WarehouseNotFoundError extends Error {}
class PaymentFailedError extends Error {}
// ... –∏ –µ—â—ë 147 –∫–ª–∞—Å—Å–æ–≤ —Å –æ–¥–∏–Ω–∞–∫–æ–≤–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π

// ‚úÖ –ü–†–ê–í–ò–õ–¨–ù–û - –æ–¥–∏–Ω –±–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å
class DomainError extends Error {
  constructor(
    public code: string,
    message: string,
    public context?: Record&lt;string, any&gt;
  ) {
    super(message);
  }
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
throw new DomainError('USER_NOT_FOUND', 'User with ID 123 not found', {
  userId: 123
});
</code></pre>
<hr />
<h2 id="–¢—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏—è-–æ—à–∏–±–æ–∫-–º–µ–∂–¥—É-—Å–ª–æ—è–º–∏-error-escalation"><a class="header" href="#–¢—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏—è-–æ—à–∏–±–æ–∫-–º–µ–∂–¥—É-—Å–ª–æ—è–º–∏-error-escalation">–¢—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏—è –æ—à–∏–±–æ–∫ –º–µ–∂–¥—É —Å–ª–æ—è–º–∏ (Error Escalation)</a></h2>
<h3 id="–ü—Ä–æ–±–ª–µ–º–∞"><a class="header" href="#–ü—Ä–æ–±–ª–µ–º–∞">–ü—Ä–æ–±–ª–µ–º–∞</a></h3>
<p>–ö–æ–≥–¥–∞ –æ—à–∏–±–∫–∞ –ø—Ä–æ—Ö–æ–¥–∏—Ç —á–µ—Ä–µ–∑ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–ª–æ—ë–≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –±–µ–∑ —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏–∏, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç –Ω–∏–∑–∫–æ—É—Ä–æ–≤–Ω–µ–≤—É—é –æ—à–∏–±–∫—É.</p>
<pre><code class="language-typescript">// ‚ùå –ù–ï–ü–†–ê–í–ò–õ–¨–ù–´–ô –ü–û–¢–û–ö
// –°–ª–æ–π —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã: "File not found"
// ‚Üí –°–ª–æ–π –¥–æ—Å—Ç—É–ø–∞ –∫ –¥–∞–Ω–Ω—ã–º: "File not found"  
// ‚Üí –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞: "File not found"
// ‚Üí Frontend: "File not found"  ‚Üê –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç —Å–∏—Å—Ç–µ–º–Ω—É—é –æ—à–∏–±–∫—É!
</code></pre>
<h3 id="–†–µ—à–µ–Ω–∏–µ"><a class="header" href="#–†–µ—à–µ–Ω–∏–µ">–†–µ—à–µ–Ω–∏–µ</a></h3>
<p>–ö–∞–∂–¥—ã–π —Å–ª–æ–π –¥–æ–ª–∂–µ–Ω <strong>–æ–±–µ—Ä–Ω—É—Ç—å</strong> —Å–∏—Å—Ç–µ–º–Ω—É—é –æ—à–∏–±–∫—É –≤ –¥–æ–º–µ–Ω–Ω—É—é.</p>
<pre><code class="language-typescript">// –°–ª–æ–π –¥–æ—Å—Ç—É–ø–∞ –∫ –¥–∞–Ω–Ω—ã–º (Data Layer)
async function loadUserProfile(userId: string): Promise&lt;UserProfile&gt; {
  try {
    const content = await fs.readFile(`./profiles/${userId}.json`);
    return JSON.parse(content);
  } catch (error) {
    // –¢—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∏—Ä—É–µ–º —Ñ–∞–π–ª–æ–≤—É—é –æ—à–∏–±–∫—É –≤ –¥–æ–º–µ–Ω–Ω—É—é
    if ((error as NodeJS.ErrnoException).code === 'ENOENT') {
      throw new DomainError(
        'PROFILE_NOT_FOUND',
        `User profile not found for ID: ${userId}`,
        { userId, cause: error }
      );
    }
    
    if (error instanceof SyntaxError) {
      throw new DomainError(
        'INVALID_PROFILE_DATA',
        'User profile data is corrupted',
        { userId, cause: error }
      );
    }
    
    throw error;
  }
}

// –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ (Application Layer)
async function authenticateUser(userId: string): Promise&lt;AuthResult&gt; {
  try {
    const profile = await loadUserProfile(userId);
    // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –∞–∫—Ç–∏–≤–µ–Ω –ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
    if (!profile.isActive) {
      return {
        success: false,
        code: 'USER_INACTIVE',
        message: 'Account is inactive'
      };
    }
    return { success: true, profile };
  } catch (error) {
    if (error instanceof DomainError &amp;&amp; error.code === 'PROFILE_NOT_FOUND') {
      return {
        success: false,
        code: 'AUTHENTICATION_FAILED',
        message: 'Invalid credentials' // Generic message for security!
      };
    }
    throw error;
  }
}

// –ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä / API (Presentation Layer)
app.post('/login', async (req, res) =&gt; {
  try {
    const result = await authenticateUser(req.body.userId);
    
    if (!result.success) {
      return res.status(401).json({
        error: result.message,
        code: result.code
      });
    }
    
    res.json({ user: result.profile });
  } catch (error) {
    // –õ–æ–≥–∏—Ä—É–µ–º –ø–æ–ª–Ω—É—é –æ—à–∏–±–∫—É –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
    logger.error('Authentication error:', {
      error,
      userId: req.body.userId,
      timestamp: new Date()
    });
    
    // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –≥–µ–Ω–µ—Ä–∏—á–µ—Å–∫–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é
    res.status(500).json({
      error: 'Authentication service unavailable',
      code: 'SERVICE_ERROR'
    });
  }
});
</code></pre>
<hr />
<h2 id="–¶–µ–ø–æ—á–∫–∏-–æ—à–∏–±–æ–∫-error-chains"><a class="header" href="#–¶–µ–ø–æ—á–∫–∏-–æ—à–∏–±–æ–∫-error-chains">–¶–µ–ø–æ—á–∫–∏ –æ—à–∏–±–æ–∫ (Error Chains)</a></h2>
<h3 id="errorcause---–ü—Ä–∞–≤–∏–ª—å–Ω—ã–π-—Å–ø–æ—Å–æ–±"><a class="header" href="#errorcause---–ü—Ä–∞–≤–∏–ª—å–Ω—ã–π-—Å–ø–æ—Å–æ–±">Error.cause - –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π —Å–ø–æ—Å–æ–±</a></h3>
<pre><code class="language-typescript">async function processPayment(orderId: string): Promise&lt;void&gt; {
  try {
    await chargeCard(orderId);
  } catch (error) {
    // –°–æ–∑–¥–∞—ë–º —Ü–µ–ø–æ—á–∫—É –æ—à–∏–±–æ–∫ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏
    throw new Error(
      `Failed to process payment for order ${orderId}`,
      { cause: error }
    );
  }
}

async function fulfillOrder(orderId: string): Promise&lt;void&gt; {
  try {
    await processPayment(orderId);
  } catch (error) {
    throw new Error(
      `Failed to fulfill order ${orderId}`,
      { cause: error }
    );
  }
}

// –ü—Ä–∏ –æ—à–∏–±–∫–µ —Å—Ç–µ–∫ –±—É–¥–µ—Ç –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –≤—Å—é —Ü–µ–ø–æ—á–∫—É:
// Error: Failed to fulfill order 123
//   cause: Error: Failed to process payment for order 123
//     cause: Error: Card declined
</code></pre>
<h3 id="aggregateerror---–ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ-–æ—à–∏–±–∫–∏"><a class="header" href="#aggregateerror---–ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ-–æ—à–∏–±–∫–∏">AggregateError - –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –æ—à–∏–±–∫–∏</a></h3>
<pre><code class="language-typescript">async function fetchUserData(userId: string): Promise&lt;UserData&gt; {
  const errors: Error[] = [];
  let profile: Profile | null = null;
  let permissions: Permission[] | null = null;
  
  try {
    [profile, permissions] = await Promise.allSettled([
      fetchProfile(userId),
      fetchPermissions(userId)
    ]).then(results =&gt; 
      results.map((result, index) =&gt; {
        if (result.status === 'rejected') {
          errors.push(result.reason);
          return null;
        }
        return result.value;
      })
    );
  } catch (error) {
    errors.push(error as Error);
  }
  
  if (errors.length &gt; 0) {
    throw new AggregateError(
      errors,
      `Failed to fetch user data for ${userId}`
    );
  }
  
  if (!profile || !permissions) {
    throw new Error('Incomplete user data');
  }
  
  return { profile, permissions };
}

// –û–±—Ä–∞–±–æ—Ç–∫–∞
try {
  const userData = await fetchUserData('123');
} catch (error) {
  if (error instanceof AggregateError) {
    console.log(`Multiple errors occurred: ${error.message}`);
    error.errors.forEach((err, index) =&gt; {
      console.log(`Error ${index + 1}:`, err.message);
    });
  }
}
</code></pre>
<hr />
<h2 id="–ü—Ä–∞–∫—Ç–∏–∫–∏-–æ–±—Ä–∞–±–æ—Ç–∫–∏-–æ—à–∏–±–æ–∫"><a class="header" href="#–ü—Ä–∞–∫—Ç–∏–∫–∏-–æ–±—Ä–∞–±–æ—Ç–∫–∏-–æ—à–∏–±–æ–∫">–ü—Ä–∞–∫—Ç–∏–∫–∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫</a></h2>
<h3 id="1-early-return-fail-fast"><a class="header" href="#1-early-return-fail-fast">1. Early Return (Fail Fast)</a></h3>
<pre><code class="language-typescript">async function processOrder(order: Order): Promise&lt;void&gt; {
  // –ü—Ä–æ–≤–µ—Ä—è–µ–º –≤—Å–µ —É—Å–ª–æ–≤–∏—è –≤ –Ω–∞—á–∞–ª–µ
  if (!order.customerId) {
    throw new Error('Order must have customer ID');
  }
  
  if (order.items.length === 0) {
    throw new Error('Order cannot be empty');
  }
  
  if (order.total &lt; 0) {
    throw new Error('Order total cannot be negative');
  }
  
  // –¢–µ–ø–µ—Ä—å –±–µ–∑–æ–ø–∞—Å–Ω–æ —Ä–∞–±–æ—Ç–∞–µ–º —Å order
  await validateInventory(order.items);
  await processPayment(order);
  await shipOrder(order);
}
</code></pre>
<h3 id="2-either--result-–ø–∞—Ç—Ç–µ—Ä–Ω"><a class="header" href="#2-either--result-–ø–∞—Ç—Ç–µ—Ä–Ω">2. Either / Result –ø–∞—Ç—Ç–µ—Ä–Ω</a></h3>
<pre><code class="language-typescript">// Right/Left –¥–ª—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–≥–æ –ø–æ–¥—Ö–æ–¥–∞
type Either&lt;L, R&gt; = { tag: 'left'; value: L } | { tag: 'right'; value: R };

function createEither&lt;L, R&gt;(
  value: R | null,
  error: L | null
): Either&lt;L, R&gt; {
  if (value !== null) {
    return { tag: 'right', value };
  }
  return { tag: 'left', value: error as L };
}

async function getUserWithEither(
  userId: string
): Promise&lt;Either&lt;Error, User&gt;&gt; {
  try {
    const user = await fetchUser(userId);
    return createEither(user, null);
  } catch (error) {
    return createEither(null, error as Error);
  }
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
const result = await getUserWithEither('123');
if (result.tag === 'right') {
  console.log('User found:', result.value);
} else {
  console.error('Error:', result.value.message);
}
</code></pre>
<h3 id="3-try-catch-vs-promise-chain"><a class="header" href="#3-try-catch-vs-promise-chain">3. Try-Catch vs Promise Chain</a></h3>
<pre><code class="language-typescript">// Try-Catch (—è–≤–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å –ø–æ—Ç–æ–∫–∞)
async function processWithTryCatch(): Promise&lt;void&gt; {
  try {
    const data = await fetchData();
    const processed = await process(data);
    const result = await save(processed);
    return result;
  } catch (error) {
    if (isNetworkError(error)) {
      retry();
    } else if (isValidationError(error)) {
      logAndNotify(error);
    } else {
      rethrow(error);
    }
  } finally {
    cleanup();
  }
}

// Promise Chain (—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π —Å—Ç–∏–ª—å)
function processWithPromiseChain(): Promise&lt;void&gt; {
  return fetchData()
    .then(process)
    .then(save)
    .catch((error) =&gt; {
      if (isNetworkError(error)) return retry();
      if (isValidationError(error)) return logAndNotify(error);
      throw error;
    })
    .finally(cleanup);
}
</code></pre>
<p><strong>–†–∞–∑–Ω–∏—Ü–∞:</strong> Try-catch —Ä–∞–±–æ—Ç–∞–µ—Ç —Å <strong>—Å–æ—Å—Ç–æ—è–Ω–∏—è–º–∏</strong> (pending, fulfilled, rejected), –∞ Promise chain —É–ø—Ä–∞–≤–ª—è–µ—Ç <strong>–ø–æ—Ç–æ–∫–æ–º –¥–∞–Ω–Ω—ã—Ö</strong>. –£ try-catch –µ—Å—Ç—å <code>finally</code>, —á—Ç–æ —É–¥–æ–±–Ω–µ–µ –¥–ª—è –æ—á–∏—Å—Ç–∫–∏ —Ä–µ—Å—É—Ä—Å–æ–≤.</p>
<hr />
<h2 id="–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ-–æ—à–∏–±–æ–∫-–∏-—Ç—Ä–µ–π—Å–∏–Ω–≥"><a class="header" href="#–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ-–æ—à–∏–±–æ–∫-–∏-—Ç—Ä–µ–π—Å–∏–Ω–≥">–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—à–∏–±–æ–∫ –∏ —Ç—Ä–µ–π—Å–∏–Ω–≥</a></h2>
<h3 id="–°—Ç—Ä–∞—Ç–µ–≥–∏—è-–ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è"><a class="header" href="#–°—Ç—Ä–∞—Ç–µ–≥–∏—è-–ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è">–°—Ç—Ä–∞—Ç–µ–≥–∏—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è</a></h3>
<pre><code class="language-typescript">interface ErrorLog {
  id: string; // UUID –¥–ª—è —Ç—Ä–µ–π—Å–∏–Ω–≥–∞
  timestamp: string;
  severity: 'critical' | 'error' | 'warning' | 'info';
  code: string;
  message: string;
  stack?: string;
  context: Record&lt;string, any&gt;;
  userId?: string; // Anon –µ—Å–ª–∏ –≤–æ–∑–º–æ–∂–Ω–æ
  requestId?: string;
}

class ErrorLogger {
  log(error: Error, context: Record&lt;string, any&gt;): ErrorLog {
    const id = generateUUID();
    const errorLog: ErrorLog = {
      id,
      timestamp: new Date().toISOString(),
      severity: this.determineSeverity(error),
      code: (error as any).code || 'UNKNOWN',
      message: error.message,
      stack: error.stack,
      context: this.sanitizeContext(context)
    };
    
    // –õ–æ–≥–∏—Ä—É–µ–º –ª–æ–∫–∞–ª—å–Ω–æ (–ø–æ–ª–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è)
    this.writeToFile(errorLog);
    
    // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –Ω–∞ —É–¥–∞–ª—ë–Ω–Ω—ã–π —Å–µ—Ä–≤–∏—Å (–æ—á–∏—â–µ–Ω–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è)
    this.sendToLoggingService({
      ...errorLog,
      stack: undefined, // –ù–µ —à–ª—ë–º –ª–æ–∫–∞–ª—å–Ω—ã–µ –ø—É—Ç–∏
      context: this.filterSensitiveData(errorLog.context)
    });
    
    return errorLog;
  }
  
  private sanitizeContext(context: Record&lt;string, any&gt;): Record&lt;string, any&gt; {
    // –£–¥–∞–ª—è–µ–º –ø–∞—Ä–æ–ª–∏, —Ç–æ–∫–µ–Ω—ã, etc.
    const { password, token, creditCard, ssn, ...safe } = context;
    return safe;
  }
  
  private filterSensitiveData(context: Record&lt;string, any&gt;): Record&lt;string, any&gt; {
    return Object.fromEntries(
      Object.entries(context).map(([key, value]) =&gt; [
        key,
        typeof value === 'string' &amp;&amp; value.length &gt; 50 ? '[redacted]' : value
      ])
    );
  }
  
  private determineSeverity(error: Error): ErrorLog['severity'] {
    if (error instanceof DomainError) return 'warning';
    if ((error as any).code === 'ECONNREFUSED') return 'error';
    return 'critical';
  }
  
  private writeToFile(log: ErrorLog): void {
    // –†–æ—Ç–∞—Ü–∏—è –ª–æ–≥–æ–≤ –ø–æ —Ä–∞–∑–º–µ—Ä—É
    fs.appendFileSync('./logs/errors.json', JSON.stringify(log) + '\n');
  }
  
  private sendToLoggingService(log: ErrorLog): void {
    // –û—Ç–ø—Ä–∞–≤–∫–∞ –≤ ElasticSearch, Datadog, CloudWatch, etc.
    fetch('https://logging.service/api/errors', {
      method: 'POST',
      body: JSON.stringify(log)
    }).catch(err =&gt; console.error('Failed to log error:', err));
  }
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å ID —Ç—Ä–µ–π—Å–∏–Ω–≥–∞
app.use((req, res, next) =&gt; {
  req.id = generateUUID();
  next();
});

app.post('/pay', async (req, res) =&gt; {
  try {
    const result = await processPayment(req.body);
    res.json(result);
  } catch (error) {
    const log = errorLogger.log(error as Error, {
      userId: req.user?.id,
      requestId: req.id,
      orderId: req.body.orderId,
      timestamp: new Date()
    });
    
    // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º ID –æ—à–∏–±–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é
    res.status(500).json({
      error: 'Payment processing failed',
      errorId: log.id // –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —ç—Ç–æ –¥–ª—è support
    });
  }
});
</code></pre>
<hr />
<h2 id="–û–±—Ä–∞–±–æ—Ç–∫–∞-–∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö-–æ—à–∏–±–æ–∫"><a class="header" href="#–û–±—Ä–∞–±–æ—Ç–∫–∞-–∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö-–æ—à–∏–±–æ–∫">–û–±—Ä–∞–±–æ—Ç–∫–∞ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö –æ—à–∏–±–æ–∫</a></h2>
<h3 id="unhandled-promise-rejection"><a class="header" href="#unhandled-promise-rejection">Unhandled Promise Rejection</a></h3>
<pre><code class="language-typescript">// –ü—Ä–æ–±–ª–µ–º–∞: –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –æ—à–∏–±–∫–∞ –≤ callback —Ç–µ—Ä—è–µ—Ç—Å—è
const emitter = new EventEmitter();

emitter.on('data', async (data) =&gt; {
  throw new Error('Async error in callback'); // –ö—É–¥–∞ –¥–µ–ª–∞—Å—å —ç—Ç–∞ –æ—à–∏–±–∫–∞?
});

// –†–µ—à–µ–Ω–∏–µ 1: –Ø–≤–Ω—ã–π try-catch –≤–Ω—É—Ç—Ä–∏ callback
emitter.on('data', async (data) =&gt; {
  try {
    await processData(data);
  } catch (error) {
    emitter.emit('error', error);
  }
});

// –†–µ—à–µ–Ω–∏–µ 2: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å capture-rejections
const emitter = new EventEmitter({ captureRejections: true });

emitter.on('data', async (data) =&gt; {
  throw new Error('Now this is caught!');
});

emitter.on('error', (error) =&gt; {
  console.error('Caught error:', error);
});

// –ì–ª–æ–±–∞–ª—å–Ω—ã–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –¥–ª—è –≤—Å–µ—Ö —ç–º–∏—Ç—Ç–µ—Ä–æ–≤
EventEmitter.captureRejections = true;

// –†–µ—à–µ–Ω–∏–µ 3: –ì–ª–æ–±–∞–ª—å–Ω—ã–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ unhandled rejection
process.on('unhandledRejection', (reason, promise) =&gt; {
  console.error('Unhandled Rejection:', reason);
  logger.error('Unhandled rejection', { reason, promise });
  // –í production –º–æ–∂–Ω–æ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç—å –ø—Ä–æ—Ü–µ—Å—Å
});

process.on('uncaughtException', (error) =&gt; {
  console.error('Uncaught Exception:', error);
  logger.error('Uncaught exception', { error });
  // –í–ê–ñ–ù–û: –ø–æ—Å–ª–µ —ç—Ç–æ–≥–æ –Ω—É–∂–Ω–æ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç—å –ø—Ä–æ—Ü–µ—Å—Å
  process.exit(1);
});
</code></pre>
<hr />
<h2 id="–°—Ç—Ä–∞—Ç–µ–≥–∏–∏-–≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è-recovery-strategies"><a class="header" href="#–°—Ç—Ä–∞—Ç–µ–≥–∏–∏-–≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è-recovery-strategies">–°—Ç—Ä–∞—Ç–µ–≥–∏–∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è (Recovery Strategies)</a></h2>
<h3 id="–ú–æ–¥–µ–ª—å-–∏–∑–æ–ª—è—Ü–∏–∏"><a class="header" href="#–ú–æ–¥–µ–ª—å-–∏–∑–æ–ª—è—Ü–∏–∏">–ú–æ–¥–µ–ª—å –∏–∑–æ–ª—è—Ü–∏–∏</a></h3>
<pre><code class="language-typescript">// 1. –ù–∞–∏–±–æ–ª–µ–µ –¥–æ—Ä–æ–≥–æ: –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞ –ø—Ä–æ—Ü–µ—Å—Å–∞
// –ò—Å–ø–æ–ª—å–∑—É–µ–º –¥–ª—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –æ—à–∏–±–æ–∫ –≤ production
process.on('uncaughtException', () =&gt; {
  gracefulShutdown();
  process.exit(1);
});

// 2. –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞ –ø–æ—Ç–æ–∫–∞ (Worker Threads)
// –ò—Å–ø–æ–ª—å–∑—É–µ–º –¥–ª—è —Ç—è–∂—ë–ª—ã—Ö –æ–±—Ä–∞–±–æ—Ç–æ–∫
function createWorkerPool(size: number): void {
  const workers: Worker[] = [];
  
  for (let i = 0; i &lt; size; i++) {
    const worker = new Worker('./worker.js');
    
    worker.on('error', () =&gt; {
      workers.splice(workers.indexOf(worker), 1);
      // –°–æ–∑–¥–∞—ë–º –Ω–æ–≤—ã–π worker –≤–º–µ—Å—Ç–æ —É–ø–∞–≤—à–µ–≥–æ
      workers.push(new Worker('./worker.js'));
    });
    
    workers.push(worker);
  }
}

// 3. –ò–∑–æ–ª—è—Ü–∏—è —á–µ—Ä–µ–∑ –∑–∞–º—ã–∫–∞–Ω–∏–µ (V8 Snapshot)
class IsolatedContext {
  private snapshot: any = {};
  
  execute(fn: Function): Result {
    try {
      const result = fn();
      return { success: true, result };
    } catch (error) {
      // –ö–æ–Ω—Ç–µ–∫—Å—Ç –æ—Å—Ç–∞—ë—Ç—Å—è –Ω–µ—Ç—Ä–æ–Ω—É—Ç—ã–º (–≤ –∑–∞–º—ã–∫–∞–Ω–∏–∏)
      return { success: false, error };
    }
  }
}

// 4. –î–µ—à–µ–≤–æ: –∫–æ–Ω—Ç–µ–∫—Å—Ç –æ–±—ä–µ–∫—Ç–∞
class Operation {
  private state: Record&lt;string, any&gt; = {};
  
  process(): void {
    try {
      this.doSomething();
    } catch (error) {
      // –¢–æ–ª—å–∫–æ this.state –º–æ–∂–µ—Ç –±—ã—Ç—å –ø–æ–≤—Ä–µ–∂–¥—ë–Ω, –≥–ª–æ–±–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ safe
    }
  }
}

// 5. –ü–æ—á—Ç–∏ –±–µ—Å–ø–ª–∞—Ç–Ω–æ: –∑–∞–º—ã–∫–∞–Ω–∏–µ
function createOperation() {
  const localState = {};
  
  return {
    process() {
      try {
        // —Ä–∞–±–æ—Ç–∞–µ–º —Ç–æ–ª—å–∫–æ —Å localState
      } catch (error) {
        // localState –æ—Å—Ç–∞—ë—Ç—Å—è –≤ –∑–∞–º—ã–∫–∞–Ω–∏–∏
      }
    }
  };
}
</code></pre>
<hr />
<h2 id="–†–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏–µ-–∏-–º–∏–≥—Ä–∞—Ü–∏—è-deployment-strategies"><a class="header" href="#–†–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏–µ-–∏-–º–∏–≥—Ä–∞—Ü–∏—è-deployment-strategies">–†–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏–µ –∏ –º–∏–≥—Ä–∞—Ü–∏—è (Deployment Strategies)</a></h2>
<h3 id="canary-release"><a class="header" href="#canary-release">Canary Release</a></h3>
<pre><code class="language-typescript">// –§–∏—á–∞ —Ñ–ª–∞–≥ —Å –ø–æ—Å—Ç–µ–ø–µ–Ω–Ω—ã–º —Ä–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏–µ–º
const featureFlags = {
  newPaymentSystem: {
    enabled: true,
    canaryPercentage: 5 // –¢–æ–ª—å–∫–æ 5% –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
  }
};

function shouldUseNewPayment(userId: string): boolean {
  const hash = parseInt(userId.slice(0, 8), 16);
  const percentage = hash % 100;
  
  return percentage &lt; featureFlags.newPaymentSystem.canaryPercentage;
}

app.post('/pay', async (req, res) =&gt; {
  const useNewSystem = shouldUseNewPayment(req.user.id);
  
  try {
    if (useNewSystem) {
      return res.json(await newPaymentService.process(req.body));
    } else {
      return res.json(await oldPaymentService.process(req.body));
    }
  } catch (error) {
    // –ï—Å–ª–∏ –Ω–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞ –ø–∞–¥–∞–µ—Ç, —Å—Ä–∞–∑—É –æ—Ç–∫–ª—é—á–∞–µ–º –¥–ª—è –≤—Å–µ—Ö
    if (useNewSystem) {
      featureFlags.newPaymentSystem.enabled = false;
      // –ü–µ—Ä–µ–∫–ª—é—á–∞–µ–º—Å—è –Ω–∞ —Å—Ç–∞—Ä—É—é
      return res.json(await oldPaymentService.process(req.body));
    }
    throw error;
  }
});
</code></pre>
<h3 id="blue-green-deploy"><a class="header" href="#blue-green-deploy">Blue-Green Deploy</a></h3>
<pre><code class="language-typescript">const currentDeployment = {
  blue: { version: '1.0.0', traffic: 100 },
  green: { version: '1.1.0', traffic: 0 }
};

function getActiveServer(): Server {
  if (currentDeployment.blue.traffic &gt; 0) {
    return blueServer;
  }
  return greenServer;
}

async function gradualMigration(): Promise&lt;void&gt; {
  // 10% ‚Üí green
  currentDeployment.green.traffic = 10;
  currentDeployment.blue.traffic = 90;
  
  await monitorMetrics(5 * 60 * 1000); // 5 –º–∏–Ω—É—Ç
  
  if (noErrorsDetected()) {
    // 100% ‚Üí green
    currentDeployment.green.traffic = 100;
    currentDeployment.blue.traffic = 0;
  } else {
    // –û—Ç–∫–∞—Ç—ã–≤–∞–µ–º—Å—è
    rollbackDeployment();
  }
}
</code></pre>
<h3 id="fallback-strategy"><a class="header" href="#fallback-strategy">Fallback Strategy</a></h3>
<pre><code class="language-typescript">async function getExchangeRate(currency: string): Promise&lt;number&gt; {
  const cacheKey = `rate:${currency}`;
  
  try {
    // –ü–æ–ø—ã—Ç–∫–∞ 1: –û—Å–Ω–æ–≤–Ω–æ–π –∏—Å—Ç–æ—á–Ω–∏–∫
    return await externalAPI.getRate(currency);
  } catch (error) {
    logger.error('Primary source failed', { currency, error });
    
    // –ü–æ–ø—ã—Ç–∫–∞ 2: –†–µ–∑–µ—Ä–≤–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫
    try {
      return await backupAPI.getRate(currency);
    } catch (backupError) {
      logger.error('Backup source failed', { currency, error: backupError });
      
      // –ü–æ–ø—ã—Ç–∫–∞ 3: –ö—ç—à
      const cached = cache.get(cacheKey);
      if (cached) {
        logger.warn('Using cached rate', { currency, age: Date.now() - cached.timestamp });
        return cached.value;
      }
      
      // –ü–æ–ø—ã—Ç–∫–∞ 4: –ò–∑ –ë–î (–∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∞—è –¥–∞–Ω–Ω—ã–µ)
      const historical = await database.getLastKnownRate(currency);
      if (historical) {
        logger.warn('Using historical rate', { currency, date: historical.date });
        return historical.value;
      }
      
      // –í—Å—ë –ø–ª–æ—Ö–æ - –±—Ä–æ—Å–∞–µ–º –æ—à–∏–±–∫—É
      throw new Error(`Cannot get exchange rate for ${currency}`);
    }
  }
}
</code></pre>
<hr />
<h2 id="–¢–∏–ø–∏—á–Ω—ã–µ-–æ—à–∏–±–∫–∏-–∏-–∫–∞–∫-–∏—Ö-–∏–∑–±–µ–∂–∞—Ç—å"><a class="header" href="#–¢–∏–ø–∏—á–Ω—ã–µ-–æ—à–∏–±–∫–∏-–∏-–∫–∞–∫-–∏—Ö-–∏–∑–±–µ–∂–∞—Ç—å">–¢–∏–ø–∏—á–Ω—ã–µ –æ—à–∏–±–∫–∏ –∏ –∫–∞–∫ –∏—Ö –∏–∑–±–µ–∂–∞—Ç—å</a></h2>
<h3 id="-–ü—Ä–æ–±–ª–µ–º–∞-–ß—Ä–µ–∑–º–µ—Ä–Ω–æ–µ-–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ-–∫–∞—Å—Ç–æ–º–Ω—ã—Ö-–æ—à–∏–±–æ–∫"><a class="header" href="#-–ü—Ä–æ–±–ª–µ–º–∞-–ß—Ä–µ–∑–º–µ—Ä–Ω–æ–µ-–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ-–∫–∞—Å—Ç–æ–º–Ω—ã—Ö-–æ—à–∏–±–æ–∫">‚ùå –ü—Ä–æ–±–ª–µ–º–∞: –ß—Ä–µ–∑–º–µ—Ä–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–∞—Å—Ç–æ–º–Ω—ã—Ö –æ—à–∏–±–æ–∫</a></h3>
<pre><code class="language-typescript">// –ü–õ–û–•–û: 150 –∏–¥–µ–Ω—Ç–∏—á–Ω—ã—Ö –∫–ª–∞—Å—Å–æ–≤
class UserNotFoundError extends Error {}
class ProductNotFoundError extends Error {}
class OrderNotFoundError extends Error {}
class WarehouseNotFoundError extends Error {}
// ... –µ—â—ë 146 –∫–ª–∞—Å—Å–æ–≤

// –•–û–†–û–®–û: –û–¥–∏–Ω –∫–ª–∞—Å—Å –¥–ª—è –≤—Å–µ–π –ø—Ä–µ–¥–º–µ—Ç–Ω–æ–π –æ–±–ª–∞—Å—Ç–∏
class NotFoundError extends Error {
  constructor(resourceType: string, resourceId: any) {
    super(`${resourceType} not found: ${resourceId}`);
    this.code = 'NOT_FOUND';
  }
}
</code></pre>
<h3 id="-–ü—Ä–æ–±–ª–µ–º–∞-–£—Ç–µ—á–∫–∞-–Ω–∏–∑–∫–æ—É—Ä–æ–≤–Ω–µ–≤—ã—Ö-–æ—à–∏–±–æ–∫-–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é"><a class="header" href="#-–ü—Ä–æ–±–ª–µ–º–∞-–£—Ç–µ—á–∫–∞-–Ω–∏–∑–∫–æ—É—Ä–æ–≤–Ω–µ–≤—ã—Ö-–æ—à–∏–±–æ–∫-–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é">‚ùå –ü—Ä–æ–±–ª–µ–º–∞: –£—Ç–µ—á–∫–∞ –Ω–∏–∑–∫–æ—É—Ä–æ–≤–Ω–µ–≤—ã—Ö –æ—à–∏–±–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é</a></h3>
<pre><code class="language-typescript">// –ü–õ–û–•–û: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç –∏–º—è –ø–æ–ª—è –ë–î
app.get('/users/:id', async (req, res) =&gt; {
  try {
    const user = await db.query(
      'SELECT * FROM users WHERE user_id = ?',
      [req.params.id]
    );
    res.json(user);
  } catch (error) {
    res.status(500).json({ error: error.message }); // –ú–æ–∂–µ—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å 'foreign key constraint'
  }
});

// –•–û–†–û–®–û: –ì–µ–Ω–µ—Ä–∏—á–µ—Å–∫–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
app.get('/users/:id', async (req, res) =&gt; {
  try {
    const user = await db.query(
      'SELECT * FROM users WHERE user_id = ?',
      [req.params.id]
    );
    res.json(user);
  } catch (error) {
    logger.error('User fetch failed', { error, userId: req.params.id });
    res.status(500).json({ 
      error: 'Unable to retrieve user information',
      errorId: generateErrorId()
    });
  }
});
</code></pre>
<h3 id="-–ü—Ä–æ–±–ª–µ–º–∞-–ü–æ—Ç–µ—Ä—è-stack-trace"><a class="header" href="#-–ü—Ä–æ–±–ª–µ–º–∞-–ü–æ—Ç–µ—Ä—è-stack-trace">‚ùå –ü—Ä–æ–±–ª–µ–º–∞: –ü–æ—Ç–µ—Ä—è stack trace</a></h3>
<pre><code class="language-typescript">// –ü–õ–û–•–û: Stack trace —Ç–µ—Ä—è–µ—Ç—Å—è
try {
  await operation();
} catch (error) {
  throw 'Something went wrong'; // String –≤–º–µ—Å—Ç–æ Error!
}

// –ü–õ–û–•–û: Error –ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–∞–∑ –±–µ–∑ —Ü–µ–ø–æ—á–∫–∏
const error1 = new Error('first');
const error2 = new Error('second');
throw error2; // –ü–æ—Ç–µ—Ä—è–ª–∏ error1

// –•–û–†–û–®–û: –ò—Å–ø–æ–ª—å–∑—É–µ–º Error.cause
try {
  await operation();
} catch (error) {
  throw new Error('Operation failed', { cause: error });
}
</code></pre>
<hr />
<h2 id="–ó–∞–∫–ª—é—á–µ–Ω–∏–µ"><a class="header" href="#–ó–∞–∫–ª—é—á–µ–Ω–∏–µ">–ó–∞–∫–ª—é—á–µ–Ω–∏–µ</a></h2>
<p>–ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ ‚Äî —ç—Ç–æ –∏—Å–∫—É—Å—Å—Ç–≤–æ –±–∞–ª–∞–Ω—Å–∞ –º–µ–∂–¥—É:</p>
<ul>
<li><strong>–ù–∞–¥—ë–∂–Ω–æ—Å—Ç—å—é</strong>: –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–æ–ª–∂–Ω–æ –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å—Å—è –æ—Ç —Å–±–æ–µ–≤</li>
<li><strong>–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å—é</strong>: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –¥–æ–ª–∂–µ–Ω –≤–∏–¥–µ—Ç—å –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ –¥–µ—Ç–∞–ª–∏</li>
<li><strong>–û—Ç–ª–∞–¥–∫–æ–π</strong>: –†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∏ –¥–æ–ª–∂–Ω—ã –±—ã—Å—Ç—Ä–æ –Ω–∞–π—Ç–∏ –ø—Ä–∏—á–∏–Ω—É</li>
<li><strong>–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å—é</strong>: –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –Ω–µ –¥–æ–ª–∂–Ω—ã –∑–∞–º–µ–¥–ª—è—Ç—å —Å–∏—Å—Ç–µ–º—É</li>
</ul>
<p>–ü–æ–º–Ω–∏—Ç–µ: <strong>–æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ ‚Äî —ç—Ç–æ 30% –≤–∞—à–µ–π —Ä–∞–±–æ—Ç—ã</strong>. –ò–Ω–≤–µ—Å—Ç–∏—Ä—É–π—Ç–µ –≤ –ø—Ä–∞–≤–∏–ª—å–Ω—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫ —Å —Å–∞–º–æ–≥–æ –Ω–∞—á–∞–ª–∞ –ø—Ä–æ–µ–∫—Ç–∞.</p>
<h1 id="–ü—Ä–∏–º–µ—Ä—ã-–∫–æ–¥–∞-–û–±—Ä–∞–±–æ—Ç–∫–∞-–æ—à–∏–±–æ–∫-–≤-javascripttypescript"><a class="header" href="#–ü—Ä–∏–º–µ—Ä—ã-–∫–æ–¥–∞-–û–±—Ä–∞–±–æ—Ç–∫–∞-–æ—à–∏–±–æ–∫-–≤-javascripttypescript">–ü—Ä–∏–º–µ—Ä—ã –∫–æ–¥–∞: –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –≤ JavaScript/TypeScript</a></h1>
<h2 id="1-–û–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω–∞—è-–æ—à–∏–±–∫–∞-–∏-–≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ"><a class="header" href="#1-–û–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω–∞—è-–æ—à–∏–±–∫–∞-–∏-–≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ">1: –û–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω–∞—è –æ—à–∏–±–∫–∞ –∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ</a></h2>
<pre><code class="language-typescript">async function fetchWithExponentialBackoff(
  url: string,
  maxAttempts: number = 5
): Promise&lt;Response&gt; {
  const baseDelay = 1000; // 1 —Å–µ–∫—É–Ω–¥–∞
  
  for (let attempt = 0; attempt &lt; maxAttempts; attempt++) {
    try {
      console.log(`–ü–æ–ø—ã—Ç–∫–∞ ${attempt + 1} –∏–∑ ${maxAttempts}...`);
      return await fetch(url, { timeout: 5000 });
    } catch (error) {
      if (attempt === maxAttempts - 1) {
        throw new Error(
          `–°–µ—Ç—å –º–æ–ª—á–∏—Ç –ø–æ—Å–ª–µ ${maxAttempts} –ø–æ–ø—ã—Ç–æ–∫`,
          { cause: error }
        );
      }
      
      // –≠–∫—Å–ø–æ–Ω–µ–Ω—Ü–∏–∞–ª—å–Ω–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞: 1s, 2s, 4s, 8s, 16s
      const delayMs = baseDelay * Math.pow(2, attempt);
      console.log(`–ñ–¥—É ${delayMs}ms –ø–µ—Ä–µ–¥ –ø–æ–≤—Ç–æ—Ä–æ–º...`);
      await new Promise(resolve =&gt; setTimeout(resolve, delayMs));
    }
  }
  
  throw new Error('Impossible branch');
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
try {
  const response = await fetchWithExponentialBackoff('https://api.example.com/data');
  console.log('‚ú® –£—Å–ø–µ—Ö! –î–∞–Ω–Ω—ã–µ –ø–æ–ª—É—á–µ–Ω—ã');
} catch (error) {
  console.error('üíî –°–µ—Ç—å –Ω–µ –æ—Ç–æ–∑–≤–∞–ª–∞—Å—å:', (error as Error).message);
}
</code></pre>
<hr />
<h2 id="–°–æ–Ω–µ—Ç-2-–¢—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏—è-–æ—à–∏–±–æ–∫-–º–µ–∂–¥—É-—Å–ª–æ—è–º–∏"><a class="header" href="#–°–æ–Ω–µ—Ç-2-–¢—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏—è-–æ—à–∏–±–æ–∫-–º–µ–∂–¥—É-—Å–ª–æ—è–º–∏">–°–æ–Ω–µ—Ç 2: –¢—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏—è –æ—à–∏–±–æ–∫ –º–µ–∂–¥—É —Å–ª–æ—è–º–∏</a></h2>
<pre><code class="language-typescript">class UserProfileService {
  async getUserProfile(userId: string): Promise&lt;UserProfile&gt; {
    try {
      // –£—Ä–æ–≤–µ–Ω—å 1: –§–∞–π–ª–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞ (–Ω–∏–∑–∫–∏–π —É—Ä–æ–≤–µ–Ω—å)
      const profilePath = `./data/users/${userId}/profile.json`;
      const fileContent = await fs.promises.readFile(profilePath, 'utf-8');
      
      // –£—Ä–æ–≤–µ–Ω—å 2: –ü–∞—Ä—Å–∏–Ω–≥ JSON
      try {
        return JSON.parse(fileContent);
      } catch (parseError) {
        // –¢—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∏—Ä—É–µ–º JSON –æ—à–∏–±–∫—É –≤ –¥–æ–º–µ–Ω–Ω—É—é
        throw new DomainError(
          'CORRUPTED_PROFILE_DATA',
          `–ü—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è ${userId} –ø–æ–≤—Ä–µ–∂–¥—ë–Ω`,
          { userId, cause: parseError }
        );
      }
    } catch (fileError) {
      // –ü—Ä–æ–≤–µ—Ä—è–µ–º —Ç–∏–ø —Ñ–∞–π–ª–æ–≤–æ–π –æ—à–∏–±–∫–∏
      const nodeError = fileError as NodeJS.ErrnoException;
      
      if (nodeError.code === 'ENOENT') {
        // –§–∞–π–ª –Ω–µ –Ω–∞–π–¥–µ–Ω ‚Üí —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∏—Ä—É–µ–º –≤ –±–∏–∑–Ω–µ—Å-–æ—à–∏–±–∫—É
        throw new DomainError(
          'USER_NOT_FOUND',
          `–ü—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è ${userId} –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç`,
          { userId, systemError: 'ENOENT' }
        );
      }
      
      if (nodeError.code === 'EACCES') {
        // –ù–µ—Ç –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞ ‚Üí —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∏—Ä—É–µ–º –≤ –æ—à–∏–±–∫—É –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
        throw new DomainError(
          'SECURITY_ERROR',
          '–ù–µ—Ç –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞ –∫ –ø—Ä–æ—Ñ–∏–ª—é –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è',
          { userId, systemError: 'EACCES' }
        );
      }
      
      // –ù–µ–∏–∑–≤–µ—Å—Ç–Ω–∞—è –æ—à–∏–±–∫–∞ ‚Üí –ø—Ä–æ–±—Ä–∞—Å—ã–≤–∞–µ–º –≤—ã—à–µ
      throw new DomainError(
        'SYSTEM_ERROR',
        '–°–∏—Å—Ç–µ–º–Ω–∞—è –æ—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –ø—Ä–æ—Ñ–∏–ª—è',
        { userId, cause: fileError }
      );
    }
  }
}

// –£—Ä–æ–≤–µ–Ω—å 3: –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ (–≤—ã—Å–æ–∫–∏–π —É—Ä–æ–≤–µ–Ω—å)
class AuthenticationService {
  constructor(private profileService: UserProfileService) {}
  
  async authenticate(userId: string): Promise&lt;AuthResult&gt; {
    try {
      const profile = await this.profileService.getUserProfile(userId);
      
      // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –∞–∫—Ç–∏–≤–µ–Ω –ª–∏ –∞–∫–∫–∞—É–Ω—Ç
      if (!profile.isActive) {
        return {
          success: false,
          code: 'ACCOUNT_INACTIVE',
          message: '–ê–∫–∫–∞—É–Ω—Ç –¥–µ–∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω'
        };
      }
      
      return { success: true, profile };
    } catch (error) {
      if (error instanceof DomainError) {
        // –ü—Ä–µ–æ–±—Ä–∞–∑—É–µ–º –¥–æ–º–µ–Ω–Ω—É—é –æ—à–∏–±–∫—É –≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
        return {
          success: false,
          code: 'AUTH_FAILED',
          message: '–ù–µ–≤–µ—Ä–Ω—ã–µ —É—á—ë—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ' // –ì–µ–Ω–µ—Ä–∏—á–µ—Å–∫–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
        };
      }
      
      // –ù–µ–æ–∂–∏–¥–∞–Ω–Ω–∞—è –æ—à–∏–±–∫–∞ ‚Üí –ø—Ä–æ–±—Ä–∞—Å—ã–≤–∞–µ–º –≤—ã—à–µ
      throw error;
    }
  }
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
const authService = new AuthenticationService(new UserProfileService());

try {
  const result = await authService.authenticate('user123');
  if (result.success) {
    console.log('‚ú® –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å!', result.profile.name);
  } else {
    console.log('‚ùå', result.message);
  }
} catch (error) {
  console.error('üí• –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞:', (error as Error).message);
}
</code></pre>
<hr />
<h2 id="3-–¶–µ–ø–æ—á–∫–∞-–æ—à–∏–±–æ–∫-error-chain"><a class="header" href="#3-–¶–µ–ø–æ—á–∫–∞-–æ—à–∏–±–æ–∫-error-chain">3: –¶–µ–ø–æ—á–∫–∞ –æ—à–∏–±–æ–∫ (Error Chain)</a></h2>
<pre><code class="language-typescript">class PaymentProcessor {
  async processPayment(orderId: string, amount: number): Promise&lt;void&gt; {
    try {
      await this.chargeCard(orderId, amount);
    } catch (error) {
      // –£—Ä–æ–≤–µ–Ω—å 1: –ü–ª–∞—Ç—ë–∂–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –Ω–µ –æ—Ç–≤–µ—Ç–∏–ª–∞
      throw new Error(
        `–ù–µ —É–¥–∞–ª–æ—Å—å –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å –ø–ª–∞—Ç—ë–∂ –¥–ª—è –∑–∞–∫–∞–∑–∞ ${orderId}`,
        { cause: error }
      );
    }
  }
  
  private async chargeCard(orderId: string, amount: number): Promise&lt;void&gt; {
    try {
      const response = await fetch('https://payment-gateway.com/charge', {
        method: 'POST',
        body: JSON.stringify({ orderId, amount })
      });
      
      if (!response.ok) {
        throw new Error(`HTTP ${response.status}`);
      }
    } catch (error) {
      // –£—Ä–æ–≤–µ–Ω—å 2: –°–µ—Ç–µ–≤–∞—è –æ—à–∏–±–∫–∞ –ø—Ä–∏ –æ–±—Ä–∞—â–µ–Ω–∏–∏ –∫ –ø–ª–∞—Ç—ë–∂–Ω–æ–º—É —à–ª—é–∑—É
      throw new Error(
        '–ü–ª–∞—Ç—ë–∂–Ω—ã–π —à–ª—é–∑ –Ω–µ –¥–æ—Å—Ç—É–ø–µ–Ω',
        { cause: error }
      );
    }
  }
}

class OrderService {
  constructor(private paymentProcessor: PaymentProcessor) {}
  
  async fulfillOrder(orderId: string, amount: number): Promise&lt;void&gt; {
    try {
      await this.paymentProcessor.processPayment(orderId, amount);
    } catch (error) {
      // –£—Ä–æ–≤–µ–Ω—å 3: –ù–µ —É–¥–∞–ª–æ—Å—å –≤—ã–ø–æ–ª–Ω–∏—Ç—å –∑–∞–∫–∞–∑
      throw new Error(
        `–ù–µ —É–¥–∞–ª–æ—Å—å –≤—ã–ø–æ–ª–Ω–∏—Ç—å –∑–∞–∫–∞–∑ ${orderId}`,
        { cause: error }
      );
    }
  }
}

// –í—ã–≤–æ–¥ –ø–æ–ª–Ω–æ–π —Ü–µ–ø–æ—á–∫–∏ –æ—à–∏–±–æ–∫
function printErrorChain(error: Error): void {
  let current: Error | undefined = error;
  let level = 0;
  
  while (current) {
    console.log('  '.repeat(level) + `‚Üí ${current.message}`);
    current = (current as any).cause;
    level++;
  }
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
const orderService = new OrderService(new PaymentProcessor());

try {
  await orderService.fulfillOrder('ORDER-123', 9999);
} catch (error) {
  console.error('–¶–µ–ø–æ—á–∫–∞ –æ—à–∏–±–æ–∫:');
  printErrorChain(error as Error);
  
  /**
   * –í—ã–≤–æ–¥:
   * –¶–µ–ø–æ—á–∫–∞ –æ—à–∏–±–æ–∫:
   * ‚Üí –ù–µ —É–¥–∞–ª–æ—Å—å –≤—ã–ø–æ–ª–Ω–∏—Ç—å –∑–∞–∫–∞–∑ ORDER-123
   *   ‚Üí –ù–µ —É–¥–∞–ª–æ—Å—å –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å –ø–ª–∞—Ç—ë–∂ –¥–ª—è –∑–∞–∫–∞–∑–∞ ORDER-123
   *     ‚Üí –ü–ª–∞—Ç—ë–∂–Ω—ã–π —à–ª—é–∑ –Ω–µ –¥–æ—Å—Ç—É–ø–µ–Ω
   *       ‚Üí TypeError: fetch failed
   */
}
</code></pre>
<hr />
<h2 id="4-aggregateerror--–º–Ω–æ–∂–µ—Å—Ç–≤–æ-–±–µ–¥"><a class="header" href="#4-aggregateerror--–º–Ω–æ–∂–µ—Å—Ç–≤–æ-–±–µ–¥">4: AggregateError ‚Äî –º–Ω–æ–∂–µ—Å—Ç–≤–æ –±–µ–¥</a></h2>
<pre><code class="language-typescript">interface UserData {
  profile: UserProfile;
  permissions: Permission[];
  preferences: Preferences;
}

async function fetchUserDataComplete(userId: string): Promise&lt;UserData&gt; {
  const errors: Error[] = [];
  const results = await Promise.allSettled([
    fetchUserProfile(userId),
    fetchUserPermissions(userId),
    fetchUserPreferences(userId)
  ]);
  
  let profile: UserProfile | null = null;
  let permissions: Permission[] | null = null;
  let preferences: Preferences | null = null;
  
  for (let i = 0; i &lt; results.length; i++) {
    const result = results[i];
    
    if (result.status === 'rejected') {
      errors.push(result.reason);
    } else {
      if (i === 0) profile = result.value;
      else if (i === 1) permissions = result.value;
      else if (i === 2) preferences = result.value;
    }
  }
  
  // –ï—Å–ª–∏ –µ—Å—Ç—å –æ—à–∏–±–∫–∏ ‚Äî –≤—ã–±—Ä–æ—Å–∏–º AggregateError
  if (errors.length &gt; 0) {
    throw new AggregateError(
      errors,
      `–ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å –≤—Å–µ –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è ${userId}`
    );
  }
  
  if (!profile || !permissions || !preferences) {
    throw new Error('–ù–µ–ø–æ–ª–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è');
  }
  
  return { profile, permissions, preferences };
}

// –û–±—Ä–∞–±–æ—Ç–∫–∞ AggregateError
try {
  const userData = await fetchUserDataComplete('user-123');
  console.log('‚ú® –í—Å–µ –¥–∞–Ω–Ω—ã–µ –∑–∞–≥—Ä—É–∂–µ–Ω—ã —É—Å–ø–µ—à–Ω–æ');
} catch (error) {
  if (error instanceof AggregateError) {
    console.error(`‚ùå –ü—Ä–æ–∏–∑–æ—à–ª–æ ${error.errors.length} –æ—à–∏–±–æ–∫:`);
    
    for (let i = 0; i &lt; error.errors.length; i++) {
      const err = error.errors[i];
      console.error(`  ${i + 1}. ${(err as Error).message}`);
    }
    
    // –ü—Ä–∏–º–µ—Ä: –∑–∞–≥—Ä—É–∂–∞–µ–º –ø—Ä–æ—Ñ–∏–ª—å –∏–∑ –∫—ç—à–∞ –µ—Å–ª–∏ –æ—Å—Ç–∞–ª—å–Ω–æ–µ –Ω–µ –∑–∞–≥—Ä—É–∑–∏–ª–æ—Å—å
    const cachedProfile = getCachedUserData('user-123');
    console.log('üì¶ –ò—Å–ø–æ–ª—å–∑—É–µ–º –∫—ç—à–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ:', cachedProfile);
  } else {
    console.error('üí• –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞:', (error as Error).message);
  }
}
</code></pre>
<hr />
<h2 id="–°–æ–Ω–µ—Ç-5-–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ-—Å-id-—Ç—Ä–µ–π—Å–∏–Ω–≥–∞"><a class="header" href="#–°–æ–Ω–µ—Ç-5-–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ-—Å-id-—Ç—Ä–µ–π—Å–∏–Ω–≥–∞">–°–æ–Ω–µ—Ç 5: –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å ID —Ç—Ä–µ–π—Å–∏–Ω–≥–∞</a></h2>
<pre><code class="language-typescript">interface ErrorContext {
  errorId: string;
  requestId: string;
  userId?: string;
  timestamp: string;
  severity: 'critical' | 'error' | 'warning';
  message: string;
  code: string;
  stack?: string;
  context: Record&lt;string, any&gt;;
}

class AdvancedErrorLogger {
  private log(errorContext: ErrorContext): void {
    // –õ–æ–≥–∏—Ä—É–µ–º –ª–æ–∫–∞–ª—å–Ω–æ (–ø–æ–ª–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è —Å stack trace)
    const localEntry = {
      ...errorContext,
      timestamp: new Date().toISOString()
    };
    
    console.error('üìã [LOCAL LOG]', JSON.stringify(localEntry, null, 2));
    
    // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –Ω–∞ —É–¥–∞–ª—ë–Ω–Ω—ã–π —Å–µ—Ä–≤–∏—Å (–æ—á–∏—â–µ–Ω–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è)
    this.sendToRemoteService({
      ...errorContext,
      stack: undefined, // –ù–µ —à–ª—ë–º –ª–æ–∫–∞–ª—å–Ω—ã–µ –ø—É—Ç–∏
      context: this.filterSensitiveFields(errorContext.context)
    });
  }
  
  private filterSensitiveFields(data: Record&lt;string, any&gt;): Record&lt;string, any&gt; {
    const sensitive = ['password', 'token', 'creditCard', 'ssn', 'apiKey'];
    
    return Object.fromEntries(
      Object.entries(data).map(([key, value]) =&gt; [
        key,
        sensitive.includes(key) ? '[REDACTED]' : value
      ])
    );
  }
  
  private sendToRemoteService(context: Partial&lt;ErrorContext&gt;): void {
    // –í production ‚Äî –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º –≤ DataDog, ElasticSearch, CloudWatch, –∏ —Ç.–¥.
    console.log('‚òÅÔ∏è  [REMOTE]', {
      errorId: context.errorId,
      requestId: context.requestId,
      message: context.message,
      code: context.code
    });
  }
  
  captureError(
    error: Error,
    context: Partial&lt;ErrorContext&gt;
  ): string {
    const errorId = this.generateUUID();
    
    const fullContext: ErrorContext = {
      errorId,
      requestId: context.requestId || 'unknown',
      userId: context.userId,
      timestamp: new Date().toISOString(),
      severity: (context.severity || 'error') as any,
      message: error.message,
      code: (error as any).code || 'UNKNOWN',
      stack: error.stack,
      context: context.context || {}
    };
    
    this.log(fullContext);
    return errorId;
  }
  
  private generateUUID(): string {
    return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, (c) =&gt; {
      const r = Math.random() * 16 | 0;
      const v = c === 'x' ? r : (r &amp; 0x3 | 0x8);
      return v.toString(16);
    });
  }
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ Express –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏
const errorLogger = new AdvancedErrorLogger();

app.use((req, res, next) =&gt; {
  req.id = generateUUID(); // –î–æ–±–∞–≤–ª—è–µ–º ID –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞
  next();
});

app.post('/orders/:orderId/payment', async (req, res) =&gt; {
  try {
    const payment = await processPayment(req.params.orderId, req.body);
    res.json({ success: true, payment });
  } catch (error) {
    const errorId = errorLogger.captureError(error as Error, {
      requestId: req.id,
      userId: req.user?.id,
      severity: 'error',
      context: {
        orderId: req.params.orderId,
        amount: req.body.amount,
        method: 'POST'
      }
    });
    
    // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º ID –æ—à–∏–±–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é
    res.status(500).json({
      error: '–ü–ª–∞—Ç—ë–∂ –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –æ–±—Ä–∞–±–æ—Ç–∞–Ω –≤ –¥–∞–Ω–Ω—ã–π –º–æ–º–µ–Ω—Ç',
      errorId, // –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —ç—Ç–æ –¥–ª—è support
      message: '–û–±—Ä–∞—Ç–∏—Ç–µ—Å—å –≤ —Å–ª—É–∂–± –ø–æ–¥–¥–µ—Ä–∂–∫–∏ —Å –∫–æ–¥–æ–º –æ—à–∏–±–∫–∏: ' + errorId
    });
  }
});

// –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –ø–æ—Å–ª–µ —Ä–∞—Å—Å–∫–∞–∑–∞—Ç—å support: "–£ –º–µ–Ω—è –±—ã–ª–∞ –æ—à–∏–±–∫–∞ 550e8400-e29b-41d4-a716-446655440000"
// –ê support —Å—Ä–∞–∑—É –Ω–∞–π–¥—ë—Ç –ø–æ–ª–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –≤ —Å–∏—Å—Ç–µ–º–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
</code></pre>
<hr />
<h2 id="–°–æ–Ω–µ—Ç-6-–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ-–æ—à–∏–±–∫–∏-–≤-eventemitter"><a class="header" href="#–°–æ–Ω–µ—Ç-6-–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ-–æ—à–∏–±–∫–∏-–≤-eventemitter">–°–æ–Ω–µ—Ç 6: –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ –æ—à–∏–±–∫–∏ –≤ EventEmitter</a></h2>
<pre><code class="language-typescript">class DataProcessor extends EventEmitter {
  constructor() {
    super({
      captureRejections: true // –õ–æ–≤–∏–º –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ –æ—à–∏–±–∫–∏!
    });
    
    // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –¥–ª—è –≤—Å–µ—Ö –æ—Ç–∫–ª–æ–Ω–µ–Ω–Ω—ã—Ö –ø—Ä–æ–º–∏—Å–æ–≤
    this.on('error', (error) =&gt; {
      console.error('üî• –ü–æ–π–º–∞–Ω–∞ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –æ—à–∏–±–∫–∞:', error.message);
      this.logError(error);
    });
  }
  
  processDataBatch(items: any[]): void {
    // –≠—Ç–∞ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –æ—à–∏–±–∫–∞ –ë–£–î–ï–¢ –ø–æ–π–º–∞–Ω–∞ –±–ª–∞–≥–æ–¥–∞—Ä—è captureRejections
    this.on('item', async (item) =&gt; {
      if (!item.id) {
        throw new Error(`Item –±–µ–∑ ID: ${JSON.stringify(item)}`);
      }
      
      await this.saveToDatabase(item);
      this.emit('itemProcessed', item);
    });
    
    for (const item of items) {
      this.emit('item', item);
    }
  }
  
  private async saveToDatabase(item: any): Promise&lt;void&gt; {
    // –ò–º–∏—Ç–∞—Ü–∏—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –≤ –ë–î
    return new Promise((resolve) =&gt; setTimeout(resolve, 100));
  }
  
  private logError(error: Error): void {
    console.error('üìù –õ–æ–≥–∏—Ä—É–µ–º –æ—à–∏–±–∫—É –≤ —Å–∏—Å—Ç–µ–º—É:', {
      message: error.message,
      stack: error.stack
    });
  }
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
const processor = new DataProcessor();

processor.on('itemProcessed', (item) =&gt; {
  console.log('‚úÖ –≠–ª–µ–º–µ–Ω—Ç –æ–±—Ä–∞–±–æ—Ç–∞–Ω:', item.id);
});

processor.processDataBatch([
  { id: 1, data: 'first' },
  { id: 2, data: 'second' },
  { data: 'third' }, // ‚ùå –û—à–∏–±–∫–∞! –ù–µ—Ç ID, –±—É–¥–µ—Ç –ø–æ–π–º–∞–Ω–∞
  { id: 4, data: 'fourth' }
]);

/**
 * –ë–µ–∑ captureRejections: –æ—à–∏–±–∫–∞ –ø–æ—Ç–µ—Ä—è–µ—Ç—Å—è –≤ –∫–æ–Ω—Å–æ–ª–∏
 * –° captureRejections: –æ—à–∏–±–∫–∞ –±—É–¥–µ—Ç –æ–±—Ä–∞–±–æ—Ç–∞–Ω–∞ –≤ 'error' –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–µ
 */
</code></pre>
<hr />
<h2 id="7-–ü–∞—Ç—Ç–µ—Ä–Ω-either-–¥–ª—è-—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–≥–æ-—Å—Ç–∏–ª—è"><a class="header" href="#7-–ü–∞—Ç—Ç–µ—Ä–Ω-either-–¥–ª—è-—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–≥–æ-—Å—Ç–∏–ª—è">7: –ü–∞—Ç—Ç–µ—Ä–Ω Either –¥–ª—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–≥–æ —Å—Ç–∏–ª—è</a></h2>
<pre><code class="language-typescript">
// Either type –¥–ª—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–≥–æ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è
type Either&lt;L, R&gt; = 
  | { tag: 'left'; value: L }
  | { tag: 'right'; value: R };

function left&lt;L, R&gt;(value: L): Either&lt;L, R&gt; {
  return { tag: 'left', value };
}

function right&lt;L, R&gt;(value: R): Either&lt;L, R&gt; {
  return { tag: 'right', value };
}

// –£—Ç–∏–ª–∏—Ç—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å Either
const Either = {
  map: &lt;L, R1, R2&gt;(
    either: Either&lt;L, R1&gt;,
    fn: (value: R1) =&gt; R2
  ): Either&lt;L, R2&gt; =&gt; {
    return either.tag === 'right'
      ? right(fn(either.value))
      : either;
  },
  
  flatMap: &lt;L, R1, R2&gt;(
    either: Either&lt;L, R1&gt;,
    fn: (value: R1) =&gt; Either&lt;L, R2&gt;
  ): Either&lt;L, R2&gt; =&gt; {
    return either.tag === 'right'
      ? fn(either.value)
      : either;
  },
  
  fold: &lt;L, R, A&gt;(
    either: Either&lt;L, R&gt;,
    onLeft: (value: L) =&gt; A,
    onRight: (value: R) =&gt; A
  ): A =&gt; {
    return either.tag === 'left'
      ? onLeft(either.value)
      : onRight(either.value);
  }
};

// –ü—Ä–∏–º–µ—Ä—ã —Ñ—É–Ω–∫—Ü–∏–π, –≤–æ–∑–≤—Ä–∞—â–∞—é—â–∏—Ö Either

function parseJSON(str: string): Either&lt;Error, any&gt; {
  try {
    return right(JSON.parse(str));
  } catch (error) {
    return left(error as Error);
  }
}

async function fetchUser(userId: string): Promise&lt;Either&lt;Error, User&gt;&gt; {
  try {
    const response = await fetch(`/api/users/${userId}`);
    if (!response.ok) {
      return left(new Error(`HTTP ${response.status}`));
    }
    const user = await response.json();
    return right(user);
  } catch (error) {
    return left(error as Error);
  }
}

function validateUser(user: User): Either&lt;Error, User&gt; {
  if (!user.email) {
    return left(new Error('Email is required'));
  }
  if (user.email.indexOf('@') === -1) {
    return left(new Error('Invalid email format'));
  }
  return right(user);
}

// –ö–æ–º–ø–æ–∑–∏—Ü–∏—è Either –æ–ø–µ—Ä–∞—Ü–∏–π
async function loadAndValidateUser(userId: string): Promise&lt;Either&lt;Error, User&gt;&gt; {
  const result = await fetchUser(userId);
  
  if (result.tag === 'left') {
    return result;
  }
  
  return validateUser(result.value);
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
loadAndValidateUser('user-123').then(result =&gt; {
  Either.fold(
    result,
    // onLeft ‚Äî —á—Ç–æ –¥–µ–ª–∞—Ç—å –µ—Å–ª–∏ –æ—à–∏–±–∫–∞
    (error) =&gt; {
      console.error('‚ùå –û—à–∏–±–∫–∞:', error.message);
      return 'FAILURE';
    },
    // onRight ‚Äî —á—Ç–æ –¥–µ–ª–∞—Ç—å –µ—Å–ª–∏ —É—Å–ø–µ—Ö
    (user) =&gt; {
      console.log('‚úÖ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∑–∞–≥—Ä—É–∂–µ–Ω:', user.name);
      return 'SUCCESS';
    }
  );
});

// –ë–æ–ª–µ–µ —ç–ª–µ–≥–∞–Ω—Ç–Ω–æ —Å —Ü–µ–ø–æ—á–∫–æ–π –æ–ø–µ—Ä–∞—Ü–∏–π
loadAndValidateUser('user-123').then(result =&gt; {
  const message = Either.fold(
    result,
    (error) =&gt; `‚ùå –û—à–∏–±–∫–∞: ${error.message}`,
    (user) =&gt; `‚úÖ –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å, ${user.name}!`
  );
  console.log(message);
});
</code></pre>
<hr />
<h2 id="8-graceful-shutdown-–ø—Ä–∏-–æ—à–∏–±–∫–∞—Ö"><a class="header" href="#8-graceful-shutdown-–ø—Ä–∏-–æ—à–∏–±–∫–∞—Ö">8: Graceful Shutdown –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö</a></h2>
<pre><code class="language-typescript">
class Application {
  private db: DatabaseConnection | null = null;
  private server: Server | null = null;
  private requestCount = 0;
  private isShuttingDown = false;
  
  async start(): Promise&lt;void&gt; {
    // –ü–æ–¥–∫–ª—é—á–∞–µ–º—Å—è –∫ –ë–î
    this.db = await DatabaseConnection.create();
    
    // –°–æ–∑–¥–∞—ë–º —Å–µ—Ä–≤–µ—Ä
    this.server = createServer(async (req, res) =&gt; {
      if (this.isShuttingDown) {
        res.writeHead(503, { 'Retry-After': '30' });
        res.end('Service is shutting down');
        return;
      }
      
      this.requestCount++;
      try {
        await this.handleRequest(req, res);
      } finally {
        this.requestCount--;
      }
    });
    
    this.server.listen(3000, () =&gt; {
      console.log('üöÄ –°–µ—Ä–≤–µ—Ä –∑–∞–ø—É—â–µ–Ω –Ω–∞ –ø–æ—Ä—Ç—É 3000');
    });
    
    // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–∏–≥–Ω–∞–ª–æ–≤ –û–°
    process.on('SIGTERM', () =&gt; this.gracefulShutdown('SIGTERM'));
    process.on('SIGINT', () =&gt; this.gracefulShutdown('SIGINT'));
    
    // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –Ω–µ–æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã—Ö –æ—à–∏–±–æ–∫
    process.on('uncaughtException', (error) =&gt; {
      console.error('üí• –ù–µ–æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω–æ–µ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ:', error);
      this.gracefulShutdown('uncaughtException');
    });
    
    process.on('unhandledRejection', (reason) =&gt; {
      console.error('‚ö†Ô∏è  –ù–µ–æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω–æ–µ –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏–µ:', reason);
      this.gracefulShutdown('unhandledRejection');
    });
  }
  
  private async handleRequest(req: any, res: any): Promise&lt;void&gt; {
    try {
      // –û–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞–ø—Ä–æ—Å–∞
      res.writeHead(200, { 'Content-Type': 'application/json' });
      res.end(JSON.stringify({ status: 'ok' }));
    } catch (error) {
      console.error('‚ùå –û—à–∏–±–∫–∞ –ø—Ä–∏ –æ–±—Ä–∞–±–æ—Ç–∫–µ –∑–∞–ø—Ä–æ—Å–∞:', error);
      res.writeHead(500);
      res.end('Internal Server Error');
    }
  }
  
  private async gracefulShutdown(signal: string): Promise&lt;void&gt; {
    if (this.isShuttingDown) return;
    
    this.isShuttingDown = true;
    console.log(`\nüõë –ü–æ–ª—É—á–µ–Ω —Å–∏–≥–Ω–∞–ª: ${signal}`);
    console.log('üìç –ù–∞—á–∏–Ω–∞–µ–º graceful shutdown...');
    
    // –®–∞–≥ 1: –ü—Ä–µ–∫—Ä–∞—â–∞–µ–º –ø—Ä–∏–Ω–∏–º–∞—Ç—å –Ω–æ–≤—ã–µ –∑–∞–ø—Ä–æ—Å—ã
    this.server?.close(() =&gt; {
      console.log('‚úì –°–µ—Ä–≤–µ—Ä –∑–∞–∫—Ä—ã—Ç –¥–ª—è –Ω–æ–≤—ã—Ö –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π');
    });
    
    // –®–∞–≥ 2: –û–∂–∏–¥–∞–µ–º –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Ç–µ–∫—É—â–∏—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ (–º–∞–∫—Å 30 —Å–µ–∫)
    const shutdownTimeout = setTimeout(() =&gt; {
      console.error('‚ùå Timeout –ø—Ä–∏ shutdown, –≤—ã—Ö–æ–¥–∏–º');
      process.exit(1);
    }, 30000);
    
    const waitInterval = setInterval(() =&gt; {
      console.log(`‚è≥ –û–∂–∏–¥–∞–µ–º –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è ${this.requestCount} –∑–∞–ø—Ä–æ—Å–æ–≤...`);
      
      if (this.requestCount === 0) {
        clearInterval(waitInterval);
        clearTimeout(shutdownTimeout);
        
        // –®–∞–≥ 3: –ó–∞–∫—Ä—ã–≤–∞–µ–º –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –ë–î
        this.db?.close().then(() =&gt; {
          console.log('‚úì –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –ë–î –∑–∞–∫—Ä—ã—Ç–æ');
          console.log('‚úì Graceful shutdown –∑–∞–≤–µ—Ä—à—ë–Ω');
          process.exit(0);
        });
      }
    }, 1000);
  }
}

// –ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
const app = new Application();
app.start().catch((error) =&gt; {
  console.error('üí• –û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:', error);
  process.exit(1);
});
</code></pre>
<hr />
<h2 id="–ó–∞–∫–ª—é—á–µ–Ω–∏–µ-1"><a class="header" href="#–ó–∞–∫–ª—é—á–µ–Ω–∏–µ-1">–ó–∞–∫–ª—é—á–µ–Ω–∏–µ</a></h2>
<p>–ö–∞–∂–¥—ã–π —Å–æ–Ω–µ—Ç –∏–ª–ª—é—Å—Ç—Ä–∏—Ä—É–µ—Ç –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã–π –∞—Å–ø–µ–∫—Ç –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫:</p>
<ol>
<li><strong>–í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ</strong> ‚Äî exponential backoff</li>
<li><strong>–¢—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏—è</strong> ‚Äî –º–µ–∂–¥—É —Å–ª–æ—è–º–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è</li>
<li><strong>–¶–µ–ø–æ—á–∫–∏</strong> ‚Äî Error.cause –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏</li>
<li><strong>–ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –æ—à–∏–±–∫–∏</strong> ‚Äî AggregateError</li>
<li><strong>–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ</strong> ‚Äî —Å ID —Ç—Ä–µ–π—Å–∏–Ω–≥–∞</li>
<li><strong>–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ –æ—à–∏–±–∫–∏</strong> ‚Äî captureRejections</li>
<li><strong>–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π —Å—Ç–∏–ª—å</strong> ‚Äî Either –ø–∞—Ç—Ç–µ—Ä–Ω</li>
<li><strong>–ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ</strong> ‚Äî graceful shutdown</li>
</ol>
<p>–≠—Ç–∏ –ø—Ä–∞–∫—Ç–∏–∫–∏ –æ–±–µ—Å–ø–µ—á–∏–≤–∞—é—Ç <strong>–Ω–∞–¥—ë–∂–Ω–æ—Å—Ç—å</strong>, <strong>–æ—Ç–ª–∞–¥–∫—É</strong> –∏ <strong>–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å</strong> –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="javascript-native-primitives"><a class="header" href="#javascript-native-primitives">JavaScript Native Primitives</a></h1>
<h2 id="–í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ-–∫–æ–Ω—Ç—Ä–∞–∫—Ç—ã-javascript"><a class="header" href="#–í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ-–∫–æ–Ω—Ç—Ä–∞–∫—Ç—ã-javascript">–í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ –∫–æ–Ω—Ç—Ä–∞–∫—Ç—ã JavaScript</a></h2>
<h3 id="–†–µ–∑—É–ª—å—Ç–∞—Ç—ã-–æ–ø—Ä–æ—Å–∞-–ø–æ–Ω–∏–º–∞–Ω–∏—è-–∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤"><a class="header" href="#–†–µ–∑—É–ª—å—Ç–∞—Ç—ã-–æ–ø—Ä–æ—Å–∞-–ø–æ–Ω–∏–º–∞–Ω–∏—è-–∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤">–†–µ–∑—É–ª—å—Ç–∞—Ç—ã –æ–ø—Ä–æ—Å–∞ –ø–æ–Ω–∏–º–∞–Ω–∏—è –∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤</a></h3>
<ul>
<li><strong>Callable</strong> - 43% –ø–æ–Ω–∏–º–∞—é—Ç</li>
<li><strong>Thenable</strong> - 60% –ø–æ–Ω–∏–º–∞—é—Ç</li>
<li><strong>Promise</strong> - 91% –ø–æ–Ω–∏–º–∞—é—Ç (—ç—Ç–æ –ø–æ–Ω—è—Ç–Ω–æ)</li>
<li><strong>Date-able</strong> - 70% –ø–æ–Ω–∏–º–∞—é—Ç</li>
<li><strong>Async Iterator</strong> - 52% –ø–æ–Ω–∏–º–∞—é—Ç</li>
<li><strong>Array-like</strong> - –ø—Ä–∏–º–µ—Ä–Ω–æ 45%</li>
<li><strong>Observable</strong> - –ø—Ä–∏–º–µ—Ä–Ω–æ 45%</li>
<li><strong>Stream</strong> - –ø—Ä–∏–º–µ—Ä–Ω–æ 45%</li>
<li><strong>Transferable</strong> - 8% –ø–æ–Ω–∏–º–∞—é—Ç (–Ω–∞–∏–±–æ–ª–µ–µ –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω–∞—è —à—Ç—É–∫–∞)</li>
<li><strong>Callback (error-first)</strong> - 52% –ø–æ–Ω–∏–º–∞—é—Ç</li>
</ul>
<p>–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏ –≤—Å—ë, –∫—Ä–æ–º–µ callable –∏ transferable, –Ω–∞ —Å–ª—É—Ö—É. –ù–æ –Ω—É–∂–Ω—ã –ø—Ä–∏–º–µ—Ä—ã –∏ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è. –ö–∞–∫ –¥–ª—è –≤—Å–µ—Ö –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤ —Ç–µ–ø–µ—Ä—å –µ—Å—Ç—å –∏–Ω–¥–µ–∫—Å —Å –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è–º–∏, —Ç–∞–∫–∏–µ –∂–µ –∏–Ω–¥–µ–∫—Å—ã –ø–æ—è–≤—è—Ç—Å—è –¥–ª—è –∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–≥–æ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã—Ö –∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤ JavaScript.</p>
<hr />
<h2 id="–ß—Ç–æ-—Ç–∞–∫–æ–µ-callable-–≤—ã–∑—ã–≤–∞–µ–º–æ–µ"><a class="header" href="#–ß—Ç–æ-—Ç–∞–∫–æ–µ-callable-–≤—ã–∑—ã–≤–∞–µ–º–æ–µ">–ß—Ç–æ —Ç–∞–∫–æ–µ Callable (–≤—ã–∑—ã–≤–∞–µ–º–æ–µ)</a></h2>
<h3 id="–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ"><a class="header" href="#–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ">–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ</a></h3>
<p><strong>Callable</strong> - —ç—Ç–æ –≤—Å—ë, —á—Ç–æ –º–æ–∂–µ—Ç –±—ã—Ç—å –≤—ã–∑–≤–∞–Ω–æ –∫–∞–∫ —Ñ—É–Ω–∫—Ü–∏—è. –≠—Ç–æ –∫–æ–Ω—Ç—Ä–∞–∫—Ç, –∫–æ—Ç–æ—Ä—ã–π –Ω–µ–º–Ω–æ–∂–µ—á–∫–æ —Å–ª–æ–∂–Ω–µ–µ, —á–µ–º –º–æ–∂–µ—Ç –ø–æ–∫–∞–∑–∞—Ç—å—Å—è. –°–ª–æ–≤–æ "callable" –æ—á–µ–Ω—å —Ä–µ–¥–∫–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ –º–∏—Ä–µ JavaScript, —Ö–æ—Ç—è —ç—Ç–æ —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–∞–ª—å–Ω–æ–µ –ø–æ–Ω—è—Ç–∏–µ.</p>
<h3 id="–ß—Ç–æ-–º–æ–∂–µ—Ç-–±—ã—Ç—å-callable"><a class="header" href="#–ß—Ç–æ-–º–æ–∂–µ—Ç-–±—ã—Ç—å-callable">–ß—Ç–æ –º–æ–∂–µ—Ç –±—ã—Ç—å callable?</a></h3>
<p>–í—ã–∑–≤–∞–Ω–æ –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ —Ç–æ–ª—å–∫–æ —Ñ—É–Ω–∫—Ü–∏—è! –í—Å–µ, —á—Ç–æ –º–æ–∂–Ω–æ –≤—ã–∑–≤–∞—Ç—å –∫–∞–∫ —Ñ—É–Ω–∫—Ü–∏—é - —ç—Ç–æ callable:</p>
<ol>
<li><strong>–û–±—ã—á–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è</strong></li>
<li><strong>–û–±—ä–µ–∫—Ç —á–µ—Ä–µ–∑ Proxy</strong> —Å –ª–æ–≤—É—à–∫–æ–π <code>apply</code></li>
</ol>
<h3 id="–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç—å-callable"><a class="header" href="#–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç—å-callable">–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç—å callable</a></h3>
<p>–≠—Ç–æ –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–∞—è —à—Ç—É–∫–∞, –∫–æ—Ç–æ—Ä—É—é –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ –æ–±—ä—è–≤–∏—Ç—å —É –æ–±—ä–µ–∫—Ç–∞ –Ω–∞–ø—Ä—è–º—É—é. –ú—ã –Ω–µ –º–æ–∂–µ–º –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –º–µ—Ç–æ–¥ <code>call</code> —É –æ–±—ä–µ–∫—Ç–∞ –≤ JavaScript. –ù–æ –µ—Å–ª–∏ –º—ã —É–Ω–∞—Å–ª–µ–¥—É–µ–º—Å—è –æ—Ç –∫–ª–∞—Å—Å–∞ <code>Function</code>, —ç–∫–∑–µ–º–ø–ª—è—Ä —ç—Ç–æ–≥–æ –∫–ª–∞—Å—Å–∞ –±—É–¥–µ—Ç callable.</p>
<h3 id="–ü—Ä–∏–º–µ—Ä—ã-–∫–æ–¥–∞"><a class="header" href="#–ü—Ä–∏–º–µ—Ä—ã-–∫–æ–¥–∞">–ü—Ä–∏–º–µ—Ä—ã –∫–æ–¥–∞</a></h3>
<h4 id="–ü—Ä–∏–º–µ—Ä-1-–û–±—ã—á–Ω–∞—è-—Ñ—É–Ω–∫—Ü–∏—è"><a class="header" href="#–ü—Ä–∏–º–µ—Ä-1-–û–±—ã—á–Ω–∞—è-—Ñ—É–Ω–∫—Ü–∏—è">–ü—Ä–∏–º–µ—Ä 1: –û–±—ã—á–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è</a></h4>
<pre><code class="language-javascript">// Just function
const callable = (...pars) =&gt; {
  const { length } = pars;
  return length;
};
</code></pre>
<h4 id="–ü—Ä–∏–º–µ—Ä-2-built-in-javascript-proxy"><a class="header" href="#–ü—Ä–∏–º–µ—Ä-2-built-in-javascript-proxy">–ü—Ä–∏–º–µ—Ä 2: Built-in JavaScript Proxy</a></h4>
<pre><code class="language-javascript">const proxy = new Proxy(callable, {
  apply: (target, context, args) =&gt; {
    console.log('call', target.name, context, args); // "call" "callable" undefined // [object Array] (3) [1,2,3]
    const res = target(...args);
    console.log('return', res); // "return" 3
    return res;
  },
});

const argCount = proxy(1, 2, 3);
console.log({ argCount }); // { "argCount": 3 }
</code></pre>
<h3 id="–í–∞–∂–Ω—ã–µ-–º–æ–º–µ–Ω—Ç—ã-–ø—Ä–æ-proxyapply"><a class="header" href="#–í–∞–∂–Ω—ã–µ-–º–æ–º–µ–Ω—Ç—ã-–ø—Ä–æ-proxyapply">–í–∞–∂–Ω—ã–µ –º–æ–º–µ–Ω—Ç—ã –ø—Ä–æ Proxy.apply</a></h3>
<ul>
<li><strong>target</strong> - –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è</li>
<li><strong>context</strong> - –∫–æ–Ω—Ç–µ–∫—Å—Ç –≤—ã–∑–æ–≤–∞</li>
<li><strong>args</strong> - –º–∞—Å—Å–∏–≤ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤ (—ç—Ç–æ –∏–º–µ–Ω–Ω–æ –º–∞—Å—Å–∏–≤, –∞ –Ω–µ array-like)</li>
</ul>
<p>–ü–µ—Ä–µ—Ö–≤–∞—Ç <code>apply</code> - —ç—Ç–æ –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π —Å–ø–æ—Å–æ–± —Å–¥–µ–ª–∞—Ç—å –æ–±—ã—á–Ω—ã–π –æ–±—ä–µ–∫—Ç callable –±–µ–∑ –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è –æ—Ç <code>Function</code>.</p>
<hr />
<h2 id="thenable-–æ–±–µ—â–∞–µ–º–æ–µ"><a class="header" href="#thenable-–æ–±–µ—â–∞–µ–º–æ–µ">Thenable (–æ–±–µ—â–∞–µ–º–æ–µ)</a></h2>
<h3 id="–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ-1"><a class="header" href="#–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ-1">–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ</a></h3>
<p><strong>Thenable</strong> - —ç—Ç–æ –æ–±—ä–µ–∫—Ç, —É –∫–æ—Ç–æ—Ä–æ–≥–æ –µ—Å—Ç—å –º–µ—Ç–æ–¥ <code>then</code>. –ù–∞ –±–∞–∑–µ —ç—Ç–æ–≥–æ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω Promise –∏ —Å–æ–≤–º–µ—Å—Ç–∏–º—ã–µ —Å Promise –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏, –∫–æ—Ç–æ—Ä—ã–µ —É–º–µ—é—Ç –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–æ–≤–∞—Ç—å —Å async/await.</p>
<h3 id="–°—Ç—Ä—É–∫—Ç—É—Ä–∞-thenable"><a class="header" href="#–°—Ç—Ä—É–∫—Ç—É—Ä–∞-thenable">–°—Ç—Ä—É–∫—Ç—É—Ä–∞ thenable</a></h3>
<pre><code class="language-javascript">const thenable = {
  then(onFulfilled, onRejected) {
    // –õ–æ–≥–∏–∫–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
    // onFulfilled –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∏ —É—Å–ø–µ—Ö–µ
    // onRejected –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∏ –æ—à–∏–±–∫–µ
  }
};
</code></pre>
<h3 id="–ü—Ä–∏–º–µ—Ä—ã-–∫–æ–¥–∞-1"><a class="header" href="#–ü—Ä–∏–º–µ—Ä—ã-–∫–æ–¥–∞-1">–ü—Ä–∏–º–µ—Ä—ã –∫–æ–¥–∞</a></h3>
<h4 id="–ü—Ä–∏–º–µ—Ä-thenable"><a class="header" href="#–ü—Ä–∏–º–µ—Ä-thenable">–ü—Ä–∏–º–µ—Ä: Thenable</a></h4>
<pre><code class="language-javascript">const numbers = {
  then(onFulfilled, onRejected) {
    console.log({ onFulfilled, onRejected }); // { "onFulfilled": function () { [native code] }, "onRejected": undefined  }
    const array = [1, 2, 3];
    onFulfilled(array); // [1,2,3]
    return numbers;
  },
};

const main = async () =&gt; {
  numbers.then(console.log); 
  const res = await numbers;
  console.log({ res });  // { "res": [ 1, 2, 3 ]  }
};

main();
</code></pre>
<h3 id="–°–≤—è–∑—å-—Å-promise"><a class="header" href="#–°–≤—è–∑—å-—Å-promise">–°–≤—è–∑—å —Å Promise</a></h3>
<p>Promise - —ç—Ç–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è thenable –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞ —Å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–º–∏ –º–µ—Ç–æ–¥–∞–º–∏ (<code>catch</code>, <code>finally</code>) –∏ –≥–∞—Ä–∞–Ω—Ç–∏—è–º–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è.</p>
<hr />
<h2 id="iterable-–ø–µ—Ä–µ–±–∏—Ä–∞–µ–º–æ–µ"><a class="header" href="#iterable-–ø–µ—Ä–µ–±–∏—Ä–∞–µ–º–æ–µ">Iterable (–ø–µ—Ä–µ–±–∏—Ä–∞–µ–º–æ–µ)</a></h2>
<h3 id="–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ-2"><a class="header" href="#–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ-2">–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ</a></h3>
<p><strong>Iterable</strong> - —ç—Ç–æ –æ–±—ä–µ–∫—Ç, –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–Ω–æ –ø–µ—Ä–µ–±—Ä–∞—Ç—å –≤ —Ü–∏–∫–ª–µ <code>for...of</code>. –û–±—ä–µ–∫—Ç —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è iterable, –∫–æ–≥–¥–∞ —Ä–µ–∞–ª–∏–∑—É–µ—Ç –º–µ—Ç–æ–¥ <code>[Symbol.iterator]()</code>, –≤–æ–∑–≤—Ä–∞—â–∞—é—â–∏–π iterator.</p>
<h3 id="–°—Ç—Ä—É–∫—Ç—É—Ä–∞-iterable"><a class="header" href="#–°—Ç—Ä—É–∫—Ç—É—Ä–∞-iterable">–°—Ç—Ä—É–∫—Ç—É—Ä–∞ iterable</a></h3>
<pre><code class="language-javascript">const iterable = {
  [Symbol.iterator]() {
    // –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç iterator —Å –º–µ—Ç–æ–¥–æ–º next()
    return {
      next() {
        return {
          value: /* –∑–Ω–∞—á–µ–Ω–∏–µ */,
          done: /* true/false */
        };
      }
    };
  }
};
</code></pre>
<h3 id="–ü—Ä–∏–º–µ—Ä—ã-–∫–æ–¥–∞-2"><a class="header" href="#–ü—Ä–∏–º–µ—Ä—ã-–∫–æ–¥–∞-2">–ü—Ä–∏–º–µ—Ä—ã –∫–æ–¥–∞</a></h3>
<h4 id="–ü—Ä–∏–º–µ—Ä-1-–ü—Ä–æ—Å—Ç–æ–π-iterable"><a class="header" href="#–ü—Ä–∏–º–µ—Ä-1-–ü—Ä–æ—Å—Ç–æ–π-iterable">–ü—Ä–∏–º–µ—Ä 1: –ü—Ä–æ—Å—Ç–æ–π iterable</a></h4>
<pre><code class="language-javascript">// –ü—Ä–æ—Å—Ç–æ–π iterable –æ–±—ä–µ–∫—Ç
const range = (start, end) =&gt; ({
  [Symbol.iterator]() {
    let current = start;
    return {
      next() {
        if (current &lt;= end) {
          return { value: current++, done: false };
        }
        return { done: true };
      }
    };
  }
});

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
for (const num of range(1, 5)) {
  console.log(num); // 1, 2, 3, 4, 5
}
</code></pre>
<h4 id="–ü—Ä–∏–º–µ—Ä-2-iterable-–∫–æ–ª–ª–µ–∫—Ü–∏—è"><a class="header" href="#–ü—Ä–∏–º–µ—Ä-2-iterable-–∫–æ–ª–ª–µ–∫—Ü–∏—è">–ü—Ä–∏–º–µ—Ä 2: Iterable –∫–æ–ª–ª–µ–∫—Ü–∏—è</a></h4>
<pre><code class="language-javascript">// Iterable –∫–æ–ª–ª–µ–∫—Ü–∏—è
class Collection {
  constructor() {
    this.items = [];
  }

  add(item) {
    this.items.push(item);
  }

  [Symbol.iterator]() {
    let index = 0;
    const items = this.items;
    
    return {
      next() {
        if (index &lt; items.length) {
          return { value: items[index++], done: false };
        }
        return { done: true };
      }
    };
  }
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
const collection = new Collection();
collection.add('apple');
collection.add('banana');
collection.add('orange');

for (const item of collection) {
  console.log(item);
}
// apple
// banana
// orange
</code></pre>
<h4 id="–ü—Ä–∏–º–µ—Ä-3-iterable"><a class="header" href="#–ü—Ä–∏–º–µ—Ä-3-iterable">–ü—Ä–∏–º–µ—Ä 3: Iterable</a></h4>
<pre><code class="language-javascript">const DONE = { done: true, value: undefined };

const iterable = {
  [Symbol.iterator]() {
    let i = 0;
    const iterator = {
      next() {
        return {
          value: i++,
          done: i &gt; 3,
        };
      },

      throw(error) {
        console.log('throws:', error.message);
        return DONE;
      },

      return(value) {
        console.log('returns', value);
        return DONE;
      },
    };
    return iterator;
  },
};

const fn = () =&gt; {
  for (const value of iterable) {
    console.log({ value }); // { "value": 0 }
    //throw new Error('Hello');
    //return;
    break;
  }
};

fn();
</code></pre>
<hr />
<h2 id="async-iterator-–∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π-–∏—Ç–µ—Ä–∞—Ç–æ—Ä"><a class="header" href="#async-iterator-–∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π-–∏—Ç–µ—Ä–∞—Ç–æ—Ä">Async Iterator (–∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –∏—Ç–µ—Ä–∞—Ç–æ—Ä)</a></h2>
<h3 id="–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ-3"><a class="header" href="#–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ-3">–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ</a></h3>
<p><strong>Async Iterator</strong> - —ç—Ç–æ –∏—Ç–µ—Ä–∞—Ç–æ—Ä, –∫–æ—Ç–æ—Ä—ã–π —Ä–∞–±–æ—Ç–∞–µ—Ç —Å –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏. –†–µ–∞–ª–∏–∑—É–µ—Ç –º–µ—Ç–æ–¥ <code>[Symbol.asyncIterator]()</code> –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç promises –∏–∑ –º–µ—Ç–æ–¥–∞ <code>next()</code>.</p>
<h3 id="–°—Ç—Ä—É–∫—Ç—É—Ä–∞-async-iterator"><a class="header" href="#–°—Ç—Ä—É–∫—Ç—É—Ä–∞-async-iterator">–°—Ç—Ä—É–∫—Ç—É—Ä–∞ async iterator</a></h3>
<pre><code class="language-javascript">const asyncIterable = {
  [Symbol.asyncIterator]() {
    return {
      async next() {
        return {
          value: /* –∑–Ω–∞—á–µ–Ω–∏–µ */,
          done: /* true/false */
        };
      }
    };
  }
};
</code></pre>
<h3 id="–ü—Ä–∏–º–µ—Ä—ã-–∫–æ–¥–∞-3"><a class="header" href="#–ü—Ä–∏–º–µ—Ä—ã-–∫–æ–¥–∞-3">–ü—Ä–∏–º–µ—Ä—ã –∫–æ–¥–∞</a></h3>
<h4 id="–ü—Ä–∏–º–µ—Ä"><a class="header" href="#–ü—Ä–∏–º–µ—Ä">–ü—Ä–∏–º–µ—Ä:</a></h4>
<pre><code class="language-javascript">const DONE = { done: true, value: undefined };

const iterable = {
  [Symbol.asyncIterator]() {
    let i = 0;
    const iterator = {
      async next() {
        return {
          value: i++,
          done: i &gt; 3,
        };
      },

      async throw(error) {
        console.log('throws:', error.message);
        return DONE;
      },

      async return(value) {
        console.log('returns', value); // "returns" undefined
        return DONE;
      },
    };
    return iterator;
  },
};

const fn = async () =&gt; {
  for await (const value of iterable) {
    console.log({ value }); // { "value": 0 }
    throw new Error('Hello');
    //return;
    //break;
  }
};

fn();
</code></pre>
<hr />
<h2 id="array-like-–ø—Å–µ–≤–¥–æ–º–∞—Å—Å–∏–≤"><a class="header" href="#array-like-–ø—Å–µ–≤–¥–æ–º–∞—Å—Å–∏–≤">Array-like (–ø—Å–µ–≤–¥–æ–º–∞—Å—Å–∏–≤)</a></h2>
<h3 id="–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ-4"><a class="header" href="#–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ-4">–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ</a></h3>
<p><strong>Array-like</strong> - —ç—Ç–æ –æ–±—ä–µ–∫—Ç, –∫–æ—Ç–æ—Ä—ã–π –≤—ã–≥–ª—è–¥–∏—Ç –∫–∞–∫ –º–∞—Å—Å–∏–≤: –∏–º–µ–µ—Ç —á–∏—Å–ª–æ–≤—ã–µ –∏–Ω–¥–µ–∫—Å—ã –∏ —Å–≤–æ–π—Å—Ç–≤–æ <code>length</code>, –Ω–æ –Ω–µ —è–≤–ª—è–µ—Ç—Å—è –Ω–∞—Å—Ç–æ—è—â–∏–º –º–∞—Å—Å–∏–≤–æ–º –∏ –Ω–µ –∏–º–µ–µ—Ç –º–µ—Ç–æ–¥–æ–≤ Array.prototype.</p>
<h3 id="–°—Ç—Ä—É–∫—Ç—É—Ä–∞-array-like"><a class="header" href="#–°—Ç—Ä—É–∫—Ç—É—Ä–∞-array-like">–°—Ç—Ä—É–∫—Ç—É—Ä–∞ array-like</a></h3>
<pre><code class="language-javascript">const arrayLike = {
  0: 'first',
  1: 'second',
  2: 'third',
  length: 3
};
</code></pre>
<h3 id="–ü—Ä–∏–º–µ—Ä—ã-–∫–æ–¥–∞-4"><a class="header" href="#–ü—Ä–∏–º–µ—Ä—ã-–∫–æ–¥–∞-4">–ü—Ä–∏–º–µ—Ä—ã –∫–æ–¥–∞</a></h3>
<h4 id="–ü—Ä–∏–º–µ—Ä-1-–°–æ–∑–¥–∞–Ω–∏–µ-array-like-–æ–±—ä–µ–∫—Ç–∞"><a class="header" href="#–ü—Ä–∏–º–µ—Ä-1-–°–æ–∑–¥–∞–Ω–∏–µ-array-like-–æ–±—ä–µ–∫—Ç–∞">–ü—Ä–∏–º–µ—Ä 1: –°–æ–∑–¥–∞–Ω–∏–µ array-like –æ–±—ä–µ–∫—Ç–∞</a></h4>
<pre><code class="language-javascript">// –ü—Ä–æ—Å—Ç–æ–π array-like –æ–±—ä–µ–∫—Ç
const createArrayLike = (...items) =&gt; {
  const obj = { length: items.length };
  items.forEach((item, index) =&gt; {
    obj[index] = item;
  });
  return obj;
};

const arrayLike = createArrayLike('a', 'b', 'c');
console.log(arrayLike); // { 0: 'a', 1: 'b', 2: 'c', length: 3 }
console.log(arrayLike[1]); // 'b'
console.log(arrayLike.length); // 3
</code></pre>
<h4 id="–ü—Ä–∏–º–µ—Ä-2-–ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ-–≤-–Ω–∞—Å—Ç–æ—è—â–∏–π-–º–∞—Å—Å–∏–≤"><a class="header" href="#–ü—Ä–∏–º–µ—Ä-2-–ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ-–≤-–Ω–∞—Å—Ç–æ—è—â–∏–π-–º–∞—Å—Å–∏–≤">–ü—Ä–∏–º–µ—Ä 2: –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –≤ –Ω–∞—Å—Ç–æ—è—â–∏–π –º–∞—Å—Å–∏–≤</a></h4>
<pre><code class="language-javascript">// –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ array-like –≤ –º–∞—Å—Å–∏–≤
const arrayLike = {
  0: 10,
  1: 20,
  2: 30,
  length: 3
};

// –°–ø–æ—Å–æ–± 1: Array.from()
const arr1 = Array.from(arrayLike);
console.log(arr1); // [10, 20, 30]

// –°–ø–æ—Å–æ–± 2: Spread operator
const arr2 = [...arrayLike]; // –ù–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –¥–ª—è array-like –±–µ–∑ –∏—Ç–µ—Ä–∞—Ç–æ—Ä–∞

// –°–ø–æ—Å–æ–± 3: Array.prototype.slice
const arr3 = Array.prototype.slice.call(arrayLike);
console.log(arr3); // [10, 20, 30]
</code></pre>
<h4 id="–ü—Ä–∏–º–µ—Ä-3-–ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π-array-like-–Ω–∞-–∫–ª–∞—Å—Å–∞—Ö"><a class="header" href="#–ü—Ä–∏–º–µ—Ä-3-–ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π-array-like-–Ω–∞-–∫–ª–∞—Å—Å–∞—Ö">–ü—Ä–∏–º–µ—Ä 3: –ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π array-like –Ω–∞ –∫–ª–∞—Å—Å–∞—Ö</a></h4>
<pre><code class="language-javascript">// Class

class ArrayLike {
  constructor(...items) {
    for (let i = 0; i &lt; items.length; i++) {
      this[i] = items[i];
    }
    this.length = items.length;
  }
}

const instance = new ArrayLike('a', 'b'); // {"0": "a","1": "b","length": 2}
console.log(Array.from(instance)); // ["a","b"]

// Arguments

const f = function () {
  console.log(arguments);
  console.log(arguments.length);
};

f('a', 'b');
</code></pre>
<hr />
<h2 id="observable-–Ω–∞–±–ª—é–¥–∞–µ–º–æ–µ"><a class="header" href="#observable-–Ω–∞–±–ª—é–¥–∞–µ–º–æ–µ">Observable (–Ω–∞–±–ª—é–¥–∞–µ–º–æ–µ)</a></h2>
<h3 id="–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ-5"><a class="header" href="#–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ-5">–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ</a></h3>
<p><strong>Observable</strong> - —ç—Ç–æ –æ–±—ä–µ–∫—Ç, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç –ø–æ—Ç–æ–∫ –¥–∞–Ω–Ω—ã—Ö –∏–ª–∏ —Å–æ–±—ã—Ç–∏–π, –Ω–∞ –∫–æ—Ç–æ—Ä—ã–µ –º–æ–∂–Ω–æ –ø–æ–¥–ø–∏—Å–∞—Ç—å—Å—è. –≠—Ç–æ –ø–∞—Ç—Ç–µ—Ä–Ω –¥–ª—è —Ä–µ–∞–∫—Ç–∏–≤–Ω–æ–≥–æ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è.</p>
<h3 id="–°—Ç—Ä—É–∫—Ç—É—Ä–∞-observable"><a class="header" href="#–°—Ç—Ä—É–∫—Ç—É—Ä–∞-observable">–°—Ç—Ä—É–∫—Ç—É—Ä–∞ observable</a></h3>
<pre><code class="language-javascript">const observable = {
  subscribe(observer) {
    // observer - –æ–±—ä–µ–∫—Ç —Å –º–µ—Ç–æ–¥–∞–º–∏: next, error, complete
    // –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ–±—ä–µ–∫—Ç subscription —Å –º–µ—Ç–æ–¥–æ–º unsubscribe
  }
};
</code></pre>
<h3 id="–ü—Ä–∏–º–µ—Ä—ã-–∫–æ–¥–∞-5"><a class="header" href="#–ü—Ä–∏–º–µ—Ä—ã-–∫–æ–¥–∞-5">–ü—Ä–∏–º–µ—Ä—ã –∫–æ–¥–∞</a></h3>
<h4 id="–ü—Ä–∏–º–µ—Ä-1-–ü—Ä–æ—Å—Ç–æ–π-observable"><a class="header" href="#–ü—Ä–∏–º–µ—Ä-1-–ü—Ä–æ—Å—Ç–æ–π-observable">–ü—Ä–∏–º–µ—Ä 1: –ü—Ä–æ—Å—Ç–æ–π Observable</a></h4>
<pre><code class="language-javascript">// –ë–∞–∑–æ–≤–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è Observable
class Observable {
  constructor(subscribe) {
    this._subscribe = subscribe;
  }

  subscribe(observer) {
    return this._subscribe(observer);
  }
}

// –°–æ–∑–¥–∞–Ω–∏–µ observable
const observable = new Observable((observer) =&gt; {
  observer.next(1);
  observer.next(2);
  observer.next(3);
  
  setTimeout(() =&gt; {
    observer.next(4);
    observer.complete();
  }, 1000);

  // –§—É–Ω–∫—Ü–∏—è –æ—Ç–ø–∏—Å–∫–∏
  return {
    unsubscribe() {
      console.log('Unsubscribed');
    }
  };
});

// –ü–æ–¥–ø–∏—Å–∫–∞
const subscription = observable.subscribe({
  next(value) {
    console.log('Next:', value);
  },
  error(err) {
    console.error('Error:', err);
  },
  complete() {
    console.log('Complete');
  }
});

// –û—Ç–ø–∏—Å–∫–∞ —á–µ—Ä–µ–∑ 2 —Å–µ–∫—É–Ω–¥—ã
setTimeout(() =&gt; {
  subscription.unsubscribe();
}, 2000);
</code></pre>
<h4 id="–ü—Ä–∏–º–µ—Ä-2-observable-–¥–ª—è-—Å–æ–±—ã—Ç–∏–π"><a class="header" href="#–ü—Ä–∏–º–µ—Ä-2-observable-–¥–ª—è-—Å–æ–±—ã—Ç–∏–π">–ü—Ä–∏–º–µ—Ä 2: Observable –¥–ª—è —Å–æ–±—ã—Ç–∏–π</a></h4>
<pre><code class="language-javascript">const observable = new EventTarget();

observable.addEventListener('buy', (event) =&gt; {
  const bought = event.detail;
  console.log({ bought }); // { "bought": { "name": "Laptop", "price":1500 } etc.
}
});

const electronics = [
  { name: 'Laptop', price: 1500 },
  { name: 'Keyboard', price: 100 },
  { name: 'HDMI cable', price: 10 },
];

for (const item of electronics) {
  const data = { detail: item };
  const event = new CustomEvent('buy', data);
  observable.dispatchEvent(event);
}
</code></pre>
<hr />
<h2 id="stream-–ø–æ—Ç–æ–∫"><a class="header" href="#stream-–ø–æ—Ç–æ–∫">Stream (–ø–æ—Ç–æ–∫)</a></h2>
<h3 id="–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ-6"><a class="header" href="#–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ-6">–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ</a></h3>
<p><strong>Stream</strong> - —ç—Ç–æ –∞–±—Å—Ç—Ä–∞–∫—Ü–∏—è –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ø–æ—Ç–æ–∫–æ–≤—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏. –í Node.js —ç—Ç–æ —Å–æ–±—ã—Ç–∏—è, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ–∑–≤–æ–ª—è—é—Ç —á–∏—Ç–∞—Ç—å –∏–ª–∏ –∑–∞–ø–∏—Å—ã–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ —á–∞—Å—Ç—è–º–∏, –Ω–µ –∑–∞–≥—Ä—É–∂–∞—è –≤—Å—ë –≤ –ø–∞–º—è—Ç—å.</p>
<h3 id="–¢–∏–ø—ã-—Å—Ç—Ä–∏–º–æ–≤-–≤-nodejs"><a class="header" href="#–¢–∏–ø—ã-—Å—Ç—Ä–∏–º–æ–≤-–≤-nodejs">–¢–∏–ø—ã —Å—Ç—Ä–∏–º–æ–≤ –≤ Node.js</a></h3>
<ol>
<li><strong>Readable</strong> - –ø–æ—Ç–æ–∫ —á—Ç–µ–Ω–∏—è</li>
<li><strong>Writable</strong> - –ø–æ—Ç–æ–∫ –∑–∞–ø–∏—Å–∏</li>
<li><strong>Duplex</strong> - –¥–≤—É–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–π –ø–æ—Ç–æ–∫ (—á—Ç–µ–Ω–∏–µ –∏ –∑–∞–ø–∏—Å—å)</li>
<li><strong>Transform</strong> - —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∏—Ä—É—é—â–∏–π –ø–æ—Ç–æ–∫ (–º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö)</li>
</ol>
<h3 id="–ü—Ä–∏–º–µ—Ä—ã-–∫–æ–¥–∞-6"><a class="header" href="#–ü—Ä–∏–º–µ—Ä—ã-–∫–æ–¥–∞-6">–ü—Ä–∏–º–µ—Ä—ã –∫–æ–¥–∞</a></h3>
<h4 id="–ü—Ä–∏–º–µ—Ä-1-stream"><a class="header" href="#–ü—Ä–∏–º–µ—Ä-1-stream">–ü—Ä–∏–º–µ—Ä 1: Stream</a></h4>
<pre><code class="language-javascript">const URL = 'https://developer.mozilla.org/';

const main = async () =&gt; {
  const response = await fetch(URL);
  const { body } = response;
  let total = 0;

  for await (const chunk of body) {
    const name = chunk.constructor.name;
    const { length } = chunk;
    total += length;
    console.log(`Chunk: ${name}, Length: ${length}`);
  }

  console.log(`Total length: ${total} bytes`);
};

main();
</code></pre>
<hr />
<h2 id="transferable-–ø–µ—Ä–µ–¥–∞–≤–∞–µ–º–æ–µ"><a class="header" href="#transferable-–ø–µ—Ä–µ–¥–∞–≤–∞–µ–º–æ–µ">Transferable (–ø–µ—Ä–µ–¥–∞–≤–∞–µ–º–æ–µ)</a></h2>
<h3 id="–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ-7"><a class="header" href="#–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ-7">–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ</a></h3>
<p><strong>Transferable</strong> - —ç—Ç–æ –æ–±—ä–µ–∫—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥—É—Ç –±—ã—Ç—å –ø–µ—Ä–µ–¥–∞–Ω—ã –º–µ–∂–¥—É Web Workers –∏–ª–∏ Worker threads —Å –ø–µ—Ä–µ–¥–∞—á–µ–π –≤–ª–∞–¥–µ–Ω–∏—è, –∞ –Ω–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ–º. –ü–æ—Å–ª–µ –ø–µ—Ä–µ–¥–∞—á–∏ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π –æ–±—ä–µ–∫—Ç —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω.</p>
<h3 id="transferable-–æ–±—ä–µ–∫—Ç—ã"><a class="header" href="#transferable-–æ–±—ä–µ–∫—Ç—ã">Transferable –æ–±—ä–µ–∫—Ç—ã</a></h3>
<ul>
<li><code>ArrayBuffer</code></li>
<li><code>MessagePort</code></li>
<li><code>ImageBitmap</code></li>
<li><code>OffscreenCanvas</code></li>
</ul>
<h3 id="–ü—Ä–∏–º–µ—Ä—ã-–∫–æ–¥–∞-7"><a class="header" href="#–ü—Ä–∏–º–µ—Ä—ã-–∫–æ–¥–∞-7">–ü—Ä–∏–º–µ—Ä—ã –∫–æ–¥–∞</a></h3>
<h4 id="–ü—Ä–∏–º–µ—Ä-1-transferable"><a class="header" href="#–ü—Ä–∏–º–µ—Ä-1-transferable">–ü—Ä–∏–º–µ—Ä 1: Transferable</a></h4>
<pre><code class="language-javascript">const { Worker, workerData, isMainThread } = require('worker_threads');

if (isMainThread) {
  const workerData = new ArrayBuffer(8);
  const uint32 = new Uint32Array(workerData);
  uint32[0] = 42;
  console.log('Main: before transfer', uint32);

  const transferList = [workerData]; // Mark buffer as transferable
  const worker = new Worker(__filename, { workerData, transferList });

  worker.on('exit', () =&gt; {
    console.log('Main: after transfer', uint32);
  });
} else {
  const uint32 = new Uint32Array(workerData);
  console.log('Worker: received buffer', uint32);
  uint32[0] += 1;
}
</code></pre>
<hr />
<h2 id="callback-–∏-error-first-callback"><a class="header" href="#callback-–∏-error-first-callback">Callback –∏ Error-First Callback</a></h2>
<h3 id="–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ-8"><a class="header" href="#–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ-8">–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ</a></h3>
<p><strong>Callback</strong> - —ç—Ç–æ —Ñ—É–Ω–∫—Ü–∏—è, –∫–æ—Ç–æ—Ä–∞—è –ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è –≤ –¥—Ä—É–≥—É—é —Ñ—É–Ω–∫—Ü–∏—é –¥–ª—è –ø–æ—Å–ª–µ–¥—É—é—â–µ–≥–æ –≤—ã–∑–æ–≤–∞.</p>
<p><strong>Error-First Callback</strong> - —ç—Ç–æ —Å–æ–≥–ª–∞—à–µ–Ω–∏–µ Node.js, –≥–¥–µ –ø–µ—Ä–≤—ã–π –∞—Ä–≥—É–º–µ–Ω—Ç callback –≤—Å–µ–≥–¥–∞ –æ—à–∏–±–∫–∞ (–∏–ª–∏ null), –∞ –ø–æ—Å–ª–µ–¥—É—é—â–∏–µ - –¥–∞–Ω–Ω—ã–µ.</p>
<h3 id="–ü—Ä–∏–º–µ—Ä—ã-–∫–æ–¥–∞-8"><a class="header" href="#–ü—Ä–∏–º–µ—Ä—ã-–∫–æ–¥–∞-8">–ü—Ä–∏–º–µ—Ä—ã –∫–æ–¥–∞</a></h3>
<h4 id="–ü—Ä–∏–º–µ—Ä-1-callback-last-error-first"><a class="header" href="#–ü—Ä–∏–º–µ—Ä-1-callback-last-error-first">–ü—Ä–∏–º–µ—Ä 1: Callback-last-error-first</a></h4>
<pre><code class="language-javascript">const fs = require('node:fs');

const callback = (error, data) =&gt; {
  if (error) {
    console.error(error.message);
  } else {
    console.log(data);
  }
};

fs.readFile('1-callback.js', 'utf8', callback);
fs.readFile('unknown-file', 'utf8', callback);
</code></pre>
<hr />
<h2 id="–ü—Ä–µ—Ä–µ–∫–≤–∏–∑–∏—Ç—ã-–¥–ª—è-–∫—É—Ä—Å–æ–≤"><a class="header" href="#–ü—Ä–µ—Ä–µ–∫–≤–∏–∑–∏—Ç—ã-–¥–ª—è-–∫—É—Ä—Å–æ–≤">–ü—Ä–µ—Ä–µ–∫–≤–∏–∑–∏—Ç—ã –¥–ª—è –∫—É—Ä—Å–æ–≤</a></h2>
<h3 id="–ë–∞–∑–æ–≤—ã–µ-–∫–æ–Ω—Ü–µ–ø—Ü–∏–∏-–∫–æ–¥–∞"><a class="header" href="#–ë–∞–∑–æ–≤—ã–µ-–∫–æ–Ω—Ü–µ–ø—Ü–∏–∏-–∫–æ–¥–∞">–ë–∞–∑–æ–≤—ã–µ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏ –∫–æ–¥–∞</a></h3>
<p>–ß—Ç–æ –Ω—É–∂–Ω–æ –ø–æ–Ω–∏–º–∞—Ç—å –¥–ª—è –≤—Å–µ—Ö –∫—É—Ä—Å–æ–≤:</p>
<ol>
<li><strong>–ß–∏—Å—Ç–∞—è —Ñ—É–Ω–∫—Ü–∏—è</strong> - —Ñ—É–Ω–∫—Ü–∏—è –±–µ–∑ –ø–æ–±–æ—á–Ω—ã—Ö —ç—Ñ—Ñ–µ–∫—Ç–æ–≤</li>
<li><strong>–ó–∞–º—ã–∫–∞–Ω–∏–µ</strong> - –¥–æ—Å—Ç—É–ø –∫ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º –≤–Ω–µ—à–Ω–µ–π –æ–±–ª–∞—Å—Ç–∏ –≤–∏–¥–∏–º–æ—Å—Ç–∏</li>
<li><strong>–ö–æ–ª–±—ç–∫</strong> - —Ñ—É–Ω–∫—Ü–∏—è, –ø–µ—Ä–µ–¥–∞–Ω–Ω–∞—è –∫–∞–∫ –∞—Ä–≥—É–º–µ–Ω—Ç</li>
<li><strong>–ö–æ–º–ø–æ–∑–∏—Ü–∏—è —Ñ—É–Ω–∫—Ü–∏–π</strong> - —Å–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π –∏–∑ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö</li>
<li><strong>–ö–æ–º–ø–æ–∑–∏—Ü–∏—è –∫–ª–∞—Å—Å–æ–≤</strong> - –∫–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π –∫–ª–∞—Å—Å–æ–≤</li>
<li><strong>–õ–µ–∫—Å–∏—á–µ—Å–∫–∏–π –∫–æ–Ω—Ç–µ–∫—Å—Ç</strong> - –æ–±–ª–∞—Å—Ç—å –≤–∏–¥–∏–º–æ—Å—Ç–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö</li>
<li><strong>–§–æ—Ä–º–∞ –æ–±—ä–µ–∫—Ç–æ–≤</strong> - —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –æ–±—ä–µ–∫—Ç–æ–≤ –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏</li>
<li><strong>–ú–æ–Ω–æ–º–æ—Ä—Ñ–Ω—ã–π –∫–æ–¥</strong> - –∫–æ–¥ —Å –ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º—ã–º–∏ —Ç–∏–ø–∞–º–∏</li>
<li><strong>–ò–Ω–ª–∞–π–Ω–∏–Ω–≥</strong> - –≤—Å—Ç—Ä–∞–∏–≤–∞–Ω–∏–µ –∫–æ–¥–∞ –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏</li>
</ol>
<h2 id="–ó–∞–∫–ª—é—á–µ–Ω–∏–µ-2"><a class="header" href="#–ó–∞–∫–ª—é—á–µ–Ω–∏–µ-2">–ó–∞–∫–ª—é—á–µ–Ω–∏–µ</a></h2>
<p>–í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ –∫–æ–Ω—Ç—Ä–∞–∫—Ç—ã JavaScript - —ç—Ç–æ —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç, –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–π –¥–ª—è –ø–æ–Ω–∏–º–∞–Ω–∏—è:</p>
<ul>
<li>–ü–∞—Ç—Ç–µ—Ä–Ω–æ–≤ –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è</li>
<li>–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–≥–æ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è</li>
<li>Node.js —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏</li>
</ul>
<p>–ö–∞–∂–¥—ã–π –∫–æ–Ω—Ç—Ä–∞–∫—Ç –∏–º–µ–µ—Ç —á—ë—Ç–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ, –ø—Ä–∏–º–µ—Ä—ã –∏ –æ–±–ª–∞—Å—Ç—å –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è. –ü–æ–Ω–∏–º–∞–Ω–∏–µ —ç—Ç–∏—Ö –∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤ –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–∏—Å–∞—Ç—å –±–æ–ª–µ–µ –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–π –∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–π –∫–æ–¥.</p>
<hr />
<h2 id="–ü–æ–ª–µ–∑–Ω—ã–µ-—Å—Å—ã–ª–∫–∏"><a class="header" href="#–ü–æ–ª–µ–∑–Ω—ã–µ-—Å—Å—ã–ª–∫–∏">–ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏</a></h2>
<ul>
<li><strong>–†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π —Å –ø—Ä–∏–º–µ—Ä–∞–º–∏:</strong> https://github.com/HowProgrammingWorks/NativeContracts</li>
<li><strong>Thenable:</strong> https://github.com/HowProgrammingWorks/Thenable</li>
<li><strong>YouTube –∫–∞–Ω–∞–ª:</strong> How Programming Works</li>
<li><strong>Telegram –∫–∞–Ω–∞–ª:</strong> @metarhia</li>
</ul>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="–ö–æ–Ω—Å–ø–µ–∫—Ç-–ª–µ–∫—Ü–∏–∏-javascript-–æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è-–∏-–ø–∞—Ç—Ç–µ—Ä–Ω—ã"><a class="header" href="#–ö–æ–Ω—Å–ø–µ–∫—Ç-–ª–µ–∫—Ü–∏–∏-javascript-–æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è-–∏-–ø–∞—Ç—Ç–µ—Ä–Ω—ã">–ö–æ–Ω—Å–ø–µ–∫—Ç –ª–µ–∫—Ü–∏–∏: JavaScript –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∏ –ø–∞—Ç—Ç–µ—Ä–Ω—ã</a></h1>
<hr />
<h2 id="–í–≤–µ–¥–µ–Ω–∏–µ-–§–∏–ª–æ—Å–æ—Ñ–∏—è-—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏"><a class="header" href="#–í–≤–µ–¥–µ–Ω–∏–µ-–§–∏–ª–æ—Å–æ—Ñ–∏—è-—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏">–í–≤–µ–¥–µ–Ω–∏–µ: –§–∏–ª–æ—Å–æ—Ñ–∏—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏</a></h2>
<h3 id="–°—É—Ç—å-—Ä–∞–±–æ—Ç—ã-–ø—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç–∞"><a class="header" href="#–°—É—Ç—å-—Ä–∞–±–æ—Ç—ã-–ø—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç–∞">–°—É—Ç—å —Ä–∞–±–æ—Ç—ã –ø—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç–∞</a></h3>
<p>–õ–µ–∫—Ç–æ—Ä –Ω–∞—á–∏–Ω–∞–µ—Ç —Å —Å–æ—Ü–∏–∞–ª—å–Ω–æ–π –∞–Ω–∞–ª–æ–≥–∏–∏: —Ä–∞–±–æ—Ç–∞ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç–∞ —Å—Ö–æ–∂–∞ —Å —Ä–∞–±–æ—Ç–æ–π –∑–∞–≤–æ–¥—Å–∫–æ–≥–æ —Ä–∞–±–æ—á–µ–≥–æ, –∫–æ—Ç–æ—Ä–æ–º—É –Ω—É–∂–Ω–æ –ø–æ–≤—Ç–æ—Ä—è—Ç—å –æ–¥–Ω–æ –∏ —Ç–æ –∂–µ. –ù–æ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç–∞–º —Å–ø–∞—Å–∞–µ—Ç <strong>–∏–Ω—Ç–µ–ª–ª–µ–∫—Ç</strong> ‚Äî –æ–Ω–∏ —Ä–∞–∑–±–∏—Ä–∞—é—Ç—Å—è –≤ —Å–ª–æ–∂–Ω—ã—Ö —Å–∏—Å—Ç–µ–º–∞—Ö (Event Loop, –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç—å, –∫–æ–Ω—Ç—Ä–∞–∫—Ç—ã —Ç–∏–ø–æ–≤).</p>
<p><strong>–ö–ª—é—á–µ–≤–∞—è –∏–¥–µ—è</strong>: –ò–Ω—Ç–µ—Ä–µ—Å–Ω–æ–µ –≤—Ä–µ–º—è —Ç—Ä–µ–±—É–µ—Ç –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–≥–æ –∏–∑—É—á–µ–Ω–∏—è –∏ –ø–æ–Ω–∏–º–∞–Ω–∏—è –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–≥–æ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ —Å–∏—Å—Ç–µ–º. –≠—Ç–æ –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ –æ–≥—Ä–∞–Ω–∏—á–∏—Ç—å –ª–∏–Ω–∏—è–º–∏ –∫–æ–¥–∞ –≤ –¥–µ–Ω—å ‚Äî –Ω–µ–ª—å–∑—è –ø–∏—Å–∞—Ç—å –Ω–∏ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ 1000 —Å—Ç—Ä–æ–∫, –Ω–∏ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –º–µ–Ω–µ–µ 10 —Å—Ç—Ä–æ–∫. –†–µ—à–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –∑–∞–¥–∞—á–∏, –ø–∞–º—è—Ç–∏ –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä–∞.</p>
<h3 id="–ë–∞–ª–∞–Ω—Å-–∫—Ä–∞—Å–æ—Ç—ã-–∏-–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏"><a class="header" href="#–ë–∞–ª–∞–Ω—Å-–∫—Ä–∞—Å–æ—Ç—ã-–∏-–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏">–ë–∞–ª–∞–Ω—Å –∫—Ä–∞—Å–æ—Ç—ã –∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏</a></h3>
<ul>
<li><strong>–ñ–µ–ª–∞–µ–º–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ</strong>: –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∫–æ–¥–∞ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –∫–∞—á–µ—Å—Ç–≤–∞ <strong>–∫–æ–º–ø–∏–ª—è—Ç–æ—Ä–∞/–∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä–∞</strong>, –∞ –Ω–µ –æ—Ç –∫–∞—á–µ—Å—Ç–≤–∞ –∫–æ–¥–∞ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç–∞</li>
<li><strong>–†–µ–∞–ª—å–Ω–æ—Å—Ç—å</strong>: –ß–∞—Å—Ç–æ –Ω—É–∂–Ω–æ –ø–∏—Å–∞—Ç—å –∫–æ–¥, –ø–æ–Ω–∏–º–∞—è –µ–≥–æ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å</li>
<li><strong>–ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ</strong>: –í–≤–µ—Å—Ç–∏ –¥–∏—Ñ—Ñ–µ—Ä–µ–Ω—Ü–∏–∞—Ü–∏—é –º–µ–∂–¥—É JavaScript-–ø—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç–∞–º–∏:
<ul>
<li>–û–¥–Ω–∏ –ø–∏—à—É—Ç –∫—Ä–∞—Å–∏–≤—ã–π –ø—Ä–æ–¥–∞–∫—à–Ω-–∫–æ–¥</li>
<li>–î—Ä—É–≥–∏–µ –ø–∏—à—É—Ç –∫–æ–¥ —Å —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º–∏ –ø–æ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ (—Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã—Ö <code>use</code> –¥–∏—Ä–µ–∫—Ç–∏–≤)</li>
</ul>
</li>
</ul>
<hr />
<h2 id="–†–∞–∑–ª–∏—á–∏–µ-javascript-–∏-java"><a class="header" href="#–†–∞–∑–ª–∏—á–∏–µ-javascript-–∏-java">–†–∞–∑–ª–∏—á–∏–µ JavaScript –∏ Java</a></h2>
<h3 id="–ö—É–ª—å—Ç—É—Ä–Ω—ã–µ-–æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏-javascript"><a class="header" href="#–ö—É–ª—å—Ç—É—Ä–Ω—ã–µ-–æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏-javascript">–ö—É–ª—å—Ç—É—Ä–Ω—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ JavaScript</a></h3>
<p><strong>JavaScript –∏–º–µ–µ—Ç –º–Ω–æ–∂–µ—Å—Ç–≤–æ "–ø–µ—Ä–≤–æ–∫–ª–∞—Å—Å–Ω—ã—Ö" —Å—É—â–Ω–æ—Å—Ç–µ–π:</strong></p>
<ul>
<li>–§—É–Ω–∫—Ü–∏–∏ –∫–∞–∫ –ø–µ—Ä–≤–æ–∫–ª–∞—Å—Å–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã</li>
<li>–¢–∏–ø—ã –∫–∞–∫ –ø–µ—Ä–≤–æ–∫–ª–∞—Å—Å–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã</li>
<li>–ö–ª–∞—Å—Å—ã –∫–∞–∫ –ø–µ—Ä–≤–æ–∫–ª–∞—Å—Å–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã</li>
</ul>
<p>–í—Å–µ —ç—Ç–∏ —Å—É—â–Ω–æ—Å—Ç–∏ –º–æ–∂–Ω–æ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å –∫–∞–∫ –∞—Ä–≥—É–º–µ–Ω—Ç—ã –∏ –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å –∏–∑ —Ñ—É–Ω–∫—Ü–∏–π.</p>
<p><strong>Java –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∞ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–æ–π:</strong></p>
<ul>
<li>–ù–µ—Ç –ø–µ—Ä–≤–æ–∫–ª–∞—Å—Å–Ω—ã—Ö —Ç–∏–ø–æ–≤/–∫–ª–∞—Å—Å–æ–≤</li>
<li>–°—Ç—Ä–æ–≥–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è –±—ã–ª–∞ –≤–≤–µ–¥–µ–Ω–∞ –¥–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã "–ª–æ–º–∞—Ç—å —Ä—É–∫–∏" —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞–º, –ø–∏—à—É—â–∏–º –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –∫–æ–¥</li>
<li>–≠—Ç–æ –ø–æ–∑–≤–æ–ª–∏–ª–æ –±—ã—Å—Ç—Ä–æ –ø–∏—Å–∞—Ç—å –ø—Ä–æ–º—ã—à–ª–µ–Ω–Ω—ã–π –∫–æ–¥ —Å –≥–∞—Ä–∞–Ω—Ç–∏—è–º–∏ –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç–∏</li>
</ul>
<p><strong>–í—ã–≤–æ–¥</strong>: JavaScript –¥–∞–µ—Ç –±–æ–ª—å—à—É—é —Å–≤–æ–±–æ–¥—É, –Ω–æ —Ç—Ä–µ–±—É–µ—Ç –±–æ–ª—å—à–µ–π –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞. Java –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ—Ç, –∑–∞—Ç–æ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç—ã.</p>
<hr />
<h2 id="–ö–ª–∞—Å—Å—ã-–≤-javascript-–∏-–∑–∞–º—ã–∫–∞–Ω–∏—è"><a class="header" href="#–ö–ª–∞—Å—Å—ã-–≤-javascript-–∏-–∑–∞–º—ã–∫–∞–Ω–∏—è">–ö–ª–∞—Å—Å—ã –≤ JavaScript –∏ –∑–∞–º—ã–∫–∞–Ω–∏—è</a></h2>
<h3 id="–†–µ–∞–ª—å–Ω–æ—Å—Ç—å-–ø—Ä–∏–≤–∞—Ç–Ω—ã—Ö-–ø–æ–ª–µ–π"><a class="header" href="#–†–µ–∞–ª—å–Ω–æ—Å—Ç—å-–ø—Ä–∏–≤–∞—Ç–Ω—ã—Ö-–ø–æ–ª–µ–π">–†–µ–∞–ª—å–Ω–æ—Å—Ç—å –ø—Ä–∏–≤–∞—Ç–Ω—ã—Ö –ø–æ–ª–µ–π</a></h3>
<p>–î–æ –ø–æ—è–≤–ª–µ–Ω–∏—è –ø—Ä–∏–≤–∞—Ç–Ω—ã—Ö –ø–æ–ª–µ–π (<code>#field</code>) –≤ JavaScript –∫–ª–∞—Å—Å—ã –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏ –Ω–∏—á–µ–º –Ω–µ –æ—Ç–ª–∏—á–∞–ª–∏—Å—å –æ—Ç –æ–±—ã—á–Ω—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤ —Å –∑–∞–º—ã–∫–∞–Ω–∏—è–º–∏:</p>
<pre><code class="language-javascript">// –ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π —Å–ø–æ—Å–æ–± —Å –∑–∞–º—ã–∫–∞–Ω–∏—è–º–∏ (—ç–º—É–ª—è—Ü–∏—è –ø—Ä–∏–≤–∞—Ç–Ω—ã—Ö –ø–æ–ª–µ–π)
function createCounter() {
  let count = 0; // –ø—Ä–∏–≤–∞—Ç–Ω–æ–µ –ø–æ–ª–µ —á–µ—Ä–µ–∑ –∑–∞–º—ã–∫–∞–Ω–∏–µ
  
  return {
    increment() { count++; },
    getCount() { return count; }
  };
}

// –ü—Ä–∏–≤–∞—Ç–Ω—ã–µ –ø–æ–ª—è –≤ –∫–ª–∞—Å—Å–∞—Ö (–Ω–æ–≤—ã–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å)
class Counter {
  #count = 0; // –ø—Ä–∏–≤–∞—Ç–Ω–æ–µ –ø–æ–ª–µ
  
  increment() { this.#count++; }
  getCount() { return this.#count; }
}
</code></pre>
<h3 id="–ü—Ä–æ–±–ª–µ–º—ã-–ø—Ä–∏–≤–∞—Ç–Ω—ã—Ö-–ø–æ–ª–µ–π"><a class="header" href="#–ü—Ä–æ–±–ª–µ–º—ã-–ø—Ä–∏–≤–∞—Ç–Ω—ã—Ö-–ø–æ–ª–µ–π">–ü—Ä–æ–±–ª–µ–º—ã –ø—Ä–∏–≤–∞—Ç–Ω—ã—Ö –ø–æ–ª–µ–π</a></h3>
<ol>
<li><strong>–í–Ω—É—Ç—Ä–µ–Ω–Ω—è—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è</strong>: –ü—Ä–∏–≤–∞—Ç–Ω—ã–µ –ø–æ–ª—è –¥–æ–±–∞–≤–ª—è—é—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ, —á—Ç–æ —É—Å–ª–æ–∂–Ω—è–µ—Ç –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ</li>
<li><strong>–ü–æ—Ç–µ—Ä—è –≤–∏–¥–∏–º–æ—Å—Ç–∏ –ø—Ä–∏ –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–∏</strong>: –ï—Å–ª–∏ –≤—ã –¥–æ–±–∞–≤–ª—è–µ—Ç–µ –º–µ—Ç–æ–¥ —á–µ—Ä–µ–∑ <code>prototype</code> (–≤–Ω–µ –∫–ª–∞—Å—Å–∞), –æ–Ω –Ω–µ –≤–∏–¥–∏—Ç –ø—Ä–∏–≤–∞—Ç–Ω—ã–µ –ø–æ–ª—è –∫–ª–∞—Å—Å–∞</li>
<li><strong>–¢–∏–ø–∏–∑–∞—Ü–∏—è –≤ TypeScript</strong>: TypeScript –ø—Ä–∏–≤–∞—Ç–Ω—ã–µ –ø–æ–ª—è ‚Äî —ç—Ç–æ —Ñ–∏–∫—Ü–∏—è (–∏—Å—á–µ–∑–∞—é—Ç –ø—Ä–∏ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏), JavaScript –ø—Ä–∏–≤–∞—Ç–Ω—ã–µ –ø–æ–ª—è ‚Äî —ç—Ç–æ —Ä–µ–∞–ª—å–Ω–æ—Å—Ç—å</li>
</ol>
<p><strong>–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è –ª–µ–∫—Ç–æ—Ä–∞</strong>: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø—Ä–∏–≤–∞—Ç–Ω—ã–µ –ø–æ–ª—è —Ç–æ–ª—å–∫–æ –≤ –∫–æ–Ω–µ—á–Ω—ã—Ö –∫–ª–∞—Å—Å–∞—Ö (–∫–æ—Ç–æ—Ä—ã–µ –Ω–µ –Ω–∞—Å–ª–µ–¥—É—é—Ç—Å—è), –∏–ª–∏ –ø—Ä–∏–¥–µ—Ä–∂–∏–≤–∞—Ç—å—Å—è –∑–∞–º—ã–∫–∞–Ω–∏–π.</p>
<hr />
<h2 id="–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–π-–ø—Ä–æ–µ–∫—Ç-–ü–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ-–∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä–∞-–≤—ã—Ä–∞–∂–µ–Ω–∏–π"><a class="header" href="#–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–π-–ø—Ä–æ–µ–∫—Ç-–ü–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ-–∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä–∞-–≤—ã—Ä–∞–∂–µ–Ω–∏–π">–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–π –ø—Ä–æ–µ–∫—Ç: –ü–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä–∞ –≤—ã—Ä–∞–∂–µ–Ω–∏–π</a></h2>
<h3 id="–≠–≤–æ–ª—é—Ü–∏—è-–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã"><a class="header" href="#–≠–≤–æ–ª—é—Ü–∏—è-–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã">–≠–≤–æ–ª—é—Ü–∏—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã</a></h3>
<h4 id="1-–ü–∞—Ç—Ç–µ—Ä–Ω-iterator-–ø—Ä–æ—Å—Ç—ã–µ-–≤—ã—Ä–∞–∂–µ–Ω–∏—è"><a class="header" href="#1-–ü–∞—Ç—Ç–µ—Ä–Ω-iterator-–ø—Ä–æ—Å—Ç—ã–µ-–≤—ã—Ä–∞–∂–µ–Ω–∏—è">1. –ü–∞—Ç—Ç–µ—Ä–Ω Iterator (–ø—Ä–æ—Å—Ç—ã–µ –≤—ã—Ä–∞–∂–µ–Ω–∏—è)</a></h4>
<p><strong>–ó–∞–¥–∞—á–∞</strong>: –ü–∞—Ä—Å–∏—Ç—å –∏ –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∏—Ä–æ–≤–∞—Ç—å –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –≤—ã—Ä–∞–∂–µ–Ω–∏—è –≤–∏–¥–∞ <code>x + y</code></p>
<p>–ù–∞—á–∏–Ω–∞—è —Å –ø—Ä–æ—Å—Ç–æ–≥–æ –ø–æ–¥—Ö–æ–¥–∞:</p>
<pre><code class="language-javascript">// –ù–∞—á–∞–ª—å–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç: –∫–ª–∞—Å—Å—ã –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ç–∏–ø–∞ –≤—ã—Ä–∞–∂–µ–Ω–∏—è
class Value {
  constructor(value) { this.value = value; }
  interpret() { return this.value; }
  toJavaScript() { return `${this.value}`; }
}

class Variable {
  constructor(name) { this.name = name; }
  interpret(context) { return context[this.name]; }
  toJavaScript() { return this.name; }
}
</code></pre>
<h4 id="2-–ü–∞—Ç—Ç–µ—Ä–Ω-composite-—Å–ª–æ–∂–Ω—ã–µ-—Å—Ç—Ä—É–∫—Ç—É—Ä—ã"><a class="header" href="#2-–ü–∞—Ç—Ç–µ—Ä–Ω-composite-—Å–ª–æ–∂–Ω—ã–µ-—Å—Ç—Ä—É–∫—Ç—É—Ä—ã">2. –ü–∞—Ç—Ç–µ—Ä–Ω Composite (—Å–ª–æ–∂–Ω—ã–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã)</a></h4>
<p><strong>–ü—Ä–æ–±–ª–µ–º–∞</strong>: –í—ã—Ä–∞–∂–µ–Ω–∏–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –≤–ª–æ–∂–µ–Ω–Ω—ã–º: <code>(x + y) * z</code>
<strong>–†–µ—à–µ–Ω–∏–µ</strong>: –ö–ª–∞—Å—Å—ã –¥–ª—è –æ–ø–µ—Ä–∞—Ü–∏–π</p>
<pre><code class="language-javascript">class BinaryOp {
  constructor(left, operator, right) {
    this.left = left;
    this.operator = operator;
    this.right = right;
  }
  
  interpret(context) {
    const leftVal = this.left.interpret(context);
    const rightVal = this.right.interpret(context);
    return this.operator.evaluate(leftVal, rightVal);
  }
}
</code></pre>
<h4 id="3-–ü–∞—Ç—Ç–µ—Ä–Ω-strategy-–≥–∏–±–∫–∏–µ-–æ–ø–µ—Ä–∞—Ç–æ—Ä—ã"><a class="header" href="#3-–ü–∞—Ç—Ç–µ—Ä–Ω-strategy-–≥–∏–±–∫–∏–µ-–æ–ø–µ—Ä–∞—Ç–æ—Ä—ã">3. –ü–∞—Ç—Ç–µ—Ä–Ω Strategy (–≥–∏–±–∫–∏–µ –æ–ø–µ—Ä–∞—Ç–æ—Ä—ã)</a></h4>
<p><strong>–ü—Ä–æ–±–ª–µ–º–∞</strong>: –ñ–µ—Å—Ç–∫–æ –∑–∞–∫–æ–¥–∏—Ä–æ–≤–∞—Ç—å –æ–ø–µ—Ä–∞—Ç–æ—Ä—ã –≤ –∫–ª–∞—Å—Å–µ
<strong>–†–µ—à–µ–Ω–∏–µ</strong>: –ö–æ–ª–ª–µ–∫—Ü–∏—è –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–≤</p>
<pre><code class="language-javascript">const operators = {
  '+': { name: '+', evaluate: (a, b) =&gt; a + b },
  '-': { name: '-', evaluate: (a, b) =&gt; a - b },
  '*': { name: '*', evaluate: (a, b) =&gt; a * b },
};

// –î–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –Ω–æ–≤–æ–≥–æ –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞ –ø—Ä–æ—Å—Ç–æ –¥–æ–±–∞–≤—å—Ç–µ –≤ –∫–æ–ª–ª–µ–∫—Ü–∏—é
operators['%'] = { name: '%', evaluate: (a, b) =&gt; a % b };
</code></pre>
<h4 id="4-–†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥-–æ—Ç-–∫–ª–∞—Å—Å–æ–≤-–∫-—Ñ—É–Ω–∫—Ü–∏—è–º"><a class="header" href="#4-–†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥-–æ—Ç-–∫–ª–∞—Å—Å–æ–≤-–∫-—Ñ—É–Ω–∫—Ü–∏—è–º">4. –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥: –æ—Ç –∫–ª–∞—Å—Å–æ–≤ –∫ —Ñ—É–Ω–∫—Ü–∏—è–º</a></h4>
<p><strong>–ù–∞–±–ª—é–¥–µ–Ω–∏–µ</strong>: –ù–µ –≤—Å–µ –Ω—É–∂–Ω–æ –¥–µ–ª–∞—Ç—å –∫–ª–∞—Å—Å–∞–º–∏
<strong>–ù–æ–≤—ã–π –ø–æ–¥—Ö–æ–¥</strong>: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–ª–∞—Å—Å—ã —Ç–æ–ª—å–∫–æ –≥–¥–µ –æ–Ω–∏ –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –Ω—É–∂–Ω—ã</p>
<pre><code class="language-javascript">// –ü–∞—Ä—Å–µ—Ä –∫–∞–∫ —Ñ—É–Ω–∫—Ü–∏—è (–±—ã–ª–∞ –∫–ª–∞—Å—Å–æ–º)
function parse(input) {
  // –ª–æ–≥–∏–∫–∞ –ø–∞—Ä—Å–∏–Ω–≥–∞
  return ast; // –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω–æ–µ —Å–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–æ–µ –¥–µ—Ä–µ–≤–æ
}

// –û—Ü–µ–Ω–∫–∞ –∫–∞–∫ —Ñ—É–Ω–∫—Ü–∏—è
function evaluate(node, context) {
  // –ª–æ–≥–∏–∫–∞ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è
}
</code></pre>
<hr />
<h2 id="–ì–µ–Ω–µ—Ä–∞—Ü–∏—è-javascript-–∫–æ–¥–∞"><a class="header" href="#–ì–µ–Ω–µ—Ä–∞—Ü–∏—è-javascript-–∫–æ–¥–∞">–ì–µ–Ω–µ—Ä–∞—Ü–∏—è JavaScript –∫–æ–¥–∞</a></h2>
<h3 id="–ò–∑-–¥–µ—Ä–µ–≤–∞-–≤—ã—Ä–∞–∂–µ–Ω–∏–π-–≤-—Ñ—É–Ω–∫—Ü–∏–∏"><a class="header" href="#–ò–∑-–¥–µ—Ä–µ–≤–∞-–≤—ã—Ä–∞–∂–µ–Ω–∏–π-–≤-—Ñ—É–Ω–∫—Ü–∏–∏">–ò–∑ –¥–µ—Ä–µ–≤–∞ –≤—ã—Ä–∞–∂–µ–Ω–∏–π –≤ —Ñ—É–Ω–∫—Ü–∏–∏</a></h3>
<p><strong>–ò–¥–µ—è</strong>: –ù–∞ –æ—Å–Ω–æ–≤–µ AST (–∞–±—Å—Ç—Ä–∞–∫—Ç–Ω–æ–≥–æ —Å–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–æ–≥–æ –¥–µ—Ä–µ–≤–∞) —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å JavaScript –∫–æ–¥, –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–Ω–æ –≤—ã–ø–æ–ª–Ω–∏—Ç—å</p>
<pre><code class="language-javascript">// –í—Ö–æ–¥–Ω–æ–µ –¥–µ—Ä–µ–≤–æ (AST)
const ast = new BinaryOp(
  new Variable('x'),
  operators['+'],
  new Variable('y')
);

// –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π JavaScript –∫–æ–¥
const code = `(x, y) =&gt; x + y`;

// –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —á–µ—Ä–µ–∑ V8
const result = eval(code)(10, 20); // 30
</code></pre>
<h3 id="–°–±–æ—Ä-–∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–æ–≤"><a class="header" href="#–°–±–æ—Ä-–∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–æ–≤">–°–±–æ—Ä –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–æ–≤</a></h3>
<p>–ò–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä –º–æ–∂–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª—è—Ç—å, –∫–∞–∫–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –Ω—É–∂–Ω—ã:</p>
<pre><code class="language-javascript">// –ò–∑ –¥–µ—Ä–µ–≤–∞ (x + y) * z –∏–∑–≤–ª–µ–∫–∞—é—Ç—Å—è –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã: x, y, z
// –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è: (x, y, z) =&gt; (x + y) * z

// –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç:
// 1. –ì–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω—É—é —Å–∏–≥–Ω–∞—Ç—É—Ä—É —Ñ—É–Ω–∫—Ü–∏–∏
// 2. –ü—Ä–æ–≤–µ—Ä—è—Ç—å –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
// 3. –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∑–∞–º—ã–∫–∞–Ω–∏—è
</code></pre>
<hr />
<h2 id="–ü–∞—Ç—Ç–µ—Ä–Ω-template-string-–∏-–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å"><a class="header" href="#–ü–∞—Ç—Ç–µ—Ä–Ω-template-string-–∏-–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å">–ü–∞—Ç—Ç–µ—Ä–Ω Template String –∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å</a></h2>
<h3 id="–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ-–±—ç–∫–∫–æ—Ç–æ–≤-vs-–∫–∞–≤—ã—á–µ–∫"><a class="header" href="#–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ-–±—ç–∫–∫–æ—Ç–æ–≤-vs-–∫–∞–≤—ã—á–µ–∫">–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –±—ç–∫–∫–æ—Ç–æ–≤ vs –∫–∞–≤—ã—á–µ–∫</a></h3>
<p><strong>–í–∞–∂–Ω–æ–µ —É—Ç–æ—á–Ω–µ–Ω–∏–µ</strong>: –° —Ç–æ—á–∫–∏ –∑—Ä–µ–Ω–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –≤ V8, –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –æ–±—ã—á–Ω—ã—Ö —Å—Ç—Ä–æ–∫ –∏ template strings —ç–∫–≤–∏–≤–∞–ª–µ–Ω—Ç–Ω–æ:</p>
<pre><code class="language-javascript">// –≠—Ç–∏ –¥–≤–∞ –≤–∞—Ä–∏–∞–Ω—Ç–∞ —Ä–∞–±–æ—Ç–∞—é—Ç –æ–¥–∏–Ω–∞–∫–æ–≤–æ –±—ã—Å—Ç—Ä–æ
const str1 = 'x + y';
const str2 = `x + y`;

// –ù–æ –µ—Å–ª–∏ –≤ template string –µ—Å—Ç—å –ø–æ–¥—Å—Ç–∞–Ω–æ–≤–∫–∏, V8 –º–æ–∂–µ—Ç –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å:
const code = `(${params}) =&gt; ${expression}`;
</code></pre>
<p><strong>–ö–æ–≥–¥–∞ template strings –¥–∞—é—Ç –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–æ:</strong></p>
<ul>
<li>–ï—Å–ª–∏ –ø–µ—Ä–µ–¥ –±—ç–∫–∫–æ—Ç–æ–º —Å—Ç–æ–∏—Ç —Ñ—É–Ω–∫—Ü–∏—è (tagged template), —Ç–æ–≥–¥–∞ —ç—Ç–æ –≤—ã–∑–æ–≤ —Ñ—É–Ω–∫—Ü–∏–∏ —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏</li>
<li>V8 –º–æ–∂–µ—Ç —Å–æ–±—Ä–∞—Ç—å —Å—Ç—Ä–æ–∫—É –∑–∞—Ä–∞–Ω–µ–µ, –Ω–µ –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∏—Ä—É—è –≤ —Ä–µ–∞–ª—å–Ω–æ—Å—Ç–∏</li>
</ul>
<hr />
<h2 id="–ü—Ä–∏–≤–∞—Ç–Ω—ã–µ-–ø–æ–ª—è-–∏-–Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ"><a class="header" href="#–ü—Ä–∏–≤–∞—Ç–Ω—ã–µ-–ø–æ–ª—è-–∏-–Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ">–ü—Ä–∏–≤–∞—Ç–Ω—ã–µ –ø–æ–ª—è –∏ –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ</a></h2>
<h3 id="–ü—Ä–æ–±–ª–µ–º–∞-–Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è"><a class="header" href="#–ü—Ä–æ–±–ª–µ–º–∞-–Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è">–ü—Ä–æ–±–ª–µ–º–∞ –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è</a></h3>
<pre><code class="language-javascript">class Base {
  #privateField = 10;
  
  getPrivate() { return this.#privateField; }
}

class Derived extends Base {
  // –î–æ–±–∞–≤–ª—è–µ–º –º–µ—Ç–æ–¥ —á–µ—Ä–µ–∑ prototype (–≤–Ω–µ –∫–ª–∞—Å—Å–∞)
  // –≠—Ç–æ—Ç –º–µ—Ç–æ–¥ –ù–ï –í–ò–î–ò–¢ –ø—Ä–∏–≤–∞—Ç–Ω—ã–µ –ø–æ–ª—è –∫–ª–∞—Å—Å–∞ Base
}

// –î–æ–±–∞–≤–ª—è–µ–º –º–µ—Ç–æ–¥ –Ω–∞ prototype
Derived.prototype.newMethod = function() {
  // this.#privateField –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ!
};
</code></pre>
<p><strong>–†–µ—à–µ–Ω–∏–µ</strong>: –õ–∏–±–æ –¥–æ–±–∞–≤–ª—è—Ç—å –º–µ—Ç–æ–¥—ã –≤–Ω—É—Ç—Ä–∏ –∫–ª–∞—Å—Å–∞, –ª–∏–±–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∑–∞–º—ã–∫–∞–Ω–∏—è –¥–ª—è –ø—Ä–∏–≤–∞—Ç–Ω–æ—Å—Ç–∏.</p>
<hr />
<h2 id="real-world-–ø—Ä–∏–º–µ—Ä-–ü–∞—Ç—Ç–µ—Ä–Ω-state-machine-–¥–ª—è-–∑–∞–∫–∞–∑–∞-—Ç–∞–∫—Å–∏"><a class="header" href="#real-world-–ø—Ä–∏–º–µ—Ä-–ü–∞—Ç—Ç–µ—Ä–Ω-state-machine-–¥–ª—è-–∑–∞–∫–∞–∑–∞-—Ç–∞–∫—Å–∏">Real-world –ø—Ä–∏–º–µ—Ä: –ü–∞—Ç—Ç–µ—Ä–Ω State Machine –¥–ª—è –∑–∞–∫–∞–∑–∞ —Ç–∞–∫—Å–∏</a></h2>
<h3 id="–ü—Ä–æ–±–ª–µ–º–∞-1"><a class="header" href="#–ü—Ä–æ–±–ª–µ–º–∞-1">–ü—Ä–æ–±–ª–µ–º–∞</a></h3>
<p>–°–∏—Å—Ç–µ–º–∞ –∑–∞–∫–∞–∑–∞ —Ç–∞–∫—Å–∏ –∏–º–µ–µ—Ç —Å–ª–æ–∂–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ –ø–µ—Ä–µ—Ö–æ–¥–∞–º–∏:</p>
<ul>
<li>"waiting" ‚Üí "matching" ‚Üí "en_route" ‚Üí "arrived" ‚Üí "completed"</li>
<li>–ö–∞–∂–¥–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∏–º–µ–µ—Ç —Ä–∞–∑–Ω—ã–µ –¥–æ—Å—Ç—É–ø–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è</li>
</ul>
<h3 id="–ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π-–ø–æ–¥—Ö–æ–¥-–º–Ω–æ–≥–æ-switchcase"><a class="header" href="#–ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π-–ø–æ–¥—Ö–æ–¥-–º–Ω–æ–≥–æ-switchcase">–ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π –ø–æ–¥—Ö–æ–¥ (–º–Ω–æ–≥–æ switch/case)</a></h3>
<pre><code class="language-javascript">switch(state) {
  case 'waiting':
    // –∫–æ–¥ –¥–ª—è —Å–æ—Å—Ç–æ—è–Ω–∏—è waiting
    break;
  case 'matching':
    // –∫–æ–¥ –¥–ª—è —Å–æ—Å—Ç–æ—è–Ω–∏—è matching
    break;
  // ... –º–Ω–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏–π
}
</code></pre>
<p><strong>–ü—Ä–æ–±–ª–µ–º—ã</strong>:</p>
<ul>
<li>–°–ª–æ–∂–Ω–æ –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è</li>
<li>–õ–æ–≥–∏–∫–∞ —Ä–∞–∑–º–∞–∑–∞–Ω–∞ –ø–æ –∫–æ–¥—É</li>
<li>–¢—Ä—É–¥–Ω–æ —á–∏—Ç–∞—Ç—å –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å</li>
</ul>
<h3 id="–ü–∞—Ç—Ç–µ—Ä–Ω-state-machine-—Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–Ω—ã–π-–ø–æ–¥—Ö–æ–¥"><a class="header" href="#–ü–∞—Ç—Ç–µ—Ä–Ω-state-machine-—Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–Ω—ã–π-–ø–æ–¥—Ö–æ–¥">–ü–∞—Ç—Ç–µ—Ä–Ω State Machine (—Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–Ω—ã–π –ø–æ–¥—Ö–æ–¥)</a></h3>
<p><strong>–°—Ç—Ä—É–∫—Ç—É—Ä–∞</strong>: –ö–∞–∂–¥–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ ‚Äî —ç—Ç–æ –∫–ª–∞—Å—Å —Å –º–µ—Ç–æ–¥–∞–º–∏ –¥–ª—è –¥–µ–π—Å—Ç–≤–∏–π</p>
<pre><code class="language-javascript">class Order {
  constructor(id) {
    this.id = id;
    this.state = new WaitingState(this);
  }
  
  confirmDriver(driver) {
    this.state.confirmDriver(driver);
  }
  
  startRide() {
    this.state.startRide(driver);
  }
}

class WaitingState {
  constructor(order) { this.order = order; }
  
  confirmDriver(driver) {
    // –ü–µ—Ä–µ—Ö–æ–¥ –≤ –Ω–æ–≤–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
    this.order.state = new EnRouteState(this.order);
  }
}

class EnRouteState {
  constructor(order) { this.order = order; }
  
  arrive() {
    this.order.state = new CompletedState(this.order);
  }
}
</code></pre>
<p><strong>–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞</strong>:</p>
<ol>
<li>–ö–∞–∂–¥–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∏–Ω–∫–∞–ø—Å—É–ª–∏—Ä–æ–≤–∞–Ω–æ –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–º –∫–ª–∞—Å—Å–µ</li>
<li>–õ–µ–≥–∫–æ –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è</li>
<li>–Ø—Å–Ω–∞—è –ª–æ–≥–∏–∫–∞ –ø–µ—Ä–µ—Ö–æ–¥–æ–≤ –º–µ–∂–¥—É —Å–æ—Å—Ç–æ—è–Ω–∏—è–º–∏</li>
<li>–õ–µ–≥–∫–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –∫–∞–∂–¥–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –æ—Ç–¥–µ–ª—å–Ω–æ</li>
</ol>
<h3 id="–ì—Ä–∞—Ñ-—Å–æ—Å—Ç–æ—è–Ω–∏–π"><a class="header" href="#–ì—Ä–∞—Ñ-—Å–æ—Å—Ç–æ—è–Ω–∏–π">–ì—Ä–∞—Ñ —Å–æ—Å—Ç–æ—è–Ω–∏–π</a></h3>
<pre><code>WaitingState
    ‚Üì
MatchingState
    ‚Üì
EnRouteState
    ‚Üì
ArrivedState
    ‚Üì
CompletedState
</code></pre>
<hr />
<h2 id="–ü–∞—Ç—Ç–µ—Ä–Ω—ã-gang-of-four-–∏-–∏—Ö-–∞–¥–∞–ø—Ç–∞—Ü–∏—è"><a class="header" href="#–ü–∞—Ç—Ç–µ—Ä–Ω—ã-gang-of-four-–∏-–∏—Ö-–∞–¥–∞–ø—Ç–∞—Ü–∏—è">–ü–∞—Ç—Ç–µ—Ä–Ω—ã Gang of Four –∏ –∏—Ö –∞–¥–∞–ø—Ç–∞—Ü–∏—è</a></h2>
<h3 id="–ü–µ—Ä–µ—Ä–∞–±–æ—Ç–∫–∞-–∫–ª–∞—Å—Å–∏—á–µ—Å–∫–∏—Ö-–ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤-–¥–ª—è-javascript"><a class="header" href="#–ü–µ—Ä–µ—Ä–∞–±–æ—Ç–∫–∞-–∫–ª–∞—Å—Å–∏—á–µ—Å–∫–∏—Ö-–ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤-–¥–ª—è-javascript">–ü–µ—Ä–µ—Ä–∞–±–æ—Ç–∫–∞ –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–∏—Ö –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤ –¥–ª—è JavaScript</a></h3>
<p><strong>–ù–∞–±–ª—é–¥–µ–Ω–∏–µ</strong>: –ö–Ω–∏–≥–∞ "Design Patterns" (Gang of Four) –∏–∑–¥–∞–Ω–∞ –≤ 1994 –≥–æ–¥—É –∏ –æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∞ –Ω–∞ —è–∑—ã–∫–∏ –±–µ–∑ –ø–µ—Ä–≤–æ–∫–ª–∞—Å—Å–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π.</p>
<p><strong>–ü–æ–¥—Ö–æ–¥ –ª–µ–∫—Ç–æ—Ä–∞</strong>: –ü–µ—Ä–µ—Ä–∞–±–æ—Ç–∞—Ç—å –ø–∞—Ç—Ç–µ—Ä–Ω—ã –¥–ª—è JavaScript —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º:</p>
<ul>
<li>–û–±—ä–µ–∫—Ç–æ–≤ –≤–º–µ—Å—Ç–æ –∫–ª–∞—Å—Å–æ–≤ (–≥–¥–µ —ç—Ç–æ –∏–º–µ–µ—Ç —Å–º—ã—Å–ª)</li>
<li>–§—É–Ω–∫—Ü–∏–π –≤–º–µ—Å—Ç–æ –º–µ—Ç–æ–¥–æ–≤</li>
<li>–ó–∞–º—ã–∫–∞–Ω–∏–π –≤–º–µ—Å—Ç–æ –ø—Ä–∏–≤–∞—Ç–Ω—ã—Ö –ø–æ–ª–µ–π</li>
</ul>
<p><strong>–í –∫–∞–∂–¥–æ–º —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω—ã</strong>:</p>
<ol>
<li>–ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è (–∫–∞–∫ –≤ –∫–Ω–∏–≥–µ)</li>
<li>–ê–¥–∞–ø—Ç–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –¥–ª—è JavaScript</li>
<li>–ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è</li>
</ol>
<h3 id="–ö–æ–≥–¥–∞-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å-–∫–ª–∞—Å—Å—ã-–≤-javascript"><a class="header" href="#–ö–æ–≥–¥–∞-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å-–∫–ª–∞—Å—Å—ã-–≤-javascript">–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–ª–∞—Å—Å—ã –≤ JavaScript</a></h3>
<ul>
<li>–î–ª—è –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è –¥–µ—Ä–µ–≤—å–µ–≤ (AST, DOM, –∏–µ—Ä–∞—Ä—Ö–∏–∏)</li>
<li>–ö–æ–≥–¥–∞ –Ω—É–∂–Ω–∞ –Ω–∞—Å–ª–µ–¥—É–µ–º–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å</li>
<li>–ö–æ–≥–¥–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö –ø–æ–¥—Ä–∞–∑—É–º–µ–≤–∞–µ—Ç –∏–µ—Ä–∞—Ä—Ö–∏—é</li>
</ul>
<p><strong>–ù–ï –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–ª–∞—Å—Å—ã</strong>:</p>
<ul>
<li>–î–ª—è –ø—Ä–æ—Å—Ç—ã—Ö –∫–æ–ª–ª–µ–∫—Ü–∏–π –¥–∞–Ω–Ω—ã—Ö</li>
<li>–î–ª—è –¥–≤—É—Å–≤—è–∑–Ω—ã—Ö —Å–ø–∏—Å–∫–æ–≤ —á–µ—Ä–µ–∑ –∑–∞–º—ã–∫–∞–Ω–∏—è (–Ω–µ–ø—Ä–∏–≤—ã—á–Ω–æ –¥–ª—è –ª—é–¥–µ–π)</li>
<li>–ö–æ–≥–¥–∞ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏–∏</li>
<li>–ì–¥–µ –Ω—É–∂–Ω–∞ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –≥–∏–±–∫–æ—Å—Ç—å</li>
</ul>
<hr />
<h2 id="–í–∞–∂–Ω—ã–µ-–º—ã—Å–ª–∏-–æ-—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ"><a class="header" href="#–í–∞–∂–Ω—ã–µ-–º—ã—Å–ª–∏-–æ-—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ">–í–∞–∂–Ω—ã–µ –º—ã—Å–ª–∏ –æ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ</a></h2>
<h3 id="–û—Ç-–∑–∞–¥–∞—á–∏-–∫-—Ä–µ—à–µ–Ω–∏—é-–Ω–µ-–æ—Ç-—Ä–µ—à–µ–Ω–∏—è-–∫-–∑–∞–¥–∞—á–µ"><a class="header" href="#–û—Ç-–∑–∞–¥–∞—á–∏-–∫-—Ä–µ—à–µ–Ω–∏—é-–Ω–µ-–æ—Ç-—Ä–µ—à–µ–Ω–∏—è-–∫-–∑–∞–¥–∞—á–µ">–û—Ç –∑–∞–¥–∞—á–∏ –∫ —Ä–µ—à–µ–Ω–∏—é (–Ω–µ –æ—Ç —Ä–µ—à–µ–Ω–∏—è –∫ –∑–∞–¥–∞—á–µ)</a></h3>
<p><strong>–ü—Ä–æ–±–ª–µ–º–∞ –≤ academia</strong>: –°–Ω–∞—á–∞–ª–∞ –¥–∞—é—Ç –º–Ω–æ–∂–µ—Å—Ç–≤–æ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ (–ø–∞—Ç—Ç–µ—Ä–Ω—ã, –ø—Ä–∏–º–µ—Ä—ã), –ø–æ—Ç–æ–º —á–µ–ª–æ–≤–µ–∫ –Ω–µ –∑–Ω–∞–µ—Ç, —á—Ç–æ —Å –Ω–µ–π –¥–µ–ª–∞—Ç—å, –ø–æ–∫–∞ –Ω–µ —Å—Ç–æ–ª–∫–Ω–µ—Ç—Å—è —Å —Ä–µ–∞–ª—å–Ω–æ–π –∑–∞–¥–∞—á–µ–π.</p>
<p><strong>–ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø–æ–¥—Ö–æ–¥</strong>:</p>
<ol>
<li>–ü—Ä–µ–¥—ä—è–≤–∏—Ç—å –∑–∞–¥–∞—á—É</li>
<li>–ß–µ–ª–æ–≤–µ–∫ –ø—ã—Ç–∞–µ—Ç—Å—è –µ–µ —Ä–µ—à–∏—Ç—å "–≤ –ª–æ–±"</li>
<li>–°—Ç–æ–ª–∫–Ω—É–≤—à–∏—Å—å —Å –ø—Ä–æ–±–ª–µ–º–æ–π, –ø–æ–∫–∞–∑–∞—Ç—å, –∫–∞–∫ –ø–∞—Ç—Ç–µ—Ä–Ω —Ä–µ—à–∞–µ—Ç —ç—Ç—É –ø—Ä–æ–±–ª–µ–º—É</li>
<li>–≠—Ç–æ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –Ω–∞–≥–ª—è–¥–Ω—ã–º –∏ –ø–æ–Ω—è—Ç–Ω—ã–º</li>
</ol>
<p><strong>–ü—Ä–∏–º–µ—Ä</strong>: –°–Ω–∞—á–∞–ª–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –∑–∞–∫–∞–∑ —Ç–∞–∫—Å–∏, –ø–æ—Ç–æ–º –≥–æ–≤–æ—Ä–∏–º: "–í–∏–¥–∏—à—å —Å–ª–æ–∂–Ω–æ—Å—Ç—å? –í–æ—Ç –¥–ª—è —ç—Ç–æ–≥–æ –Ω—É–∂–Ω–∞ State Machine"</p>
<h3 id="–§–∏–ª–æ—Å–æ—Ñ–∏—è-–∫–∞—á–µ—Å—Ç–≤–∞-–∫–æ–¥–∞"><a class="header" href="#–§–∏–ª–æ—Å–æ—Ñ–∏—è-–∫–∞—á–µ—Å—Ç–≤–∞-–∫–æ–¥–∞">–§–∏–ª–æ—Å–æ—Ñ–∏—è –∫–∞—á–µ—Å—Ç–≤–∞ –∫–æ–¥–∞</a></h3>
<ul>
<li><strong>–ù–∞ —Ä–∞–±–æ—Ç–µ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å —Ä–∞–¥–æ—Å—Ç—å –∏ —É–¥–æ–≤–æ–ª—å—Å—Ç–≤–∏–µ</strong> –æ—Ç –ø—Ä–æ–∏—Å—Ö–æ–¥—è—â–µ–≥–æ</li>
<li>–ï—Å–ª–∏ –≤—ã –Ω–µ –ø–æ–ª—É—á–∞–µ—Ç–µ —É–¥–æ–≤–æ–ª—å—Å—Ç–≤–∏—è –æ—Ç –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏—è, –Ω—É–∂–Ω–æ –º–µ–Ω—è—Ç—å –ø—Ä–æ—Ñ–µ—Å—Å–∏—é</li>
<li>–ö—Ä–∞—Å–∏–≤—ã–π –∫–æ–¥ –≤–∞–∂–µ–Ω, –Ω–æ –Ω–µ –µ—Å–ª–∏ –æ–Ω –∂–µ—Ä—Ç–≤—É–µ—Ç —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å—é</li>
<li>–ë–∞–ª–∞–Ω—Å –º–µ–∂–¥—É —á–∏—Ç–∞–µ–º–æ—Å—Ç—å—é –∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å—é</li>
</ul>
<h3 id="–ì–ª—É–±–∏–Ω–∞-–ø–æ–≥—Ä—É–∂–µ–Ω–∏—è-–≤-—Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏"><a class="header" href="#–ì–ª—É–±–∏–Ω–∞-–ø–æ–≥—Ä—É–∂–µ–Ω–∏—è-–≤-—Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏">–ì–ª—É–±–∏–Ω–∞ –ø–æ–≥—Ä—É–∂–µ–Ω–∏—è –≤ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏</a></h3>
<p><strong>–ú–µ—Ç–∞—Ñ–æ—Ä–∞ "–ö–æ–ª—å—Å–∫–æ–π —Å–∫–≤–∞–∂–∏–Ω—ã"</strong>: –ß–µ–º –≥–ª—É–±–∂–µ —Ç—ã –ø–æ–≥—Ä—É–∂–∞–µ—à—å—Å—è –≤ –∏—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã/—è–∑—ã–∫–∞, —Ç–µ–º —Å—Ç—Ä–∞—à–Ω–µ–µ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è. –¢–µ–±–µ –≤–∏–¥–Ω–∞ —Ä–∞–±–æ—Ç–∞ –æ–±—ã–∫–Ω–æ–≤–µ–Ω–Ω—ã—Ö –ª—é–¥–µ–π, —Ç—Ä–æ–µ—á–Ω–∏–∫–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –ø—Ä–µ–¥–ø–æ—á–ª–∏ "–Ω–∞–ø–∏—Å–∞—Ç—å –∏ –∑–∞–±—ã—Ç—å". –ù–æ —ç—Ç–æ –ø–æ–º–æ–≥–∞–µ—Ç –ø–æ–Ω—è—Ç—å, —á—Ç–æ –∏–¥–µ–∞–ª—å–Ω—ã—Ö —Ä–µ—à–µ–Ω–∏–π –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç.</p>
<p><strong>–ü—Ä–∏–º–µ—Ä—ã –ø—É–≥–∞—é—â–∏—Ö —Ñ–∞–∫—Ç–æ–≤</strong>:</p>
<ul>
<li>–í –º–∏–∫—Ä–æ–∫–æ–¥–µ –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–∞ —Å–ª—É—á–∞—é—Ç—Å—è –æ—à–∏–±–∫–∏ (Spectre, Meltdown –∏ –¥—Ä—É–≥–∏–µ —É—è–∑–≤–∏–º–æ—Å—Ç–∏)</li>
<li>–î–∞–∂–µ Assemblly (—Å–∞–º—ã–π –ø—Ä–æ—Å—Ç–æ–π —è–∑—ã–∫) –º–æ–∂–µ—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ –Ω–µ–æ–∂–∏–¥–∞–Ω–Ω—ã–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º</li>
<li>–ì–ª—É–±–∂–µ = —Å—Ç—Ä–∞—à–Ω–µ–µ, –Ω–æ –∏ –ø–æ–Ω—è—Ç–Ω–µ–µ</li>
</ul>
<hr />
<h2 id="–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ-—Å–æ–≤–µ—Ç—ã"><a class="header" href="#–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ-—Å–æ–≤–µ—Ç—ã">–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ —Å–æ–≤–µ—Ç—ã</a></h2>
<h3 id="–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ-—Ç–µ—Å—Ç–æ–≤-–ø—Ä–∏-–ø–µ—Ä–µ—Ä–∞–±–æ—Ç–∫–µ-–∫–æ–¥–∞"><a class="header" href="#–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ-—Ç–µ—Å—Ç–æ–≤-–ø—Ä–∏-–ø–µ—Ä–µ—Ä–∞–±–æ—Ç–∫–µ-–∫–æ–¥–∞">–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤ –ø—Ä–∏ –ø–µ—Ä–µ—Ä–∞–±–æ—Ç–∫–µ –∫–æ–¥–∞</a></h3>
<p>–ü—Ä–∏ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã:</p>
<ol>
<li>–°–Ω–∞—á–∞–ª–∞ –ø–∏—à–∏—Ç–µ –∫–æ–¥ "–≤ –ª–æ–±" —Å –Ω—É–∂–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å—é</li>
<li>–ü–æ—Ç–æ–º –ø–∏—à–∏—Ç–µ —Ç–µ—Å—Ç—ã</li>
<li>–ü–æ—Å–ª–µ —Ç–µ—Å—Ç–æ–≤ –º–æ–∂–Ω–æ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏—Ç—å –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É</li>
<li>–¢–µ—Å—Ç—ã –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞—é—Ç, —á—Ç–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –Ω–µ –∏–∑–º–µ–Ω–∏–ª–∞—Å—å</li>
</ol>
<h3 id="–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è--–ø–æ—Å–ª–µ–¥–Ω–∏–π-—à–∞–≥"><a class="header" href="#–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è--–ø–æ—Å–ª–µ–¥–Ω–∏–π-—à–∞–≥">–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è ‚Äî –ø–æ—Å–ª–µ–¥–Ω–∏–π —à–∞–≥</a></h3>
<ul>
<li>–°–Ω–∞—á–∞–ª–∞ –ø–∏—à–∏—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –∫–æ–¥</li>
<li>–ü–æ—Ç–æ–º, –µ—Å–ª–∏ –Ω—É–∂–Ω–∞ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è, –∞–Ω–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ —É–∑–∫–∏–µ –º–µ—Å—Ç–∞</li>
<li>–ù–µ –æ–ø—Ç–∏–º–∏–∑–∏—Ä—É–π—Ç–µ —Ä–∞–Ω—å—à–µ –≤—Ä–µ–º–µ–Ω–∏ (premature optimization)</li>
</ul>
<h3 id="–ß—Ç–µ–Ω–∏–µ-—Å–ø–µ—Ü–∏—Ñ—ñ–∫–∞—Ü—ñ—ó"><a class="header" href="#–ß—Ç–µ–Ω–∏–µ-—Å–ø–µ—Ü–∏—Ñ—ñ–∫–∞—Ü—ñ—ó">–ß—Ç–µ–Ω–∏–µ —Å–ø–µ—Ü–∏—Ñ—ñ–∫–∞—Ü—ñ—ó</a></h3>
<p>–ö–æ–≥–¥–∞ —á—Ç–æ-—Ç–æ –Ω–µ–ø–æ–Ω—è—Ç–Ω–æ:</p>
<ul>
<li>–ß–∏—Ç–∞–π—Ç–µ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—É—é —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—é</li>
<li>–ò—â–∏—Ç–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏ –Ω–∞ —Ç–æ–º –∂–µ —è–∑—ã–∫–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, JavaScript —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è JavaScript)</li>
<li>–¢–∞–∫–æ–π –∫–æ–¥ —á–∞—Å—Ç–æ –±–æ–ª–µ–µ –ø–æ–Ω—è—Ç–µ–Ω, —á–µ–º –æ–ø–∏—Å–∞–Ω–∏–µ –≤ —Å–ø–µ–∫–µ</li>
</ul>
<hr />
<h2 id="–í—ã–≤–æ–¥—ã"><a class="header" href="#–í—ã–≤–æ–¥—ã">–í—ã–≤–æ–¥—ã</a></h2>
<ol>
<li>
<p><strong>JavaScript ‚Äî —è–∑—ã–∫ —Å–≤–æ–±–æ–¥—ã —Å –±–æ–ª—å—à–æ–π –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å—é</strong>: –ú–Ω–æ–≥–æ –ø–µ—Ä–≤–æ–∫–ª–∞—Å—Å–Ω—ã—Ö —Å—É—â–Ω–æ—Å—Ç–µ–π –¥–∞–µ—Ç –≥–∏–±–∫–æ—Å—Ç—å, –Ω–æ —Ç—Ä–µ–±—É–µ—Ç –º—É–¥—Ä–æ—Å—Ç–∏ –≤ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏</p>
</li>
<li>
<p><strong>–ü–∞—Ç—Ç–µ—Ä–Ω—ã ‚Äî –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã, –Ω–µ –¥–æ–≥–º—ã</strong>: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∏—Ö –∫–æ–≥–¥–∞ –Ω—É–∂–Ω—ã, –Ω–µ –Ω–∞—Å–∏–ª–æ–≤–∞–π—Ç–µ JavaScript –û–û–ü –≥–¥–µ —ç—Ç–æ –Ω–µ—É–º–µ—Å—Ç–Ω–æ</p>
</li>
<li>
<p><strong>–ë–∞–ª–∞–Ω—Å ‚Äî –≥–ª–∞–≤–Ω–æ–µ</strong>: –ö—Ä–∞—Å–∏–≤—ã–π –∫–æ–¥ vs –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å, –ø—Ä–æ—Å—Ç–æ—Ç–∞ vs –≥–∏–±–∫–æ—Å—Ç—å, –∫–ª–∞—Å—Å—ã vs —Ñ—É–Ω–∫—Ü–∏–∏</p>
</li>
<li>
<p><strong>–û—Ç –∑–∞–¥–∞—á–∏ –∫ —Ä–µ—à–µ–Ω–∏—é</strong>: –°–Ω–∞—á–∞–ª–∞ –ø–æ–π–º–∏—Ç–µ –ø—Ä–æ–±–ª–µ–º—É, –ø–æ—Ç–æ–º –ø—Ä–∏–º–µ–Ω—è–π—Ç–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã</p>
</li>
<li>
<p><strong>–ö–∞—á–µ—Å—Ç–≤–æ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —á–µ–ª–æ–≤–µ–∫–∞</strong>: –î–∞–∂–µ –±–∞–∑–æ–≤—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã (–∫–∞–∫ State Machine) –¥–∞—é—Ç –æ–≥—Ä–æ–º–Ω–æ–µ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–æ –≤ —Å–ª–æ–∂–Ω—ã—Ö —Å–∏—Å—Ç–µ–º–∞—Ö</p>
</li>
<li>
<p><strong>–ë—É–¥—å—Ç–µ —á–µ—Å—Ç–Ω—ã –≤ –∫–æ–¥–µ</strong>: –ö–æ–¥ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –ø–æ–Ω—è—Ç–Ω—ã–º –¥–ª—è –≤–∞—à–µ–π –∫–æ–º–∞–Ω–¥—ã, –¥–∞–∂–µ –µ—Å–ª–∏ –æ–Ω –Ω–µ "–∫—Ä–∞—Å–∏–≤—ã–π" –ø–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∞–º"</p>
</li>
</ol>
<div style="break-before: page; page-break-before: always;"></div><h1 id="–ö–æ–Ω—Å–ø–µ–∫—Ç-—Å–µ–º–∏–Ω–∞—Ä–∞-–¢–∏–º—É—Ä–∞-–®–µ–º—Å–µ–¥–∏–Ω–æ–≤–∞-–ü–µ—Ä–µ–æ—Å–º—ã—Å–ª–µ–Ω–∏–µ-–ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤-grasp-solid-gof-–≤-javascript"><a class="header" href="#–ö–æ–Ω—Å–ø–µ–∫—Ç-—Å–µ–º–∏–Ω–∞—Ä–∞-–¢–∏–º—É—Ä–∞-–®–µ–º—Å–µ–¥–∏–Ω–æ–≤–∞-–ü–µ—Ä–µ–æ—Å–º—ã—Å–ª–µ–Ω–∏–µ-–ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤-grasp-solid-gof-–≤-javascript">–ö–æ–Ω—Å–ø–µ–∫—Ç —Å–µ–º–∏–Ω–∞—Ä–∞ –¢–∏–º—É—Ä–∞ –®–µ–º—Å–µ–¥–∏–Ω–æ–≤–∞: –ü–µ—Ä–µ–æ—Å–º—ã—Å–ª–µ–Ω–∏–µ –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤ (GRASP, SOLID, GoF) –≤ JavaScript</a></h1>
<h2 id="–í–≤–µ–¥–µ–Ω–∏–µ"><a class="header" href="#–í–≤–µ–¥–µ–Ω–∏–µ">–í–≤–µ–¥–µ–Ω–∏–µ</a></h2>
<p>–û—Å–Ω–æ–≤–Ω–∞—è –∏–¥–µ—è —Å–µ–º–∏–Ω–∞—Ä–∞: <strong>–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–∞—Ç—Ç–µ—Ä–Ω—ã –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –Ω—É–∂–Ω–æ –æ—Å—Ç–æ—Ä–æ–∂–Ω–æ</strong>. –ù–µ–ª—å–∑—è —Å–ª–µ–ø–æ –∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –ø–∞—Ç—Ç–µ—Ä–Ω—ã –∏–∑ –¥—Ä—É–≥–∏—Ö —è–∑—ã–∫–æ–≤ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è –≤ JavaScript –±–µ–∑ —É—á–µ—Ç–∞ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–µ–π —Å–∞–º–æ–≥–æ JS –∏ –µ–≥–æ runtime (V8).</p>
<p>–ö–ª—é—á–µ–≤–∞—è –ø–æ—Å—ã–ª–∫–∞: –ø–∞—Ç—Ç–µ—Ä–Ω—ã - —ç—Ç–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã, –∞ –Ω–µ –∑–∞–∫–æ–Ω –ø—Ä–∏—Ä–æ–¥—ã. –ò—Ö –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –æ–±–æ—Å–Ω–æ–≤–∞–Ω–Ω—ã–º, –∞ –Ω–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º.</p>
<hr />
<h2 id="–ß–∞—Å—Ç—å-1-–ü—Ä–æ–±–ª–µ–º–∞-—Å–ª–µ–ø–æ–≥–æ-–ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è-–ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤"><a class="header" href="#–ß–∞—Å—Ç—å-1-–ü—Ä–æ–±–ª–µ–º–∞-—Å–ª–µ–ø–æ–≥–æ-–ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è-–ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤">–ß–∞—Å—Ç—å 1: –ü—Ä–æ–±–ª–µ–º–∞ —Å–ª–µ–ø–æ–≥–æ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤</a></h2>
<h3 id="–ö–æ–Ω—Ñ–ª–∏–∫—Ç-–º–µ–∂–¥—É-—á–∏—Ç–∞–µ–º–æ—Å—Ç—å—é-–∏-–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å—é"><a class="header" href="#–ö–æ–Ω—Ñ–ª–∏–∫—Ç-–º–µ–∂–¥—É-—á–∏—Ç–∞–µ–º–æ—Å—Ç—å—é-–∏-–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å—é">–ö–æ–Ω—Ñ–ª–∏–∫—Ç –º–µ–∂–¥—É —á–∏—Ç–∞–µ–º–æ—Å—Ç—å—é –∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å—é</a></h3>
<p><strong>–ü—Ä–æ–±–ª–µ–º–∞</strong>: –ö–Ω–∏–≥–∏ –ø–æ "—á–∏—Å—Ç–æ–º—É –∫–æ–¥—É" (Uncle Bob) –ø—Ä–æ–ø–∞–≥–∞–Ω–¥–∏—Ä—É—é—Ç –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤ –¥–ª—è —á–∏—Ç–∞–µ–º–æ—Å—Ç–∏, –Ω–æ –Ω–µ —É—á–∏—Ç—ã–≤–∞—é—Ç –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å, –æ—Å–æ–±–µ–Ω–Ω–æ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–Ω–æ–π —á–∞—Å—Ç–∏.</p>
<p><strong>–ò—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–π –ø—Ä–∏–º–µ—Ä</strong>: –ú–∞–ª–æ–∏–∑–≤–µ—Å—Ç–Ω—ã–π —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫ –ø—Ä–æ–≤–µ–ª —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ:</p>
<ul>
<li>–í–∑—è–ª –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π –ø—Ä–∏–º–µ—Ä –∏–∑ "Clean Code" (–Ω–∞ C++)</li>
<li>–†–µ–∞–ª–∏–∑–æ–≤–∞–ª –µ–≥–æ –ø–æ –ø–∞—Ç—Ç–µ—Ä–Ω—É (—Å –∫–ª–∞—Å—Å–∞–º–∏, –∞–±—Å—Ç—Ä–∞–∫—Ü–∏—è–º–∏)</li>
<li>–†–µ–∞–ª–∏–∑–æ–≤–∞–ª —Ç–æ –∂–µ —Å–∞–º–æ–µ –ø—Ä–æ—Å—Ç—ã–º –∫–æ–¥–æ–º (–ø—Ä–æ—Ü–µ–¥—É—Ä–Ω—ã–º)</li>
<li><strong>–†–µ–∑—É–ª—å—Ç–∞—Ç</strong>: —Ä–∞–∑–Ω–∏—Ü–∞ –≤ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –ø—Ä–∏–º–µ—Ä–Ω–æ –≤ 200-400 —Ä–∞–∑ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–Ω—ã—Ö –Ω–∞–≥—Ä—É–∑–∫–∞—Ö</li>
</ul>
<p><strong>–í—ã–≤–æ–¥</strong>: Uncle Bob —Ä–∞—Å—Å—É–∂–¥–∞–µ—Ç –æ "—Å—Ñ–µ—Ä–∏—á–µ—Å–∫–æ–º –∫–æ–¥–µ –≤ –≤–∞–∫—É—É–º–µ", –∫–∞–∫ –æ–± –∏—Å–∫—É—Å—Å—Ç–≤–µ, –∞ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∏ –º–µ—Ö–∞–Ω–∏—á–µ—Å–∫–∏ –∫–æ–ø–∏—Ä—É—é—Ç –µ–≥–æ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –≤ production, –≥–¥–µ –Ω–∞–≥—Ä—É–∑–∫–∏ –º–æ–≥—É—Ç –±—ã—Ç—å –∫–æ–ª–æ—Å—Å–∞–ª—å–Ω—ã–º–∏ (—Å–æ—Ç–Ω–∏ –∏ —Ç—ã—Å—è—á–∏ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π).</p>
<h3 id="–í–∞–∂–Ω—ã–π-–ø—Ä–∏–Ω—Ü–∏–ø-–∑–Ω–∞–Ω–∏–µ-—è–∑—ã–∫–∞-–ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è"><a class="header" href="#–í–∞–∂–Ω—ã–π-–ø—Ä–∏–Ω—Ü–∏–ø-–∑–Ω–∞–Ω–∏–µ-—è–∑—ã–∫–∞-–ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è">–í–∞–∂–Ω—ã–π –ø—Ä–∏–Ω—Ü–∏–ø: –∑–Ω–∞–Ω–∏–µ —è–∑—ã–∫–∞ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è</a></h3>
<blockquote>
<p>"–ï—Å–ª–∏ –≤—ã –ø—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç—ã –∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ —è–∑—ã–∫ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è, —Ç–æ –∑–Ω–∞–π—Ç–µ, —á—Ç–æ —Å—Ç–æ–∏—Ç –∑–∞ –∫–∞–∂–¥–æ–π –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–µ–π, –∫–æ—Ç–æ—Ä—É—é –≤—ã –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ"</p>
</blockquote>
<p>–ù–µ–ª—å–∑—è –ø—Ä–æ—Å—Ç–æ –∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∫–æ–¥ –æ—Ç –æ–¥–Ω–æ–≥–æ —è–∑—ã–∫–∞ –∫ –¥—Ä—É–≥–æ–º—É. –ù–∞–ø—Ä–∏–º–µ—Ä:</p>
<ul>
<li>Python: —Å–∫–æ–±–æ—á–∫–∏ —É–±—Ä–∞–ª–∏ –∏–∑ Java ‚Üí –Ω–æ–≤—ã–π —è–∑—ã–∫</li>
<li>Lisp: –¥–æ–±–∞–≤–∏–ª–∏ —Å–∫–æ–±–æ—á–∫–∏ –∫ Python ‚Üí –¥—Ä–µ–≤–Ω–∏–π (–Ω–æ –ø–µ—Ä–≤—ã–π) —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π —è–∑—ã–∫ (1959)</li>
</ul>
<p>–ö–∞–∂–¥—ã–π —è–∑—ã–∫ –∏–º–µ–µ—Ç —Å–≤–æ—é —Ñ–∏–ª–æ—Å–æ—Ñ–∏—é, –∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –æ–¥–Ω–æ–≥–æ –∏ —Ç–æ–≥–æ –∂–µ –ø–∞—Ç—Ç–µ—Ä–Ω–∞ –º–æ–∂–µ—Ç –±—ã—Ç—å —Å–æ–≤–µ—Ä—à–µ–Ω–Ω–æ —Ä–∞–∑–Ω–æ–π –Ω–∞ —É—Ä–æ–≤–Ω–µ –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä–∞ –∏–ª–∏ –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä–∞.</p>
<hr />
<h2 id="–ß–∞—Å—Ç—å-2-v8-engine-–∏-–æ–±—ä–µ–∫—Ç—ã-–≤-javascript"><a class="header" href="#–ß–∞—Å—Ç—å-2-v8-engine-–∏-–æ–±—ä–µ–∫—Ç—ã-–≤-javascript">–ß–∞—Å—Ç—å 2: V8 Engine –∏ –æ–±—ä–µ–∫—Ç—ã –≤ JavaScript</a></h2>
<h3 id="–§–æ—Ä–º—ã-–æ–±—ä–µ–∫—Ç–æ–≤-–≤-v8"><a class="header" href="#–§–æ—Ä–º—ã-–æ–±—ä–µ–∫—Ç–æ–≤-–≤-v8">–§–æ—Ä–º—ã –æ–±—ä–µ–∫—Ç–æ–≤ –≤ V8</a></h3>
<p>V8 (JavaScript engine Chrome –∏ Node.js) –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∫–æ–Ω—Ü–µ–ø—Ü–∏—é <strong>—Ñ–æ—Ä–º –æ–±—ä–µ–∫—Ç–æ–≤</strong> (shapes/hidden classes) –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏.</p>
<h4 id="1-–ú–æ–Ω–æ–º–æ—Ä—Ñ–Ω–∞—è-—Ñ–æ—Ä–º–∞-monomorphic"><a class="header" href="#1-–ú–æ–Ω–æ–º–æ—Ä—Ñ–Ω–∞—è-—Ñ–æ—Ä–º–∞-monomorphic">1. <strong>–ú–æ–Ω–æ–º–æ—Ä—Ñ–Ω–∞—è —Ñ–æ—Ä–º–∞ (Monomorphic)</strong></a></h4>
<ul>
<li>V8 —Ç–æ—á–Ω–æ –∑–Ω–∞–µ—Ç, –∫–∞–∫–æ–π —Ñ–æ—Ä–º—ã –±—É–¥–µ—Ç –æ–±—ä–µ–∫—Ç</li>
<li>–û–±—ä–µ–∫—Ç –∏–º–µ–µ—Ç —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –Ω–∞–±–æ—Ä —Å–≤–æ–π—Å—Ç–≤</li>
<li>–°–≤–æ–π—Å—Ç–≤–∞ –Ω–µ –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è, –Ω–µ —É–¥–∞–ª—è—é—Ç—Å—è, –Ω–µ –∏–∑–º–µ–Ω—è—é—Ç —Ç–∏–ø</li>
<li><strong>–≠—Ç–æ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ –¥–ª—è V8</strong></li>
</ul>
<pre><code class="language-javascript">class Timer {
  constructor(interval) {
    this.interval = interval;
    this.callback = null;
  }
}

// V8 —Å–æ–∑–¥–∞—Å—Ç –º–æ–Ω–æ–º–æ—Ä—Ñ–Ω—É—é —Ñ–æ—Ä–º—É –¥–ª—è Timer
const timer = new Timer(1000); // –í—Å–µ–≥–¥–∞ –æ–¥–∏–Ω —Ç–∏–ø –æ–±—ä–µ–∫—Ç–∞
</code></pre>
<h4 id="2-–ü–æ–ª–∏–º–æ—Ä—Ñ–Ω–∞—è-—Ñ–æ—Ä–º–∞-polymorphic"><a class="header" href="#2-–ü–æ–ª–∏–º–æ—Ä—Ñ–Ω–∞—è-—Ñ–æ—Ä–º–∞-polymorphic">2. <strong>–ü–æ–ª–∏–º–æ—Ä—Ñ–Ω–∞—è —Ñ–æ—Ä–º–∞ (Polymorphic)</strong></a></h4>
<ul>
<li>–û–±—ä–µ–∫—Ç—ã –º–æ–≥—É—Ç –±—ã—Ç—å —Ä–∞–∑–Ω—ã—Ö —Ñ–æ—Ä–º</li>
<li>V8 –¥–æ–±–∞–≤–ª—è–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏: "–µ—Å–ª–∏ —Ñ–æ—Ä–º–∞ A, —Ç–æ –¥–µ–ª–∞–π X; –µ—Å–ª–∏ —Ñ–æ—Ä–º–∞ B, —Ç–æ –¥–µ–ª–∞–π Y"</li>
<li>–ú–∞–∫—Å–∏–º—É–º –ø—Ä–æ–≤–µ—Ä–æ–∫ ~16-32 —Ä–∞–∑–ª–∏—á–Ω—ã–µ —Ñ–æ—Ä–º—ã</li>
<li><strong>–ú–µ–¥–ª–µ–Ω–Ω–µ–µ –º–æ–Ω–æ–º–æ—Ä—Ñ–Ω–æ–π, –Ω–æ –ø—Ä–∏–µ–º–ª–µ–º–æ</strong></li>
</ul>
<pre><code class="language-javascript">class Interval {
  constructor(interval) {
    this.interval = interval;
  }
}

// –ï—Å–ª–∏ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –º–æ–∂–µ—Ç –≤–µ—Ä–Ω—É—Ç—å —Ä–∞–∑–Ω—ã–µ —Ñ–æ—Ä–º—ã –æ–±—ä–µ–∫—Ç–æ–≤
// —Ç–æ V8 –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç –≤ –ø–æ–ª–∏–º–æ—Ä—Ñ–Ω—ã–π —Ä–µ–∂–∏–º
</code></pre>
<h4 id="3-–°–ª–æ–≤–∞—Ä–Ω—ã–π-—Ä–µ–∂–∏–º-megamorphicdictionary"><a class="header" href="#3-–°–ª–æ–≤–∞—Ä–Ω—ã–π-—Ä–µ–∂–∏–º-megamorphicdictionary">3. <strong>–°–ª–æ–≤–∞—Ä–Ω—ã–π —Ä–µ–∂–∏–º (Megamorphic/Dictionary)</strong></a></h4>
<ul>
<li>–ë–æ–ª–µ–µ 32 —Ä–∞–∑–Ω—ã—Ö —Ñ–æ—Ä–º –æ–±—ä–µ–∫—Ç–æ–≤</li>
<li>V8 –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç –≤ —Ä–µ–∂–∏–º —Å–ª–æ–≤–∞—Ä—è (–∫–∞–∫ –æ–±—ã—á–Ω—ã–π object hash map)</li>
<li><strong>–≠—Ç–æ —Å–∞–º—ã–π –º–µ–¥–ª–µ–Ω–Ω—ã–π —Å–ø–æ—Å–æ–±</strong></li>
</ul>
<pre><code class="language-javascript">// –ï—Å–ª–∏ —É –æ–¥–Ω–æ–≥–æ –∫–ª–∞—Å—Å–∞ –±—É–¥–µ—Ç 40+ —Ä–∞–∑–Ω—ã—Ö –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ –æ–±—ä–µ–∫—Ç–æ–≤
// V8 —Å–¥–∞–µ—Ç—Å—è –∏ –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç –≤ —Å–ª–æ–≤–∞—Ä–Ω—ã–π —Ä–µ–∂–∏–º - —Ä–∞–±–æ—Ç–∞–µ—Ç –º–µ–¥–ª–µ–Ω–Ω–µ–µ
</code></pre>
<h3 id="–ü—Ä–∏–º–µ—Ä-–∏–∑-—Å–µ–º–∏–Ω–∞—Ä–∞-factory-–∏-–º–æ–Ω–æ–º–æ—Ä—Ñ–∏–∑–º"><a class="header" href="#–ü—Ä–∏–º–µ—Ä-–∏–∑-—Å–µ–º–∏–Ω–∞—Ä–∞-factory-–∏-–º–æ–Ω–æ–º–æ—Ä—Ñ–∏–∑–º">–ü—Ä–∏–º–µ—Ä –∏–∑ —Å–µ–º–∏–Ω–∞—Ä–∞: Factory –∏ –º–æ–Ω–æ–º–æ—Ä—Ñ–∏–∑–º</a></h3>
<pre><code class="language-javascript">// –ö–õ–ê–°–°–ò–ß–ï–°–ö–ê–Ø –†–ï–ê–õ–ò–ó–ê–¶–ò–Ø –ò–ó –ö–ù–ò–ì (–∫–∞–∫ –≤ Java/C++)
class Timer {
  constructor(interval) {
    this.interval = interval;
    this.callback = null;
    // ... –¥—Ä—É–≥–∏–µ —Ç—è–∂–µ–ª—ã–µ —Å–≤–æ–π—Å—Ç–≤–∞
  }
  
  setCallback(cb) {
    this.callback = cb;
  }
}

class TimerFactory {
  static timers = new Map();
  
  static getTimer(interval) {
    if (!this.timers.has(interval)) {
      this.timers.set(interval, new Timer(interval));
    }
    return this.timers.get(interval);
  }
}

class Interval {
  constructor(interval, callback) {
    this.interval = interval;
    this.callback = callback;
    this.timer = TimerFactory.getTimer(interval);
  }
}

// –ü–†–û–ë–õ–ï–ú–ê:
// 1. TimerFactory —Å–æ–∑–¥–∞–µ—Ç Timer —Å —Ä–∞–∑–Ω—ã–º–∏ —Å–≤–æ–π—Å—Ç–≤–∞–º–∏
//    –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
// 2. V8 –≤–∏–¥–∏—Ç, —á—Ç–æ –æ–¥–∏–Ω –∏ —Ç–æ—Ç –∂–µ –∫–ª–∞—Å—Å –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç
//    —Ä–∞–∑–Ω—ã–µ —Ñ–æ—Ä–º—ã –æ–±—ä–µ–∫—Ç–æ–≤
// 3. V8 –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç –≤ –ø–æ–ª–∏–º–æ—Ä—Ñ–Ω—ã–π —Ä–µ–∂–∏–º (—Å–æ–∑–¥–∞–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ñ–æ—Ä–º—ã)
// 4. –≠—Ç–æ –º–µ–¥–ª–µ–Ω–Ω–µ–µ, —á–µ–º –∫–æ–≥–¥–∞ –≤—Å–µ –æ–±—ä–µ–∫—Ç—ã –æ–¥–Ω–æ–π —Ñ–æ—Ä–º—ã
</code></pre>
<p><strong>JavaScript-way —Ä–µ—à–µ–Ω–∏–µ</strong>:</p>
<pre><code class="language-javascript">// OPTIMIZED VERSION –î–õ–Ø V8
class Timer {
  constructor(interval) {
    this.interval = interval;
    this.callback = null;
  }
}

class TimerFactory {
  static timers = new Map();
  
  static getTimer(interval) {
    if (!this.timers.has(interval)) {
      this.timers.set(interval, new Timer(interval));
    }
    return this.timers.get(interval);
  }
}

class Interval {
  constructor(interval, callback) {
    // –ó–¥–µ—Å—å –≤—Å–µ–≥–¥–∞ –æ–¥–Ω–∞ —Ñ–æ—Ä–º–∞ –æ–±—ä–µ–∫—Ç–∞ - –º–æ–Ω–æ–º–æ—Ä—Ñ–Ω–∞—è
    this.interval = interval;
    this.callback = callback;
    this.timer = TimerFactory.getTimer(interval);
  }
}

// –ò–ª–∏ –µ—â–µ –ª—É—á—à–µ - –ø—Ä–æ—Å—Ç–æ –Ω–µ —Å–æ–∑–¥–∞–≤–∞–π—Ç–µ –∫–ª–∞—Å—Å—ã –≥–¥–µ –Ω–µ –Ω—É–∂–Ω—ã
</code></pre>
<hr />
<h2 id="–ß–∞—Å—Ç—å-3-grasp-–ø–∞—Ç—Ç–µ—Ä–Ω—ã"><a class="header" href="#–ß–∞—Å—Ç—å-3-grasp-–ø–∞—Ç—Ç–µ—Ä–Ω—ã">–ß–∞—Å—Ç—å 3: GRASP –ø–∞—Ç—Ç–µ—Ä–Ω—ã</a></h2>
<p>GRASP (General Responsibility Assignment Software Patterns) - —ç—Ç–æ 9 –ø—Ä–∏–Ω—Ü–∏–ø–æ–≤ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ –º–µ–∂–¥—É –æ–±—ä–µ–∫—Ç–∞–º–∏.</p>
<h3 id="1-information-expert-–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã–π-—ç–∫—Å–ø–µ—Ä—Ç"><a class="header" href="#1-information-expert-–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã–π-—ç–∫—Å–ø–µ—Ä—Ç">1. <strong>Information Expert (–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã–π —ç–∫—Å–ø–µ—Ä—Ç)</strong></a></h3>
<p>–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å –∑–∞ –æ–ø–µ—Ä–∞—Ü–∏—é –¥–æ–ª–∂–Ω–∞ –ª–µ–∂–∞—Ç—å –Ω–∞ –æ–±—ä–µ–∫—Ç–µ, –∫–æ—Ç–æ—Ä—ã–π —Å–æ–¥–µ—Ä–∂–∏—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é, –Ω–µ–æ–±—Ö–æ–¥–∏–º—É—é –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –æ–ø–µ—Ä–∞—Ü–∏–∏.</p>
<pre><code class="language-javascript">// ‚ùå –ü–õ–û–•–û - –Ω–∞—Ä—É—à–µ–Ω–∏–µ Information Expert
class Order {
  constructor(items) {
    this.items = items;
  }
}

class OrderPriceCalculator {
  calculateTotal(order) {
    return order.items.reduce((sum, item) =&gt; sum + item.price * item.quantity, 0);
  }
}

// ‚úÖ –•–û–†–û–®–û - Order —Å–∞–º –∑–Ω–∞–µ—Ç, –∫–∞–∫ —Å—á–∏—Ç–∞—Ç—å —Å—Ç–æ–∏–º–æ—Å—Ç—å
class Order {
  constructor(items) {
    this.items = items;
  }
  
  calculateTotal() {
    return this.items.reduce((sum, item) =&gt; sum + item.price * item.quantity, 0);
  }
}

const order = new Order([
  { price: 100, quantity: 2 },
  { price: 50, quantity: 3 }
]);
console.log(order.calculateTotal()); // 350
</code></pre>
<h3 id="2-creator-–°–æ–∑–¥–∞—Ç–µ–ª—å"><a class="header" href="#2-creator-–°–æ–∑–¥–∞—Ç–µ–ª—å">2. <strong>Creator (–°–æ–∑–¥–∞—Ç–µ–ª—å)</strong></a></h3>
<p>–ö–∞–∫–æ–π –∫–ª–∞—Å—Å –¥–æ–ª–∂–µ–Ω —Å–æ–∑–¥–∞–≤–∞—Ç—å –Ω–æ–≤—ã–µ –æ–±—ä–µ–∫—Ç—ã?</p>
<ul>
<li>–ï—Å–ª–∏ A —Å–æ–¥–µ—Ä–∂–∏—Ç B</li>
<li>–ï—Å–ª–∏ A –∞–≥—Ä–µ–≥–∏—Ä—É–µ—Ç B</li>
<li>–ï—Å–ª–∏ A —Ä–µ–≥—É–ª—è—Ä–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç B</li>
<li>–ï—Å–ª–∏ A –∏–º–µ–µ—Ç –¥–∞–Ω–Ω—ã–µ –¥–ª—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ B</li>
</ul>
<p>–¢–æ A –¥–æ–ª–∂–µ–Ω —Å–æ–∑–¥–∞–≤–∞—Ç—å B.</p>
<pre><code class="language-javascript">// ‚ùå –ü–õ–û–•–û
class DatabaseConnection {}
class UserRepository {
  constructor() {
    // –ö—Ç–æ —Å–æ–∑–¥–∞–µ—Ç connection?
  }
}

// ‚úÖ –•–û–†–û–®–û
class DatabaseConnection {}
class UserRepository {
  constructor(connection) {
    this.connection = connection;
  }
}

// –°–æ–∑–¥–∞—Ç–µ–ª—å - —ç—Ç–æ Application/Factory, –∫–æ—Ç–æ—Ä—ã–π –∑–Ω–∞–µ—Ç –æ –≤–∑–∞–∏–º–æ–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è—Ö
class Application {
  constructor() {
    this.connection = new DatabaseConnection();
    this.userRepository = new UserRepository(this.connection);
  }
}
</code></pre>
<h3 id="3-polymorphism-–ü–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º"><a class="header" href="#3-polymorphism-–ü–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º">3. <strong>Polymorphism (–ü–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º)</strong></a></h3>
<p>–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã—Ö –ø–æ–≤–µ–¥–µ–Ω–∏–π –≤–º–µ—Å—Ç–æ if-else —Ü–µ–ø–æ—á–µ–∫.</p>
<pre><code class="language-javascript">// ‚ùå –ü–õ–û–•–û
class PaymentProcessor {
  process(payment) {
    if (payment.type === 'credit-card') {
      // –ª–æ–≥–∏–∫–∞ –¥–ª—è –∫–∞—Ä—Ç—ã
    } else if (payment.type === 'paypal') {
      // –ª–æ–≥–∏–∫–∞ –¥–ª—è PayPal
    } else if (payment.type === 'bitcoin') {
      // –ª–æ–≥–∏–∫–∞ –¥–ª—è Bitcoin
    }
  }
}

// ‚úÖ –•–û–†–û–®–û
class CreditCardPayment {
  process() {
    // –ª–æ–≥–∏–∫–∞ –¥–ª—è –∫–∞—Ä—Ç—ã
  }
}

class PayPalPayment {
  process() {
    // –ª–æ–≥–∏–∫–∞ –¥–ª—è PayPal
  }
}

class BitcoinPayment {
  process() {
    // –ª–æ–≥–∏–∫–∞ –¥–ª—è Bitcoin
  }
}

class PaymentProcessor {
  constructor(payment) {
    this.payment = payment;
  }
  
  process() {
    this.payment.process();
  }
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
const paymentProcessor = new PaymentProcessor(new CreditCardPayment());
paymentProcessor.process();
</code></pre>
<h3 id="4-pure-fabrication-–ß–∏—Å—Ç–∞—è-–≤—ã–¥—É–º–∫–∞"><a class="header" href="#4-pure-fabrication-–ß–∏—Å—Ç–∞—è-–≤—ã–¥—É–º–∫–∞">4. <strong>Pure Fabrication (–ß–∏—Å—Ç–∞—è –≤—ã–¥—É–º–∫–∞)</strong></a></h3>
<p>–ö–æ–≥–¥–∞ –æ–ø–µ—Ä–∞—Ü–∏—è –Ω–µ –ø–æ–¥—Ö–æ–¥–∏—Ç –Ω–∏ –æ–¥–Ω–æ–º—É —Ä–µ–∞–ª—å–Ω–æ–º—É –∫–ª–∞—Å—Å—É, —Å–æ–∑–¥–∞–π—Ç–µ –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–π –∫–ª–∞—Å—Å.</p>
<pre><code class="language-javascript">// ‚úÖ –•–û–†–û–®–û
class Logger {
  log(message) {
    console.log(`[${new Date().toISOString()}] ${message}`);
  }
}

class UserService {
  constructor(logger) {
    this.logger = logger;
  }
  
  createUser(userData) {
    this.logger.log(`Creating user: ${userData.name}`);
    // –ª–æ–≥–∏–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è
  }
}
</code></pre>
<h3 id="5-indirection-–ö–æ—Å–≤–µ–Ω–Ω–æ—Å—Ç—å"><a class="header" href="#5-indirection-–ö–æ—Å–≤–µ–Ω–Ω–æ—Å—Ç—å">5. <strong>Indirection (–ö–æ—Å–≤–µ–Ω–Ω–æ—Å—Ç—å)</strong></a></h3>
<p>–î–æ–±–∞–≤—å—Ç–µ –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–π –æ–±—ä–µ–∫—Ç –¥–ª—è —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è —Å–≤—è–∑–∞–Ω–Ω–æ—Å—Ç–∏ –º–µ–∂–¥—É –∫–ª–∞—Å—Å–∞–º–∏.</p>
<pre><code class="language-javascript">// ‚ùå –ü–õ–û–•–û - –ø—Ä—è–º–∞—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å
class EmailNotifier {
  notify(user) {
    // –æ—Ç–ø—Ä–∞–≤–∫–∞ email
  }
}

class UserService {
  constructor() {
    this.emailNotifier = new EmailNotifier();
  }
  
  createUser(userData) {
    // ...
    this.emailNotifier.notify(userData);
  }
}

// ‚úÖ –•–û–†–û–®–û - —á–µ—Ä–µ–∑ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å (abstraction)
class Notifier {
  notify(user) {
    throw new Error('Not implemented');
  }
}

class EmailNotifier extends Notifier {
  notify(user) {
    // –æ—Ç–ø—Ä–∞–≤–∫–∞ email
  }
}

class SMSNotifier extends Notifier {
  notify(user) {
    // –æ—Ç–ø—Ä–∞–≤–∫–∞ SMS
  }
}

class UserService {
  constructor(notifier) {
    this.notifier = notifier; // –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
  }
  
  createUser(userData) {
    // ...
    this.notifier.notify(userData);
  }
}
</code></pre>
<h3 id="6-controller-–ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä"><a class="header" href="#6-controller-–ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä">6. <strong>Controller (–ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä)</strong></a></h3>
<p>–û–±—ä–µ–∫—Ç, –∫–æ—Ç–æ—Ä—ã–π –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —Å–∏—Å—Ç–µ–º–Ω–æ–µ —Å–æ–±—ã—Ç–∏–µ –∏ –¥–µ–ª–µ–≥–∏—Ä—É–µ—Ç —Ä–∞–±–æ—Ç—É –¥—Ä—É–≥–∏–º –æ–±—ä–µ–∫—Ç–∞–º.</p>
<pre><code class="language-javascript">// ‚úÖ –•–û–†–û–®–û
class CreateUserController {
  constructor(userService) {
    this.userService = userService;
  }
  
  handle(request) {
    const userData = request.body;
    const user = this.userService.createUser(userData);
    return { status: 201, data: user };
  }
}

class UserService {
  createUser(userData) {
    // –Ω–∞—Å—Ç–æ—è—â–∞—è –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞
  }
}
</code></pre>
<h3 id="7-low-coupling-–°–ª–∞–±–∞—è-—Å–≤—è–∑–∞–Ω–Ω–æ—Å—Ç—å"><a class="header" href="#7-low-coupling-–°–ª–∞–±–∞—è-—Å–≤—è–∑–∞–Ω–Ω–æ—Å—Ç—å">7. <strong>Low Coupling (–°–ª–∞–±–∞—è —Å–≤—è–∑–∞–Ω–Ω–æ—Å—Ç—å)</strong></a></h3>
<p>–ú–∏–Ω–∏–º–∏–∑–∏—Ä—É–π—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –º–µ–∂–¥—É –∫–ª–∞—Å—Å–∞–º–∏.</p>
<pre><code class="language-javascript">// ‚ùå –ü–õ–û–•–û - —Å–∏–ª—å–Ω–∞—è —Å–≤—è–∑–∞–Ω–Ω–æ—Å—Ç—å
class Order {
  constructor(itemService, paymentService, emailService) {
    this.itemService = itemService;
    this.paymentService = paymentService;
    this.emailService = emailService;
  }
  
  complete() {
    this.itemService.decrementInventory(this.items);
    this.paymentService.charge(this.total);
    this.emailService.sendConfirmation(this.customer);
  }
}

// ‚úÖ –•–û–†–û–®–û - —Å–ª–∞–±–∞—è —Å–≤—è–∑–∞–Ω–Ω–æ—Å—Ç—å
class Order {
  constructor(items) {
    this.items = items;
  }
  
  complete() {
    return {
      inventoryDecrement: this.items,
      paymentCharge: this.total,
      customerEmail: this.customer.email
    };
  }
}

class OrderProcessor {
  constructor(itemService, paymentService, emailService) {
    this.itemService = itemService;
    this.paymentService = paymentService;
    this.emailService = emailService;
  }
  
  process(order) {
    const result = order.complete();
    this.itemService.decrementInventory(result.inventoryDecrement);
    this.paymentService.charge(result.paymentCharge);
    this.emailService.sendConfirmation(result.customerEmail);
  }
}
</code></pre>
<h3 id="8-high-cohesion-–í—ã—Å–æ–∫–∞—è-—Å–≤—è–∑–Ω–æ—Å—Ç—å"><a class="header" href="#8-high-cohesion-–í—ã—Å–æ–∫–∞—è-—Å–≤—è–∑–Ω–æ—Å—Ç—å">8. <strong>High Cohesion (–í—ã—Å–æ–∫–∞—è —Å–≤—è–∑–Ω–æ—Å—Ç—å)</strong></a></h3>
<p>–ö–ª–∞—Å—Å –¥–æ–ª–∂–µ–Ω –¥–µ–ª–∞—Ç—å –æ–¥–Ω–æ, –∏ –¥–µ–ª–∞—Ç—å –µ–≥–æ —Ö–æ—Ä–æ—à–æ. –í—Å–µ –º–µ—Ç–æ–¥—ã –∫–ª–∞—Å—Å–∞ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —Ç–µ—Å–Ω–æ —Å–≤—è–∑–∞–Ω—ã.</p>
<pre><code class="language-javascript">// ‚ùå –ü–õ–û–•–û - –Ω–∏–∑–∫–∞—è —Å–≤—è–∑–Ω–æ—Å—Ç—å
class User {
  constructor(name, email) {
    this.name = name;
    this.email = email;
  }
  
  validateEmail() { /* ... */ }
  sendEmail() { /* ... */ }
  encrypt() { /* ... */ }
  decode() { /* ... */ }
  queryDatabase() { /* ... */ }
  calculateSalary() { /* ... */ }
}

// ‚úÖ –•–û–†–û–®–û - –≤—ã—Å–æ–∫–∞—è —Å–≤—è–∑–Ω–æ—Å—Ç—å
class User {
  constructor(name, email) {
    this.name = name;
    this.email = email;
  }
  
  validate() { /* —Ç–æ–ª—å–∫–æ User-—Å–ø–µ—Ü–∏—Ñ–∏—á–Ω–æ–µ */ }
}

class EmailService {
  send(email) { /* email-—Å–ø–µ—Ü–∏—Ñ–∏—á–Ω–æ–µ */ }
}

class CryptoService {
  encrypt(data) { /* –∫—Ä–∏–ø—Ç–æ–≥—Ä–∞—Ñ–∏—è */ }
}
</code></pre>
<h3 id="9-protected-variations-–ó–∞—â–∏—Ç–∞-–æ—Ç-–≤–∞—Ä–∏–∞—Ü–∏–π"><a class="header" href="#9-protected-variations-–ó–∞—â–∏—Ç–∞-–æ—Ç-–≤–∞—Ä–∏–∞—Ü–∏–π">9. <strong>Protected Variations (–ó–∞—â–∏—Ç–∞ –æ—Ç –≤–∞—Ä–∏–∞—Ü–∏–π)</strong></a></h3>
<p>–ò–∑–æ–ª–∏—Ä—É–π—Ç–µ —Ç–æ—á–∫–∏ –≤–∞—Ä–∏–∞—Ü–∏–∏ –≤ –∫–æ–¥–µ - –º–µ—Å—Ç–∞, –≥–¥–µ –º–æ–∂–µ—Ç –∏–∑–º–µ–Ω–∏—Ç—å—Å—è –ª–æ–≥–∏–∫–∞.</p>
<pre><code class="language-javascript">// ‚ùå –ü–õ–û–•–û
class ReportGenerator {
  generate(format) {
    if (format === 'pdf') {
      // –≥–µ–Ω–µ—Ä–∞—Ü–∏—è PDF
    } else if (format === 'excel') {
      // –≥–µ–Ω–µ—Ä–∞—Ü–∏—è Excel
    }
  }
}

// ‚úÖ –•–û–†–û–®–û
class ReportFormatter {
  format(data) {
    throw new Error('Not implemented');
  }
}

class PDFFormatter extends ReportFormatter {
  format(data) { /* ... */ }
}

class ExcelFormatter extends ReportFormatter {
  format(data) { /* ... */ }
}

class ReportGenerator {
  constructor(formatter) {
    this.formatter = formatter;
  }
  
  generate(data) {
    return this.formatter.format(data);
  }
}
</code></pre>
<hr />
<h2 id="–ß–∞—Å—Ç—å-4-solid-–ø—Ä–∏–Ω—Ü–∏–ø—ã-–≤-javascript"><a class="header" href="#–ß–∞—Å—Ç—å-4-solid-–ø—Ä–∏–Ω—Ü–∏–ø—ã-–≤-javascript">–ß–∞—Å—Ç—å 4: SOLID –ø—Ä–∏–Ω—Ü–∏–ø—ã –≤ JavaScript</a></h2>
<h3 id="1-s---single-responsibility-principle-srp"><a class="header" href="#1-s---single-responsibility-principle-srp">1. <strong>S - Single Responsibility Principle (SRP)</strong></a></h3>
<p>–ö–ª–∞—Å—Å –¥–æ–ª–∂–µ–Ω –∏–º–µ—Ç—å —Ç–æ–ª—å–∫–æ –æ–¥–Ω—É –ø—Ä–∏—á–∏–Ω—É –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è.</p>
<pre><code class="language-javascript">// ‚ùå –ü–õ–û–•–û - –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–∞—è –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å
class User {
  constructor(name, email) {
    this.name = name;
    this.email = email;
  }
  
  save() {
    // —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ –ë–î
  }
  
  sendWelcomeEmail() {
    // –æ—Ç–ø—Ä–∞–≤–∫–∞ email
  }
  
  generateReport() {
    // –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç—á–µ—Ç–∞
  }
}

// ‚úÖ –•–û–†–û–®–û - –æ–¥–Ω–∞ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å
class User {
  constructor(name, email) {
    this.name = name;
    this.email = email;
  }
}

class UserRepository {
  save(user) {
    // —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ –ë–î
  }
}

class EmailService {
  sendWelcomeEmail(user) {
    // –æ—Ç–ø—Ä–∞–≤–∫–∞ email
  }
}

class UserReportGenerator {
  generate(user) {
    // –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç—á–µ—Ç–∞
  }
}
</code></pre>
<h3 id="2-o---openclosed-principle-ocp"><a class="header" href="#2-o---openclosed-principle-ocp">2. <strong>O - Open/Closed Principle (OCP)</strong></a></h3>
<p>–ö–ª–∞—Å—Å –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –æ—Ç–∫—Ä—ã—Ç –¥–ª—è —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è, –Ω–æ –∑–∞–∫—Ä—ã—Ç –¥–ª—è –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏–∏.</p>
<pre><code class="language-javascript">// ‚ùå –ü–õ–û–•–û - –∑–∞–∫—Ä—ã—Ç –¥–ª—è —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è
class Logger {
  log(message, type) {
    if (type === 'file') {
      // –∑–∞–ø–∏—Å—å –≤ —Ñ–∞–π–ª
    } else if (type === 'console') {
      // –≤—ã–≤–æ–¥ –≤ –∫–æ–Ω—Å–æ–ª—å
    }
    // —á—Ç–æ–±—ã –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–π —Ç–∏–ø, –Ω—É–∂–Ω–æ –º–µ–Ω—è—Ç—å –∫–ª–∞—Å—Å
  }
}

// ‚úÖ –•–û–†–û–®–û - –æ—Ç–∫—Ä—ã—Ç –¥–ª—è —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è
class Logger {
  constructor(handler) {
    this.handler = handler;
  }
  
  log(message) {
    this.handler.handle(message);
  }
}

class FileHandler {
  handle(message) {
    // –∑–∞–ø–∏—Å—å –≤ —Ñ–∞–π–ª
  }
}

class ConsoleHandler {
  handle(message) {
    console.log(message);
  }
}

class DatabaseHandler {
  handle(message) {
    // —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ –ë–î
  }
}

// –õ–µ–≥–∫–æ –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–π handler, –Ω–µ –º–µ–Ω—è—è Logger
const logger = new Logger(new DatabaseHandler());
</code></pre>
<h3 id="3-l---liskov-substitution-principle-lsp"><a class="header" href="#3-l---liskov-substitution-principle-lsp">3. <strong>L - Liskov Substitution Principle (LSP)</strong></a></h3>
<p>–û–±—ä–µ–∫—Ç—ã –ø–æ–¥–∫–ª–∞—Å—Å–æ–≤ –º–æ–≥—É—Ç –∑–∞–º–µ–Ω—è—Ç—å –æ–±—ä–µ–∫—Ç—ã —Å—É–ø–µ—Ä–∫–ª–∞—Å—Å–æ–≤ –±–µ–∑ –Ω–∞—Ä—É—à–µ–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏.</p>
<pre><code class="language-javascript">// ‚ùå –ü–õ–û–•–û - –Ω–∞—Ä—É—à–µ–Ω–∏–µ LSP
class Bird {
  fly() {
    return 'Flying...';
  }
}

class Penguin extends Bird {
  fly() {
    throw new Error('Penguins cannot fly!');
  }
}

// –ö–æ–¥, –æ–∂–∏–¥–∞—é—â–∏–π Bird, —Å–ª–æ–º–∞–µ—Ç—Å—è —Å Penguin
function makeBirdFly(bird) {
  console.log(bird.fly()); // crash —Å Penguin
}

// ‚úÖ –•–û–†–û–®–û - —Å–æ–±–ª—é–¥–µ–Ω–∏–µ LSP
class Bird {
  move() {
    throw new Error('Not implemented');
  }
}

class Sparrow extends Bird {
  move() {
    return 'Flying...';
  }
}

class Penguin extends Bird {
  move() {
    return 'Swimming...';
  }
}

function makeBirdMove(bird) {
  console.log(bird.move()); // —Ä–∞–±–æ—Ç–∞–µ—Ç —Å –ª—é–±—ã–º Bird
}
</code></pre>
<h3 id="4-i---interface-segregation-principle-isp"><a class="header" href="#4-i---interface-segregation-principle-isp">4. <strong>I - Interface Segregation Principle (ISP)</strong></a></h3>
<p>–ö–ª–∞—Å—Å –Ω–µ –¥–æ–ª–∂–µ–Ω –∑–∞–≤–∏—Å–µ—Ç—å –æ—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –æ–Ω –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç.</p>
<pre><code class="language-javascript">// ‚ùå –ü–õ–û–•–û - –±–æ–ª—å—à–æ–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
class Worker {
  work() {}
  eat() {}
}

class Robot implements Worker {
  work() { /* ... */ }
  eat() { // Robot –Ω–µ –¥–æ–ª–∂–µ–Ω –µ—Å—Ç—å!
    throw new Error('Robot cannot eat');
  }
}

// ‚úÖ –•–û–†–û–®–û - –º–∞–ª–µ–Ω—å–∫–∏–µ, —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã
class Workable {
  work() {}
}

class Eatable {
  eat() {}
}

class Human {
  work() { /* ... */ }
  eat() { /* ... */ }
}

class Robot {
  work() { /* ... */ }
  // Robot –Ω–µ —Ä–µ–∞–ª–∏–∑—É–µ—Ç Eatable
}
</code></pre>
<h3 id="5-d---dependency-inversion-principle-dip"><a class="header" href="#5-d---dependency-inversion-principle-dip">5. <strong>D - Dependency Inversion Principle (DIP)</strong></a></h3>
<p>–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –¥–æ–ª–∂–Ω—ã –∏–¥—Ç–∏ –≤–≤–µ—Ä—Ö –ø–æ –∏–µ—Ä–∞—Ä—Ö–∏–∏ –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–π.</p>
<pre><code class="language-javascript">// ‚ùå –ü–õ–û–•–û - –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö –¥–µ—Ç–∞–ª–µ–π
class UserService {
  constructor() {
    this.database = new MySQLDatabase(); // –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –∫–ª–∞—Å—Å
  }
  
  getUser(id) {
    return this.database.query(`SELECT * FROM users WHERE id = ${id}`);
  }
}

// ‚úÖ –•–û–†–û–®–û - –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–∏
class Database {
  query(sql) {
    throw new Error('Not implemented');
  }
}

class MySQLDatabase extends Database {
  query(sql) {
    // MySQL-—Å–ø–µ—Ü–∏—Ñ–∏—á–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è
  }
}

class UserService {
  constructor(database) {
    this.database = database; // –∞–±—Å—Ç—Ä–∞–∫—Ü–∏—è
  }
  
  getUser(id) {
    return this.database.query(`SELECT * FROM users WHERE id = ${id}`);
  }
}

// –ú–æ–∂–Ω–æ –ª–µ–≥–∫–æ –ø–µ—Ä–µ–∫–ª—é—á–∏—Ç—å—Å—è –Ω–∞ –¥—Ä—É–≥—É—é –ë–î
const service = new UserService(new PostgresDatabase());
</code></pre>
<hr />
<h2 id="–ß–∞—Å—Ç—å-5-gang-of-four-gof-–ø–∞—Ç—Ç–µ—Ä–Ω—ã"><a class="header" href="#–ß–∞—Å—Ç—å-5-gang-of-four-gof-–ø–∞—Ç—Ç–µ—Ä–Ω—ã">–ß–∞—Å—Ç—å 5: Gang of Four (GoF) –ø–∞—Ç—Ç–µ—Ä–Ω—ã</a></h2>
<h3 id="–ü–∞—Ç—Ç–µ—Ä–Ω—ã-–°–æ–∑–¥–∞–Ω–∏—è-creational"><a class="header" href="#–ü–∞—Ç—Ç–µ—Ä–Ω—ã-–°–æ–∑–¥–∞–Ω–∏—è-creational">–ü–∞—Ç—Ç–µ—Ä–Ω—ã –°–æ–∑–¥–∞–Ω–∏—è (Creational)</a></h3>
<h4 id="1-singleton"><a class="header" href="#1-singleton">1. <strong>Singleton</strong></a></h4>
<p>–ì–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, —á—Ç–æ –∫–ª–∞—Å—Å –∏–º–µ–µ—Ç —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —ç–∫–∑–µ–º–ø–ª—è—Ä.</p>
<pre><code class="language-javascript">// ‚ùå –ü–õ–û–•–û –≤ JavaScript
class Database {
  static instance = null;
  
  static getInstance() {
    if (!Database.instance) {
      Database.instance = new Database();
    }
    return Database.instance;
  }
  
  constructor() {
    if (Database.instance) {
      return Database.instance;
    }
  }
}

// ‚úÖ –•–û–†–û–®–û –≤ JavaScript - –ø—Ä–æ—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–π –º–æ–¥—É–ª—å
const db = {
  connect() { /* ... */ },
  query(sql) { /* ... */ }
};

export default db;

// –ò –≤ –∫–æ–¥–µ –ø—Ä–æ—Å—Ç–æ –∏–º–ø–æ—Ä—Ç–∏—Ä—É–π
import db from './database';
db.query('SELECT * FROM users');
</code></pre>
<p>–ü–æ—á–µ–º—É Singleton –ø–ª–æ—Ö–æ –≤ JavaScript? –ü–æ—Ç–æ–º—É —á—Ç–æ –º–æ–¥—É–ª–∏ —É–∂–µ —è–≤–ª—è—é—Ç—Å—è singleton-–∞–º–∏!</p>
<h4 id="2-factory-method"><a class="header" href="#2-factory-method">2. <strong>Factory Method</strong></a></h4>
<p>–°–æ–∑–¥–∞–µ—Ç –æ–±—ä–µ–∫—Ç—ã –±–µ–∑ —É–∫–∞–∑–∞–Ω–∏—è –∏—Ö –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö –∫–ª–∞—Å—Å–æ–≤.</p>
<pre><code class="language-javascript">// ‚úÖ –•–û–†–û–®–û
class PaymentFactory {
  static create(type, config) {
    switch(type) {
      case 'credit-card':
        return new CreditCardPayment(config);
      case 'paypal':
        return new PayPalPayment(config);
      case 'bitcoin':
        return new BitcoinPayment(config);
      default:
        throw new Error(`Unknown payment type: ${type}`);
    }
  }
}

class CreditCardPayment {
  constructor(config) {
    this.cardNumber = config.cardNumber;
  }
}

const payment = PaymentFactory.create('credit-card', { cardNumber: '1234-5678' });
</code></pre>
<h4 id="3-abstract-factory"><a class="header" href="#3-abstract-factory">3. <strong>Abstract Factory</strong></a></h4>
<p>–°–æ–∑–¥–∞–µ—Ç —Å–µ–º–µ–π—Å—Ç–≤–∞ —Å–≤—è–∑–∞–Ω–Ω—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤.</p>
<pre><code class="language-javascript">class UIFactory {
  createButton() {
    throw new Error('Not implemented');
  }
  
  createCheckbox() {
    throw new Error('Not implemented');
  }
}

class WindowsUIFactory extends UIFactory {
  createButton() {
    return new WindowsButton();
  }
  
  createCheckbox() {
    return new WindowsCheckbox();
  }
}

class MacUIFactory extends UIFactory {
  createButton() {
    return new MacButton();
  }
  
  createCheckbox() {
    return new MacCheckbox();
  }
}

class Application {
  constructor(factory) {
    this.button = factory.createButton();
    this.checkbox = factory.createCheckbox();
  }
  
  render() {
    this.button.draw();
    this.checkbox.draw();
  }
}

const app = new Application(
  process.platform === 'win32' ? new WindowsUIFactory() : new MacUIFactory()
);
app.render();
</code></pre>
<h4 id="4-builder"><a class="header" href="#4-builder">4. <strong>Builder</strong></a></h4>
<p>–†–∞–∑–¥–µ–ª—è–µ—Ç –∫–æ–Ω—Å—Ç—Ä—É–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–ª–æ–∂–Ω–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞ –æ—Ç –µ–≥–æ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è.</p>
<pre><code class="language-javascript">// ‚úÖ –•–û–†–û–®–û
class SQLQueryBuilder {
  constructor() {
    this.query = {};
  }
  
  select(...columns) {
    this.query.select = columns;
    return this;
  }
  
  from(table) {
    this.query.from = table;
    return this;
  }
  
  where(condition) {
    this.query.where = condition;
    return this;
  }
  
  limit(n) {
    this.query.limit = n;
    return this;
  }
  
  build() {
    const { select, from, where, limit } = this.query;
    let sql = `SELECT ${select.join(', ')} FROM ${from}`;
    if (where) sql += ` WHERE ${where}`;
    if (limit) sql += ` LIMIT ${limit}`;
    return sql;
  }
}

const query = new SQLQueryBuilder()
  .select('id', 'name', 'email')
  .from('users')
  .where('age &gt; 18')
  .limit(10)
  .build();

console.log(query);
// SELECT id, name, email FROM users WHERE age &gt; 18 LIMIT 10
</code></pre>
<h3 id="–ü–∞—Ç—Ç–µ—Ä–Ω—ã-–°—Ç—Ä—É–∫—Ç—É—Ä—ã-structural"><a class="header" href="#–ü–∞—Ç—Ç–µ—Ä–Ω—ã-–°—Ç—Ä—É–∫—Ç—É—Ä—ã-structural">–ü–∞—Ç—Ç–µ—Ä–Ω—ã –°—Ç—Ä—É–∫—Ç—É—Ä—ã (Structural)</a></h3>
<h4 id="5-adapter-adapter-pattern"><a class="header" href="#5-adapter-adapter-pattern">5. <strong>Adapter (Adapter Pattern)</strong></a></h4>
<p>–ü—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∫–ª–∞—Å—Å–∞ –≤ –¥—Ä—É–≥–æ–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å, –∫–æ—Ç–æ—Ä—ã–π –æ–∂–∏–¥–∞–µ—Ç—Å—è –∫–ª–∏–µ–Ω—Ç–æ–º.</p>
<pre><code class="language-javascript">// –°—Ç–∞—Ä–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞
class OldAuthService {
  loginUser(username, password) {
    return { token: 'old-token-' + username };
  }
}

// –ù–æ–≤–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –æ–∂–∏–¥–∞–µ—Ç –¥—Ä—É–≥–æ–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
class NewAuthService {
  authenticate(credentials) {
    return { accessToken: 'new-' + credentials.user };
  }
}

// Adapter
class AuthAdapter {
  constructor(oldService) {
    this.oldService = oldService;
  }
  
  authenticate(credentials) {
    const { token } = this.oldService.loginUser(
      credentials.user,
      credentials.pass
    );
    return { accessToken: token };
  }
}

const newService = new AuthAdapter(new OldAuthService());
console.log(newService.authenticate({ user: 'john', pass: '123' }));
</code></pre>
<h4 id="6-decorator"><a class="header" href="#6-decorator">6. <strong>Decorator</strong></a></h4>
<p>–î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –¥–æ–±–∞–≤–ª—è–µ—Ç –Ω–æ–≤—É—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –∫ –æ–±—ä–µ–∫—Ç—É.</p>
<pre><code class="language-javascript">// –ë–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å
class Coffee {
  cost() {
    return 5;
  }
  
  description() {
    return 'Coffee';
  }
}

// –î–µ–∫–æ—Ä–∞—Ç–æ—Ä—ã
class MilkDecorator {
  constructor(coffee) {
    this.coffee = coffee;
  }
  
  cost() {
    return this.coffee.cost() + 2;
  }
  
  description() {
    return this.coffee.description() + ', Milk';
  }
}

class SugarDecorator {
  constructor(coffee) {
    this.coffee = coffee;
  }
  
  cost() {
    return this.coffee.cost() + 0.5;
  }
  
  description() {
    return this.coffee.description() + ', Sugar';
  }
}

let coffee = new Coffee();
console.log(`${coffee.description()} - $${coffee.cost()}`); // Coffee - $5

coffee = new MilkDecorator(coffee);
console.log(`${coffee.description()} - $${coffee.cost()}`); // Coffee, Milk - $7

coffee = new SugarDecorator(coffee);
console.log(`${coffee.description()} - $${coffee.cost()}`); // Coffee, Milk, Sugar - $7.5
</code></pre>
<h4 id="7-facade"><a class="header" href="#7-facade">7. <strong>Facade</strong></a></h4>
<p>–ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –µ–¥–∏–Ω—ã–π —É–ø—Ä–æ—â–µ–Ω–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∫ —Å–ª–æ–∂–Ω–æ–π —Å–∏—Å—Ç–µ–º–µ.</p>
<pre><code class="language-javascript">// –°–ª–æ–∂–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞
class CPU {
  execute(instruction) {
    console.log(`Executing: ${instruction}`);
  }
}

class Memory {
  load(address) {
    return `Data from ${address}`;
  }
}

class HardDrive {
  read(address) {
    return `File from ${address}`;
  }
}

// Facade
class Computer {
  constructor() {
    this.cpu = new CPU();
    this.memory = new Memory();
    this.hardDrive = new HardDrive();
  }
  
  start() {
    this.cpu.execute('START');
    this.memory.load('0x0000');
    this.hardDrive.read('boot.bin');
  }
  
  shutdown() {
    this.cpu.execute('SHUTDOWN');
  }
}

// –ö–ª–∏–µ–Ω—Ç –ø—Ä–æ—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç Computer, –Ω–µ –±–µ—Å–ø–æ–∫–æ—è—Å—å –æ –¥–µ—Ç–∞–ª—è—Ö
const computer = new Computer();
computer.start();
computer.shutdown();
</code></pre>
<h4 id="8-proxy"><a class="header" href="#8-proxy">8. <strong>Proxy</strong></a></h4>
<p>–ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –∑–∞–º–µ—Å—Ç–∏—Ç–µ–ª—è –¥–ª—è –∫–æ–Ω—Ç—Ä–æ–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ –¥—Ä—É–≥–æ–º—É –æ–±—ä–µ–∫—Ç—É.</p>
<pre><code class="language-javascript">class DatabaseConnection {
  query(sql) {
    // –î–æ—Ä–æ–≥–æ—Å—Ç–æ—è—â–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è
    console.log(`Executing: ${sql}`);
    return { result: 'data' };
  }
}

class DatabaseProxy {
  constructor() {
    this.connection = null;
    this.cache = new Map();
  }
  
  query(sql) {
    // –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ
    if (this.cache.has(sql)) {
      console.log('Cache hit!');
      return this.cache.get(sql);
    }
    
    // –õ–µ–Ω–∏–≤–∞—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
    if (!this.connection) {
      this.connection = new DatabaseConnection();
    }
    
    const result = this.connection.query(sql);
    this.cache.set(sql, result);
    return result;
  }
}

const db = new DatabaseProxy();
db.query('SELECT * FROM users'); // –í—ã–ø–æ–ª–Ω—è–µ—Ç –∑–∞–ø—Ä–æ—Å
db.query('SELECT * FROM users'); // –ò–∑ –∫—ç—à–∞
</code></pre>
<h3 id="–ü–∞—Ç—Ç–µ—Ä–Ω—ã-–ü–æ–≤–µ–¥–µ–Ω–∏—è-behavioral"><a class="header" href="#–ü–∞—Ç—Ç–µ—Ä–Ω—ã-–ü–æ–≤–µ–¥–µ–Ω–∏—è-behavioral">–ü–∞—Ç—Ç–µ—Ä–Ω—ã –ü–æ–≤–µ–¥–µ–Ω–∏—è (Behavioral)</a></h3>
<h4 id="9-observer-–ù–∞–±–ª—é–¥–∞—Ç–µ–ª—å"><a class="header" href="#9-observer-–ù–∞–±–ª—é–¥–∞—Ç–µ–ª—å">9. <strong>Observer (–ù–∞–±–ª—é–¥–∞—Ç–µ–ª—å)</strong></a></h4>
<p>–û–ø—Ä–µ–¥–µ–ª—è–µ—Ç –æ—Ç–Ω–æ—à–µ–Ω–∏–µ "–æ–¥–∏–Ω –∫–æ –º–Ω–æ–≥–∏–º" –º–µ–∂–¥—É –æ–±—ä–µ–∫—Ç–∞–º–∏ —Ç–∞–∫, —á—Ç–æ–±—ã –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è –æ–¥–Ω–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏–∑–º–µ–Ω—è–ª–∏—Å—å –∏ –æ–±–Ω–æ–≤–ª—è–ª–∏—Å—å –≤—Å–µ –∑–∞–≤–∏—Å—è—â–∏–µ –æ—Ç –Ω–µ–≥–æ –æ–±—ä–µ–∫—Ç—ã.</p>
<pre><code class="language-javascript">class EventEmitter {
  constructor() {
    this.events = {};
  }
  
  on(event, handler) {
    if (!this.events[event]) {
      this.events[event] = [];
    }
    this.events[event].push(handler);
  }
  
  emit(event, data) {
    if (this.events[event]) {
      this.events[event].forEach(handler =&gt; handler(data));
    }
  }
}

class UserService extends EventEmitter {
  createUser(userData) {
    const user = { id: 1, ...userData };
    this.emit('user:created', user);
    return user;
  }
}

const userService = new UserService();

userService.on('user:created', (user) =&gt; {
  console.log(`Welcome email sent to ${user.email}`);
});

userService.on('user:created', (user) =&gt; {
  console.log(`User ${user.name} added to mailing list`);
});

userService.createUser({ name: 'John', email: 'john@example.com' });
// Welcome email sent to john@example.com
// User John added to mailing list
</code></pre>
<h4 id="10-strategy-–°—Ç—Ä–∞—Ç–µ–≥–∏—è"><a class="header" href="#10-strategy-–°—Ç—Ä–∞—Ç–µ–≥–∏—è">10. <strong>Strategy (–°—Ç—Ä–∞—Ç–µ–≥–∏—è)</strong></a></h4>
<p>–û–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Å–µ–º–µ–π—Å—Ç–≤–æ –∞–ª–≥–æ—Ä–∏—Ç–º–æ–≤, –∏–Ω–∫–∞–ø—Å—É–ª–∏—Ä—É–µ—Ç –∫–∞–∂–¥—ã–π –∏–∑ –Ω–∏—Ö –∏ –¥–µ–ª–∞–µ—Ç –∏—Ö –≤–∑–∞–∏–º–æ–∑–∞–º–µ–Ω—è–µ–º—ã–º–∏.</p>
<pre><code class="language-javascript">class SortingStrategy {
  sort(array) {
    throw new Error('Not implemented');
  }
}

class BubbleSort extends SortingStrategy {
  sort(array) {
    const arr = [...array];
    for (let i = 0; i &lt; arr.length; i++) {
      for (let j = 0; j &lt; arr.length - 1; j++) {
        if (arr[j] &gt; arr[j + 1]) {
          [arr[j], arr[j + 1]] = [arr[j + 1], arr[j]];
        }
      }
    }
    return arr;
  }
}

class QuickSort extends SortingStrategy {
  sort(array) {
    if (array.length &lt;= 1) return array;
    const pivot = array[0];
    const less = array.slice(1).filter(x =&gt; x &lt;= pivot);
    const greater = array.slice(1).filter(x =&gt; x &gt; pivot);
    return [...this.sort(less), pivot, ...this.sort(greater)];
  }
}

class Sorter {
  constructor(strategy) {
    this.strategy = strategy;
  }
  
  sort(array) {
    return this.strategy.sort(array);
  }
}

const data = [5, 2, 8, 1, 9];

const bubbleSorter = new Sorter(new BubbleSort());
console.log(bubbleSorter.sort(data)); // [1, 2, 5, 8, 9]

const quickSorter = new Sorter(new QuickSort());
console.log(quickSorter.sort(data)); // [1, 2, 5, 8, 9]
</code></pre>
<h4 id="11-state-–°–æ—Å—Ç–æ—è–Ω–∏–µ"><a class="header" href="#11-state-–°–æ—Å—Ç–æ—è–Ω–∏–µ">11. <strong>State (–°–æ—Å—Ç–æ—è–Ω–∏–µ)</strong></a></h4>
<p>–ü–æ–∑–≤–æ–ª—è–µ—Ç –æ–±—ä–µ–∫—Ç—É –∏–∑–º–µ–Ω—è—Ç—å –ø–æ–≤–µ–¥–µ–Ω–∏–µ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –µ–≥–æ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è.</p>
<pre><code class="language-javascript">class TrafficLightState {
  enter() {}
  exit() {}
}

class RedLightState extends TrafficLightState {
  enter() {
    console.log('üî¥ Red light - STOP');
  }
  
  next() {
    return new GreenLightState();
  }
}

class GreenLightState extends TrafficLightState {
  enter() {
    console.log('üü¢ Green light - GO');
  }
  
  next() {
    return new YellowLightState();
  }
}

class YellowLightState extends TrafficLightState {
  enter() {
    console.log('üü° Yellow light - PREPARE TO STOP');
  }
  
  next() {
    return new RedLightState();
  }
}

class TrafficLight {
  constructor() {
    this.state = new RedLightState();
    this.state.enter();
  }
  
  change() {
    this.state = this.state.next();
    this.state.enter();
  }
}

const light = new TrafficLight();
light.change(); // üü¢ Green light - GO
light.change(); // üü° Yellow light - PREPARE TO STOP
light.change(); // üî¥ Red light - STOP
</code></pre>
<h4 id="12-command-–ö–æ–º–∞–Ω–¥–∞"><a class="header" href="#12-command-–ö–æ–º–∞–Ω–¥–∞">12. <strong>Command (–ö–æ–º–∞–Ω–¥–∞)</strong></a></h4>
<p>–ò–Ω–∫–∞–ø—Å—É–ª–∏—Ä—É–µ—Ç –∑–∞–ø—Ä–æ—Å –∫–∞–∫ –æ–±—ä–µ–∫—Ç, –ø–æ–∑–≤–æ–ª—è—è –ø–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–æ–≤–∞—Ç—å –∫–ª–∏–µ–Ω—Ç–æ–≤ —Å —Ä–∞–∑–ª–∏—á–Ω—ã–º–∏ –∑–∞–ø—Ä–æ—Å–∞–º–∏.</p>
<pre><code class="language-javascript">class Command {
  execute() {
    throw new Error('Not implemented');
  }
  
  undo() {
    throw new Error('Not implemented');
  }
}

class AddNumberCommand extends Command {
  constructor(receiver, number) {
    super();
    this.receiver = receiver;
    this.number = number;
  }
  
  execute() {
    this.receiver.add(this.number);
  }
  
  undo() {
    this.receiver.subtract(this.number);
  }
}

class SubtractNumberCommand extends Command {
  constructor(receiver, number) {
    super();
    this.receiver = receiver;
    this.number = number;
  }
  
  execute() {
    this.receiver.subtract(this.number);
  }
  
  undo() {
    this.receiver.add(this.number);
  }
}

class Calculator {
  constructor() {
    this.value = 0;
  }
  
  add(number) {
    this.value += number;
    console.log(`Value: ${this.value}`);
  }
  
  subtract(number) {
    this.value -= number;
    console.log(`Value: ${this.value}`);
  }
}

class CommandInvoker {
  constructor() {
    this.history = [];
  }
  
  execute(command) {
    command.execute();
    this.history.push(command);
  }
  
  undo() {
    const command = this.history.pop();
    if (command) {
      command.undo();
    }
  }
}

const calculator = new Calculator();
const invoker = new CommandInvoker();

invoker.execute(new AddNumberCommand(calculator, 5)); // Value: 5
invoker.execute(new AddNumberCommand(calculator, 3)); // Value: 8
invoker.execute(new SubtractNumberCommand(calculator, 2)); // Value: 6
invoker.undo(); // Value: 8
invoker.undo(); // Value: 5
</code></pre>
<h4 id="13-iterator-–ò—Ç–µ—Ä–∞—Ç–æ—Ä"><a class="header" href="#13-iterator-–ò—Ç–µ—Ä–∞—Ç–æ—Ä">13. <strong>Iterator (–ò—Ç–µ—Ä–∞—Ç–æ—Ä)</strong></a></h4>
<p>–ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —Å–ø–æ—Å–æ–± –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞ –∫ —ç–ª–µ–º–µ–Ω—Ç–∞–º —Å–æ–≤–æ–∫—É–ø–Ω–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞ –±–µ–∑ —Ä–∞—Å–∫—Ä—ã—Ç–∏—è –µ–≥–æ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è.</p>
<pre><code class="language-javascript">class MyCollection {
  constructor(items) {
    this.items = items;
  }
  
  [Symbol.iterator]() {
    let index = 0;
    const items = this.items;
    
    return {
      next: () =&gt; {
        if (index &lt; items.length) {
          return { value: items[index++], done: false };
        }
        return { done: true };
      }
    };
  }
}

const collection = new MyCollection([1, 2, 3, 4, 5]);

for (const item of collection) {
  console.log(item);
}
// 1
// 2
// 3
// 4
// 5
</code></pre>
<h4 id="14-template-method-–®–∞–±–ª–æ–Ω–Ω—ã–π-–º–µ—Ç–æ–¥"><a class="header" href="#14-template-method-–®–∞–±–ª–æ–Ω–Ω—ã–π-–º–µ—Ç–æ–¥">14. <strong>Template Method (–®–∞–±–ª–æ–Ω–Ω—ã–π –º–µ—Ç–æ–¥)</strong></a></h4>
<p>–û–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Å–∫–µ–ª–µ—Ç –∞–ª–≥–æ—Ä–∏—Ç–º–∞ –≤ –±–∞–∑–æ–≤–æ–º –∫–ª–∞—Å—Å–µ, –Ω–æ –æ—Å—Ç–∞–≤–ª—è–µ—Ç –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö —ç—Ç–∞–ø–æ–≤ –¥–ª—è –ø–æ–¥–∫–ª–∞—Å—Å–æ–≤.</p>
<pre><code class="language-javascript">class DataProcessor {
  process(data) {
    const parsed = this.parse(data);
    const validated = this.validate(parsed);
    const result = this.transform(validated);
    return this.save(result);
  }
  
  parse(data) {
    throw new Error('Not implemented');
  }
  
  validate(data) {
    throw new Error('Not implemented');
  }
  
  transform(data) {
    throw new Error('Not implemented');
  }
  
  save(data) {
    throw new Error('Not implemented');
  }
}

class JSONProcessor extends DataProcessor {
  parse(data) {
    console.log('Parsing JSON...');
    return JSON.parse(data);
  }
  
  validate(data) {
    console.log('Validating JSON...');
    return data;
  }
  
  transform(data) {
    console.log('Transforming JSON...');
    return { ...data, processed: true };
  }
  
  save(data) {
    console.log('Saving to database...');
    return { success: true };
  }
}

const processor = new JSONProcessor();
processor.process('{"name": "John", "age": 30}');
</code></pre>
<hr />
<h2 id="–ß–∞—Å—Ç—å-6-flyweight-–ø–∞—Ç—Ç–µ—Ä–Ω-–≤-–¥–µ—Ç–∞–ª—è—Ö"><a class="header" href="#–ß–∞—Å—Ç—å-6-flyweight-–ø–∞—Ç—Ç–µ—Ä–Ω-–≤-–¥–µ—Ç–∞–ª—è—Ö">–ß–∞—Å—Ç—å 6: Flyweight –ø–∞—Ç—Ç–µ—Ä–Ω –≤ –¥–µ—Ç–∞–ª—è—Ö</a></h2>
<h3 id="–ß—Ç–æ-—ç—Ç–æ-—Ç–∞–∫–æ–µ"><a class="header" href="#–ß—Ç–æ-—ç—Ç–æ-—Ç–∞–∫–æ–µ">–ß—Ç–æ —ç—Ç–æ —Ç–∞–∫–æ–µ?</a></h3>
<p><strong>Flyweight</strong> - —ç—Ç–æ –ø–∞—Ç—Ç–µ—Ä–Ω –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –ø–∞–º—è—Ç–∏. –ï–≥–æ –æ—Å–Ω–æ–≤–Ω–∞—è –∏–¥–µ—è: –µ—Å–ª–∏ —É –≤–∞—Å –µ—Å—Ç—å –º–Ω–æ–≥–æ –æ–±—ä–µ–∫—Ç–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –æ—Ç–ª–∏—á–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏, –º–æ–∂–Ω–æ –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å "–ª–µ–≥–∫–∏–µ" –æ–±—ä–µ–∫—Ç—ã –∏ —Ö—Ä–∞–Ω–∏—Ç—å —Ç–æ–ª—å–∫–æ —Ä–∞–∑–ª–∏—á–∞—é—â–∏–µ—Å—è –¥–∞–Ω–Ω—ã–µ.</p>
<h3 id="–ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π-–ø—Ä–∏–º–µ—Ä-—Ç–∞–π–º–µ—Ä—ã"><a class="header" href="#–ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π-–ø—Ä–∏–º–µ—Ä-—Ç–∞–π–º–µ—Ä—ã">–ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π –ø—Ä–∏–º–µ—Ä: —Ç–∞–π–º–µ—Ä—ã</a></h3>
<pre><code class="language-javascript">// ‚ùå –ü–õ–û–•–û - —Å–æ–∑–¥–∞–µ–º –ø–æ —Ç–∞–π–º–µ—Ä—É –Ω–∞ –∫–∞–∂–¥—ã–π –∏–Ω—Ç–µ—Ä–≤–∞–ª
class Timer {
  constructor(interval) {
    this.interval = interval;
    this.callback = null;
    this.startTime = Date.now();
    this.isRunning = false;
    // ... –µ—â–µ –º–Ω–æ–≥–æ —Å–≤–æ–π—Å—Ç–≤
  }
}

// –£ –Ω–∞—Å –µ—Å—Ç—å 10000 –∏–Ω—Ç–µ—Ä–≤–∞–ª–æ–≤ —Å –∏–Ω—Ç–µ—Ä–≤–∞–ª–æ–º 1000–º—Å
// –°–æ–∑–¥–∞–µ–º 10000 —Ä–∞–∑–Ω—ã—Ö Timer –æ–±—ä–µ–∫—Ç–æ–≤
for (let i = 0; i &lt; 10000; i++) {
  new Timer(1000); // –í—Å–µ –∏–¥–µ–Ω—Ç–∏—á–Ω—ã!
}

// ‚úÖ –•–û–†–û–®–û - –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º Timer –¥–ª—è –æ–¥–∏–Ω–∞–∫–æ–≤—ã—Ö –∏–Ω—Ç–µ—Ä–≤–∞–ª–æ–≤
class Timer {
  constructor(interval) {
    this.interval = interval;
    this.callbacks = [];
  }
  
  addCallback(cb) {
    this.callbacks.push(cb);
  }
}

class TimerFactory {
  static timers = new Map();
  
  static getTimer(interval) {
    if (!this.timers.has(interval)) {
      this.timers.set(interval, new Timer(interval));
    }
    return this.timers.get(interval);
  }
}

class Interval {
  constructor(interval, callback) {
    this.interval = interval;
    this.callback = callback;
    const timer = TimerFactory.getTimer(interval);
    timer.addCallback(callback);
  }
}

// –¢–µ–ø–µ—Ä—å –≤–º–µ—Å—Ç–æ 10000 Timer –æ–±—ä–µ–∫—Ç–æ–≤ —É –Ω–∞—Å —Ç–æ–ª—å–∫–æ –Ω–µ—Å–∫–æ–ª—å–∫–æ
// (–ø–æ –æ–¥–Ω–æ–º—É –Ω–∞ –∫–∞–∂–¥—ã–π —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–Ω—Ç–µ—Ä–≤–∞–ª)
</code></pre>
<h3 id="–ö–æ–≥–¥–∞-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å"><a class="header" href="#–ö–æ–≥–¥–∞-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å">–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å?</a></h3>
<ol>
<li><strong>–ú–Ω–æ–≥–æ –æ–±—ä–µ–∫—Ç–æ–≤</strong> - –Ω—É–∂–Ω–æ –∏–º–µ—Ç—å —Ö–æ—Ç—è –±—ã —Ç—ã—Å—è—á–∏ —ç–∫–∑–µ–º–ø–ª—è—Ä–æ–≤</li>
<li><strong>–ü–æ—Ö–æ–∂–µ—Å—Ç—å</strong> - –æ–±—ä–µ–∫—Ç—ã –æ—Ç–ª–∏—á–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –≤ few –ø–∞—Ä–∞–º–µ—Ç—Ä–∞—Ö</li>
<li><strong>–ó–∞—Ç—Ä–∞—Ç—ã –Ω–∞ –ø–∞–º—è—Ç—å</strong> - —Å–æ–∑–¥–∞–Ω–∏–µ –æ–±—ä–µ–∫—Ç–æ–≤ –¥–æ—Ä–æ–≥–æ –ø–æ –ø–∞–º—è—Ç–∏</li>
<li><strong>–ò–º–º—É—Ç–∞–±–µ–ª—å–Ω–æ—Å—Ç—å</strong> - "–ª–µ–≥–∫–∏–µ" –æ–±—ä–µ–∫—Ç—ã –Ω–µ –º–µ–Ω—è—é—Ç—Å—è –ø–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è</li>
</ol>
<h3 id="–ü—Ä–∏–º–µ—Ä—ã-–∏–∑-—Ä–µ–∞–ª—å–Ω–æ–π-–∂–∏–∑–Ω–∏"><a class="header" href="#–ü—Ä–∏–º–µ—Ä—ã-–∏–∑-—Ä–µ–∞–ª—å–Ω–æ–π-–∂–∏–∑–Ω–∏">–ü—Ä–∏–º–µ—Ä—ã –∏–∑ —Ä–µ–∞–ª—å–Ω–æ–π –∂–∏–∑–Ω–∏</a></h3>
<p><strong>–í –≤–∏–¥–µ–æ–∏–≥—Ä–∞—Ö</strong>: –∫–∞–∂–¥—ã–π –ø–∏–∫—Å–µ–ª—å –Ω–∞ —ç–∫—Ä–∞–Ω–µ –∏–ª–∏ –∫–∞–∂–¥—ã–π —Å–ø—Ä–∞–π—Ç –≤—Ä–∞–≥–∞ –º–æ–∂–µ—Ç –±—ã—Ç—å flyweight –æ–±—ä–µ–∫—Ç–æ–º —Å –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏ –æ —Ç–µ–∫—Å—Ç—É—Ä–∞—Ö –∏ –º–æ–¥–µ–ª—è—Ö.</p>
<p><strong>–í –±—Ä–∞—É–∑–µ—Ä–µ</strong>: DOM –Ω–æ–¥—ã, –æ—Å–æ–±–µ–Ω–Ω–æ –ø—Ä–∏ –±–æ–ª—å—à–æ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –≤ —Å–ø–∏—Å–∫–µ.</p>
<p><strong>–í —Å–µ—Ä–≤–µ—Ä–µ</strong>: –æ–±—ä–µ–∫—Ç—ã –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ Node.js –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏.</p>
<hr />
<h2 id="–ö–ª—é—á–µ–≤—ã–µ-–≤—ã–≤–æ–¥—ã"><a class="header" href="#–ö–ª—é—á–µ–≤—ã–µ-–≤—ã–≤–æ–¥—ã">–ö–ª—é—á–µ–≤—ã–µ –≤—ã–≤–æ–¥—ã</a></h2>
<h3 id="1-–ü–æ–Ω–∏–º–∞–π—Ç–µ-—è–∑—ã–∫-–ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è"><a class="header" href="#1-–ü–æ–Ω–∏–º–∞–π—Ç–µ-—è–∑—ã–∫-–ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è">1. <strong>–ü–æ–Ω–∏–º–∞–π—Ç–µ —è–∑—ã–∫ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è</strong></a></h3>
<ul>
<li>JavaScript != Java != C++</li>
<li>V8 –æ–ø—Ç–∏–º–∏–∑–∏—Ä—É–µ—Ç –º–æ–Ω–æ–º–æ—Ä—Ñ–Ω—ã–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö</li>
<li>–ù–µ –∫–æ–ø–∏—Ä—É–π—Ç–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã —Å–ª–µ–ø–æ –∏–∑ –¥—Ä—É–≥–∏—Ö —è–∑—ã–∫–æ–≤</li>
</ul>
<h3 id="2-–ë–∞–ª–∞–Ω—Å-–º–µ–∂–¥—É-—á–∏—Ç–∞–µ–º–æ—Å—Ç—å—é-–∏-–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å—é"><a class="header" href="#2-–ë–∞–ª–∞–Ω—Å-–º–µ–∂–¥—É-—á–∏—Ç–∞–µ–º–æ—Å—Ç—å—é-–∏-–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å—é">2. <strong>–ë–∞–ª–∞–Ω—Å –º–µ–∂–¥—É —á–∏—Ç–∞–µ–º–æ—Å—Ç—å—é –∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å—é</strong></a></h3>
<ul>
<li>–ß–∏—Å—Ç—ã–π –∫–æ–¥ –≤–∞–∂–µ–Ω, –Ω–æ –Ω–µ –∑–∞ —Å—á–µ—Ç –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–Ω–æ–π —á–∞—Å—Ç–∏</li>
<li>–ù–∞ –∫–ª–∏–µ–Ω—Ç–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –º–µ–Ω–µ–µ –∫—Ä–∏—Ç–∏—á–Ω–∞ (–æ–±—ã—á–Ω–æ)</li>
<li>–ù–∞ —Å–µ—Ä–≤–µ—Ä–µ —Ç—ã—Å—è—á–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —Ç—Ä–µ–±—É—é—Ç –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏</li>
</ul>
<h3 id="3-grasp-—Ä–∞–Ω—å—à–µ-—á–µ–º-solid-–∏-gof"><a class="header" href="#3-grasp-—Ä–∞–Ω—å—à–µ-—á–µ–º-solid-–∏-gof">3. <strong>GRASP —Ä–∞–Ω—å—à–µ, —á–µ–º SOLID –∏ GoF</strong></a></h3>
<ul>
<li>–ù–∞—á–Ω–∏—Ç–µ —Å –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ (GRASP)</li>
<li>–ü–æ—Ç–æ–º –ø—Ä–∏–º–µ–Ω—è–π—Ç–µ SOLID –¥–ª—è –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç–∏</li>
<li>GoF –ø–∞—Ç—Ç–µ—Ä–Ω—ã - —ç—Ç–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã, –∞ –Ω–µ –∑–∞–∫–æ–Ω</li>
</ul>
<h3 id="4-–ü—Ä–æ—Ñ–∏–ª–∏—Ä—É–π—Ç–µ-–ø–µ—Ä–µ–¥-–æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–µ–π"><a class="header" href="#4-–ü—Ä–æ—Ñ–∏–ª–∏—Ä—É–π—Ç–µ-–ø–µ—Ä–µ–¥-–æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–µ–π">4. <strong>–ü—Ä–æ—Ñ–∏–ª–∏—Ä—É–π—Ç–µ –ø–µ—Ä–µ–¥ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–µ–π</strong></a></h3>
<ul>
<li>–ù–µ –≥–∞–¥–∞–π—Ç–µ, –≥–¥–µ —É–∑–∫–∏–µ –º–µ—Å—Ç–∞</li>
<li>–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –ø—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏—è</li>
<li>–û–ø—Ç–∏–º–∏–∑–∏—Ä—É–π—Ç–µ —Ç–æ–ª—å–∫–æ —Ç–æ, —á—Ç–æ –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –º–µ–¥–ª–µ–Ω–Ω–æ</li>
</ul>
<h3 id="5-–ö—Ä–∏—Ç–∏—á–µ—Å–∫–æ–µ-–º—ã—à–ª–µ–Ω–∏–µ"><a class="header" href="#5-–ö—Ä–∏—Ç–∏—á–µ—Å–∫–æ–µ-–º—ã—à–ª–µ–Ω–∏–µ">5. <strong>–ö—Ä–∏—Ç–∏—á–µ—Å–∫–æ–µ –º—ã—à–ª–µ–Ω–∏–µ</strong></a></h3>
<ul>
<li>–ê–Ω–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏, –Ω–µ –ø—Ä–∏–Ω–∏–º–∞–π—Ç–µ –∏—Ö –Ω–∞ –≤–µ—Ä—É</li>
<li>–ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ, —Ä–∞–±–æ—Ç–∞–µ—Ç –ª–∏ –ø–∞—Ç—Ç–µ—Ä–Ω –≤ –≤–∞—à–µ–º –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–º —è–∑—ã–∫–µ</li>
<li>–ë—É–¥—å—Ç–µ –≥–æ—Ç–æ–≤—ã –æ—Ç—Å—Ç—É–ø–∏—Ç—å—Å—è –æ—Ç —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π, –µ—Å–ª–∏ –µ—Å—Ç—å –≤–µ—Å–∫–∏–µ –ø—Ä–∏—á–∏–Ω—ã</li>
</ul>
<h3 id="6-–ú–æ–¥—É–ª–∏---–ª—É—á—à–∏–π-–ø–∞—Ç—Ç–µ—Ä–Ω-–¥–ª—è-javascript"><a class="header" href="#6-–ú–æ–¥—É–ª–∏---–ª—É—á—à–∏–π-–ø–∞—Ç—Ç–µ—Ä–Ω-–¥–ª—è-javascript">6. <strong>–ú–æ–¥—É–ª–∏ - –ª—É—á—à–∏–π –ø–∞—Ç—Ç–µ—Ä–Ω –¥–ª—è JavaScript</strong></a></h3>
<ul>
<li>–í–º–µ—Å—Ç–æ Singleton –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –º–æ–¥—É–ª–∏ (–æ–Ω–∏ —É–∂–µ singleton-—ã)</li>
<li>–í–º–µ—Å—Ç–æ Factory —á–∞—Å—Ç–æ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏–∏</li>
<li>–í–º–µ—Å—Ç–æ –∫–ª–∞—Å—Å–æ–≤ –∏–Ω–æ–≥–¥–∞ –ª—É—á—à–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–±—ä–µ–∫—Ç—ã –∏ —Ñ—É–Ω–∫—Ü–∏–∏</li>
</ul>
<hr />
<h2 id="–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ-–∏—Å—Ç–æ—á–Ω–∏–∫–∏"><a class="header" href="#–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ-–∏—Å—Ç–æ—á–Ω–∏–∫–∏">–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏</a></h2>
<ol>
<li><strong>Gang of Four</strong> - "Design Patterns" (–∫–ª–∞—Å—Å–∏–∫–∞, –Ω–æ –¥–ª—è Java/C++)</li>
<li><strong>Robert C. Martin</strong> - "Clean Code" (—Ö–æ—Ä–æ—à–æ, –Ω–æ –Ω—É–∂–Ω–æ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ —á–∏—Ç–∞—Ç—å)</li>
<li><strong>Craig Larman</strong> - "Applying UML and Patterns" (GRASP –ø–∞—Ç—Ç–µ—Ä–Ω—ã)</li>
<li><strong>V8 –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è</strong> - –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –æ–±—ä–µ–∫—Ç–æ–≤</li>
<li><strong>JavaScript –º—É–¥—Ä–æ—Å—Ç—å</strong> - Kyle Simpson "You Don't Know JS"</li>
</ol>
<hr />
<h2 id="–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ-—Ä–µ–∑—é–º–µ"><a class="header" href="#–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ-—Ä–µ–∑—é–º–µ">–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ —Ä–µ–∑—é–º–µ</a></h2>
<p><strong>–ß—Ç–æ –Ω—É–∂–Ω–æ –ø–æ–º–Ω–∏—Ç—å –Ω–∞ —Ä–∞–±–æ—Ç–µ:</strong></p>
<ol>
<li>‚úÖ –ü—Ä–∏–º–µ–Ω—è–π—Ç–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã, –∫–æ–≥–¥–∞ –æ–Ω–∏ —Ä–µ—à–∞—é—Ç —Ä–µ–∞–ª—å–Ω—É—é –ø—Ä–æ–±–ª–µ–º—É</li>
<li>‚úÖ –î—É–º–∞–π—Ç–µ –æ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏, –æ—Å–æ–±–µ–Ω–Ω–æ –Ω–∞ backend</li>
<li>‚úÖ –ü—Ä–æ—Ñ–∏–ª–∏—Ä—É–π—Ç–µ –∏ –∏–∑–º–µ—Ä—è–π—Ç–µ</li>
<li>‚úÖ –ß–∏—Ç–∞–π—Ç–µ –∏—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥ —è–∑—ã–∫–∞ (V8 –¥–ª—è JavaScript)</li>
<li>‚úÖ –ë–∞–ª–∞–Ω—Å–∏—Ä—É–π—Ç–µ –º–µ–∂–¥—É —á–∏—Ç–∞–µ–º–æ—Å—Ç—å—é –∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å—é</li>
<li>‚ùå –ù–µ –∫–æ–ø–∏—Ä—É–π—Ç–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã –∏–∑ –¥—Ä—É–≥–∏—Ö —è–∑—ã–∫–æ–≤ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏</li>
<li>‚ùå –ù–µ –ø—Ä–∏–º–µ–Ω—è–π—Ç–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã "–Ω–∞ –≤—Å—è–∫–∏–π —Å–ª—É—á–∞–π"</li>
<li>‚ùå –ù–µ –∏–≥–Ω–æ—Ä–∏—Ä—É–π—Ç–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Ä–∞–¥–∏ –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤</li>
</ol>
<div style="break-before: page; page-break-before: always;"></div><h1 id="week-1---code-characteristics-and-optimization-strategies"><a class="header" href="#week-1---code-characteristics-and-optimization-strategies">Week 1 - Code Characteristics and Optimization Strategies</a></h1>
<ul>
<li><a href="week1/patterns-code-characteristics.html">–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –¥–ª—è V8, SOLID - SRP, SoC</a></li>
<li><a href="week1/grasp-principles-lecture-notes.html">GRASP –ø—Ä–∏–Ω—Ü–∏–ø—ã —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏</a></li>
<li><a href="https://github.com/HowProgrammingWorks/GoodParts/tree/main/JavaScript">Code examples from lecture</a></li>
<li><a href="week1/SOLID-principles.html">–ü—Ä–∏–Ω—Ü–∏–ø—ã SOLID</a></li>
<li><a href="week1/grasp-patterns-lecture-conspect.html">–ü—Ä–∏–Ω—Ü–∏–ø—ã GRASP üëâ —á–∞—Å—Ç—å 1</a></li>
<li><a href="week1/grasp-principles-part2-lecture-notes.html">–ü—Ä–∏–Ω—Ü–∏–ø—ã GRASP üëâ —á–∞—Å—Ç—å 2</a></li>
<li><a href="week1/nodejs-gof-patterns.html">–ü–∞—Ç—Ç–µ—Ä–Ω—ã GoF</a></li>
<li><a href="week1/monomorphism_polymorphism_explained.html">–ú–æ–Ω–æ–º–æ—Ä—Ñ–Ω—ã–π –∏ –ø–æ–ª–∏–º–æ—Ä—Ñ–Ω—ã–π –∫–æ–¥, –∏–Ω–ª–∞–π–Ω-–∫—ç—à, —Å–∫—Ä—ã—Ç—ã–µ –∫–ª–∞—Å—Å—ã –≤ JavaScript</a></li>
<li><a href="week1/monomorphism_ru.html">What's up with monomorphism? By Vyacheslav Egorov</a></li>
<li><a href="week1/referential-transparency.html">Referential Transparency –≤ –§–ü, –û–û–ü</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="–ü–∞—Ç—Ç–µ—Ä–Ω—ã-—Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏-–∫–æ–¥–∞-–∏-—Å—Ç—Ä–∞—Ç–µ–≥–∏–∏-–æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏"><a class="header" href="#–ü–∞—Ç—Ç–µ—Ä–Ω—ã-—Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏-–∫–æ–¥–∞-–∏-—Å—Ç—Ä–∞—Ç–µ–≥–∏–∏-–æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏">–ü–∞—Ç—Ç–µ—Ä–Ω—ã: —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ –∫–æ–¥–∞ –∏ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏</a></h1>
<h2 id="–û–±–∑–æ—Ä-–ª–µ–∫—Ü–∏–∏"><a class="header" href="#–û–±–∑–æ—Ä-–ª–µ–∫—Ü–∏–∏">–û–±–∑–æ—Ä –ª–µ–∫—Ü–∏–∏</a></h2>
<p><strong>–¢–µ–º–∞:</strong> JavaScript, TypeScript ‚Äî SOLID/SRP, SoC
<strong>–¶–µ–ª—å:</strong> –ù–∞—É—á–∏—Ç—å—Å—è –ø–∏—Å–∞—Ç—å –∫–æ–¥, –∫–æ—Ç–æ—Ä—ã–π –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ:</p>
<ul>
<li>–°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –ø—Ä–∏–Ω—Ü–∏–ø–∞–º SOLID –∏ GRASP</li>
<li>–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω –¥–ª—è –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω—ã V8</li>
<li>–ß–∏—Ç–∞–±–µ–ª—å–Ω—ã–π, –Ω–∞–¥—ë–∂–Ω—ã–π –∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–π</li>
</ul>
<hr />
<h2 id="1-–í–≤–µ–¥–µ–Ω–∏–µ-–ó–∞—á–µ–º-–Ω—É–∂–µ–Ω-–æ–±–∑–æ—Ä-—Ç–µ—Ö–Ω–∏–∫-–ø–µ—Ä–µ–¥-–ø–∞—Ç—Ç–µ—Ä–Ω–∞–º–∏"><a class="header" href="#1-–í–≤–µ–¥–µ–Ω–∏–µ-–ó–∞—á–µ–º-–Ω—É–∂–µ–Ω-–æ–±–∑–æ—Ä-—Ç–µ—Ö–Ω–∏–∫-–ø–µ—Ä–µ–¥-–ø–∞—Ç—Ç–µ—Ä–Ω–∞–º–∏">1. –í–≤–µ–¥–µ–Ω–∏–µ: –ó–∞—á–µ–º –Ω—É–∂–µ–Ω –æ–±–∑–æ—Ä —Ç–µ—Ö–Ω–∏–∫ –ø–µ—Ä–µ–¥ –ø–∞—Ç—Ç–µ—Ä–Ω–∞–º–∏</a></h2>
<h3 id="–û—Å–Ω–æ–≤–Ω–∞—è-–∏–¥–µ—è"><a class="header" href="#–û—Å–Ω–æ–≤–Ω–∞—è-–∏–¥–µ—è">–û—Å–Ω–æ–≤–Ω–∞—è –∏–¥–µ—è</a></h3>
<p>–ü—Ä–µ–∂–¥–µ —á–µ–º –∏–∑—É—á–∞—Ç—å –ø–∞—Ç—Ç–µ—Ä–Ω—ã –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è, –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –ø–æ–Ω—è—Ç—å:</p>
<ul>
<li>–ö–∞–∫–∏–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ JavaScript –∏ TypeScript –º—ã –±—É–¥–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å</li>
<li>–ö–∞–∫ —Ä–∞–∑–Ω—ã–µ –ø–∞—Ä–∞–¥–∏–≥–º—ã (–ø—Ä–æ—Ü–µ–¥—É—Ä–Ω–∞—è, –û–û–ü, —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è) –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –Ω–∞ –ø—Ä–∞–∫—Ç–∏–∫–µ</li>
<li>–ö–∞–∫ —Å–æ–≤–º–µ—Å—Ç–∏—Ç—å –ø—Ä–∏–Ω—Ü–∏–ø—ã –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –∫–æ–¥–∞ —Å –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–µ–π –¥–ª—è V8</li>
</ul>
<h3 id="–ü–æ–¥—Ö–æ–¥-–∫-–±–∞–ª–∞–Ω—Å—É-—Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫-–∫–æ–¥–∞"><a class="header" href="#–ü–æ–¥—Ö–æ–¥-–∫-–±–∞–ª–∞–Ω—Å—É-—Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫-–∫–æ–¥–∞">–ü–æ–¥—Ö–æ–¥ –∫ –±–∞–ª–∞–Ω—Å—É —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫ –∫–æ–¥–∞</a></h3>
<p>–ú—ã —Å—Ç—Ä–µ–º–∏–º—Å—è —Å–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞—Ç—å:</p>
<ul>
<li><strong>–ß–∏—Ç–∞–µ–º–æ—Å—Ç—å</strong> - –∫–æ–¥ –ª–µ–≥–∫–æ –ø–æ–Ω—è—Ç—å</li>
<li><strong>–ù–∞–¥—ë–∂–Ω–æ—Å—Ç—å</strong> - –º–µ–Ω—å—à–µ –æ—à–∏–±–æ–∫</li>
<li><strong>–°—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å</strong> - –ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ</li>
<li><strong>–ú–æ–¥–∏—Ñ–∏—Ü–∏—Ä—É–µ–º–æ—Å—Ç—å</strong> - –ª–µ–≥–∫–æ –≤–Ω–æ—Å–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è</li>
<li><strong>–¢–µ—Å—Ç–∏—Ä—É–µ–º–æ—Å—Ç—å</strong> - –ø—Ä–æ—Å—Ç–æ—Ç–∞ –ø–æ–∫—Ä—ã—Ç–∏—è —Ç–µ—Å—Ç–∞–º–∏</li>
<li><strong>–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å</strong> - —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ</li>
</ul>
<hr />
<h2 id="2-–ê–Ω–∞–ª–∏–∑-–ø–ª–æ—Ö–æ–≥–æ-–∫–æ–¥–∞-18-–∫–∞—Ç–µ–≥–æ—Ä–∏–π-–ø—Ä–æ–±–ª–µ–º"><a class="header" href="#2-–ê–Ω–∞–ª–∏–∑-–ø–ª–æ—Ö–æ–≥–æ-–∫–æ–¥–∞-18-–∫–∞—Ç–µ–≥–æ—Ä–∏–π-–ø—Ä–æ–±–ª–µ–º">2. –ê–Ω–∞–ª–∏–∑ –ø–ª–æ—Ö–æ–≥–æ –∫–æ–¥–∞: 18 –∫–∞—Ç–µ–≥–æ—Ä–∏–π –ø—Ä–æ–±–ª–µ–º</a></h2>
<h3 id="–ò—Å—Ö–æ–¥–Ω–∞—è-–∑–∞–¥–∞—á–∞"><a class="header" href="#–ò—Å—Ö–æ–¥–Ω–∞—è-–∑–∞–¥–∞—á–∞">–ò—Å—Ö–æ–¥–Ω–∞—è –∑–∞–¥–∞—á–∞</a></h3>
<p><strong>–ó–∞–¥–∞—á–∞:</strong> –û–±—Ä–∞–±–æ—Ç–∞—Ç—å —Å—ã—Ä–æ–π –¥–∞—Ç–∞—Å–µ—Ç —Ç–æ–≤–∞—Ä–æ–≤ —Å –Ω–µ–∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏ –∏ –∏–∑–≤–ª–µ—á—å —Ü–µ–Ω—ã.</p>
<p><strong>–ü—Ä–æ–±–ª–µ–º—ã –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö:</strong></p>
<ul>
<li>–û–±—ä–µ–∫—Ç—ã —Å –ø–æ–ª—è–º–∏ –≤ —Ä–∞–∑–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ</li>
<li>–ú–∞—Å—Å–∏–≤—ã –≤–º–µ—Å—Ç–æ –æ–±—ä–µ–∫—Ç–æ–≤</li>
<li>–°–º–µ—à–∞–Ω–Ω—ã–µ —Ç–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö (string –∏ number)</li>
<li>–û—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏–µ –∏–ª–∏ –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–Ω—ã–µ –ø–æ–ª—è (<code>price</code> vs <code>cost</code>)</li>
</ul>
<hr />
<h3 id="21-–ü—Ä–æ–±–ª–µ–º—ã-–æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏-v8"><a class="header" href="#21-–ü—Ä–æ–±–ª–µ–º—ã-–æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏-v8">2.1. –ü—Ä–æ–±–ª–µ–º—ã –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ V8</a></h3>
<h4 id="–ü—Ä–æ–±–ª–µ–º–∞-1-–î–µ–æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è-–≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–π-–º–∞—à–∏–Ω—ã"><a class="header" href="#–ü—Ä–æ–±–ª–µ–º–∞-1-–î–µ–æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è-–≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–π-–º–∞—à–∏–Ω—ã">–ü—Ä–æ–±–ª–µ–º–∞ 1: –î–µ–æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω—ã</a></h4>
<p><strong>–ß—Ç–æ:</strong> –ü–æ–ª–∏–º–æ—Ä—Ñ–Ω—ã–π –∫–æ–¥ –ø–æ—Å—Ç–æ—è–Ω–Ω–æ –º–µ–Ω—è–µ—Ç —Ñ–æ—Ä–º—É –æ–±—ä–µ–∫—Ç–æ–≤ –∏ —Å–∫—Ä—ã—Ç—ã–µ –∫–ª–∞—Å—Å—ã.</p>
<p><strong>–ü–æ—á–µ–º—É –ø–ª–æ—Ö–æ:</strong></p>
<ul>
<li>V8 –æ–ø—Ç–∏–º–∏–∑–∏—Ä—É–µ—Ç –∫–æ–¥ –Ω–∞ –æ—Å–Ω–æ–≤–µ –ø—Ä–µ–¥–ø–æ–ª–æ–∂–µ–Ω–∏–π –æ —Å—Ç—Ä—É–∫—Ç—É—Ä–µ –æ–±—ä–µ–∫—Ç–æ–≤</li>
<li>–ò–∑–º–µ–Ω–µ–Ω–∏–µ —Ñ–æ—Ä–º—ã –æ–±—ä–µ–∫—Ç–æ–≤ –∑–∞—Å—Ç–∞–≤–ª—è–µ—Ç V8 –æ—Ç–∫–∞–∑—ã–≤–∞—Ç—å—Å—è –æ—Ç –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–π</li>
<li>–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –ø–∞–¥–∞–µ—Ç</li>
</ul>
<p><strong>–ö–ª—é—á–µ–≤—ã–µ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏:</strong></p>
<ul>
<li><strong>Hidden Classes (—Å–∫—Ä—ã—Ç—ã–µ –∫–ª–∞—Å—Å—ã)</strong> - –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –æ–±—ä–µ–∫—Ç–æ–≤ –≤ V8</li>
<li><strong>–ú–µ–≥–∞–º–æ—Ä—Ñ–Ω—ã–π –∫–æ–¥</strong> - –∫–æ–¥, —Ä–∞–±–æ—Ç–∞—é—â–∏–π —Å –±–æ–ª–µ–µ —á–µ–º 4 —Ñ–æ—Ä–º–∞–º–∏ –æ–±—ä–µ–∫—Ç–æ–≤</li>
</ul>
<h4 id="–ü—Ä–æ–±–ª–µ–º–∞-13-–ò–∑–º–µ–Ω–µ–Ω–∏–µ-—Ñ–æ—Ä–º—ã-–æ–±—ä–µ–∫—Ç–æ–≤"><a class="header" href="#–ü—Ä–æ–±–ª–µ–º–∞-13-–ò–∑–º–µ–Ω–µ–Ω–∏–µ-—Ñ–æ—Ä–º—ã-–æ–±—ä–µ–∫—Ç–æ–≤">–ü—Ä–æ–±–ª–µ–º–∞ 13: –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Ñ–æ—Ä–º—ã –æ–±—ä–µ–∫—Ç–æ–≤</a></h4>
<p><strong>–ê–Ω—Ç–∏–ø–∞—Ç—Ç–µ—Ä–Ω—ã:</strong></p>
<pre><code class="language-javascript">// –ü–ª–æ—Ö–æ: delete –º–µ–Ω—è–µ—Ç —Ñ–æ—Ä–º—É –æ–±—ä–µ–∫—Ç–∞
const obj = { name: 'Item', price: 100 };
delete obj.price; // –§–æ—Ä–º–∞ –∏–∑–º–µ–Ω–∏–ª–∞—Å—å!

// –ü–ª–æ—Ö–æ: –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª–µ–π –≤ —Ä–∞–∑–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ
const obj1 = { name: 'A', price: 10 };
const obj2 = { price: 20, name: 'B' }; // –î—Ä—É–≥–∞—è —Ñ–æ—Ä–º–∞!
</code></pre>
<p><strong>–†–µ—à–µ–Ω–∏–µ:</strong></p>
<pre><code class="language-javascript">// –•–æ—Ä–æ—à–æ: –≤—Å–µ–≥–¥–∞ –æ–¥–Ω–∞ –∏ —Ç–∞ –∂–µ —Ñ–æ—Ä–º–∞
const obj1 = { name: 'A', price: 10 };
const obj2 = { name: 'B', price: 20 };
</code></pre>
<h4 id="–ü—Ä–æ–±–ª–µ–º–∞-14-–î—ã—Ä—è–≤—ã–µ-–º–∞—Å—Å–∏–≤—ã"><a class="header" href="#–ü—Ä–æ–±–ª–µ–º–∞-14-–î—ã—Ä—è–≤—ã–µ-–º–∞—Å—Å–∏–≤—ã">–ü—Ä–æ–±–ª–µ–º–∞ 14: –î—ã—Ä—è–≤—ã–µ –º–∞—Å—Å–∏–≤—ã</a></h4>
<p><strong>–ß—Ç–æ:</strong> –ú–∞—Å—Å–∏–≤—ã —Å –ø—Ä–æ–ø—É—Å–∫–∞–º–∏ (holes) —Å–æ–∑–¥–∞—é—Ç—Å—è –ø—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏ —ç–ª–µ–º–µ–Ω—Ç–æ–≤.</p>
<pre><code class="language-javascript">// –ü–ª–æ—Ö–æ
const arr = [1, 2, 3];
delete arr[1]; // [1, empty, 3] - –¥—ã—Ä—è–≤—ã–π –º–∞—Å—Å–∏–≤
</code></pre>
<hr />
<h3 id="22-–ü—Ä–æ–±–ª–µ–º—ã-—á–∏—Ç–∞–µ–º–æ—Å—Ç–∏-–∏-—Å–ª–æ–∂–Ω–æ—Å—Ç–∏"><a class="header" href="#22-–ü—Ä–æ–±–ª–µ–º—ã-—á–∏—Ç–∞–µ–º–æ—Å—Ç–∏-–∏-—Å–ª–æ–∂–Ω–æ—Å—Ç–∏">2.2. –ü—Ä–æ–±–ª–µ–º—ã —á–∏—Ç–∞–µ–º–æ—Å—Ç–∏ –∏ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏</a></h3>
<h4 id="–ü—Ä–æ–±–ª–µ–º–∞-2-–ò–∑–±—ã—Ç–æ–∫-if-–æ–≤-6-—à—Ç—É–∫"><a class="header" href="#–ü—Ä–æ–±–ª–µ–º–∞-2-–ò–∑–±—ã—Ç–æ–∫-if-–æ–≤-6-—à—Ç—É–∫">–ü—Ä–æ–±–ª–µ–º–∞ 2: –ò–∑–±—ã—Ç–æ–∫ if-–æ–≤ (6 —à—Ç—É–∫)</a></h4>
<p><strong>–ü–æ—á–µ–º—É –ø–ª–æ—Ö–æ:</strong></p>
<ul>
<li>–í—ã—Å–æ–∫–∞—è –∫–æ–≥–Ω–∏—Ç–∏–≤–Ω–∞—è –Ω–∞–≥—Ä—É–∑–∫–∞</li>
<li>–°–ª–æ–∂–Ω–æ—Å—Ç—å —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è (–º–Ω–æ–≥–æ –≤–µ—Ç–≤–ª–µ–Ω–∏–π)</li>
<li>–¢—Ä—É–¥–Ω–æ –æ—Ç—Å–ª–µ–¥–∏—Ç—å –ª–æ–≥–∏–∫—É</li>
</ul>
<p><strong>–†–µ—à–µ–Ω–∏–µ:</strong> –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –º–µ–Ω—å—à–µ —É—Å–ª–æ–≤–∏–π —á–µ—Ä–µ–∑ –¥–µ–∫–æ–º–ø–æ–∑–∏—Ü–∏—é –∏ –∏–∑–æ–ª—è—Ü–∏—é –ø—Ä–æ–≤–µ—Ä–æ–∫.</p>
<h4 id="–ü—Ä–æ–±–ª–µ–º–∞-3-–†–∞–∑–Ω–µ—Å—ë–Ω–Ω–∞—è-–ø—Ä–æ–≤–µ—Ä–∫–∞-–Ω–∞-–º–∞—Å—Å–∏–≤"><a class="header" href="#–ü—Ä–æ–±–ª–µ–º–∞-3-–†–∞–∑–Ω–µ—Å—ë–Ω–Ω–∞—è-–ø—Ä–æ–≤–µ—Ä–∫–∞-–Ω–∞-–º–∞—Å—Å–∏–≤">–ü—Ä–æ–±–ª–µ–º–∞ 3: –†–∞–∑–Ω–µ—Å—ë–Ω–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –º–∞—Å—Å–∏–≤</a></h4>
<p><strong>–ü—Ä–æ–±–ª–µ–º–∞:</strong></p>
<pre><code class="language-javascript">// –ü–ª–æ—Ö–æ: –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ
if (!Array.isArray(data)) {
  // –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ–±—ä–µ–∫—Ç–∞
}
// ... –º–Ω–æ–≥–æ –∫–æ–¥–∞ ...
// –æ–±—Ä–∞–±–æ—Ç–∫–∞ –º–∞—Å—Å–∏–≤–∞ –≤ –¥—Ä—É–≥–æ–º –º–µ—Å—Ç–µ
</code></pre>
<p><strong>–ü–æ—á–µ–º—É –ø–ª–æ—Ö–æ:</strong> –ì–ª–∞–∑–∞ –¥–æ–ª–∂–Ω—ã –ø—Ä—ã–≥–∞—Ç—å –ø–æ –∫–æ–¥—É, –Ω–∞—Ä—É—à–∞–µ—Ç—Å—è –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å —á—Ç–µ–Ω–∏—è.</p>
<h4 id="–ü—Ä–æ–±–ª–µ–º–∞-8-–î—É–ø–ª–∏–∫–∞—Ü–∏—è-–∫–æ–¥–∞"><a class="header" href="#–ü—Ä–æ–±–ª–µ–º–∞-8-–î—É–ø–ª–∏–∫–∞—Ü–∏—è-–∫–æ–¥–∞">–ü—Ä–æ–±–ª–µ–º–∞ 8: –î—É–ø–ª–∏–∫–∞—Ü–∏—è –∫–æ–¥–∞</a></h4>
<p><strong>–ü—Ä–∏–º–µ—Ä—ã –¥—É–ø–ª–∏–∫–∞—Ü–∏–∏:</strong></p>
<ul>
<li>–ü–æ–≤—Ç–æ—Ä—è—é—â–∏–µ—Å—è –ø—Ä–æ–≤–µ—Ä–∫–∏ (<code>options.converter</code>)</li>
<li>–ü–æ—Ö–æ–∂–∏–µ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è —Ç–∏–ø–æ–≤ –≤ —Ä–∞–∑–Ω—ã—Ö –º–µ—Å—Ç–∞—Ö</li>
</ul>
<hr />
<h3 id="23-–ü—Ä–æ–±–ª–µ–º—ã-–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏"><a class="header" href="#23-–ü—Ä–æ–±–ª–µ–º—ã-–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏">2.3. –ü—Ä–æ–±–ª–µ–º—ã –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏</a></h3>
<h4 id="–ü—Ä–æ–±–ª–µ–º–∞-4-–ù–µ—ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–∞—è-–¥–µ—Å—Ç—Ä—É–∫—Ç—É—Ä–∏–∑–∞—Ü–∏—è-–º–∞—Å—Å–∏–≤–∞"><a class="header" href="#–ü—Ä–æ–±–ª–µ–º–∞-4-–ù–µ—ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–∞—è-–¥–µ—Å—Ç—Ä—É–∫—Ç—É—Ä–∏–∑–∞—Ü–∏—è-–º–∞—Å—Å–∏–≤–∞">–ü—Ä–æ–±–ª–µ–º–∞ 4: –ù–µ—ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–∞—è –¥–µ—Å—Ç—Ä—É–∫—Ç—É—Ä–∏–∑–∞—Ü–∏—è –º–∞—Å—Å–∏–≤–∞</a></h4>
<pre><code class="language-javascript">// –ü–ª–æ—Ö–æ: —Å–æ–∑–¥–∞—ë—Ç –∏—Ç–µ—Ä–∞—Ç–æ—Ä
const [, value] = data; // –ü—Ä–æ–ø—É—Å–∫–∞–µ–º –ø–µ—Ä–≤—ã–π, –±–µ—Ä—ë–º –≤—Ç–æ—Ä–æ–π

// –•–æ—Ä–æ—à–æ: –ø—Ä—è–º–æ–π –¥–æ—Å—Ç—É–ø
const value = data[1];
</code></pre>
<p><strong>–ü–æ—á–µ–º—É –ø–ª–æ—Ö–æ:</strong> –î–µ—Å—Ç—Ä—É–∫—Ç—É—Ä–∏–∑–∞—Ü–∏—è –º–∞—Å—Å–∏–≤–∞ —Å–æ–∑–¥–∞—ë—Ç –∏—Ç–µ—Ä–∞—Ç–æ—Ä, —á—Ç–æ –º–µ–¥–ª–µ–Ω–Ω–µ–µ –ø—Ä—è–º–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞.</p>
<h4 id="–ü—Ä–æ–±–ª–µ–º–∞-12-array-–∫–∞–∫-tuple"><a class="header" href="#–ü—Ä–æ–±–ª–µ–º–∞-12-array-–∫–∞–∫-tuple">–ü—Ä–æ–±–ª–µ–º–∞ 12: Array –∫–∞–∫ tuple</a></h4>
<p><strong>–ü—Ä–æ–±–ª–µ–º–∞:</strong></p>
<pre><code class="language-javascript">// –ü–ª–æ—Ö–æ –≤ JavaScript
const item = ['Book', 100]; // [name, price]
const [name, price] = item;
</code></pre>
<p><strong>–ü–æ—á–µ–º—É –ø–ª–æ—Ö–æ:</strong></p>
<ul>
<li>–°–æ–∑–¥–∞–Ω–∏–µ –∏—Ç–µ—Ä–∞—Ç–æ—Ä–∞ –ø—Ä–∏ –¥–µ—Å—Ç—Ä—É–∫—Ç—É—Ä–∏–∑–∞—Ü–∏–∏</li>
<li>–ù–µ–ø–æ–Ω—è—Ç–Ω–æ, —á—Ç–æ –≤ –∫–∞–∫–æ–º –∏–Ω–¥–µ–∫—Å–µ</li>
<li>–í JavaScript –æ–±—ä–µ–∫—Ç –ø—Ä–µ–¥–ø–æ—á—Ç–∏—Ç–µ–ª—å–Ω–µ–µ</li>
</ul>
<p><strong>–†–µ—à–µ–Ω–∏–µ:</strong></p>
<pre><code class="language-javascript">// –•–æ—Ä–æ—à–æ
const item = { name: 'Book', price: 100 };
const { name, price } = item;
</code></pre>
<h4 id="–ü—Ä–æ–±–ª–µ–º–∞-14-closures-–º–æ–¥–∏—Ñ–∏—Ü–∏—Ä—É—é—â–∏–µ-–≤–Ω–µ—à–Ω–∏–π-scope"><a class="header" href="#–ü—Ä–æ–±–ª–µ–º–∞-14-closures-–º–æ–¥–∏—Ñ–∏—Ü–∏—Ä—É—é—â–∏–µ-–≤–Ω–µ—à–Ω–∏–π-scope">–ü—Ä–æ–±–ª–µ–º–∞ 14: Closures, –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä—É—é—â–∏–µ –≤–Ω–µ—à–Ω–∏–π scope</a></h4>
<pre><code class="language-javascript">// –ü–ª–æ—Ö–æ
const out = [];
data.forEach(item =&gt; {
  out.push(process(item)); // –ú–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏—è –≤–Ω–µ—à–Ω–µ–π –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π
});

// –•–æ—Ä–æ—à–æ
const out = data.map(item =&gt; process(item));

// –ï—â—ë –ª—É—á—à–µ (–¥–ª—è V8)
const out = [];
for (let i = 0; i &lt; data.length; i++) {
  out.push(process(data[i]));
}
</code></pre>
<hr />
<h3 id="24-–ü—Ä–æ–±–ª–µ–º—ã-—Ç–∏–ø–∏–∑–∞—Ü–∏–∏"><a class="header" href="#24-–ü—Ä–æ–±–ª–µ–º—ã-—Ç–∏–ø–∏–∑–∞—Ü–∏–∏">2.4. –ü—Ä–æ–±–ª–µ–º—ã —Ç–∏–ø–∏–∑–∞—Ü–∏–∏</a></h3>
<h4 id="–ü—Ä–æ–±–ª–µ–º–∞-5-–ò–∑–±—ã—Ç–æ–∫-union-—Ç–∏–ø–æ–≤"><a class="header" href="#–ü—Ä–æ–±–ª–µ–º–∞-5-–ò–∑–±—ã—Ç–æ–∫-union-—Ç–∏–ø–æ–≤">–ü—Ä–æ–±–ª–µ–º–∞ 5: –ò–∑–±—ã—Ç–æ–∫ Union —Ç–∏–ø–æ–≤</a></h4>
<p><strong>–ü—Ä–æ–±–ª–µ–º–∞:</strong></p>
<pre><code class="language-typescript">// –ü–ª–æ—Ö–æ: —Å–ª–æ–∂–Ω—ã–π Union
type Item = { name: string; price?: number } | { name?: string; price: number };
function getPrice(data: Item | ItemData): number | undefined | NaN {
  // ...
}
</code></pre>
<p><strong>–¶–µ–ª—å:</strong> –ú–∏–Ω–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å Union —Ç–∏–ø—ã —á–µ—Ä–µ–∑ –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—é –¥–∞–Ω–Ω—ã—Ö.</p>
<h4 id="–ü—Ä–æ–±–ª–µ–º–∞-6-–í—ã—Ö–æ–¥–Ω–æ–π-—Ç–∏–ø-number--undefined--nan"><a class="header" href="#–ü—Ä–æ–±–ª–µ–º–∞-6-–í—ã—Ö–æ–¥–Ω–æ–π-—Ç–∏–ø-number--undefined--nan">–ü—Ä–æ–±–ª–µ–º–∞ 6: –í—ã—Ö–æ–¥–Ω–æ–π —Ç–∏–ø <code>number | undefined | NaN</code></a></h4>
<p><strong>–ü—Ä–æ–±–ª–µ–º–∞:</strong> NaN –≤ JavaScript –≤–µ–¥—ë—Ç —Å–µ–±—è —Å—Ç—Ä–∞–Ω–Ω–æ (<code>NaN !== NaN</code>).</p>
<p><strong>–†–µ—à–µ–Ω–∏–µ:</strong> –í–æ–∑–≤—Ä–∞—â–∞—Ç—å <code>number | undefined</code>, –∑–∞–º–µ–Ω—è—è NaN –Ω–∞ undefined.</p>
<pre><code class="language-typescript">// –ü–ª–æ—Ö–æ
return parseInt(value); // –ú–æ–∂–µ—Ç –≤–µ—Ä–Ω—É—Ç—å NaN

// –•–æ—Ä–æ—à–æ
const parsed = parseInt(value);
return isNaN(parsed) ? undefined : parsed;
</code></pre>
<hr />
<h3 id="25-–ü—Ä–æ–±–ª–µ–º—ã-–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã"><a class="header" href="#25-–ü—Ä–æ–±–ª–µ–º—ã-–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã">2.5. –ü—Ä–æ–±–ª–µ–º—ã –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã</a></h3>
<h4 id="–ü—Ä–æ–±–ª–µ–º–∞-9-–°–ª–∞–±—ã–µ-–∫–æ–Ω—Ç—Ä–∞–∫—Ç—ã-weak-contracts"><a class="header" href="#–ü—Ä–æ–±–ª–µ–º–∞-9-–°–ª–∞–±—ã–µ-–∫–æ–Ω—Ç—Ä–∞–∫—Ç—ã-weak-contracts">–ü—Ä–æ–±–ª–µ–º–∞ 9: –°–ª–∞–±—ã–µ –∫–æ–Ω—Ç—Ä–∞–∫—Ç—ã (Weak Contracts)</a></h4>
<p><strong>–°—É—Ç—å:</strong> –°—ã—Ä—ã–µ –¥–∞–Ω–Ω—ã–µ –ø—Ä–æ–Ω–∏–∫–∞—é—Ç –≥–ª—É–±–æ–∫–æ –≤ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫—É.</p>
<p><strong>–†–µ—à–µ–Ω–∏–µ:</strong> –ò–∑–æ–ª–∏—Ä–æ–≤–∞—Ç—å —Å–ª–æ–∂–Ω–æ—Å—Ç—å –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö:</p>
<ol>
<li>–ù–∞ –≤—Ö–æ–¥–µ –Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ</li>
<li>–í –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–µ —Ä–∞–±–æ—Ç–∞—Ç—å —Ç–æ–ª—å–∫–æ —Å –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏</li>
</ol>
<h4 id="–ü—Ä–æ–±–ª–µ–º–∞-10-mixed-responsibility-–°–º–µ—à–µ–Ω–∏–µ-–æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–µ–π"><a class="header" href="#–ü—Ä–æ–±–ª–µ–º–∞-10-mixed-responsibility-–°–º–µ—à–µ–Ω–∏–µ-–æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–µ–π">–ü—Ä–æ–±–ª–µ–º–∞ 10: Mixed Responsibility (–°–º–µ—à–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–µ–π)</a></h4>
<p><strong>–§—É–Ω–∫—Ü–∏—è –¥–µ–ª–∞–µ—Ç —Å–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ:</strong></p>
<ul>
<li>–ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ—Ç —Å—ã—Ä—ã–µ –¥–∞–Ω–Ω—ã–µ</li>
<li>–û–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Ç–∏–ø—ã</li>
<li>–ù–æ—Ä–º–∞–ª–∏–∑—É–µ—Ç –¥–∞–Ω–Ω—ã–µ</li>
<li>–ü—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç –º–∞—Å—Å–∏–≤—ã –≤ –æ–±—ä–µ–∫—Ç—ã</li>
<li>–ò–∑–≤–ª–µ–∫–∞–µ—Ç –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–µ –ø–æ–ª–µ (price)</li>
</ul>
<p><strong>–ü—Ä–∏–Ω—Ü–∏–ø:</strong> Single Responsibility Principle (SRP) - –æ–¥–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è = –æ–¥–Ω–∞ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å.</p>
<h4 id="–ü—Ä–æ–±–ª–µ–º–∞-11-inconsistent-return"><a class="header" href="#–ü—Ä–æ–±–ª–µ–º–∞-11-inconsistent-return">–ü—Ä–æ–±–ª–µ–º–∞ 11: Inconsistent Return</a></h4>
<p><strong>–ü—Ä–æ–±–ª–µ–º–∞:</strong> –§—É–Ω–∫—Ü–∏—è –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ä–∞–∑–Ω—ã–µ —Ç–∏–ø—ã –≤ —Ä–∞–∑–Ω—ã—Ö –≤–µ—Ç–∫–∞—Ö.</p>
<pre><code class="language-javascript">// –ü–ª–æ—Ö–æ: ESLint —Ä—É–≥–∞–µ—Ç—Å—è
function getPrice(data) {
  if (!data) return undefined;
  if (typeof data === 'string') return NaN;
  return data.price;
}
</code></pre>
<hr />
<h3 id="26-–°—Ç–∏–ª–∏—Å—Ç–∏—á–µ—Å–∫–∏–µ-–ø—Ä–æ–±–ª–µ–º—ã"><a class="header" href="#26-–°—Ç–∏–ª–∏—Å—Ç–∏—á–µ—Å–∫–∏–µ-–ø—Ä–æ–±–ª–µ–º—ã">2.6. –°—Ç–∏–ª–∏—Å—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã</a></h3>
<h4 id="–ü—Ä–æ–±–ª–µ–º–∞-15-–ù–µ—è–≤–Ω–æ–µ-–ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ-—Ç–∏–ø–æ–≤"><a class="header" href="#–ü—Ä–æ–±–ª–µ–º–∞-15-–ù–µ—è–≤–Ω–æ–µ-–ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ-—Ç–∏–ø–æ–≤">–ü—Ä–æ–±–ª–µ–º–∞ 15: –ù–µ—è–≤–Ω–æ–µ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ —Ç–∏–ø–æ–≤</a></h4>
<p><strong>–ê–Ω—Ç–∏–ø–∞—Ç—Ç–µ—Ä–Ω—ã:</strong></p>
<pre><code class="language-javascript">// –ü—Ä–∏–≤–µ–¥–µ–Ω–∏–µ –∫ —Å—Ç—Ä–æ–∫–µ
const str1 = '' + number;
const str2 = `${number}`;

// –ü—Ä–∏–≤–µ–¥–µ–Ω–∏–µ –∫ —á–∏—Å–ª—É
const num1 = +string;
const num2 = string * 1;
const num3 = string - 0;
const num4 = string / 1;
</code></pre>
<p><strong>–ü–æ—á–µ–º—É –ø–ª–æ—Ö–æ:</strong> –ü–æ–≤—ã—à–∞–µ—Ç –∫–æ–≥–Ω–∏—Ç–∏–≤–Ω—É—é –Ω–∞–≥—Ä—É–∑–∫—É, –Ω–µ–æ—á–µ–≤–∏–¥–Ω–æ.</p>
<p><strong>–†–µ—à–µ–Ω–∏–µ:</strong></p>
<pre><code class="language-javascript">// –Ø–≤–Ω–æ–µ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ
const str = String(number);
const num = Number(string);
const num2 = parseInt(string, 10);
const num3 = parseFloat(string);
</code></pre>
<h4 id="–ü—Ä–æ–±–ª–µ–º–∞-16-–°—Ä–∞–≤–Ω–µ–Ω–∏–µ-—Å-–∞–≤—Ç–æ–ø—Ä–∏–≤–µ–¥–µ–Ω–∏–µ–º-—Ç–∏–ø–æ–≤"><a class="header" href="#–ü—Ä–æ–±–ª–µ–º–∞-16-–°—Ä–∞–≤–Ω–µ–Ω–∏–µ-—Å-–∞–≤—Ç–æ–ø—Ä–∏–≤–µ–¥–µ–Ω–∏–µ–º-—Ç–∏–ø–æ–≤">–ü—Ä–æ–±–ª–µ–º–∞ 16: –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å –∞–≤—Ç–æ–ø—Ä–∏–≤–µ–¥–µ–Ω–∏–µ–º —Ç–∏–ø–æ–≤</a></h4>
<p><strong>–ü—Ä–∞–≤–∏–ª–æ:</strong> –í—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å—Ç—Ä–æ–≥–æ–µ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ.</p>
<pre><code class="language-javascript">// –ü–ª–æ—Ö–æ
if (value == null) { }
if (a != b) { }

// –•–æ—Ä–æ—à–æ
if (value === null) { }
if (a !== b) { }
</code></pre>
<h4 id="–ü—Ä–æ–±–ª–µ–º–∞-17-–ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ–µ-–ø—Ä–∏—Å–≤–æ–µ–Ω–∏–µ"><a class="header" href="#–ü—Ä–æ–±–ª–µ–º–∞-17-–ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ–µ-–ø—Ä–∏—Å–≤–æ–µ–Ω–∏–µ">–ü—Ä–æ–±–ª–µ–º–∞ 17: –ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ–µ –ø—Ä–∏—Å–≤–æ–µ–Ω–∏–µ</a></h4>
<pre><code class="language-javascript">// –ü–ª–æ—Ö–æ
let a = b = c = 0;

// –•–æ—Ä–æ—à–æ
let a = 0;
let b = 0;
let c = 0;
</code></pre>
<h4 id="–ü—Ä–æ–±–ª–µ–º–∞-18-–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ-var"><a class="header" href="#–ü—Ä–æ–±–ª–µ–º–∞-18-–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ-var">–ü—Ä–æ–±–ª–µ–º–∞ 18: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ var</a></h4>
<p><strong>–ü—Ä–∞–≤–∏–ª–æ:</strong> –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å <code>const</code> –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é, <code>let</code> —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏.</p>
<pre><code class="language-javascript">// –ü–ª–æ—Ö–æ
var x = 10;

// –•–æ—Ä–æ—à–æ
const x = 10;

// –ï—Å–ª–∏ –Ω—É–∂–Ω–∞ –º—É—Ç–∞—Ü–∏—è
let counter = 0;
counter++; // –ù–æ –Ω–µ –º–µ–Ω—è—Ç—å —Ç–∏–ø!
</code></pre>
<p><strong>–í–∞–∂–Ω–æ:</strong> –ï—Å–ª–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è –æ–±—ä—è–≤–ª–µ–Ω–∞ —á–µ—Ä–µ–∑ <code>let</code>:</p>
<ul>
<li>–ù–µ –º–µ–Ω—è—Ç—å –µ—ë —Ç–∏–ø (<code>number</code> ‚Üí <code>string</code>)</li>
<li>–°—Ç–∞—Ä–∞—Ç—å—Å—è –Ω–µ —Å–º–µ—à–∏–≤–∞—Ç—å <code>float</code> –∏ <code>integer</code></li>
</ul>
<hr />
<h2 id="3-–†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥-1-–ü—Ä–æ—Ü–µ–¥—É—Ä–Ω—ã–π-—Å—Ç–∏–ª—å-—Å-—Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ–º-–æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏"><a class="header" href="#3-–†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥-1-–ü—Ä–æ—Ü–µ–¥—É—Ä–Ω—ã–π-—Å—Ç–∏–ª—å-—Å-—Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ–º-–æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏">3. –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ ‚Ññ1: –ü—Ä–æ—Ü–µ–¥—É—Ä–Ω—ã–π —Å—Ç–∏–ª—å —Å —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ–º –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏</a></h2>
<h3 id="–û—Å–Ω–æ–≤–Ω–∞—è-–∏–¥–µ—è-1"><a class="header" href="#–û—Å–Ω–æ–≤–Ω–∞—è-–∏–¥–µ—è-1">–û—Å–Ω–æ–≤–Ω–∞—è –∏–¥–µ—è</a></h3>
<p>–†–∞–∑–¥–µ–ª–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏—é –Ω–∞ –¥–≤–µ:</p>
<ul>
<li><code>normalizeItem()</code> - –Ω–æ—Ä–º–∞–ª–∏–∑—É–µ—Ç –¥–∞–Ω–Ω—ã–µ</li>
<li><code>getPrice()</code> - –∏–∑–≤–ª–µ–∫–∞–µ—Ç —Ü–µ–Ω—É –∏–∑ –Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö</li>
</ul>
<h3 id="–ö–ª—é—á–µ–≤—ã–µ-—É–ª—É—á—à–µ–Ω–∏—è"><a class="header" href="#–ö–ª—é—á–µ–≤—ã–µ-—É–ª—É—á—à–µ–Ω–∏—è">–ö–ª—é—á–µ–≤—ã–µ —É–ª—É—á—à–µ–Ω–∏—è</a></h3>
<h4 id="1-–†–∞–∑–¥–µ–ª–µ–Ω–∏–µ-–æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–µ–π-srp"><a class="header" href="#1-–†–∞–∑–¥–µ–ª–µ–Ω–∏–µ-–æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–µ–π-srp">1. –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–µ–π (SRP)</a></h4>
<pre><code class="language-javascript">// –ü–ª–æ—Ö–æ: –æ–¥–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è –¥–µ–ª–∞–µ—Ç –≤—Å—ë
function getPrice(data, options) {
  // –ü—Ä–æ–≤–µ—Ä–∫–∏ —Ç–∏–ø–æ–≤
  // –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è
  // –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ price
  // –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è —Ç–∏–ø–æ–≤
}

// –•–æ—Ä–æ—à–æ: –¥–≤–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Å —á—ë—Ç–∫–∏–º–∏ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—è–º–∏
function normalizeItem(data, options = {}) {
  // –¢–æ–ª—å–∫–æ –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö
  const isTuple = Array.isArray(data);
  const obj = isTuple ? { name: data[0], price: data[1] } : data;
  const { price, cost } = obj;
  const value = price ?? cost;

  const { converter } = options;
  const normalizedValue =
    typeof value === 'string' &amp;&amp; converter
      ? converter(value)
      : parseFloat(value);

  return { name: obj.name, price: normalizedValue };
}

function getPrice(item) {
  // –¢–æ–ª—å–∫–æ –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ price
  return item.price;
}
</code></pre>
<h4 id="2-–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ-const-–≤–º–µ—Å—Ç–æ-let"><a class="header" href="#2-–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ-const-–≤–º–µ—Å—Ç–æ-let">2. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ const –≤–º–µ—Å—Ç–æ let</a></h4>
<pre><code class="language-javascript">// –ü–ª–æ—Ö–æ
let price;
if (typeof value === 'string') {
  price = parseFloat(value);
} else {
  price = value;
}

// –•–æ—Ä–æ—à–æ
const price = typeof value === 'string' ? parseFloat(value) : value;
</code></pre>
<h4 id="3-–£–º–µ–Ω—å—à–µ–Ω–∏–µ-if-–æ–≤"><a class="header" href="#3-–£–º–µ–Ω—å—à–µ–Ω–∏–µ-if-–æ–≤">3. –£–º–µ–Ω—å—à–µ–Ω–∏–µ if-–æ–≤</a></h4>
<p><strong>–ë—ã–ª–æ:</strong> 6 if-–æ–≤
<strong>–°—Ç–∞–ª–æ:</strong> 3 —Ç–µ—Ä–Ω–∞—Ä–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞</p>
<p>–¢–µ—Ä–Ω–∞—Ä–Ω—ã–µ –æ–ø–µ—Ä–∞—Ç–æ—Ä—ã –ø—Ä–æ—â–µ —á–∏—Ç–∞—Ç—å, –∫–æ–≥–¥–∞ –æ–Ω–∏ –æ–¥–Ω–æ—Å—Ç—Ä–æ—á–Ω—ã–µ.</p>
<h4 id="4-–õ–∏–Ω–µ–π–Ω—ã–π-–∫–æ–¥"><a class="header" href="#4-–õ–∏–Ω–µ–π–Ω—ã–π-–∫–æ–¥">4. –õ–∏–Ω–µ–π–Ω—ã–π –∫–æ–¥</a></h4>
<p>–ö–æ–¥ —Å—Ç–∞–ª –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω—ã–º, –±–µ–∑ –ø—Ä—ã–∂–∫–æ–≤ –≤–∑–≥–ª—è–¥–∞:</p>
<pre><code class="language-javascript">const isTuple = Array.isArray(data);
const obj = isTuple ? { name: data[0], price: data[1] } : data;
const { price, cost } = obj;
const value = price ?? cost;
// ... –∏ —Ç–∞–∫ –¥–∞–ª–µ–µ
</code></pre>
<h4 id="5-–£–ª—É—á—à–µ–Ω–∏–µ-—Ç–∏–ø–∏–∑–∞—Ü–∏–∏"><a class="header" href="#5-–£–ª—É—á—à–µ–Ω–∏–µ-—Ç–∏–ø–∏–∑–∞—Ü–∏–∏">5. –£–ª—É—á—à–µ–Ω–∏–µ —Ç–∏–ø–∏–∑–∞—Ü–∏–∏</a></h4>
<p><strong>–ë—ã–ª–æ:</strong></p>
<pre><code class="language-typescript">type Item = { name?: string; price?: number } | ItemData;
</code></pre>
<p><strong>–°—Ç–∞–ª–æ:</strong></p>
<pre><code class="language-typescript">type RawItemTuple = [string, number | string];
type RawItemObject = { name: string; price?: number; cost?: number };
type RawItem = RawItemTuple | RawItemObject;

type NormalizedItem = { name: string; price: number };

function normalizeItem(data: RawItem, options?: Options): NormalizedItem {
  // ...
}
</code></pre>
<p><strong>–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:</strong></p>
<ul>
<li>–ß—ë—Ç–∫–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ raw –∏ normalized –¥–∞–Ω–Ω—ã—Ö</li>
<li>–ú–µ–Ω—å—à–µ Union —Ç–∏–ø–æ–≤ –≤–æ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–π –ª–æ–≥–∏–∫–µ</li>
<li>Consistent return type</li>
</ul>
<h3 id="–†–µ–∑—É–ª—å—Ç–∞—Ç—ã-–æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏"><a class="header" href="#–†–µ–∑—É–ª—å—Ç–∞—Ç—ã-–æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏">–†–µ–∑—É–ª—å—Ç–∞—Ç—ã –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏</a></h3>
<p><strong>–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ –∫–æ–¥–∞:</strong></p>
<ul>
<li>‚úÖ –õ–µ–≥—á–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å</li>
<li>‚úÖ –õ–µ–≥—á–µ —á–∏—Ç–∞—Ç—å</li>
<li>‚úÖ –ù–µ—Ç –¥—É–ø–ª–∏–∫–∞—Ü–∏–∏</li>
<li>‚úÖ –ú–µ–Ω—å—à–µ if-–æ–≤ (3 —Ç–µ—Ä–Ω–∞—Ä–Ω—ã—Ö –≤–º–µ—Å—Ç–æ 6 if-–æ–≤)</li>
<li>‚úÖ –ò–∑–æ–ª—è—Ü–∏—è –ø—Ä–æ–≤–µ—Ä–æ–∫ –æ—Ç –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏</li>
<li>‚úÖ –ü—Ä–∏–º–µ–Ω—ë–Ω SRP (Single Responsibility Principle)</li>
<li>‚úÖ –ü—Ä–∏–º–µ–Ω—ë–Ω SoC (Separation of Concerns)</li>
<li>‚úÖ Consistent return</li>
<li>‚úÖ –ì–æ—Ç–æ–≤ –∫ inlining (V8 –º–æ–∂–µ—Ç –≤—Å—Ç—Ä–æ–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏–∏)</li>
</ul>
<hr />
<h2 id="4-–†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥-2-–ò–º–µ–Ω–æ–≤–∞–Ω–Ω—ã–µ-–ø–∞—Ä–∞–º–µ—Ç—Ä—ã"><a class="header" href="#4-–†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥-2-–ò–º–µ–Ω–æ–≤–∞–Ω–Ω—ã–µ-–ø–∞—Ä–∞–º–µ—Ç—Ä—ã">4. –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ ‚Ññ2: –ò–º–µ–Ω–æ–≤–∞–Ω–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã</a></h2>
<h3 id="–¢–µ—Ö–Ω–∏–∫–∞-–∏–º–µ–Ω–æ–≤–∞–Ω–Ω—ã—Ö-–ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤"><a class="header" href="#–¢–µ—Ö–Ω–∏–∫–∞-–∏–º–µ–Ω–æ–≤–∞–Ω–Ω—ã—Ö-–ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤">–¢–µ—Ö–Ω–∏–∫–∞ –∏–º–µ–Ω–æ–≤–∞–Ω–Ω—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤</a></h3>
<pre><code class="language-javascript">// –ë—ã–ª–æ: –ø–æ–∑–∏—Ü–∏–æ–Ω–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
function normalizeItem(data, options) {
  // ...
}
normalizeItem(item, { converter: parseFloat });

// –°—Ç–∞–ª–æ: –∏–º–µ–Ω–æ–≤–∞–Ω–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
function normalizeItem({ data, options = {} }) {
  // ...
}
normalizeItem({ data: item, options: { converter: parseFloat } });
</code></pre>
<h3 id="–ö–æ–≥–¥–∞-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å-1"><a class="header" href="#–ö–æ–≥–¥–∞-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å-1">–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å</a></h3>
<p><strong>–ü–ª—é—Å—ã –∏–º–µ–Ω–æ–≤–∞–Ω–Ω—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤:</strong></p>
<ul>
<li>–ß–∏—Ç–∞–µ–º–æ—Å—Ç—å - –≤–∏–¥–Ω–æ, —á—Ç–æ –ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è</li>
<li>–ì–∏–±–∫–æ—Å—Ç—å - –º–æ–∂–Ω–æ –æ–ø—É—Å–∫–∞—Ç—å/–ø–µ—Ä–µ—Å—Ç–∞–≤–ª—è—Ç—å –∞—Ä–≥—É–º–µ–Ω—Ç—ã</li>
<li>–°–∞–º–æ–¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞</li>
</ul>
<p><strong>–ú–∏–Ω—É—Å—ã:</strong></p>
<ul>
<li>–°–æ–∑–¥–∞—ë—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –æ–±—ë—Ä—Ç–∫–∏ (–¥–µ—Å—Ç—Ä—É–∫—Ç—É—Ä–∏–∑–∞—Ü–∏—è)</li>
<li>–ù–µ–º–Ω–æ–≥–æ –º–µ–¥–ª–µ–Ω–Ω–µ–µ –¥–ª—è V8</li>
</ul>
<h3 id="–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è"><a class="header" href="#–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è">–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è</a></h3>
<ul>
<li><strong>–í—ã—Å–æ–∫–æ—É—Ä–æ–≤–Ω–µ–≤—ã–π –∫–æ–¥:</strong> –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∏–º–µ–Ω–æ–≤–∞–Ω–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã (–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç —á–∏—Ç–∞–µ–º–æ—Å—Ç–∏)</li>
<li><strong>–ù–∏–∑–∫–æ—É—Ä–æ–≤–Ω–µ–≤—ã–π –∫–æ–¥:</strong> –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–æ–∑–∏—Ü–∏–æ–Ω–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã (–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏)</li>
</ul>
<hr />
<h2 id="5-–†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥-3-–ö–ª–∞—Å—Å—ã-–∏-—Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ-—Ñ–∞–±—Ä–∏–∫–∏"><a class="header" href="#5-–†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥-3-–ö–ª–∞—Å—Å—ã-–∏-—Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ-—Ñ–∞–±—Ä–∏–∫–∏">5. –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ ‚Ññ3: –ö–ª–∞—Å—Å—ã –∏ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–±—Ä–∏–∫–∏</a></h2>
<h3 id="–ó–∞—á–µ–º-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å-–∫–ª–∞—Å—Å—ã"><a class="header" href="#–ó–∞—á–µ–º-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å-–∫–ª–∞—Å—Å—ã">–ó–∞—á–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–ª–∞—Å—Å—ã</a></h3>
<ul>
<li>–ù–µ–∫–æ—Ç–æ—Ä—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–µ–µ –≤—ã—Ä–∞–∂–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ –û–û–ü</li>
<li>–ò–Ω–∫–∞–ø—Å—É–ª—è—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö</li>
<li>–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ <code>instanceof</code> –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ç–∏–ø–æ–≤</li>
<li>–ú—É–ª—å—Ç–∏–ø–∞—Ä–∞–¥–∏–≥–º–µ–Ω–Ω—ã–π –ø–æ–¥—Ö–æ–¥</li>
</ul>
<h3 id="–ü–∞—Ç—Ç–µ—Ä–Ω-–°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ-—Ñ–∞–±—Ä–∏–∫–∏"><a class="header" href="#–ü–∞—Ç—Ç–µ—Ä–Ω-–°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ-—Ñ–∞–±—Ä–∏–∫–∏">–ü–∞—Ç—Ç–µ—Ä–Ω: –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–±—Ä–∏–∫–∏</a></h3>
<p><strong>–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–ª–∞—Å—Å–∞:</strong></p>
<pre><code class="language-javascript">class Item {
  constructor(name, price, options = {}) {
    const { converter } = options;
    this.name = name;
    this.price =
      typeof price === 'string' &amp;&amp; converter
        ? converter(price)
        : parseFloat(price);
  }

  // –§–∞–±—Ä–∏–∫–∞ –¥–ª—è –æ–±—ä–µ–∫—Ç–æ–≤
  static fromStruct({ name, price, cost, ...options }) {
    return new Item(name, price ?? cost, options);
  }

  // –§–∞–±—Ä–∏–∫–∞ –¥–ª—è –º–∞—Å—Å–∏–≤–æ–≤ (tuple)
  static fromTuple([name, price], options) {
    return new Item(name, price, options);
  }

  // –û–±—â–∞—è —Ñ–∞–±—Ä–∏–∫–∞ (Strategy –≤—ã–±–æ—Ä–∞)
  static fromData(data, options = {}) {
    const factory = Array.isArray(data) ? Item.fromTuple : Item.fromStruct;
    return factory(data, options);
  }
}
</code></pre>
<h3 id="–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ"><a class="header" href="#–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ">–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ</a></h3>
<pre><code class="language-javascript">// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
const items = rawData.map(data =&gt; Item.fromData(data, { converter: parseFloat }));
const prices = items.map(item =&gt; item.price);
</code></pre>
<h3 id="–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞-–ø–æ–¥—Ö–æ–¥–∞"><a class="header" href="#–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞-–ø–æ–¥—Ö–æ–¥–∞">–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –ø–æ–¥—Ö–æ–¥–∞</a></h3>
<ol>
<li>
<p><strong>–î–µ–∫–æ–º–ø–æ–∑–∏—Ü–∏—è:</strong> –ö–∞–∂–¥–∞—è —Ñ–∞–±—Ä–∏–∫–∞ –∏–º–µ–µ—Ç –æ–¥–Ω—É –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å</p>
<ul>
<li><code>fromStruct</code> - —Ä–∞–∑–æ–±—Ä–∞—Ç—å –æ–±—ä–µ–∫—Ç</li>
<li><code>fromTuple</code> - —Ä–∞–∑–æ–±—Ä–∞—Ç—å –º–∞—Å—Å–∏–≤</li>
<li><code>fromData</code> - –≤—ã–±—Ä–∞—Ç—å –Ω—É–∂–Ω—É—é —Ñ–∞–±—Ä–∏–∫—É</li>
</ul>
</li>
<li>
<p><strong>Strategy pattern:</strong> <code>fromData</code> –≤—ã–±–∏—Ä–∞–µ—Ç —Å—Ç—Ä–∞—Ç–µ–≥–∏—é –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ç–∏–ø–∞ –¥–∞–Ω–Ω—ã—Ö</p>
</li>
<li>
<p><strong>–ü—Ä–∏–≤–∞—Ç–Ω–æ—Å—Ç—å:</strong> –ú–æ–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å –ø–æ–ª—è –ø—Ä–∏–≤–∞—Ç–Ω—ã–º–∏ —Å –≥–µ—Ç—Ç–µ—Ä–∞–º–∏</p>
</li>
</ol>
<pre><code class="language-javascript">class Item {
  #price; // –ü—Ä–∏–≤–∞—Ç–Ω–æ–µ –ø–æ–ª–µ

  constructor(name, price) {
    this.name = name;
    this.#price = price;
  }

  get price() {
    return this.#price;
  }
}
</code></pre>
<h3 id="–ü–æ–¥—Ö–æ–¥-–∫-strategy"><a class="header" href="#–ü–æ–¥—Ö–æ–¥-–∫-strategy">–ü–æ–¥—Ö–æ–¥ –∫ Strategy</a></h3>
<pre><code class="language-javascript">// –í—ã–±–æ—Ä —Ñ–∞–±—Ä–∏–∫–∏ –∏–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π
const factory = Array.isArray(data) ? Item.fromTuple : Item.fromStruct;
return factory(data, options);
</code></pre>
<p>–≠—Ç–æ –Ω–∞—á–∞–ª–æ –ø–∞—Ç—Ç–µ—Ä–Ω–∞ Strategy - –≤—ã–±–æ—Ä –∞–ª–≥–æ—Ä–∏—Ç–º–∞ –∏–∑ –∫–æ–ª–ª–µ–∫—Ü–∏–∏ –Ω–∞ –æ—Å–Ω–æ–≤–µ –∫–ª—é—á–∞/—É—Å–ª–æ–≤–∏—è.</p>
<hr />
<h2 id="6-–†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥-4-–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π-–ø–æ–¥—Ö–æ–¥-—Å-–∑–∞–º—ã–∫–∞–Ω–∏—è–º–∏"><a class="header" href="#6-–†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥-4-–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π-–ø–æ–¥—Ö–æ–¥-—Å-–∑–∞–º—ã–∫–∞–Ω–∏—è–º–∏">6. –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ ‚Ññ4: –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –ø–æ–¥—Ö–æ–¥ —Å –∑–∞–º—ã–∫–∞–Ω–∏—è–º–∏</a></h2>
<h3 id="–ò–¥–µ—è"><a class="header" href="#–ò–¥–µ—è">–ò–¥–µ—è</a></h3>
<p>–í–º–µ—Å—Ç–æ —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –≤ –ø–æ–ª—è—Ö –æ–±—ä–µ–∫—Ç–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∑–∞–º—ã–∫–∞–Ω–∏—è (closures).</p>
<h3 id="–†–µ–∞–ª–∏–∑–∞—Ü–∏—è"><a class="header" href="#–†–µ–∞–ª–∏–∑–∞—Ü–∏—è">–†–µ–∞–ª–∏–∑–∞—Ü–∏—è</a></h3>
<pre><code class="language-javascript">// –§–∞–±—Ä–∏–∫–∞ –æ–±—ä–µ–∫—Ç–æ–≤ —Å –∑–∞–º—ã–∫–∞–Ω–∏—è–º–∏
function item(name, price, options = {}) {
  const { converter } = options;
  const normalizedPrice =
    typeof price === 'string' &amp;&amp; converter
      ? converter(price)
      : parseFloat(price);

  // –î–∞–Ω–Ω—ã–µ –≤ –∑–∞–º—ã–∫–∞–Ω–∏–∏
  const finalName = name;
  const finalPrice = normalizedPrice;

  // –í–æ–∑–≤—Ä–∞—â–∞–µ–º –æ–±—ä–µ–∫—Ç —Å –º–µ—Ç–æ–¥–∞–º–∏ –¥–æ—Å—Ç—É–ø–∞
  return {
    getName: () =&gt; finalName,
    getPrice: () =&gt; finalPrice
  };
}

// –§–∞–±—Ä–∏–∫–∏ –æ—Å—Ç–∞—é—Ç—Å—è –ø–æ—Ö–æ–∂–∏–º–∏
function fromStruct({ name, price, cost, ...options }) {
  return item(name, price ?? cost, options);
}

function fromTuple([name, price], options) {
  return item(name, price, options);
}

function fromData(data, options = {}) {
  const factory = Array.isArray(data) ? fromTuple : fromStruct;
  return factory(data, options);
}
</code></pre>
<h3 id="–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ-1"><a class="header" href="#–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ-1">–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ</a></h3>
<pre><code class="language-javascript">const items = rawData.map(data =&gt; fromData(data));
const prices = items.map(item =&gt; item.getPrice());
</code></pre>
<h3 id="–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞"><a class="header" href="#–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞">–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞</a></h3>
<ol>
<li><strong>–ò–º–º—É—Ç–∞–±–µ–ª—å–Ω–æ—Å—Ç—å:</strong> –î–∞–Ω–Ω—ã–µ –Ω–µ–ª—å–∑—è –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å –∏–∑–≤–Ω–µ</li>
<li><strong>–ò–Ω–∫–∞–ø—Å—É–ª—è—Ü–∏—è:</strong> –î–∞–Ω–Ω—ã–µ —Å–∫—Ä—ã—Ç—ã –≤ –∑–∞–º—ã–∫–∞–Ω–∏–∏</li>
<li><strong>–ó–∞—â–∏—Ç–∞:</strong> –ù–µ—Ç –ø—Ä—è–º–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞ –∫ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º</li>
</ol>
<h3 id="–†–µ–∑—É–ª—å—Ç–∞—Ç"><a class="header" href="#–†–µ–∑—É–ª—å—Ç–∞—Ç">–†–µ–∑—É–ª—å—Ç–∞—Ç</a></h3>
<pre><code class="language-javascript">console.log(item);
// { getName: [Function], getPrice: [Function] }
// –°–∞–º–∏ name –∏ price –Ω–µ –≤–∏–¥–Ω—ã
</code></pre>
<hr />
<h2 id="7-–†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥-5-–ü—Ä–æ—Ü–µ–¥—É—Ä–Ω—ã–π-–∫–æ–¥-—Ñ–∏–Ω–∞–ª—å–Ω–∞—è-–≤–µ—Ä—Å–∏—è"><a class="header" href="#7-–†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥-5-–ü—Ä–æ—Ü–µ–¥—É—Ä–Ω—ã–π-–∫–æ–¥-—Ñ–∏–Ω–∞–ª—å–Ω–∞—è-–≤–µ—Ä—Å–∏—è">7. –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ ‚Ññ5: –ü—Ä–æ—Ü–µ–¥—É—Ä–Ω—ã–π –∫–æ–¥ (—Ñ–∏–Ω–∞–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è)</a></h2>
<h3 id="–§–∏–ª–æ—Å–æ—Ñ–∏—è-–ø—Ä–æ—Ü–µ–¥—É—Ä–Ω–æ–≥–æ-—Å—Ç–∏–ª—è"><a class="header" href="#–§–∏–ª–æ—Å–æ—Ñ–∏—è-–ø—Ä–æ—Ü–µ–¥—É—Ä–Ω–æ–≥–æ-—Å—Ç–∏–ª—è">–§–∏–ª–æ—Å–æ—Ñ–∏—è –ø—Ä–æ—Ü–µ–¥—É—Ä–Ω–æ–≥–æ —Å—Ç–∏–ª—è</a></h3>
<p><strong>–ü–æ—á–µ–º—É –ø—Ä–æ—Ü–µ–¥—É—Ä–Ω—ã–π?</strong></p>
<ul>
<li>–ë–∞–ª–∞–Ω—Å –º–µ–∂–¥—É –§–ü –∏ –∏–º–ø–µ—Ä–∞—Ç–∏–≤–Ω—ã–º —Å—Ç–∏–ª–µ–º</li>
<li>–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —á–∏—Å—Ç—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π</li>
<li>–ù–µ –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä—É–µ–º state –Ω–∞—Ä—É–∂—É, –¥–µ–ª–∞–µ–º return</li>
<li>–î–æ–ø—É—Å–∫–∞—é—Ç—Å—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ (–≤ –æ—Ç–ª–∏—á–∏–µ –æ—Ç —á–∏—Å—Ç–æ–≥–æ –§–ü)</li>
</ul>
<p><strong>–û—Ç–ª–∏—á–∏–µ –æ—Ç —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–≥–æ:</strong></p>
<ul>
<li>–í –§–ü –Ω–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö - —Ç–æ–ª—å–∫–æ expressions</li>
<li>–í –§–ü —Ñ—É–Ω–∫—Ü–∏–∏ –æ—á–µ–Ω—å –º–∞–ª–µ–Ω—å–∫–∏–µ (–ø–æ 1 —Å—Ç—Ä–æ–∫–µ)</li>
<li>–í –ø—Ä–æ—Ü–µ–¥—É—Ä–Ω–æ–º –¥–æ–ø—É—Å—Ç–∏–º—ã if, for, –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ - –±–æ–ª–µ–µ —á–∏—Ç–∞–µ–º–æ</li>
</ul>
<h3 id="–ü—Ä–∏–Ω—Ü–∏–ø—ã"><a class="header" href="#–ü—Ä–∏–Ω—Ü–∏–ø—ã">–ü—Ä–∏–Ω—Ü–∏–ø—ã</a></h3>
<ol>
<li><strong>–ß–∏—Å—Ç—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏</strong> - –Ω–µ –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä—É—é—Ç –≤–Ω–µ—à–Ω–∏–π state</li>
<li><strong>Const –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é</strong> - –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —Ç–æ–ª—å–∫–æ –∫–æ–≥–¥–∞ –Ω—É–∂–Ω–æ</li>
<li><strong>–ü—Ä–æ—Å—Ç—ã–µ —Ü–∏–∫–ª—ã</strong> - <code>for</code> –≤–º–µ—Å—Ç–æ —Ä–µ–∫—É—Ä—Å–∏–∏</li>
<li><strong>–°—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö</strong> - –≤–æ–∑–≤—Ä–∞—â–∞–µ–º –æ–±—ä–µ–∫—Ç—ã, –∞ –Ω–µ —Ö—Ä–∞–Ω–∏–º –≤ –∑–∞–º—ã–∫–∞–Ω–∏—è—Ö</li>
</ol>
<h3 id="–†–µ–∞–ª–∏–∑–∞—Ü–∏—è-1"><a class="header" href="#–†–µ–∞–ª–∏–∑–∞—Ü–∏—è-1">–†–µ–∞–ª–∏–∑–∞—Ü–∏—è</a></h3>
<pre><code class="language-javascript">// –í—Å–µ–≥–¥–∞ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º –æ–±—ä–µ–∫—Ç –æ–¥–∏–Ω–∞–∫–æ–≤–æ–π —Ñ–æ—Ä–º—ã
function normalizeItem(data, options = {}) {
  const isTuple = Array.isArray(data);
  const obj = isTuple ? { name: data[0], price: data[1] } : data;
  const { name, price, cost } = obj;
  const value = price ?? cost;

  const { converter } = options;
  const normalizedPrice =
    typeof value === 'string' &amp;&amp; converter
      ? converter(value)
      : parseFloat(value);

  // –í—Å–µ–≥–¥–∞ –æ–¥–∏–Ω–∞–∫–æ–≤–∞—è —Ñ–æ—Ä–º–∞: { name: string, price: number }
  return { name, price: normalizedPrice };
}

function getPrice(item) {
  return item.price;
}
</code></pre>
<h3 id="–†–µ–∑—É–ª—å—Ç–∞—Ç-1"><a class="header" href="#–†–µ–∑—É–ª—å—Ç–∞—Ç-1">–†–µ–∑—É–ª—å—Ç–∞—Ç</a></h3>
<pre><code class="language-javascript">const normalized = rawData.map(data =&gt; normalizeItem(data));
const prices = normalized.map(getPrice);

console.table(normalized);
// –í—Å–µ –æ–±—ä–µ–∫—Ç—ã –∏–º–µ—é—Ç –æ–¥–∏–Ω–∞–∫–æ–≤—É—é —Ñ–æ—Ä–º—É { name, price }
</code></pre>
<h3 id="–ò—Ç–æ–≥–æ–≤—ã–µ-—Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏"><a class="header" href="#–ò—Ç–æ–≥–æ–≤—ã–µ-—Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏">–ò—Ç–æ–≥–æ–≤—ã–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏</a></h3>
<p>‚úÖ <strong>–ß–∏—Ç–∞–µ–º–æ—Å—Ç—å:</strong> –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω—ã–π –∫–æ–¥
‚úÖ <strong>–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:</strong> –æ–¥–Ω–∞ —Ñ–æ—Ä–º–∞ –æ–±—ä–µ–∫—Ç–æ–≤ ‚Üí V8 –æ–ø—Ç–∏–º–∏–∑–∏—Ä—É–µ—Ç
‚úÖ <strong>–¢–µ—Å—Ç–∏—Ä—É–µ–º–æ—Å—Ç—å:</strong> —á–∏—Å—Ç—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –ª–µ–≥–∫–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å
‚úÖ <strong>–ú–æ–¥–∏—Ñ–∏—Ü–∏—Ä—É–µ–º–æ—Å—Ç—å:</strong> –ø–æ–Ω—è—Ç–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞
‚úÖ <strong>–ù–∞–¥—ë–∂–Ω–æ—Å—Ç—å:</strong> consistent types</p>
<hr />
<h2 id="8-–ö–ª—é—á–µ–≤—ã–µ-–ø—Ä–∏–Ω—Ü–∏–ø—ã-–∏-–≤—ã–≤–æ–¥—ã"><a class="header" href="#8-–ö–ª—é—á–µ–≤—ã–µ-–ø—Ä–∏–Ω—Ü–∏–ø—ã-–∏-–≤—ã–≤–æ–¥—ã">8. –ö–ª—é—á–µ–≤—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã –∏ –≤—ã–≤–æ–¥—ã</a></h2>
<h3 id="–ü—Ä–∏–Ω—Ü–∏–ø-single-responsibility-srp"><a class="header" href="#–ü—Ä–∏–Ω—Ü–∏–ø-single-responsibility-srp">–ü—Ä–∏–Ω—Ü–∏–ø Single Responsibility (SRP)</a></h3>
<p><strong>–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ:</strong> –ö–∞–∂–¥–∞—è —Ñ—É–Ω–∫—Ü–∏—è/–∫–ª–∞—Å—Å –¥–æ–ª–∂–Ω—ã –∏–º–µ—Ç—å –æ–¥–Ω—É –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å.</p>
<p><strong>–ü—Ä–∏–º–µ—Ä –∏–∑ –ª–µ–∫—Ü–∏–∏:</strong></p>
<ul>
<li><code>normalizeItem</code> - —Ç–æ–ª—å–∫–æ –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è</li>
<li><code>getPrice</code> - —Ç–æ–ª—å–∫–æ –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ —Ü–µ–Ω—ã</li>
<li><code>fromStruct</code> - —Ç–æ–ª—å–∫–æ —Ä–∞–∑–±–æ—Ä –æ–±—ä–µ–∫—Ç–∞</li>
<li><code>fromTuple</code> - —Ç–æ–ª—å–∫–æ —Ä–∞–∑–±–æ—Ä –º–∞—Å—Å–∏–≤–∞</li>
</ul>
<h3 id="–ü—Ä–∏–Ω—Ü–∏–ø-separation-of-concerns-soc"><a class="header" href="#–ü—Ä–∏–Ω—Ü–∏–ø-separation-of-concerns-soc">–ü—Ä–∏–Ω—Ü–∏–ø Separation of Concerns (SoC)</a></h3>
<p><strong>–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ:</strong> –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –∑–∞–¥–∞—á - –∫–∞–∂–¥—ã–π —É–∑–µ–ª —Å–∏—Å—Ç–µ–º—ã –≤—ã–ø–æ–ª–Ω—è–µ—Ç –æ–¥–Ω—É –∑–∞–¥–∞—á—É.</p>
<p><strong>–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ:</strong></p>
<ul>
<li>–ò–∑–æ–ª–∏—Ä–æ–≤–∞—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É —Å—ã—Ä—ã—Ö –¥–∞–Ω–Ω—ã—Ö –æ—Ç –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏</li>
<li>–†–∞–∑–¥–µ–ª–∏—Ç—å raw –∏ normalized –¥–∞–Ω–Ω—ã–µ</li>
<li>–õ–æ–≥–∏–∫–∞ –ø—Ä–æ–≤–µ—Ä–æ–∫ –Ω–µ –ø—Ä–æ–Ω–∏–∫–∞–µ—Ç –≤ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫—É</li>
</ul>
<h3 id="weak-contracts-vs-strong-contracts"><a class="header" href="#weak-contracts-vs-strong-contracts">Weak Contracts vs Strong Contracts</a></h3>
<p><strong>Weak Contracts (–ø–ª–æ—Ö–æ):</strong></p>
<pre><code class="language-javascript">// –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å —Å—ã—Ä—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏
function businessLogic(rawData) {
  if (Array.isArray(rawData)) { /* ... */ }
  if (typeof rawData.price === 'string') { /* ... */ }
  // –ü—Ä–æ–≤–µ—Ä–∫–∏ —Ä–∞–∑–º–∞–∑–∞–Ω—ã –ø–æ –≤—Å–µ–º—É –∫–æ–¥—É
}
</code></pre>
<p><strong>Strong Contracts (—Ö–æ—Ä–æ—à–æ):</strong></p>
<pre><code class="language-javascript">// –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –Ω–∞ –≤—Ö–æ–¥–µ
const normalized = rawData.map(normalizeItem);

// –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å —á–∏—Å—Ç—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏
function businessLogic(normalizedData) {
  // –ù–∏–∫–∞–∫–∏—Ö –ø—Ä–æ–≤–µ—Ä–æ–∫ - –¥–∞–Ω–Ω—ã–µ —É–∂–µ –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω—ã
  return normalizedData.map(item =&gt; item.price * 1.2);
}
</code></pre>
<h3 id="–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è-–¥–ª—è-v8"><a class="header" href="#–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è-–¥–ª—è-v8">–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –¥–ª—è V8</a></h3>
<p><strong>–ü—Ä–∞–≤–∏–ª–∞:</strong></p>
<ol>
<li><strong>–û–¥–Ω–∞ —Ñ–æ—Ä–º–∞ –æ–±—ä–µ–∫—Ç–∞</strong> - –≤—Å–µ–≥–¥–∞ { name, price } –≤ –æ–¥–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ</li>
<li><strong>–ù–µ –º–µ–Ω—è—Ç—å —Ñ–æ—Ä–º—É</strong> - –Ω–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å delete, –Ω–µ –¥–æ–±–∞–≤–ª—è—Ç—å –ø–æ–ª—è</li>
<li><strong>–ù–µ —Å–º–µ—à–∏–≤–∞—Ç—å —Ç–∏–ø—ã</strong> - –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –≤—Å–µ–≥–¥–∞ –æ–¥–∏–Ω —Ç–∏–ø</li>
<li><strong>–ò–∑–±–µ–≥–∞—Ç—å –¥—ã—Ä—è–≤—ã—Ö –º–∞—Å—Å–∏–≤–æ–≤</strong> - –Ω–µ delete –∏–∑ –º–∞—Å—Å–∏–≤–æ–≤</li>
<li><strong>Const &gt; let &gt; var</strong> - –ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–æ—Å—Ç—å –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ç–æ—Ä–∞</li>
<li><strong>–ú–µ–Ω—å—à–µ 4 —Ñ–æ—Ä–º</strong> - –∏–Ω–∞—á–µ –º–µ–≥–∞–º–æ—Ä—Ñ–Ω—ã–π –∫–æ–¥</li>
</ol>
<h3 id="–ë–∞–ª–∞–Ω—Å-—Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫"><a class="header" href="#–ë–∞–ª–∞–Ω—Å-—Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫">–ë–∞–ª–∞–Ω—Å —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫</a></h3>
<p>–ö–æ–¥ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å:</p>
<ul>
<li>‚úÖ –ß–∏—Ç–∞–µ–º—ã–π</li>
<li>‚úÖ –ù–∞–¥—ë–∂–Ω—ã–π</li>
<li>‚úÖ –°—Ç–∞–±–∏–ª—å–Ω—ã–π</li>
<li>‚úÖ –ü–æ–Ω—è—Ç–Ω—ã–π</li>
<li>‚úÖ –ú–æ–¥–∏—Ñ–∏—Ü–∏—Ä—É–µ–º—ã–π</li>
<li>‚úÖ –¢–µ—Å—Ç–∏—Ä—É–µ–º—ã–π</li>
<li>‚úÖ –î–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π</li>
</ul>
<p><strong>–ù–µ –Ω–∞–¥–æ:</strong> –ñ–µ—Ä—Ç–≤–æ–≤–∞—Ç—å –≤—Å–µ–º —Ä–∞–¥–∏ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –∏–ª–∏ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π –∫—Ä–∞—Å–æ—Ç—ã.</p>
<hr />
<h2 id="9-–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ-—Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏"><a class="header" href="#9-–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ-—Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏">9. –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏</a></h2>
<h3 id="–ß—Ç–æ-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å"><a class="header" href="#–ß—Ç–æ-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å">–ß—Ç–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å</a></h3>
<h4 id="-–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å-–≤—Å–µ–≥–¥–∞"><a class="header" href="#-–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å-–≤—Å–µ–≥–¥–∞">‚úÖ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤—Å–µ–≥–¥–∞</a></h4>
<ul>
<li><code>const</code> –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é</li>
<li>–°—Ç—Ä–æ–≥–æ–µ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ (<code>===</code>, <code>!==</code>)</li>
<li>–Ø–≤–Ω–æ–µ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ —Ç–∏–ø–æ–≤ (<code>Number()</code>, <code>String()</code>)</li>
<li>–ß–∏—Å—Ç—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏</li>
<li>Consistent object shapes</li>
<li>–†–∞–∑–¥–µ–ª–µ–Ω–∏–µ raw –∏ normalized –¥–∞–Ω–Ω—ã—Ö</li>
</ul>
<h4 id="-–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å-–æ—Å—Ç–æ—Ä–æ–∂–Ω–æ"><a class="header" href="#-–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å-–æ—Å—Ç–æ—Ä–æ–∂–Ω–æ">‚ö†Ô∏è –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ—Å—Ç–æ—Ä–æ–∂–Ω–æ</a></h4>
<ul>
<li><code>let</code> - —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –Ω—É–∂–Ω–∞ –º—É—Ç–∞—Ü–∏—è</li>
<li>–¢–µ—Ä–Ω–∞—Ä–Ω—ã–µ –æ–ø–µ—Ä–∞—Ç–æ—Ä—ã - —Ç–æ–ª—å–∫–æ –æ–¥–Ω–æ—Å—Ç—Ä–æ—á–Ω—ã–µ</li>
<li>–ò–º–µ–Ω–æ–≤–∞–Ω–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã - –≤ –≤—ã—Å–æ–∫–æ—É—Ä–æ–≤–Ω–µ–≤–æ–º –∫–æ–¥–µ</li>
<li>–ö–ª–∞—Å—Å—ã - –∫–æ–≥–¥–∞ –ø–æ–¥—Ö–æ–¥—è—Ç –ø–∞—Ç—Ç–µ—Ä–Ω—ã –û–û–ü</li>
</ul>
<h4 id="-–ò–∑–±–µ–≥–∞—Ç—å"><a class="header" href="#-–ò–∑–±–µ–≥–∞—Ç—å">‚ùå –ò–∑–±–µ–≥–∞—Ç—å</a></h4>
<ul>
<li><code>var</code></li>
<li><code>==</code> –∏ <code>!=</code></li>
<li><code>delete</code> –Ω–∞ –æ–±—ä–µ–∫—Ç–∞—Ö</li>
<li>–ù–µ—è–≤–Ω–æ–µ –ø—Ä–∏–≤–µ–¥–µ–Ω–∏–µ —Ç–∏–ø–æ–≤ (<code>+str</code>, <code>str * 1</code>)</li>
<li>–ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ–µ –ø—Ä–∏—Å–≤–æ–µ–Ω–∏–µ (<code>a = b = c</code>)</li>
<li>–ú–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏—è –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤ —Ñ—É–Ω–∫—Ü–∏–∏</li>
<li>Closures, –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä—É—é—â–∏–µ –≤–Ω–µ—à–Ω–∏–π scope</li>
<li>–î–µ—Å—Ç—Ä—É–∫—Ç—É—Ä–∏–∑–∞—Ü–∏—è –º–∞—Å—Å–∏–≤–æ–≤ –∫–∞–∫ tuples</li>
<li>–ú–∞—Å—Å–∏–≤—ã —Å —ç–ª–µ–º–µ–Ω—Ç–∞–º–∏ —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–æ–≤</li>
<li>–ò–∑–º–µ–Ω–µ–Ω–∏–µ —Ç–∏–ø–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π</li>
</ul>
<h3 id="–ö–æ–≥–¥–∞-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å-—Ä–∞–∑–Ω—ã–µ-—Å—Ç–∏–ª–∏"><a class="header" href="#–ö–æ–≥–¥–∞-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å-—Ä–∞–∑–Ω—ã–µ-—Å—Ç–∏–ª–∏">–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ä–∞–∑–Ω—ã–µ —Å—Ç–∏–ª–∏</a></h3>
<div class="table-wrapper"><table><thead><tr><th>–°—Ç–∏–ª—å</th><th>–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å</th></tr></thead><tbody>
<tr><td><strong>–ü—Ä–æ—Ü–µ–¥—É—Ä–Ω—ã–π</strong></td><td>–û—Å–Ω–æ–≤–Ω–æ–π —Å—Ç–∏–ª—å –¥–ª—è –ø—Ä–∏–∫–ª–∞–¥–Ω–æ–≥–æ –∫–æ–¥–∞. –ë–∞–ª–∞–Ω—Å —á–∏—Ç–∞–µ–º–æ—Å—Ç–∏ –∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏.</td></tr>
<tr><td><strong>–û–û–ü (–∫–ª–∞—Å—Å—ã)</strong></td><td>–ü–∞—Ç—Ç–µ—Ä–Ω—ã, —Ç—Ä–µ–±—É—é—â–∏–µ –∏–Ω–∫–∞–ø—Å—É–ª—è—Ü–∏–∏ –∏ –ø–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º–∞. –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–±—Ä–∏–∫–∏.</td></tr>
<tr><td><strong>–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π</strong></td><td>–ö–æ–≥–¥–∞ –Ω—É–∂–Ω–∞ –∏–º–º—É—Ç–∞–±–µ–ª—å–Ω–æ—Å—Ç—å –∏ –∑–∞—â–∏—Ç–∞ –¥–∞–Ω–Ω—ã—Ö. –ö–æ–º–ø–æ–∑–∏—Ü–∏—è —Ñ—É–Ω–∫—Ü–∏–π.</td></tr>
</tbody></table>
</div>
<h3 id="subset-javascript"><a class="header" href="#subset-javascript">Subset JavaScript</a></h3>
<p><strong>–§–∏–ª–æ—Å–æ—Ñ–∏—è:</strong> –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–æ–¥–º–Ω–æ–∂–µ—Å—Ç–≤–æ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π JavaScript, –∞ –Ω–µ –≤—Å—é –º–æ—â—å —è–∑—ã–∫–∞.</p>
<p><strong>–ü–æ—á–µ–º—É:</strong></p>
<ul>
<li>–ü–æ–≤—ã—à–∞–µ—Ç –ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–æ—Å—Ç—å</li>
<li>–£–ø—Ä–æ—â–∞–µ—Ç —á—Ç–µ–Ω–∏–µ –∫–æ–¥–∞</li>
<li>–ü–æ–º–æ–≥–∞–µ—Ç V8 –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å</li>
<li>–°–Ω–∏–∂–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ—à–∏–±–æ–∫</li>
</ul>
<hr />
<h2 id="10-–¢–∏–ø–∏—á–Ω—ã–µ-–æ—à–∏–±–∫–∏-–∏-–∫–∞–∫-–∏—Ö-–∏–∑–±–µ–∂–∞—Ç—å"><a class="header" href="#10-–¢–∏–ø–∏—á–Ω—ã–µ-–æ—à–∏–±–∫–∏-–∏-–∫–∞–∫-–∏—Ö-–∏–∑–±–µ–∂–∞—Ç—å">10. –¢–∏–ø–∏—á–Ω—ã–µ –æ—à–∏–±–∫–∏ –∏ –∫–∞–∫ –∏—Ö –∏–∑–±–µ–∂–∞—Ç—å</a></h2>
<h3 id="–û—à–∏–±–∫–∞-1-–ü–µ—Ä–µ—É—Å–ª–æ–∂–Ω–µ–Ω–∏–µ"><a class="header" href="#–û—à–∏–±–∫–∞-1-–ü–µ—Ä–µ—É—Å–ª–æ–∂–Ω–µ–Ω–∏–µ">–û—à–∏–±–∫–∞ 1: –ü–µ—Ä–µ—É—Å–ª–æ–∂–Ω–µ–Ω–∏–µ</a></h3>
<pre><code class="language-javascript">// –ü–ª–æ—Ö–æ: –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π JS
const price = options?.converter?.(value) ?? +value || parseFloat(value);

// –•–æ—Ä–æ—à–æ: –ø—Ä–æ—Å—Ç–æ–π –∏ –ø–æ–Ω—è—Ç–Ω—ã–π –∫–æ–¥
const price = options.converter
  ? options.converter(value)
  : parseFloat(value);
</code></pre>
<h3 id="–û—à–∏–±–∫–∞-2-–ò–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ-—Ñ–æ—Ä–º—ã-–æ–±—ä–µ–∫—Ç–æ–≤"><a class="header" href="#–û—à–∏–±–∫–∞-2-–ò–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ-—Ñ–æ—Ä–º—ã-–æ–±—ä–µ–∫—Ç–æ–≤">–û—à–∏–±–∫–∞ 2: –ò–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ–æ—Ä–º—ã –æ–±—ä–µ–∫—Ç–æ–≤</a></h3>
<pre><code class="language-javascript">// –ü–ª–æ—Ö–æ: —Ä–∞–∑–Ω—ã–µ —Ñ–æ—Ä–º—ã
const items = [
  { name: 'A', price: 10 },
  { price: 20, name: 'B' }, // –î—Ä—É–≥–æ–π –ø–æ—Ä—è–¥–æ–∫ –ø–æ–ª–µ–π!
  { name: 'C', cost: 30 }   // –î—Ä—É–≥–æ–µ –ø–æ–ª–µ!
];

// –•–æ—Ä–æ—à–æ: –≤—Å–µ–≥–¥–∞ –æ–¥–Ω–∞ —Ñ–æ—Ä–º–∞
const normalizeItem = (raw) =&gt; ({
  name: raw.name,
  price: raw.price ?? raw.cost
});
const items = rawData.map(normalizeItem);
</code></pre>
<h3 id="–û—à–∏–±–∫–∞-3-–°–º–µ—à–µ–Ω–∏–µ-–æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–µ–π"><a class="header" href="#–û—à–∏–±–∫–∞-3-–°–º–µ—à–µ–Ω–∏–µ-–æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–µ–π">–û—à–∏–±–∫–∞ 3: –°–º–µ—à–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–µ–π</a></h3>
<pre><code class="language-javascript">// –ü–ª–æ—Ö–æ: —Ñ—É–Ω–∫—Ü–∏—è –¥–µ–ª–∞–µ—Ç –≤—Å—ë
function processAndSave(rawData) {
  // –í–∞–ª–∏–¥–∞—Ü–∏—è
  // –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è
  // –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞
  // –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ –ë–î
}

// –•–æ—Ä–æ—à–æ: —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ
function validate(data) { /* ... */ }
function normalize(data) { /* ... */ }
function process(data) { /* ... */ }
function save(data) { /* ... */ }

// –ö–æ–º–ø–æ–∑–∏—Ü–∏—è
const result = save(process(normalize(validate(rawData))));
</code></pre>
<h3 id="–û—à–∏–±–∫–∞-4-–ü—Ä–æ–≤–µ—Ä–∫–∏-–≤-–±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–µ"><a class="header" href="#–û—à–∏–±–∫–∞-4-–ü—Ä–æ–≤–µ—Ä–∫–∏-–≤-–±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–µ">–û—à–∏–±–∫–∞ 4: –ü—Ä–æ–≤–µ—Ä–∫–∏ –≤ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–µ</a></h3>
<pre><code class="language-javascript">// –ü–ª–æ—Ö–æ
function calculateDiscount(item) {
  if (!item.price) return 0;
  if (typeof item.price === 'string') {
    item.price = parseFloat(item.price);
  }
  return item.price * 0.1;
}

// –•–æ—Ä–æ—à–æ: –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –Ω–∞ –≤—Ö–æ–¥–µ
function calculateDiscount(item) {
  // item.price –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ number
  return item.price * 0.1;
}
</code></pre>
<hr />
<h2 id="11-–°–≤—è–∑—å-—Å-–ø–∞—Ç—Ç–µ—Ä–Ω–∞–º–∏-–ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è"><a class="header" href="#11-–°–≤—è–∑—å-—Å-–ø–∞—Ç—Ç–µ—Ä–Ω–∞–º–∏-–ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è">11. –°–≤—è–∑—å —Å –ø–∞—Ç—Ç–µ—Ä–Ω–∞–º–∏ –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è</a></h2>
<p>–≠—Ç–∞ –ª–µ–∫—Ü–∏—è –∑–∞–∫–ª–∞–¥—ã–≤–∞–µ—Ç –æ—Å–Ω–æ–≤—É –¥–ª—è –∏–∑—É—á–µ–Ω–∏—è –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤:</p>
<h3 id="strategy-–Ω–∞—á–∞–ª–æ-–≤-–†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–µ-3"><a class="header" href="#strategy-–Ω–∞—á–∞–ª–æ-–≤-–†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–µ-3">Strategy (–Ω–∞—á–∞–ª–æ –≤ –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–µ ‚Ññ3)</a></h3>
<pre><code class="language-javascript">// –í—ã–±–æ—Ä —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ –Ω–∞ –æ—Å–Ω–æ–≤–µ –¥–∞–Ω–Ω—ã—Ö
const factory = Array.isArray(data) ? fromTuple : fromStruct;
return factory(data);
</code></pre>
<h3 id="factory-method"><a class="header" href="#factory-method">Factory Method</a></h3>
<pre><code class="language-javascript">// –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–±—Ä–∏–∫–∏ - —Ä–∞–∑–Ω–æ–≤–∏–¥–Ω–æ—Å—Ç—å Factory
static fromStruct(data) { /* ... */ }
static fromTuple(data) { /* ... */ }
static fromData(data) { /* ... */ }
</code></pre>
<h3 id="solid-–ø—Ä–∏–Ω—Ü–∏–ø—ã"><a class="header" href="#solid-–ø—Ä–∏–Ω—Ü–∏–ø—ã">SOLID –ø—Ä–∏–Ω—Ü–∏–ø—ã</a></h3>
<ul>
<li><strong>S</strong> - Single Responsibility (—Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ normalizeItem –∏ getPrice)</li>
<li><strong>O</strong> - Open/Closed (—Ñ–∞–±—Ä–∏–∫–∏ –º–æ–∂–Ω–æ —Ä–∞—Å—à–∏—Ä—è—Ç—å)</li>
<li><strong>L</strong> - Liskov Substitution (–≤—Å–µ —Ñ–∞–±—Ä–∏–∫–∏ –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç —Å–æ–≤–º–µ—Å—Ç–∏–º—ã–µ –æ–±—ä–µ–∫—Ç—ã)</li>
<li><strong>I</strong> - Interface Segregation (–º–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã)</li>
<li><strong>D</strong> - Dependency Inversion (options injection)</li>
</ul>
<hr />
<h2 id="12-–†–µ–∑—é–º–µ"><a class="header" href="#12-–†–µ–∑—é–º–µ">12. –†–µ–∑—é–º–µ</a></h2>
<h3 id="–ì–ª–∞–≤–Ω—ã–µ-–≤—ã–≤–æ–¥—ã"><a class="header" href="#–ì–ª–∞–≤–Ω—ã–µ-–≤—ã–≤–æ–¥—ã">–ì–ª–∞–≤–Ω—ã–µ –≤—ã–≤–æ–¥—ã</a></h3>
<ol>
<li>
<p><strong>–ë–∞–ª–∞–Ω—Å –≤–∞–∂–Ω–µ–µ –∫—Ä–∞–π–Ω–æ—Å—Ç–µ–π</strong> - –Ω—É–∂–µ–Ω –∫–æ–º–ø—Ä–æ–º–∏—Å—Å –º–µ–∂–¥—É –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å—é –∏ —á–∏—Ç–∞–µ–º–æ—Å—Ç—å—é</p>
</li>
<li>
<p><strong>–†–∞–∑–¥–µ–ª—è–π –∏ –≤–ª–∞—Å—Ç–≤—É–π</strong> - –¥–µ–∫–æ–º–ø–æ–∑–∏—Ü–∏—è —É–ª—É—á—à–∞–µ—Ç –≤—Å–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ –∫–æ–¥–∞</p>
</li>
<li>
<p><strong>–ò–∑–æ–ª–∏—Ä—É–π —Å–ª–æ–∂–Ω–æ—Å—Ç—å</strong> - –ø—Ä–æ–≤–µ—Ä–∫–∏ –∏ –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –Ω–∞ –≤—Ö–æ–¥–µ, —á–∏—Å—Ç–∞—è –ª–æ–≥–∏–∫–∞ –≤–Ω—É—Ç—Ä–∏</p>
</li>
<li>
<p><strong>–ö–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö</strong> - –æ–¥–Ω–∞ —Ñ–æ—Ä–º–∞ –æ–±—ä–µ–∫—Ç–æ–≤, predictable types</p>
</li>
<li>
<p><strong>Subset &gt; Full power</strong> - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø—Ä–æ—Å—Ç–æ–µ –ø–æ–¥–º–Ω–æ–∂–µ—Å—Ç–≤–æ JS, –∞ –Ω–µ –≤—Å–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏</p>
</li>
</ol>
<h3 id="–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–π-—á–µ–∫–ª–∏—Å—Ç"><a class="header" href="#–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–π-—á–µ–∫–ª–∏—Å—Ç">–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–π —á–µ–∫–ª–∏—Å—Ç</a></h3>
<p>–ü—Ä–∏ –Ω–∞–ø–∏—Å–∞–Ω–∏–∏ –∫–æ–¥–∞ –ø—Ä–æ–≤–µ—Ä—è–π—Ç–µ:</p>
<ul>
<li><input disabled="" type="checkbox"/>
–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è <code>const</code> –≤–µ–∑–¥–µ, –≥–¥–µ –≤–æ–∑–º–æ–∂–Ω–æ</li>
<li><input disabled="" type="checkbox"/>
–°—Ç—Ä–æ–≥–æ–µ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ (<code>===</code>, <code>!==</code>)</li>
<li><input disabled="" type="checkbox"/>
–û–¥–Ω–∞ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å –Ω–∞ —Ñ—É–Ω–∫—Ü–∏—é</li>
<li><input disabled="" type="checkbox"/>
–ù–µ—Ç –¥—É–ø–ª–∏–∫–∞—Ü–∏–∏ –∫–æ–¥–∞</li>
<li><input disabled="" type="checkbox"/>
–°—ã—Ä—ã–µ –¥–∞–Ω–Ω—ã–µ –Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω—ã –Ω–∞ –≤—Ö–æ–¥–µ</li>
<li><input disabled="" type="checkbox"/>
–û–±—ä–µ–∫—Ç—ã –∏–º–µ—é—Ç –æ–¥–∏–Ω–∞–∫–æ–≤—É—é —Ñ–æ—Ä–º—É</li>
<li><input disabled="" type="checkbox"/>
–ù–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ñ–æ—Ä–º—ã –æ–±—ä–µ–∫—Ç–æ–≤</li>
<li><input disabled="" type="checkbox"/>
–Ø–≤–Ω–æ–µ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ —Ç–∏–ø–æ–≤</li>
<li><input disabled="" type="checkbox"/>
–ß–∏—Å—Ç—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ (–Ω–µ –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä—É—é—Ç –≤–Ω–µ—à–Ω–∏–π state)</li>
<li><input disabled="" type="checkbox"/>
Consistent return types</li>
</ul>
<h3 id="–î–∞–ª—å–Ω–µ–π—à–µ–µ-–∏–∑—É—á–µ–Ω–∏–µ"><a class="header" href="#–î–∞–ª—å–Ω–µ–π—à–µ–µ-–∏–∑—É—á–µ–Ω–∏–µ">–î–∞–ª—å–Ω–µ–π—à–µ–µ –∏–∑—É—á–µ–Ω–∏–µ</a></h3>
<p><strong>–î–ª—è —É–≥–ª—É–±–ª–µ–Ω–∏—è:</strong></p>
<ul>
<li>–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ V8 (—Å–∫—Ä—ã—Ç—ã–µ –∫–ª–∞—Å—Å—ã, inline caching)</li>
<li>SOLID –∏ GRASP –ø—Ä–∏–Ω—Ü–∏–ø—ã</li>
<li>–ü–∞—Ç—Ç–µ—Ä–Ω—ã –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–∞ JavaScript/TypeScript</li>
<li>–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ</li>
<li>TypeScript advanced types</li>
</ul>
<hr />
<h2 id="–°—Å—ã–ª–∫–∏-–∏-–º–∞—Ç–µ—Ä–∏–∞–ª—ã"><a class="header" href="#–°—Å—ã–ª–∫–∏-–∏-–º–∞—Ç–µ—Ä–∏–∞–ª—ã">–°—Å—ã–ª–∫–∏ –∏ –º–∞—Ç–µ—Ä–∏–∞–ª—ã</a></h2>
<p><strong>–ò–∑ –ª–µ–∫—Ü–∏–∏ —É–ø–æ–º–∏–Ω–∞–ª–∏—Å—å:</strong></p>
<ul>
<li>–ë–ª–æ–≥ –í—è—á–µ—Å–ª–∞–≤–∞ –ï–≥–æ—Ä–æ–≤–∞ (—Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫ V8) - –ø—Ä–æ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω—ã</li>
<li>–°—Ç–∞—Ç—å–∏ –ø—Ä–æ —Å–∫—Ä—ã—Ç—ã–µ –∫–ª–∞—Å—Å—ã –∏ inline caching</li>
<li>–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –≤–∏–¥–µ–æ –∏ —Å—Ç—Ä–∏–º—ã –ø–æ –ø–∞—Ç—Ç–µ—Ä–Ω–∞–º</li>
</ul>
<p><strong>–ö–æ–¥ –∏–∑ –ª–µ–∫—Ü–∏–∏:</strong></p>
<ul>
<li>–ò—Å—Ö–æ–¥–Ω–∏–∫–∏ –≤—Å–µ—Ö –ø—Ä–∏–º–µ—Ä–æ–≤ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞</li>
<li>–ó–∞–¥–∞—á–∏ –¥–ª—è —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ–π —Ä–∞–±–æ—Ç—ã</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="-–ü—Ä–∏–Ω—Ü–∏–ø—ã-grasp-—Å-–∞–¥–∞–ø—Ç–∞—Ü–∏–µ–π-–¥–ª—è-javascript-–∏-nodejs"><a class="header" href="#-–ü—Ä–∏–Ω—Ü–∏–ø—ã-grasp-—Å-–∞–¥–∞–ø—Ç–∞—Ü–∏–µ–π-–¥–ª—è-javascript-–∏-nodejs">üìö –ü—Ä–∏–Ω—Ü–∏–ø—ã GRASP —Å –∞–¥–∞–ø—Ç–∞—Ü–∏–µ–π –¥–ª—è JavaScript –∏ Node.js</a></h1>
<blockquote>
<p><strong>–ö–æ–Ω—Å–ø–µ–∫—Ç –ª–µ–∫—Ü–∏–∏ –æ –ø—Ä–∏–Ω—Ü–∏–ø–∞—Ö —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ –≤ –ø—Ä–æ–≥—Ä–∞–º–º–Ω–æ–º –æ–±–µ—Å–ø–µ—á–µ–Ω–∏–∏</strong></p>
</blockquote>
<h2 id="-–í–≤–µ–¥–µ–Ω–∏–µ"><a class="header" href="#-–í–≤–µ–¥–µ–Ω–∏–µ">üéØ –í–≤–µ–¥–µ–Ω–∏–µ</a></h2>
<p><strong>GRASP</strong> (General Responsibility Assignment Software Patterns) ‚Äî —ç—Ç–æ –Ω–∞–±–æ—Ä –∏–∑ <strong>9 –ø—Ä–∏–Ω—Ü–∏–ø–æ–≤</strong> —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ –≤ –ø—Ä–æ–≥—Ä–∞–º–º–Ω–æ–º –æ–±–µ—Å–ø–µ—á–µ–Ω–∏–∏. –û–Ω–∏ —Ç–∞–∫–∂–µ –Ω–∞–∑—ã–≤–∞—é—Ç—Å—è —à–∞–±–ª–æ–Ω–∞–º–∏, –Ω–æ —Å–º—ã—Å–ª –∏—Ö –Ω–µ–º–Ω–æ–≥–æ –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è –æ—Ç –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–∏—Ö —à–∞–±–ª–æ–Ω–æ–≤ –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è "–±–∞–Ω–¥—ã —á–µ—Ç—ã—Ä—ã—Ö" (Gang of Four).</p>
<h3 id="-–û–±-—ç—Ç–æ–º-–∫—É—Ä—Å–µ"><a class="header" href="#-–û–±-—ç—Ç–æ–º-–∫—É—Ä—Å–µ">üí° –û–± —ç—Ç–æ–º –∫—É—Ä—Å–µ</a></h3>
<p>–ü—Ä–∏–Ω—Ü–∏–ø—ã GRASP –ø—Ä–∏—à–ª–∏ –∏–∑ –æ–±—ä–µ–∫—Ç–Ω–æ-–æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è, –Ω–æ –∏—Ö –º–æ–∂–Ω–æ –ø—Ä–∏–º–µ–Ω—è—Ç—å –∏ –≤ –¥—Ä—É–≥–∏—Ö –ø–∞—Ä–∞–¥–∏–≥–º–∞—Ö. –í –¥–∞–Ω–Ω–æ–º –∫—É—Ä—Å–µ –º—ã –∞–¥–∞–ø—Ç–∏—Ä—É–µ–º —ç—Ç–∏ –ø—Ä–∏–Ω—Ü–∏–ø—ã –¥–ª—è <strong>JavaScript</strong> –∏ <strong>Node.js</strong>.</p>
<h3 id="-–ò—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∞—è-—Å–ø—Ä–∞–≤–∫–∞"><a class="header" href="#-–ò—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∞—è-—Å–ø—Ä–∞–≤–∫–∞">üìñ –ò—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∞—è —Å–ø—Ä–∞–≤–∫–∞</a></h3>
<p>–ü—Ä–∏–Ω—Ü–∏–ø—ã GRASP –±—ã–ª–∏ –≤–ø–µ—Ä–≤—ã–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω—ã <strong>–ö—Ä—ç–≥–æ–º –õ–∞—Ä–º–∞–Ω–æ–º</strong> (Craig Larman) –≤ –∫–Ω–∏–≥–µ <em>"Applying UML and Patterns: An Introduction to Object-Oriented Analysis and Design"</em>.</p>
<blockquote>
<p><strong>üí° –í–∞–∂–Ω–æ–µ –∑–∞–º–µ—á–∞–Ω–∏–µ:</strong> –î–∞–∂–µ –µ—Å–ª–∏ –≤—ã –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ —Å–ª—ã—à–∞–ª–∏ –æ GRASP, –≤—ã, –≤–µ—Ä–æ—è—Ç–Ω–æ, —É–∂–µ –ø—Ä–∏–º–µ–Ω—è–ª–∏ —ç—Ç–∏ –ø—Ä–∏–Ω—Ü–∏–ø—ã –∏–Ω—Ç—É–∏—Ç–∏–≤–Ω–æ. –≠—Ç–æ —Å–∏—Å—Ç–µ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –æ–ø—ã—Ç, –∫–æ—Ç–æ—Ä—ã–π –ö—Ä—ç–≥ –õ–∞—Ä–º–∞–Ω —Ñ–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–ª –∏ –æ–ø–∏—Å–∞–ª.</p>
</blockquote>
<h3 id="-–°–ø–∏—Å–æ–∫-–∏–∑-9-–ø—Ä–∏–Ω—Ü–∏–ø–æ–≤-grasp"><a class="header" href="#-–°–ø–∏—Å–æ–∫-–∏–∑-9-–ø—Ä–∏–Ω—Ü–∏–ø–æ–≤-grasp">üìã –°–ø–∏—Å–æ–∫ –∏–∑ 9 –ø—Ä–∏–Ω—Ü–∏–ø–æ–≤ GRASP</a></h3>
<div class="table-wrapper"><table><thead><tr><th>‚Ññ</th><th>–ü—Ä–∏–Ω—Ü–∏–ø</th><th>–ù–∞–∑–≤–∞–Ω–∏–µ –Ω–∞ —Ä—É—Å—Å–∫–æ–º</th><th>–û—Å–Ω–æ–≤–Ω–∞—è –∑–∞–¥–∞—á–∞</th></tr></thead><tbody>
<tr><td>1</td><td><strong>Information Expert</strong></td><td>–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã–π —ç–∫—Å–ø–µ—Ä—Ç</td><td>–†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏</td></tr>
<tr><td>2</td><td><strong>Creator</strong></td><td>–°–æ–∑–¥–∞—Ç–µ–ª—å</td><td>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ–∑–¥–∞–Ω–∏–µ–º –æ–±—ä–µ–∫—Ç–æ–≤</td></tr>
<tr><td>3</td><td><strong>Low Coupling</strong></td><td>–ù–∏–∑–∫–æ–µ –∑–∞—Ü–µ–ø–ª–µ–Ω–∏–µ</td><td>–ú–∏–Ω–∏–º–∏–∑–∞—Ü–∏—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π</td></tr>
<tr><td>4</td><td><strong>High Cohesion</strong></td><td>–í—ã—Å–æ–∫–∞—è —Å–≤—è–∑–Ω–æ—Å—Ç—å</td><td>–£—Å–∏–ª–µ–Ω–∏–µ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–π —Å–≤—è–∑–∏</td></tr>
<tr><td>5</td><td><strong>Controller</strong></td><td>–ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä</td><td>–ò–∑–æ–ª—è—Ü–∏—è –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏</td></tr>
<tr><td>6</td><td><strong>Polymorphism</strong></td><td>–ü–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º</td><td>–ó–∞–º–µ–Ω–∞ —É—Å–ª–æ–≤–∏–π –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ–º</td></tr>
<tr><td>7</td><td><strong>Indirection</strong></td><td>–ü–æ—Å—Ä–µ–¥–Ω–∏–∫</td><td>–°–Ω–∏–∂–µ–Ω–∏–µ –ø—Ä—è–º—ã—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π</td></tr>
<tr><td>8</td><td><strong>Pure Fabrication</strong></td><td>–ß–∏—Å—Ç–∞—è –≤—ã–¥—É–º–∫–∞</td><td>–°–∏—Å—Ç–µ–º–Ω—ã–µ –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–∏</td></tr>
<tr><td>9</td><td><strong>Protected Variations</strong></td><td>–ó–∞—â–∏—Ç–∞ –æ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–π</td><td>–£—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å –∫ –∏–∑–º–µ–Ω–µ–Ω–∏—è–º</td></tr>
</tbody></table>
</div>
<h3 id="-–í–∑–∞–∏–º–æ—Å–≤—è–∑—å-–ø—Ä–∏–Ω—Ü–∏–ø–æ–≤"><a class="header" href="#-–í–∑–∞–∏–º–æ—Å–≤—è–∑—å-–ø—Ä–∏–Ω—Ü–∏–ø–æ–≤">üîó –í–∑–∞–∏–º–æ—Å–≤—è–∑—å –ø—Ä–∏–Ω—Ü–∏–ø–æ–≤</a></h3>
<p>–í—Å–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã GRASP —Ç–µ—Å–Ω–æ —Å–≤—è–∑–∞–Ω—ã –¥—Ä—É–≥ —Å –¥—Ä—É–≥–æ–º:</p>
<ul>
<li><strong>Low Coupling</strong> ‚ÜîÔ∏è <strong>High Cohesion</strong> ‚Äî —Å–æ—Å—Ç–∞–≤–ª—è—é—Ç –ø–∞—Ä—É, —É–ª—É—á—à–µ–Ω–∏–µ –æ–¥–Ω–æ–≥–æ –ø—Ä–∏–≤–æ–¥–∏—Ç –∫ —É–ª—É—á—à–µ–Ω–∏—é –¥—Ä—É–≥–æ–≥–æ</li>
<li><strong>Protected Variations</strong> ‚Äî —Ä–µ–∑—É–ª—å—Ç–∞—Ç –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –≤—Å–µ—Ö –æ—Å—Ç–∞–ª—å–Ω—ã—Ö –ø—Ä–∏–Ω—Ü–∏–ø–æ–≤</li>
<li>–í—Å–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã –¥–æ–ø–æ–ª–Ω—è—é—Ç –¥—Ä—É–≥ –¥—Ä—É–≥–∞ –∏ —Ä–∞–±–æ—Ç–∞—é—Ç –≤ —Å–≤—è–∑–∫–µ</li>
</ul>
<hr />
<h2 id="1-information-expert-–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã–π-—ç–∫—Å–ø–µ—Ä—Ç-1"><a class="header" href="#1-information-expert-–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã–π-—ç–∫—Å–ø–µ—Ä—Ç-1">1Ô∏è‚É£ Information Expert (–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã–π —ç–∫—Å–ø–µ—Ä—Ç)</a></h2>
<blockquote>
<p><strong>–ë–∞–∑–æ–≤—ã–π –ø—Ä–∏–Ω—Ü–∏–ø GRASP</strong> ‚Äî –æ—Å–Ω–æ–≤–∞ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏</p>
</blockquote>
<h3 id="-–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ"><a class="header" href="#-–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ">üìù –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ</a></h3>
<p><strong>Information Expert</strong> ‚Äî –ø—Ä–∏–Ω—Ü–∏–ø, —Å–æ–≥–ª–∞—Å–Ω–æ –∫–æ—Ç–æ—Ä–æ–º—É –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –Ω–∞–∑–Ω–∞—á–µ–Ω–∞ —Ç–æ–º—É –∫–ª–∞—Å—Å—É (–∏–ª–∏ –ø—Ä–æ–≥—Ä–∞–º–º–Ω–æ–º—É –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—É), –∫–æ—Ç–æ—Ä—ã–π –∏–º–µ–µ—Ç –≤—Å—é –Ω–µ–æ–±—Ö–æ–¥–∏–º—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –æ–ø–µ—Ä–∞—Ü–∏–∏ –∏–ª–∏ –ø—Ä–∏–Ω—è—Ç–∏—è —Ä–µ—à–µ–Ω–∏—è.</p>
<h3 id="-–ü—Ä–æ–±–ª–µ–º–∞-–∫–æ—Ç–æ—Ä—É—é-—Ä–µ—à–∞–µ—Ç"><a class="header" href="#-–ü—Ä–æ–±–ª–µ–º–∞-–∫–æ—Ç–æ—Ä—É—é-—Ä–µ—à–∞–µ—Ç">‚ùì –ü—Ä–æ–±–ª–µ–º–∞, –∫–æ—Ç–æ—Ä—É—é —Ä–µ—à–∞–µ—Ç</a></h3>
<p>–ö–∞–∫ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–∏—Ç—å –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å –º–µ–∂–¥—É –ø—Ä–æ–≥—Ä–∞–º–º–Ω—ã–º–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏:</p>
<ul>
<li>‚úÖ –ö–ª–∞—Å—Å–∞–º–∏</li>
<li>‚úÖ –ú–æ–¥—É–ª—è–º–∏</li>
<li>‚úÖ –§—É–Ω–∫—Ü–∏—è–º–∏</li>
<li>‚úÖ –õ—é–±—ã–º–∏ –ø—Ä–æ–≥—Ä–∞–º–º–Ω—ã–º–∏ –∞–±—Å—Ç—Ä–∞–∫—Ü–∏—è–º–∏ (–∞–∫—Ç–æ—Ä–∞–º–∏, —Å–µ—Ä–≤–∏—Å–∞–º–∏, –ø–æ–¥—Å–∏—Å—Ç–µ–º–∞–º–∏)</li>
</ul>
<h3 id="-–†–µ—à–µ–Ω–∏–µ"><a class="header" href="#-–†–µ—à–µ–Ω–∏–µ">üí° –†–µ—à–µ–Ω–∏–µ</a></h3>
<blockquote>
<p><strong>–ù–∞–∑–Ω–∞—á–∏—Ç—å –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å —Ç–æ–º—É –∫–ª–∞—Å—Å—É, –∫–æ—Ç–æ—Ä—ã–π –∏–º–µ–µ—Ç –≤—Å—é –Ω–µ–æ–±—Ö–æ–¥–∏–º—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –¥–ª—è —Ä–∞–±–æ—Ç—ã ‚Äî –¥–ª—è –ø—Ä–∏–Ω—è—Ç–∏—è —Ä–µ—à–µ–Ω–∏—è –∏–ª–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –æ–ø–µ—Ä–∞—Ü–∏–∏.</strong></p>
</blockquote>
<p>–≠—Ç–∞ —Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–∫–∞ –ø—Ä–∏—à–ª–∞ –∏–∑ <strong>–∫–∏–±–µ—Ä–Ω–µ—Ç–∏–∫–∏</strong>: —Ä–µ—à–µ–Ω–∏—è –≤ –∫–∏–±–µ—Ä–Ω–µ—Ç–∏—á–µ—Å–∫–∏—Ö —Å–∏—Å—Ç–µ–º–∞—Ö —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–∏–Ω–∏–º–∞—é—Ç—Å—è –∏–º–µ–Ω–Ω–æ –≤ —Ç–æ–º –º–µ—Å—Ç–µ –∏–µ—Ä–∞—Ä—Ö–∏–∏, –≥–¥–µ –µ—Å—Ç—å <strong>–ø–æ–ª–Ω–æ—Ç–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏</strong> –¥–ª—è –ø—Ä–∏–Ω—è—Ç–∏—è —Ä–µ—à–µ–Ω–∏—è.</p>
<h3 id="-–ó–∞—á–µ–º-–ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è"><a class="header" href="#-–ó–∞—á–µ–º-–ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è">‚ú® –ó–∞—á–µ–º –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è</a></h3>
<div class="table-wrapper"><table><thead><tr><th>–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–æ</th><th>–û–ø–∏—Å–∞–Ω–∏–µ</th></tr></thead><tbody>
<tr><td><strong>‚¨áÔ∏è –°–Ω–∏–∂–∞–µ—Ç –∑–∞—Ü–µ–ø–ª–µ–Ω–∏–µ</strong></td><td>–£–º–µ–Ω—å—à–∞–µ—Ç —Å–≤—è–∑–Ω–æ—Å—Ç—å –º–µ–∂–¥—É –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏</td></tr>
<tr><td><strong>üéØ –£–ø—Ä–æ—â–∞–µ—Ç –∫–æ–¥</strong></td><td>–î–µ–ª–∞–µ—Ç –ª–æ–≥–∏–∫—É –±–æ–ª–µ–µ –ø–æ–Ω—è—Ç–Ω–æ–π</td></tr>
<tr><td><strong>üîí –ü–æ–≤—ã—à–∞–µ—Ç –∏–Ω–∫–∞–ø—Å—É–ª—è—Ü–∏—é</strong></td><td>–°–∫—Ä—ã–≤–∞–µ—Ç –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ –¥–µ—Ç–∞–ª–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏</td></tr>
<tr><td><strong>‚ôªÔ∏è –£—Å–∏–ª–∏–≤–∞–µ—Ç –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ</strong></td><td>–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –ª–µ–≥—á–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–æ–≤—Ç–æ—Ä–Ω–æ</td></tr>
</tbody></table>
</div>
<h3 id="–ì–¥–µ-–≤—Å—Ç—Ä–µ—á–∞–µ—Ç—Å—è"><a class="header" href="#–ì–¥–µ-–≤—Å—Ç—Ä–µ—á–∞–µ—Ç—Å—è">–ì–¥–µ –≤—Å—Ç—Ä–µ—á–∞–µ—Ç—Å—è</a></h3>
<p>–£ –ø—Ä–æ–≥—Ä–∞–º–º–Ω–æ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ (–∫–ª–∞—Å—Å–∞, –º–æ–¥—É–ª—è) –µ—Å—Ç—å:</p>
<ul>
<li><strong>–í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ –ø–æ–ª—è</strong> –∏ –º–µ—Ç–æ–¥—ã (–∑–∞—â–∏—â–µ–Ω–Ω—ã–µ, –ø—Ä–∏–≤–∞—Ç–Ω—ã–µ)</li>
<li><strong>–í–Ω–µ—à–Ω–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å</strong> (–ø—É–±–ª–∏—á–Ω—ã–µ –º–µ—Ç–æ–¥—ã –∏ —Å–≤–æ–π—Å—Ç–≤–∞)</li>
</ul>
<p>–ü—Ä–æ–≥—Ä–∞–º–º–Ω–∞—è –∞–±—Å—Ç—Ä–∞–∫—Ü–∏—è —Å–∞–º–∞ —É–ø—Ä–∞–≤–ª—è–µ—Ç —Å–≤–æ–∏–º–∏ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–º–∏ –¥–∞–Ω–Ω—ã–º–∏. –í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Å –Ω–µ–π –¥–æ–ª–∂–Ω–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç—å <strong>—Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ –≤–Ω–µ—à–Ω–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å</strong>.</p>
<blockquote>
<p>–ù–µ –ª–µ–∑—å—Ç–µ –∫–ª–∞—Å—Å—É "–≤ –¥—É—à—É" ‚Äî —Ä–∞–±–æ—Ç–∞–π—Ç–µ —á–µ—Ä–µ–∑ –µ–≥–æ –ø—É–±–ª–∏—á–Ω—ã–π API!</p>
</blockquote>
<h3 id="–°–≤—è–∑—å-—Å-–∑–∞–∫–æ–Ω–æ–º-–î–µ–º–µ—Ç—Ä—ã"><a class="header" href="#–°–≤—è–∑—å-—Å-–∑–∞–∫–æ–Ω–æ–º-–î–µ–º–µ—Ç—Ä—ã">–°–≤—è–∑—å —Å –∑–∞–∫–æ–Ω–æ–º –î–µ–º–µ—Ç—Ä—ã</a></h3>
<p><strong>–ó–∞–∫–æ–Ω –î–µ–º–µ—Ç—Ä—ã</strong> (–ø—Ä–∏–Ω—Ü–∏–ø "–Ω–µ –≥–æ–≤–æ—Ä–∏—Ç–µ —Å –Ω–µ–∑–Ω–∞–∫–æ–º—Ü–∞–º–∏") —Ç–µ—Å–Ω–æ —Å–≤—è–∑–∞–Ω —Å Information Expert.</p>
<p><strong>–ù–∞—Ä—É—à–µ–Ω–∏–µ</strong> –≤—ã–≥–ª—è–¥–∏—Ç —Ç–∞–∫:</p>
<pre><code class="language-javascript">// –ü–ª–æ—Ö–æ: —Ü–µ–ø–æ—á–∫–∏ –≤—ã–∑–æ–≤–æ–≤, –Ω–∞—Ä—É—à–µ–Ω–∏–µ –∑–∞–∫–æ–Ω–∞ –î–µ–º–µ—Ç—Ä—ã
instance.someProperty.anotherProperty.deepProperty.doSomething();
</code></pre>
<p>–ó–¥–µ—Å—å –º—ã "–∏–¥–µ–º –≤ —á—É–∂–∏–µ –¥–µ–±—Ä–∏" –ø–æ —Å—Å—ã–ª–∫–∞–º, –∏–∑—É—á–∞–µ–º –Ω–µ–¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö –∏ –Ω–∞—Ä—É—à–∞–µ–º –∏–Ω–∫–∞–ø—Å—É–ª—è—Ü–∏—é.</p>
<p><strong>–ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø–æ–¥—Ö–æ–¥</strong>:</p>
<pre><code class="language-javascript">// –•–æ—Ä–æ—à–æ: —Ä–∞–±–æ—Ç–∞ —á–µ—Ä–µ–∑ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
instance.doSomething();
</code></pre>
<p>–ù—É–∂–Ω–æ –æ–±—â–∞—Ç—å—Å—è —Ç–æ–ª—å–∫–æ —Å –±–ª–∏–∂–∞–π—à–∏–º–∏ —Å–æ—Å–µ–¥—è–º–∏, –∑–Ω–∞—Ç—å –∏—Ö –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∏ –Ω–µ –ø—Ä–æ–Ω–∏–∫–∞—Ç—å –≤ –¥–µ—Ç–∞–ª–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏.</p>
<h3 id="–ü—Ä–æ–±–ª–µ–º—ã-–≤-javascript"><a class="header" href="#–ü—Ä–æ–±–ª–µ–º—ã-–≤-javascript">–ü—Ä–æ–±–ª–µ–º—ã –≤ JavaScript</a></h3>
<p>JavaScript ‚Äî –≥–∏–±–∫–∏–π –∏ –¥–∏–Ω–∞–º–∏—á–Ω—ã–π —è–∑—ã–∫, —á—Ç–æ —Å–æ–∑–¥–∞–µ—Ç –æ—Å–æ–±—ã–µ –ø—Ä–æ–±–ª–µ–º—ã:</p>
<h4 id="1-–î–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è-–º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏—è-–æ–±—ä–µ–∫—Ç–æ–≤"><a class="header" href="#1-–î–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è-–º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏—è-–æ–±—ä–µ–∫—Ç–æ–≤">1. –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏—è –æ–±—ä–µ–∫—Ç–æ–≤</a></h4>
<pre><code class="language-javascript">// –ú–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏—è –Ω–∞ –ª–µ—Ç—É
object.newProperty = "value";
delete object.existingProperty;
object.method = function() { /* –Ω–æ–≤–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è */ };
</code></pre>
<p>–ï—Å–ª–∏ —ç—Ç–æ –¥–µ–ª–∞–µ—Ç—Å—è <strong>–∏–∑–≤–Ω–µ –∫–ª–∞—Å—Å–∞</strong> (–≤–Ω–µ—à–Ω–∏–º –∫–æ–¥–æ–º), —ç—Ç–æ –ø—Ä–∏–≤–æ–¥–∏—Ç –∫:</p>
<ul>
<li>–ù–∞—Ä—É—à–µ–Ω–∏—é –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç–∏</li>
<li>–ü–æ—è–≤–ª–µ–Ω–∏—é –º–Ω–æ–∂–µ—Å—Ç–≤–∞ <code>if</code>-–ø—Ä–æ–≤–µ—Ä–æ–∫</li>
<li>–£—Å–ª–æ–∂–Ω–µ–Ω–∏—é –∫–æ–¥–∞</li>
</ul>
<h4 id="2-–ü—Ä–∏–º–µ—Å–∏-mixins"><a class="header" href="#2-–ü—Ä–∏–º–µ—Å–∏-mixins">2. –ü—Ä–∏–º–µ—Å–∏ (mixins)</a></h4>
<p>–ü—Ä–∏–º–µ—Å–∏ —à–∏—Ä–æ–∫–æ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω—ã –≤ JavaScript, –Ω–æ –æ–Ω–∏ <strong>–º–µ—à–∞—é—Ç —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ GRASP</strong> –ø—Ä–∏–Ω—Ü–∏–ø–æ–≤.</p>
<h4 id="3-–ü–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è-–¥–∏–Ω–∞–º–∏–∑–º–∞"><a class="header" href="#3-–ü–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è-–¥–∏–Ω–∞–º–∏–∑–º–∞">3. –ü–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è –¥–∏–Ω–∞–º–∏–∑–º–∞</a></h4>
<p>–ï—Å–ª–∏ —Ñ–æ—Ä–º–∞ –æ–±—ä–µ–∫—Ç–æ–≤ –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä—É–µ—Ç—Å—è, –≤ –∫–æ–¥–µ –ø–æ—è–≤–ª—è—é—Ç—Å—è –ø—Ä–æ–≤–µ—Ä–∫–∏:</p>
<pre><code class="language-javascript">// –ü–ª–æ—Ö–æ: –≤–µ–∑–¥–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –∏–∑-–∑–∞ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–π –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏–∏
if (object.hasOwnProperty('method')) {
  if (typeof object.method === 'function') {
    object.method();
  }
}
</code></pre>
<p>–≠—Ç–æ –ø—Ä–∏–≤–æ–¥–∏—Ç –∫ <strong>—É—Å–ª–æ–∂–Ω–µ–Ω–∏—é –∫–æ–¥–∞</strong> –≤–µ–∑–¥–µ, –≥–¥–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –∏–Ω—Å—Ç–∞–Ω—Å—ã –∫–ª–∞—Å—Å–∞.</p>
<h3 id="–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ-–≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏-javascript"><a class="header" href="#–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ-–≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏-javascript">–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ JavaScript</a></h3>
<p>–í —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–º JavaScript –µ—Å—Ç—å —Å—Ä–µ–¥—Å—Ç–≤–∞ –¥–ª—è –∏–Ω–∫–∞–ø—Å—É–ª—è—Ü–∏–∏:</p>
<pre><code class="language-javascript">class MyClass {
  #privateField;  // –ü—Ä–∏–≤–∞—Ç–Ω–æ–µ –ø–æ–ª–µ (—á–µ—Ä–µ–∑ #)
  _protectedField; // –£—Å–ª–æ–≤–Ω–æ–µ –∑–∞—â–∏—â–µ–Ω–Ω–æ–µ –ø–æ–ª–µ (—á–µ—Ä–µ–∑ _)

  constructor() {
    this.#privateField = 'secret';
  }

  publicMethod() {
    // –ü—É–±–ª–∏—á–Ω—ã–π –º–µ—Ç–æ–¥
  }
}
</code></pre>
<h3 id="-–ö–ª—é—á–µ–≤—ã–µ-–≤—ã–≤–æ–¥—ã"><a class="header" href="#-–ö–ª—é—á–µ–≤—ã–µ-–≤—ã–≤–æ–¥—ã">üéØ –ö–ª—é—á–µ–≤—ã–µ –≤—ã–≤–æ–¥—ã</a></h3>
<blockquote>
<p><strong>Information Expert ‚Äî –±–∞–∑–æ–≤–æ–µ, –æ—Å–Ω–æ–≤–Ω–æ–µ –ø–æ–Ω—è—Ç–∏–µ –≤ GRASP</strong></p>
</blockquote>
<ul>
<li>‚úÖ –ö–∞–∂–¥—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç —É–ø—Ä–∞–≤–ª—è–µ—Ç —Å–≤–æ–µ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π —Å–∞–º</li>
<li>‚úÖ –†–∞–±–æ—Ç–∞–π—Ç–µ —á–µ—Ä–µ–∑ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã, –Ω–µ –Ω–∞—Ä—É—à–∞–π—Ç–µ –∏–Ω–∫–∞–ø—Å—É–ª—è—Ü–∏—é</li>
<li>‚úÖ –ò–∑–±–µ–≥–∞–π—Ç–µ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–π –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏–∏ –æ–±—ä–µ–∫—Ç–æ–≤ –∏–∑–≤–Ω–µ</li>
<li>‚úÖ –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø—Ä–∏–≤–∞—Ç–Ω—ã–µ –ø–æ–ª—è (<code>#</code>) –¥–ª—è —Å–∫—Ä—ã—Ç–∏—è –¥–µ—Ç–∞–ª–µ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏</li>
</ul>
<hr />
<h2 id="2-creator-–°–æ–∑–¥–∞—Ç–µ–ª—å-1"><a class="header" href="#2-creator-–°–æ–∑–¥–∞—Ç–µ–ª—å-1">2Ô∏è‚É£ Creator (–°–æ–∑–¥–∞—Ç–µ–ª—å)</a></h2>
<blockquote>
<p><strong>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∂–∏–∑–Ω–µ–Ω–Ω—ã–º —Ü–∏–∫–ª–æ–º –æ–±—ä–µ–∫—Ç–æ–≤</strong></p>
</blockquote>
<h3 id="-–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ-1"><a class="header" href="#-–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ-1">üìù –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ</a></h3>
<p><strong>Creator</strong> ‚Äî –ø—Ä–∏–Ω—Ü–∏–ø, –æ–ø—Ä–µ–¥–µ–ª—è—é—â–∏–π, –∫—Ç–æ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–º –∑–∞ —Å–æ–∑–¥–∞–Ω–∏–µ (–∏–Ω—Å—Ç–∞–Ω—Ü–∏—Ä–æ–≤–∞–Ω–∏–µ) –æ–±—ä–µ–∫—Ç–æ–≤ –∏–ª–∏ –ø—Ä–æ–≥—Ä–∞–º–º–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤.</p>
<h3 id="-–ü—Ä–æ–±–ª–µ–º–∞-–∫–æ—Ç–æ—Ä—É—é-—Ä–µ—à–∞–µ—Ç-1"><a class="header" href="#-–ü—Ä–æ–±–ª–µ–º–∞-–∫–æ—Ç–æ—Ä—É—é-—Ä–µ—à–∞–µ—Ç-1">‚ùì –ü—Ä–æ–±–ª–µ–º–∞, –∫–æ—Ç–æ—Ä—É—é —Ä–µ—à–∞–µ—Ç</a></h3>
<p>–ö—Ç–æ –¥–æ–ª–∂–µ–Ω –æ—Ç–≤–µ—á–∞—Ç—å –∑–∞:</p>
<ul>
<li>üèóÔ∏è –ò–Ω—Å—Ç–∞–Ω—Ü–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–ª–∞—Å—Å–æ–≤</li>
<li>üì¶ –ó–∞–≥—Ä—É–∑–∫—É –ø—Ä–æ–≥—Ä–∞–º–º–Ω—ã—Ö –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–π</li>
<li>‚öôÔ∏è –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—é –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤</li>
<li>üíæ –ù–∞–ø–æ–ª–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã–º–∏</li>
<li>üöÄ –ó–∞–ø—É—Å–∫ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤</li>
</ul>
<h3 id="-–ü—Ä–∞–≤–∏–ª–∞-—Å–æ–∑–¥–∞–Ω–∏—è"><a class="header" href="#-–ü—Ä–∞–≤–∏–ª–∞-—Å–æ–∑–¥–∞–Ω–∏—è">üìê –ü—Ä–∞–≤–∏–ª–∞ —Å–æ–∑–¥–∞–Ω–∏—è</a></h3>
<p>–ö—Ä—ç–≥ –õ–∞—Ä–º–∞–Ω –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø—Ä–∞–≤–∏–ª –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Å–æ–∑–¥–∞—Ç–µ–ª—è:</p>
<h4 id="1-–ê–≥—Ä–µ–≥–∞—Ü–∏—è-–∏-–∫–æ–º–ø–æ–∑–∏—Ü–∏—è"><a class="header" href="#1-–ê–≥—Ä–µ–≥–∞—Ü–∏—è-–∏-–∫–æ–º–ø–æ–∑–∏—Ü–∏—è">1. –ê–≥—Ä–µ–≥–∞—Ü–∏—è –∏ –∫–æ–º–ø–æ–∑–∏—Ü–∏—è</a></h4>
<p>–ï—Å–ª–∏ –æ–¥–∏–Ω –∫–ª–∞—Å—Å <strong>–∞–≥—Ä–µ–≥–∏—Ä—É–µ—Ç</strong> –∏–ª–∏ <strong>–∫–æ–º–ø–æ–∑–∏—Ä—É–µ—Ç</strong> –¥—Ä—É–≥–∏–µ –∫–ª–∞—Å—Å—ã (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∏—Ö –∫–∞–∫ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ –ø–æ–ª—è), —Ç–æ –æ–Ω –º–æ–∂–µ—Ç –∏—Ö –∏ –∏–Ω—Å—Ç–∞–Ω—Ü–∏—Ä–æ–≤–∞—Ç—å.</p>
<pre><code class="language-javascript">class Car {
  constructor() {
    // Car —Å–æ–∑–¥–∞–µ—Ç Engine, —Ç–∞–∫ –∫–∞–∫ –∫–æ–º–ø–æ–∑–∏—Ä—É–µ—Ç –µ–≥–æ
    this.engine = new Engine();

    // –ò–ª–∏ –ø—Ä–∏–Ω–∏–º–∞–µ—Ç —á–µ—Ä–µ–∑ –∞—Ä–≥—É–º–µ–Ω—Ç—ã
    // this.engine = engine;
  }
}
</code></pre>
<h4 id="2-–ò–Ω—Ç–µ–Ω—Å–∏–≤–Ω–∞—è-—Ä–∞–±–æ—Ç–∞"><a class="header" href="#2-–ò–Ω—Ç–µ–Ω—Å–∏–≤–Ω–∞—è-—Ä–∞–±–æ—Ç–∞">2. –ò–Ω—Ç–µ–Ω—Å–∏–≤–Ω–∞—è —Ä–∞–±–æ—Ç–∞</a></h4>
<p>–ò–Ω—Å—Ç–∞–Ω—Ü–∏—Ä–æ–≤–∞—Ç—å —Å–ª–µ–¥—É–µ—Ç —Ç–∞–º, –≥–¥–µ –∏–¥–µ—Ç <strong>–∏–Ω—Ç–µ–Ω—Å–∏–≤–Ω–∞—è —Ä–∞–±–æ—Ç–∞</strong> —Å –æ–±—ä–µ–∫—Ç–æ–º:</p>
<ul>
<li>–ß—Ç–µ–Ω–∏–µ –∏ –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Å–≤–æ–π—Å—Ç–≤</li>
<li>–í—ã–∑–æ–≤ –º–µ—Ç–æ–¥–æ–≤</li>
<li>–ü–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ —Å–æ–±—ã—Ç–∏—è</li>
</ul>
<p>–ö–æ–º–ø–æ–Ω–µ–Ω—Ç, –∫–æ—Ç–æ—Ä—ã–π –∏–Ω—Ç–µ–Ω—Å–∏–≤–Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å –æ–±—ä–µ–∫—Ç–æ–º, –¥–æ–ª–∂–µ–Ω:</p>
<ul>
<li>–ï–≥–æ –∏–Ω—Å—Ç–∞–Ω—Ü–∏—Ä–æ–≤–∞—Ç—å</li>
<li>–î–µ—Ä–∂–∞—Ç—å –Ω–∞ –Ω–µ–≥–æ —Å—Å—ã–ª–∫–∏</li>
</ul>
<h4 id="3-–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è-–∏-—Ö—Ä–∞–Ω–µ–Ω–∏–µ"><a class="header" href="#3-–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è-–∏-—Ö—Ä–∞–Ω–µ–Ω–∏–µ">3. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∏ —Ö—Ä–∞–Ω–µ–Ω–∏–µ</a></h4>
<p>–°–æ–∑–¥–∞–≤–∞—Ç—å –æ–±—ä–µ–∫—Ç –¥–æ–ª–∂–µ–Ω —Ç–æ—Ç –∫–æ–º–ø–æ–Ω–µ–Ω—Ç, –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–µ—Ç:</p>
<ul>
<li><strong>–ù–∞–ø–æ–ª–Ω–∏—Ç—å –µ–≥–æ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π</strong> (–ø—Ä–æ–∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å)</li>
<li><strong>–•—Ä–∞–Ω–∏—Ç—å –º–Ω–æ–∂–µ—Å—Ç–≤–æ –∏–Ω—Å—Ç–∞–Ω—Å–æ–≤</strong> –≤ –∫–æ–ª–ª–µ–∫—Ü–∏–∏</li>
<li>–ó–∞–Ω–∏–º–∞—Ç—å—Å—è –∏—Ö <strong>–ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º</strong> (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ø—É–ª—ã –æ–±—ä–µ–∫—Ç–æ–≤)</li>
</ul>
<h3 id="–ü—Ä–∏–º–µ—Ä—ã-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è"><a class="header" href="#–ü—Ä–∏–º–µ—Ä—ã-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è">–ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è</a></h3>
<p>Creator —Ä–µ–∞–ª–∏–∑—É–µ—Ç—Å—è —á–µ—Ä–µ–∑:</p>
<ol>
<li>
<p><strong>–ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä—ã –∫–ª–∞—Å—Å–æ–≤</strong></p>
<pre><code class="language-javascript">class Order {
  constructor() {
    this.items = [];  // Order —Å–æ–∑–¥–∞–µ—Ç –º–∞—Å—Å–∏–≤
    this.customer = new Customer();  // Order —Å–æ–∑–¥–∞–µ—Ç Customer
  }
}
</code></pre>
</li>
<li>
<p><strong>–§–∞–±—Ä–∏–∫–∏</strong> (Factory Pattern)</p>
<pre><code class="language-javascript">class UserFactory {
  static create(type) {
    if (type === 'admin') return new AdminUser();
    if (type === 'regular') return new RegularUser();
  }
}
</code></pre>
</li>
<li>
<p><strong>–ü—É–ª—ã –æ–±—ä–µ–∫—Ç–æ–≤</strong> (Object Pools)</p>
<pre><code class="language-javascript">class ConnectionPool {
  constructor(size) {
    this.connections = [];
    for (let i = 0; i &lt; size; i++) {
      this.connections.push(new Connection());
    }
  }
}
</code></pre>
</li>
</ol>
<h3 id="–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ-–∂–∏–∑–Ω–µ–Ω–Ω—ã–º-—Ü–∏–∫–ª–æ–º"><a class="header" href="#–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ-–∂–∏–∑–Ω–µ–Ω–Ω—ã–º-—Ü–∏–∫–ª–æ–º">–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∂–∏–∑–Ω–µ–Ω–Ω—ã–º —Ü–∏–∫–ª–æ–º</a></h3>
<p><strong>–í–∞–∂–Ω—ã–π –ø—Ä–∏–Ω—Ü–∏–ø</strong>: –¢–æ—Ç, –∫—Ç–æ —Å–æ–∑–¥–∞–µ—Ç ‚Äî —Ç–æ—Ç –∏ —É–ø—Ä–∞–≤–ª—è–µ—Ç –∂–∏–∑–Ω–µ–Ω–Ω—ã–º —Ü–∏–∫–ª–æ–º.</p>
<h4 id="–í-—è–∑—ã–∫–∞—Ö-—Å-garbage-collection-javascript-nodejs"><a class="header" href="#–í-—è–∑—ã–∫–∞—Ö-—Å-garbage-collection-javascript-nodejs">–í —è–∑—ã–∫–∞—Ö —Å Garbage Collection (JavaScript, Node.js)</a></h4>
<pre><code class="language-javascript">class Manager {
  constructor() {
    this.resource = new Resource();  // –°–æ–∑–¥–∞–ª–∏
  }

  cleanup() {
    this.resource = null;  // –ü–æ—Ç–µ—Ä—è–ª–∏ —Å—Å—ã–ª–∫—É ‚Äî GC —É–Ω–∏—á—Ç–æ–∂–∏—Ç
  }
}
</code></pre>
<p>–ö–∞–∫ —Ç–æ–ª—å–∫–æ —Å—Å—ã–ª–∫–∏ –ø–æ—Ç–µ—Ä—è–Ω—ã, <strong>Garbage Collector</strong> –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Å–≤–æ–±–æ–¥–∏—Ç –ø–∞–º—è—Ç—å.</p>
<h4 id="–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ-—Ä–µ—Å—É—Ä—Å–∞–º–∏"><a class="header" href="#–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ-—Ä–µ—Å—É—Ä—Å–∞–º–∏">–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–∞–º–∏</a></h4>
<p>–ù–µ –≤—Å–µ —Ä–µ—Å—É—Ä—Å—ã ‚Äî —ç—Ç–æ —Ç–æ–ª—å–∫–æ –ø–∞–º—è—Ç—å. –ö–ª–∞—Å—Å—ã –º–æ–≥—É—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å:</p>
<ul>
<li>–°–µ—Ç–µ–≤—ã–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è (connections)</li>
<li>–§–∞–π–ª–æ–≤—ã–µ –¥–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä—ã</li>
<li>–¢–∞–π–º–µ—Ä—ã</li>
<li>–ü–æ–¥–ø–∏—Å–∫–∏ –Ω–∞ —Å–æ–±—ã—Ç–∏—è</li>
</ul>
<pre><code class="language-javascript">class FileManager {
  constructor(filename) {
    this.fd = fs.openSync(filename, 'r');  // –û—Ç–∫—Ä—ã–ª–∏ –¥–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä
  }

  close() {
    fs.closeSync(this.fd);  // –ó–∞–∫—Ä—ã–ª–∏ –¥–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä
  }
}
</code></pre>
<h3 id="–ó–∞—á–µ–º-–ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è"><a class="header" href="#–ó–∞—á–µ–º-–ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è">–ó–∞—á–µ–º –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è</a></h3>
<p>–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ Creator:</p>
<ul>
<li><strong>–°–Ω–∏–∂–∞–µ—Ç –∑–∞—Ü–µ–ø–ª–µ–Ω–∏–µ</strong></li>
<li><strong>–ò–∑–±–µ–≥–∞–µ—Ç —É—Ç–µ—á–µ–∫ –ø–∞–º—è—Ç–∏</strong> –∏ —Ä–µ—Å—É—Ä—Å–æ–≤</li>
<li>–î–µ–ª–∞–µ—Ç <strong>–æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å —è–≤–Ω–æ–π</strong></li>
</ul>
<h3 id="–£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ—Å—Ç—å-–ø—Ä–∏–Ω—Ü–∏–ø–∞"><a class="header" href="#–£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ—Å—Ç—å-–ø—Ä–∏–Ω—Ü–∏–ø–∞">–£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ—Å—Ç—å –ø—Ä–∏–Ω—Ü–∏–ø–∞</a></h3>
<p>Creator –∞–∫—Ç—É–∞–ª–µ–Ω –Ω–µ —Ç–æ–ª—å–∫–æ –¥–ª—è –û–û–ü, –Ω–æ –∏ –¥–ª—è <strong>–ø—Ä–æ—Ü–µ–¥—É—Ä–Ω–æ–≥–æ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è</strong>:</p>
<blockquote>
<p>–ì–¥–µ –≤—ã–¥–µ–ª–∏–ª–∞—Å—å –ø–∞–º—è—Ç—å, —Ç–∞–º –æ–Ω–∞ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –∏ –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∞.</p>
</blockquote>
<hr />
<h2 id="3-low-coupling--high-cohesion-–ù–∏–∑–∫–æ–µ-–∑–∞—Ü–µ–ø–ª–µ–Ω–∏–µ-–∏-–≤—ã—Å–æ–∫–∞—è-—Å–≤—è–∑–Ω–æ—Å—Ç—å"><a class="header" href="#3-low-coupling--high-cohesion-–ù–∏–∑–∫–æ–µ-–∑–∞—Ü–µ–ø–ª–µ–Ω–∏–µ-–∏-–≤—ã—Å–æ–∫–∞—è-—Å–≤—è–∑–Ω–æ—Å—Ç—å">3Ô∏è‚É£ Low Coupling &amp; High Cohesion (–ù–∏–∑–∫–æ–µ –∑–∞—Ü–µ–ø–ª–µ–Ω–∏–µ –∏ –≤—ã—Å–æ–∫–∞—è —Å–≤—è–∑–Ω–æ—Å—Ç—å)</a></h2>
<blockquote>
<p><strong>–ü–∞—Ä–∞ –≤–∑–∞–∏–º–æ—Å–≤—è–∑–∞–Ω–Ω—ã—Ö –ø—Ä–∏–Ω—Ü–∏–ø–æ–≤ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π</strong></p>
</blockquote>
<h3 id="-–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ-2"><a class="header" href="#-–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ-2">üìù –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ</a></h3>
<p><strong>Low Coupling</strong> (–ù–∏–∑–∫–æ–µ –∑–∞—Ü–µ–ø–ª–µ–Ω–∏–µ) –∏ <strong>High Cohesion</strong> (–í—ã—Å–æ–∫–∞—è —Å–≤—è–∑–Ω–æ—Å—Ç—å) ‚Äî —ç—Ç–æ –ø–∞—Ä–∞ –≤–∑–∞–∏–º–æ—Å–≤—è–∑–∞–Ω–Ω—ã—Ö –ø—Ä–∏–Ω—Ü–∏–ø–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –æ–ø–∏—Å—ã–≤–∞—é—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—É –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –º–µ–∂–¥—É –ø—Ä–æ–≥—Ä–∞–º–º–Ω—ã–º–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏.</p>
<h3 id="–¶–µ–ª—å"><a class="header" href="#–¶–µ–ª—å">–¶–µ–ª—å</a></h3>
<p>–ù—É–∂–Ω–æ –¥–æ–±–∏—Ç—å—Å—è —Ç–∞–∫–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã, –≥–¥–µ:</p>
<ul>
<li><strong>–í–Ω—É—Ç—Ä–∏</strong> –º–æ–¥—É–ª—è/–∫–ª–∞—Å—Å–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã <strong>—Å–∏–ª—å–Ω–æ —Å–≤—è–∑–∞–Ω—ã</strong> (high cohesion)</li>
<li><strong>–ú–µ–∂–¥—É</strong> –º–æ–¥—É–ª—è–º–∏/–∫–ª–∞—Å—Å–∞–º–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ <strong>–º–∏–Ω–∏–º–∞–ª—å–Ω—ã</strong> (low coupling)</li>
</ul>
<h3 id="high-cohesion-–í—ã—Å–æ–∫–∞—è-—Å–≤—è–∑–Ω–æ—Å—Ç—å"><a class="header" href="#high-cohesion-–í—ã—Å–æ–∫–∞—è-—Å–≤—è–∑–Ω–æ—Å—Ç—å">High Cohesion (–í—ã—Å–æ–∫–∞—è —Å–≤—è–∑–Ω–æ—Å—Ç—å)</a></h3>
<p><strong>–í–Ω—É—Ç—Ä–∏ –ø—Ä–æ–≥—Ä–∞–º–º–Ω–æ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞</strong> —ç–ª–µ–º–µ–Ω—Ç—ã —Ç–µ—Å–Ω–æ —Å–≤—è–∑–∞–Ω—ã:</p>
<pre><code class="language-javascript">// –ú–æ–¥—É–ª—å —Å –≤—ã—Å–æ–∫–æ–π —Å–≤—è–∑–Ω–æ—Å—Ç—å—é
class OrderProcessor {
  validateOrder(order) { /* ... */ }
  calculateTotal(order) { /* ... */ }
  applyDiscounts(order) { /* ... */ }

  // –í—Å–µ –º–µ—Ç–æ–¥—ã —Ä–∞–±–æ—Ç–∞—é—Ç —Å order ‚Äî –≤—ã—Å–æ–∫–∞—è —Å–≤—è–∑–Ω–æ—Å—Ç—å
}
</code></pre>
<p>–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏:</p>
<ul>
<li>–ù–µ—Å–∫–æ–ª—å–∫–æ –∫–ª–∞—Å—Å–æ–≤/—Ñ—É–Ω–∫—Ü–∏–π –≤–Ω—É—Ç—Ä–∏ –º–æ–¥—É–ª—è</li>
<li>–ú–Ω–æ–≥–æ –æ–±—Ä–∞—â–µ–Ω–∏–π –¥—Ä—É–≥ –∫ –¥—Ä—É–≥—É</li>
<li>–•–æ—Ä–æ—à–µ–µ –∑–Ω–∞–Ω–∏–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤ –¥—Ä—É–≥ –¥—Ä—É–≥–∞</li>
<li>–°–æ–≤–º–µ—Å—Ç–Ω–∞—è —Ä–∞–±–æ—Ç–∞ –Ω–∞–¥ –æ–±—â–µ–π –∑–∞–¥–∞—á–µ–π</li>
</ul>
<h3 id="low-coupling-–ù–∏–∑–∫–æ–µ-–∑–∞—Ü–µ–ø–ª–µ–Ω–∏–µ"><a class="header" href="#low-coupling-–ù–∏–∑–∫–æ–µ-–∑–∞—Ü–µ–ø–ª–µ–Ω–∏–µ">Low Coupling (–ù–∏–∑–∫–æ–µ –∑–∞—Ü–µ–ø–ª–µ–Ω–∏–µ)</a></h3>
<p><strong>–ú–µ–∂–¥—É –ø—Ä–æ–≥—Ä–∞–º–º–Ω—ã–º–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏</strong> —Å–≤—è–∑–µ–π –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –º–∞–ª–æ:</p>
<pre><code class="language-javascript">// –ù–∏–∑–∫–æ–µ –∑–∞—Ü–µ–ø–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
class OrderService {
  constructor(paymentGateway) {
    this.paymentGateway = paymentGateway;  // –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç—å —á–µ—Ä–µ–∑ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
  }

  processOrder(order) {
    // –†–∞–±–æ—Ç–∞–µ–º —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ –ø—É–±–ª–∏—á–Ω—ã–π API
    this.paymentGateway.charge(order.total);
  }
}
</code></pre>
<p>–°–ø–æ—Å–æ–±—ã —Å–Ω–∏–∂–µ–Ω–∏—è –∑–∞—Ü–µ–ø–ª–µ–Ω–∏—è:</p>
<h4 id="1-–§–∞—Å–∞–¥-facade"><a class="header" href="#1-–§–∞—Å–∞–¥-facade">1. –§–∞—Å–∞–¥ (Facade)</a></h4>
<p>–î–≤–µ –ø–æ–¥—Å–∏—Å—Ç–µ–º—ã –æ–±—â–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ —Ñ–∞—Å–∞–¥, —Å–∫—Ä—ã–≤–∞—é—â–∏–π —Å–ª–æ–∂–Ω–æ—Å—Ç—å:</p>
<pre><code class="language-javascript">class PaymentFacade {
  charge(amount) {
    // –°–∫—Ä—ã–≤–∞–µ—Ç —Å–ª–æ–∂–Ω—É—é –ª–æ–≥–∏–∫—É —Ä–∞–±–æ—Ç—ã —Å –ø–ª–∞—Ç–µ–∂–Ω—ã–º–∏ —Å–∏—Å—Ç–µ–º–∞–º–∏
  }
}
</code></pre>
<h4 id="2-–≠–∫—Å–ø–æ—Ä—Ç-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤-module-exports"><a class="header" href="#2-–≠–∫—Å–ø–æ—Ä—Ç-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤-module-exports">2. –≠–∫—Å–ø–æ—Ä—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤ (Module exports)</a></h4>
<pre><code class="language-javascript">// module.js - —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–µ–º —Ç–æ–ª—å–∫–æ –ø—É–±–ª–∏—á–Ω—ã–π API
module.exports = {
  publicMethod1,
  publicMethod2
};

// –í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ –Ω–µ —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä—É—é—Ç—Å—è
function internalHelper() { }
</code></pre>
<h4 id="3-–ü—É–±–ª–∏—á–Ω—ã–µ-–∏-–ø—Ä–∏–≤–∞—Ç–Ω—ã–µ-—á–ª–µ–Ω—ã"><a class="header" href="#3-–ü—É–±–ª–∏—á–Ω—ã–µ-–∏-–ø—Ä–∏–≤–∞—Ç–Ω—ã–µ-—á–ª–µ–Ω—ã">3. –ü—É–±–ª–∏—á–Ω—ã–µ –∏ –ø—Ä–∏–≤–∞—Ç–Ω—ã–µ —á–ª–µ–Ω—ã</a></h4>
<p>–í TypeScript:</p>
<pre><code class="language-typescript">class MyClass {
  public publicMethod() { }     // –î–æ—Å—Ç—É–ø–µ–Ω –∏–∑–≤–Ω–µ
  private internalMethod() { }  // –¢–æ–ª—å–∫–æ –≤–Ω—É—Ç—Ä–∏ –∫–ª–∞—Å—Å–∞
  protected protectedMethod() { } // –î–ª—è –Ω–∞—Å–ª–µ–¥–Ω–∏–∫–æ–≤
}
</code></pre>
<h3 id="–í–∑–∞–∏–º–æ—Å–≤—è–∑—å-–ø—Ä–∏–Ω—Ü–∏–ø–æ–≤"><a class="header" href="#–í–∑–∞–∏–º–æ—Å–≤—è–∑—å-–ø—Ä–∏–Ω—Ü–∏–ø–æ–≤">–í–∑–∞–∏–º–æ—Å–≤—è–∑—å –ø—Ä–∏–Ω—Ü–∏–ø–æ–≤</a></h3>
<p><strong>Low Coupling</strong> –∏ <strong>High Cohesion</strong> ‚Äî —ç—Ç–æ –¥–≤–µ —Å—Ç–æ—Ä–æ–Ω—ã –æ–¥–Ω–æ–π –º–µ–¥–∞–ª–∏:</p>
<blockquote>
<p>–ï—Å–ª–∏ —Å–æ–±–ª—é–¥–∞–µ—Ç—Å—è Information Expert ‚Üí –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É–ª—É—á—à–∞–µ—Ç—Å—è Coupling/Cohesion</p>
</blockquote>
<h3 id="–ö–ª—é—á–µ–≤—ã–µ-–≤—ã–≤–æ–¥—ã-1"><a class="header" href="#–ö–ª—é—á–µ–≤—ã–µ-–≤—ã–≤–æ–¥—ã-1">–ö–ª—é—á–µ–≤—ã–µ –≤—ã–≤–æ–¥—ã</a></h3>
<ul>
<li><strong>–í–Ω—É—Ç—Ä–∏</strong> –º–æ–¥—É–ª—è ‚Äî —Å–∏–ª—å–Ω–∞—è —Å–≤—è–∑–Ω–æ—Å—Ç—å</li>
<li><strong>–ú–µ–∂–¥—É</strong> –º–æ–¥—É–ª—è–º–∏ ‚Äî —Å–ª–∞–±–æ–µ –∑–∞—Ü–µ–ø–ª–µ–Ω–∏–µ</li>
<li>–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø—É–±–ª–∏—á–Ω—ã–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –¥–ª—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è</li>
<li>–°–∫—Ä—ã–≤–∞–π—Ç–µ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ –¥–µ—Ç–∞–ª–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏</li>
</ul>
<hr />
<h2 id="4-controller-–ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä"><a class="header" href="#4-controller-–ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä">4Ô∏è‚É£ Controller (–ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä)</a></h2>
<blockquote>
<p><strong>–ò–∑–æ–ª—è—Ü–∏—è –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏ –æ—Ç –≤–Ω–µ—à–Ω–µ–≥–æ –º–∏—Ä–∞</strong></p>
</blockquote>
<h3 id="-–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ-3"><a class="header" href="#-–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ-3">üìù –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ</a></h3>
<p><strong>Controller</strong> ‚Äî –ø—Ä–∏–Ω—Ü–∏–ø –∏–∑–æ–ª—è—Ü–∏–∏ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–π –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏ –æ—Ç –≤–Ω–µ—à–Ω–∏—Ö –≤–æ–∑–¥–µ–π—Å—Ç–≤–∏–π (–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞, –≤–≤–æ–¥–∞-–≤—ã–≤–æ–¥–∞, —Å–µ—Ç–∏).</p>
<h3 id="–ü—Ä–æ–±–ª–µ–º–∞-–∫–æ—Ç–æ—Ä—É—é-—Ä–µ—à–∞–µ—Ç"><a class="header" href="#–ü—Ä–æ–±–ª–µ–º–∞-–∫–æ—Ç–æ—Ä—É—é-—Ä–µ—à–∞–µ—Ç">–ü—Ä–æ–±–ª–µ–º–∞, –∫–æ—Ç–æ—Ä—É—é —Ä–µ—à–∞–µ—Ç</a></h3>
<p>–í —Å–∏—Å—Ç–µ–º—É –ø–æ—Å—Ç—É–ø–∞—é—Ç –∑–∞–ø—Ä–æ—Å—ã –∏–∑ —Ä–∞–∑–Ω—ã—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤:</p>
<ul>
<li><strong>–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ</strong> (–æ—Å–æ–±–µ–Ω–Ω–æ –≤–∞–∂–Ω–æ –¥–ª—è Node.js)</li>
<li><strong>–ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ</strong> (–Ω–µ—Å–∫–æ–ª—å–∫–æ –∑–∞–ø—Ä–æ—Å–æ–≤ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ)</li>
<li>–ò–∑ —Ä–∞–∑–Ω—ã—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ (—Å–µ—Ç—å, UI, —Å–æ–±—ã—Ç–∏—è, —Ç–∞–π–º–µ—Ä—ã)</li>
</ul>
<p>–ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ –ø—Ä–µ–¥–ø–æ–ª–∞–≥–∞–µ—Ç <strong>–ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ</strong>, –∞ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç—å <strong>—Å–∏–ª—å–Ω–æ —É—Å–ª–æ–∂–Ω—è–µ—Ç</strong> –µ–µ –Ω–∞–ø–∏—Å–∞–Ω–∏–µ.</p>
<h3 id="–†–µ—à–µ–Ω–∏–µ-1"><a class="header" href="#–†–µ—à–µ–Ω–∏–µ-1">–†–µ—à–µ–Ω–∏–µ</a></h3>
<p>Controller <strong>—ç–∫—Ä–∞–Ω–∏—Ä—É–µ—Ç</strong> –ø–æ—Ç–æ–∫ –≤–Ω–µ—à–Ω–∏—Ö —Å–æ–±—ã—Ç–∏–π –æ—Ç –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏:</p>
<pre><code>[–°–æ–±—ã—Ç–∏—è] ‚Üí [Controller] ‚Üí [–õ–∏–Ω–µ–π–Ω–∞—è –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞]
</code></pre>
<p>–ü–æ—Å–ª–µ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å <strong>–º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –ª–∏–Ω–µ–π–Ω—ã–º</strong>.</p>
<h3 id="–ó–∞—á–µ–º-–ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è-1"><a class="header" href="#–ó–∞—á–µ–º-–ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è-1">–ó–∞—á–µ–º –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è</a></h3>
<p>Controller –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –∑–∞—â–∏—Ç—É –æ—Ç:</p>
<ol>
<li>
<p><strong>–ü–æ—Ç–æ–∫–∞ —Å–æ–±—ã—Ç–∏–π</strong></p>
<ul>
<li>–°–æ–±—ã—Ç–∏—è –ø—Ä–∏—Ö–æ–¥—è—Ç —Ö–∞–æ—Ç–∏—á–Ω–æ</li>
<li>–ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä —É–ø–æ—Ä—è–¥–æ—á–∏–≤–∞–µ—Ç –∏—Ö –æ–±—Ä–∞–±–æ—Ç–∫—É</li>
</ul>
</li>
<li>
<p><strong>–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç–∏</strong></p>
<ul>
<li>–í JavaScript ‚Äî –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–µ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏–µ</li>
<li>–í –¥—Ä—É–≥–∏—Ö —è–∑—ã–∫–∞—Ö ‚Äî –µ—â–µ –∏ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–µ (–º–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω–æ—Å—Ç—å)</li>
</ul>
</li>
<li>
<p><strong>Race Conditions (—Å–æ—Å—Ç–æ—è–Ω–∏–µ –≥–æ–Ω–∫–∏)</strong></p>
<ul>
<li>–ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç –ø—Ä–æ–±–ª–µ–º—ã —Å –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–º –¥–æ—Å—Ç—É–ø–æ–º</li>
<li>–ò–∑–æ–ª–∏—Ä—É–µ—Ç –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫—É –æ—Ç –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω–æ—Å—Ç–∏</li>
</ul>
</li>
</ol>
<h3 id="–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏-–∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞"><a class="header" href="#–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏-–∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞">–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞</a></h3>
<p>Controller –±–µ—Ä–µ—Ç –Ω–∞ —Å–µ–±—è <strong>—Å–∏—Å—Ç–µ–º–Ω—ã–µ –∑–∞–¥–∞—á–∏</strong>:</p>
<ul>
<li>–°–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è –∏ –¥–µ—Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è</li>
<li>–í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö</li>
<li>–ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤</li>
<li>–ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ —Ñ–æ—Ä–º–∞—Ç–æ–≤</li>
<li>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ—Ç–æ–∫–æ–º –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è</li>
</ul>
<h3 id="–ü—Ä–∏–º–µ—Ä—ã-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è-1"><a class="header" href="#–ü—Ä–∏–º–µ—Ä—ã-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è-1">–ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è</a></h3>
<h4 id="1-–§–∞—Å–∞–¥-facade-1"><a class="header" href="#1-–§–∞—Å–∞–¥-facade-1">1. –§–∞—Å–∞–¥ (Facade)</a></h4>
<pre><code class="language-javascript">class OrderController {
  async createOrder(req, res) {
    // –ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä –∏–∑–æ–ª–∏—Ä—É–µ—Ç HTTP –æ—Ç –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏
    const orderData = req.body;

    // –í—ã–∑–æ–≤ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏
    const order = await orderService.create(orderData);

    res.json(order);
  }
}
</code></pre>
<h4 id="2-–ò–∑–æ–ª—è—Ü–∏—è-—Å–ª–æ–µ–≤-layered-architecture"><a class="header" href="#2-–ò–∑–æ–ª—è—Ü–∏—è-—Å–ª–æ–µ–≤-layered-architecture">2. –ò–∑–æ–ª—è—Ü–∏—è —Å–ª–æ–µ–≤ (Layered Architecture)</a></h4>
<pre><code>[Presentation Layer]
       ‚Üì
[Controller Layer]  ‚Üê –ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä –∏–∑–æ–ª–∏—Ä—É–µ—Ç —Å–ª–æ–∏
       ‚Üì
[Business Logic Layer]
       ‚Üì
[Data Layer]
</code></pre>
<h4 id="3-–ü–∞—Ç—Ç–µ—Ä–Ω-command"><a class="header" href="#3-–ü–∞—Ç—Ç–µ—Ä–Ω-command">3. –ü–∞—Ç—Ç–µ—Ä–Ω Command</a></h4>
<pre><code class="language-javascript">class CommandController {
  constructor() {
    this.commands = new Map();
  }

  register(name, command) {
    this.commands.set(name, command);
  }

  execute(name, ...args) {
    const command = this.commands.get(name);
    return command.execute(...args);
  }
}
</code></pre>
<h3 id="–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏-–¥–ª—è-nodejs"><a class="header" href="#–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏-–¥–ª—è-nodejs">–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –¥–ª—è Node.js</a></h3>
<p>–í Node.js –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä –æ—Å–æ–±–µ–Ω–Ω–æ –≤–∞–∂–µ–Ω –∏–∑-–∑–∞:</p>
<ul>
<li>Event Loop ‚Äî –≤—Å–µ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ</li>
<li>–û–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –º–Ω–æ–∂–µ—Å—Ç–≤–∞ –∑–∞–ø—Ä–æ—Å–æ–≤</li>
<li>Callbacks, Promises, async/await ‚Äî –Ω—É–∂–Ω–∞ –∏–∑–æ–ª—è—Ü–∏—è –æ—Ç —ç—Ç–æ–π —Å–ª–æ–∂–Ω–æ—Å—Ç–∏</li>
</ul>
<pre><code class="language-javascript">// –ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä —Å–∫—Ä—ã–≤–∞–µ—Ç –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç—å
class UserController {
  async getUser(req, res) {
    try {
      // –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ –Ω–µ –∑–Ω–∞–µ—Ç –æ–± HTTP –∏ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç–∏
      const user = await userService.findById(req.params.id);
      res.json(user);
    } catch (error) {
      res.status(500).json({ error: error.message });
    }
  }
}
</code></pre>
<h3 id="–ö–ª—é—á–µ–≤—ã–µ-–≤—ã–≤–æ–¥—ã-2"><a class="header" href="#–ö–ª—é—á–µ–≤—ã–µ-–≤—ã–≤–æ–¥—ã-2">–ö–ª—é—á–µ–≤—ã–µ –≤—ã–≤–æ–¥—ã</a></h3>
<ul>
<li>Controller –æ—Ç–¥–µ–ª—è–µ—Ç –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫—É –æ—Ç UI/IO</li>
<li>–ó–∞—â–∏—â–∞–µ—Ç –æ—Ç –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç–∏ –∏ —Å–æ–±—ã—Ç–∏–π–Ω–æ–≥–æ –ø–æ—Ç–æ–∫–∞</li>
<li>–î–µ–ª–∞–µ—Ç –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫—É –ª–∏–Ω–µ–π–Ω–æ–π –∏ –ø–æ–Ω—è—Ç–Ω–æ–π</li>
<li>–í Node.js –æ—Å–æ–±–µ–Ω–Ω–æ –∞–∫—Ç—É–∞–ª–µ–Ω –∏–∑-–∑–∞ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–π –ø—Ä–∏—Ä–æ–¥—ã –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã</li>
</ul>
<hr />
<h2 id="5-polymorphism-–ü–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º"><a class="header" href="#5-polymorphism-–ü–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º">5Ô∏è‚É£ Polymorphism (–ü–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º)</a></h2>
<blockquote>
<p><strong>–ó–∞–º–µ–Ω–∞ —É—Å–ª–æ–≤–∏–π –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ–º</strong></p>
</blockquote>
<h3 id="-–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ-4"><a class="header" href="#-–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ-4">üìù –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ</a></h3>
<p><strong>Polymorphism</strong> ‚Äî –ø—Ä–∏–Ω—Ü–∏–ø –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –ø–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º–∞ –¥–ª—è –∑–∞–º–µ–Ω—ã —É—Å–ª–æ–≤–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–≤ (<code>if</code>/<code>case</code>) –Ω–∞ –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ –∏ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫—É—é –¥–∏—Å–ø–µ—Ç—á–µ—Ä–∏–∑–∞—Ü–∏—é.</p>
<h3 id="–ü—Ä–æ–±–ª–µ–º–∞-–∫–æ—Ç–æ—Ä—É—é-—Ä–µ—à–∞–µ—Ç-1"><a class="header" href="#–ü—Ä–æ–±–ª–µ–º–∞-–∫–æ—Ç–æ—Ä—É—é-—Ä–µ—à–∞–µ—Ç-1">–ü—Ä–æ–±–ª–µ–º–∞, –∫–æ—Ç–æ—Ä—É—é —Ä–µ—à–∞–µ—Ç</a></h3>
<p>–ö–æ–≥–¥–∞ –≤ –∫–æ–¥–µ –Ω–∞–∫–∞–ø–ª–∏–≤–∞–µ—Ç—Å—è –±–æ–ª—å—à–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —É—Å–ª–æ–≤–∏–π, –∫–æ—Ç–æ—Ä—ã–µ –≤–µ—Ç–≤—è—Ç –ø–æ–≤–µ–¥–µ–Ω–∏–µ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ç–∏–ø–∞:</p>
<pre><code class="language-javascript">// –ü–ª–æ—Ö–æ: –º–Ω–æ–∂–µ—Å—Ç–≤–æ —É—Å–ª–æ–≤–∏–π
function processPayment(payment) {
  if (payment.type === 'credit_card') {
    // –õ–æ–≥–∏–∫–∞ –¥–ª—è –∫—Ä–µ–¥–∏—Ç–Ω–æ–π –∫–∞—Ä—Ç—ã
  } else if (payment.type === 'paypal') {
    // –õ–æ–≥–∏–∫–∞ –¥–ª—è PayPal
  } else if (payment.type === 'crypto') {
    // –õ–æ–≥–∏–∫–∞ –¥–ª—è –∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç—ã
  }
  // ... –µ—â–µ 10 –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤
}
</code></pre>
<p>–ü—Ä–æ–±–ª–µ–º—ã:</p>
<ul>
<li>–ú–µ—Ç–æ–¥ <strong>—Ä–∞–∑—Ä–∞—Å—Ç–∞–µ—Ç—Å—è</strong></li>
<li>–°–ª–æ–∂–Ω–æ <strong>–¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ —Ç–∏–ø—ã</strong></li>
<li>–ù–∞—Ä—É—à–∞–µ—Ç—Å—è –ø—Ä–∏–Ω—Ü–∏–ø <strong>–µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–π –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏</strong></li>
</ul>
<h3 id="–†–µ—à–µ–Ω–∏–µ-2"><a class="header" href="#–†–µ—à–µ–Ω–∏–µ-2">–†–µ—à–µ–Ω–∏–µ</a></h3>
<p>–í–º–µ—Å—Ç–æ <code>if</code>/<code>case</code> –∏—Å–ø–æ–ª—å–∑—É–µ–º <strong>–ø–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º</strong>:</p>
<pre><code class="language-javascript">// –ê–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–π –∫–ª–∞—Å—Å/–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
class PaymentMethod {
  process(amount) {
    throw new Error('Must be implemented');
  }
}

// –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏
class CreditCardPayment extends PaymentMethod {
  process(amount) {
    // –õ–æ–≥–∏–∫–∞ –¥–ª—è –∫—Ä–µ–¥–∏—Ç–Ω–æ–π –∫–∞—Ä—Ç—ã
  }
}

class PayPalPayment extends PaymentMethod {
  process(amount) {
    // –õ–æ–≥–∏–∫–∞ –¥–ª—è PayPal
  }
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
function processPayment(paymentMethod, amount) {
  // –û–¥–∏–Ω–∞–∫–æ–≤—ã–π –≤—ã–∑–æ–≤, —Ä–∞–∑–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ
  paymentMethod.process(amount);
}
</code></pre>
<h3 id="–ü—Ä–∏–Ω—Ü–∏–ø-—Ä–∞–±–æ—Ç—ã"><a class="header" href="#–ü—Ä–∏–Ω—Ü–∏–ø-—Ä–∞–±–æ—Ç—ã">–ü—Ä–∏–Ω—Ü–∏–ø —Ä–∞–±–æ—Ç—ã</a></h3>
<ol>
<li>–°–æ–∑–¥–∞–µ–º <strong>–∞–±—Å—Ç—Ä–∞–∫—Ç–Ω—É—é —Å—É—â–Ω–æ—Å—Ç—å</strong> (–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å, –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–π –∫–ª–∞—Å—Å)</li>
<li>–°–æ–∑–¥–∞–µ–º <strong>–Ω–µ—Å–∫–æ–ª—å–∫–æ –Ω–∞—Å–ª–µ–¥–Ω–∏–∫–æ–≤</strong> —Å —Ä–∞–∑–Ω–æ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–µ–π</li>
<li>–†–∞–±–æ—Ç–∞–µ–º —á–µ—Ä–µ–∑ <strong>–æ–±—â–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å</strong></li>
<li>–ü–æ–≤–µ–¥–µ–Ω–∏–µ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è <strong>—Ç–∏–ø–æ–º –æ–±—ä–µ–∫—Ç–∞</strong>, –∞ –Ω–µ —É—Å–ª–æ–≤–∏—è–º–∏</li>
</ol>
<h3 id="–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞-1"><a class="header" href="#–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞-1">–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞</a></h3>
<p><strong>–ù–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ –∑–∞–º–µ–Ω—è–µ—Ç —É—Å–ª–æ–≤–∏—è:</strong></p>
<div class="table-wrapper"><table><thead><tr><th>–î–æ (—É—Å–ª–æ–≤–∏—è)</th><th>–ü–æ—Å–ª–µ (–ø–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º)</th></tr></thead><tbody>
<tr><td>–û–¥–∏–Ω –±–æ–ª—å—à–æ–π –º–µ—Ç–æ–¥ —Å <code>if</code>/<code>case</code></td><td>–ú–Ω–æ–≥–æ –º–∞–ª–µ–Ω—å–∫–∏—Ö –∫–ª–∞—Å—Å–æ–≤</td></tr>
<tr><td>–°–ª–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–π —Ç–∏–ø</td><td>–õ–µ–≥–∫–æ ‚Äî –ø—Ä–æ—Å—Ç–æ –Ω–æ–≤—ã–π –∫–ª–∞—Å—Å</td></tr>
<tr><td>–ù–∞—Ä—É—à–µ–Ω–∏–µ Open/Closed</td><td>–°–æ–±–ª—é–¥–µ–Ω–∏–µ Open/Closed</td></tr>
</tbody></table>
</div>
<h3 id="–°–≤—è–∑—å-—Å-solid"><a class="header" href="#–°–≤—è–∑—å-—Å-solid">–°–≤—è–∑—å —Å SOLID</a></h3>
<p>Polymorphism —Ç–µ—Å–Ω–æ —Å–≤—è–∑–∞–Ω —Å –ø—Ä–∏–Ω—Ü–∏–ø–∞–º–∏ SOLID:</p>
<h4 id="1-openclosed-principle-–û—Ç–∫—Ä—ã—Ç-–¥–ª—è-—Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è-–∑–∞–∫—Ä—ã—Ç-–¥–ª—è-–º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏–∏"><a class="header" href="#1-openclosed-principle-–û—Ç–∫—Ä—ã—Ç-–¥–ª—è-—Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è-–∑–∞–∫—Ä—ã—Ç-–¥–ª—è-–º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏–∏">1. Open/Closed Principle (–û—Ç–∫—Ä—ã—Ç –¥–ª—è —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è, –∑–∞–∫—Ä—ã—Ç –¥–ª—è –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏–∏)</a></h4>
<pre><code class="language-javascript">// –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ —Ç–∏–ø–∞ –Ω–µ —Ç—Ä–µ–±—É–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ –∫–æ–¥–∞
class CryptoPayment extends PaymentMethod {
  process(amount) {
    // –ù–æ–≤–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è
  }
}
</code></pre>
<p>–ú—ã <strong>—Ä–∞—Å—à–∏—Ä–∏–ª–∏</strong> —Å–∏—Å—Ç–µ–º—É, –Ω–æ <strong>–Ω–µ –∏–∑–º–µ–Ω–∏–ª–∏</strong> —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –∫–æ–¥.</p>
<h4 id="2-liskov-substitution-principle-–ü—Ä–∏–Ω—Ü–∏–ø-–ø–æ–¥—Å—Ç–∞–Ω–æ–≤–∫–∏-–ë–∞—Ä–±–∞—Ä—ã-–õ–∏—Å–∫–æ–≤"><a class="header" href="#2-liskov-substitution-principle-–ü—Ä–∏–Ω—Ü–∏–ø-–ø–æ–¥—Å—Ç–∞–Ω–æ–≤–∫–∏-–ë–∞—Ä–±–∞—Ä—ã-–õ–∏—Å–∫–æ–≤">2. Liskov Substitution Principle (–ü—Ä–∏–Ω—Ü–∏–ø –ø–æ–¥—Å—Ç–∞–Ω–æ–≤–∫–∏ –ë–∞—Ä–±–∞—Ä—ã –õ–∏—Å–∫–æ–≤)</a></h4>
<pre><code class="language-javascript">function checkout(paymentMethod) {
  // –õ—é–±–æ–π –Ω–∞—Å–ª–µ–¥–Ω–∏–∫ PaymentMethod –º–æ–∂–Ω–æ –ø–æ–¥—Å—Ç–∞–≤–∏—Ç—å
  paymentMethod.process(100);  // –û–¥–∏–Ω–∞–∫–æ–≤—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
}

// –í—Å–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –æ–¥–∏–Ω–∞–∫–æ–≤–æ
checkout(new CreditCardPayment());
checkout(new PayPalPayment());
checkout(new CryptoPayment());
</code></pre>
<p>–õ—é–±–æ–π –Ω–∞—Å–ª–µ–¥–Ω–∏–∫ –º–æ–∂–µ—Ç –±—ã—Ç—å <strong>–±–µ–∑–æ–ø–∞—Å–Ω–æ –ø–æ–¥—Å—Ç–∞–≤–ª–µ–Ω</strong> –≤–º–µ—Å—Ç–æ —Ä–æ–¥–∏—Ç–µ–ª—è.</p>
<h3 id="–ü—Ä–∏–º–µ—Ä-—Å-–∫–æ–ª–ª–µ–∫—Ü–∏—è–º–∏"><a class="header" href="#–ü—Ä–∏–º–µ—Ä-—Å-–∫–æ–ª–ª–µ–∫—Ü–∏—è–º–∏">–ü—Ä–∏–º–µ—Ä —Å –∫–æ–ª–ª–µ–∫—Ü–∏—è–º–∏</a></h3>
<pre><code class="language-javascript">// –ê–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∫–æ–ª–ª–µ–∫—Ü–∏–∏
class Collection {
  get length() { throw new Error('Must be implemented'); }
  [Symbol.iterator]() { throw new Error('Must be implemented'); }
}

// –ö–æ–ª–ª–µ–∫—Ü–∏—è –≤ –ø–∞–º—è—Ç–∏
class ArrayCollection extends Collection {
  constructor(items) {
    super();
    this.items = items;
  }

  get length() {
    return this.items.length;
  }

  *[Symbol.iterator]() {
    for (const item of this.items) {
      yield item;
    }
  }
}

// –ö–æ–ª–ª–µ–∫—Ü–∏—è —Å –ª–µ–Ω–∏–≤–æ–π –∑–∞–≥—Ä—É–∑–∫–æ–π –∏–∑ –ë–î
class DatabaseCollection extends Collection {
  constructor(query) {
    super();
    this.query = query;
    this.cachedLength = null;
  }

  get length() {
    if (!this.cachedLength) {
      // –ó–∞–≥—Ä—É–∂–∞–µ–º —Ç–æ–ª—å–∫–æ –¥–ª–∏–Ω—É
      this.cachedLength = db.count(this.query);
    }
    return this.cachedLength;
  }

  async *[Symbol.iterator]() {
    // –õ–µ–Ω–∏–≤–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –ø–æ —á–∞—Å—Ç—è–º
    const cursor = db.find(this.query);
    for await (const item of cursor) {
      yield item;
    }
  }
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ ‚Äî –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –æ–¥–∏–Ω–∞–∫–æ–≤—ã–π
function printLength(collection) {
  console.log(collection.length);  // –†–µ–∞–ª–∏–∑–∞—Ü–∏—è —Ä–∞–∑–Ω–∞—è!
}
</code></pre>
<h3 id="–ö–æ–≥–¥–∞-–ø—Ä–∏–º–µ–Ω—è—Ç—å"><a class="header" href="#–ö–æ–≥–¥–∞-–ø—Ä–∏–º–µ–Ω—è—Ç—å">–ö–æ–≥–¥–∞ –ø—Ä–∏–º–µ–Ω—è—Ç—å</a></h3>
<p>–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º, –∫–æ–≥–¥–∞:</p>
<ul>
<li>–í –∫–æ–¥–µ –º–Ω–æ–≥–æ <strong><code>if</code>/<code>case</code></strong> –ø–æ —Ç–∏–ø–∞–º</li>
<li>–ï—Å—Ç—å <strong>–∏–µ—Ä–∞—Ä—Ö–∏—è —Ç–∏–ø–æ–≤</strong> —Å –æ–±—â–∏–º –ø–æ–≤–µ–¥–µ–Ω–∏–µ–º</li>
<li>–ù—É–∂–Ω–æ <strong>–ª–µ–≥–∫–æ —Ä–∞—Å—à–∏—Ä—è—Ç—å</strong> —Å–∏—Å—Ç–µ–º—É –Ω–æ–≤—ã–º–∏ —Ç–∏–ø–∞–º–∏</li>
<li>–•–æ—Ç–∏—Ç–µ —Å–æ–±–ª—é–¥–∞—Ç—å <strong>Open/Closed</strong> –ø—Ä–∏–Ω—Ü–∏–ø</li>
</ul>
<h3 id="–ö–ª—é—á–µ–≤—ã–µ-–≤—ã–≤–æ–¥—ã-3"><a class="header" href="#–ö–ª—é—á–µ–≤—ã–µ-–≤—ã–≤–æ–¥—ã-3">–ö–ª—é—á–µ–≤—ã–µ –≤—ã–≤–æ–¥—ã</a></h3>
<ul>
<li>–ü–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º <strong>–∑–∞–º–µ–Ω—è–µ—Ç —É—Å–ª–æ–≤–∏—è</strong> –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ–º</li>
<li>–£–ø—Ä–æ—â–∞–µ—Ç –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö —Ç–∏–ø–æ–≤</li>
<li>–°–≤—è–∑–∞–Ω —Å Open/Closed –∏ Liskov Substitution –∏–∑ SOLID</li>
<li>–†–∞–±–æ—Ç–∞–µ–º —á–µ—Ä–µ–∑ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å, —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è —Ç–∏–ø–æ–º</li>
</ul>
<hr />
<h2 id="6-indirection-–ü–æ—Å—Ä–µ–¥–Ω–∏–∫"><a class="header" href="#6-indirection-–ü–æ—Å—Ä–µ–¥–Ω–∏–∫">6Ô∏è‚É£ Indirection (–ü–æ—Å—Ä–µ–¥–Ω–∏–∫)</a></h2>
<blockquote>
<p><strong>–°–Ω–∏–∂–µ–Ω–∏–µ –∑–∞—Ü–µ–ø–ª–µ–Ω–∏—è —á–µ—Ä–µ–∑ –æ–±—ä–µ–∫—Ç-–ø–æ—Å—Ä–µ–¥–Ω–∏–∫</strong></p>
</blockquote>
<h3 id="-–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ-5"><a class="header" href="#-–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ-5">üìù –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ</a></h3>
<p><strong>Indirection</strong> ‚Äî –ø—Ä–∏–Ω—Ü–∏–ø —Å–Ω–∏–∂–µ–Ω–∏—è –∑–∞—Ü–µ–ø–ª–µ–Ω–∏—è –º–µ–∂–¥—É –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏ –ø—É—Ç–µ–º –≤–≤–µ–¥–µ–Ω–∏—è <strong>–æ–±—ä–µ–∫—Ç–∞-–ø–æ—Å—Ä–µ–¥–Ω–∏–∫–∞</strong>.</p>
<h3 id="–ü—Ä–æ–±–ª–µ–º–∞-–∫–æ—Ç–æ—Ä—É—é-—Ä–µ—à–∞–µ—Ç-2"><a class="header" href="#–ü—Ä–æ–±–ª–µ–º–∞-–∫–æ—Ç–æ—Ä—É—é-—Ä–µ—à–∞–µ—Ç-2">–ü—Ä–æ–±–ª–µ–º–∞, –∫–æ—Ç–æ—Ä—É—é —Ä–µ—à–∞–µ—Ç</a></h3>
<p>–î–≤–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ –Ω–∞–ø—Ä—è–º—É—é –∑–∞–≤–∏—Å—è—Ç –¥—Ä—É–≥ –æ—Ç –¥—Ä—É–≥–∞, —á—Ç–æ —Å–æ–∑–¥–∞–µ—Ç:</p>
<ul>
<li>–í—ã—Å–æ–∫–æ–µ –∑–∞—Ü–µ–ø–ª–µ–Ω–∏–µ (coupling)</li>
<li>–°–ª–æ–∂–Ω–æ—Å—Ç—å –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è</li>
<li>–ñ–µ—Å—Ç–∫—É—é —Å–≤—è–∑—å –º–µ–∂–¥—É –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏</li>
</ul>
<h3 id="–†–µ—à–µ–Ω–∏–µ-3"><a class="header" href="#–†–µ—à–µ–Ω–∏–µ-3">–†–µ—à–µ–Ω–∏–µ</a></h3>
<p>–í–≤–æ–¥–∏–º <strong>–ø–æ—Å—Ä–µ–¥–Ω–∏–∫–∞</strong>, –∫–æ—Ç–æ—Ä—ã–π:</p>
<ul>
<li>–ó–Ω–∞–µ—Ç –æ–± –æ–±–æ–∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö</li>
<li>–ö–æ–æ—Ä–¥–∏–Ω–∏—Ä—É–µ—Ç –∏—Ö –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ</li>
<li>–°–Ω–∏–∂–∞–µ—Ç –∏—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –¥—Ä—É–≥ –æ—Ç –¥—Ä—É–≥–∞</li>
</ul>
<pre><code>–î–æ:  [A] ‚Üê‚Üí [B]  (–≤—ã—Å–æ–∫–æ–µ –∑–∞—Ü–µ–ø–ª–µ–Ω–∏–µ)

–ü–æ—Å–ª–µ: [A] ‚Üê [–ü–æ—Å—Ä–µ–¥–Ω–∏–∫] ‚Üí [B]  (–Ω–∏–∑–∫–æ–µ –∑–∞—Ü–µ–ø–ª–µ–Ω–∏–µ)
</code></pre>
<h3 id="–ü—Ä–∏–º–µ—Ä—ã-—Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏"><a class="header" href="#–ü—Ä–∏–º–µ—Ä—ã-—Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏">–ü—Ä–∏–º–µ—Ä—ã —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏</a></h3>
<h4 id="1-–ü–∞—Ç—Ç–µ—Ä–Ω-mediator-–ü–æ—Å—Ä–µ–¥–Ω–∏–∫"><a class="header" href="#1-–ü–∞—Ç—Ç–µ—Ä–Ω-mediator-–ü–æ—Å—Ä–µ–¥–Ω–∏–∫">1. –ü–∞—Ç—Ç–µ—Ä–Ω Mediator (–ü–æ—Å—Ä–µ–¥–Ω–∏–∫)</a></h4>
<pre><code class="language-javascript">// –ü–æ—Å—Ä–µ–¥–Ω–∏–∫ –∫–æ–æ—Ä–¥–∏–Ω–∏—Ä—É–µ—Ç –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ
class ChatMediator {
  constructor() {
    this.users = [];
  }

  register(user) {
    this.users.push(user);
    user.mediator = this;
  }

  send(message, from, to) {
    // –ü–æ—Å—Ä–µ–¥–Ω–∏–∫ —É–ø—Ä–∞–≤–ª—è–µ—Ç –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–µ–π
    to.receive(message, from);
  }
}

class User {
  constructor(name) {
    this.name = name;
  }

  send(message, to) {
    // –û—Ç–ø—Ä–∞–≤–∫–∞ —á–µ—Ä–µ–∑ –ø–æ—Å—Ä–µ–¥–Ω–∏–∫–∞
    this.mediator.send(message, this, to);
  }

  receive(message, from) {
    console.log(`${this.name} received: ${message} from ${from.name}`);
  }
}
</code></pre>
<h4 id="2-mvc-controller-–ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä-–∏–∑-mvc"><a class="header" href="#2-mvc-controller-–ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä-–∏–∑-mvc">2. MVC Controller (–ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä –∏–∑ MVC)</a></h4>
<pre><code class="language-javascript">// View –Ω–µ –∑–Ω–∞–µ—Ç –æ Model, Model –Ω–µ –∑–Ω–∞–µ—Ç –æ View
class TodoController {
  constructor(model, view) {
    this.model = model;
    this.view = view;

    // Controller –∑–Ω–∞–µ—Ç –æ–± –æ–±–æ–∏—Ö
    this.view.on('add-todo', (text) =&gt; {
      this.model.addTodo(text);
    });

    this.model.on('change', () =&gt; {
      this.view.render(this.model.getTodos());
    });
  }
}
</code></pre>
<h4 id="3-event-based-–∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏—è-–°–æ–±—ã—Ç–∏—è"><a class="header" href="#3-event-based-–∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏—è-–°–æ–±—ã—Ç–∏—è">3. Event-based –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏—è (–°–æ–±—ã—Ç–∏—è)</a></h4>
<pre><code class="language-javascript">// –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –æ–±—â–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ —Å–æ–±—ã—Ç–∏—è
class EventBus {
  constructor() {
    this.listeners = new Map();
  }

  on(event, handler) {
    if (!this.listeners.has(event)) {
      this.listeners.set(event, []);
    }
    this.listeners.get(event).push(handler);
  }

  emit(event, data) {
    const handlers = this.listeners.get(event) || [];
    handlers.forEach(handler =&gt; handler(data));
  }
}

// –ö–æ–º–ø–æ–Ω–µ–Ω—Ç A –Ω–µ –∑–Ω–∞–µ—Ç –æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ B
class ComponentA {
  constructor(eventBus) {
    this.eventBus = eventBus;
  }

  doSomething() {
    this.eventBus.emit('data-changed', { value: 42 });
  }
}

class ComponentB {
  constructor(eventBus) {
    this.eventBus = eventBus;
    this.eventBus.on('data-changed', this.handleChange.bind(this));
  }

  handleChange(data) {
    console.log('Received:', data);
  }
}
</code></pre>
<h3 id="–ó–∞—á–µ–º-–ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è-2"><a class="header" href="#–ó–∞—á–µ–º-–ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è-2">–ó–∞—á–µ–º –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è</a></h3>
<p>Indirection –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç:</p>
<ol>
<li>
<p><strong>–°–Ω–∏–∂–µ–Ω–∏–µ –∑–∞—Ü–µ–ø–ª–µ–Ω–∏—è</strong></p>
<ul>
<li>–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –Ω–µ –∑–∞–≤–∏—Å—è—Ç –Ω–∞–ø—Ä—è–º—É—é –¥—Ä—É–≥ –æ—Ç –¥—Ä—É–≥–∞</li>
<li>–ò–∑–º–µ–Ω–µ–Ω–∏–µ –æ–¥–Ω–æ–≥–æ –Ω–µ –≤–ª–∏—è–µ—Ç –Ω–∞ –¥—Ä—É–≥–æ–π</li>
</ul>
</li>
<li>
<p><strong>–£–ª—É—á—à–µ–Ω–∏–µ –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è</strong></p>
<ul>
<li>–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ</li>
<li>–õ–µ–≥–∫–æ –∑–∞–º–µ–Ω–∏—Ç—å –æ–¥–Ω—É —á–∞—Å—Ç—å —Å–∏—Å—Ç–µ–º—ã</li>
</ul>
</li>
<li>
<p><strong>–£–ø—Ä–æ—â–µ–Ω–∏–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è</strong></p>
<ul>
<li>–ú–æ–∂–Ω–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω–æ</li>
<li>–õ–µ–≥–∫–æ —Å–æ–∑–¥–∞–≤–∞—Ç—å mock-–æ–±—ä–µ–∫—Ç—ã</li>
</ul>
</li>
</ol>
<h3 id="–ü—Ä–∏–º–µ—Ä-–∞–±—Å—Ç—Ä–∞–≥–∏—Ä–æ–≤–∞–Ω–∏–µ-ui-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤"><a class="header" href="#–ü—Ä–∏–º–µ—Ä-–∞–±—Å—Ç—Ä–∞–≥–∏—Ä–æ–≤–∞–Ω–∏–µ-ui-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤">–ü—Ä–∏–º–µ—Ä: –∞–±—Å—Ç—Ä–∞–≥–∏—Ä–æ–≤–∞–Ω–∏–µ UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤</a></h3>
<pre><code class="language-javascript">// –ö–Ω–æ–ø–∫–∞ –Ω–µ –∑–Ω–∞–µ—Ç –æ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–µ –ø–æ–∫—É–ø–æ–∫
class Button {
  constructor(label) {
    this.label = label;
    this.clickHandlers = [];
  }

  onClick(handler) {
    this.clickHandlers.push(handler);
  }

  click() {
    this.clickHandlers.forEach(h =&gt; h());
  }
}

// –ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä —Å–≤—è–∑—ã–≤–∞–µ—Ç –∫–Ω–æ–ø–∫—É —Å –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–æ–π
class CheckoutController {
  constructor(button, orderService) {
    this.button = button;
    this.orderService = orderService;

    // –ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä –∑–Ω–∞–µ—Ç –æ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–µ –∏ UI
    this.button.onClick(() =&gt; {
      this.orderService.checkout();
    });
  }
}
</code></pre>
<p>–ö–Ω–æ–ø–∫–∞ <strong>–ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è</strong> –≤ —Ä–∞–∑–Ω—ã—Ö –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞—Ö, –ø–æ—Ç–æ–º—É —á—Ç–æ –Ω–µ –ø—Ä–∏–≤—è–∑–∞–Ω–∞ –∫ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –ª–æ–≥–∏–∫–µ.</p>
<h3 id="–ö–ª—é—á–µ–≤—ã–µ-–≤—ã–≤–æ–¥—ã-4"><a class="header" href="#–ö–ª—é—á–µ–≤—ã–µ-–≤—ã–≤–æ–¥—ã-4">–ö–ª—é—á–µ–≤—ã–µ –≤—ã–≤–æ–¥—ã</a></h3>
<ul>
<li>Indirection –≤–≤–æ–¥–∏—Ç –ø–æ—Å—Ä–µ–¥–Ω–∏–∫–∞ –º–µ–∂–¥—É –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏</li>
<li>–°–Ω–∏–∂–∞–µ—Ç –∑–∞—Ü–µ–ø–ª–µ–Ω–∏–µ, —É–ª—É—á—à–∞–µ—Ç –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ</li>
<li>–ü—Ä–∏–º–µ—Ä—ã: Mediator, MVC Controller, Events</li>
<li>–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –Ω–µ –∑–Ω–∞—é—Ç –¥—Ä—É–≥ –æ –¥—Ä—É–≥–µ –Ω–∞–ø—Ä—è–º—É—é</li>
</ul>
<hr />
<h2 id="7-pure-fabrication-–ß–∏—Å—Ç–∞—è-–≤—ã–¥—É–º–∫–∞"><a class="header" href="#7-pure-fabrication-–ß–∏—Å—Ç–∞—è-–≤—ã–¥—É–º–∫–∞">7Ô∏è‚É£ Pure Fabrication (–ß–∏—Å—Ç–∞—è –≤—ã–¥—É–º–∫–∞)</a></h2>
<blockquote>
<p><strong>–°–∏—Å—Ç–µ–º–Ω—ã–µ –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–∏ –≤–Ω–µ –ø—Ä–µ–¥–º–µ—Ç–Ω–æ–π –æ–±–ª–∞—Å—Ç–∏</strong></p>
</blockquote>
<h3 id="-–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ-6"><a class="header" href="#-–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ-6">üìù –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ</a></h3>
<p><strong>Pure Fabrication</strong> ‚Äî –ø—Ä–∏–Ω—Ü–∏–ø —Å–æ–∑–¥–∞–Ω–∏—è –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–π, –∫–æ—Ç–æ—Ä—ã—Ö –Ω–µ—Ç –≤ –º–æ–¥–µ–ª–∏—Ä—É–µ–º–æ–π –ø—Ä–µ–¥–º–µ—Ç–Ω–æ–π –æ–±–ª–∞—Å—Ç–∏. –≠—Ç–æ —Å–∏—Å—Ç–µ–º–Ω—ã–µ, –º–∞—à–∏–Ω–Ω–æ-–æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–∏, —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ –¥–ª—è –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã.</p>
<h3 id="–ß—Ç–æ-—ç—Ç–æ-—Ç–∞–∫–æ–µ-1"><a class="header" href="#–ß—Ç–æ-—ç—Ç–æ-—Ç–∞–∫–æ–µ-1">–ß—Ç–æ —ç—Ç–æ —Ç–∞–∫–æ–µ</a></h3>
<p>–ê–±—Å—Ç—Ä–∞–∫—Ü–∏–∏, –∫–æ—Ç–æ—Ä—ã–µ:</p>
<ul>
<li><strong>–ù–µ —Å—É—â–µ—Å—Ç–≤—É—é—Ç</strong> –≤ —Ä–µ–∞–ª—å–Ω–æ–π –ø—Ä–µ–¥–º–µ—Ç–Ω–æ–π –æ–±–ª–∞—Å—Ç–∏</li>
<li><strong>–ú–∞—à–∏–Ω–Ω–æ-–æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ</strong> (—Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ)</li>
<li>–û—Ç–Ω–æ—Å—è—Ç—Å—è –∫ <strong>–æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç—è–º –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã</strong></li>
<li>–Ø–≤–ª—è—é—Ç—Å—è <strong>–∏–Ω–∂–µ–Ω–µ—Ä–Ω–æ–π –≤—ã–¥—É–º–∫–æ–π</strong></li>
</ul>
<h3 id="–ü—Ä–∏–º–µ—Ä—ã-pure-fabrication"><a class="header" href="#–ü—Ä–∏–º–µ—Ä—ã-pure-fabrication">–ü—Ä–∏–º–µ—Ä—ã Pure Fabrication</a></h3>
<h4 id="1-iterator-–ò—Ç–µ—Ä–∞—Ç–æ—Ä"><a class="header" href="#1-iterator-–ò—Ç–µ—Ä–∞—Ç–æ—Ä">1. Iterator (–ò—Ç–µ—Ä–∞—Ç–æ—Ä)</a></h4>
<pre><code class="language-javascript">// Iterator ‚Äî —á–∏—Å—Ç–∞—è –≤—ã–¥—É–º–∫–∞ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç–∞
const array = [1, 2, 3];
const iterator = array[Symbol.iterator]();

iterator.next(); // { value: 1, done: false }
iterator.next(); // { value: 2, done: false }
</code></pre>
<p>–í –ø—Ä–µ–¥–º–µ—Ç–Ω–æ–π –æ–±–ª–∞—Å—Ç–∏ –∏—Ç–µ—Ä–∞—Ç–æ—Ä–æ–≤ –Ω–µ—Ç ‚Äî —ç—Ç–æ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –∞–±—Å—Ç—Ä–∞–∫—Ü–∏—è –¥–ª—è —É–¥–æ–±—Å—Ç–≤–∞.</p>
<h4 id="2-promise-–ü—Ä–æ–º–∏—Å"><a class="header" href="#2-promise-–ü—Ä–æ–º–∏—Å">2. Promise (–ü—Ä–æ–º–∏—Å)</a></h4>
<pre><code class="language-javascript">// Promise ‚Äî —Å–∏—Å—Ç–µ–º–Ω–∞—è –∞–±—Å—Ç—Ä–∞–∫—Ü–∏—è –¥–ª—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç–∏
const promise = new Promise((resolve, reject) =&gt; {
  setTimeout(() =&gt; resolve('done'), 1000);
});

promise.then(result =&gt; console.log(result));
</code></pre>
<p>–ü—Ä–æ–º–∏—Å—ã ‚Äî —ç—Ç–æ –Ω–∞—à–∞ <strong>–≤—ã–¥—É–º–∫–∞</strong> –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–º –∫–æ–¥–æ–º.</p>
<h4 id="3-–ö–æ–ª–ª–µ–∫—Ü–∏–∏-–∏-—Å—Ç—Ä—É–∫—Ç—É—Ä—ã-–¥–∞–Ω–Ω—ã—Ö"><a class="header" href="#3-–ö–æ–ª–ª–µ–∫—Ü–∏–∏-–∏-—Å—Ç—Ä—É–∫—Ç—É—Ä—ã-–¥–∞–Ω–Ω—ã—Ö">3. –ö–æ–ª–ª–µ–∫—Ü–∏–∏ –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö</a></h4>
<pre><code class="language-javascript">// LinkedList, Queue, Set ‚Äî —á–∏—Å—Ç–∞—è –≤—ã–¥—É–º–∫–∞
class LinkedList {
  constructor() {
    this.head = null;
    this.tail = null;
  }

  append(value) { /* ... */ }
  remove(value) { /* ... */ }
}
</code></pre>
<p>–í –ø—Ä–µ–¥–º–µ—Ç–Ω–æ–π –æ–±–ª–∞—Å—Ç–∏ –Ω–µ—Ç "–¥–≤—É—Å–≤—è–∑–Ω—ã—Ö —Å–ø–∏—Å–∫–æ–≤" ‚Äî —ç—Ç–æ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –∞–±—Å—Ç—Ä–∞–∫—Ü–∏—è.</p>
<h4 id="4-–°–æ–±—ã—Ç–∏—è-–∏-–æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏-–æ—à–∏–±–æ–∫"><a class="header" href="#4-–°–æ–±—ã—Ç–∏—è-–∏-–æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏-–æ—à–∏–±–æ–∫">4. –°–æ–±—ã—Ç–∏—è –∏ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –æ—à–∏–±–æ–∫</a></h4>
<pre><code class="language-javascript">// –û—à–∏–±–∫–∏ ‚Äî —Å–∏—Å—Ç–µ–º–Ω–∞—è –∞–±—Å—Ç—Ä–∞–∫—Ü–∏—è
try {
  throw new Error('Something went wrong');
} catch (error) {
  console.error(error.message);
}

// EventEmitter ‚Äî —á–∏—Å—Ç–∞—è –≤—ã–¥—É–º–∫–∞
emitter.on('event', handler);
emitter.emit('event', data);
</code></pre>
<h3 id="–°–∏—Å—Ç–µ–º–Ω—ã–µ-–∞–±—Å—Ç—Ä–∞–∫—Ü–∏–∏-–≤-nodejs"><a class="header" href="#–°–∏—Å—Ç–µ–º–Ω—ã–µ-–∞–±—Å—Ç—Ä–∞–∫—Ü–∏–∏-–≤-nodejs">–°–∏—Å—Ç–µ–º–Ω—ã–µ –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–∏ –≤ Node.js</a></h3>
<p>–í Node.js –º–Ω–æ–≥–æ –ø—Ä–∏–º–µ—Ä–æ–≤ Pure Fabrication:</p>
<pre><code class="language-javascript">// –§–∞–π–ª–æ–≤—ã–π –¥–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä ‚Äî —Å–∏—Å—Ç–µ–º–Ω–∞—è –∞–±—Å—Ç—Ä–∞–∫—Ü–∏—è
const fd = fs.openSync('file.txt', 'r');

// Stream ‚Äî —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –∞–±—Å—Ç—Ä–∞–∫—Ü–∏—è
const stream = fs.createReadStream('file.txt');

// Buffer ‚Äî –Ω–∏–∑–∫–æ—É—Ä–æ–≤–Ω–µ–≤–∞—è –∞–±—Å—Ç—Ä–∞–∫—Ü–∏—è
const buffer = Buffer.from('hello');

// Connection Pool ‚Äî –≤—ã–¥—É–º–∫–∞ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ä–µ—Å—É—Ä—Å–∞–º–∏
const pool = new ConnectionPool(10);
</code></pre>
<h3 id="–ó–∞—á–µ–º-–ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è-3"><a class="header" href="#–ó–∞—á–µ–º-–ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è-3">–ó–∞—á–µ–º –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è</a></h3>
<p>Pure Fabrication –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç:</p>
<ol>
<li>
<p><strong>–ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞</strong></p>
<ul>
<li>–°–∏—Å—Ç–µ–º–Ω—ã–µ –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–∏ —Ä–∞–±–æ—Ç–∞—é—Ç –≤ –ª—é–±–æ–π –ø—Ä–µ–¥–º–µ—Ç–Ω–æ–π –æ–±–ª–∞—Å—Ç–∏</li>
<li>–ù–µ –Ω—É–∂–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤—ã–≤–∞—Ç—å –∑–∞–Ω–æ–≤–æ</li>
</ul>
</li>
<li>
<p><strong>–£–º–µ–Ω—å—à–µ–Ω–∏–µ –∫–æ–¥–∞ –≤ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–µ</strong></p>
<ul>
<li>–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏ —Å–∫—Ä—ã—Ç—ã –≤ —Å–∏—Å—Ç–µ–º–Ω—ã—Ö –∞–±—Å—Ç—Ä–∞–∫—Ü–∏—è—Ö</li>
<li>–ë–∏–∑–Ω–µ—Å-–∫–æ–¥ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è —á–∏—â–µ –∏ –ø–æ–Ω—è—Ç–Ω–µ–µ</li>
</ul>
</li>
<li>
<p><strong>–†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏</strong></p>
<ul>
<li>–ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ –æ—Ç–¥–µ–ª–µ–Ω–∞ –æ—Ç —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏—Ö –¥–µ—Ç–∞–ª–µ–π</li>
<li>–ö–ª–∞—Å—Å—ã –ø—Ä–µ–¥–º–µ—Ç–Ω–æ–π –æ–±–ª–∞—Å—Ç–∏ –º–µ–Ω—å—à–µ –∑–∞—Ü–µ–ø–ª–µ–Ω—ã</li>
</ul>
</li>
</ol>
<h3 id="–ü—Ä–∏–º–µ—Ä-asyncawait-vs-callbacks"><a class="header" href="#–ü—Ä–∏–º–µ—Ä-asyncawait-vs-callbacks">–ü—Ä–∏–º–µ—Ä: async/await vs callbacks</a></h3>
<pre><code class="language-javascript">// –ù–∞ –∫–æ–ª–±—ç–∫–∞—Ö ‚Äî –º–Ω–æ–≥–æ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏—Ö –¥–µ—Ç–∞–ª–µ–π –≤ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–µ
function processOrder(orderId, callback) {
  db.findOrder(orderId, (err, order) =&gt; {
    if (err) return callback(err);

    payment.charge(order.total, (err, result) =&gt; {
      if (err) return callback(err);

      shipping.send(order, (err, tracking) =&gt; {
        if (err) return callback(err);
        callback(null, tracking);
      });
    });
  });
}

// –ù–∞ async/await ‚Äî –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ —á–∏—â–µ
async function processOrder(orderId) {
  const order = await db.findOrder(orderId);
  const result = await payment.charge(order.total);
  const tracking = await shipping.send(order);
  return tracking;
}
</code></pre>
<p><strong>Pure Fabrication</strong> (async/await) —É–±–∏—Ä–∞–µ—Ç —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏ –∏–∑ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏.</p>
<h3 id="–í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ-vs-—Å–∞–º–æ–ø–∏—Å–Ω—ã–µ-–∞–±—Å—Ç—Ä–∞–∫—Ü–∏–∏"><a class="header" href="#–í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ-vs-—Å–∞–º–æ–ø–∏—Å–Ω—ã–µ-–∞–±—Å—Ç—Ä–∞–∫—Ü–∏–∏">–í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ vs —Å–∞–º–æ–ø–∏—Å–Ω—ã–µ –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–∏</a></h3>
<p>–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ <strong>–≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ</strong> —Å–∏—Å—Ç–µ–º–Ω—ã–µ –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–∏:</p>
<ul>
<li>Promise, Iterator, Set, Map ‚Äî —É–∂–µ –µ—Å—Ç—å –≤ JavaScript</li>
<li>Stream, Buffer, EventEmitter ‚Äî —É–∂–µ –µ—Å—Ç—å –≤ Node.js</li>
</ul>
<p>–ù–µ –Ω—É–∂–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤—ã–≤–∞—Ç—å –∑–∞–Ω–æ–≤–æ, –µ—Å–ª–∏ –µ—Å—Ç—å –≥–æ—Ç–æ–≤–æ–µ —Ä–µ—à–µ–Ω–∏–µ –≤ –ø–ª–∞—Ç—Ñ–æ—Ä–º–µ.</p>
<h3 id="–ö–ª—é—á–µ–≤—ã–µ-–≤—ã–≤–æ–¥—ã-5"><a class="header" href="#–ö–ª—é—á–µ–≤—ã–µ-–≤—ã–≤–æ–¥—ã-5">–ö–ª—é—á–µ–≤—ã–µ –≤—ã–≤–æ–¥—ã</a></h3>
<ul>
<li>Pure Fabrication ‚Äî –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–∏ –≤–Ω–µ –ø—Ä–µ–¥–º–µ—Ç–Ω–æ–π –æ–±–ª–∞—Å—Ç–∏</li>
<li>–≠—Ç–æ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ, —Å–∏—Å—Ç–µ–º–Ω—ã–µ –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–∏</li>
<li>–ü—Ä–∏–º–µ—Ä—ã: Iterator, Promise, Stream, Error</li>
<li>–£–º–µ–Ω—å—à–∞—é—Ç –∫–æ–¥ –≤ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–µ</li>
<li>–ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤ –ª—é–±—ã—Ö –ø—Ä–æ–µ–∫—Ç–∞—Ö</li>
</ul>
<hr />
<h2 id="8-protected-variations-–ó–∞—â–∏—Ç–∞-–æ—Ç-–∏–∑–º–µ–Ω–µ–Ω–∏–π"><a class="header" href="#8-protected-variations-–ó–∞—â–∏—Ç–∞-–æ—Ç-–∏–∑–º–µ–Ω–µ–Ω–∏–π">8Ô∏è‚É£ Protected Variations (–ó–∞—â–∏—Ç–∞ –æ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–π)</a></h2>
<blockquote>
<p><strong>–£—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å –∫ –∏–∑–º–µ–Ω–µ–Ω–∏—è–º —á–µ—Ä–µ–∑ —Å—Ç–∞–±–∏–ª—å–Ω—ã–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã</strong></p>
</blockquote>
<h3 id="-–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ-7"><a class="header" href="#-–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ-7">üìù –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ</a></h3>
<p><strong>Protected Variations</strong> ‚Äî –ø—Ä–∏–Ω—Ü–∏–ø –∑–∞—â–∏—Ç—ã –æ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–π –ø—É—Ç–µ–º –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —á–µ—Ä–µ–∑ —Å—Ç–∞–±–∏–ª—å–Ω—ã–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –∏ –∫–æ–Ω—Ç—Ä–∞–∫—Ç—ã.</p>
<p>–≠—Ç–æ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ:</p>
<ul>
<li><strong>–†–µ–∑—É–ª—å—Ç–∞—Ç</strong> –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –≤—Å–µ—Ö –ø—Ä–µ–¥—ã–¥—É—â–∏—Ö –ø—Ä–∏–Ω—Ü–∏–ø–æ–≤ GRASP</li>
<li><strong>–°–ø–æ—Å–æ–±</strong> –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è —É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç–∏ –∫ –∏–∑–º–µ–Ω–µ–Ω–∏—è–º</li>
</ul>
<h3 id="–ü—Ä–æ–±–ª–µ–º–∞-–∫–æ—Ç–æ—Ä—É—é-—Ä–µ—à–∞–µ—Ç-3"><a class="header" href="#–ü—Ä–æ–±–ª–µ–º–∞-–∫–æ—Ç–æ—Ä—É—é-—Ä–µ—à–∞–µ—Ç-3">–ü—Ä–æ–±–ª–µ–º–∞, –∫–æ—Ç–æ—Ä—É—é —Ä–µ—à–∞–µ—Ç</a></h3>
<p>–ö–æ–¥ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å <strong>—É—Å—Ç–æ–π—á–∏–≤ –∫ –∏–∑–º–µ–Ω–µ–Ω–∏—è–º</strong>:</p>
<ul>
<li>–ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ –æ–¥–Ω–æ–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ –Ω–µ –¥–æ–ª–∂–Ω—ã –ª–æ–º–∞—Ç—å –¥—Ä—É–≥–∏–µ</li>
<li>–í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –Ω–µ –¥–æ–ª–∂–Ω—ã –≤–ª–∏—è—Ç—å –Ω–∞ –≤–Ω–µ—à–Ω–∏–π API</li>
<li>–ù—É–∂–Ω–∞ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Ä–∞–∑–≤–∏–≤–∞—Ç—å —Å–∏—Å—Ç–µ–º—É –±–µ–∑ –ø–æ–ª–æ–º–æ–∫</li>
</ul>
<h3 id="–†–µ—à–µ–Ω–∏–µ-4"><a class="header" href="#–†–µ—à–µ–Ω–∏–µ-4">–†–µ—à–µ–Ω–∏–µ</a></h3>
<p>–í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ –º–µ–∂–¥—É –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏ —á–µ—Ä–µ–∑:</p>
<ol>
<li><strong>–°–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—é –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤</strong></li>
<li><strong>–ö–æ–Ω—Ç—Ä–∞–∫—Ç–Ω–æ–µ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ</strong></li>
<li><strong>–°–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–æ–µ –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ</strong></li>
</ol>
<pre><code class="language-javascript">// –ö–æ–Ω—Ç—Ä–∞–∫—Ç ‚Äî —Å—Ç–∞–±–∏–ª—å–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
interface PaymentGateway {
  charge(amount: number): Promise&lt;PaymentResult&gt;;
  refund(transactionId: string): Promise&lt;void&gt;;
}

// –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –º–æ–∂–µ—Ç –º–µ–Ω—è—Ç—å—Å—è
class StripeGateway implements PaymentGateway {
  async charge(amount: number) {
    // –î–µ—Ç–∞–ª–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –º–æ–≥—É—Ç –º–µ–Ω—è—Ç—å—Å—è
    // –ù–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –æ—Å—Ç–∞–µ—Ç—Å—è —Å—Ç–∞–±–∏–ª—å–Ω—ã–º
  }
}
</code></pre>
<h3 id="–ö–æ–Ω—Ç—Ä–∞–∫—Ç–Ω–æ–µ-–ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ"><a class="header" href="#–ö–æ–Ω—Ç—Ä–∞–∫—Ç–Ω–æ–µ-–ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ">–ö–æ–Ω—Ç—Ä–∞–∫—Ç–Ω–æ–µ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ</a></h3>
<p><strong>–ö–æ–Ω—Ç—Ä–∞–∫—Ç</strong> –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç:</p>
<ul>
<li>–ß—Ç–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç <strong>–ø—Ä–∏–Ω–∏–º–∞–µ—Ç</strong> (–≤—Ö–æ–¥–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã)</li>
<li>–ß—Ç–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç <strong>–≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç</strong> (—Ä–µ–∑—É–ª—å—Ç–∞—Ç)</li>
<li>–ö–∞–∫–∏–µ <strong>–≥–∞—Ä–∞–Ω—Ç–∏–∏</strong> –æ–Ω –¥–∞–µ—Ç (–∏–Ω–≤–∞—Ä–∏–∞–Ω—Ç—ã)</li>
</ul>
<pre><code class="language-typescript">/**
 * –í—ã—á–∏—Å–ª—è–µ—Ç —Å—É–º–º—É –∑–∞–∫–∞–∑–∞
 * @param items - –º–∞—Å—Å–∏–≤ —Ç–æ–≤–∞—Ä–æ–≤ (–Ω–µ –ø—É—Å—Ç–æ–π)
 * @returns —Å—É–º–º–∞ &gt;= 0
 */
function calculateTotal(items: Item[]): number {
  // –ö–æ–Ω—Ç—Ä–∞–∫—Ç –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç &gt;= 0
  return items.reduce((sum, item) =&gt; sum + item.price, 0);
}
</code></pre>
<p>–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Ä–∞–±–æ—Ç–∞–µ—Ç —Å <strong>–∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–º</strong>, –∞ –Ω–µ —Å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–µ–π.</p>
<h3 id="–°–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–æ–µ-–≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ-semver"><a class="header" href="#–°–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–æ–µ-–≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ-semver">–°–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–æ–µ –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ (SemVer)</a></h3>
<p><strong>SemVer</strong> ‚Äî —Ñ–æ—Ä–º–∞—Ç –≤–µ—Ä—Å–∏–π: <code>MAJOR.MINOR.PATCH</code></p>
<pre><code>1.2.3
‚îÇ ‚îÇ ‚îî‚îÄ PATCH: –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –±–∞–≥–æ–≤ (–æ–±—Ä–∞—Ç–Ω–æ —Å–æ–≤–º–µ—Å—Ç–∏–º—ã)
‚îÇ ‚îî‚îÄ‚îÄ‚îÄ MINOR: –Ω–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ (–æ–±—Ä–∞—Ç–Ω–æ —Å–æ–≤–º–µ—Å—Ç–∏–º—ã)
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ MAJOR: breaking changes (–Ω–µ—Å–æ–≤–º–µ—Å—Ç–∏–º—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è)
</code></pre>
<h4 id="–ß—Ç–æ-–æ–∑–Ω–∞—á–∞–µ—Ç-–∫–∞–∂–¥–∞—è-—á–∞—Å—Ç—å"><a class="header" href="#–ß—Ç–æ-–æ–∑–Ω–∞—á–∞–µ—Ç-–∫–∞–∂–¥–∞—è-—á–∞—Å—Ç—å">–ß—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç –∫–∞–∂–¥–∞—è —á–∞—Å—Ç—å</a></h4>
<div class="table-wrapper"><table><thead><tr><th>–í–µ—Ä—Å–∏—è –∏–∑–º–µ–Ω–∏–ª–∞—Å—å</th><th>–ß—Ç–æ –ø—Ä–æ–∏–∑–æ—à–ª–æ</th><th>–ù—É–∂–µ–Ω –ª–∏ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥?</th></tr></thead><tbody>
<tr><td><code>1.0.0 ‚Üí 1.0.1</code></td><td>–ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –±–∞–≥–∏</td><td>–ù–µ—Ç</td></tr>
<tr><td><code>1.0.0 ‚Üí 1.1.0</code></td><td>–î–æ–±–∞–≤–ª–µ–Ω—ã –Ω–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏</td><td>–ù–µ—Ç</td></tr>
<tr><td><code>1.0.0 ‚Üí 2.0.0</code></td><td>Breaking changes, API –∏–∑–º–µ–Ω–∏–ª—Å—è</td><td><strong>–î–∞</strong></td></tr>
</tbody></table>
</div>
<h4 id="–ö–æ–≥–¥–∞-—É–≤–µ–ª–∏—á–∏–≤–∞—Ç—å-–≤–µ—Ä—Å–∏—é"><a class="header" href="#–ö–æ–≥–¥–∞-—É–≤–µ–ª–∏—á–∏–≤–∞—Ç—å-–≤–µ—Ä—Å–∏—é">–ö–æ–≥–¥–∞ —É–≤–µ–ª–∏—á–∏–≤–∞—Ç—å –≤–µ—Ä—Å–∏—é</a></h4>
<pre><code class="language-javascript">// PATCH (1.0.0 ‚Üí 1.0.1): –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±–∞–≥–∞
function add(a, b) {
  return a + b;  // –ë—ã–ª–æ: return a - b (–±–∞–≥)
}

// MINOR (1.0.0 ‚Üí 1.1.0): –Ω–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏—è
function multiply(a, b) {
  return a * b;  // –ù–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏—è, —Å—Ç–∞—Ä—ã–µ —Ä–∞–±–æ—Ç–∞—é—Ç
}

// MAJOR (1.0.0 ‚Üí 2.0.0): breaking change
function add(numbers) {  // –ë—ã–ª–æ: add(a, b)
  return numbers.reduce((sum, n) =&gt; sum + n, 0);
}
</code></pre>
<h3 id="–°–≤—è–∑—å-—Å-openclosed-principle"><a class="header" href="#–°–≤—è–∑—å-—Å-openclosed-principle">–°–≤—è–∑—å —Å Open/Closed Principle</a></h3>
<p><strong>SemVer</strong> –∫–æ—Ä—Ä–µ–ª–∏—Ä—É–µ—Ç —Å <strong>Open/Closed Principle</strong> –∏–∑ SOLID:</p>
<div class="table-wrapper"><table><thead><tr><th>–ü—Ä–∏–Ω—Ü–∏–ø</th><th>–í–µ—Ä—Å–∏—è</th><th>–û–ø–∏—Å–∞–Ω–∏–µ</th></tr></thead><tbody>
<tr><td>Open (—Ä–∞—Å—à–∏—Ä—è–µ–º)</td><td>MINOR ‚Üë</td><td>–î–æ–±–∞–≤–∏–ª–∏ —Ñ—É–Ω–∫—Ü–∏–∏, —Å—Ç–∞—Ä—ã–µ —Ä–∞–±–æ—Ç–∞—é—Ç</td></tr>
<tr><td>Closed (–∑–∞–∫—Ä—ã—Ç)</td><td>PATCH ‚Üë</td><td>–í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è, –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Ç–æ—Ç –∂–µ</td></tr>
<tr><td>–ù–∞—Ä—É—à–∏–ª–∏ –∑–∞–∫—Ä—ã—Ç–æ—Å—Ç—å</td><td>MAJOR ‚Üë</td><td>–ò–∑–º–µ–Ω–∏–ª–∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å (breaking change)</td></tr>
</tbody></table>
</div>
<pre><code class="language-javascript">// –°–æ–±–ª—é–¥–µ–Ω–∏–µ Open/Closed ‚Üí MINOR –≤–µ—Ä—Å–∏—è
class PaymentGateway {
  charge(amount) { /* ... */ }

  // –î–æ–±–∞–≤–∏–ª–∏ –Ω–æ–≤—ã–π –º–µ—Ç–æ–¥, —Å—Ç–∞—Ä—ã–µ –Ω–µ –∏–∑–º–µ–Ω–∏–ª–∏—Å—å
  chargeBatch(amounts) { /* ... */ }  // MINOR: 1.0.0 ‚Üí 1.1.0
}

// –ù–∞—Ä—É—à–µ–Ω–∏–µ Open/Closed ‚Üí MAJOR –≤–µ—Ä—Å–∏—è
class PaymentGateway {
  // –ò–∑–º–µ–Ω–∏–ª–∏ —Å–∏–≥–Ω–∞—Ç—É—Ä—É –º–µ—Ç–æ–¥–∞
  charge(request) { /* ... */ }  // –ë—ã–ª–æ: charge(amount)
  // MAJOR: 1.0.0 ‚Üí 2.0.0
}
</code></pre>
<h3 id="–ö–æ–≥–¥–∞-–º—ã-—É—Å—Ç–æ–π—á–∏–≤—ã-–∫-–∏–∑–º–µ–Ω–µ–Ω–∏—è–º"><a class="header" href="#–ö–æ–≥–¥–∞-–º—ã-—É—Å—Ç–æ–π—á–∏–≤—ã-–∫-–∏–∑–º–µ–Ω–µ–Ω–∏—è–º">–ö–æ–≥–¥–∞ –º—ã —É—Å—Ç–æ–π—á–∏–≤—ã –∫ –∏–∑–º–µ–Ω–µ–Ω–∏—è–º</a></h3>
<p>–£—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å –¥–æ—Å—Ç–∏–≥–∞–µ—Ç—Å—è –∫–æ–≥–¥–∞:</p>
<ol>
<li>
<p><strong>–ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –Ω—É–º–µ—Ä–∞—Ü–∏—è –≤–µ—Ä—Å–∏–π</strong> (SemVer)</p>
<ul>
<li>–ü–æ–Ω—è—Ç–Ω–æ, –∫–∞–∫–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è breaking, –∫–∞–∫–∏–µ –Ω–µ—Ç</li>
<li>–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –∑–Ω–∞—é—Ç, –Ω—É–∂–µ–Ω –ª–∏ –∏–º —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥</li>
</ul>
</li>
<li>
<p><strong>–°–æ–±–ª—é–¥–µ–Ω–∏–µ –≤—Å–µ—Ö GRASP –ø—Ä–∏–Ω—Ü–∏–ø–æ–≤</strong></p>
<ul>
<li>Information Expert ‚Üí —á–µ—Ç–∫–æ–µ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏</li>
<li>Low Coupling ‚Üí –∏–∑–º–µ–Ω–µ–Ω–∏—è –ª–æ–∫–∞–ª–∏–∑–æ–≤–∞–Ω—ã</li>
<li>High Cohesion ‚Üí —Å–≤—è–∑–∞–Ω–Ω–æ–µ –º–µ–Ω—è–µ—Ç—Å—è –≤–º–µ—Å—Ç–µ</li>
</ul>
</li>
<li>
<p><strong>–û–ø–∏—Å–∞–Ω–∏–µ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤</strong></p>
<ul>
<li>TypeScript —Ç–∏–ø—ã (.d.ts —Ñ–∞–π–ª—ã)</li>
<li>JSDoc –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏</li>
<li>–ß–µ—Ç–∫–∞—è —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è exports</li>
</ul>
</li>
</ol>
<pre><code class="language-typescript">// –ö–æ–Ω—Ç—Ä–∞–∫—Ç —á–µ—Ä–µ–∑ TypeScript
export interface UserService {
  findById(id: string): Promise&lt;User | null&gt;;
  create(data: UserData): Promise&lt;User&gt;;
}

// –í–µ—Ä—Å–∏—è –≤ package.json
{
  "name": "user-service",
  "version": "1.2.3",  // SemVer
  "types": "index.d.ts"  // –¢–∏–ø—ã
}
</code></pre>
<h3 id="–ü—Ä–∏–º–µ—Ä-–∏–∑–º–µ–Ω–µ–Ω–∏—è-–±–µ–∑-–ø–æ–ª–æ–º–æ–∫"><a class="header" href="#–ü—Ä–∏–º–µ—Ä-–∏–∑–º–µ–Ω–µ–Ω–∏—è-–±–µ–∑-–ø–æ–ª–æ–º–æ–∫">–ü—Ä–∏–º–µ—Ä: –∏–∑–º–µ–Ω–µ–Ω–∏—è –±–µ–∑ –ø–æ–ª–æ–º–æ–∫</a></h3>
<pre><code class="language-javascript">// –í–µ—Ä—Å–∏—è 1.0.0 ‚Äî –∏—Å—Ö–æ–¥–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
class Database {
  find(query) {
    return this.collection.find(query);
  }
}

// –í–µ—Ä—Å–∏—è 1.1.0 ‚Äî –¥–æ–±–∞–≤–∏–ª–∏ –æ–ø—Ü–∏–∏ (–æ–±—Ä–∞—Ç–Ω–æ —Å–æ–≤–º–µ—Å—Ç–∏–º–æ)
class Database {
  find(query, options = {}) {
    // –°—Ç–∞—Ä—ã–π –∫–æ–¥ —Ä–∞–±–æ—Ç–∞–µ—Ç: find(query)
    // –ù–æ–≤—ã–π –∫–æ–¥ –º–æ–∂–µ—Ç: find(query, { limit: 10 })
    return this.collection.find(query, options);
  }
}

// –í–µ—Ä—Å–∏—è 2.0.0 ‚Äî –∏–∑–º–µ–Ω–∏–ª–∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å (breaking)
class Database {
  find(options) {  // –¢–µ–ø–µ—Ä—å query –≤–Ω—É—Ç—Ä–∏ options
    return this.collection.find(options.query, options);
  }
}
</code></pre>
<h3 id="–ö–ª—é—á–µ–≤—ã–µ-–≤—ã–≤–æ–¥—ã-6"><a class="header" href="#–ö–ª—é—á–µ–≤—ã–µ-–≤—ã–≤–æ–¥—ã-6">–ö–ª—é—á–µ–≤—ã–µ –≤—ã–≤–æ–¥—ã</a></h3>
<ul>
<li>Protected Variations ‚Äî —Ä–µ–∑—É–ª—å—Ç–∞—Ç –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –≤—Å–µ—Ö GRASP –ø—Ä–∏–Ω—Ü–∏–ø–æ–≤</li>
<li>–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ SemVer –¥–ª—è –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è</li>
<li>–†–∞–±–æ—Ç–∞–π—Ç–µ —á–µ—Ä–µ–∑ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –∏ –∫–æ–Ω—Ç—Ä–∞–∫—Ç—ã</li>
<li>MAJOR –≤–µ—Ä—Å–∏—è ‚Üë –∫–æ–≥–¥–∞ –ª–æ–º–∞–µ—Ç–µ –æ–±—Ä–∞—Ç–Ω—É—é —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å</li>
<li>MINOR –≤–µ—Ä—Å–∏—è ‚Üë –∫–æ–≥–¥–∞ –¥–æ–±–∞–≤–ª—è–µ—Ç–µ —Ñ—É–Ω–∫—Ü–∏–∏</li>
<li>PATCH –≤–µ—Ä—Å–∏—è ‚Üë –∫–æ–≥–¥–∞ –∏—Å–ø—Ä–∞–≤–ª—è–µ—Ç–µ –±–∞–≥–∏</li>
</ul>
<hr />
<h2 id="-–ó–∞–∫–ª—é—á–µ–Ω–∏–µ"><a class="header" href="#-–ó–∞–∫–ª—é—á–µ–Ω–∏–µ">üéì –ó–∞–∫–ª—é—á–µ–Ω–∏–µ</a></h2>
<h3 id="-–í–∑–∞–∏–º–æ—Å–≤—è–∑—å-–≤—Å–µ—Ö-–ø—Ä–∏–Ω—Ü–∏–ø–æ–≤"><a class="header" href="#-–í–∑–∞–∏–º–æ—Å–≤—è–∑—å-–≤—Å–µ—Ö-–ø—Ä–∏–Ω—Ü–∏–ø–æ–≤">üîó –í–∑–∞–∏–º–æ—Å–≤—è–∑—å –≤—Å–µ—Ö –ø—Ä–∏–Ω—Ü–∏–ø–æ–≤</a></h3>
<p>–í—Å–µ 9 –ø—Ä–∏–Ω—Ü–∏–ø–æ–≤ GRASP —Ç–µ—Å–Ω–æ —Å–≤—è–∑–∞–Ω—ã –¥—Ä—É–≥ —Å –¥—Ä—É–≥–æ–º:</p>
<pre><code class="language-mermaid">graph TD
    A[Information Expert] --&gt; B[Low Coupling &amp; High Cohesion]
    A --&gt; C[Creator]
    C --&gt; D[Controller]
    D --&gt; E[Indirection]
    E --&gt; F[Polymorphism]
    F --&gt; G[Pure Fabrication]
    G --&gt; H[Protected Variations]
    B --&gt; H
</code></pre>
<p><strong>–¢–µ–∫—Å—Ç–æ–≤–∞—è —Å—Ö–µ–º–∞:</strong></p>
<pre><code>Information Expert ‚Üê‚Üí Low Coupling &amp; High Cohesion
        ‚Üì
    Creator
        ‚Üì
   Controller ‚Üê‚Üí Indirection
        ‚Üì
  Polymorphism
        ‚Üì
 Pure Fabrication
        ‚Üì
Protected Variations (—Ä–µ–∑—É–ª—å—Ç–∞—Ç –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –≤—Å–µ—Ö –ø—Ä–∏–Ω—Ü–∏–ø–æ–≤)
</code></pre>
<h3 id="-–ö–ª—é—á–µ–≤—ã–µ-–∏–¥–µ–∏"><a class="header" href="#-–ö–ª—é—á–µ–≤—ã–µ-–∏–¥–µ–∏">üí° –ö–ª—é—á–µ–≤—ã–µ –∏–¥–µ–∏</a></h3>
<div class="table-wrapper"><table><thead><tr><th>‚Ññ</th><th>–ü—Ä–∏–Ω—Ü–∏–ø</th><th>–ì–ª–∞–≤–Ω–∞—è –∏–¥–µ—è</th></tr></thead><tbody>
<tr><td>1Ô∏è‚É£</td><td><strong>Information Expert</strong></td><td>–û—Å–Ω–æ–≤–∞ –≤—Å–µ–≥–æ ‚Äî —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ –ø–æ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏</td></tr>
<tr><td>2Ô∏è‚É£</td><td><strong>Creator</strong></td><td>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∂–∏–∑–Ω–µ–Ω–Ω—ã–º —Ü–∏–∫–ª–æ–º –æ–±—ä–µ–∫—Ç–æ–≤</td></tr>
<tr><td>3Ô∏è‚É£</td><td><strong>Low Coupling &amp; High Cohesion</strong></td><td>–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π</td></tr>
<tr><td>4Ô∏è‚É£</td><td><strong>Controller</strong></td><td>–ò–∑–æ–ª—è—Ü–∏—è –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏ –æ—Ç –≤–Ω–µ—à–Ω–µ–≥–æ –º–∏—Ä–∞</td></tr>
<tr><td>5Ô∏è‚É£</td><td><strong>Polymorphism</strong></td><td>–ó–∞–º–µ–Ω–∞ —É—Å–ª–æ–≤–∏–π –Ω–∞ –ø–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º</td></tr>
<tr><td>6Ô∏è‚É£</td><td><strong>Indirection</strong></td><td>–°–Ω–∏–∂–µ–Ω–∏–µ –∑–∞—Ü–µ–ø–ª–µ–Ω–∏—è —á–µ—Ä–µ–∑ –ø–æ—Å—Ä–µ–¥–Ω–∏–∫–æ–≤</td></tr>
<tr><td>7Ô∏è‚É£</td><td><strong>Pure Fabrication</strong></td><td>–°–∏—Å—Ç–µ–º–Ω—ã–µ –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–∏ –≤–Ω–µ –ø—Ä–µ–¥–º–µ—Ç–Ω–æ–π –æ–±–ª–∞—Å—Ç–∏</td></tr>
<tr><td>8Ô∏è‚É£</td><td><strong>Protected Variations</strong></td><td>–£—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å –∫ –∏–∑–º–µ–Ω–µ–Ω–∏—è–º</td></tr>
</tbody></table>
</div>
<h3 id="-–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ-–≤-javascript-–∏-nodejs"><a class="header" href="#-–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ-–≤-javascript-–∏-nodejs">üåê –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –≤ JavaScript –∏ Node.js</a></h3>
<p>–•–æ—Ç—è GRASP –ø—Ä–∏—à–µ–ª –∏–∑ –û–û–ü, –µ–≥–æ –ø—Ä–∏–Ω—Ü–∏–ø—ã –ø—Ä–∏–º–µ–Ω–∏–º—ã –∏ –≤ JavaScript:</p>
<div class="table-wrapper"><table><thead><tr><th>–ö–æ–Ω—Ü–µ–ø—Ü–∏—è –û–û–ü</th><th>–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ –≤ JavaScript</th></tr></thead><tbody>
<tr><td><strong>–ö–ª–∞—Å—Å—ã</strong></td><td>–ú–æ–¥—É–ª–∏, —Ñ—É–Ω–∫—Ü–∏–∏</td></tr>
<tr><td><strong>–ò–Ω–∫–∞–ø—Å—É–ª—è—Ü–∏—è</strong></td><td>Closures, –ø—Ä–∏–≤–∞—Ç–Ω—ã–µ –ø–æ–ª—è (<code>#</code>)</td></tr>
<tr><td><strong>–°–≤—è–∑—å –º–µ–∂–¥—É –æ–±—ä–µ–∫—Ç–∞–º–∏</strong></td><td>Events, callbacks</td></tr>
<tr><td><strong>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç—å—é</strong></td><td>Promises, async/await (Pure Fabrication)</td></tr>
<tr><td><strong>–ò–∑–æ–ª—è—Ü–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤</strong></td><td>Module pattern, ES6 modules</td></tr>
</tbody></table>
</div>
<h3 id="-–°–≤—è–∑—å-—Å-–¥—Ä—É–≥–∏–º–∏-–ø—Ä–∏–Ω—Ü–∏–ø–∞–º–∏"><a class="header" href="#-–°–≤—è–∑—å-—Å-–¥—Ä—É–≥–∏–º–∏-–ø—Ä–∏–Ω—Ü–∏–ø–∞–º–∏">üîÑ –°–≤—è–∑—å —Å –¥—Ä—É–≥–∏–º–∏ –ø—Ä–∏–Ω—Ü–∏–ø–∞–º–∏</a></h3>
<p>GRASP –¥–æ–ø–æ–ª–Ω—è–µ—Ç –∏ –ø–µ—Ä–µ—Å–µ–∫–∞–µ—Ç—Å—è —Å:</p>
<ul>
<li>‚úÖ <strong>SOLID</strong> –ø—Ä–∏–Ω—Ü–∏–ø—ã (–æ—Å–æ–±–µ–Ω–Ω–æ Open/Closed, Liskov Substitution)</li>
<li>‚úÖ <strong>–ó–∞–∫–æ–Ω –î–µ–º–µ—Ç—Ä—ã</strong> (Law of Demeter) ‚Äî —Ç–µ—Å–Ω–æ —Å–≤—è–∑–∞–Ω —Å Information Expert</li>
<li>‚úÖ <strong>DRY</strong> (Don't Repeat Yourself)</li>
<li>‚úÖ <strong>KISS</strong> (Keep It Simple, Stupid)</li>
<li>‚úÖ <strong>YAGNI</strong> (You Aren't Gonna Need It)</li>
</ul>
<h3 id="-–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ-–ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ"><a class="header" href="#-–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ-–ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ">üõ†Ô∏è –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ</a></h3>
<p>–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ GRASP –¥–ª—è:</p>
<div class="table-wrapper"><table><thead><tr><th>–°—Ü–µ–Ω–∞—Ä–∏–π</th><th>–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ</th></tr></thead><tbody>
<tr><td>üèóÔ∏è <strong>–ü—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ</strong></td><td>–ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã —Å —Å–∞–º–æ–≥–æ –Ω–∞—á–∞–ª–∞</td></tr>
<tr><td>üîß <strong>–†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥</strong></td><td>–£–ª—É—á—à–µ–Ω–∏–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ –∫–æ–¥–∞</td></tr>
<tr><td>üëÅÔ∏è <strong>Code Review</strong></td><td>–ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞ –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –∫–æ–¥–∞</td></tr>
<tr><td>üìö <strong>–û–±—É—á–µ–Ω–∏–µ</strong></td><td>–û–±—É—á–µ–Ω–∏–µ –∫–æ–º–∞–Ω–¥—ã –ª—É—á—à–∏–º –ø—Ä–∞–∫—Ç–∏–∫–∞–º</td></tr>
</tbody></table>
</div>
<h3 id="-–°–ª–µ–¥—É—é—â–∏–µ-—à–∞–≥–∏"><a class="header" href="#-–°–ª–µ–¥—É—é—â–∏–µ-—à–∞–≥–∏">üöÄ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏</a></h3>
<p>–í —Å–ª–µ–¥—É—é—â–∏—Ö –ª–µ–∫—Ü–∏—è—Ö –±—É–¥—É—Ç —Ä–∞—Å—Å–º–æ—Ç—Ä–µ–Ω—ã:</p>
<ul>
<li>‚úÖ –î–µ—Ç–∞–ª—å–Ω—ã–µ –ø—Ä–∏–º–µ—Ä—ã –∫–∞–∂–¥–æ–≥–æ –ø—Ä–∏–Ω—Ü–∏–ø–∞ —Å —Ä–µ–∞–ª—å–Ω—ã–º –∫–æ–¥–æ–º</li>
<li>‚úÖ Production-–∫–æ–¥ –Ω–∞ JavaScript –∏ Node.js</li>
<li>‚úÖ –ê–Ω—Ç–∏–ø–∞—Ç—Ç–µ—Ä–Ω—ã –∏ –∏—Ö —Ä–µ—à–µ–Ω–∏–µ —á–µ—Ä–µ–∑ GRASP</li>
<li>‚úÖ –ö–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–∏–Ω—Ü–∏–ø–æ–≤ –≤ —Ä–µ–∞–ª—å–Ω—ã—Ö –ø—Ä–æ–µ–∫—Ç–∞—Ö</li>
</ul>
<hr />
<h2 id="-–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ-—Ä–µ—Å—É—Ä—Å—ã"><a class="header" href="#-–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ-—Ä–µ—Å—É—Ä—Å—ã">üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã</a></h2>
<h3 id="-–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–∞—è-–ª–∏—Ç–µ—Ä–∞—Ç—É—Ä–∞"><a class="header" href="#-–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–∞—è-–ª–∏—Ç–µ—Ä–∞—Ç—É—Ä–∞">üìñ –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–∞—è –ª–∏—Ç–µ—Ä–∞—Ç—É—Ä–∞</a></h3>
<div class="table-wrapper"><table><thead><tr><th>–ê–≤—Ç–æ—Ä</th><th>–ö–Ω–∏–≥–∞</th><th>–û–ø–∏—Å–∞–Ω–∏–µ</th></tr></thead><tbody>
<tr><td><strong>Craig Larman</strong></td><td>"Applying UML and Patterns"</td><td>–û—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–∞—è –∫–Ω–∏–≥–∞ –æ GRASP –ø—Ä–∏–Ω—Ü–∏–ø–∞—Ö</td></tr>
<tr><td><strong>Robert Martin</strong></td><td>"Clean Code"</td><td>–ß–∏—Å—Ç—ã–π –∫–æ–¥ –∏ –ª—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏</td></tr>
<tr><td><strong>Martin Fowler</strong></td><td>"Refactoring"</td><td>–†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ –∫–æ–¥–∞</td></tr>
<tr><td><strong>Eric Evans</strong></td><td>"Domain-Driven Design"</td><td>–ü—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ –æ—Å–Ω–æ–≤–µ –ø—Ä–µ–¥–º–µ—Ç–Ω–æ–π –æ–±–ª–∞—Å—Ç–∏</td></tr>
</tbody></table>
</div>
<h3 id="-–°–≤—è–∑–∞–Ω–Ω—ã–µ-—Ç–µ–º—ã-–¥–ª—è-–∏–∑—É—á–µ–Ω–∏—è"><a class="header" href="#-–°–≤—è–∑–∞–Ω–Ω—ã–µ-—Ç–µ–º—ã-–¥–ª—è-–∏–∑—É—á–µ–Ω–∏—è">üîó –°–≤—è–∑–∞–Ω–Ω—ã–µ —Ç–µ–º—ã –¥–ª—è –∏–∑—É—á–µ–Ω–∏—è</a></h3>
<ul>
<li>üéØ <strong>–®–∞–±–ª–æ–Ω—ã –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è GoF</strong> (Gang of Four) ‚Äî 23 –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–∏—Ö –ø–∞—Ç—Ç–µ—Ä–Ω–∞</li>
<li>üéØ <strong>SOLID –ø—Ä–∏–Ω—Ü–∏–ø—ã</strong> ‚Äî 5 –ø—Ä–∏–Ω—Ü–∏–ø–æ–≤ –æ–±—ä–µ–∫—Ç–Ω–æ-–æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –¥–∏–∑–∞–π–Ω–∞</li>
<li>üéØ <strong>Domain-Driven Design (DDD)</strong> ‚Äî –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ, –æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –Ω–∞ –ø—Ä–µ–¥–º–µ—Ç–Ω—É—é –æ–±–ª–∞—Å—Ç—å</li>
<li>üéØ <strong>Clean Architecture</strong> ‚Äî —á–∏—Å—Ç–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø–æ –†–æ–±–µ—Ä—Ç—É –ú–∞—Ä—Ç–∏–Ω—É</li>
<li>üéØ <strong>Microservices Patterns</strong> ‚Äî –ø–∞—Ç—Ç–µ—Ä–Ω—ã –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã</li>
</ul>
<hr />
<blockquote>
<p><strong>‚ú® –ö–æ–Ω–µ—Ü –∫–æ–Ω—Å–ø–µ–∫—Ç–∞ –ª–µ–∫—Ü–∏–∏</strong>
<em>–°–æ–∑–¥–∞–Ω–æ –Ω–∞ –æ—Å–Ω–æ–≤–µ –ª–µ–∫—Ü–∏–∏ –æ GRASP –ø—Ä–∏–Ω—Ü–∏–ø–∞—Ö —Å –∞–¥–∞–ø—Ç–∞—Ü–∏–µ–π –¥–ª—è JavaScript –∏ Node.js</em></p>
</blockquote>
<div style="break-before: page; page-break-before: always;"></div><h1 id="solid-–ü—Ä–∏–Ω—Ü–∏–ø—ã-–≤-javascript-typescript-–∏-nodejs"><a class="header" href="#solid-–ü—Ä–∏–Ω—Ü–∏–ø—ã-–≤-javascript-typescript-–∏-nodejs">SOLID –ü—Ä–∏–Ω—Ü–∏–ø—ã –≤ JavaScript, TypeScript –∏ Node.js</a></h1>
<blockquote>
<p><strong>–ü–æ–ª–Ω—ã–π –æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω—ã–π –∫–æ–Ω—Å–ø–µ–∫—Ç</strong></p>
<p>–ü—Ä–∏–Ω—Ü–∏–ø—ã –æ–±—ä–µ–∫—Ç–Ω–æ-–æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è, –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–ª—è JavaScript/TypeScript —ç–∫–æ—Å–∏—Å—Ç–µ–º—ã</p>
</blockquote>
<hr />
<h2 id="–í–≤–µ–¥–µ–Ω–∏–µ-1"><a class="header" href="#–í–≤–µ–¥–µ–Ω–∏–µ-1">–í–≤–µ–¥–µ–Ω–∏–µ</a></h2>
<h3 id="–ß—Ç–æ-—Ç–∞–∫–æ–µ-solid"><a class="header" href="#–ß—Ç–æ-—Ç–∞–∫–æ–µ-solid">–ß—Ç–æ —Ç–∞–∫–æ–µ SOLID?</a></h3>
<p><strong>SOLID</strong> - —ç—Ç–æ –∞–∫—Ä–æ–Ω–∏–º –ø—è—Ç–∏ –æ—Å–Ω–æ–≤–Ω—ã—Ö –ø—Ä–∏–Ω—Ü–∏–ø–æ–≤ –æ–±—ä–µ–∫—Ç–Ω–æ-–æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ–º–æ–≥–∞—é—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å –≥–∏–±–∫–∏–µ, –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º—ã–µ –∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Å–∏—Å—Ç–µ–º—ã:</p>
<ul>
<li><strong>S</strong> - Single Responsibility Principle (–ü—Ä–∏–Ω—Ü–∏–ø –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–π –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏)</li>
<li><strong>O</strong> - Open-Closed Principle (–ü—Ä–∏–Ω—Ü–∏–ø –æ—Ç–∫—Ä—ã—Ç–æ—Å—Ç–∏/–∑–∞–∫—Ä—ã—Ç–æ—Å—Ç–∏)</li>
<li><strong>L</strong> - Liskov Substitution Principle (–ü—Ä–∏–Ω—Ü–∏–ø –ø–æ–¥—Å—Ç–∞–Ω–æ–≤–∫–∏ –õ–∏—Å–∫–æ–≤)</li>
<li><strong>I</strong> - Interface Segregation Principle (–ü—Ä–∏–Ω—Ü–∏–ø —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤)</li>
<li><strong>D</strong> - Dependency Inversion Principle (–ü—Ä–∏–Ω—Ü–∏–ø –∏–Ω–≤–µ—Ä—Å–∏–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π)</li>
</ul>
<h3 id="-–ü–æ—á–µ–º—É-solid-–≤–∞–∂–µ–Ω-–¥–ª—è-javascripttypescript"><a class="header" href="#-–ü–æ—á–µ–º—É-solid-–≤–∞–∂–µ–Ω-–¥–ª—è-javascripttypescript">üí° –ü–æ—á–µ–º—É SOLID –≤–∞–∂–µ–Ω –¥–ª—è JavaScript/TypeScript?</a></h3>
<p>–ú–Ω–æ–≥–∏–µ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∏ –æ—à–∏–±–æ—á–Ω–æ —Å—á–∏—Ç–∞—é—Ç, —á—Ç–æ SOLID –ø—Ä–∏–º–µ–Ω–∏–º —Ç–æ–ª—å–∫–æ –∫ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏ —Ç–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–º —è–∑—ã–∫–∞–º (Java, C#). –û–¥–Ω–∞–∫–æ —ç—Ç–∏ –ø—Ä–∏–Ω—Ü–∏–ø—ã <strong>—É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã</strong> –∏ —Ä–∞–±–æ—Ç–∞—é—Ç –≤:</p>
<ul>
<li>–ü—Ä–æ—Ü–µ–¥—É—Ä–Ω–æ–º –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–∏</li>
<li>–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–º –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–∏</li>
<li>–†–µ–∞–∫—Ç–∏–≤–Ω–æ–º –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–∏</li>
<li>–ü—Ä–æ—Ç–æ—Ç–∏–ø–Ω–æ–º –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–∏ (JavaScript)</li>
</ul>
<p><strong>–ö–ª—é—á–µ–≤–æ–µ –æ—Ç–ª–∏—á–∏–µ:</strong> –í JavaScript/TypeScript –º—ã –∞–¥–∞–ø—Ç–∏—Ä—É–µ–º —ç—Ç–∏ –ø—Ä–∏–Ω—Ü–∏–ø—ã –∫ —Å–ø–µ—Ü–∏—Ñ–∏–∫–µ —è–∑—ã–∫–∞, –∞ –Ω–µ –∫–æ–ø–∏—Ä—É–µ–º —Å–ª–µ–ø–æ –ø–æ–¥—Ö–æ–¥—ã –∏–∑ Java.</p>
<h3 id="-–¶–µ–ª–∏-–ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è-solid"><a class="header" href="#-–¶–µ–ª–∏-–ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è-solid">üéØ –¶–µ–ª–∏ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è SOLID</a></h3>
<ol>
<li><strong>–°–Ω–∏–∂–µ–Ω–∏–µ —Å–≤—è–∑–∞–Ω–Ω–æ—Å—Ç–∏</strong> –º–µ–∂–¥—É –º–æ–¥—É–ª—è–º–∏</li>
<li><strong>–ü–æ–≤—ã—à–µ–Ω–∏–µ –∫–æ–≥–µ–∑–∏–∏</strong> –≤–Ω—É—Ç—Ä–∏ –º–æ–¥—É–ª—è</li>
<li><strong>–£–ø—Ä–æ—â–µ–Ω–∏–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è</strong></li>
<li><strong>–û–±–ª–µ–≥—á–µ–Ω–∏–µ –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –∏ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞</strong></li>
<li><strong>–£–ª—É—á—à–µ–Ω–∏–µ —á–∏—Ç–∞–µ–º–æ—Å—Ç–∏ –∫–æ–¥–∞</strong></li>
</ol>
<h3 id="-–ö—É–ª—å—Ç—É—Ä–∞-—è–∑—ã–∫–∞-vs-–î–æ–≥–º—ã"><a class="header" href="#-–ö—É–ª—å—Ç—É—Ä–∞-—è–∑—ã–∫–∞-vs-–î–æ–≥–º—ã">‚ö†Ô∏è –ö—É–ª—å—Ç—É—Ä–∞ —è–∑—ã–∫–∞ vs –î–æ–≥–º—ã</a></h3>
<p>JavaScript –∏–º–µ–µ—Ç —Å–≤–æ—é —É–Ω–∏–∫–∞–ª—å–Ω—É—é –∫—É–ª—å—Ç—É—Ä—É, —Å—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–Ω—É—é –ø–æ–¥ –≤–ª–∏—è–Ω–∏–µ–º:</p>
<ul>
<li>Event-driven –º–æ–¥–µ–ª—å (–±—Ä–∞—É–∑–µ—Ä, Node.js)</li>
<li>–§—É–Ω–∫—Ü–∏–∏ –ø–µ—Ä–≤–æ–≥–æ –∫–ª–∞—Å—Å–∞</li>
<li>–î–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è</li>
<li>–ü—Ä–æ—Ç–æ—Ç–∏–ø–Ω–æ–µ –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ</li>
</ul>
<p><strong>–ù–µ –∫–æ–ø–∏—Ä—É–π—Ç–µ Java –ø–æ–¥—Ö–æ–¥—ã —Å–ª–µ–ø–æ!</strong> –ê–¥–∞–ø—Ç–∏—Ä—É–π—Ç–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã –∫ –∫—É–ª—å—Ç—É—Ä–µ JavaScript.</p>
<hr />
<h2 id="srp---single-responsibility-principle"><a class="header" href="#srp---single-responsibility-principle">SRP - Single Responsibility Principle</a></h2>
<blockquote>
<p><strong>–ü—Ä–∏–Ω—Ü–∏–ø –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–π –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏</strong></p>
<p>–ö–∞–∂–¥–∞—è –∞–±—Å—Ç—Ä–∞–∫—Ü–∏—è (–∫–ª–∞—Å—Å, —Ñ—É–Ω–∫—Ü–∏—è, –º–æ–¥—É–ª—å) –¥–æ–ª–∂–Ω–∞ –∏–º–µ—Ç—å —Ç–æ–ª—å–∫–æ <strong>–æ–¥–Ω—É –ø—Ä–∏—á–∏–Ω—É –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è</strong>.</p>
</blockquote>
<h3 id="-–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ-–∏-—Å—É—Ç—å-–ø—Ä–∏–Ω—Ü–∏–ø–∞"><a class="header" href="#-–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ-–∏-—Å—É—Ç—å-–ø—Ä–∏–Ω—Ü–∏–ø–∞">üìö –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∏ —Å—É—Ç—å –ø—Ä–∏–Ω—Ü–∏–ø–∞</a></h3>
<p><strong>SRP —É—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç:</strong> –ö–∞–∂–¥–∞—è –∞–±—Å—Ç—Ä–∞–∫—Ü–∏—è –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ <strong>–æ–¥–Ω—É –∫–æ–Ω–∫—Ä–µ—Ç–Ω—É—é —á–∞—Å—Ç—å —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏</strong> –∏ —ç—Ç–∞ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å <strong>–ø–æ–ª–Ω–æ—Å—Ç—å—é –∏–Ω–∫–∞–ø—Å—É–ª–∏—Ä–æ–≤–∞–Ω–∞</strong>.</p>
<p><strong>–ü–æ—á–µ–º—É —ç—Ç–æ –≤–∞–∂–Ω–æ:</strong></p>
<ul>
<li>–ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ –æ–¥–Ω–æ–π —á–∞—Å—Ç–∏ —Å–∏—Å—Ç–µ–º—ã –Ω–µ –≤–ª–∏—è—é—Ç –Ω–∞ –¥—Ä—É–≥–∏–µ</li>
<li>–ö–æ–¥ –ª–µ–≥—á–µ –ø–æ–Ω–∏–º–∞—Ç—å –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å</li>
<li>–£–ø—Ä–æ—â–∞–µ—Ç—Å—è —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥</li>
<li>–°–Ω–∏–∂–∞–µ—Ç—Å—è —Ä–∏—Å–∫ —Ä–µ–≥—Ä–µ—Å—Å–∏–∏ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö</li>
</ul>
<h3 id="-–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ-–≤-javascripttypescript"><a class="header" href="#-–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ-–≤-javascripttypescript">üî¥ –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –≤ JavaScript/TypeScript</a></h3>
<p>SRP –ø—Ä–∏–º–µ–Ω–∏–º –Ω–µ —Ç–æ–ª—å–∫–æ –∫ –∫–ª–∞—Å—Å–∞–º, –Ω–æ –∏ –∫:</p>
<ul>
<li><strong>–§—É–Ω–∫—Ü–∏—è–º</strong> - –æ–¥–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è –¥–µ–ª–∞–µ—Ç –æ–¥–Ω–æ –¥–µ–ª–æ</li>
<li><strong>–ú–æ–¥—É–ª—è–º</strong> - –æ–¥–∏–Ω –º–æ–¥—É–ª—å –∏–º–µ–µ—Ç –æ–¥–Ω—É –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å</li>
<li><strong>–ö–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º</strong> - –æ–¥–∏–Ω –∫–æ–º–ø–æ–Ω–µ–Ω—Ç —Ä–µ—à–∞–µ—Ç –æ–¥–Ω—É –∑–∞–¥–∞—á—É</li>
</ul>
<h3 id="-–ü—Ä–∏–º–µ—Ä-–ù–ê–†–£–®–ï–ù–ò–Ø-srp"><a class="header" href="#-–ü—Ä–∏–º–µ—Ä-–ù–ê–†–£–®–ï–ù–ò–Ø-srp">‚ùå –ü—Ä–∏–º–µ—Ä –ù–ê–†–£–®–ï–ù–ò–Ø SRP</a></h3>
<pre><code class="language-typescript">// –ü–õ–û–•–û: –∫–ª–∞—Å—Å Employee –¥–µ–ª–∞–µ—Ç —Å–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ
class Employee {
  name: string;
  surname: string;
  dateOfBirth: Date;
  salary: number;
  position: string;

  // –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞
  calculateSalary(): number {
    // –õ–æ–≥–∏–∫–∞ —Ä–∞—Å—á–µ—Ç–∞ –∑–∞—Ä–ø–ª–∞—Ç—ã
  }

  sendToVacation(): void {
    // –ë–∏–∑–Ω–µ—Å-–ø—Ä–æ—Ü–µ—Å—Å –æ—Ç–ø—Ä–∞–≤–∫–∏ –≤ –æ—Ç–ø—É—Å–∫
  }

  // –†–∞–±–æ—Ç–∞ —Å –ë–î (–∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞)
  save(): Promise&lt;void&gt; {
    // –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ –ë–î
  }

  delete(): Promise&lt;void&gt; {
    // –£–¥–∞–ª–µ–Ω–∏–µ –∏–∑ –ë–î
  }

  // –û—Ç—á–µ—Ç–Ω–æ—Å—Ç—å
  generateYearReport(): Report {
    // –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –≥–æ–¥–æ–≤–æ–≥–æ –æ—Ç—á–µ—Ç–∞
  }

  // –°–∏—Å—Ç–µ–º–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
  changePassword(newPassword: string): void {
    // –ò–∑–º–µ–Ω–µ–Ω–∏–µ –ø–∞—Ä–æ–ª—è –≤—Ö–æ–¥–∞ –≤ —Å–∏—Å—Ç–µ–º—É
  }
}
</code></pre>
<p><strong>–ü—Ä–æ–±–ª–µ–º—ã —ç—Ç–æ–≥–æ –∫–æ–¥–∞:</strong></p>
<ol>
<li>–°–º–µ—à–∏–≤–∞–µ—Ç <strong>–ø—Ä–µ–¥–º–µ—Ç–Ω—É—é –æ–±–ª–∞—Å—Ç—å</strong> (–±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫—É) –∏ <strong>–∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—É</strong> (–ë–î)</li>
<li>–ù–∞—Ä—É—à–∞–µ—Ç —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ –º–µ–∂–¥—É:
<ul>
<li>–î–æ–º–µ–Ω–Ω–æ–π –ª–æ–≥–∏–∫–æ–π (—Ä–∞—Å—á–µ—Ç –∑–∞—Ä–ø–ª–∞—Ç—ã)</li>
<li>–ü–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å—é (—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ –ë–î)</li>
<li>–û—Ç—á–µ—Ç–Ω–æ—Å—Ç—å—é (–≥–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç—á–µ—Ç–æ–≤)</li>
<li>–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–µ–π (—Å–º–µ–Ω–∞ –ø–∞—Ä–æ–ª—è)</li>
</ul>
</li>
<li>–õ—é–±–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ –≤ –ë–î, –æ—Ç—á–µ—Ç–∞—Ö –∏–ª–∏ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ —Ç—Ä–µ–±—É–µ—Ç –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏–∏ –∫–ª–∞—Å—Å–∞ Employee</li>
</ol>
<h3 id="-–ü—Ä–∏–º–µ—Ä-–°–û–ë–õ–Æ–î–ï–ù–ò–Ø-srp"><a class="header" href="#-–ü—Ä–∏–º–µ—Ä-–°–û–ë–õ–Æ–î–ï–ù–ò–Ø-srp">‚úÖ –ü—Ä–∏–º–µ—Ä –°–û–ë–õ–Æ–î–ï–ù–ò–Ø SRP</a></h3>
<pre><code class="language-typescript">// –•–û–†–û–®–û: –ê–Ω–µ–º–∏—á–Ω–∞—è –º–æ–¥–µ–ª—å - —Ç–æ–ª—å–∫–æ –¥–∞–Ω–Ω—ã–µ
class Employee {
  constructor(
    public readonly id: string,
    public name: string,
    public surname: string,
    public dateOfBirth: Date,
    public salary: number,
    public position: string
  ) {}
}

// –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–º —Å–µ—Ä–≤–∏—Å–µ
class EmployeeService {
  calculateSalary(employee: Employee): number {
    // –õ–æ–≥–∏–∫–∞ —Ä–∞—Å—á–µ—Ç–∞ –∑–∞—Ä–ø–ª–∞—Ç—ã
    return employee.salary;
  }

  sendToVacation(employee: Employee, startDate: Date, endDate: Date): void {
    // –ë–∏–∑–Ω–µ—Å-–ø—Ä–æ—Ü–µ—Å—Å –æ—Ç–ø—Ä–∞–≤–∫–∏ –≤ –æ—Ç–ø—É—Å–∫
  }
}

// –†–∞–±–æ—Ç–∞ —Å –ë–î –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–º —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ (Data Access Layer)
class EmployeeRepository {
  async save(employee: Employee): Promise&lt;void&gt; {
    // –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ –ë–î
  }

  async delete(employeeId: string): Promise&lt;void&gt; {
    // –£–¥–∞–ª–µ–Ω–∏–µ –∏–∑ –ë–î
  }

  async findById(id: string): Promise&lt;Employee | null&gt; {
    // –ü–æ–∏—Å–∫ –ø–æ ID
  }
}

// –û—Ç—á–µ—Ç–Ω–æ—Å—Ç—å –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–º —Å–µ—Ä–≤–∏—Å–µ
class EmployeeReportService {
  generateYearReport(employee: Employee): Report {
    // –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –≥–æ–¥–æ–≤–æ–≥–æ –æ—Ç—á–µ—Ç–∞
  }
}

// –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–º –º–æ–¥—É–ª–µ
class AuthService {
  async changePassword(userId: string, newPassword: string): Promise&lt;void&gt; {
    // –ò–∑–º–µ–Ω–µ–Ω–∏–µ –ø–∞—Ä–æ–ª—è
  }
}
</code></pre>
<p><strong>–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:</strong></p>
<ul>
<li>‚úÖ –ö–∞–∂–¥—ã–π –∫–ª–∞—Å—Å –∏–º–µ–µ—Ç <strong>–æ–¥–Ω—É –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å</strong></li>
<li>‚úÖ –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ –ë–î –Ω–µ –∑–∞—Ç—Ä–∞–≥–∏–≤–∞—é—Ç –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫—É</li>
<li>‚úÖ –õ–µ–≥–∫–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –∫–∞–∂–¥—É—é —á–∞—Å—Ç—å –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ</li>
<li>‚úÖ –õ–µ–≥–∫–æ –∑–∞–º–µ–Ω–∏—Ç—å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Å–º–µ–Ω–∏—Ç—å –ë–î)</li>
</ul>
<h3 id="-active-record---–ê–Ω—Ç–∏–ø–∞—Ç—Ç–µ—Ä–Ω"><a class="header" href="#-active-record---–ê–Ω—Ç–∏–ø–∞—Ç—Ç–µ—Ä–Ω">üö´ Active Record - –ê–Ω—Ç–∏–ø–∞—Ç—Ç–µ—Ä–Ω</a></h3>
<p><strong>Active Record</strong> - —ç—Ç–æ –ø–∞—Ç—Ç–µ—Ä–Ω, –∫–æ—Ç–æ—Ä—ã–π —Å–º–µ—à–∏–≤–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –∏ –º–µ—Ç–æ–¥—ã —Ä–∞–±–æ—Ç—ã —Å –ë–î –≤ –æ–¥–Ω–æ–º –∫–ª–∞—Å—Å–µ.</p>
<pre><code class="language-typescript">// –ê–ù–¢–ò–ü–ê–¢–¢–ï–†–ù: Active Record
class User {
  id: number;
  name: string;
  email: string;

  // –ú–µ—Ç–æ–¥—ã —Ä–∞–±–æ—Ç—ã —Å –ë–î –ø—Ä—è–º–æ –≤ –º–æ–¥–µ–ª–∏
  async save(): Promise&lt;void&gt; {
    await db.query('INSERT INTO users ...', [this.name, this.email]);
  }

  async delete(): Promise&lt;void&gt; {
    await db.query('DELETE FROM users WHERE id = ?', [this.id]);
  }

  static async find(id: number): Promise&lt;User&gt; {
    const result = await db.query('SELECT * FROM users WHERE id = ?', [id]);
    return new User(result);
  }
}
</code></pre>
<p><strong>–ü–æ—á–µ–º—É —ç—Ç–æ –ø–ª–æ—Ö–æ:</strong></p>
<ol>
<li><strong>–ù–∞—Ä—É—à–∞–µ—Ç SRP</strong> - –∫–ª–∞—Å—Å –æ—Ç–≤–µ—á–∞–µ—Ç –∏ –∑–∞ –¥–∞–Ω–Ω—ã–µ, –∏ –∑–∞ –ø–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å</li>
<li><strong>–ù–∞—Ä—É—à–∞–µ—Ç OCP</strong> - –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –Ω–æ–≤–æ–π –ë–î –Ω—É–∂–Ω–æ –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å –∫–ª–∞—Å—Å</li>
<li><strong>–ó–∞—Ç—Ä—É–¥–Ω—è–µ—Ç —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ</strong> - —Å–ª–æ–∂–Ω–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫—É –±–µ–∑ –ë–î</li>
<li><strong>–ü—Ä–æ–±–ª–µ–º—ã –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è:</strong>
<ul>
<li>–†–∞–±–æ—Ç–∞ —Å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ –ë–î</li>
<li>–ù–µ–º–∞–ø–∏–Ω–≥ 1:1 (–æ–¥–Ω–∞ —Å—É—â–Ω–æ—Å—Ç—å —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Ç–∞–±–ª–∏—Ü–∞—Ö)</li>
<li>–†–∞–∑–Ω–∞—è –ª–æ–≥–∏–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–≤</li>
</ul>
</li>
</ol>
<h3 id="-–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞-repository-pattern--data-access-layer"><a class="header" href="#-–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞-repository-pattern--data-access-layer">‚úÖ –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞: Repository Pattern + Data Access Layer</a></h3>
<pre><code class="language-typescript">// –ê–Ω–µ–º–∏—á–Ω–∞—è –º–æ–¥–µ–ª—å
class User {
  constructor(
    public id: number,
    public name: string,
    public email: string
  ) {}
}

// –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
interface IUserRepository {
  save(user: User): Promise&lt;void&gt;;
  delete(userId: number): Promise&lt;void&gt;;
  findById(id: number): Promise&lt;User | null&gt;;
  findAll(): Promise&lt;User[]&gt;;
}

// –ö–æ–Ω–∫—Ä–µ—Ç–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –¥–ª—è PostgreSQL
class PostgresUserRepository implements IUserRepository {
  constructor(private db: PostgresClient) {}

  async save(user: User): Promise&lt;void&gt; {
    await this.db.query(
      'INSERT INTO users (name, email) VALUES ($1, $2)',
      [user.name, user.email]
    );
  }

  async delete(userId: number): Promise&lt;void&gt; {
    await this.db.query('DELETE FROM users WHERE id = $1', [userId]);
  }

  async findById(id: number): Promise&lt;User | null&gt; {
    const result = await this.db.query(
      'SELECT * FROM users WHERE id = $1',
      [id]
    );
    return result.rows[0] ? new User(
      result.rows[0].id,
      result.rows[0].name,
      result.rows[0].email
    ) : null;
  }

  async findAll(): Promise&lt;User[]&gt; {
    const result = await this.db.query('SELECT * FROM users');
    return result.rows.map(row =&gt; new User(row.id, row.name, row.email));
  }
}

// –õ–µ–≥–∫–æ –∑–∞–º–µ–Ω–∏—Ç—å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é
class MongoUserRepository implements IUserRepository {
  constructor(private db: MongoClient) {}

  async save(user: User): Promise&lt;void&gt; {
    await this.db.collection('users').insertOne({
      name: user.name,
      email: user.email
    });
  }

  // ... –æ—Å—Ç–∞–ª—å–Ω—ã–µ –º–µ—Ç–æ–¥—ã
}
</code></pre>
<p><strong>–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ Repository Pattern:</strong></p>
<ul>
<li>‚úÖ –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ (SRP)</li>
<li>‚úÖ –õ–µ–≥–∫–æ –º–µ–Ω—è—Ç—å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é (OCP)</li>
<li>‚úÖ –õ–µ–≥–∫–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å (–º–æ–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å mock —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π)</li>
<li>‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –ë–î</li>
</ul>
<h3 id="-srp-–≤-—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–º-—Å—Ç–∏–ª–µ"><a class="header" href="#-srp-–≤-—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–º-—Å—Ç–∏–ª–µ">üéØ SRP –≤ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–º —Å—Ç–∏–ª–µ</a></h3>
<p>SRP –ø—Ä–∏–º–µ–Ω–∏–º –Ω–µ —Ç–æ–ª—å–∫–æ –∫ –∫–ª–∞—Å—Å–∞–º, –Ω–æ –∏ –∫ —Ñ—É–Ω–∫—Ü–∏—è–º:</p>
<pre><code class="language-typescript">// ‚ùå –ü–õ–û–•–û: —Ñ—É–Ω–∫—Ü–∏—è –¥–µ–ª–∞–µ—Ç —Å–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ
async function processUser(userId: string) {
  const user = await db.getUser(userId); // –î–æ—Å—Ç—É–ø –∫ –ë–î
  const validated = validateUser(user);  // –í–∞–ª–∏–¥–∞—Ü–∏—è
  await sendEmail(user.email);          // –û—Ç–ø—Ä–∞–≤–∫–∞ email
  await logAction('user_processed');     // –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
  return user;
}

// ‚úÖ –•–û–†–û–®–û: —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏
async function getUserFromDb(userId: string): Promise&lt;User&gt; {
  return await db.getUser(userId);
}

async function notifyUser(user: User): Promise&lt;void&gt; {
  await sendEmail(user.email);
}

async function logUserAction(action: string): Promise&lt;void&gt; {
  await logAction(action);
}

// –ö–æ–º–ø–æ–∑–∏—Ü–∏—è —Ñ—É–Ω–∫—Ü–∏–π
async function processUser(userId: string): Promise&lt;User&gt; {
  const user = await getUserFromDb(userId);
  await notifyUser(user);
  await logUserAction('user_processed');
  return user;
}
</code></pre>
<h3 id="-srp-–Ω–∞-—É—Ä–æ–≤–Ω–µ-–º–æ–¥—É–ª–µ–π-nodejs"><a class="header" href="#-srp-–Ω–∞-—É—Ä–æ–≤–Ω–µ-–º–æ–¥—É–ª–µ–π-nodejs">üí° SRP –Ω–∞ —É—Ä–æ–≤–Ω–µ –º–æ–¥—É–ª–µ–π (Node.js)</a></h3>
<pre><code>user/
  ‚îú‚îÄ‚îÄ user.model.ts         # –ú–æ–¥–µ–ª—å –¥–∞–Ω–Ω—ã—Ö (–∞–Ω–µ–º–∏—á–Ω–∞—è)
  ‚îú‚îÄ‚îÄ user.repository.ts    # –†–∞–±–æ—Ç–∞ —Å –ë–î
  ‚îú‚îÄ‚îÄ user.service.ts       # –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞
  ‚îú‚îÄ‚îÄ user.validator.ts     # –í–∞–ª–∏–¥–∞—Ü–∏—è
  ‚îú‚îÄ‚îÄ user.controller.ts    # HTTP endpoints
  ‚îî‚îÄ‚îÄ index.ts              # –≠–∫—Å–ø–æ—Ä—Ç—ã –º–æ–¥—É–ª—è
</code></pre>
<h3 id="-–ö–ª—é—á–µ–≤—ã–µ-–≤—ã–≤–æ–¥—ã-–ø–æ-srp"><a class="header" href="#-–ö–ª—é—á–µ–≤—ã–µ-–≤—ã–≤–æ–¥—ã-–ø–æ-srp">üîë –ö–ª—é—á–µ–≤—ã–µ –≤—ã–≤–æ–¥—ã –ø–æ SRP</a></h3>
<blockquote>
<p><strong>"–ö–ª–∞—Å—Å –¥–æ–ª–∂–µ–Ω –∏–º–µ—Ç—å —Ç–æ–ª—å–∫–æ –æ–¥–Ω—É –ø—Ä–∏—á–∏–Ω—É –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è"</strong></p>
</blockquote>
<ol>
<li><strong>–†–∞–∑–¥–µ–ª—è–π—Ç–µ</strong> –ø—Ä–µ–¥–º–µ—Ç–Ω—É—é –æ–±–ª–∞—Å—Ç—å –∏ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—É</li>
<li><strong>–ò–∑–±–µ–≥–∞–π—Ç–µ</strong> Active Record –ø–∞—Ç—Ç–µ—Ä–Ω–∞</li>
<li><strong>–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ</strong> Repository Pattern –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –¥–∞–Ω–Ω—ã–º–∏</li>
<li><strong>–ü—Ä–∏–º–µ–Ω—è–π—Ç–µ</strong> SRP –∫ —Ñ—É–Ω–∫—Ü–∏—è–º, –∫–ª–∞—Å—Å–∞–º –∏ –º–æ–¥—É–ª—è–º</li>
<li><strong>–°–æ–∑–¥–∞–≤–∞–π—Ç–µ</strong> –∞–Ω–µ–º–∏—á–Ω—ã–µ –º–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö</li>
<li><strong>–í—ã–Ω–æ—Å–∏—Ç–µ</strong> –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫—É –≤ —Å–µ—Ä–≤–∏—Å—ã</li>
</ol>
<hr />
<h2 id="ocp---open-closed-principle"><a class="header" href="#ocp---open-closed-principle">OCP - Open-Closed Principle</a></h2>
<blockquote>
<p><strong>–ü—Ä–∏–Ω—Ü–∏–ø –æ—Ç–∫—Ä—ã—Ç–æ—Å—Ç–∏/–∑–∞–∫—Ä—ã—Ç–æ—Å—Ç–∏</strong></p>
<p>–ü—Ä–æ–≥—Ä–∞–º–º–Ω—ã–µ —Å—É—â–Ω–æ—Å—Ç–∏ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å <strong>–æ—Ç–∫—Ä—ã—Ç—ã –¥–ª—è —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è</strong>, –Ω–æ <strong>–∑–∞–∫—Ä—ã—Ç—ã –¥–ª—è –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏–∏</strong>.</p>
</blockquote>
<h3 id="-–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ-–∏-—Å—É—Ç—å-–ø—Ä–∏–Ω—Ü–∏–ø–∞-1"><a class="header" href="#-–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ-–∏-—Å—É—Ç—å-–ø—Ä–∏–Ω—Ü–∏–ø–∞-1">üìö –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∏ —Å—É—Ç—å –ø—Ä–∏–Ω—Ü–∏–ø–∞</a></h3>
<p><strong>OCP —É—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç:</strong> –í—ã –¥–æ–ª–∂–Ω—ã –∏–º–µ—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—É—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å <strong>–±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ –∫–æ–¥–∞</strong>.</p>
<p><strong>–ü–æ—á–µ–º—É —ç—Ç–æ –≤–∞–∂–Ω–æ:</strong></p>
<ul>
<li>–°–Ω–∏–∂–∞–µ—Ç—Å—è —Ä–∏—Å–∫ —Ä–µ–≥—Ä–µ—Å—Å–∏–∏ - —Å—Ç–∞—Ä—ã–π –∫–æ–¥ –Ω–µ –º–µ–Ω—è–µ—Ç—Å—è</li>
<li>–ù–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ</li>
<li>–ö–æ–¥ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –±–æ–ª–µ–µ —Å—Ç–∞–±–∏–ª—å–Ω—ã–º</li>
<li>–£–ø—Ä–æ—â–∞–µ—Ç—Å—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ</li>
</ul>
<h3 id="-–ö–∞–∫-active-record-–Ω–∞—Ä—É—à–∞–µ—Ç-ocp"><a class="header" href="#-–ö–∞–∫-active-record-–Ω–∞—Ä—É—à–∞–µ—Ç-ocp">üî¥ –ö–∞–∫ Active Record –Ω–∞—Ä—É—à–∞–µ—Ç OCP</a></h3>
<pre><code class="language-typescript">// –ü–õ–û–•–û: Active Record –Ω–∞—Ä—É—à–∞–µ—Ç OCP
class Product {
  id: number;
  name: string;
  price: number;

  // –ë–∞–∑–æ–≤–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –¥–ª—è –æ–¥–Ω–æ–π –ë–î
  async save(): Promise&lt;void&gt; {
    await db.query('INSERT INTO products ...', [this.name, this.price]);
  }
}

// –ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ —Ä–∞–±–æ—Ç—ã —Å –¥—Ä—É–≥–æ–π –ë–î –ø—Ä–∏—Ö–æ–¥–∏—Ç—Å—è –ú–û–î–ò–§–ò–¶–ò–†–û–í–ê–¢–¨ –∫–ª–∞—Å—Å
class Product {
  id: number;
  name: string;
  price: number;

  database: string; // –î–æ–±–∞–≤–∏–ª–∏ –ø–æ–ª–µ - –ú–û–î–ò–§–ò–ö–ê–¶–ò–Ø

  // –ü–µ—Ä–µ–ø–∏—Å–∞–ª–∏ –º–µ—Ç–æ–¥ - –ú–û–î–ò–§–ò–ö–ê–¶–ò–Ø
  async save(): Promise&lt;void&gt; {
    if (this.database === 'postgres') {
      await postgres.query('INSERT INTO products ...');
    } else if (this.database === 'mongo') {
      await mongo.insertOne({ name: this.name, price: this.price });
    }
    // –ù–∞—Ä—É—à–µ–Ω–∏–µ OCP - –¥–ª—è –∫–∞–∂–¥–æ–π –Ω–æ–≤–æ–π –ë–î –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä—É–µ–º –º–µ—Ç–æ–¥
  }
}
</code></pre>
<p><strong>–ü—Ä–æ–±–ª–µ–º—ã:</strong></p>
<ul>
<li>‚ùå –ö–∞–∂–¥–∞—è –Ω–æ–≤–∞—è –ë–î —Ç—Ä–µ–±—É–µ—Ç –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏–∏ –∫–ª–∞—Å—Å–∞ Product</li>
<li>‚ùå –ù–∞—Ä—É—à–∞–µ—Ç—Å—è –ø—Ä–∏–Ω—Ü–∏–ø LSP (—Ä–∞–∑–Ω—ã–µ –Ω–∞—Å–ª–µ–¥–Ω–∏–∫–∏ –≤–µ–¥—É—Ç —Å–µ–±—è –ø–æ-—Ä–∞–∑–Ω–æ–º—É)</li>
<li>‚ùå –†–∞—Å—Ç–µ—Ç —Å–ª–æ–∂–Ω–æ—Å—Ç—å –º–µ—Ç–æ–¥–∞ save()</li>
</ul>
<h3 id="-–†–µ—à–µ–Ω–∏–µ-strategy-pattern--dependency-injection"><a class="header" href="#-–†–µ—à–µ–Ω–∏–µ-strategy-pattern--dependency-injection">‚úÖ –†–µ—à–µ–Ω–∏–µ: Strategy Pattern + Dependency Injection</a></h3>
<pre><code class="language-typescript">// –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è
interface SaveStrategy {
  save(product: Product): Promise&lt;void&gt;;
  delete(productId: number): Promise&lt;void&gt;;
}

// –°—Ç—Ä–∞—Ç–µ–≥–∏—è –¥–ª—è PostgreSQL
class PostgresSaveStrategy implements SaveStrategy {
  constructor(private db: PostgresClient) {}

  async save(product: Product): Promise&lt;void&gt; {
    await this.db.query(
      'INSERT INTO products (name, price) VALUES ($1, $2)',
      [product.name, product.price]
    );
  }

  async delete(productId: number): Promise&lt;void&gt; {
    await this.db.query('DELETE FROM products WHERE id = $1', [productId]);
  }
}

// –°—Ç—Ä–∞—Ç–µ–≥–∏—è –¥–ª—è MongoDB - –†–ê–°–®–ò–†–ï–ù–ò–ï –±–µ–∑ –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏–∏
class MongoSaveStrategy implements SaveStrategy {
  constructor(private db: MongoClient) {}

  async save(product: Product): Promise&lt;void&gt; {
    await this.db.collection('products').insertOne({
      name: product.name,
      price: product.price
    });
  }

  async delete(productId: number): Promise&lt;void&gt; {
    await this.db.collection('products').deleteOne({ id: productId });
  }
}

// –ê–Ω–µ–º–∏—á–Ω–∞—è –º–æ–¥–µ–ª—å
class Product {
  constructor(
    public id: number,
    public name: string,
    public price: number
  ) {}
}

// –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å—Ç—Ä–∞—Ç–µ–≥–∏—é
class ProductRepository {
  constructor(private saveStrategy: SaveStrategy) {}

  async save(product: Product): Promise&lt;void&gt; {
    await this.saveStrategy.save(product);
  }

  async delete(productId: number): Promise&lt;void&gt; {
    await this.saveStrategy.delete(productId);
  }
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
const postgresStrategy = new PostgresSaveStrategy(postgresClient);
const productRepo = new ProductRepository(postgresStrategy);

// –õ–µ–≥–∫–æ –∑–∞–º–µ–Ω–∏—Ç—å –Ω–∞ MongoDB –±–µ–∑ –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏–∏ Product –∏–ª–∏ ProductRepository
const mongoStrategy = new MongoSaveStrategy(mongoClient);
const productRepoMongo = new ProductRepository(mongoStrategy);
</code></pre>
<p><strong>–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:</strong></p>
<ul>
<li>‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–π –ë–î - <strong>—Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ</strong> —á–µ—Ä–µ–∑ –Ω–æ–≤—É—é —Å—Ç—Ä–∞—Ç–µ–≥–∏—é</li>
<li>‚úÖ –ö–ª–∞—Å—Å Product –æ—Å—Ç–∞–µ—Ç—Å—è –Ω–µ–∏–∑–º–µ–Ω–Ω—ã–º</li>
<li>‚úÖ –õ–µ–≥–∫–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å - –º–æ–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å mock —Å—Ç—Ä–∞—Ç–µ–≥–∏—é</li>
</ul>
<h3 id="-ocp-–≤-—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–º-–ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–∏"><a class="header" href="#-ocp-–≤-—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–º-–ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–∏">üéØ OCP –≤ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–º –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–∏</a></h3>
<pre><code class="language-typescript">// –ë–∞–∑–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏—è
type Validator&lt;T&gt; = (value: T) =&gt; boolean;

// –°–æ–∑–¥–∞–µ–º –≤–∞–ª–∏–¥–∞—Ç–æ—Ä—ã —á–µ—Ä–µ–∑ –∫–æ–º–ø–æ–∑–∏—Ü–∏—é
const isNotEmpty: Validator&lt;string&gt; = (value) =&gt; value.length &gt; 0;
const isEmail: Validator&lt;string&gt; = (value) =&gt; /\S+@\S+\.\S+/.test(value);
const minLength = (min: number): Validator&lt;string&gt; =&gt;
  (value) =&gt; value.length &gt;= min;

// –ö–æ–º–±–∏–Ω–∏—Ä—É–µ–º –≤–∞–ª–∏–¥–∞—Ç–æ—Ä—ã - –†–ê–°–®–ò–†–ï–ù–ò–ï
const and = &lt;T&gt;(...validators: Validator&lt;T&gt;[]): Validator&lt;T&gt; =&gt;
  (value) =&gt; validators.every(v =&gt; v(value));

const or = &lt;T&gt;(...validators: Validator&lt;T&gt;[]): Validator&lt;T&gt; =&gt;
  (value) =&gt; validators.some(v =&gt; v(value));

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
const validateEmail = and(isNotEmpty, isEmail);
const validatePassword = and(isNotEmpty, minLength(8));

// –õ–µ–≥–∫–æ –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–µ –ø—Ä–∞–≤–∏–ª–∞ –±–µ–∑ –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏–∏ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö
const hasUpperCase: Validator&lt;string&gt; = (value) =&gt; /[A-Z]/.test(value);
const hasNumber: Validator&lt;string&gt; = (value) =&gt; /\d/.test(value);

const validateStrongPassword = and(
  isNotEmpty,
  minLength(8),
  hasUpperCase,
  hasNumber
);
</code></pre>
<h3 id="-ocp-–≤-express-middleware"><a class="header" href="#-ocp-–≤-express-middleware">üí° OCP –≤ Express middleware</a></h3>
<pre><code class="language-typescript">// –ö–∞–∂–¥—ã–π middleware - —ç—Ç–æ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ –±–µ–∑ –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏–∏ —Ü–µ–ø–æ—á–∫–∏
import express, { Request, Response, NextFunction } from 'express';

const app = express();

// –ë–∞–∑–æ–≤—ã–µ middleware
app.use(express.json());
app.use(express.urlencoded({ extended: true }));

// –î–æ–±–∞–≤–ª—è–µ–º –Ω–æ–≤—É—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å —á–µ—Ä–µ–∑ middleware - –†–ê–°–®–ò–†–ï–ù–ò–ï
const logger = (req: Request, res: Response, next: NextFunction) =&gt; {
  console.log(`${req.method} ${req.path}`);
  next();
};

const authenticate = (req: Request, res: Response, next: NextFunction) =&gt; {
  // –ü—Ä–æ–≤–µ—Ä–∫–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
  next();
};

const validateBody = (schema: any) =&gt;
  (req: Request, res: Response, next: NextFunction) =&gt; {
    // –í–∞–ª–∏–¥–∞—Ü–∏—è —Ç–µ–ª–∞ –∑–∞–ø—Ä–æ—Å–∞
    next();
  };

// –ü—Ä–∏–º–µ–Ω—è–µ–º middleware - —Ä–∞—Å—à–∏—Ä—è–µ–º —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å
app.use(logger);
app.use(authenticate);

app.post('/users', validateBody(userSchema), (req, res) =&gt; {
  // –û–±—Ä–∞–±–æ—Ç—á–∏–∫
});
</code></pre>
<p><strong>–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ middleware –ø–æ–¥—Ö–æ–¥–∞:</strong></p>
<ul>
<li>‚úÖ –ù–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –±–µ–∑ –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏–∏ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ –∫–æ–¥–∞</li>
<li>‚úÖ –ö–∞–∂–¥—ã–π middleware –¥–µ–ª–∞–µ—Ç –æ–¥–Ω—É –≤–µ—â—å (SRP)</li>
<li>‚úÖ –õ–µ–≥–∫–æ –∫–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞—Ç—å –∏ –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å</li>
</ul>
<h3 id="-–ö–ª—é—á–µ–≤—ã–µ-–≤—ã–≤–æ–¥—ã-–ø–æ-ocp"><a class="header" href="#-–ö–ª—é—á–µ–≤—ã–µ-–≤—ã–≤–æ–¥—ã-–ø–æ-ocp">üîë –ö–ª—é—á–µ–≤—ã–µ –≤—ã–≤–æ–¥—ã –ø–æ OCP</a></h3>
<blockquote>
<p><strong>"–û—Ç–∫—Ä—ã—Ç –¥–ª—è —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è, –∑–∞–∫—Ä—ã—Ç –¥–ª—è –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏–∏"</strong></p>
</blockquote>
<ol>
<li><strong>–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ</strong> –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –∏ –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–∏</li>
<li><strong>–ü—Ä–∏–º–µ–Ω—è–π—Ç–µ</strong> Strategy Pattern –¥–ª—è –≤–∞—Ä–∏–∞—Ç–∏–≤–Ω–æ–≥–æ –ø–æ–≤–µ–¥–µ–Ω–∏—è</li>
<li><strong>–ò–∑–±–µ–≥–∞–π—Ç–µ</strong> –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏–∏ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ –∫–æ–¥–∞ –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ —Ñ—É–Ω–∫—Ü–∏–π</li>
<li><strong>–†–∞—Å—à–∏—Ä—è–π—Ç–µ</strong> —á–µ—Ä–µ–∑ –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ, –∫–æ–º–ø–æ–∑–∏—Ü–∏—é –∏–ª–∏ –ø–ª–∞–≥–∏–Ω—ã</li>
<li><strong>–ü—Ä–æ–µ–∫—Ç–∏—Ä—É–π—Ç–µ</strong> API —Ç–∞–∫, —á—Ç–æ–±—ã –Ω–æ–≤—ã–µ —Ñ–∏—á–∏ –Ω–µ –ª–æ–º–∞–ª–∏ —Å—Ç–∞—Ä—ã–π –∫–æ–¥</li>
</ol>
<hr />
<h2 id="lsp---liskov-substitution-principle"><a class="header" href="#lsp---liskov-substitution-principle">LSP - Liskov Substitution Principle</a></h2>
<blockquote>
<p><strong>–ü—Ä–∏–Ω—Ü–∏–ø –ø–æ–¥—Å—Ç–∞–Ω–æ–≤–∫–∏ –õ–∏—Å–∫–æ–≤</strong></p>
<p>–û–±—ä–µ–∫—Ç—ã –ø–æ–¥—Ç–∏–ø–∞ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å <strong>–∑–∞–º–µ–Ω—è–µ–º—ã –æ–±—ä–µ–∫—Ç–∞–º–∏ –±–∞–∑–æ–≤–æ–≥–æ —Ç–∏–ø–∞</strong> –±–µ–∑ –Ω–∞—Ä—É—à–µ–Ω–∏—è —Ä–∞–±–æ—Ç—ã –ø—Ä–æ–≥—Ä–∞–º–º—ã.</p>
</blockquote>
<h3 id="-–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ-–∏-—Å—É—Ç—å-–ø—Ä–∏–Ω—Ü–∏–ø–∞-2"><a class="header" href="#-–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ-–∏-—Å—É—Ç—å-–ø—Ä–∏–Ω—Ü–∏–ø–∞-2">üìö –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∏ —Å—É—Ç—å –ø—Ä–∏–Ω—Ü–∏–ø–∞</a></h3>
<p><strong>LSP —É—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç:</strong> –ï—Å–ª–∏ –∫–ª–∞—Å—Å B –Ω–∞—Å–ª–µ–¥—É–µ—Ç –∫–ª–∞—Å—Å A, —Ç–æ –≤–µ–∑–¥–µ, –≥–¥–µ –æ–∂–∏–¥–∞–µ—Ç—Å—è A, –º–æ–∂–Ω–æ –ø–µ—Ä–µ–¥–∞—Ç—å B <strong>–±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç–∏ –ø—Ä–æ–≥—Ä–∞–º–º—ã</strong>.</p>
<p><strong>–§–æ—Ä–º–∞–ª—å–Ω–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ (–ë–∞—Ä–±–∞—Ä–∞ –õ–∏—Å–∫–æ–≤):</strong></p>
<ul>
<li>–ü—Ä–µ–¥—É—Å–ª–æ–≤–∏—è –Ω–µ –º–æ–≥—É—Ç –±—ã—Ç—å —É—Å–∏–ª–µ–Ω—ã –≤ –ø–æ–¥—Ç–∏–ø–µ</li>
<li>–ü–æ—Å—Ç—É—Å–ª–æ–≤–∏—è –Ω–µ –º–æ–≥—É—Ç –±—ã—Ç—å –æ—Å–ª–∞–±–ª–µ–Ω—ã –≤ –ø–æ–¥—Ç–∏–ø–µ</li>
<li>–ò–Ω–≤–∞—Ä–∏–∞–Ω—Ç—ã –±–∞–∑–æ–≤–æ–≥–æ —Ç–∏–ø–∞ –¥–æ–ª–∂–Ω—ã —Å–æ—Ö—Ä–∞–Ω—è—Ç—å—Å—è –≤ –ø–æ–¥—Ç–∏–ø–µ</li>
<li><strong>–ù–∞—Å–ª–µ–¥–Ω–∏–∫ –Ω–µ –¥–æ–ª–∂–µ–Ω –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ –∏—Å–∫–ª—é—á–µ–Ω–∏—è</strong></li>
</ul>
<p><strong>–ü–æ—á–µ–º—É —ç—Ç–æ –≤–∞–∂–Ω–æ:</strong></p>
<ul>
<li>–ö–æ–¥ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º—ã–º</li>
<li>–ü–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ</li>
<li>–£–ø—Ä–æ—â–∞–µ—Ç—Å—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ</li>
<li>–°–Ω–∏–∂–∞–µ—Ç—Å—è –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —É—Å–ª–æ–≤–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–≤ (if/else)</li>
</ul>
<h3 id="-–ù–∞—Ä—É—à–µ–Ω–∏–µ-lsp-–≤-nodejs-eventemitter-vs-stream"><a class="header" href="#-–ù–∞—Ä—É—à–µ–Ω–∏–µ-lsp-–≤-nodejs-eventemitter-vs-stream">üî¥ –ù–∞—Ä—É—à–µ–Ω–∏–µ LSP –≤ Node.js: EventEmitter vs Stream</a></h3>
<pre><code class="language-typescript">import { EventEmitter } from 'events';
import { Readable } from 'stream';

// EventEmitter - –±–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å
class BaseEmitter extends EventEmitter {
  doSomething() {
    // –û—à–∏–±–∫–∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ —Å–æ–±—ã—Ç–∏–µ 'error'
    this.emit('error', new Error('Something went wrong'));
  }
}

// Stream –Ω–∞—Å–ª–µ–¥—É–µ—Ç EventEmitter, –Ω–æ –º–µ–Ω—è–µ—Ç –ø–æ–≤–µ–¥–µ–Ω–∏–µ –æ—à–∏–±–æ–∫
class DataStream extends Readable {
  _read() {
    // –í Stream –æ—à–∏–±–∫–∏ –º–æ–≥—É—Ç –±—ã—Ç—å unhandled exceptions
    // –ï—Å–ª–∏ –Ω–µ—Ç –ø–æ–¥–ø–∏—Å—á–∏–∫–∞ –Ω–∞ 'error', –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —É–ø–∞–¥–µ—Ç
    throw new Error('Stream error'); // Unhandled exception!
  }
}

// –ü—Ä–æ–±–ª–µ–º–∞: –Ω–∞—Ä—É—à–µ–Ω–∏–µ LSP
function handleEmitter(emitter: EventEmitter) {
  // –û–∂–∏–¥–∞–µ–º, —á—Ç–æ –æ—à–∏–±–∫–∏ —á–µ—Ä–µ–∑ —Å–æ–±—ã—Ç–∏–µ 'error'
  emitter.on('error', (err) =&gt; {
    console.error('Caught error:', err);
  });
}

const baseEmitter = new BaseEmitter();
handleEmitter(baseEmitter); // –†–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

const stream = new DataStream();
handleEmitter(stream); // –ú–æ–∂–µ—Ç —É–ø–∞—Å—Ç—å —Å unhandled exception!
</code></pre>
<p><strong>–ü—Ä–æ–±–ª–µ–º–∞:</strong> Stream –≤–µ–¥–µ—Ç —Å–µ–±—è –∏–Ω–∞—á–µ —á–µ–º EventEmitter –ø—Ä–∏ –æ–±—Ä–∞–±–æ—Ç–∫–µ –æ—à–∏–±–æ–∫, —á—Ç–æ –Ω–∞—Ä—É—à–∞–µ—Ç LSP.</p>
<h3 id="-–ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π-–ø—Ä–∏–º–µ—Ä-–Ω–∞—Ä—É—à–µ–Ω–∏—è-lsp-rectangle-vs-square"><a class="header" href="#-–ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π-–ø—Ä–∏–º–µ—Ä-–Ω–∞—Ä—É—à–µ–Ω–∏—è-lsp-rectangle-vs-square">‚ùå –ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π –ø—Ä–∏–º–µ—Ä –Ω–∞—Ä—É—à–µ–Ω–∏—è LSP: Rectangle vs Square</a></h3>
<pre><code class="language-typescript">// –ü–õ–û–•–û: –Ω–∞—Ä—É—à–µ–Ω–∏–µ LSP
class Rectangle {
  constructor(
    protected width: number,
    protected height: number
  ) {}

  setWidth(width: number): void {
    this.width = width;
  }

  setHeight(height: number): void {
    this.height = height;
  }

  getArea(): number {
    return this.width * this.height;
  }
}

// –ö–≤–∞–¥—Ä–∞—Ç - —ç—Ç–æ –ø—Ä—è–º–æ—É–≥–æ–ª—å–Ω–∏–∫, –ø—Ä–∞–≤–¥–∞? –ù–ï–¢ –≤ –û–û–ü!
class Square extends Rectangle {
  constructor(size: number) {
    super(size, size);
  }

  // –ù–∞—Ä—É—à–µ–Ω–∏–µ LSP: –º–µ–Ω—è–µ–º –ø–æ–≤–µ–¥–µ–Ω–∏–µ
  setWidth(width: number): void {
    this.width = width;
    this.height = width; // –ü–æ–±–æ—á–Ω—ã–π —ç—Ñ—Ñ–µ–∫—Ç!
  }

  setHeight(height: number): void {
    this.width = height; // –ü–æ–±–æ—á–Ω—ã–π —ç—Ñ—Ñ–µ–∫—Ç!
    this.height = height;
  }
}

// –¢–µ—Å—Ç
function testRectangle(rect: Rectangle) {
  rect.setWidth(5);
  rect.setHeight(10);

  // –û–∂–∏–¥–∞–µ–º –ø–ª–æ—â–∞–¥—å 50
  console.assert(rect.getArea() === 50, 'Area should be 50');
}

const rectangle = new Rectangle(0, 0);
testRectangle(rectangle); // ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç: –ø–ª–æ—â–∞–¥—å = 50

const square = new Square(0);
testRectangle(square); // ‚ùå –ù–µ —Ä–∞–±–æ—Ç–∞–µ—Ç: –ø–ª–æ—â–∞–¥—å = 100, –∞ –Ω–µ 50!
</code></pre>
<p><strong>–ü—Ä–æ–±–ª–µ–º–∞:</strong> Square –º–µ–Ω—è–µ—Ç –ø–æ–≤–µ–¥–µ–Ω–∏–µ –±–∞–∑–æ–≤–æ–≥–æ –∫–ª–∞—Å—Å–∞ Rectangle, —á—Ç–æ –Ω–∞—Ä—É—à–∞–µ—Ç –æ–∂–∏–¥–∞–Ω–∏—è.</p>
<h3 id="-–†–µ—à–µ–Ω–∏–µ-–∫–æ–º–ø–æ–∑–∏—Ü–∏—è-–≤–º–µ—Å—Ç–æ-–Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è"><a class="header" href="#-–†–µ—à–µ–Ω–∏–µ-–∫–æ–º–ø–æ–∑–∏—Ü–∏—è-–≤–º–µ—Å—Ç–æ-–Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è">‚úÖ –†–µ—à–µ–Ω–∏–µ: –∫–æ–º–ø–æ–∑–∏—Ü–∏—è –≤–º–µ—Å—Ç–æ –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è</a></h3>
<pre><code class="language-typescript">// –•–û–†–û–®–û: –∏—Å–ø–æ–ª—å–∑—É–µ–º –∫–æ–º–ø–æ–∑–∏—Ü–∏—é
interface Shape {
  getArea(): number;
}

class Rectangle implements Shape {
  constructor(
    private width: number,
    private height: number
  ) {}

  setWidth(width: number): void {
    this.width = width;
  }

  setHeight(height: number): void {
    this.height = height;
  }

  getArea(): number {
    return this.width * this.height;
  }
}

class Square implements Shape {
  constructor(private size: number) {}

  setSize(size: number): void {
    this.size = size;
  }

  getArea(): number {
    return this.size * this.size;
  }
}

// –ò—Å–ø–æ–ª—å–∑—É–µ–º –æ–±—â–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
function printArea(shape: Shape): void {
  console.log(`Area: ${shape.getArea()}`);
}

printArea(new Rectangle(5, 10)); // ‚úÖ Area: 50
printArea(new Square(5));        // ‚úÖ Area: 25
</code></pre>
<h3 id="-lsp-–≤-typescript-type-guards"><a class="header" href="#-lsp-–≤-typescript-type-guards">üéØ LSP –≤ TypeScript: Type Guards</a></h3>
<pre><code class="language-typescript">// –ò—Å–ø–æ–ª—å–∑—É–µ–º Type Guards –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ–π —Ä–∞–±–æ—Ç—ã —Å –ø–æ–¥—Ç–∏–ø–∞–º–∏
interface Animal {
  name: string;
  makeSound(): void;
}

interface Bird extends Animal {
  fly(): void;
}

interface Fish extends Animal {
  swim(): void;
}

// Type Guard
function isBird(animal: Animal): animal is Bird {
  return 'fly' in animal;
}

function isFish(animal: Animal): animal is Fish {
  return 'swim' in animal;
}

// –§—É–Ω–∫—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç —Å –ª—é–±—ã–º Animal
function handleAnimal(animal: Animal): void {
  animal.makeSound(); // –û–±—â–µ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ

  // –°–ø–µ—Ü–∏—Ñ–∏—á–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ —á–µ—Ä–µ–∑ Type Guard
  if (isBird(animal)) {
    animal.fly();
  } else if (isFish(animal)) {
    animal.swim();
  }
}
</code></pre>
<h3 id="-lsp-–∏-active-record"><a class="header" href="#-lsp-–∏-active-record">üí° LSP –∏ Active Record</a></h3>
<pre><code class="language-typescript">// –ü–†–û–ë–õ–ï–ú–ê: Active Record —Å–æ–∑–¥–∞–µ—Ç —Å–ª–∏—à–∫–æ–º –æ–±—â–∏–π –±–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å
class Record {
  async save(): Promise&lt;void&gt; {
    // –û–±—â–∞—è –ª–æ–≥–∏–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è
  }

  async delete(): Promise&lt;void&gt; {
    // –û–±—â–∞—è –ª–æ–≥–∏–∫–∞ —É–¥–∞–ª–µ–Ω–∏—è
  }

  async load(id: number): Promise&lt;void&gt; {
    // –û–±—â–∞—è –ª–æ–≥–∏–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏
  }
}

// –í—Å–µ —Å—É—â–Ω–æ—Å—Ç–∏ –Ω–∞—Å–ª–µ–¥—É—é—Ç Record
class User extends Record {
  // User –∏–º–µ–µ—Ç —Å–≤–æ—é —Å–ø–µ—Ü–∏—Ñ–∏—á–µ—Å–∫—É—é –ª–æ–≥–∏–∫—É
  // –Ω–æ –≤—ã–Ω—É–∂–¥–µ–Ω –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è—Ç—å save/delete/load
}

class Order extends Record {
  // Order –º–æ–∂–µ—Ç –∏–º–µ—Ç—å —Å–æ–≤–µ—Ä—à–µ–Ω–Ω–æ –¥—Ä—É–≥—É—é –ª–æ–≥–∏–∫—É —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è
  // (–Ω–∞–ø—Ä–∏–º–µ—Ä, –≤ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ç–∞–±–ª–∏—Ü)
}
</code></pre>
<p><strong>–ü—Ä–æ–±–ª–µ–º–∞:</strong> –°–ª–∏—à–∫–æ–º –æ–±—â–∏–π –±–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å Record —Å–æ–∑–¥–∞–µ—Ç —Å–∏—Ç—É–∞—Ü–∏—é, –≥–¥–µ –Ω–∞—Å–ª–µ–¥–Ω–∏–∫–∏ –≤—ã–Ω—É–∂–¥–µ–Ω—ã —Å–∏–ª—å–Ω–æ –º–µ–Ω—è—Ç—å –ø–æ–≤–µ–¥–µ–Ω–∏–µ, –Ω–∞—Ä—É—à–∞—è LSP.</p>
<h3 id="-–ö–ª—é—á–µ–≤—ã–µ-–≤—ã–≤–æ–¥—ã-–ø–æ-lsp"><a class="header" href="#-–ö–ª—é—á–µ–≤—ã–µ-–≤—ã–≤–æ–¥—ã-–ø–æ-lsp">üîë –ö–ª—é—á–µ–≤—ã–µ –≤—ã–≤–æ–¥—ã –ø–æ LSP</a></h3>
<blockquote>
<p><strong>"–ù–∞—Å–ª–µ–¥–Ω–∏–∫ –Ω–µ –¥–æ–ª–∂–µ–Ω –ª–æ–º–∞—Ç—å –æ–∂–∏–¥–∞–Ω–∏—è –±–∞–∑–æ–≤–æ–≥–æ —Ç–∏–ø–∞"</strong></p>
</blockquote>
<ol>
<li><strong>–ù–∞—Å–ª–µ–¥–Ω–∏–∫ –Ω–µ –¥–æ–ª–∂–µ–Ω</strong> –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ –∏—Å–∫–ª—é—á–µ–Ω–∏—è</li>
<li><strong>–ù–∞—Å–ª–µ–¥–Ω–∏–∫ –Ω–µ –¥–æ–ª–∂–µ–Ω</strong> —É—Å–∏–ª–∏–≤–∞—Ç—å –ø—Ä–µ–¥—É—Å–ª–æ–≤–∏—è</li>
<li><strong>–ù–∞—Å–ª–µ–¥–Ω–∏–∫ –Ω–µ –¥–æ–ª–∂–µ–Ω</strong> –æ—Å–ª–∞–±–ª—è—Ç—å –ø–æ—Å—Ç—É—Å–ª–æ–≤–∏—è</li>
<li><strong>–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ</strong> –∫–æ–º–ø–æ–∑–∏—Ü–∏—é –≤–º–µ—Å—Ç–æ –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è –≥–¥–µ –≤–æ–∑–º–æ–∂–Ω–æ</li>
<li><strong>–ü—Ä–∏–º–µ–Ω—è–π—Ç–µ</strong> Type Guards –≤ TypeScript –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ–π —Ä–∞–±–æ—Ç—ã —Å –ø–æ–¥—Ç–∏–ø–∞–º–∏</li>
<li><strong>–ò–∑–±–µ–≥–∞–π—Ç–µ</strong> —Å–ª–∏—à–∫–æ–º –æ–±—â–∏—Ö –±–∞–∑–æ–≤—ã—Ö –∫–ª–∞—Å—Å–æ–≤</li>
</ol>
<hr />
<h2 id="isp---interface-segregation-principle"><a class="header" href="#isp---interface-segregation-principle">ISP - Interface Segregation Principle</a></h2>
<blockquote>
<p><strong>–ü—Ä–∏–Ω—Ü–∏–ø —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤</strong></p>
<p>–ö–ª–∏–µ–Ω—Ç—ã –Ω–µ –¥–æ–ª–∂–Ω—ã –∑–∞–≤–∏—Å–µ—Ç—å –æ—Ç <strong>–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –æ–Ω–∏ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç</strong>.</p>
</blockquote>
<h3 id="-–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ-–∏-—Å—É—Ç—å-–ø—Ä–∏–Ω—Ü–∏–ø–∞-3"><a class="header" href="#-–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ-–∏-—Å—É—Ç—å-–ø—Ä–∏–Ω—Ü–∏–ø–∞-3">üìö –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∏ —Å—É—Ç—å –ø—Ä–∏–Ω—Ü–∏–ø–∞</a></h3>
<p><strong>ISP —É—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç:</strong> –õ—É—á—à–µ –∏–º–µ—Ç—å <strong>–º–Ω–æ–≥–æ –º–∞–ª–µ–Ω—å–∫–∏—Ö —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤</strong>, —á–µ–º –æ–¥–∏–Ω –±–æ–ª—å—à–æ–π —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π.</p>
<p><strong>–ü–æ—á–µ–º—É —ç—Ç–æ –≤–∞–∂–Ω–æ:</strong></p>
<ul>
<li>–£–º–µ–Ω—å—à–∞–µ—Ç—Å—è —Å–≤—è–∑–∞–Ω–Ω–æ—Å—Ç—å</li>
<li>–£–ø—Ä–æ—â–∞–µ—Ç—Å—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞</li>
<li>–õ–µ–≥—á–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å</li>
<li>–ü–æ–Ω—è—Ç–Ω–µ–µ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ –∫–∞–∂–¥–æ–≥–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞</li>
</ul>
<h3 id="-–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç—å-javascript-–æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤"><a class="header" href="#-–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç—å-javascript-–æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤">üî¥ –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç—å JavaScript: –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤</a></h3>
<p>–í JavaScript –Ω–µ—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤ –≤ –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–æ–º –ø–æ–Ω–∏–º–∞–Ω–∏–∏ (–∫–∞–∫ –≤ Java/C#), –Ω–æ:</p>
<ol>
<li><strong>Duck Typing</strong> - "–µ—Å–ª–∏ —ç—Ç–æ —Ö–æ–¥–∏—Ç –∫–∞–∫ —É—Ç–∫–∞ –∏ –∫—Ä—è–∫–∞–µ—Ç –∫–∞–∫ —É—Ç–∫–∞..."</li>
<li><strong>TypeScript –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã</strong> - compile-time –ø—Ä–æ–≤–µ—Ä–∫–∏</li>
<li><strong>–ö–æ–Ω—Ç—Ä–∞–∫—Ç—ã</strong> - –Ω–µ—è–≤–Ω—ã–µ —Å–æ–≥–ª–∞—à–µ–Ω–∏—è –æ —Å—Ç—Ä—É–∫—Ç—É—Ä–µ –æ–±—ä–µ–∫—Ç–æ–≤</li>
</ol>
<h3 id="-–ü—Ä–∏–º–µ—Ä-–Ω–∞—Ä—É—à–µ–Ω–∏—è-isp"><a class="header" href="#-–ü—Ä–∏–º–µ—Ä-–Ω–∞—Ä—É—à–µ–Ω–∏—è-isp">‚ùå –ü—Ä–∏–º–µ—Ä –Ω–∞—Ä—É—à–µ–Ω–∏—è ISP</a></h3>
<pre><code class="language-typescript">// –ü–õ–û–•–û: –æ–¥–∏–Ω –±–æ–ª—å—à–æ–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
interface DataSource {
  // –û–ø–µ—Ä–∞—Ü–∏–∏ —á—Ç–µ–Ω–∏—è
  read(id: string): Promise&lt;Data&gt;;
  readAll(): Promise&lt;Data[]&gt;;
  query(filter: Filter): Promise&lt;Data[]&gt;;

  // –û–ø–µ—Ä–∞—Ü–∏–∏ –∑–∞–ø–∏—Å–∏
  write(data: Data): Promise&lt;void&gt;;
  update(id: string, data: Partial&lt;Data&gt;): Promise&lt;void&gt;;
  delete(id: string): Promise&lt;void&gt;;

  // –û–ø–µ—Ä–∞—Ü–∏–∏ –º–∞—Å—Å–æ–≤–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏
  bulkInsert(data: Data[]): Promise&lt;void&gt;;
  bulkUpdate(updates: Update[]): Promise&lt;void&gt;;
  bulkDelete(ids: string[]): Promise&lt;void&gt;;

  // –û–ø–µ—Ä–∞—Ü–∏–∏ –±—ç–∫–∞–ø–∞
  backup(): Promise&lt;Backup&gt;;
  restore(backup: Backup): Promise&lt;void&gt;;

  // –û–ø–µ—Ä–∞—Ü–∏–∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
  getStats(): Promise&lt;Stats&gt;;
  healthCheck(): Promise&lt;boolean&gt;;
}

// –ü—Ä–æ–±–ª–µ–º–∞: ReadOnlyCache –¥–æ–ª–∂–µ–Ω —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –í–°–ï –º–µ—Ç–æ–¥—ã
class ReadOnlyCache implements DataSource {
  read(id: string): Promise&lt;Data&gt; {
    // –†–µ–∞–ª–∏–∑–∞—Ü–∏—è
  }

  readAll(): Promise&lt;Data[]&gt; {
    // –†–µ–∞–ª–∏–∑–∞—Ü–∏—è
  }

  // –≠—Ç–∏ –º–µ—Ç–æ–¥—ã –Ω–µ –Ω—É–∂–Ω—ã –¥–ª—è ReadOnly, –Ω–æ –ø—Ä–∏—Ö–æ–¥–∏—Ç—Å—è —Ä–µ–∞–ª–∏–∑–æ–≤—ã–≤–∞—Ç—å!
  write(data: Data): Promise&lt;void&gt; {
    throw new Error('Read-only cache does not support write operations');
  }

  update(id: string, data: Partial&lt;Data&gt;): Promise&lt;void&gt; {
    throw new Error('Read-only cache does not support update operations');
  }

  delete(id: string): Promise&lt;void&gt; {
    throw new Error('Read-only cache does not support delete operations');
  }

  // ... –∏ –µ—â–µ –∫—É—á–∞ –º–µ—Ç–æ–¥–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ –Ω—É–∂–Ω—ã
}
</code></pre>
<p><strong>–ü—Ä–æ–±–ª–µ–º—ã:</strong></p>
<ul>
<li>‚ùå –ö–ª–∏–µ–Ω—Ç –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –º–µ—Ç–æ–¥–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç</li>
<li>‚ùå –ü—Ä–∏—Ö–æ–¥–∏—Ç—Å—è –ø–∏—Å–∞—Ç—å –∑–∞–≥–ª—É—à–∫–∏ –∏–ª–∏ –±—Ä–æ—Å–∞—Ç—å –∏—Å–∫–ª—é—á–µ–Ω–∏—è</li>
<li>‚ùå –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Å–ª–∏—à–∫–æ–º —Å–ª–æ–∂–Ω—ã–π –¥–ª—è –ø–æ–Ω–∏–º–∞–Ω–∏—è</li>
</ul>
<h3 id="-–†–µ—à–µ–Ω–∏–µ-—Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤"><a class="header" href="#-–†–µ—à–µ–Ω–∏–µ-—Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤">‚úÖ –†–µ—à–µ–Ω–∏–µ: —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤</a></h3>
<pre><code class="language-typescript">// –•–û–†–û–®–û: –º–Ω–æ–≥–æ –º–∞–ª–µ–Ω—å–∫–∏—Ö –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤
interface Readable&lt;T&gt; {
  read(id: string): Promise&lt;T&gt;;
  readAll(): Promise&lt;T[]&gt;;
}

interface Queryable&lt;T&gt; {
  query(filter: Filter): Promise&lt;T[]&gt;;
}

interface Writable&lt;T&gt; {
  write(data: T): Promise&lt;void&gt;;
  update(id: string, data: Partial&lt;T&gt;): Promise&lt;void&gt;;
  delete(id: string): Promise&lt;void&gt;;
}

interface BulkWritable&lt;T&gt; {
  bulkInsert(data: T[]): Promise&lt;void&gt;;
  bulkUpdate(updates: Update[]): Promise&lt;void&gt;;
  bulkDelete(ids: string[]): Promise&lt;void&gt;;
}

interface Backupable {
  backup(): Promise&lt;Backup&gt;;
  restore(backup: Backup): Promise&lt;void&gt;;
}

interface Monitorable {
  getStats(): Promise&lt;Stats&gt;;
  healthCheck(): Promise&lt;boolean&gt;;
}

// –¢–µ–ø–µ—Ä—å –º–æ–∂–µ–º –∫–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ –Ω—É–∂–Ω—ã–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã
class ReadOnlyCache&lt;T&gt; implements Readable&lt;T&gt;, Queryable&lt;T&gt; {
  async read(id: string): Promise&lt;T&gt; {
    // –†–µ–∞–ª–∏–∑–∞—Ü–∏—è —á—Ç–µ–Ω–∏—è –∏–∑ –∫–µ—à–∞
  }

  async readAll(): Promise&lt;T[]&gt; {
    // –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –ø–æ–ª—É—á–µ–Ω–∏—è –≤—Å–µ—Ö –¥–∞–Ω–Ω—ã—Ö
  }

  async query(filter: Filter): Promise&lt;T[]&gt; {
    // –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –∑–∞–ø—Ä–æ—Å–∞ —Å —Ñ–∏–ª—å—Ç—Ä–æ–º
  }
}

// –ü–æ–ª–Ω–æ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ
class Database&lt;T&gt; implements
  Readable&lt;T&gt;,
  Queryable&lt;T&gt;,
  Writable&lt;T&gt;,
  BulkWritable&lt;T&gt;,
  Backupable,
  Monitorable
{
  // –†–µ–∞–ª–∏–∑—É–µ—Ç –≤—Å–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã
}

// –§—É–Ω–∫—Ü–∏—è, –∫–æ—Ç–æ—Ä–∞—è —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ —Å —á—Ç–µ–Ω–∏–µ–º
function loadData&lt;T&gt;(source: Readable&lt;T&gt;, id: string): Promise&lt;T&gt; {
  return source.read(id);
}

// –ú–æ–∂–µ–º –ø–µ—Ä–µ–¥–∞—Ç—å –ª—é–±—É—é —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é Readable
loadData(new ReadOnlyCache&lt;User&gt;(), '123');
loadData(new Database&lt;User&gt;(), '123');
</code></pre>
<p><strong>–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:</strong></p>
<ul>
<li>‚úÖ –ö–∞–∂–¥—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω</li>
<li>‚úÖ –ö–ª–∏–µ–Ω—Ç –∑–∞–≤–∏—Å–∏—Ç —Ç–æ–ª—å–∫–æ –æ—Ç —Ç–æ–≥–æ, —á—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç</li>
<li>‚úÖ –õ–µ–≥–∫–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —á–∞—Å—Ç–∏—á–Ω—É—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å</li>
</ul>
<h3 id="-isp-–≤-nodejs-stream-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã"><a class="header" href="#-isp-–≤-nodejs-stream-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã">üéØ ISP –≤ Node.js: Stream –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã</a></h3>
<p>Node.js –æ—Ç–ª–∏—á–Ω–æ –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç ISP —á–µ—Ä–µ–∑ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ Stream –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤:</p>
<pre><code class="language-typescript">import { Readable, Writable, Duplex, Transform } from 'stream';

// –ú–∞–ª–µ–Ω—å–∫–∏–µ —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã
interface ReadableStream {
  read(size?: number): any;
  pipe&lt;T extends Writable&gt;(destination: T): T;
  on(event: 'data', listener: (chunk: any) =&gt; void): this;
  on(event: 'end', listener: () =&gt; void): this;
}

interface WritableStream {
  write(chunk: any, callback?: (error?: Error) =&gt; void): boolean;
  end(callback?: () =&gt; void): void;
  on(event: 'finish', listener: () =&gt; void): this;
}

// Duplex = Readable + Writable (–∫–æ–º–ø–æ–∑–∏—Ü–∏—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤)
interface DuplexStream extends ReadableStream, WritableStream {}

// Transform = —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π –≤–∏–¥ Duplex
interface TransformStream extends DuplexStream {
  _transform(chunk: any, encoding: string, callback: Function): void;
}

// –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
import fs from 'fs';
import zlib from 'zlib';

// –§—É–Ω–∫—Ü–∏—è, –∫–æ—Ç–æ—Ä–∞—è –Ω—É–∂–Ω–∞ —Ç–æ–ª—å–∫–æ Readable
function consumeReadable(stream: Readable): void {
  stream.on('data', (chunk) =&gt; {
    console.log(`Received ${chunk.length} bytes`);
  });
}

// –§—É–Ω–∫—Ü–∏—è, –∫–æ—Ç–æ—Ä–æ–π –Ω—É–∂–µ–Ω —Ç–æ–ª—å–∫–æ Writable
function produceToWritable(stream: Writable): void {
  stream.write('Hello, World!');
  stream.end();
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
const readStream = fs.createReadStream('file.txt');
consumeReadable(readStream); // ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç

const writeStream = fs.createWriteStream('output.txt');
produceToWritable(writeStream); // ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç

// Duplex stream –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ –æ–±–æ–∏—Ö —Å–ª—É—á–∞—è—Ö
const gzip = zlib.createGzip();
consumeReadable(gzip);  // ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ Readable
produceToWritable(gzip); // ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ Writable
</code></pre>
<h3 id="-isp-–≤-javascript-iterator-–∏-iterable"><a class="header" href="#-isp-–≤-javascript-iterator-–∏-iterable">üí° ISP –≤ JavaScript: Iterator –∏ Iterable</a></h3>
<pre><code class="language-typescript">// –î–≤–∞ –º–∞–ª–µ–Ω—å–∫–∏—Ö –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ –≤–º–µ—Å—Ç–æ –æ–¥–Ω–æ–≥–æ –±–æ–ª—å—à–æ–≥–æ
interface Iterable&lt;T&gt; {
  [Symbol.iterator](): Iterator&lt;T&gt;;
}

interface Iterator&lt;T&gt; {
  next(): IteratorResult&lt;T&gt;;
}

interface IteratorResult&lt;T&gt; {
  done: boolean;
  value: T;
}

// –ö–ª–∞—Å—Å –º–æ–∂–µ—Ç —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ Iterable
class Range implements Iterable&lt;number&gt; {
  constructor(
    private start: number,
    private end: number
  ) {}

  [Symbol.iterator](): Iterator&lt;number&gt; {
    let current = this.start;
    const end = this.end;

    return {
      next(): IteratorResult&lt;number&gt; {
        if (current &lt;= end) {
          return { done: false, value: current++ };
        }
        return { done: true, value: undefined as any };
      }
    };
  }
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
for (const num of new Range(1, 5)) {
  console.log(num); // 1, 2, 3, 4, 5
}
</code></pre>
<h3 id="-–ö–ª—é—á–µ–≤—ã–µ-–≤—ã–≤–æ–¥—ã-–ø–æ-isp"><a class="header" href="#-–ö–ª—é—á–µ–≤—ã–µ-–≤—ã–≤–æ–¥—ã-–ø–æ-isp">üîë –ö–ª—é—á–µ–≤—ã–µ –≤—ã–≤–æ–¥—ã –ø–æ ISP</a></h3>
<blockquote>
<p><strong>"–ú–Ω–æ–≥–æ –º–∞–ª–µ–Ω—å–∫–∏—Ö –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤ –ª—É—á—à–µ –æ–¥–Ω–æ–≥–æ –±–æ–ª—å—à–æ–≥–æ"</strong></p>
</blockquote>
<ol>
<li><strong>–†–∞–∑–¥–µ–ª—è–π—Ç–µ</strong> –±–æ–ª—å—à–∏–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –Ω–∞ –º–∞–ª–µ–Ω—å–∫–∏–µ —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ</li>
<li><strong>–í JavaScript</strong> –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ duck typing –∏ TypeScript –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã</li>
<li><strong>–ü—Ä–∏–º–µ—Ä—ã –≤ Node.js:</strong> Stream interfaces, Iterator/Iterable</li>
<li><strong>–ö–ª–∏–µ–Ω—Ç</strong> –¥–æ–ª–∂–µ–Ω –∑–∞–≤–∏—Å–µ—Ç—å —Ç–æ–ª—å–∫–æ –æ—Ç –º–µ—Ç–æ–¥–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç</li>
<li><strong>–ö–æ–º–ø–æ–∑–∏—Ü–∏—è</strong> –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤ –ª—É—á—à–µ –æ–¥–Ω–æ–≥–æ —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ–≥–æ</li>
</ol>
<hr />
<h2 id="dip---dependency-inversion-principle"><a class="header" href="#dip---dependency-inversion-principle">DIP - Dependency Inversion Principle</a></h2>
<blockquote>
<p><strong>–ü—Ä–∏–Ω—Ü–∏–ø –∏–Ω–≤–µ—Ä—Å–∏–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π</strong></p>
<ol>
<li>–ú–æ–¥—É–ª–∏ –≤–µ—Ä—Ö–Ω–µ–≥–æ —É—Ä–æ–≤–Ω—è –Ω–µ –¥–æ–ª–∂–Ω—ã –∑–∞–≤–∏—Å–µ—Ç—å –æ—Ç –º–æ–¥—É–ª–µ–π –Ω–∏–∂–Ω–µ–≥–æ —É—Ä–æ–≤–Ω—è. <strong>–û–±–∞ –¥–æ–ª–∂–Ω—ã –∑–∞–≤–∏—Å–µ—Ç—å –æ—Ç –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–π</strong>.</li>
<li>–ê–±—Å—Ç—Ä–∞–∫—Ü–∏–∏ –Ω–µ –¥–æ–ª–∂–Ω—ã –∑–∞–≤–∏—Å–µ—Ç—å –æ—Ç –¥–µ—Ç–∞–ª–µ–π. <strong>–î–µ—Ç–∞–ª–∏ –¥–æ–ª–∂–Ω—ã –∑–∞–≤–∏—Å–µ—Ç—å –æ—Ç –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–π</strong>.</li>
</ol>
</blockquote>
<h3 id="-–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ-–∏-—Å—É—Ç—å-–ø—Ä–∏–Ω—Ü–∏–ø–∞-4"><a class="header" href="#-–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ-–∏-—Å—É—Ç—å-–ø—Ä–∏–Ω—Ü–∏–ø–∞-4">üìö –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∏ —Å—É—Ç—å –ø—Ä–∏–Ω—Ü–∏–ø–∞</a></h3>
<p><strong>DIP —É—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç:</strong> –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∞ –Ω–∞ <strong>–∞–±—Å—Ç—Ä–∞–∫—Ü–∏–∏</strong> (–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã), –∞ –Ω–µ –Ω–∞ <strong>–∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏</strong>.</p>
<p><strong>–ü–æ—á–µ–º—É —ç—Ç–æ –≤–∞–∂–Ω–æ:</strong></p>
<ul>
<li>–£–ø—Ä–æ—â–∞–µ—Ç—Å—è –∑–∞–º–µ–Ω–∞ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–π</li>
<li>–ö–æ–¥ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –±–æ–ª–µ–µ –≥–∏–±–∫–∏–º</li>
<li>–õ–µ–≥—á–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å (–º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å mock)</li>
<li>–°–Ω–∏–∂–∞–µ—Ç—Å—è —Å–≤—è–∑–∞–Ω–Ω–æ—Å—Ç—å –º–µ–∂–¥—É –º–æ–¥—É–ª—è–º–∏</li>
</ul>
<h3 id="-–ü—Ä–æ–±–ª–µ–º–∞-–≤-javascript-–æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤"><a class="header" href="#-–ü—Ä–æ–±–ª–µ–º–∞-–≤-javascript-–æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤">üî¥ –ü—Ä–æ–±–ª–µ–º–∞ –≤ JavaScript: –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤</a></h3>
<p>–í JavaScript/TypeScript –Ω–µ—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤ –≤ runtime (—Ç–æ–ª—å–∫–æ –≤ compile-time), –ø–æ—ç—Ç–æ–º—É:</p>
<ol>
<li><strong>TypeScript –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã</strong> –∫–æ–º–ø–∏–ª–∏—Ä—É—é—Ç—Å—è –≤ JavaScript –∏ –∏—Å—á–µ–∑–∞—é—Ç</li>
<li><strong>Duck typing</strong> - –Ω–µ—è–≤–Ω—ã–µ –∫–æ–Ω—Ç—Ä–∞–∫—Ç—ã</li>
<li><strong>Dependency Injection</strong> —Ä–∞–±–æ—Ç–∞–µ—Ç —á–µ—Ä–µ–∑ –ø–µ—Ä–µ–¥–∞—á—É –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π</li>
</ol>
<h3 id="-–ü—Ä–∏–º–µ—Ä-–Ω–∞—Ä—É—à–µ–Ω–∏—è-dip"><a class="header" href="#-–ü—Ä–∏–º–µ—Ä-–Ω–∞—Ä—É—à–µ–Ω–∏—è-dip">‚ùå –ü—Ä–∏–º–µ—Ä –Ω–∞—Ä—É—à–µ–Ω–∏—è DIP</a></h3>
<pre><code class="language-typescript">// –ü–õ–û–•–û: –∂–µ—Å—Ç–∫–∞—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –æ—Ç –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏
class MySQLDatabase {
  async query(sql: string, params: any[]): Promise&lt;any&gt; {
    // –õ–æ–≥–∏–∫–∞ —Ä–∞–±–æ—Ç—ã —Å MySQL
  }
}

class UserService {
  private db: MySQLDatabase;

  constructor() {
    // –ñ–µ—Å—Ç–∫–∞—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å - —Å–æ–∑–¥–∞–µ–º –≤–Ω—É—Ç—Ä–∏
    this.db = new MySQLDatabase();
  }

  async getUser(id: string): Promise&lt;User&gt; {
    const result = await this.db.query(
      'SELECT * FROM users WHERE id = ?',
      [id]
    );
    return result[0];
  }

  async createUser(user: User): Promise&lt;void&gt; {
    await this.db.query(
      'INSERT INTO users (name, email) VALUES (?, ?)',
      [user.name, user.email]
    );
  }
}
</code></pre>
<p><strong>–ü—Ä–æ–±–ª–µ–º—ã:</strong></p>
<ul>
<li>‚ùå UserService –∂–µ—Å—Ç–∫–æ —Å–≤—è–∑–∞–Ω —Å MySQLDatabase</li>
<li>‚ùå –ù–µ–≤–æ–∑–º–æ–∂–Ω–æ –∑–∞–º–µ–Ω–∏—Ç—å –ë–î –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏—è UserService</li>
<li>‚ùå –°–ª–æ–∂–Ω–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å - –Ω—É–∂–Ω–∞ —Ä–µ–∞–ª—å–Ω–∞—è –ë–î</li>
<li>‚ùå –ù–∞—Ä—É—à–∞–µ—Ç—Å—è OCP - –ø—Ä–∏ —Å–º–µ–Ω–µ –ë–î –ø—Ä–∏–¥–µ—Ç—Å—è –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å UserService</li>
</ul>
<h3 id="-–†–µ—à–µ–Ω–∏–µ-dependency-injection--–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã"><a class="header" href="#-–†–µ—à–µ–Ω–∏–µ-dependency-injection--–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã">‚úÖ –†–µ—à–µ–Ω–∏–µ: Dependency Injection + –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã</a></h3>
<pre><code class="language-typescript">// –•–û–†–û–®–û: –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –æ—Ç –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–∏
interface Database {
  query(sql: string, params: any[]): Promise&lt;any&gt;;
}

// –ö–æ–Ω–∫—Ä–µ—Ç–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –¥–ª—è MySQL
class MySQLDatabase implements Database {
  async query(sql: string, params: any[]): Promise&lt;any&gt; {
    // –õ–æ–≥–∏–∫–∞ —Ä–∞–±–æ—Ç—ã —Å MySQL
    console.log('MySQL query:', sql, params);
    return [];
  }
}

// –ö–æ–Ω–∫—Ä–µ—Ç–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –¥–ª—è PostgreSQL
class PostgresDatabase implements Database {
  async query(sql: string, params: any[]): Promise&lt;any&gt; {
    // –õ–æ–≥–∏–∫–∞ —Ä–∞–±–æ—Ç—ã —Å PostgreSQL
    console.log('Postgres query:', sql, params);
    return [];
  }
}

// Mock –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
class MockDatabase implements Database {
  private data: Map&lt;string, User&gt; = new Map();

  async query(sql: string, params: any[]): Promise&lt;any&gt; {
    // –ü—Ä–æ—Å—Ç–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –¥–ª—è —Ç–µ—Å—Ç–æ–≤
    if (sql.includes('SELECT')) {
      const id = params[0];
      return [this.data.get(id)];
    }
    if (sql.includes('INSERT')) {
      const [name, email] = params;
      this.data.set('1', { id: '1', name, email });
      return [];
    }
    return [];
  }
}

// –°–µ—Ä–≤–∏—Å –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–∏, –∞ –Ω–µ –æ—Ç –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏
class UserService {
  constructor(private db: Database) {} // Dependency Injection!

  async getUser(id: string): Promise&lt;User&gt; {
    const result = await this.db.query(
      'SELECT * FROM users WHERE id = ?',
      [id]
    );
    return result[0];
  }

  async createUser(user: User): Promise&lt;void&gt; {
    await this.db.query(
      'INSERT INTO users (name, email) VALUES (?, ?)',
      [user.name, user.email]
    );
  }
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ
const mysqlDb = new MySQLDatabase();
const userService = new UserService(mysqlDb);

// –õ–µ–≥–∫–æ –∑–∞–º–µ–Ω–∏—Ç—å –Ω–∞ PostgreSQL
const postgresDb = new PostgresDatabase();
const userServicePg = new UserService(postgresDb);

// –õ–µ–≥–∫–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Å mock
const mockDb = new MockDatabase();
const userServiceTest = new UserService(mockDb);
</code></pre>
<p><strong>–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:</strong></p>
<ul>
<li>‚úÖ UserService –Ω–µ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –ë–î</li>
<li>‚úÖ –õ–µ–≥–∫–æ –∑–∞–º–µ–Ω–∏—Ç—å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é</li>
<li>‚úÖ –õ–µ–≥–∫–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Å mock</li>
<li>‚úÖ –°–æ–±–ª—é–¥–∞–µ—Ç—Å—è OCP</li>
</ul>
<h3 id="-di-container-–≤-nodejs"><a class="header" href="#-di-container-–≤-nodejs">üéØ DI Container –≤ Node.js</a></h3>
<pre><code class="language-typescript">// –ü—Ä–æ—Å—Ç–æ–π DI Container
class Container {
  private services = new Map&lt;string, any&gt;();

  // –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —Ñ–∞–±—Ä–∏–∫–∏
  register&lt;T&gt;(name: string, factory: (container: Container) =&gt; T): void {
    this.services.set(name, factory);
  }

  // –†–µ–∑–æ–ª–≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
  resolve&lt;T&gt;(name: string): T {
    const factory = this.services.get(name);
    if (!factory) {
      throw new Error(`Service ${name} not found`);
    }
    return factory(this);
  }
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
const container = new Container();

// –†–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ–º –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
container.register('database', () =&gt; new MySQLDatabase());

container.register('userRepository', (c) =&gt;
  new UserRepository(c.resolve('database'))
);

container.register('userService', (c) =&gt;
  new UserService(c.resolve('userRepository'))
);

// –†–µ–∑–æ–ª–≤–∏–º –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
const userService = container.resolve&lt;UserService&gt;('userService');
</code></pre>
<h3 id="-dip-–≤-—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–º-–ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–∏"><a class="header" href="#-dip-–≤-—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–º-–ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–∏">üí° DIP –≤ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–º –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–∏</a></h3>
<pre><code class="language-typescript">// –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –ø–æ–¥—Ö–æ–¥ –∫ DI
type Logger = (message: string) =&gt; void;
type Database = {
  query: (sql: string, params: any[]) =&gt; Promise&lt;any&gt;;
};

// –§—É–Ω–∫—Ü–∏—è –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–π (—Ñ—É–Ω–∫—Ü–∏–π)
const createUserService = (db: Database, logger: Logger) =&gt; ({
  async getUser(id: string): Promise&lt;User&gt; {
    logger(`Getting user ${id}`);
    const result = await db.query(
      'SELECT * FROM users WHERE id = ?',
      [id]
    );
    return result[0];
  },

  async createUser(user: User): Promise&lt;void&gt; {
    logger(`Creating user ${user.name}`);
    await db.query(
      'INSERT INTO users (name, email) VALUES (?, ?)',
      [user.name, user.email]
    );
  }
});

// –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏
const consoleLogger: Logger = (message) =&gt; console.log(message);
const fileLogger: Logger = (message) =&gt; fs.appendFileSync('log.txt', message + '\n');

const mysqlDb: Database = {
  query: async (sql, params) =&gt; { /* ... */ }
};

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
const userService = createUserService(mysqlDb, consoleLogger);

// –õ–µ–≥–∫–æ –∑–∞–º–µ–Ω–∏—Ç—å –ª–æ–≥–≥–µ—Ä
const userServiceWithFileLog = createUserService(mysqlDb, fileLogger);
</code></pre>
<h3 id="-–ö–ª—é—á–µ–≤—ã–µ-–≤—ã–≤–æ–¥—ã-–ø–æ-dip"><a class="header" href="#-–ö–ª—é—á–µ–≤—ã–µ-–≤—ã–≤–æ–¥—ã-–ø–æ-dip">üîë –ö–ª—é—á–µ–≤—ã–µ –≤—ã–≤–æ–¥—ã –ø–æ DIP</a></h3>
<blockquote>
<p><strong>"–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –æ—Ç –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–π, –∞ –Ω–µ –æ—Ç –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–π"</strong></p>
</blockquote>
<ol>
<li><strong>–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ</strong> Dependency Injection –¥–ª—è –≤–Ω–µ–¥—Ä–µ–Ω–∏—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π</li>
<li><strong>–ó–∞–≤–∏—Å—å—Ç–µ</strong> –æ—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤/–∞–±—Å—Ç—Ä–∞–∫—Ü–∏–π, –∞ –Ω–µ –æ—Ç –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö –∫–ª–∞—Å—Å–æ–≤</li>
<li><strong>–í JavaScript</strong> –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ duck typing –∏–ª–∏ TypeScript –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã</li>
<li><strong>–ü—Ä–∏–º–µ–Ω—è–π—Ç–µ</strong> DI Container –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏</li>
<li><strong>–í —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–º —Å—Ç–∏–ª–µ</strong> –ø–µ—Ä–µ–¥–∞–≤–∞–π—Ç–µ —Ñ—É–Ω–∫—Ü–∏–∏ –∫–∞–∫ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏</li>
</ol>
<hr />
<h2 id="–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ-–≤-–∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–º-–ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–∏"><a class="header" href="#–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ-–≤-–∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–º-–ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–∏">–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –≤ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–º –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–∏</a></h2>
<p>–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç—å –¥–æ–±–∞–≤–ª—è–µ—Ç –Ω–æ–≤—ã–π —É—Ä–æ–≤–µ–Ω—å —Å–ª–æ–∂–Ω–æ—Å—Ç–∏ –∫ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—é SOLID –ø—Ä–∏–Ω—Ü–∏–ø–æ–≤. –†–∞—Å—Å–º–æ—Ç—Ä–∏–º —Å–ø–µ—Ü–∏—Ñ–∏–∫—É —Ä–∞–±–æ—Ç—ã —Å async/await, Promise –∏ callback patterns.</p>
<h3 id="-srp-–≤-–∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–º-–∫–æ–¥–µ"><a class="header" href="#-srp-–≤-–∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–º-–∫–æ–¥–µ">üéØ SRP –≤ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–º –∫–æ–¥–µ</a></h3>
<pre><code class="language-typescript">// ‚ùå –ü–õ–û–•–û: —Ñ—É–Ω–∫—Ü–∏—è –¥–µ–ª–∞–µ—Ç —Å–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ
async function processUser(userId: string) {
  // –î–æ—Å—Ç—É–ø –∫ –ë–î
  const user = await db.getUser(userId);

  // –í–∞–ª–∏–¥–∞—Ü–∏—è
  if (!user.email) {
    throw new Error('User has no email');
  }

  // –û—Ç–ø—Ä–∞–≤–∫–∞ email
  await sendEmail(user.email, 'Welcome!');

  // –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
  await logAction('user_processed', userId);

  // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
  await incrementUserProcessedCount();

  return user;
}
</code></pre>
<p><strong>–ü—Ä–æ–±–ª–µ–º—ã:</strong></p>
<ul>
<li>‚ùå –°–º–µ—à–∏–≤–∞–µ—Ç –¥–æ—Å—Ç—É–ø –∫ –ë–î, –≤–∞–ª–∏–¥–∞—Ü–∏—é, –æ—Ç–ø—Ä–∞–≤–∫—É email –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ</li>
<li>‚ùå –°–ª–æ–∂–Ω–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å</li>
<li>‚ùå –õ—é–±–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Ç—Ä–µ–±—É–µ—Ç –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏–∏ —Ñ—É–Ω–∫—Ü–∏–∏</li>
</ul>
<pre><code class="language-typescript">// ‚úÖ –•–û–†–û–®–û: —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏
async function getUserFromDb(userId: string): Promise&lt;User&gt; {
  return await db.getUser(userId);
}

function validateUser(user: User): void {
  if (!user.email) {
    throw new Error('User has no email');
  }
}

async function notifyUser(user: User): Promise&lt;void&gt; {
  await sendEmail(user.email, 'Welcome!');
}

async function logUserAction(action: string, userId: string): Promise&lt;void&gt; {
  await logAction(action, userId);
}

async function updateStatistics(): Promise&lt;void&gt; {
  await incrementUserProcessedCount();
}

// –ö–æ–º–ø–æ–∑–∏—Ü–∏—è - –∫–∞–∂–¥–∞—è —Ñ—É–Ω–∫—Ü–∏—è –∏–º–µ–µ—Ç –æ–¥–Ω—É –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å
async function processUser(userId: string): Promise&lt;User&gt; {
  const user = await getUserFromDb(userId);
  validateUser(user);

  // –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
  await Promise.all([
    notifyUser(user),
    logUserAction('user_processed', userId),
    updateStatistics()
  ]);

  return user;
}
</code></pre>
<h3 id="-–û–±—Ä–∞–±–æ—Ç–∫–∞-–æ—à–∏–±–æ–∫-–≤-–∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–º-–∫–æ–¥–µ"><a class="header" href="#-–û–±—Ä–∞–±–æ—Ç–∫–∞-–æ—à–∏–±–æ–∫-–≤-–∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–º-–∫–æ–¥–µ">üéØ –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –≤ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–º –∫–æ–¥–µ</a></h3>
<pre><code class="language-typescript">// –†–∞–∑–Ω—ã–µ —Å–ø–æ—Å–æ–±—ã –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫
interface ErrorHandler {
  handleError(error: Error): void;
}

// 1. Try-catch –¥–ª—è async/await
async function withTryCatch(handler: ErrorHandler) {
  try {
    await someAsyncOperation();
  } catch (error) {
    handler.handleError(error as Error);
  }
}

// 2. .catch() –¥–ª—è Promise chains
function withCatch(handler: ErrorHandler) {
  return someAsyncOperation()
    .catch(error =&gt; handler.handleError(error));
}

// 3. Error-first callbacks (—Å—Ç–∞—Ä—ã–π —Å—Ç–∏–ª—å)
function withCallback(callback: (error: Error | null, result?: any) =&gt; void) {
  someOperation((error, result) =&gt; {
    if (error) {
      callback(error);
    } else {
      callback(null, result);
    }
  });
}

// 4. –°–æ–±—ã—Ç–∏–µ 'error' –¥–ª—è streams
import { Readable } from 'stream';

function handleStreamErrors(stream: Readable, handler: ErrorHandler) {
  stream.on('error', (error) =&gt; {
    handler.handleError(error);
  });
}
</code></pre>
<h3 id="-async-iterator-pattern"><a class="header" href="#-async-iterator-pattern">üéØ Async Iterator Pattern</a></h3>
<pre><code class="language-typescript">// –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–≥–æ –∏—Ç–µ—Ä–∞—Ç–æ—Ä–∞
interface AsyncIterable&lt;T&gt; {
  [Symbol.asyncIterator](): AsyncIterator&lt;T&gt;;
}

interface AsyncIterator&lt;T&gt; {
  next(): Promise&lt;IteratorResult&lt;T&gt;&gt;;
}

// –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –∫—É—Ä—Å–æ—Ä–∞ –¥–ª—è –ë–î
class DatabaseCursor&lt;T&gt; implements AsyncIterable&lt;T&gt; {
  constructor(
    private query: string,
    private db: Database
  ) {}

  async *[Symbol.asyncIterator](): AsyncIterator&lt;T&gt; {
    let offset = 0;
    const limit = 100;

    while (true) {
      const results = await this.db.query(
        `${this.query} LIMIT ${limit} OFFSET ${offset}`,
        []
      );

      if (results.length === 0) break;

      for (const result of results) {
        yield result;
      }

      offset += limit;
    }
  }
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
async function processAllUsers() {
  const cursor = new DatabaseCursor&lt;User&gt;('SELECT * FROM users', db);

  for await (const user of cursor) {
    await processUser(user.id);
  }
}
</code></pre>
<h3 id="-promise-–∫–æ–º–ø–æ–∑–∏—Ü–∏—è"><a class="header" href="#-promise-–∫–æ–º–ø–æ–∑–∏—Ü–∏—è">üéØ Promise –∫–æ–º–ø–æ–∑–∏—Ü–∏—è</a></h3>
<pre><code class="language-typescript">// –ö–æ–º–ø–æ–∑–∏—Ü–∏—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
class AsyncPipeline&lt;T&gt; {
  constructor(private value: Promise&lt;T&gt;) {}

  pipe&lt;U&gt;(fn: (value: T) =&gt; Promise&lt;U&gt;): AsyncPipeline&lt;U&gt; {
    return new AsyncPipeline(this.value.then(fn));
  }

  async execute(): Promise&lt;T&gt; {
    return await this.value;
  }
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
const result = await new AsyncPipeline(Promise.resolve('user123'))
  .pipe(getUserFromDb)
  .pipe(async (user) =&gt; {
    validateUser(user);
    return user;
  })
  .pipe(notifyUser)
  .execute();
</code></pre>
<h3 id="-retry-pattern-—Å-—ç–∫—Å–ø–æ–Ω–µ–Ω—Ü–∏–∞–ª—å–Ω–æ–π-–∑–∞–¥–µ—Ä–∂–∫–æ–π"><a class="header" href="#-retry-pattern-—Å-—ç–∫—Å–ø–æ–Ω–µ–Ω—Ü–∏–∞–ª—å–Ω–æ–π-–∑–∞–¥–µ—Ä–∂–∫–æ–π">üéØ Retry Pattern —Å —ç–∫—Å–ø–æ–Ω–µ–Ω—Ü–∏–∞–ª—å–Ω–æ–π –∑–∞–¥–µ—Ä–∂–∫–æ–π</a></h3>
<pre><code class="language-typescript">// –§—É–Ω–∫—Ü–∏—è retry - –æ–¥–Ω–∞ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å
async function retry&lt;T&gt;(
  fn: () =&gt; Promise&lt;T&gt;,
  options: {
    maxAttempts: number;
    delay: number;
    backoff: number;
  }
): Promise&lt;T&gt; {
  let lastError: Error;

  for (let attempt = 1; attempt &lt;= options.maxAttempts; attempt++) {
    try {
      return await fn();
    } catch (error) {
      lastError = error as Error;

      if (attempt &lt; options.maxAttempts) {
        const delay = options.delay * Math.pow(options.backoff, attempt - 1);
        await new Promise(resolve =&gt; setTimeout(resolve, delay));
      }
    }
  }

  throw lastError!;
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
const user = await retry(
  () =&gt; getUserFromDb('123'),
  { maxAttempts: 3, delay: 1000, backoff: 2 }
);
</code></pre>
<h3 id="-–ö–ª—é—á–µ–≤—ã–µ-–≤—ã–≤–æ–¥—ã-–ø–æ-async-–ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—é"><a class="header" href="#-–ö–ª—é—á–µ–≤—ã–µ-–≤—ã–≤–æ–¥—ã-–ø–æ-async-–ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—é">üîë –ö–ª—é—á–µ–≤—ã–µ –≤—ã–≤–æ–¥—ã –ø–æ async –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—é</a></h3>
<ol>
<li><strong>SRP</strong> –æ—Å—Ç–∞–µ—Ç—Å—è –∞–∫—Ç—É–∞–ª—å–Ω—ã–º - –æ–¥–Ω–∞ async —Ñ—É–Ω–∫—Ü–∏—è = –æ–¥–Ω–∞ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å</li>
<li><strong>–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫</strong> –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ–π (try/catch, .catch(), events)</li>
<li><strong>Promise.all()</strong> –¥–ª—è –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π</li>
<li><strong>Async generators</strong> –¥–ª—è –ø–æ—Ç–æ–∫–æ–≤–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏ –¥–∞–Ω–Ω—ã—Ö</li>
<li><strong>Retry/Circuit Breaker</strong> –ø–∞—Ç—Ç–µ—Ä–Ω—ã –¥–ª—è —É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç–∏</li>
</ol>
<hr />
<h2 id="–°–ø–µ—Ü–∏—Ñ–∏–∫–∞-nodejs"><a class="header" href="#–°–ø–µ—Ü–∏—Ñ–∏–∫–∞-nodejs">–°–ø–µ—Ü–∏—Ñ–∏–∫–∞ Node.js</a></h2>
<p>Node.js –∏–º–µ–µ—Ç —É–Ω–∏–∫–∞–ª—å–Ω—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É, –∫–æ—Ç–æ—Ä–∞—è –≤–ª–∏—è–µ—Ç –Ω–∞ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ SOLID –ø—Ä–∏–Ω—Ü–∏–ø–æ–≤.</p>
<h3 id="-–ú–æ–¥—É–ª—å–Ω–∞—è-—Å–∏—Å—Ç–µ–º–∞-–∏-srp"><a class="header" href="#-–ú–æ–¥—É–ª—å–Ω–∞—è-—Å–∏—Å—Ç–µ–º–∞-–∏-srp">üéØ –ú–æ–¥—É–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –∏ SRP</a></h3>
<pre><code class="language-typescript">// –•–æ—Ä–æ—à–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –º–æ–¥—É–ª–µ–π –ø–æ SRP
// user/
//   ‚îú‚îÄ‚îÄ user.model.ts         - –ú–æ–¥–µ–ª—å –¥–∞–Ω–Ω—ã—Ö
//   ‚îú‚îÄ‚îÄ user.repository.ts    - –†–∞–±–æ—Ç–∞ —Å –ë–î
//   ‚îú‚îÄ‚îÄ user.service.ts       - –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞
//   ‚îú‚îÄ‚îÄ user.validator.ts     - –í–∞–ª–∏–¥–∞—Ü–∏—è
//   ‚îú‚îÄ‚îÄ user.controller.ts    - HTTP endpoints
//   ‚îî‚îÄ‚îÄ index.ts              - –≠–∫—Å–ø–æ—Ä—Ç—ã

// user.model.ts
export class User {
  constructor(
    public readonly id: string,
    public name: string,
    public email: string
  ) {}
}

// user.repository.ts
export interface IUserRepository {
  save(user: User): Promise&lt;void&gt;;
  findById(id: string): Promise&lt;User | null&gt;;
}

export class UserRepository implements IUserRepository {
  constructor(private db: Database) {}
  // –†–µ–∞–ª–∏–∑–∞—Ü–∏—è
}

// user.service.ts
export class UserService {
  constructor(private repository: IUserRepository) {}

  async createUser(name: string, email: string): Promise&lt;User&gt; {
    const user = new User(generateId(), name, email);
    await this.repository.save(user);
    return user;
  }
}

// user.validator.ts
export class UserValidator {
  validateEmail(email: string): boolean {
    return /\S+@\S+\.\S+/.test(email);
  }

  validateName(name: string): boolean {
    return name.length &gt;= 2 &amp;&amp; name.length &lt;= 50;
  }
}

// user.controller.ts
export class UserController {
  constructor(
    private service: UserService,
    private validator: UserValidator
  ) {}

  async createUser(req: Request, res: Response): Promise&lt;void&gt; {
    const { name, email } = req.body;

    if (!this.validator.validateEmail(email)) {
      res.status(400).json({ error: 'Invalid email' });
      return;
    }

    if (!this.validator.validateName(name)) {
      res.status(400).json({ error: 'Invalid name' });
      return;
    }

    const user = await this.service.createUser(name, email);
    res.status(201).json(user);
  }
}

// index.ts - –∫–æ–º–ø–æ–∑–∏—Ü–∏—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
import { Database } from '../database';

const db = new Database();
const repository = new UserRepository(db);
const service = new UserService(repository);
const validator = new UserValidator();
const controller = new UserController(service, validator);

export { User, UserService, UserController };
</code></pre>
<h3 id="-middleware-pattern-–∏-isp"><a class="header" href="#-middleware-pattern-–∏-isp">üéØ Middleware Pattern –∏ ISP</a></h3>
<pre><code class="language-typescript">import express, { Request, Response, NextFunction } from 'express';

// –ö–∞–∂–¥—ã–π middleware - –º–∞–ª–µ–Ω—å–∫–∏–π —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
type Middleware = (req: Request, res: Response, next: NextFunction) =&gt; void;

// –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
const logger: Middleware = (req, res, next) =&gt; {
  console.log(`${new Date().toISOString()} ${req.method} ${req.path}`);
  next();
};

// –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
const authenticate: Middleware = (req, res, next) =&gt; {
  const token = req.headers.authorization;

  if (!token) {
    res.status(401).json({ error: 'Unauthorized' });
    return;
  }

  // –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–æ–∫–µ–Ω–∞
  next();
};

// –í–∞–ª–∏–¥–∞—Ü–∏—è —Ç–µ–ª–∞ –∑–∞–ø—Ä–æ—Å–∞
const validateBody = (schema: any): Middleware =&gt;
  (req, res, next) =&gt; {
    // –í–∞–ª–∏–¥–∞—Ü–∏—è —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º schema
    next();
  };

// CORS
const cors: Middleware = (req, res, next) =&gt; {
  res.setHeader('Access-Control-Allow-Origin', '*');
  next();
};

// –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ - –∫–æ–º–ø–æ–∑–∏—Ü–∏—è –º–∞–ª–µ–Ω—å–∫–∏—Ö middleware
const app = express();

app.use(logger);        // ISP - –º–∞–ª–µ–Ω—å–∫–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
app.use(cors);          // ISP - –º–∞–ª–µ–Ω—å–∫–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
app.use(authenticate);  // ISP - –º–∞–ª–µ–Ω—å–∫–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

app.post('/users',
  validateBody(userSchema),  // ISP - –º–∞–ª–µ–Ω—å–∫–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
  (req, res) =&gt; {
    // –û–±—Ä–∞–±–æ—Ç—á–∏–∫
  }
);
</code></pre>
<h3 id="-event-driven-–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞"><a class="header" href="#-event-driven-–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞">üéØ Event-driven –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞</a></h3>
<pre><code class="language-typescript">import { EventEmitter } from 'events';

// –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Å–æ–±—ã—Ç–∏–π
interface UserEvents {
  created: (user: User) =&gt; void;
  updated: (user: User) =&gt; void;
  deleted: (userId: string) =&gt; void;
}

// Type-safe EventEmitter
class TypedEventEmitter&lt;Events&gt; {
  private emitter = new EventEmitter();

  on&lt;K extends keyof Events&gt;(event: K, listener: Events[K]): void {
    this.emitter.on(event as string, listener as any);
  }

  emit&lt;K extends keyof Events&gt;(
    event: K,
    ...args: Parameters&lt;Events[K]&gt;
  ): void {
    this.emitter.emit(event as string, ...args);
  }
}

// –°–µ—Ä–≤–∏—Å —Å —Å–æ–±—ã—Ç–∏—è–º–∏
class UserService extends TypedEventEmitter&lt;UserEvents&gt; {
  constructor(private repository: IUserRepository) {
    super();
  }

  async createUser(name: string, email: string): Promise&lt;User&gt; {
    const user = new User(generateId(), name, email);
    await this.repository.save(user);

    // Emit —Å–æ–±—ã—Ç–∏–µ
    this.emit('created', user);

    return user;
  }
}

// –ü–æ–¥–ø–∏—Å—á–∏–∫–∏ - –∫–∞–∂–¥—ã–π –∏–º–µ–µ—Ç –æ–¥–Ω—É –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å (SRP)
class EmailNotificationService {
  constructor(userService: UserService) {
    userService.on('created', (user) =&gt; {
      this.sendWelcomeEmail(user);
    });
  }

  private async sendWelcomeEmail(user: User): Promise&lt;void&gt; {
    console.log(`Sending welcome email to ${user.email}`);
  }
}

class AnalyticsService {
  constructor(userService: UserService) {
    userService.on('created', (user) =&gt; {
      this.trackUserCreation(user);
    });
  }

  private async trackUserCreation(user: User): Promise&lt;void&gt; {
    console.log(`Tracking user creation: ${user.id}`);
  }
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
const userService = new UserService(repository);
new EmailNotificationService(userService);
new AnalyticsService(userService);

await userService.createUser('John', 'john@example.com');
// –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤—ã–∑–æ–≤—É—Ç—Å—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π
</code></pre>
<h3 id="-stream-pipeline"><a class="header" href="#-stream-pipeline">üéØ Stream Pipeline</a></h3>
<pre><code class="language-typescript">import { Transform, pipeline } from 'stream';
import fs from 'fs';
import zlib from 'zlib';

// –ö–∞–∂–¥—ã–π transform - –æ–¥–Ω–∞ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å (SRP)
class JsonParseTransform extends Transform {
  _transform(chunk: any, encoding: string, callback: Function): void {
    try {
      const data = JSON.parse(chunk.toString());
      this.push(data);
      callback();
    } catch (error) {
      callback(error);
    }
  }
}

class FilterTransform extends Transform {
  constructor(private predicate: (data: any) =&gt; boolean) {
    super({ objectMode: true });
  }

  _transform(chunk: any, encoding: string, callback: Function): void {
    if (this.predicate(chunk)) {
      this.push(chunk);
    }
    callback();
  }
}

class MapTransform extends Transform {
  constructor(private mapper: (data: any) =&gt; any) {
    super({ objectMode: true });
  }

  _transform(chunk: any, encoding: string, callback: Function): void {
    this.push(this.mapper(chunk));
    callback();
  }
}

// –ö–æ–º–ø–æ–∑–∏—Ü–∏—è stream pipeline
pipeline(
  fs.createReadStream('users.ndjson'),
  new JsonParseTransform(),
  new FilterTransform((user) =&gt; user.age &gt;= 18),
  new MapTransform((user) =&gt; ({ id: user.id, name: user.name })),
  fs.createWriteStream('adults.json'),
  (err) =&gt; {
    if (err) console.error('Pipeline failed:', err);
    else console.log('Pipeline succeeded');
  }
);
</code></pre>
<h3 id="-–ö–ª—é—á–µ–≤—ã–µ-–≤—ã–≤–æ–¥—ã-–ø–æ-nodejs"><a class="header" href="#-–ö–ª—é—á–µ–≤—ã–µ-–≤—ã–≤–æ–¥—ã-–ø–æ-nodejs">üîë –ö–ª—é—á–µ–≤—ã–µ –≤—ã–≤–æ–¥—ã –ø–æ Node.js</a></h3>
<ol>
<li><strong>–ú–æ–¥—É–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞</strong> - –æ–¥–∏–Ω –º–æ–¥—É–ª—å = –æ–¥–Ω–∞ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å (SRP)</li>
<li><strong>Middleware</strong> - –æ—Ç–ª–∏—á–Ω—ã–π –ø—Ä–∏–º–µ—Ä ISP (–º–∞–ª–µ–Ω—å–∫–∏–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã)</li>
<li><strong>Event-driven</strong> - Observer pattern –≤—Å—Ç—Ä–æ–µ–Ω –≤ –ø–ª–∞—Ç—Ñ–æ—Ä–º—É</li>
<li><strong>Streams</strong> - ISP —á–µ—Ä–µ–∑ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ Readable/Writable/Duplex</li>
<li><strong>Dependency Injection</strong> –ª–µ–≥–∫–æ —Ä–µ–∞–ª–∏–∑—É–µ—Ç—Å—è —á–µ—Ä–µ–∑ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä—ã</li>
</ol>
<hr />
<h2 id="–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ-—Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏"><a class="header" href="#–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ-—Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏">–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏</a></h2>
<h3 id="-do---–ß—Ç–æ-–¥–µ–ª–∞—Ç—å"><a class="header" href="#-do---–ß—Ç–æ-–¥–µ–ª–∞—Ç—å">‚úÖ DO - –ß—Ç–æ –¥–µ–ª–∞—Ç—å</a></h3>
<ol>
<li>
<p><strong>–†–∞–∑–¥–µ–ª—è–π—Ç–µ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫—É –∏ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—É</strong></p>
<pre><code class="language-typescript">// ‚úÖ –•–û–†–û–®–û
class OrderService {
  constructor(private repository: IOrderRepository) {}
}
</code></pre>
</li>
<li>
<p><strong>–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Dependency Injection</strong></p>
<pre><code class="language-typescript">// ‚úÖ –•–û–†–û–®–û
class UserService {
  constructor(
    private repository: IUserRepository,
    private emailService: IEmailService
  ) {}
}
</code></pre>
</li>
<li>
<p><strong>–°–æ–∑–¥–∞–≤–∞–π—Ç–µ –º–∞–ª–µ–Ω—å–∫–∏–µ —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã</strong></p>
<pre><code class="language-typescript">// ‚úÖ –•–û–†–û–®–û
interface Readable&lt;T&gt; {
  read(id: string): Promise&lt;T&gt;;
}

interface Writable&lt;T&gt; {
  write(data: T): Promise&lt;void&gt;;
}
</code></pre>
</li>
<li>
<p><strong>–ü—Ä–∏–º–µ–Ω—è–π—Ç–µ –∫–æ–º–ø–æ–∑–∏—Ü–∏—é –≤–º–µ—Å—Ç–æ –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è</strong></p>
<pre><code class="language-typescript">// ‚úÖ –•–û–†–û–®–û
class UserService {
  constructor(
    private validator: UserValidator,
    private repository: UserRepository
  ) {}
}
</code></pre>
</li>
<li>
<p><strong>–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ TypeScript –¥–ª—è —è–≤–Ω—ã—Ö –∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤</strong></p>
<pre><code class="language-typescript">// ‚úÖ –•–û–†–û–®–û
interface IUserService {
  createUser(name: string, email: string): Promise&lt;User&gt;;
  getUser(id: string): Promise&lt;User | null&gt;;
}
</code></pre>
</li>
<li>
<p><strong>–û–±—Ä–∞–±–∞—Ç—ã–≤–∞–π—Ç–µ –æ—à–∏–±–∫–∏ —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ</strong></p>
<pre><code class="language-typescript">// ‚úÖ –•–û–†–û–®–û - –µ–¥–∏–Ω—ã–π –ø–æ–¥—Ö–æ–¥ –∫ –æ—à–∏–±–∫–∞–º
async function handleRequest() {
  try {
    await operation();
  } catch (error) {
    logger.error(error);
    throw new AppError('Operation failed', error);
  }
}
</code></pre>
</li>
<li>
<p><strong>–ü–∏—à–∏—Ç–µ —Ç–µ—Å—Ç—ã –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø—Ä–∏–Ω—Ü–∏–ø–æ–≤</strong></p>
<pre><code class="language-typescript">// ‚úÖ –•–û–†–û–®–û - —Ç–µ—Å—Ç—ã –ø–æ–º–æ–≥–∞—é—Ç —Å–æ–±–ª—é–¥–∞—Ç—å SOLID
describe('UserService', () =&gt; {
  it('should use injected repository', async () =&gt; {
    const mockRepo = new MockUserRepository();
    const service = new UserService(mockRepo);
    // –¢–µ—Å—Ç
  });
});
</code></pre>
</li>
</ol>
<h3 id="-dont---–ß—Ç–æ-–ù–ï-–¥–µ–ª–∞—Ç—å"><a class="header" href="#-dont---–ß—Ç–æ-–ù–ï-–¥–µ–ª–∞—Ç—å">‚ùå DON'T - –ß—Ç–æ –ù–ï –¥–µ–ª–∞—Ç—å</a></h3>
<ol>
<li>
<p><strong>–ù–ï –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ Active Record</strong></p>
<pre><code class="language-typescript">// ‚ùå –ü–õ–û–•–û
class User {
  async save() { /* –ë–î */ }
  async delete() { /* –ë–î */ }
}
</code></pre>
</li>
<li>
<p><strong>–ù–ï —Å–º–µ—à–∏–≤–∞–π—Ç–µ —Ä–∞–∑–Ω—ã–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏</strong></p>
<pre><code class="language-typescript">// ‚ùå –ü–õ–û–•–û
async function processUser(id: string) {
  const user = await db.getUser(id);
  await sendEmail(user.email);
  await logAction('processed');
  return user;
}
</code></pre>
</li>
<li>
<p><strong>–ù–ï —Å–æ–∑–¥–∞–≤–∞–π—Ç–µ "–±–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã" (God Objects)</strong></p>
<pre><code class="language-typescript">// ‚ùå –ü–õ–û–•–û
class ApplicationManager {
  handleAuth() {}
  manageDB() {}
  sendEmails() {}
  generateReports() {}
  // ... 100 –º–µ—Ç–æ–¥–æ–≤
}
</code></pre>
</li>
<li>
<p><strong>–ù–ï –¥–µ–ª–∞–π—Ç–µ –∂–µ—Å—Ç–∫–∏–µ —Å–≤—è–∑–∏ –º–µ–∂–¥—É –º–æ–¥—É–ª—è–º–∏</strong></p>
<pre><code class="language-typescript">// ‚ùå –ü–õ–û–•–û
class UserService {
  constructor() {
    this.db = new MySQLDatabase(); // –ñ–µ—Å—Ç–∫–∞—è —Å–≤—è–∑—å
  }
}
</code></pre>
</li>
<li>
<p><strong>–ù–ï –∏–≥–Ω–æ—Ä–∏—Ä—É–π—Ç–µ async/await best practices</strong></p>
<pre><code class="language-typescript">// ‚ùå –ü–õ–û–•–û - –Ω–µ await –≤ async —Ñ—É–Ω–∫—Ü–∏–∏
async function badAsync() {
  someAsyncOperation(); // –ó–∞–±—ã–ª–∏ await
}
</code></pre>
</li>
<li>
<p><strong>–ù–ï –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è–π—Ç–µ –º–µ—Ç–æ–¥—ã —Å –∏–∑–º–µ–Ω–µ–Ω–∏–µ–º –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞</strong></p>
<pre><code class="language-typescript">// ‚ùå –ü–õ–û–•–û - –Ω–∞—Ä—É—à–µ–Ω–∏–µ LSP
class Square extends Rectangle {
  setWidth(w: number) {
    this.width = w;
    this.height = w; // –ú–µ–Ω—è–µ–º –∫–æ–Ω—Ç—Ä–∞–∫—Ç!
  }
}
</code></pre>
</li>
<li>
<p><strong>–ù–ï –¥—É–º–∞–π—Ç–µ, —á—Ç–æ SOLID —Ç–æ–ª—å–∫–æ –¥–ª—è –û–û–ü</strong></p>
<pre><code class="language-typescript">// ‚úÖ SOLID —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–º —Å—Ç–∏–ª–µ
const createUserService = (repo, emailService) =&gt; ({
  createUser: async (name, email) =&gt; {
    // –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –ø–æ–¥—Ö–æ–¥ –∫ SOLID
  }
});
</code></pre>
</li>
</ol>
<h3 id="-–°—Ä–∞–≤–Ω–µ–Ω–∏–µ-java-vs-javascript-–∫—É–ª—å—Ç—É—Ä"><a class="header" href="#-–°—Ä–∞–≤–Ω–µ–Ω–∏–µ-java-vs-javascript-–∫—É–ª—å—Ç—É—Ä">üìä –°—Ä–∞–≤–Ω–µ–Ω–∏–µ Java vs JavaScript –∫—É–ª—å—Ç—É—Ä</a></h3>
<div class="table-wrapper"><table><thead><tr><th>–ê—Å–ø–µ–∫—Ç</th><th>Java</th><th>JavaScript/Node.js</th></tr></thead><tbody>
<tr><td><strong>Observer Pattern</strong></td><td>2 –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ (Subject, Observer)</td><td>EventEmitter + —Ñ—É–Ω–∫—Ü–∏–∏</td></tr>
<tr><td><strong>–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã</strong></td><td>Compile-time –∏ runtime</td><td>–¢–æ–ª—å–∫–æ compile-time (TS)</td></tr>
<tr><td><strong>–ù–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ</strong></td><td>–ö–ª–∞—Å—Å–æ–≤–æ–µ</td><td>–ü—Ä–æ—Ç–æ—Ç–∏–ø–Ω–æ–µ (+ –∫–ª–∞—Å—Å—ã –∫–∞–∫ —Å–∞—Ö–∞—Ä)</td></tr>
<tr><td><strong>–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏</strong></td><td>–ß–µ—Ä–µ–∑ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã</td><td>–ß–µ—Ä–µ–∑ duck typing + DI</td></tr>
<tr><td><strong>–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç—å</strong></td><td>CompletableFuture (Java 8+)</td><td>–ü—Ä–æ–º–∏—Å—ã, async/await (–Ω–∞—Ç–∏–≤–Ω–æ)</td></tr>
<tr><td><strong>–ö—É–ª—å—Ç—É—Ä–∞</strong></td><td>–°—Ç—Ä–æ–≥–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è</td><td>–î–∏–Ω–∞–º–∏–∫–∞ + –≥–∏–±–∫–æ—Å—Ç—å</td></tr>
</tbody></table>
</div>
<p><strong>–ü–æ—á–µ–º—É —Ä–∞–∑–Ω–∏—Ü–∞?</strong></p>
<ul>
<li>JavaScript –∏–º–µ–µ—Ç —Ñ—É–Ω–∫—Ü–∏–∏ –ø–µ—Ä–≤–æ–≥–æ –∫–ª–∞—Å—Å–∞</li>
<li>Event-driven –º–æ–¥–µ–ª—å –≤—Å—Ç—Ä–æ–µ–Ω–∞ –≤ —è–∑—ã–∫</li>
<li>–ö—É–ª—å—Ç—É—Ä–∞ —Å—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∞ –±—Ä–∞—É–∑–µ—Ä–æ–º –∏ Node.js</li>
<li>–í Java –¥–æ–ª–≥–æ –Ω–µ –±—ã–ª–æ lambda, —Å—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–ª–∞—Å—å –∫—É–ª—å—Ç—É—Ä–∞ –∫–ª–∞—Å—Å–æ–≤</li>
</ul>
<h3 id="-–ß–µ–∫-–ª–∏—Å—Ç-–ø—Ä–æ–≤–µ—Ä–∫–∏-solid"><a class="header" href="#-–ß–µ–∫-–ª–∏—Å—Ç-–ø—Ä–æ–≤–µ—Ä–∫–∏-solid">üéØ –ß–µ–∫-–ª–∏—Å—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ SOLID</a></h3>
<p>–ü—Ä–∏ –Ω–∞–ø–∏—Å–∞–Ω–∏–∏ –∫–æ–¥–∞ –∑–∞–¥–∞–≤–∞–π—Ç–µ —Å–µ–±–µ –≤–æ–ø—Ä–æ—Å—ã:</p>
<p><strong>SRP:</strong></p>
<ul>
<li><input disabled="" type="checkbox"/>
–≠—Ç–æ—Ç –∫–ª–∞—Å—Å/—Ñ—É–Ω–∫—Ü–∏—è –¥–µ–ª–∞–µ—Ç —Ç–æ–ª—å–∫–æ –æ–¥–Ω—É –≤–µ—â—å?</li>
<li><input disabled="" type="checkbox"/>
–ï—Å—Ç—å –ª–∏ —Ç–æ–ª—å–∫–æ –æ–¥–Ω–∞ –ø—Ä–∏—á–∏–Ω–∞ –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è —ç—Ç–æ–≥–æ –∫–æ–¥–∞?</li>
<li><input disabled="" type="checkbox"/>
–ù–µ —Å–º–µ—à–∏–≤–∞—é –ª–∏ —è –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫—É –∏ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—É?</li>
</ul>
<p><strong>OCP:</strong></p>
<ul>
<li><input disabled="" type="checkbox"/>
–ú–æ–≥—É –ª–∏ —è –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—É—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –±–µ–∑ –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏–∏ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ –∫–æ–¥–∞?</li>
<li><input disabled="" type="checkbox"/>
–ò—Å–ø–æ–ª—å–∑—É—é –ª–∏ —è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –¥–ª—è —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è?</li>
</ul>
<p><strong>LSP:</strong></p>
<ul>
<li><input disabled="" type="checkbox"/>
–ú–æ–∂–Ω–æ –ª–∏ –∑–∞–º–µ–Ω–∏—Ç—å –±–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å –Ω–∞—Å–ª–µ–¥–Ω–∏–∫–æ–º –±–µ–∑ –ø–æ–ª–æ–º–æ–∫?</li>
<li><input disabled="" type="checkbox"/>
–ù–µ –¥–æ–±–∞–≤–ª—è–µ—Ç –ª–∏ –Ω–∞—Å–ª–µ–¥–Ω–∏–∫ –Ω–æ–≤—ã–µ –∏—Å–∫–ª—é—á–µ–Ω–∏—è?</li>
<li><input disabled="" type="checkbox"/>
–°–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –ª–∏ –∫–æ–Ω—Ç—Ä–∞–∫—Ç –±–∞–∑–æ–≤–æ–≥–æ –∫–ª–∞—Å—Å–∞?</li>
</ul>
<p><strong>ISP:</strong></p>
<ul>
<li><input disabled="" type="checkbox"/>
–ù–µ –∑–∞–≤–∏—Å–∏—Ç –ª–∏ –∫–ª–∏–µ–Ω—Ç –æ—Ç –º–µ—Ç–æ–¥–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç?</li>
<li><input disabled="" type="checkbox"/>
–ú–æ–∂–Ω–æ –ª–∏ —Ä–∞–∑–±–∏—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –Ω–∞ –±–æ–ª–µ–µ –º–∞–ª–µ–Ω—å–∫–∏–µ?</li>
</ul>
<p><strong>DIP:</strong></p>
<ul>
<li><input disabled="" type="checkbox"/>
–ó–∞–≤–∏—Å–∏—Ç –ª–∏ –∫–æ–¥ –æ—Ç –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–π, –∞ –Ω–µ –æ—Ç –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–π?</li>
<li><input disabled="" type="checkbox"/>
–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ª–∏ Dependency Injection?</li>
<li><input disabled="" type="checkbox"/>
–õ–µ–≥–∫–æ –ª–∏ –∑–∞–º–µ–Ω–∏—Ç—å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é?</li>
</ul>
<hr />
<h2 id="–ó–∞–∫–ª—é—á–µ–Ω–∏–µ-3"><a class="header" href="#–ó–∞–∫–ª—é—á–µ–Ω–∏–µ-3">–ó–∞–∫–ª—é—á–µ–Ω–∏–µ</a></h2>
<h3 id="-–û—Å–Ω–æ–≤–Ω—ã–µ-–≤—ã–≤–æ–¥—ã"><a class="header" href="#-–û—Å–Ω–æ–≤–Ω—ã–µ-–≤—ã–≤–æ–¥—ã">üéì –û—Å–Ω–æ–≤–Ω—ã–µ –≤—ã–≤–æ–¥—ã</a></h3>
<ol>
<li>
<p><strong>SOLID –ø—Ä–∏–º–µ–Ω–∏–º –∫ JavaScript/TypeScript</strong>, –Ω–æ —Ç—Ä–µ–±—É–µ—Ç –∞–¥–∞–ø—Ç–∞—Ü–∏–∏ –∫ –∫—É–ª—å—Ç—É—Ä–µ —è–∑—ã–∫–∞</p>
</li>
<li>
<p><strong>Active Record - –∞–Ω—Ç–∏–ø–∞—Ç—Ç–µ—Ä–Ω</strong> –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏</p>
<ul>
<li>–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Repository Pattern</li>
<li>–†–∞–∑–¥–µ–ª—è–π—Ç–µ –¥–∞–Ω–Ω—ã–µ –∏ –ª–æ–≥–∏–∫—É –¥–æ—Å—Ç—É–ø–∞ –∫ –ë–î</li>
</ul>
</li>
<li>
<p><strong>SRP - —Å–∞–º—ã–π –≤–∞–∂–Ω—ã–π –ø—Ä–∏–Ω—Ü–∏–ø</strong></p>
<ul>
<li>–û–¥–∏–Ω –∫–ª–∞—Å—Å/—Ñ—É–Ω–∫—Ü–∏—è = –æ–¥–Ω–∞ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å</li>
<li>–†–∞–∑–¥–µ–ª—è–π—Ç–µ –ø—Ä–µ–¥–º–µ—Ç–Ω—É—é –æ–±–ª–∞—Å—Ç—å –∏ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—É</li>
</ul>
</li>
<li>
<p><strong>–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç—å –¥–æ–±–∞–≤–ª—è–µ—Ç —Å–ª–æ–∂–Ω–æ—Å—Ç—å</strong></p>
<ul>
<li>SRP –æ—Å—Ç–∞–µ—Ç—Å—è –∞–∫—Ç—É–∞–ª—å–Ω—ã–º –¥–ª—è async —Ñ—É–Ω–∫—Ü–∏–π</li>
<li>–ù—É–∂–Ω—ã —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã (retry, circuit breaker)</li>
</ul>
</li>
<li>
<p><strong>Event-driven –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞</strong> - –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–∞—è —á–∞—Å—Ç—å JavaScript</p>
<ul>
<li>EventEmitter - –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π Observer Pattern</li>
<li>Middleware - –ø—Ä–∏–º–µ—Ä ISP</li>
</ul>
</li>
<li>
<p><strong>–ö—É–ª—å—Ç—É—Ä–∞ —è–∑—ã–∫–∞ –≤–∞–∂–Ω–∞</strong></p>
<ul>
<li>–ù–µ –∫–æ–ø–∏—Ä—É–π—Ç–µ Java –ø–æ–¥—Ö–æ–¥—ã —Å–ª–µ–ø–æ</li>
<li>–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ñ—É–Ω–∫—Ü–∏–∏ –ø–µ—Ä–≤–æ–≥–æ –∫–ª–∞—Å—Å–∞</li>
<li>–ü—Ä–∏–º–µ–Ω—è–π—Ç–µ –∫–æ–º–ø–æ–∑–∏—Ü–∏—é –≤–º–µ—Å—Ç–æ –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è</li>
</ul>
</li>
<li>
<p><strong>–ö–æ–º–ø–æ–∑–∏—Ü–∏—è &gt; –ù–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ</strong> –≤ JavaScript</p>
<ul>
<li>–ì–∏–±–∫–æ—Å—Ç—å —á–µ—Ä–µ–∑ DI</li>
<li>–ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ —Ñ—É–Ω–∫—Ü–∏–∏</li>
</ul>
</li>
<li>
<p><strong>TypeScript –ø–æ–º–æ–≥–∞–µ—Ç</strong> —Å —è–≤–Ω—ã–º–∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞–º–∏ –∏ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞–º–∏</p>
<ul>
<li>Compile-time –ø—Ä–æ–≤–µ—Ä–∫–∏</li>
<li>–î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ API</li>
</ul>
</li>
<li>
<p><strong>–ú–∞–ª–µ–Ω—å–∫–∏–µ –º–æ–¥—É–ª–∏</strong> –ª—É—á—à–µ –±–æ–ª—å—à–∏—Ö</p>
<ul>
<li>–û–¥–∏–Ω —Ñ–∞–π–ª = –æ–¥–Ω–∞ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å</li>
<li>–õ–µ–≥—á–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å</li>
</ul>
</li>
<li>
<p><strong>–ü—Ä–∞–∫—Ç–∏–∫–∞ –≤–∞–∂–Ω–µ–µ —Ç–µ–æ—Ä–∏–∏</strong></p>
<ul>
<li>–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ä–µ–∞–ª—å–Ω—ã–µ –ø—Ä–∏–º–µ—Ä—ã</li>
<li>–ü–∏—à–∏—Ç–µ —Ç–µ—Å—Ç—ã</li>
<li>–†–µ—Ñ–∞–∫—Ç–æ—Ä–∏—Ç–µ —Ä–µ–≥—É–ª—è—Ä–Ω–æ</li>
</ul>
</li>
</ol>
<h3 id="-–î–∞–ª—å–Ω–µ–π—à–µ–µ-–∏–∑—É—á–µ–Ω–∏–µ"><a class="header" href="#-–î–∞–ª—å–Ω–µ–π—à–µ–µ-–∏–∑—É—á–µ–Ω–∏–µ">üìö –î–∞–ª—å–Ω–µ–π—à–µ–µ –∏–∑—É—á–µ–Ω–∏–µ</a></h3>
<p><strong>–ü–∞—Ç—Ç–µ—Ä–Ω—ã –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:</strong></p>
<ul>
<li>Repository Pattern</li>
<li>Factory Pattern</li>
<li>Strategy Pattern</li>
<li>Observer Pattern</li>
<li>Decorator Pattern</li>
</ul>
<p><strong>–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ –ø–æ–¥—Ö–æ–¥—ã:</strong></p>
<ul>
<li>Clean Architecture</li>
<li>Hexagonal Architecture</li>
<li>Domain-Driven Design (DDD)</li>
<li>CQRS –∏ Event Sourcing</li>
</ul>
<p><strong>–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:</strong></p>
<ul>
<li>Unit —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ SOLID –∫–æ–¥–∞</li>
<li>Mocking –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π</li>
<li>Integration —Ç–µ—Å—Ç—ã</li>
</ul>
<p><strong>–ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ —Ç–µ–º—ã:</strong></p>
<ul>
<li>–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ SOLID</li>
<li>–ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞</li>
<li>Reactive programming</li>
</ul>
<h3 id="-–§–∏–Ω–∞–ª—å–Ω—ã–µ-—Å–æ–≤–µ—Ç—ã"><a class="header" href="#-–§–∏–Ω–∞–ª—å–Ω—ã–µ-—Å–æ–≤–µ—Ç—ã">üí° –§–∏–Ω–∞–ª—å–Ω—ã–µ —Å–æ–≤–µ—Ç—ã</a></h3>
<ol>
<li><strong>–ù–µ –ø–µ—Ä–µ—Å—Ç–∞—Ä–∞–π—Ç–µ—Å—å</strong> - SOLID —ç—Ç–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç, –∞ –Ω–µ –¥–æ–≥–º–∞</li>
<li><strong>–ë–∞–ª–∞–Ω—Å</strong> –º–µ–∂–¥—É —á–∏—Å—Ç–æ—Ç–æ–π –∫–æ–¥–∞ –∏ –ø—Ä–∞–≥–º–∞—Ç–∏–∑–º–æ–º</li>
<li><strong>–†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥</strong> - –ø–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ–µ —É–ª—É—á—à–µ–Ω–∏–µ, –∞ –Ω–µ –ø–µ—Ä–µ–ø–∏—Å—ã–≤–∞–Ω–∏–µ —Å –Ω—É–ª—è</li>
<li><strong>–ö–æ–º–∞–Ω–¥–∞</strong> - –¥–æ–≥–æ–≤–æ—Ä–∏—Ç–µ—Å—å –æ —Å–æ–≥–ª–∞—à–µ–Ω–∏—è—Ö –∏ —Å–ª–µ–¥—É–π—Ç–µ –∏–º</li>
<li><strong>Code Review</strong> - –ª—É—á—à–∏–π —Å–ø–æ—Å–æ–± –Ω–∞—É—á–∏—Ç—å—Å—è –∏ –æ–±—É—á–∏—Ç—å –¥—Ä—É–≥–∏—Ö</li>
</ol>
<hr />
<blockquote>
<p><strong>"–õ—é–±–æ–π –¥—É—Ä–∞–∫ –º–æ–∂–µ—Ç –Ω–∞–ø–∏—Å–∞—Ç—å –∫–æ–¥, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–π–º–µ—Ç –∫–æ–º–ø—å—é—Ç–µ—Ä. –•–æ—Ä–æ—à–∏–µ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç—ã –ø–∏—à—É—Ç –∫–æ–¥, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–Ω–∏–º–∞—é—Ç –ª—é–¥–∏."</strong></p>
<p>‚Äî Martin Fowler</p>
</blockquote>
<hr />
<p><strong>–ê–≤—Ç–æ—Ä –∫–æ–Ω—Å–ø–µ–∫—Ç–∞:</strong> –ù–∞ –æ—Å–Ω–æ–≤–µ –ª–µ–∫—Ü–∏–∏ –ø–æ SOLID –ø—Ä–∏–Ω—Ü–∏–ø–∞–º
<strong>–î–∞—Ç–∞:</strong> 2025-12-06
<strong>–í–µ—Ä—Å–∏—è:</strong> 1.0</p>
<p><strong>–ú–∞—Ç–µ—Ä–∏–∞–ª—ã –¥–ª—è –∏–∑—É—á–µ–Ω–∏—è:</strong></p>
<ul>
<li><a href="https://www.amazon.com/Clean-Code-Handbook-Software-Craftsmanship/dp/0132350882">Clean Code</a> - Robert C. Martin</li>
<li><a href="https://www.amazon.com/Design-Patterns-Elements-Reusable-Object-Oriented/dp/0201633612">Design Patterns: Elements of Reusable Object-Oriented Software</a> - Gang of Four</li>
<li><a href="https://www.nodejsdesignpatterns.com/">Node.js Design Patterns</a> - Mario Casciaro</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="–ü–∞—Ç—Ç–µ—Ä–Ω—ã-grasp-–¥–ª—è-javascript-typescript-–∏-nodejs"><a class="header" href="#–ü–∞—Ç—Ç–µ—Ä–Ω—ã-grasp-–¥–ª—è-javascript-typescript-–∏-nodejs">–ü–∞—Ç—Ç–µ—Ä–Ω—ã GRASP –¥–ª—è JavaScript, TypeScript –∏ Node.js</a></h1>
<h2 id="–ö–æ–Ω—Å–ø–µ–∫—Ç-–ª–µ–∫—Ü–∏–∏-—á–∞—Å—Ç—å-1"><a class="header" href="#–ö–æ–Ω—Å–ø–µ–∫—Ç-–ª–µ–∫—Ü–∏–∏-—á–∞—Å—Ç—å-1">–ö–æ–Ω—Å–ø–µ–∫—Ç –ª–µ–∫—Ü–∏–∏ (—á–∞—Å—Ç—å 1)</a></h2>
<hr />
<h2 id="–í–≤–µ–¥–µ–Ω–∏–µ-2"><a class="header" href="#–í–≤–µ–¥–µ–Ω–∏–µ-2">–í–≤–µ–¥–µ–Ω–∏–µ</a></h2>
<p>GRASP (General Responsibility Assignment Software Patterns) ‚Äî –Ω–∞–±–æ—Ä –ø—Ä–∏–Ω—Ü–∏–ø–æ–≤ –∏ —à–∞–±–ª–æ–Ω–æ–≤ –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è, –ø—Ä–∏–º–µ–Ω–∏–º—ã—Ö –∫ –ª—é–±–æ–º—É –∫–æ–¥—É: backend, frontend, —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–º—É –∏–ª–∏ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–º—É. –ù–µ–∫–æ—Ç–æ—Ä—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã GRASP —è–≤–ª—è—é—Ç—Å—è –ø—Ä–∏–Ω—Ü–∏–ø–∞–º–∏, –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ ‚Äî –ø–∞—Ç—Ç–µ—Ä–Ω–∞–º–∏.</p>
<hr />
<h2 id="1-low-coupling-–∏-high-cohesion-–ù–∏–∑–∫–æ–µ-–∑–∞—Ü–µ–ø–ª–µ–Ω–∏–µ-–∏-–≤—ã—Å–æ–∫–∞—è-—Å–≤—è–∑–Ω–æ—Å—Ç—å"><a class="header" href="#1-low-coupling-–∏-high-cohesion-–ù–∏–∑–∫–æ–µ-–∑–∞—Ü–µ–ø–ª–µ–Ω–∏–µ-–∏-–≤—ã—Å–æ–∫–∞—è-—Å–≤—è–∑–Ω–æ—Å—Ç—å">1. Low Coupling –∏ High Cohesion (–ù–∏–∑–∫–æ–µ –∑–∞—Ü–µ–ø–ª–µ–Ω–∏–µ –∏ –≤—ã—Å–æ–∫–∞—è —Å–≤—è–∑–Ω–æ—Å—Ç—å)</a></h2>
<h3 id="–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è"><a class="header" href="#–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è">–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è</a></h3>
<div class="table-wrapper"><table><thead><tr><th>–¢–µ—Ä–º–∏–Ω</th><th>–ü–µ—Ä–µ–≤–æ–¥</th><th>–≠—Ç–æ —Ö–æ—Ä–æ—à–æ/–ø–ª–æ—Ö–æ?</th></tr></thead><tbody>
<tr><td><strong>Coupling</strong></td><td>–ó–∞—Ü–µ–ø–ª–µ–Ω–∏–µ</td><td>–ü–õ–û–•–û</td></tr>
<tr><td><strong>Cohesion</strong></td><td>–°–≤—è–∑–Ω–æ—Å—Ç—å</td><td>–•–û–†–û–®–û</td></tr>
</tbody></table>
</div>
<h3 id="–°—É—Ç—å-–ø—Ä–∏–Ω—Ü–∏–ø–∞"><a class="header" href="#–°—É—Ç—å-–ø—Ä–∏–Ω—Ü–∏–ø–∞">–°—É—Ç—å –ø—Ä–∏–Ω—Ü–∏–ø–∞</a></h3>
<p>–õ—é–±–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–Ω–∞—è –∞–±—Å—Ç—Ä–∞–∫—Ü–∏—è (–∫–ª–∞—Å—Å, –º–æ–¥—É–ª—å, –∫–æ–º–ø–æ–Ω–µ–Ω—Ç) –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å —Å–ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∞ —Ç–∞–∫, —á—Ç–æ–±—ã:</p>
<ul>
<li><strong>–í–Ω—É—Ç—Ä–µ–Ω–Ω—è—è —Å–≤—è–∑–∫–∞ —á–∞—Å—Ç–µ–π</strong> –±—ã–ª–∞ <strong>—Å–∏–ª—å–Ω–µ–µ</strong>, —á–µ–º —Å–≤—è–∑–∏ —Å –≤–Ω–µ—à–Ω–∏–º –º–∏—Ä–æ–º</li>
<li><strong>–í–Ω–µ—à–Ω–∏–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è</strong> –±—ã–ª–∏ <strong>–º–∏–Ω–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω—ã</strong></li>
</ul>
<h3 id="–ü—Ä–∏–º–µ—Ä-–ø–ª–æ—Ö–æ–π-–ø—Ä–∞–∫—Ç–∏–∫–∏-high-coupling"><a class="header" href="#–ü—Ä–∏–º–µ—Ä-–ø–ª–æ—Ö–æ–π-–ø—Ä–∞–∫—Ç–∏–∫–∏-high-coupling">–ü—Ä–∏–º–µ—Ä –ø–ª–æ—Ö–æ–π –ø—Ä–∞–∫—Ç–∏–∫–∏ (High Coupling)</a></h3>
<pre><code class="language-javascript">// –ü–ª–æ—Ö–æ: —Ü–µ–ø–æ—á–∫–∞ –≤—ã–∑–æ–≤–æ–≤ —á–µ—Ä–µ–∑ –º–Ω–æ–≥–æ –æ–±—ä–µ–∫—Ç–æ–≤
request.socket.connection.pool.timeout = 5000;
</code></pre>
<p>–ö–æ–≥–¥–∞ –º—ã –≤–∏–¥–∏–º 10 —Ç–æ—á–µ–∫ –ø–æ–¥—Ä—è–¥ ‚Äî —ç—Ç–æ –ø—Ä–∏–∑–Ω–∞–∫ –≤—ã—Å–æ–∫–æ–≥–æ –∑–∞—Ü–µ–ø–ª–µ–Ω–∏—è. –ú—ã "–ª–µ–∑–µ–º –≤ –¥—É—à—É" –æ–±—ä–µ–∫—Ç–∞–º, –Ω–∞—Ä—É—à–∞—è –∏—Ö –∏–Ω–∫–∞–ø—Å—É–ª—è—Ü–∏—é.</p>
<h3 id="–ü–æ—á–µ–º—É-—ç—Ç–æ-–≤–∞–∂–Ω–æ"><a class="header" href="#–ü–æ—á–µ–º—É-—ç—Ç–æ-–≤–∞–∂–Ω–æ">–ü–æ—á–µ–º—É —ç—Ç–æ –≤–∞–∂–Ω–æ?</a></h3>
<ol>
<li><strong>–ò–∑–º–µ–Ω–µ–Ω–∏–µ –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ –ª–æ–º–∞–µ—Ç –¥–µ—Å—è—Ç—å –¥—Ä—É–≥–∏—Ö</strong> ‚Äî –∫–æ–¥ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è —Ö—Ä—É–ø–∫–∏–º</li>
<li><strong>–ù–µ–≤–æ–∑–º–æ–∂–Ω–æ –º–µ–Ω—è—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –ø–æ –æ—Ç–¥–µ–ª—å–Ω–æ—Å—Ç–∏</strong> ‚Äî –æ–Ω–∏ —Ä–∞–±–æ—Ç–∞—é—Ç —Ç–æ–ª—å–∫–æ –≤ —Å–≤—è–∑–∫–µ</li>
<li><strong>–°–ª–æ–∂–Ω–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å</strong> ‚Äî –Ω—É–∂–Ω–æ –º–æ–∫–∞—Ç—å –≤—Å—é —Ü–µ–ø–æ—á–∫—É –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π</li>
</ol>
<h3 id="–°–≤—è–∑—å-—Å-solid-1"><a class="header" href="#–°–≤—è–∑—å-—Å-solid-1">–°–≤—è–∑—å —Å SOLID</a></h3>
<div class="table-wrapper"><table><thead><tr><th>GRASP</th><th>SOLID</th></tr></thead><tbody>
<tr><td>Low Coupling / High Cohesion</td><td>Single Responsibility Principle (SRP)</td></tr>
<tr><td>–í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —á–µ—Ä–µ–∑ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã</td><td>Interface Segregation Principle (ISP)</td></tr>
</tbody></table>
</div>
<hr />
<h2 id="2-information-expert-–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã–π-—ç–∫—Å–ø–µ—Ä—Ç"><a class="header" href="#2-information-expert-–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã–π-—ç–∫—Å–ø–µ—Ä—Ç">2. Information Expert (–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã–π —ç–∫—Å–ø–µ—Ä—Ç)</a></h2>
<h3 id="–°—É—Ç—å-–ø—Ä–∏–Ω—Ü–∏–ø–∞-1"><a class="header" href="#–°—É—Ç—å-–ø—Ä–∏–Ω—Ü–∏–ø–∞-1">–°—É—Ç—å –ø—Ä–∏–Ω—Ü–∏–ø–∞</a></h3>
<p>–ö–∞–∂–¥–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–Ω–∞—è –∞–±—Å—Ç—Ä–∞–∫—Ü–∏—è –¥–æ–ª–∂–Ω–∞:</p>
<ul>
<li>–ò–Ω–∫–∞–ø—Å—É–ª–∏—Ä–æ–≤–∞—Ç—å —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ</li>
<li>–ò–º–µ—Ç—å –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ –º–µ—Ç–æ–¥—ã, –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã–µ —Å–Ω–∞—Ä—É–∂–∏</li>
<li>–û–±–ª–∞–¥–∞—Ç—å —Å–≤–æ–µ–π –∑–æ–Ω–æ–π –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏</li>
</ul>
<h3 id="–†–µ–∞–ª–∏–∑–∞—Ü–∏—è-–≤-javascripttypescript"><a class="header" href="#–†–µ–∞–ª–∏–∑–∞—Ü–∏—è-–≤-javascripttypescript">–†–µ–∞–ª–∏–∑–∞—Ü–∏—è –≤ JavaScript/TypeScript</a></h3>
<pre><code class="language-typescript">// –ü—Ä–∏–≤–∞—Ç–Ω—ã–µ –ø–æ–ª—è (—Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π —Å–ø–æ—Å–æ–±)
class User {
  #password; // –ø—Ä–∏–≤–∞—Ç–Ω–æ–µ –ø–æ–ª–µ

  private validatePassword() { /* ... */ } // TypeScript private
}

// –£—Å—Ç–∞—Ä–µ–≤—à–∏–π —Å–ø–æ—Å–æ–± (—Å–æ–≥–ª–∞—à–µ–Ω–∏–µ)
class User {
  _password; // –ø–æ–¥—á—ë—Ä–∫–∏–≤–∞–Ω–∏–µ = "–Ω–µ —Ç—Ä–æ–≥–∞—Ç—å —Å–Ω–∞—Ä—É–∂–∏"

  _validatePassword() { /* ... */ }
}
</code></pre>
<h3 id="–ü—Ä–∞–≤–∏–ª–æ"><a class="header" href="#–ü—Ä–∞–≤–∏–ª–æ">–ü—Ä–∞–≤–∏–ª–æ</a></h3>
<p>–ï—Å–ª–∏ –≤—ã –æ–±—Ä–∞—â–∞–µ—Ç–µ—Å—å –∫ –ø–æ–ª—é –∏–ª–∏ –º–µ—Ç–æ–¥—É —Å –ø–æ–¥—á—ë—Ä–∫–∏–≤–∞–Ω–∏–µ–º –∏–∑–≤–Ω–µ ‚Äî –≤—ã <strong>–ø–æ–≤—ã—à–∞–µ—Ç–µ –∑–∞—Ü–µ–ø–ª–µ–Ω–∏–µ</strong> –∏ –¥–µ–ª–∞–µ—Ç–µ —Å–∏—Å—Ç–µ–º—É –º–µ–Ω–µ–µ —Å—Ç–∞–±–∏–ª—å–Ω–æ–π.</p>
<h3 id="–°–≤—è–∑—å-—Å-–∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç—å—é"><a class="header" href="#–°–≤—è–∑—å-—Å-–∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç—å—é">–°–≤—è–∑—å —Å –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç—å—é</a></h3>
<p>Information Expert —Å–Ω–∏–∂–∞–µ—Ç coupling, –Ω–æ –Ω–µ –≤–ª–∏—è–µ—Ç –Ω–∞–ø—Ä—è–º—É—é –Ω–∞ cohesion. –ï–≥–æ –∑–∞–¥–∞—á–∞ ‚Äî –æ–±–µ—Å–ø–µ—á–∏—Ç—å –∏–Ω–∫–∞–ø—Å—É–ª—è—Ü–∏—é.</p>
<hr />
<h2 id="3-creator-–°–æ–∑–¥–∞—Ç–µ–ª—å"><a class="header" href="#3-creator-–°–æ–∑–¥–∞—Ç–µ–ª—å">3. Creator (–°–æ–∑–¥–∞—Ç–µ–ª—å)</a></h2>
<h3 id="–°—É—Ç—å-–ø–∞—Ç—Ç–µ—Ä–Ω–∞"><a class="header" href="#–°—É—Ç—å-–ø–∞—Ç—Ç–µ—Ä–Ω–∞">–°—É—Ç—å –ø–∞—Ç—Ç–µ—Ä–Ω–∞</a></h3>
<p><strong>–ö—Ç–æ —Å–æ–∑–¥–∞—ë—Ç ‚Äî —Ç–æ—Ç –∏ —Ä–∞–∑—Ä—É—à–∞–µ—Ç.</strong></p>
<p>–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å –∑–∞ —Å–æ–∑–¥–∞–Ω–∏–µ –∏ —Ä–∞–∑—Ä—É—à–µ–Ω–∏–µ –æ–±—ä–µ–∫—Ç–∞ –¥–æ–ª–∂–Ω–∞ –ª–µ–∂–∞—Ç—å –Ω–∞ –æ–¥–Ω–æ–π –∏ —Ç–æ–π –∂–µ –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–∏.</p>
<h3 id="–î–≤–∞-–ø–æ–¥—Ö–æ–¥–∞"><a class="header" href="#–î–≤–∞-–ø–æ–¥—Ö–æ–¥–∞">–î–≤–∞ –ø–æ–¥—Ö–æ–¥–∞</a></h3>
<div class="table-wrapper"><table><thead><tr><th>–ü–æ–¥—Ö–æ–¥</th><th>–°–æ–∑–¥–∞–Ω–∏–µ</th><th>–†–∞–∑—Ä—É—à–µ–Ω–∏–µ</th></tr></thead><tbody>
<tr><td>–í–Ω–µ–¥—Ä–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π (DI)</td><td>–ò–∑–≤–Ω–µ</td><td>–ù–µ –Ω–∞—à–∞ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å</td></tr>
<tr><td>–°–æ–∑–¥–∞–Ω–∏–µ –≤–Ω—É—Ç—Ä–∏</td><td>–ú—ã —Å–æ–∑–¥–∞—ë–º</td><td>–ú—ã –¥–æ–ª–∂–Ω—ã —Ä–∞–∑—Ä—É—à–∏—Ç—å</td></tr>
</tbody></table>
</div>
<h3 id="–ü—Ä–∏–º–µ—Ä—ã-–ø—Ä–æ–±–ª–µ–º"><a class="header" href="#–ü—Ä–∏–º–µ—Ä—ã-–ø—Ä–æ–±–ª–µ–º">–ü—Ä–∏–º–µ—Ä—ã –ø—Ä–æ–±–ª–µ–º</a></h3>
<pre><code class="language-javascript">// –ü–ª–æ—Ö–æ: —Å–æ–∑–¥–∞–ª–∏ –ª–æ–≥–≥–µ—Ä, –ø—Ä–∏—Ü–µ–ø–∏–ª–∏ –∫ —Å–æ–∫–µ—Ç—É, –∑–∞–±—ã–ª–∏ –ø—Ä–æ –Ω–µ–≥–æ
class AuditService {
  constructor() {
    this.logger = new Logger();
    socket.attachLogger(this.logger); // –£—Ç–µ—á–∫–∞!
  }
  // –ö—Ç–æ —Ç–µ–ø–µ—Ä—å –∑–∞–∫—Ä–æ–µ—Ç logger?
}

// –§–∞–π–ª–æ–≤—ã–µ –¥–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä—ã ‚Äî –Ω–µ —Å–æ–±–∏—Ä–∞—é—Ç—Å—è GC!
const fd = fs.openSync('file.txt');
// –ï—Å–ª–∏ –Ω–µ –≤—ã–∑–≤–∞—Ç—å fs.closeSync(fd) ‚Äî –¥–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä "–ø–æ–≤–∏—Å–Ω–µ—Ç"
</code></pre>
<h3 id="–ü—Ä–∞–≤–∏–ª–æ-–¥–ª—è-nodejs"><a class="header" href="#–ü—Ä–∞–≤–∏–ª–æ-–¥–ª—è-nodejs">–ü—Ä–∞–≤–∏–ª–æ –¥–ª—è Node.js</a></h3>
<ul>
<li>–§–∞–π–ª–æ–≤—ã–µ –¥–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä—ã</li>
<li>–°–æ–∫–µ—Ç—ã</li>
<li>–ö–æ–Ω–Ω–µ–∫—Ç—ã –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö</li>
</ul>
<p><strong>–í—Å–µ —ç—Ç–∏ —Ä–µ—Å—É—Ä—Å—ã –ù–ï —Å–æ–±–∏—Ä–∞—é—Ç—Å—è Garbage Collector'–æ–º!</strong> –°–æ–∑–¥–∞—Ç–µ–ª—å –¥–æ–ª–∂–µ–Ω —è–≤–Ω–æ –∏—Ö –∑–∞–∫—Ä—ã—Ç—å.</p>
<h3 id="–°–≤—è–∑—å-—Å-–ø—Ä–∏–º–µ—Å—è–º–∏"><a class="header" href="#–°–≤—è–∑—å-—Å-–ø—Ä–∏–º–µ—Å—è–º–∏">–°–≤—è–∑—å —Å –ø—Ä–∏–º–µ—Å—è–º–∏</a></h3>
<p>–í JavaScript –∏–∑-–∑–∞ –ø—Ä–∏–º–µ—Å–µ–π (mixins) —á–∞—Å—Ç–æ –Ω–∞—Ä—É—à–∞–µ—Ç—Å—è –ø–∞—Ç—Ç–µ—Ä–Ω Creator. –ë—É–¥—å—Ç–µ –æ—Å—Ç–æ—Ä–æ–∂–Ω—ã –ø—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ –º–∏–∫—Å–∏–Ω–æ–≤.</p>
<hr />
<h2 id="4-–ö–æ–Ω—Ç—Ä–∞–∫—Ç—ã-vs-–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã"><a class="header" href="#4-–ö–æ–Ω—Ç—Ä–∞–∫—Ç—ã-vs-–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã">4. –ö–æ–Ω—Ç—Ä–∞–∫—Ç—ã vs –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã</a></h2>
<h3 id="–í-—á—ë–º-—Ä–∞–∑–Ω–∏—Ü–∞"><a class="header" href="#–í-—á—ë–º-—Ä–∞–∑–Ω–∏—Ü–∞">–í —á—ë–º —Ä–∞–∑–Ω–∏—Ü–∞?</a></h3>
<div class="table-wrapper"><table><thead><tr><th>–ê—Å–ø–µ–∫—Ç</th><th>–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å</th><th>–ö–æ–Ω—Ç—Ä–∞–∫—Ç</th></tr></thead><tbody>
<tr><td>–§–æ—Ä–º–∞—Ç</td><td>–§–æ—Ä–º–∞–ª—å–Ω—ã–π (TypeScript interface)</td><td>–õ—é–±–æ–π (—Ç–µ–∫—Å—Ç, –∫–æ–¥, —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è)</td></tr>
<tr><td>–ü–æ–ª–Ω–æ—Ç–∞</td><td>–û–ø–∏—Å—ã–≤–∞–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—É</td><td>–û–ø–∏—Å—ã–≤–∞–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—É + –ø–æ–≤–µ–¥–µ–Ω–∏–µ</td></tr>
<tr><td>–ü—Ä–∏–º–µ—Ä—ã</td><td><code>interface User { name: string }</code></td><td>"–ú–µ—Ç–æ–¥ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç Promise, –∫–æ—Ç–æ—Ä—ã–π resolve'–∏—Ç—Å—è –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏"</td></tr>
</tbody></table>
</div>
<h3 id="–ö–æ–Ω—Ç—Ä–∞–∫—Ç-—à–∏—Ä–µ-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞"><a class="header" href="#–ö–æ–Ω—Ç—Ä–∞–∫—Ç-—à–∏—Ä–µ-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞">–ö–æ–Ω—Ç—Ä–∞–∫—Ç —à–∏—Ä–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞</a></h3>
<pre><code class="language-typescript">// –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –æ–ø–∏—Å—ã–≤–∞–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—É
interface Iterable&lt;T&gt; {
  [Symbol.iterator](): Iterator&lt;T&gt;;
}

// –ù–æ –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã:
// - –ò—Ç–µ—Ä–∞—Ü–∏—è —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –∏–ª–∏ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è?
// - –ú–µ–∂–¥—É –∏—Ç–µ—Ä–∞—Ü–∏—è–º–∏ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –æ—Ç–¥–∞—á–∞ –∫–≤–∞–Ω—Ç–∞ –≤—Ä–µ–º–µ–Ω–∏?
// - –ö–∞–∫ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –æ—à–∏–±–∫–∏?
</code></pre>
<h3 id="–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ-–∫–æ–Ω—Ç—Ä–∞–∫—Ç—ã"><a class="header" href="#–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ-–∫–æ–Ω—Ç—Ä–∞–∫—Ç—ã">–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ –∫–æ–Ω—Ç—Ä–∞–∫—Ç—ã</a></h3>
<p>–§–æ—Ä–º–∞–ª—å–Ω–æ –æ–ø–∏—Å–∞—Ç—å –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ –∫–æ–Ω—Ç—Ä–∞–∫—Ç—ã –∫—Ä–∞–π–Ω–µ —Å–ª–æ–∂–Ω–æ:</p>
<pre><code class="language-javascript">// –û–¥–∏–Ω –∏ —Ç–æ—Ç –∂–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å, —Ä–∞–∑–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ:

// 1. –°–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä —á–∏—Å–µ–ª ‚Äî –±–ª–æ–∫–∏—Ä—É–µ—Ç event loop
function* syncRandom() { yield Math.random(); }

// 2. –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä ‚Äî –æ—Ç–¥–∞—ë—Ç —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
async function* asyncRandom() {
  await delay(0);
  yield Math.random();
}
</code></pre>
<p>TypeScript –Ω–µ –º–æ–∂–µ—Ç –æ–ø–∏—Å–∞—Ç—å —Ç–∞–∫–∏–µ –Ω—é–∞–Ω—Å—ã –ø–æ–≤–µ–¥–µ–Ω–∏—è.</p>
<h3 id="–§–æ—Ä–º–∞—Ç—ã-–æ–ø–∏—Å–∞–Ω–∏—è-–∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤"><a class="header" href="#–§–æ—Ä–º–∞—Ç—ã-–æ–ø–∏—Å–∞–Ω–∏—è-–∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤">–§–æ—Ä–º–∞—Ç—ã –æ–ø–∏—Å–∞–Ω–∏—è –∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤</a></h3>
<ul>
<li>JSDoc</li>
<li>JSON Schema</li>
<li>TypeScript <code>.d.ts</code> —Ñ–∞–π–ª—ã</li>
<li>–ß–µ–ª–æ–≤–µ—á–µ—Å–∫–∏–π —Ç–µ–∫—Å—Ç (–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è)</li>
<li>–ü—Ä–∏–º–µ—Ä—ã –∫–æ–¥–∞</li>
</ul>
<hr />
<h2 id="5-dependency-injection-–í–Ω–µ–¥—Ä–µ–Ω–∏–µ-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π"><a class="header" href="#5-dependency-injection-–í–Ω–µ–¥—Ä–µ–Ω–∏–µ-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π">5. Dependency Injection (–í–Ω–µ–¥—Ä–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π)</a></h2>
<h3 id="–°–ø–æ—Å–æ–±—ã-–≤–Ω–µ–¥—Ä–µ–Ω–∏—è-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π"><a class="header" href="#–°–ø–æ—Å–æ–±—ã-–≤–Ω–µ–¥—Ä–µ–Ω–∏—è-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π">–°–ø–æ—Å–æ–±—ã –≤–Ω–µ–¥—Ä–µ–Ω–∏—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π</a></h3>
<div class="table-wrapper"><table><thead><tr><th>–°–ø–æ—Å–æ–±</th><th>–û–ø–∏—Å–∞–Ω–∏–µ</th><th>–û—Ü–µ–Ω–∫–∞</th></tr></thead><tbody>
<tr><td><strong>–ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä</strong></td><td><code>new Service(logger)</code></td><td>–•–æ—Ä–æ—à–æ</td></tr>
<tr><td><strong>–ú–µ—Ç–æ–¥ (setter)</strong></td><td><code>service.setLogger(logger)</code></td><td>–•–æ—Ä–æ—à–æ (—Å –∫–æ–Ω—Ç—Ä–æ–ª–µ–º)</td></tr>
<tr><td><strong>–ó–∞–º—ã–∫–∞–Ω–∏–µ (—Ñ–∞–±—Ä–∏–∫–∞)</strong></td><td><code>createService(logger)</code></td><td>–•–æ—Ä–æ—à–æ</td></tr>
<tr><td><strong>–ü—Ä–∏–º–µ—Å—å (mixin)</strong></td><td><code>service.logger = logger</code></td><td>–ü–õ–û–•–û</td></tr>
<tr><td><strong>–ì–ª–æ–±–∞–ª—å–Ω—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç</strong></td><td><code>global.logger</code></td><td>–î–æ–ø—É—Å—Ç–∏–º–æ –¥–ª—è stateless</td></tr>
</tbody></table>
</div>
<h3 id="–ü–æ—á–µ–º—É-–ø—Ä–∏–º–µ—Å–∏--–ø–ª–æ—Ö–æ"><a class="header" href="#–ü–æ—á–µ–º—É-–ø—Ä–∏–º–µ—Å–∏--–ø–ª–æ—Ö–æ">–ü–æ—á–µ–º—É –ø—Ä–∏–º–µ—Å–∏ ‚Äî –ø–ª–æ—Ö–æ?</a></h3>
<pre><code class="language-javascript">// –û–ø–∞—Å–Ω—ã–π —Å—Ü–µ–Ω–∞—Ä–∏–π:
class InventoryService {
  async calculateStock() {
    // –î–ª–∏–Ω–Ω–∞—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è
    await someAsyncWork();
    this.logger.log('Step 1'); // logger –º–æ–∂–µ—Ç –±—ã—Ç—å —É–∂–µ –¥—Ä—É–≥–∏–º!
  }
}

// –ö—Ç–æ-—Ç–æ –º–µ–Ω—è–µ—Ç logger –ø–æ—Å–µ—Ä–µ–¥–∏–Ω–µ –æ–ø–µ—Ä–∞—Ü–∏–∏:
service.logger = newLogger; // –ü–æ–ª–æ–≤–∏–Ω–∞ –ª–æ–≥–æ–≤ –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ, –ø–æ–ª–æ–≤–∏–Ω–∞ –≤ –¥—Ä—É–≥–æ–º
</code></pre>
<h3 id="–ú–µ—Ç–æ–¥—ã-–¥–∞—é—Ç-–∫–æ–Ω—Ç—Ä–æ–ª—å"><a class="header" href="#–ú–µ—Ç–æ–¥—ã-–¥–∞—é—Ç-–∫–æ–Ω—Ç—Ä–æ–ª—å">–ú–µ—Ç–æ–¥—ã –¥–∞—é—Ç –∫–æ–Ω—Ç—Ä–æ–ª—å</a></h3>
<pre><code class="language-javascript">class InventoryService {
  #pendingConnection = null;

  setConnection(newConnection) {
    if (this.#activeTransaction) {
      // –ñ–¥—ë–º –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
      this.#pendingConnection = newConnection;
      return;
    }
    this.#connection = newConnection;
  }
}
</code></pre>
<h3 id="–ì–ª–æ–±–∞–ª—å–Ω—ã–π-–∫–æ–Ω—Ç–µ–∫—Å—Ç-–≤-nodejs"><a class="header" href="#–ì–ª–æ–±–∞–ª—å–Ω—ã–π-–∫–æ–Ω—Ç–µ–∫—Å—Ç-–≤-nodejs">–ì–ª–æ–±–∞–ª—å–Ω—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç –≤ Node.js</a></h3>
<p>–ú–Ω–æ–≥–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –ø—Ä–∏—Ö–æ–¥—è—Ç –∏–∑ –≥–ª–æ–±–∞–ª—å–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞:</p>
<ul>
<li><code>console</code> ‚Äî –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ</li>
<li><code>process</code> ‚Äî –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø—Ä–æ—Ü–µ—Å—Å–µ</li>
<li><code>setTimeout</code>, <code>setInterval</code> ‚Äî —Ç–∞–π–º–µ—Ä—ã</li>
</ul>
<p>–≠—Ç–æ —Å—Ç–∞–ª–æ —á–∞—Å—Ç—å—é –∫—É–ª—å—Ç—É—Ä—ã Node.js, –Ω–æ –Ω–µ —è–≤–ª—è–µ—Ç—Å—è –ª—É—á—à–µ–π –ø—Ä–∞–∫—Ç–∏–∫–æ–π.</p>
<h3 id="–°–∏—Å—Ç–µ–º–∞-–º–æ–¥—É–ª–µ–π-–∫–∞–∫-di"><a class="header" href="#–°–∏—Å—Ç–µ–º–∞-–º–æ–¥—É–ª–µ–π-–∫–∞–∫-di">–°–∏—Å—Ç–µ–º–∞ –º–æ–¥—É–ª–µ–π –∫–∞–∫ DI</a></h3>
<pre><code class="language-javascript">// Node.js –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞—ë—Ç –∑–∞–º—ã–∫–∞–Ω–∏–µ:
// (function(exports, require, module, __filename, __dirname) {
//   // –í–∞—à –∫–æ–¥ —Ñ–∞–π–ª–∞
// })

// –≠—Ç–æ —Ç–æ–∂–µ —Ñ–æ—Ä–º–∞ dependency injection!
</code></pre>
<h3 id="–ó–∞–º—ã–∫–∞–Ω–∏–µ-–∫–∞–∫-—è–≤–Ω—ã–π-di"><a class="header" href="#–ó–∞–º—ã–∫–∞–Ω–∏–µ-–∫–∞–∫-—è–≤–Ω—ã–π-di">–ó–∞–º—ã–∫–∞–Ω–∏–µ –∫–∞–∫ —è–≤–Ω—ã–π DI</a></h3>
<pre><code class="language-javascript">// –•–æ—Ä–æ—à–∏–π –ø–∞—Ç—Ç–µ—Ä–Ω:
export const createServer = (config, logger) =&gt; {
  // logger –¥–æ—Å—Ç—É–ø–µ–Ω —á–µ—Ä–µ–∑ –∑–∞–º—ã–∫–∞–Ω–∏–µ
  return {
    start() {
      logger.info('Server starting...');
    }
  };
};
</code></pre>
<hr />
<h2 id="6-–ó–∞–∫–æ–Ω-–î–µ–º–µ—Ç—Ä—ã-law-of-demeter"><a class="header" href="#6-–ó–∞–∫–æ–Ω-–î–µ–º–µ—Ç—Ä—ã-law-of-demeter">6. –ó–∞–∫–æ–Ω –î–µ–º–µ—Ç—Ä—ã (Law of Demeter)</a></h2>
<h3 id="–§–æ—Ä–º—É–ª–∏—Ä–æ–≤–∫–∞"><a class="header" href="#–§–æ—Ä–º—É–ª–∏—Ä–æ–≤–∫–∞">–§–æ—Ä–º—É–ª–∏—Ä–æ–≤–∫–∞</a></h3>
<p><strong>"–ù–µ —Ä–∞–∑–≥–æ–≤–∞—Ä–∏–≤–∞–π—Ç–µ —Å –Ω–µ–∑–Ω–∞–∫–æ–º—Ü–∞–º–∏"</strong></p>
<p>–ú–æ–¥—É–ª—å –¥–æ–ª–∂–µ–Ω –∑–Ω–∞—Ç—å –∫–∞–∫ –º–æ–∂–Ω–æ –º–µ–Ω—å—à–µ –æ –¥—Ä—É–≥–∏—Ö –º–æ–¥—É–ª—è—Ö.</p>
<h3 id="–≠—Ç–æ-–Ω–µ-–∑–Ω–∞—á–∏—Ç-–Ω–µ-–æ–±—â–∞—Ç—å—Å—è-–≤–æ–æ–±—â–µ"><a class="header" href="#–≠—Ç–æ-–Ω–µ-–∑–Ω–∞—á–∏—Ç-–Ω–µ-–æ–±—â–∞—Ç—å—Å—è-–≤–æ–æ–±—â–µ">–≠—Ç–æ –Ω–µ –∑–Ω–∞—á–∏—Ç "–Ω–µ –æ–±—â–∞—Ç—å—Å—è –≤–æ–æ–±—â–µ"</a></h3>
<p>–°–∏—Å—Ç–µ–º–∞ –Ω–µ –º–æ–∂–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –±–µ–∑ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è. –ù–æ:</p>
<ol>
<li>–ú–∏–Ω–∏–º–∏–∑–∏—Ä—É–π—Ç–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–π</li>
<li>–î–µ–ª–∞–π—Ç–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —á–µ—Ä–µ–∑ <strong>–∫–æ–Ω—Ç—Ä–∞–∫—Ç—ã/–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã</strong></li>
</ol>
<h3 id="–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–π-—Å–º—ã—Å–ª"><a class="header" href="#–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–π-—Å–º—ã—Å–ª">–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–π —Å–º—ã—Å–ª</a></h3>
<pre><code class="language-javascript">// –ü–ª–æ—Ö–æ: –∑–Ω–∞–µ–º —Å–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ –æ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–æ—Å—Ç—è—Ö
user.account.balance.amount

// –•–æ—Ä–æ—à–æ: —Å–ø—Ä–∞—à–∏–≤–∞–µ–º —Ç–æ, —á—Ç–æ –Ω–∞–º –Ω—É–∂–Ω–æ
user.getBalance()
</code></pre>
<hr />
<h2 id="7-–°–µ—Ç–µ–≤—ã–µ-–ø—Ä–æ—Ç–æ–∫–æ–ª—ã-–∏-–∫–æ–Ω—Ç—Ä–∞–∫—Ç—ã"><a class="header" href="#7-–°–µ—Ç–µ–≤—ã–µ-–ø—Ä–æ—Ç–æ–∫–æ–ª—ã-–∏-–∫–æ–Ω—Ç—Ä–∞–∫—Ç—ã">7. –°–µ—Ç–µ–≤—ã–µ –ø—Ä–æ—Ç–æ–∫–æ–ª—ã –∏ –∫–æ–Ω—Ç—Ä–∞–∫—Ç—ã</a></h2>
<h3 id="–û–±—Å—É–∂–¥–µ–Ω–∏–µ-grpc-http-protobuf"><a class="header" href="#–û–±—Å—É–∂–¥–µ–Ω–∏–µ-grpc-http-protobuf">–û–±—Å—É–∂–¥–µ–Ω–∏–µ gRPC, HTTP, protobuf</a></h3>
<p>–õ—é–±–æ–π RPC-–ø—Ä–æ—Ç–æ–∫–æ–ª —Ä–µ—à–∞–µ—Ç –æ–¥–Ω—É –∑–∞–¥–∞—á—É: <strong>—É–ø–æ—Ä—è–¥–æ—á–∏—Ç—å –∫–æ–Ω—Ç—Ä–∞–∫—Ç—ã –¥–ª—è —É–¥–∞–ª—ë–Ω–Ω–æ–≥–æ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è</strong>.</p>
<div class="table-wrapper"><table><thead><tr><th>–ü—Ä–æ—Ç–æ–∫–æ–ª</th><th>–§–æ—Ä–º–∞—Ç</th><th>–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏</th></tr></thead><tbody>
<tr><td>gRPC</td><td>–ë–∏–Ω–∞—Ä–Ω—ã–π (protobuf)</td><td>–ù–µ–º–Ω–æ–≥–æ –∫–æ–º–ø–∞–∫—Ç–Ω–µ–µ JSON</td></tr>
<tr><td>JSON-RPC</td><td>–¢–µ–∫—Å—Ç–æ–≤—ã–π (JSON)</td><td>–ß–∏—Ç–∞–µ–º—ã–π, —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π</td></tr>
<tr><td>SOAP</td><td>XML</td><td>–£—Å—Ç–∞—Ä–µ–≤—à–∏–π</td></tr>
</tbody></table>
</div>
<h3 id="–ü–æ—á–µ–º—É-grpc-–ø–æ–ø—É–ª—è—Ä–µ–Ω"><a class="header" href="#–ü–æ—á–µ–º—É-grpc-–ø–æ–ø—É–ª—è—Ä–µ–Ω">–ü–æ—á–µ–º—É gRPC –ø–æ–ø—É–ª—è—Ä–µ–Ω?</a></h3>
<p>–ù–µ –ø–æ—Ç–æ–º—É —á—Ç–æ –æ–Ω –ª—É—á—à–µ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏. –ü—Ä–∏—á–∏–Ω—ã:</p>
<ol>
<li>–ú–∞—Ä–∫–µ—Ç–∏–Ω–≥ Google</li>
<li>–•–æ—Ä–æ—à–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è</li>
<li>–ì–æ—Ç–æ–≤—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã</li>
</ol>
<h3 id="–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–π-–≤—ã–≤–æ–¥"><a class="header" href="#–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–π-–≤—ã–≤–æ–¥">–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–π –≤—ã–≤–æ–¥</a></h3>
<p>–ë–∏–Ω–∞—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –Ω–µ –¥–∞—ë—Ç —Å—É—â–µ—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –≤—ã–∏–≥—Ä—ã—à–∞ –¥–ª—è –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π:</p>
<pre><code class="language-javascript">// JSON: 2 –±–∞–π—Ç–∞ –Ω–∞ –∫–∞–≤—ã—á–∫–∏ –≤–æ–∫—Ä—É–≥ —Å—Ç—Ä–æ–∫–∏
// –ë–∏–Ω–∞—Ä–Ω—ã–π: –Ω—É–∂–µ–Ω –∑–∞–≥–æ–ª–æ–≤–æ–∫ —Ç–∏–ø–∞

// –î–ª—è —Å—Ç—Ä–æ–∫ —Ä–∞–∑–Ω–∏—Ü–∞ –º–∏–Ω–∏–º–∞–ª—å–Ω–∞
// –î–ª—è —á–∏—Å–µ–ª –±–∏–Ω–∞—Ä–Ω—ã–π –º–æ–∂–µ—Ç –±—ã—Ç—å –¥–∞–∂–µ –±–æ–ª—å—à–µ!
// –ß–∏—Å–ª–æ "58" –≤ JSON = 2 –±–∞–π—Ç–∞
// int32 –≤ –±–∏–Ω–∞—Ä–Ω–æ–º = 4 –±–∞–π—Ç–∞
</code></pre>
<hr />
<h2 id="–ö–ª—é—á–µ–≤—ã–µ-–≤—ã–≤–æ–¥—ã-7"><a class="header" href="#–ö–ª—é—á–µ–≤—ã–µ-–≤—ã–≤–æ–¥—ã-7">–ö–ª—é—á–µ–≤—ã–µ –≤—ã–≤–æ–¥—ã</a></h2>
<ol>
<li>
<p><strong>GRASP ‚Äî —ç—Ç–æ –Ω–µ —Å—Ç—Ä–æ–≥–∞—è –Ω–∞—É–∫–∞</strong>, –∞ –Ω–∞–±–æ—Ä –∏–Ω–∂–µ–Ω–µ—Ä–Ω—ã—Ö –ø—Ä–∞–∫—Ç–∏–∫ "–Ω–∞ –≤–∫—É—Å –∏ –∑–¥—Ä–∞–≤—ã–π —Å–º—ã—Å–ª"</p>
</li>
<li>
<p><strong>Coupling vs Cohesion</strong>: —Å—Ç—Ä–µ–º–∏—Ç–µ—Å—å –∫ –Ω–∏–∑–∫–æ–º—É –∑–∞—Ü–µ–ø–ª–µ–Ω–∏—é –º–µ–∂–¥—É –º–æ–¥—É–ª—è–º–∏ –∏ –≤—ã—Å–æ–∫–æ–π —Å–≤—è–∑–Ω–æ—Å—Ç–∏ –≤–Ω—É—Ç—Ä–∏ –Ω–∏—Ö</p>
</li>
<li>
<p><strong>–ö—Ç–æ —Å–æ–∑–¥–∞—ë—Ç ‚Äî —Ç–æ—Ç —Ä–∞–∑—Ä—É—à–∞–µ—Ç</strong>: –ø–æ–º–Ω–∏—Ç–µ –æ —Ä–µ—Å—É—Ä—Å–∞—Ö, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ —Å–æ–±–∏—Ä–∞–µ—Ç GC</p>
</li>
<li>
<p><strong>–ö–æ–Ω—Ç—Ä–∞–∫—Ç —à–∏—Ä–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞</strong>: TypeScript –Ω–µ –º–æ–∂–µ—Ç –æ–ø–∏—Å–∞—Ç—å –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ</p>
</li>
<li>
<p><strong>Dependency Injection</strong>: –≤—ã–±–∏—Ä–∞–π—Ç–µ —è–≤–Ω—ã–µ —Å–ø–æ—Å–æ–±—ã (–∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä, —Ñ–∞–±—Ä–∏–∫–∞), –∏–∑–±–µ–≥–∞–π—Ç–µ –ø—Ä–∏–º–µ—Å–µ–π</p>
</li>
<li>
<p><strong>–ó–∞–∫–æ–Ω –î–µ–º–µ—Ç—Ä—ã</strong>: –º–∏–Ω–∏–º–∏–∑–∏—Ä—É–π—Ç–µ –∑–Ω–∞–Ω–∏–µ –º–æ–¥—É–ª–µ–π –¥—Ä—É–≥ –æ –¥—Ä—É–≥–µ</p>
</li>
</ol>
<hr />
<h2 id="–°–≤—è–∑—å-—Å-–¥—Ä—É–≥–∏–º–∏-—Ç–µ–º–∞–º–∏"><a class="header" href="#–°–≤—è–∑—å-—Å-–¥—Ä—É–≥–∏–º–∏-—Ç–µ–º–∞–º–∏">–°–≤—è–∑—å —Å –¥—Ä—É–≥–∏–º–∏ —Ç–µ–º–∞–º–∏</a></h2>
<ul>
<li><strong>SOLID</strong> ‚Äî –¥–æ–ø–æ–ª–Ω—è–µ—Ç GRASP, –æ—Å–æ–±–µ–Ω–Ω–æ SRP –∏ ISP</li>
<li><strong>GoF –ø–∞—Ç—Ç–µ—Ä–Ω—ã</strong> ‚Äî —Ä–µ–∞–ª–∏–∑—É—é—Ç –∏–¥–µ–∏ GRASP (Factory, Singleton)</li>
<li><strong>–ó–∞–∫–æ–Ω –ö–æ–Ω–≤–µ—è</strong> ‚Äî –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–∏—Å—Ç–µ–º—ã –æ—Ç—Ä–∞–∂–∞–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—É –∫–æ–º–∞–Ω–¥—ã</li>
<li><strong>–ö–æ–Ω—Ç—Ä–∞–∫—Ç–Ω–æ–µ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ</strong> ‚Äî —Ä–∞–∑–≤–∏–≤–∞–µ—Ç –∏–¥–µ—é –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤</li>
</ul>
<hr />
<p><em>–ö–æ–Ω—Å–ø–µ–∫—Ç —Å–æ—Å—Ç–∞–≤–ª–µ–Ω –Ω–∞ –æ—Å–Ω–æ–≤–µ –ª–µ–∫—Ü–∏–∏ –¢–∏–º—É—Ä–∞ –®–µ–º—Å–µ–¥–∏–Ω–æ–≤–∞</em></p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="–ü—Ä–∏–Ω—Ü–∏–ø—ã-grasp-–¥–ª—è-javascripttypescriptnodejs-–ß–∞—Å—Ç—å-2"><a class="header" href="#–ü—Ä–∏–Ω—Ü–∏–ø—ã-grasp-–¥–ª—è-javascripttypescriptnodejs-–ß–∞—Å—Ç—å-2">–ü—Ä–∏–Ω—Ü–∏–ø—ã GRASP –¥–ª—è JavaScript/TypeScript/Node.js (–ß–∞—Å—Ç—å 2)</a></h1>
<blockquote>
<p>–ö–æ–Ω—Å–ø–µ–∫—Ç –ª–µ–∫—Ü–∏–∏ –ø–æ –ø—Ä–∏–Ω—Ü–∏–ø–∞–º GRASP —Å –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–º–∏ –ø–æ—è—Å–Ω–µ–Ω–∏—è–º–∏ –¥–ª—è JS/TS —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤</p>
</blockquote>
<h2 id="–í–≤–µ–¥–µ–Ω–∏–µ-3"><a class="header" href="#–í–≤–µ–¥–µ–Ω–∏–µ-3">–í–≤–µ–¥–µ–Ω–∏–µ</a></h2>
<p>GRASP (General Responsibility Assignment Software Patterns) ‚Äî —ç—Ç–æ –Ω–∞–±–æ—Ä –∏–∑ <strong>9 –ø—Ä–∏–Ω—Ü–∏–ø–æ–≤</strong>, –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—é—â–∏—Ö —Å–æ–±–æ–π –æ–±—â–∏–µ –∏–¥–µ–∏ –∏ —Ñ–∏–ª–æ—Å–æ—Ñ–∏—é –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è, –∞ –Ω–µ –∂—ë—Å—Ç–∫–∏–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è (–∫–∞–∫ GoF).</p>
<p><strong>–í–∞–∂–Ω–æ –ø–æ–Ω–∏–º–∞—Ç—å</strong>: –ø—Ä–∏–Ω—Ü–∏–ø—ã GRASP ‚Äî —ç—Ç–æ –Ω–µ —Å—Ç—Ä–æ–≥–∏–µ –ø—Ä–∞–≤–∏–ª–∞, –∞ —Ä—É–∫–æ–≤–æ–¥—è—â–∏–µ –∏–¥–µ–∏. –û–Ω–∏ –º–æ–≥—É—Ç –ø—Ä–∏–º–µ–Ω—è—Ç—å—Å—è –ø–æ-—Ä–∞–∑–Ω–æ–º—É –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –∏ –Ω–µ –ø—Ä–∏–≤—è–∑–∞–Ω—ã –∏—Å–∫–ª—é—á–∏—Ç–µ–ª—å–Ω–æ –∫ –û–û–ü.</p>
<h3 id="–ü—Ä–∏–Ω—Ü–∏–ø—ã-–∏–∑-–ø–µ—Ä–≤–æ–π-—á–∞—Å—Ç–∏-—É–∂–µ-—Ä–∞—Å—Å–º–æ—Ç—Ä–µ–Ω–Ω—ã–µ"><a class="header" href="#–ü—Ä–∏–Ω—Ü–∏–ø—ã-–∏–∑-–ø–µ—Ä–≤–æ–π-—á–∞—Å—Ç–∏-—É–∂–µ-—Ä–∞—Å—Å–º–æ—Ç—Ä–µ–Ω–Ω—ã–µ">–ü—Ä–∏–Ω—Ü–∏–ø—ã –∏–∑ –ø–µ—Ä–≤–æ–π —á–∞—Å—Ç–∏ (—É–∂–µ —Ä–∞—Å—Å–º–æ—Ç—Ä–µ–Ω–Ω—ã–µ):</a></h3>
<ul>
<li>Information Expert (–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã–π —ç–∫—Å–ø–µ—Ä—Ç)</li>
<li>Creator (–°–æ–∑–¥–∞—Ç–µ–ª—å)</li>
<li>Low Coupling (–°–ª–∞–±–æ–µ –∑–∞—Ü–µ–ø–ª–µ–Ω–∏–µ)</li>
<li>High Cohesion (–°–∏–ª—å–Ω–∞—è —Å–≤—è–∑–Ω–æ—Å—Ç—å)</li>
</ul>
<h3 id="–ü—Ä–∏–Ω—Ü–∏–ø—ã-—ç—Ç–æ–π-–ª–µ–∫—Ü–∏–∏"><a class="header" href="#–ü—Ä–∏–Ω—Ü–∏–ø—ã-—ç—Ç–æ–π-–ª–µ–∫—Ü–∏–∏">–ü—Ä–∏–Ω—Ü–∏–ø—ã —ç—Ç–æ–π –ª–µ–∫—Ü–∏–∏:</a></h3>
<ul>
<li>Protected Variations (–£—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å –∫ –∏–∑–º–µ–Ω–µ–Ω–∏—è–º)</li>
<li>Indirection (–ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ)</li>
<li>Pure Fabrication (–ß–∏—Å—Ç–∞—è –≤—ã–¥—É–º–∫–∞)</li>
<li>Polymorphism (–ü–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º)</li>
<li>Controller (–ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä)</li>
</ul>
<hr />
<h2 id="1-protected-variations-–£—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å-–∫-–∏–∑–º–µ–Ω–µ–Ω–∏—è–º"><a class="header" href="#1-protected-variations-–£—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å-–∫-–∏–∑–º–µ–Ω–µ–Ω–∏—è–º">1. Protected Variations (–£—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å –∫ –∏–∑–º–µ–Ω–µ–Ω–∏—è–º)</a></h2>
<h3 id="–°—É—Ç—å-–ø—Ä–∏–Ω—Ü–∏–ø–∞-2"><a class="header" href="#–°—É—Ç—å-–ø—Ä–∏–Ω—Ü–∏–ø–∞-2">–°—É—Ç—å –ø—Ä–∏–Ω—Ü–∏–ø–∞</a></h3>
<p><strong>Protected Variations</strong> –≥–æ–≤–æ—Ä–∏—Ç –æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –∑–∞—â–∏—Ç–∏—Ç—å –∫–æ–¥ –æ—Ç –∫–∞—Å–∫–∞–¥–Ω—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π. –ö–æ–≥–¥–∞ –º—ã –º–µ–Ω—è–µ–º –æ–¥–Ω—É –∞–±—Å—Ç—Ä–∞–∫—Ü–∏—é, —ç—Ç–æ –Ω–µ –¥–æ–ª–∂–Ω–æ –ø—Ä–∏–≤–æ–¥–∏—Ç—å –∫ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –º–µ–Ω—è—Ç—å –≤—Å—ë –æ—Å—Ç–∞–ª—å–Ω–æ–µ.</p>
<h3 id="–ü—Ä–æ–±–ª–µ–º–∞-2"><a class="header" href="#–ü—Ä–æ–±–ª–µ–º–∞-2">–ü—Ä–æ–±–ª–µ–º–∞</a></h3>
<p>–ö–æ–≥–¥–∞ –∫–æ–¥ –Ω–µ –∑–∞—â–∏—â—ë–Ω –æ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–π:</p>
<ul>
<li>–û–¥–Ω–æ –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Ç—è–Ω–µ—Ç –∑–∞ —Å–æ–±–æ–π –¥—Ä—É–≥–∏–µ</li>
<li>–†–∞–±–æ—Ç–∞–µ—Ç "–∑–∞–∫–æ–Ω –î–∏–º–µ—Ç—Ä—ã" ‚Äî –≤—ã—Å–æ–∫–æ–µ –∑–∞—Ü–µ–ø–ª–µ–Ω–∏–µ –º–µ–∂–¥—É –º–æ–¥—É–ª—è–º–∏</li>
<li>–ê–±—Å—Ç—Ä–∞–∫—Ü–∏–∏ "–ª–µ–∑—É—Ç –≤ –∫–∏—à–∫–∏ –¥—Ä—É–≥ –¥—Ä—É–≥–∞"</li>
</ul>
<h3 id="–ü—Ä–∏–º–µ—Ä-–ø—Ä–æ–±–ª–µ–º—ã-–≤-nodejs"><a class="header" href="#–ü—Ä–∏–º–µ—Ä-–ø—Ä–æ–±–ª–µ–º—ã-–≤-nodejs">–ü—Ä–∏–º–µ—Ä –ø—Ä–æ–±–ª–µ–º—ã –≤ Node.js</a></h3>
<pre><code class="language-javascript">// –ü–õ–û–•–û: –õ–µ–∑–µ–º –≤–æ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–æ—Å—Ç–∏ —Å—Ç—Ä–∏–º–æ–≤ Node.js
const stream = fs.createReadStream('file.txt');

// –†–∞—Å–∫–æ–ø–∞–ª–∏ –Ω–µ–¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É –±—É—Ñ–µ—Ä–∏–∑–∞—Ü–∏–∏
const internalBuffer = stream._readableState.buffer;
const chunkCount = internalBuffer.length; // –ú–æ–Ω–∏—Ç–æ—Ä–∏–º –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ —á–∞–Ω–∫–∏

// –ü—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ Node.js –≤–Ω—É—Ç—Ä–µ–Ω–Ω—è—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –º–æ–∂–µ—Ç –∏–∑–º–µ–Ω–∏—Ç—å—Å—è,
// —Ö–æ—Ç—è –≤–Ω–µ—à–Ω–∏–π API —Å—Ç—Ä–∏–º–æ–≤ –æ—Å—Ç–∞–ª—Å—è –ø—Ä–µ–∂–Ω–∏–º ‚Äî –∏ –Ω–∞—à –∫–æ–¥ —Å–ª–æ–º–∞–µ—Ç—Å—è
</code></pre>
<p><strong>–ß—Ç–æ –±—ã–ª–æ –Ω–∞—Ä—É—à–µ–Ω–æ:</strong></p>
<ul>
<li><strong>Information Expert</strong> ‚Äî –∑–∞–ª–µ–∑–ª–∏ –≤ —á—É–∂—É—é –∞–±—Å—Ç—Ä–∞–∫—Ü–∏—é</li>
<li><strong>Creator</strong> ‚Äî —Ä–∞–±–æ—Ç–∞–µ–º —Å –¥–∞–Ω–Ω—ã–º–∏, –∫–æ—Ç–æ—Ä—ã–µ —Å–æ–∑–¥–∞–≤–∞–ª –Ω–µ –Ω–∞—à –∫–æ–¥</li>
<li><strong>Low Coupling</strong> ‚Äî –∑–∞—Ü–µ–ø–∏–ª–∏—Å—å –∑–∞ –Ω–µ–≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–æ–Ω—Ç—Ä–∞–∫—Ç</li>
</ul>
<h3 id="–†–µ—à–µ–Ω–∏–µ-—Ä–∞–±–æ—Ç–∞-—á–µ—Ä–µ–∑-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã"><a class="header" href="#–†–µ—à–µ–Ω–∏–µ-—Ä–∞–±–æ—Ç–∞-—á–µ—Ä–µ–∑-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã">–†–µ—à–µ–Ω–∏–µ: —Ä–∞–±–æ—Ç–∞ —á–µ—Ä–µ–∑ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã</a></h3>
<p>–î–ª—è –∑–∞—â–∏—Ç—ã –∫–æ–¥–∞ –æ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–π –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ:</p>
<ol>
<li><strong>–†–∞–±–æ—Ç–∞—Ç—å —á–µ—Ä–µ–∑ –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã</strong></li>
<li><strong>–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–∞–π–ø–∏–Ω–≥–∏</strong> (<code>.d.ts</code> —Ñ–∞–π–ª—ã –¥–ª—è JS, –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –¥–ª—è TS)</li>
<li><strong>–ü–æ–∫—Ä—ã–≤–∞—Ç—å –∫–æ–Ω—Ç—Ä–∞–∫—Ç—ã —Ç–µ—Å—Ç–∞–º–∏</strong></li>
<li><strong>–°–æ–±–ª—é–¥–∞—Ç—å —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–æ–µ –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ</strong></li>
</ol>
<pre><code class="language-typescript">// –•–û–†–û–®–û: –†–∞–±–æ—Ç–∞–µ–º —á–µ—Ä–µ–∑ –ø—É–±–ª–∏—á–Ω—ã–π API
import { Readable } from 'stream';

function processStream(stream: Readable): void {
  stream.on('data', (chunk) =&gt; {
    // –ò—Å–ø–æ–ª—å–∑—É–µ–º —Ç–æ–ª—å–∫–æ –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è –∏ –º–µ—Ç–æ–¥—ã
    console.log(`Received ${chunk.length} bytes`);
  });

  stream.on('end', () =&gt; {
    console.log('Stream finished');
  });
}
</code></pre>
<h3 id="–°–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–æ–µ-–≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ-–∏-–∫–æ–Ω—Ç—Ä–∞–∫—Ç—ã"><a class="header" href="#–°–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–æ–µ-–≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ-–∏-–∫–æ–Ω—Ç—Ä–∞–∫—Ç—ã">–°–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–æ–µ –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –∫–æ–Ω—Ç—Ä–∞–∫—Ç—ã</a></h3>
<div class="table-wrapper"><table><thead><tr><th>–í–µ—Ä—Å–∏—è</th><th>–ò–∑–º–µ–Ω–µ–Ω–∏–µ</th><th>–°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å</th></tr></thead><tbody>
<tr><td><code>1.0.0</code> ‚Üí <code>1.0.1</code></td><td>–ü–∞—Ç—á, –Ω–µ–±–æ–ª—å—à–æ–µ —É–ª—É—á—à–µ–Ω–∏–µ</td><td>–ü–æ–ª–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å</td></tr>
<tr><td><code>1.0.0</code> ‚Üí <code>1.1.0</code></td><td>–ù–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏</td><td>–ö–æ–Ω—Ç—Ä–∞–∫—Ç—ã –Ω–µ –∏–∑–º–µ–Ω–∏–ª–∏—Å—å</td></tr>
<tr><td><code>1.0.0</code> ‚Üí <code>2.0.0</code></td><td>Breaking changes</td><td>–ö–æ–Ω—Ç—Ä–∞–∫—Ç—ã –∏–∑–º–µ–Ω–∏–ª–∏—Å—å</td></tr>
</tbody></table>
</div>
<h3 id="–ö–æ–≥–¥–∞-–º–æ–∂–Ω–æ-–ø–æ–∂–µ—Ä—Ç–≤–æ–≤–∞—Ç—å-–ø—Ä–∏–Ω—Ü–∏–ø–æ–º"><a class="header" href="#–ö–æ–≥–¥–∞-–º–æ–∂–Ω–æ-–ø–æ–∂–µ—Ä—Ç–≤–æ–≤–∞—Ç—å-–ø—Ä–∏–Ω—Ü–∏–ø–æ–º">–ö–æ–≥–¥–∞ –º–æ–∂–Ω–æ –ø–æ–∂–µ—Ä—Ç–≤–æ–≤–∞—Ç—å –ø—Ä–∏–Ω—Ü–∏–ø–æ–º</a></h3>
<p><strong>–ü—Ä–∏ –ø—Ä–æ—Ç–æ—Ç–∏–ø–∏—Ä–æ–≤–∞–Ω–∏–∏</strong> ‚Äî –∫–æ–≥–¥–∞ –≤–∞–∂–Ω–æ –±—ã—Å—Ç—Ä–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –∏–¥–µ—é:</p>
<ul>
<li>–ù–µ –∑–∞—â–∏—â–∞–µ–º –∫–æ–¥ –æ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–π</li>
<li>–ì–ª–∞–≤–Ω–∞—è —Ü–µ–ª—å ‚Äî "—á—Ç–æ–±—ã —Ö–æ—Ç—è –±—ã —Ä–∞–±–æ—Ç–∞–ª–æ"</li>
<li>–¢–∞–∫–æ–π –∫–æ–¥ –º–æ–∂–µ—Ç –±—ã—Ç—å –≤—ã–±—Ä–æ—à–µ–Ω</li>
</ul>
<p><strong>–î–ª—è –¥–æ–ª–≥–æ–∂–∏–≤—É—â–µ–≥–æ –∫–æ–¥–∞</strong> ‚Äî –ø—Ä–∏–Ω—Ü–∏–ø –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω:</p>
<ul>
<li>–í—ã–¥–µ–ª—è–µ–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã</li>
<li>–ò—Å–ø–æ–ª—å–∑—É–µ–º –∫–æ–Ω—Ç—Ä–∞–∫—Ç–Ω–æ–µ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ</li>
<li>–ü–æ–∫—Ä—ã–≤–∞–µ–º —Ç–µ—Å—Ç–∞–º–∏</li>
</ul>
<hr />
<h2 id="2-indirection-–ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ"><a class="header" href="#2-indirection-–ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ">2. Indirection (–ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ)</a></h2>
<h3 id="–°—É—Ç—å-–ø—Ä–∏–Ω—Ü–∏–ø–∞-3"><a class="header" href="#–°—É—Ç—å-–ø—Ä–∏–Ω—Ü–∏–ø–∞-3">–°—É—Ç—å –ø—Ä–∏–Ω—Ü–∏–ø–∞</a></h3>
<p><strong>Indirection</strong> ‚Äî —ç—Ç–æ –≤–≤–µ–¥–µ–Ω–∏–µ –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω–æ–π –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–∏ –º–µ–∂–¥—É –¥–≤—É–º—è –¥—Ä—É–≥–∏–º–∏, —á—Ç–æ–±—ã —É–º–µ–Ω—å—à–∏—Ç—å –∏—Ö –∑–∞—Ü–µ–ø–ª–µ–Ω–∏–µ.</p>
<h3 id="–ó–∞—á–µ–º-–Ω—É–∂–Ω–æ"><a class="header" href="#–ó–∞—á–µ–º-–Ω—É–∂–Ω–æ">–ó–∞—á–µ–º –Ω—É–∂–Ω–æ</a></h3>
<ul>
<li>–°–Ω–∏–∂–∞–µ—Ç coupling –º–µ–∂–¥—É –∞–±—Å—Ç—Ä–∞–∫—Ü–∏—è–º–∏</li>
<li>–ü–æ–∑–≤–æ–ª—è–µ—Ç –º–µ–Ω—è—Ç—å –æ–¥–Ω—É –∞–±—Å—Ç—Ä–∞–∫—Ü–∏—é –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç –¥—Ä—É–≥–æ–π</li>
<li>–†–µ–∞–ª–∏–∑—É–µ—Ç Protected Variations</li>
</ul>
<h3 id="–ü—Ä–∏–º–µ—Ä—ã-–ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤-—Å-indirection"><a class="header" href="#–ü—Ä–∏–º–µ—Ä—ã-–ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤-—Å-indirection">–ü—Ä–∏–º–µ—Ä—ã –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤ —Å Indirection</a></h3>
<ul>
<li><strong>MVC (Model-View-Controller)</strong> ‚Äî Controller –∑–Ω–∞–µ—Ç –æ Model –∏ View, –Ω–æ –æ–Ω–∏ –Ω–µ –∑–Ω–∞—é—Ç –¥—Ä—É–≥ –æ –¥—Ä—É–≥–∞</li>
<li><strong>Bridge (–ú–æ—Å—Ç)</strong> ‚Äî —Ç—Ä–µ—Ç—å—è –∞–±—Å—Ç—Ä–∞–∫—Ü–∏—è —Å–≤—è–∑—ã–≤–∞–µ—Ç –¥–≤–µ –¥—Ä—É–≥–∏—Ö</li>
</ul>
<h3 id="–ü—Ä–∏–º–µ—Ä-—Å–µ—Ä–≤–∏—Å-–∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏"><a class="header" href="#–ü—Ä–∏–º–µ—Ä-—Å–µ—Ä–≤–∏—Å-–∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏">–ü—Ä–∏–º–µ—Ä: —Å–µ—Ä–≤–∏—Å –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏</a></h3>
<pre><code class="language-typescript">// –ë–ï–ó Indirection: Logger –∏ UserRights –Ω–∞–ø—Ä—è–º—É—é —Å–≤—è–∑–∞–Ω—ã —Å –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–æ–π
class AuthService {
  async validateUser(credentials: Credentials): Promise&lt;boolean&gt; {
    // –ü—Ä—è–º—ã–µ –≤—ã–∑–æ–≤—ã –∫ –ª–æ–≥–≥–µ—Ä—É –∏–∑ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏
    logger.info('Validating user...');
    const user = await db.findUser(credentials.email);

    if (!user) {
      logger.warn('User not found');
      return false;
    }
    // ...
  }
}

// –° Indirection: AuthController –∫–∞–∫ –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–π —Å–ª–æ–π
class AuthController {
  constructor(
    private logger: Logger,
    private userService: UserService,
    private rightsService: RightsService
  ) {}

  async authenticate(credentials: Credentials): Promise&lt;AuthResult&gt; {
    // –ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä –∫–æ–æ—Ä–¥–∏–Ω–∏—Ä—É–µ—Ç —Ä–∞–±–æ—Ç—É, –Ω–æ –Ω–µ —Å–æ–¥–µ—Ä–∂–∏—Ç –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫—É
    const user = await this.userService.validate(credentials);

    if (!user) {
      this.logger.warn('Authentication failed');
      return { success: false };
    }

    const rights = await this.rightsService.getUserRights(user.id);
    this.logger.info(`User ${user.id} authenticated with rights: ${rights}`);

    return { success: true, user, rights };
  }
}
</code></pre>
<h3 id="–°–ø–æ—Å–æ–±—ã-—Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏-indirection"><a class="header" href="#–°–ø–æ—Å–æ–±—ã-—Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏-indirection">–°–ø–æ—Å–æ–±—ã —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ Indirection</a></h3>
<p>Indirection –Ω–µ –ø—Ä–∏–≤—è–∑–∞–Ω –∫ –û–û–ü. –≠—Ç–æ –º–æ–∂–µ—Ç –±—ã—Ç—å:</p>
<ul>
<li><strong>–ö–ª–∞—Å—Å</strong> ‚Äî –∞–≥—Ä–µ–≥–∏—Ä—É–µ—Ç –¥–≤–µ –¥—Ä—É–≥–∏–µ –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–∏</li>
<li><strong>–§—É–Ω–∫—Ü–∏—è</strong> ‚Äî –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∫–∞–∫ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã</li>
<li><strong>–ú–æ–¥—É–ª—å</strong> ‚Äî —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç —Ñ—É–Ω–∫—Ü–∏–∏, —Ä–∞–±–æ—Ç–∞—é—â–∏–µ —Å –¥—Ä—É–≥–∏–º–∏ –º–æ–¥—É–ª—è–º–∏</li>
</ul>
<hr />
<h2 id="3-pure-fabrication-–ß–∏—Å—Ç–∞—è-–≤—ã–¥—É–º–∫–∞"><a class="header" href="#3-pure-fabrication-–ß–∏—Å—Ç–∞—è-–≤—ã–¥—É–º–∫–∞">3. Pure Fabrication (–ß–∏—Å—Ç–∞—è –≤—ã–¥—É–º–∫–∞)</a></h2>
<h3 id="–°—É—Ç—å-–ø—Ä–∏–Ω—Ü–∏–ø–∞-4"><a class="header" href="#–°—É—Ç—å-–ø—Ä–∏–Ω—Ü–∏–ø–∞-4">–°—É—Ç—å –ø—Ä–∏–Ω—Ü–∏–ø–∞</a></h3>
<p><strong>Pure Fabrication</strong> ‚Äî —ç—Ç–æ –∞–±—Å—Ç—Ä–∞–∫—Ü–∏—è, –∫–æ—Ç–æ—Ä–∞—è –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –≤ –ø—Ä–µ–¥–º–µ—Ç–Ω–æ–π –æ–±–ª–∞—Å—Ç–∏, –Ω–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–∞ –¥–ª—è —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —Å–∏—Å—Ç–µ–º—ã.</p>
<h3 id="–ü—Ä–∏–º–µ—Ä—ã-—á–∏—Å—Ç—ã—Ö-–≤—ã–¥—É–º–æ–∫"><a class="header" href="#–ü—Ä–∏–º–µ—Ä—ã-—á–∏—Å—Ç—ã—Ö-–≤—ã–¥—É–º–æ–∫">–ü—Ä–∏–º–µ—Ä—ã —á–∏—Å—Ç—ã—Ö –≤—ã–¥—É–º–æ–∫</a></h3>
<div class="table-wrapper"><table><thead><tr><th>–ü—Ä–µ–¥–º–µ—Ç–Ω–∞—è –æ–±–ª–∞—Å—Ç—å</th><th>–ß–∏—Å—Ç–∞—è –≤—ã–¥—É–º–∫–∞</th></tr></thead><tbody>
<tr><td>–ü–∞—Ü–∏–µ–Ω—Ç, –ó–∞–∫–∞–∑, –°–æ—Ç—Ä—É–¥–Ω–∏–∫</td><td>EventEmitter</td></tr>
<tr><td>–ü–æ–∫—É–ø–∫–∞, –¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç</td><td>AbortController</td></tr>
<tr><td>–ù–∞–∫–ª–∞–¥–Ω–∞—è, –ê–Ω–∞–ª–∏–∑</td><td>–¢–∞–π–º–µ—Ä—ã, –°–∏–≥–Ω–∞–ª—ã</td></tr>
<tr><td>‚Äî</td><td>–ú—é—Ç–µ–∫—Å—ã, –°–µ–º–∞—Ñ–æ—Ä—ã</td></tr>
<tr><td>‚Äî</td><td>–§–∞–π–ª–æ–≤—ã–µ —Ö–µ–Ω–¥–ª—ã</td></tr>
<tr><td>‚Äî</td><td>–°–æ–∫–µ—Ç—ã, –°—Ç—Ä–∏–º—ã</td></tr>
</tbody></table>
</div>
<h3 id="–ü–æ—á–µ–º—É-—ç—Ç–æ-–≤–∞–∂–Ω–æ-1"><a class="header" href="#–ü–æ—á–µ–º—É-—ç—Ç–æ-–≤–∞–∂–Ω–æ-1">–ü–æ—á–µ–º—É —ç—Ç–æ –≤–∞–∂–Ω–æ</a></h3>
<p>–¢—Ä–∞–¥–∏—Ü–∏–æ–Ω–Ω–æ–µ –û–û–ü —É—á–∏—Ç –º–æ–¥–µ–ª–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–∞–ª—å–Ω—ã–π –º–∏—Ä (–∫–æ—à–µ—á–∫–∏, —Å–æ–±–∞—á–∫–∏). –ù–æ –≤ —Å–∏—Å—Ç–µ–º–Ω–æ–º –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–∏ <strong>–≤—Å—ë</strong> ‚Äî —á–∏—Å—Ç–∞—è –≤—ã–¥—É–º–∫–∞:</p>
<pre><code class="language-javascript">// –í—Å—ë —ç—Ç–æ ‚Äî —á–∏—Å—Ç—ã–µ –≤—ã–¥—É–º–∫–∏, –Ω–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –º–∏—Ä–µ
const controller = new AbortController();
const signal = controller.signal;
const emitter = new EventEmitter();
const stream = new Readable();
const mutex = new Mutex();
</code></pre>
<h3 id="–£—Ä–æ–≤–Ω–∏-—á–∏—Å—Ç—ã—Ö-–≤—ã–¥—É–º–æ–∫"><a class="header" href="#–£—Ä–æ–≤–Ω–∏-—á–∏—Å—Ç—ã—Ö-–≤—ã–¥—É–º–æ–∫">–£—Ä–æ–≤–Ω–∏ —á–∏—Å—Ç—ã—Ö –≤—ã–¥—É–º–æ–∫</a></h3>
<p>–ß–∏—Å—Ç—ã–µ –≤—ã–¥—É–º–∫–∏ —Å—É—â–µ—Å—Ç–≤—É—é—Ç –Ω–∞ —Ä–∞–∑–Ω—ã—Ö —É—Ä–æ–≤–Ω—è—Ö –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–∏:</p>
<pre><code>‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  –í—ã—Å–æ–∫–æ—É—Ä–æ–≤–Ω–µ–≤—ã–µ: Controller, Endpoint  ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ  –ü—Ä–∏–∫–ª–∞–¥–Ω—ã–µ: EventEmitter, Stream       ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ  –°–∏—Å—Ç–µ–º–Ω—ã–µ: File Handle, Socket         ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ  –û–°: Mutex, Semaphore, Memory Page      ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
</code></pre>
<h3 id="–ö—É–ª—å—Ç—É—Ä–∞-javascript"><a class="header" href="#–ö—É–ª—å—Ç—É—Ä–∞-javascript">–ö—É–ª—å—Ç—É—Ä–∞ JavaScript</a></h3>
<p>–í JS/TS –ø—Ä–∏–Ω—è—Ç–æ –º–æ–¥–µ–ª–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–µ–¥–º–µ—Ç–Ω—É—é –æ–±–ª–∞—Å—Ç—å —á–µ—Ä–µ–∑ –ø—Ä–æ—Å—Ç—ã–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö (–∫–∞–∫ –∑–∞–ø–∏—Å–∏ –≤ –ë–î), –∞ –Ω–µ —á–µ—Ä–µ–∑ –∫–ª–∞—Å—Å—ã —Å –º–µ—Ç–æ–¥–∞–º–∏:</p>
<pre><code class="language-typescript">// JavaScript –∫—É–ª—å—Ç—É—Ä–∞: –ø—Ä–æ—Å—Ç—ã–µ –æ–±—ä–µ–∫—Ç—ã –¥–ª—è –ø—Ä–µ–¥–º–µ—Ç–Ω–æ–π –æ–±–ª–∞—Å—Ç–∏
interface Patient {
  id: string;
  name: string;
  dateOfBirth: Date;
  diagnoses: Diagnosis[];
}

// –ß–∏—Å—Ç–∞—è –≤—ã–¥—É–º–∫–∞: —Å–µ—Ä–≤–∏—Å –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ø–∞—Ü–∏–µ–Ω—Ç–∞–º–∏
class PatientService {
  constructor(private db: Database, private events: EventEmitter) {}

  async createPatient(data: CreatePatientDTO): Promise&lt;Patient&gt; {
    const patient = await this.db.patients.create(data);
    this.events.emit('patient:created', patient);
    return patient;
  }
}
</code></pre>
<h3 id="–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ-–ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ"><a class="header" href="#–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ-–ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ">–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ</a></h3>
<p>–ú–æ–Ω–∞–¥—ã –∏ —Ñ—É–Ω–∫—Ç–æ—Ä—ã ‚Äî —Ç–æ–∂–µ —á–∏—Å—Ç—ã–µ –≤—ã–¥—É–º–∫–∏:</p>
<pre><code class="language-typescript">// Maybe ‚Äî —á–∏—Å—Ç–∞—è –≤—ã–¥—É–º–∫–∞ –∏–∑ –§–ü
type Maybe&lt;T&gt; = T | null;

// Either ‚Äî —Ç–æ–∂–µ —á–∏—Å—Ç–∞—è –≤—ã–¥—É–º–∫–∞
type Either&lt;L, R&gt; = { type: 'left'; value: L } | { type: 'right'; value: R };
</code></pre>
<hr />
<h2 id="4-polymorphism-–ü–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º-–≤-grasp"><a class="header" href="#4-polymorphism-–ü–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º-–≤-grasp">4. Polymorphism (–ü–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º –≤ GRASP)</a></h2>
<h3 id="–û—Ç–ª–∏—á–∏–µ-–æ—Ç-–û–û–ü-–ø–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º–∞"><a class="header" href="#–û—Ç–ª–∏—á–∏–µ-–æ—Ç-–û–û–ü-–ø–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º–∞">–û—Ç–ª–∏—á–∏–µ –æ—Ç –û–û–ü-–ø–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º–∞</a></h3>
<p>GRASP-–ø–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º ‚Äî —ç—Ç–æ –Ω–∞–¥—Å—Ç—Ä–æ–π–∫–∞ –Ω–∞–¥ –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–º –ø–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º–æ–º. –û–Ω –≥–æ–≤–æ—Ä–∏—Ç –æ —Ç–æ–º, —á—Ç–æ <strong>–∑–∞ –≤–Ω–µ—à–Ω–∏–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º –º–æ–∂–µ—Ç –±—ã—Ç—å –ª—é–±–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è</strong>.</p>
<h3 id="–ü—Ä–∏–º–µ—Ä—ã"><a class="header" href="#–ü—Ä–∏–º–µ—Ä—ã">–ü—Ä–∏–º–µ—Ä—ã</a></h3>
<pre><code class="language-typescript">// –í–Ω–µ—à–Ω–∏–π –∫–æ–Ω—Ç—Ä–∞–∫—Ç —Å—Ç—Ä–∏–º–æ–≤ ‚Äî –æ–¥–∏–Ω
interface ReadableStream {
  read(): Buffer | null;
  on(event: 'data', listener: (chunk: Buffer) =&gt; void): void;
  on(event: 'end', listener: () =&gt; void): void;
}

// –ù–æ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –º–æ–≥—É—Ç –±—ã—Ç—å —Ä–∞–∑–Ω—ã–º–∏:
// - FileReadStream —á–∏—Ç–∞–µ—Ç —Å –¥–∏—Å–∫–∞
// - HttpIncomingMessage —á–∏—Ç–∞–µ—Ç –∏–∑ —Å–µ—Ç–∏
// - MemoryStream —á–∏—Ç–∞–µ—Ç –∏–∑ –ø–∞–º—è—Ç–∏
// –í–Ω–µ—à–Ω–∏–π –∫–æ–¥ –Ω–µ –∑–Ω–∞–µ—Ç –∏ –Ω–µ –¥–æ–ª–∂–µ–Ω –∑–Ω–∞—Ç—å –æ –¥–µ—Ç–∞–ª—è—Ö
</code></pre>
<h3 id="–†–µ–∞–ª–∏–∑–∞—Ü–∏–∏-–ø—Ä–∏–≤–∞—Ç–Ω–æ—Å—Ç–∏-–≤-javascript"><a class="header" href="#–†–µ–∞–ª–∏–∑–∞—Ü–∏–∏-–ø—Ä–∏–≤–∞—Ç–Ω–æ—Å—Ç–∏-–≤-javascript">–†–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –ø—Ä–∏–≤–∞—Ç–Ω–æ—Å—Ç–∏ –≤ JavaScript</a></h3>
<p>–û–¥–∏–Ω –∏ —Ç–æ—Ç –∂–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å ‚Äî —Ä–∞–∑–Ω—ã–µ —Å–ø–æ—Å–æ–±—ã —Å–∫—Ä—ã—Ç—å –¥–∞–Ω–Ω—ã–µ:</p>
<pre><code class="language-typescript">// 1. –°–∏–º–≤–æ–ª—ã
const privateData = Symbol('private');
class ServiceV1 {
  [privateData] = { secret: 'value' };
}

// 2. –ó–∞–º—ã–∫–∞–Ω–∏—è
function createServiceV2() {
  const privateData = { secret: 'value' };
  return {
    getPublicData() { return privateData.secret; }
  };
}

// 3. –ü—Ä–∏–≤–∞—Ç–Ω—ã–µ –ø–æ–ª—è ES2022
class ServiceV3 {
  #privateData = { secret: 'value' };
  getPublicData() { return this.#privateData.secret; }
}

// –í–Ω–µ—à–Ω–∏–π –∫–æ–Ω—Ç—Ä–∞–∫—Ç —É –≤—Å–µ—Ö –æ–¥–∏–Ω–∞–∫–æ–≤ ‚Äî –µ—Å—Ç—å –º–µ—Ç–æ–¥ getPublicData()
</code></pre>
<h3 id="thenable-–∫–∞–∫-–ø—Ä–∏–º–µ—Ä-–ø–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º–∞"><a class="header" href="#thenable-–∫–∞–∫-–ø—Ä–∏–º–µ—Ä-–ø–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º–∞">Thenable –∫–∞–∫ –ø—Ä–∏–º–µ—Ä –ø–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º–∞</a></h3>
<pre><code class="language-typescript">// –ö–æ–Ω—Ç—Ä–∞–∫—Ç thenable
interface Thenable&lt;T&gt; {
  then&lt;R&gt;(onFulfilled: (value: T) =&gt; R): Thenable&lt;R&gt;;
}

// –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π Promise ‚Äî –æ–¥–Ω–∞ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è
const promise = Promise.resolve(42);

// –ö–∞—Å—Ç–æ–º–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è ‚Äî –¥—Ä—É–≥–∞—è
class CustomThenable&lt;T&gt; implements Thenable&lt;T&gt; {
  constructor(private value: T) {}
  then&lt;R&gt;(onFulfilled: (value: T) =&gt; R): CustomThenable&lt;R&gt; {
    return new CustomThenable(onFulfilled(this.value));
  }
}

// –û–±–µ —Ä–∞–±–æ—Ç–∞—é—Ç —Å async/await –±–ª–∞–≥–æ–¥–∞—Ä—è —Å–æ–±–ª—é–¥–µ–Ω–∏—é –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞
</code></pre>
<hr />
<h2 id="5-controller-–ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä"><a class="header" href="#5-controller-–ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä">5. Controller (–ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä)</a></h2>
<h3 id="–°—É—Ç—å-–ø—Ä–∏–Ω—Ü–∏–ø–∞-5"><a class="header" href="#–°—É—Ç—å-–ø—Ä–∏–Ω—Ü–∏–ø–∞-5">–°—É—Ç—å –ø—Ä–∏–Ω—Ü–∏–ø–∞</a></h3>
<p><strong>Controller</strong> ‚Äî —ç—Ç–æ –∞–±—Å—Ç—Ä–∞–∫—Ü–∏—è, –∫–æ—Ç–æ—Ä–∞—è –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –≤–Ω–µ—à–Ω—é—é –Ω–∞–≥—Ä—É–∑–∫—É –∏ –∑–∞—â–∏—â–∞–µ—Ç —Å–∏—Å—Ç–µ–º—É, –Ω–æ <strong>–Ω–µ —Å–æ–¥–µ—Ä–∂–∏—Ç –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏</strong>.</p>
<h3 id="–û–±—è–∑–∞–Ω–Ω–æ—Å—Ç–∏-–∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞"><a class="header" href="#–û–±—è–∑–∞–Ω–Ω–æ—Å—Ç–∏-–∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞">–û–±—è–∑–∞–Ω–Ω–æ—Å—Ç–∏ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞</a></h3>
<ol>
<li>–ü—Ä–∏—ë–º –≤–Ω–µ—à–Ω–∏—Ö –∑–∞–ø—Ä–æ—Å–æ–≤</li>
<li>–í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö</li>
<li>–ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤</li>
<li>–ö—Ä–∏–ø—Ç–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è (—Ç–æ–∫–µ–Ω—ã, –ø–æ–¥–ø–∏—Å–∏)</li>
<li>–î–µ–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–∞–±–æ—Ç—ã —Å–µ—Ä–≤–∏—Å–∞–º</li>
</ol>
<h3 id="–ß–µ–≥–æ-–∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä-–ù–ï-–¥–æ–ª–∂–µ–Ω-–¥–µ–ª–∞—Ç—å"><a class="header" href="#–ß–µ–≥–æ-–∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä-–ù–ï-–¥–æ–ª–∂–µ–Ω-–¥–µ–ª–∞—Ç—å">–ß–µ–≥–æ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä –ù–ï –¥–æ–ª–∂–µ–Ω –¥–µ–ª–∞—Ç—å</a></h3>
<ul>
<li>–°–æ–¥–µ—Ä–∂–∞—Ç—å –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫—É</li>
<li>–°–æ–∑–¥–∞–≤–∞—Ç—å –æ–±—ä–µ–∫—Ç—ã –ø—Ä–µ–¥–º–µ—Ç–Ω–æ–π –æ–±–ª–∞—Å—Ç–∏</li>
<li>–ù–∞–ø—Ä—è–º—É—é —Ä–∞–±–æ—Ç–∞—Ç—å —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö</li>
<li>–ü—Ä–∏–Ω–∏–º–∞—Ç—å –±–∏–∑–Ω–µ—Å-—Ä–µ—à–µ–Ω–∏—è</li>
</ul>
<h3 id="–¢–µ—Ä–º–∏–Ω–æ–ª–æ–≥–∏—è-–¥–ª—è-nodejs"><a class="header" href="#–¢–µ—Ä–º–∏–Ω–æ–ª–æ–≥–∏—è-–¥–ª—è-nodejs">–¢–µ—Ä–º–∏–Ω–æ–ª–æ–≥–∏—è –¥–ª—è Node.js</a></h3>
<p>–ê–≤—Ç–æ—Ä –ª–µ–∫—Ü–∏–∏ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–µ—Ä–º–∏–Ω <strong>endpoint</strong> –≤–º–µ—Å—Ç–æ "–∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä":</p>
<div class="table-wrapper"><table><thead><tr><th>–¢–µ—Ä–º–∏–Ω</th><th>–ó–Ω–∞—á–µ–Ω–∏–µ</th></tr></thead><tbody>
<tr><td><strong>Front Controller</strong></td><td>–û–±—â–∞—è —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞, –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –≤—Å–µ –∑–∞–ø—Ä–æ—Å—ã</td></tr>
<tr><td><strong>Controller / Endpoint</strong></td><td>–û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –º–∞—Ä—à—Ä—É—Ç–∞</td></tr>
<tr><td><strong>Service</strong></td><td>–ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞</td></tr>
</tbody></table>
</div>
<pre><code class="language-typescript">// Front Controller ‚Äî –æ–±—ã—á–Ω–æ —á–∞—Å—Ç—å —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∞ (Express, Fastify, NestJS)
const app = express();

// Endpoint (–∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä) ‚Äî –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –∑–∞–ø—Ä–æ—Å, –¥–µ–ª–µ–≥–∏—Ä—É–µ—Ç —Å–µ—Ä–≤–∏—Å—É
app.post('/api/orders', async (req, res) =&gt; {
  // 1. –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
  const validation = orderSchema.safeParse(req.body);
  if (!validation.success) {
    return res.status(400).json({ errors: validation.error.issues });
  }

  // 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
  const user = await authService.validateToken(req.headers.authorization);
  if (!user) {
    return res.status(401).json({ error: 'Unauthorized' });
  }

  // 3. –î–µ–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏ —Å–µ—Ä–≤–∏—Å—É
  const order = await orderService.createOrder(user.id, validation.data);

  // 4. –§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Ç–≤–µ—Ç–∞
  return res.status(201).json(order);
});

// Service ‚Äî —Å–æ–¥–µ—Ä–∂–∏—Ç –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫—É
class OrderService {
  async createOrder(userId: string, data: CreateOrderDTO): Promise&lt;Order&gt; {
    // –ó–¥–µ—Å—å –≤—Å—è –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞: —Ä–∞—Å—á—ë—Ç—ã, –ø—Ä–∞–≤–∏–ª–∞, —Ä–∞–±–æ—Ç–∞ —Å –ë–î
    const order = new Order(userId, data.items);
    await this.calculateTotals(order);
    await this.applyDiscounts(order);
    return this.orderRepository.save(order);
  }
}
</code></pre>
<h3 id="–†–∞–∑–Ω—ã–µ-–ø—Ä–æ—Ç–æ–∫–æ–ª—ã--–æ–¥–Ω–∞-–∫–æ–Ω—Ü–µ–ø—Ü–∏—è"><a class="header" href="#–†–∞–∑–Ω—ã–µ-–ø—Ä–æ—Ç–æ–∫–æ–ª—ã--–æ–¥–Ω–∞-–∫–æ–Ω—Ü–µ–ø—Ü–∏—è">–†–∞–∑–Ω—ã–µ –ø—Ä–æ—Ç–æ–∫–æ–ª—ã ‚Äî –æ–¥–Ω–∞ –∫–æ–Ω—Ü–µ–ø—Ü–∏—è</a></h3>
<p>–ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã/endpoints —Ä–∞–±–æ—Ç–∞—é—Ç —Å –ª—é–±—ã–º –ø—Ä–æ—Ç–æ–∫–æ–ª–æ–º:</p>
<pre><code class="language-typescript">// HTTP
app.get('/api/users/:id', userController.getById);

// WebSocket
ws.on('message', (data) =&gt; messageController.handle(data));

// gRPC
server.addService(UserService, userController);

// UDP
udpServer.on('message', (msg) =&gt; packetController.handle(msg));
</code></pre>
<hr />
<h2 id="–ö–æ–≥–¥–∞-–ø—Ä–∏–º–µ–Ω—è—Ç—å-–ø—Ä–∏–Ω—Ü–∏–ø—ã-grasp"><a class="header" href="#–ö–æ–≥–¥–∞-–ø—Ä–∏–º–µ–Ω—è—Ç—å-–ø—Ä–∏–Ω—Ü–∏–ø—ã-grasp">–ö–æ–≥–¥–∞ –ø—Ä–∏–º–µ–Ω—è—Ç—å –ø—Ä–∏–Ω—Ü–∏–ø—ã GRASP</a></h2>
<h3 id="–ú–∞—Ç—Ä–∏—Ü–∞-–ø—Ä–∏–Ω—è—Ç–∏—è-—Ä–µ—à–µ–Ω–∏–π"><a class="header" href="#–ú–∞—Ç—Ä–∏—Ü–∞-–ø—Ä–∏–Ω—è—Ç–∏—è-—Ä–µ—à–µ–Ω–∏–π">–ú–∞—Ç—Ä–∏—Ü–∞ –ø—Ä–∏–Ω—è—Ç–∏—è —Ä–µ—à–µ–Ω–∏–π</a></h3>
<div class="table-wrapper"><table><thead><tr><th>–°–∏—Ç—É–∞—Ü–∏—è</th><th>–ü—Ä–∏–º–µ–Ω—è—Ç—å —Å—Ç—Ä–æ–≥–æ?</th><th>–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π</th></tr></thead><tbody>
<tr><td>–ü—Ä–æ—Ç–æ—Ç–∏–ø –Ω–∞ –¥–µ–Ω—å</td><td>–ù–µ—Ç</td><td>–ì–ª–∞–≤–Ω–æ–µ ‚Äî —á—Ç–æ–±—ã —Ä–∞–±–æ—Ç–∞–ª–æ</td></tr>
<tr><td>MVP –Ω–∞ –Ω–µ–¥–µ–ª—é</td><td>–ß–∞—Å—Ç–∏—á–Ω–æ</td><td>–ë–∞–∑–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞</td></tr>
<tr><td>–ü—Ä–æ–¥—É–∫—Ç –Ω–∞ –º–µ—Å—è—Ü</td><td>–î–∞</td><td>–ü–æ–ª–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞</td></tr>
<tr><td>–î–æ–ª–≥–æ–∂–∏–≤—É—â–∞—è —Å–∏—Å—Ç–µ–º–∞</td><td>–û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ</td><td>–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è + —Ç–µ—Å—Ç—ã</td></tr>
</tbody></table>
</div>
<h3 id="–í—Ä–µ–º—è-vs-–ö–∞—á–µ—Å—Ç–≤–æ"><a class="header" href="#–í—Ä–µ–º—è-vs-–ö–∞—á–µ—Å—Ç–≤–æ">–í—Ä–µ–º—è vs –ö–∞—á–µ—Å—Ç–≤–æ</a></h3>
<p>–û–¥–Ω—É –∏ —Ç—É –∂–µ –∑–∞–¥–∞—á—É (10 endpoints) –º–æ–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å:</p>
<ul>
<li><strong>–ó–∞ –¥–µ–Ω—å</strong> ‚Äî —Ä–∞–±–æ—Ç–∞–µ—Ç, –Ω–æ —Ö—Ä—É–ø–∫–æ</li>
<li><strong>–ó–∞ –Ω–µ–¥–µ–ª—é</strong> ‚Äî —É–¥–æ–±–Ω–æ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å</li>
<li><strong>–ó–∞ –º–µ—Å—è—Ü</strong> ‚Äî –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–æ, –æ—Ç—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–æ, –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–æ</li>
<li><strong>–ó–∞ –≥–æ–¥</strong> ‚Äî –≥–æ—Ç–æ–≤–æ –∫ –º–∏–ª–ª–∏–æ–Ω—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π</li>
</ul>
<p>–í—ã–±–æ—Ä –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –±–∏–∑–Ω–µ—Å-—Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π –∏ —Å—Ä–æ–∫–∞ –∂–∏–∑–Ω–∏ –∫–æ–¥–∞.</p>
<hr />
<h2 id="–ö–ª—é—á–µ–≤—ã–µ-–≤—ã–≤–æ–¥—ã-8"><a class="header" href="#–ö–ª—é—á–µ–≤—ã–µ-–≤—ã–≤–æ–¥—ã-8">–ö–ª—é—á–µ–≤—ã–µ –≤—ã–≤–æ–¥—ã</a></h2>
<ol>
<li>
<p><strong>GRASP ‚Äî —ç—Ç–æ —Ñ–∏–ª–æ—Å–æ—Ñ–∏—è</strong>, –∞ –Ω–µ —Å—Ç—Ä–æ–≥–∏–µ –ø—Ä–∞–≤–∏–ª–∞. –ü—Ä–∏–º–µ–Ω—è–π—Ç–µ —Å —É–º–æ–º.</p>
</li>
<li>
<p><strong>Protected Variations</strong> ‚Äî –∑–∞—â–∏—â–∞–π—Ç–µ –∫–æ–¥ –æ—Ç –∫–∞—Å–∫–∞–¥–Ω—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π —á–µ—Ä–µ–∑ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –∏ –∫–æ–Ω—Ç—Ä–∞–∫—Ç—ã.</p>
</li>
<li>
<p><strong>Indirection</strong> ‚Äî –≤–≤–æ–¥–∏—Ç–µ –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–µ –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–∏ –¥–ª—è —Å–Ω–∏–∂–µ–Ω–∏—è coupling.</p>
</li>
<li>
<p><strong>Pure Fabrication</strong> ‚Äî –Ω–µ –±–æ–π—Ç–µ—Å—å —Å–æ–∑–¥–∞–≤–∞—Ç—å —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–∏, –Ω–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –≤ –ø—Ä–µ–¥–º–µ—Ç–Ω–æ–π –æ–±–ª–∞—Å—Ç–∏.</p>
</li>
<li>
<p><strong>Polymorphism</strong> ‚Äî –∑–∞ –æ–¥–Ω–∏–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º –º–æ–∂–µ—Ç –±—ã—Ç—å –ª—é–±–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è.</p>
</li>
<li>
<p><strong>Controller</strong> ‚Äî —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞ –≤ —Å–∏—Å—Ç–µ–º—É, –±–µ–∑ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏.</p>
</li>
<li>
<p><strong>–ö–æ–Ω—Ç–µ–∫—Å—Ç –≤–∞–∂–µ–Ω</strong> ‚Äî –ø—Ä–∏ –ø—Ä–æ—Ç–æ—Ç–∏–ø–∏—Ä–æ–≤–∞–Ω–∏–∏ –º–æ–∂–Ω–æ –∂–µ—Ä—Ç–≤–æ–≤–∞—Ç—å –ø—Ä–∏–Ω—Ü–∏–ø–∞–º–∏ —Ä–∞–¥–∏ —Å–∫–æ—Ä–æ—Å—Ç–∏.</p>
</li>
</ol>
<hr />
<h2 id="–°–≤—è–∑–∞–Ω–Ω—ã–µ-–º–∞—Ç–µ—Ä–∏–∞–ª—ã"><a class="header" href="#–°–≤—è–∑–∞–Ω–Ω—ã–µ-–º–∞—Ç–µ—Ä–∏–∞–ª—ã">–°–≤—è–∑–∞–Ω–Ω—ã–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã</a></h2>
<ul>
<li>–õ–µ–∫—Ü–∏—è –ø–æ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–Ω–æ–º—É –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—é (—Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è –∞–≤—Ç–æ—Ä–∞)</li>
<li>GoF –ø–∞—Ç—Ç–µ—Ä–Ω—ã: Adapter, Facade, Bridge</li>
<li>MVC, MVP, MVVM –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã</li>
<li>SOLID –ø—Ä–∏–Ω—Ü–∏–ø—ã</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="–ü–∞—Ç—Ç–µ—Ä–Ω—ã-gof-–∏-–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞-—Å–µ—Ä–≤–µ—Ä–∞-–≤-nodejs-–ê–∫–∞–¥–µ–º–∏—á–µ—Å–∫–∏–π-–∫–æ–Ω—Å–ø–µ–∫—Ç"><a class="header" href="#–ü–∞—Ç—Ç–µ—Ä–Ω—ã-gof-–∏-–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞-—Å–µ—Ä–≤–µ—Ä–∞-–≤-nodejs-–ê–∫–∞–¥–µ–º–∏—á–µ—Å–∫–∏–π-–∫–æ–Ω—Å–ø–µ–∫—Ç">–ü–∞—Ç—Ç–µ—Ä–Ω—ã GoF –∏ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–µ—Ä–≤–µ—Ä–∞ –≤ Node.js: –ê–∫–∞–¥–µ–º–∏—á–µ—Å–∫–∏–π –∫–æ–Ω—Å–ø–µ–∫—Ç</a></h1>
<h2 id="–ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ"><a class="header" href="#–ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ">–ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ</a></h2>
<ul>
<li><strong>–ò—Å—Ç–æ—á–Ω–∏–∫</strong>: –õ–µ–∫—Ü–∏—è "–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–ª–∞—Å—Å–æ–≤ —Å–µ—Ä–≤–µ—Ä–∞ –∏ GoF –ø–∞—Ç—Ç–µ—Ä–Ω—ã –≤ Node.js"</li>
<li><strong>–î–∞—Ç–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏</strong>: 2025-12-06</li>
<li><strong>–£—Ä–æ–≤–µ–Ω—å</strong>: –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π –∫—É—Ä—Å –ø–æ Node.js –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ</li>
</ul>
<hr />
<h2 id="–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ"><a class="header" href="#–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ">–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ</a></h2>
<ol>
<li><a href="week1/nodejs-gof-patterns.html#%D0%B2%D0%B2%D0%B5%D0%B4%D0%B5%D0%BD%D0%B8%D0%B5">–í–≤–µ–¥–µ–Ω–∏–µ</a></li>
<li><a href="week1/nodejs-gof-patterns.html#%D0%B0%D1%80%D1%85%D0%B8%D1%82%D0%B5%D0%BA%D1%82%D1%83%D1%80%D0%BD%D1%8B%D0%B5-%D0%BA%D0%BE%D0%BC%D0%BF%D0%BE%D0%BD%D0%B5%D0%BD%D1%82%D1%8B-%D0%B8-%D0%B8%D1%85-%D0%B2%D0%B7%D0%B0%D0%B8%D0%BC%D0%BE%D1%81%D0%B2%D1%8F%D0%B7%D0%B8">–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∏ –∏—Ö –≤–∑–∞–∏–º–æ—Å–≤—è–∑–∏</a></li>
<li><a href="week1/nodejs-gof-patterns.html#gof-%D0%BF%D0%B0%D1%82%D1%82%D0%B5%D1%80%D0%BD%D1%8B-%D0%B2-nodejs">GoF –ø–∞—Ç—Ç–µ—Ä–Ω—ã –≤ Node.js</a>
<ul>
<li><a href="week1/nodejs-gof-patterns.html#1-strategy-%D1%81%D1%82%D1%80%D0%B0%D1%82%D0%B5%D0%B3%D0%B8%D1%8F">Strategy (–°—Ç—Ä–∞—Ç–µ–≥–∏—è)</a></li>
<li><a href="week1/nodejs-gof-patterns.html#2-proxy-%D0%BF%D1%80%D0%BE%D0%BA%D1%81%D0%B8">Proxy (–ü—Ä–æ–∫—Å–∏)</a></li>
<li><a href="week1/nodejs-gof-patterns.html#3-facade-%D1%84%D0%B0%D1%81%D0%B0%D0%B4">Facade (–§–∞—Å–∞–¥)</a></li>
<li><a href="week1/nodejs-gof-patterns.html#4-chain-of-responsibility-%D1%86%D0%B5%D0%BF%D0%BE%D1%87%D0%BA%D0%B0-%D0%BE%D1%82%D0%B2%D0%B5%D1%82%D1%81%D1%82%D0%B2%D0%B5%D0%BD%D0%BD%D0%BE%D1%81%D1%82%D0%B8">Chain of Responsibility (–¶–µ–ø–æ—á–∫–∞ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏)</a></li>
<li><a href="week1/nodejs-gof-patterns.html#5-singleton-%D1%81%D0%B8%D0%BD%D0%B3%D0%BB%D1%82%D0%BE%D0%BD">Singleton (–°–∏–Ω–≥–ª—Ç–æ–Ω)</a></li>
</ul>
</li>
<li><a href="week1/nodejs-gof-patterns.html#javascript-%D1%81%D0%BF%D0%B5%D1%86%D0%B8%D1%84%D0%B8%D1%87%D0%BD%D1%8B%D0%B5-%D0%BF%D0%B0%D1%82%D1%82%D0%B5%D1%80%D0%BD%D1%8B">JavaScript-—Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã</a>
<ul>
<li><a href="week1/nodejs-gof-patterns.html#eventemitter-vs-publisher-subscriber">EventEmitter vs Publisher-Subscriber</a></li>
<li><a href="week1/nodejs-gof-patterns.html#hooks-%D0%BA%D0%B0%D0%BA-%D0%B0%D0%BB%D1%8C%D1%82%D0%B5%D1%80%D0%BD%D0%B0%D1%82%D0%B8%D0%B2%D0%B0-middleware">Hooks –∫–∞–∫ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ Middleware</a></li>
</ul>
</li>
<li><a href="week1/nodejs-gof-patterns.html#%D0%BF%D1%80%D0%B8%D0%BD%D1%86%D0%B8%D0%BF%D1%8B-%D0%BF%D1%80%D0%BE%D0%B5%D0%BA%D1%82%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F-%D0%B0%D1%80%D1%85%D0%B8%D1%82%D0%B5%D0%BA%D1%82%D1%83%D1%80%D1%8B">–ü—Ä–∏–Ω—Ü–∏–ø—ã –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã</a></li>
<li><a href="week1/nodejs-gof-patterns.html#%D1%83%D0%BF%D1%80%D0%B0%D0%B2%D0%BB%D0%B5%D0%BD%D0%B8%D0%B5-%D1%81%D0%BE%D1%81%D1%82%D0%BE%D1%8F%D0%BD%D0%B8%D0%B5%D0%BC-%D0%B8-%D0%B8%D0%B7%D0%BE%D0%BB%D1%8F%D1%86%D0%B8%D1%8F-%D0%BA%D0%BE%D0%BD%D1%82%D0%B5%D0%BA%D1%81%D1%82%D0%BE%D0%B2">–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º –∏ –∏–∑–æ–ª—è—Ü–∏—è –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–≤</a></li>
<li><a href="week1/nodejs-gof-patterns.html#%D0%B7%D0%B0%D0%BA%D0%BB%D1%8E%D1%87%D0%B5%D0%BD%D0%B8%D0%B5">–ó–∞–∫–ª—é—á–µ–Ω–∏–µ</a></li>
</ol>
<hr />
<h2 id="–í–≤–µ–¥–µ–Ω–∏–µ-4"><a class="header" href="#–í–≤–µ–¥–µ–Ω–∏–µ-4">–í–≤–µ–¥–µ–Ω–∏–µ</a></h2>
<p>–î–∞–Ω–Ω—ã–π –∫–æ–Ω—Å–ø–µ–∫—Ç –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π –∞–∫–∞–¥–µ–º–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤ –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏–∑ –∫–Ω–∏–≥–∏ "Design Patterns: Elements of Reusable Object-Oriented Software" (Gang of Four, GoF) –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ —Å–µ—Ä–≤–µ—Ä–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π –Ω–∞ Node.js.</p>
<h3 id="–ü–æ—á–µ–º—É-gof-–ø–∞—Ç—Ç–µ—Ä–Ω—ã-–≤—ã–≥–ª—è–¥—è—Ç-–∏–Ω–∞—á–µ-–≤-javascript"><a class="header" href="#–ü–æ—á–µ–º—É-gof-–ø–∞—Ç—Ç–µ—Ä–Ω—ã-–≤—ã–≥–ª—è–¥—è—Ç-–∏–Ω–∞—á–µ-–≤-javascript">–ü–æ—á–µ–º—É GoF –ø–∞—Ç—Ç–µ—Ä–Ω—ã –≤—ã–≥–ª—è–¥—è—Ç –∏–Ω–∞—á–µ –≤ JavaScript?</a></h3>
<p>JavaScript —è–≤–ª—è–µ—Ç—Å—è <strong>–º—É–ª—å—Ç–∏–ø–∞—Ä–∞–¥–∏–≥–º–µ–Ω–Ω—ã–º —è–∑—ã–∫–æ–º</strong>, —á—Ç–æ –ø—Ä–∏–Ω—Ü–∏–ø–∏–∞–ª—å–Ω–æ –æ—Ç–ª–∏—á–∞–µ—Ç –µ–≥–æ –æ—Ç –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–∏—Ö –æ–±—ä–µ–∫—Ç–Ω–æ-–æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —è–∑—ã–∫–æ–≤ (Java, C++, C#), –¥–ª—è –∫–æ—Ç–æ—Ä—ã—Ö –∏–∑–Ω–∞—á–∞–ª—å–Ω–æ –±—ã–ª–∏ —Å–æ–∑–¥–∞–Ω—ã –ø–∞—Ç—Ç–µ—Ä–Ω—ã GoF. –ö–ª—é—á–µ–≤—ã–µ –æ—Ç–ª–∏—á–∏—è:</p>
<ol>
<li><strong>–§—É–Ω–∫—Ü–∏–∏ –ø–µ—Ä–≤–æ–≥–æ –∫–ª–∞—Å—Å–∞</strong> (first-class functions) - —Ñ—É–Ω–∫—Ü–∏–∏ –º–æ–≥—É—Ç –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å—Å—è –∫–∞–∫ –∑–Ω–∞—á–µ–Ω–∏—è, —Ö—Ä–∞–Ω–∏—Ç—å—Å—è –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö, –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å—Å—è –∏–∑ –¥—Ä—É–≥–∏—Ö —Ñ—É–Ω–∫—Ü–∏–π</li>
<li><strong>–ü—Ä–æ—Ç–æ—Ç–∏–ø–Ω–æ–µ –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ</strong> –≤–º–µ—Å—Ç–æ –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–æ–≥–æ</li>
<li><strong>–î–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è</strong></li>
<li><strong>–ó–∞–º—ã–∫–∞–Ω–∏—è</strong> (closures) –∫–∞–∫ –º–µ—Ö–∞–Ω–∏–∑–º –∏–Ω–∫–∞–ø—Å—É–ª—è—Ü–∏–∏</li>
<li><strong>–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –ø—Ä–∏—Ä–æ–¥–∞</strong> –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã Node.js</li>
</ol>
<p>–≠—Ç–∏ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –ø—Ä–∏–≤–æ–¥—è—Ç –∫ —Ç–æ–º—É, —á—Ç–æ –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã:</p>
<ul>
<li>–£–ø—Ä–æ—â–∞—é—Ç—Å—è –¥–æ –Ω–µ—É–∑–Ω–∞–≤–∞–µ–º–æ—Å—Ç–∏</li>
<li>–ó–∞–º–µ–Ω—è—é—Ç—Å—è –∏–¥–∏–æ–º–∞—Ç–∏—á–Ω—ã–º–∏ JavaScript-–∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º–∏</li>
<li>–ü–æ–ª—É—á–∞—é—Ç –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏, –±–æ–ª–µ–µ –ø–æ–¥—Ö–æ–¥—è—â–∏–µ –¥–ª—è —è–∑—ã–∫–∞</li>
</ul>
<h3 id="–¶–µ–ª–∏-–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã-rpc-—Å–µ—Ä–≤–µ—Ä–∞"><a class="header" href="#–¶–µ–ª–∏-–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã-rpc-—Å–µ—Ä–≤–µ—Ä–∞">–¶–µ–ª–∏ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã RPC-—Å–µ—Ä–≤–µ—Ä–∞</a></h3>
<p>–†–∞—Å—Å–º–∞—Ç—Ä–∏–≤–∞–µ–º–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Ä–µ—à–∞–µ—Ç —Å–ª–µ–¥—É—é—â–∏–µ –∑–∞–¥–∞—á–∏:</p>
<ol>
<li><strong>–ò–Ω—Ç–µ—Ä–æ–ø–µ—Ä–∞–±–µ–ª—å–Ω–æ—Å—Ç—å –ø—Ä–æ—Ç–æ–∫–æ–ª–æ–≤</strong> - –ø–æ–¥–¥–µ—Ä–∂–∫–∞ HTTP –∏ WebSocket —á–µ—Ä–µ–∑ –µ–¥–∏–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å</li>
<li><strong>–ò–∑–æ–ª—è—Ü–∏—è —Å–∏—Å—Ç–µ–º–Ω–æ–≥–æ —Å–ª–æ—è</strong> - –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ –Ω–µ –¥–æ–ª–∂–Ω–∞ –≤–∏–¥–µ—Ç—å –¥–µ—Ç–∞–ª–∏ —Å–µ—Ç–µ–≤—ã—Ö –ø—Ä–æ—Ç–æ–∫–æ–ª–æ–≤</li>
<li><strong>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞–º–∏</strong> - —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ —Ç—Ä–µ—Ö –≤–∏–¥–æ–≤ —Å–æ—Å—Ç–æ—è–Ω–∏—è (RPC-–≤—ã–∑–æ–≤, –∫–ª–∏–µ–Ω—Ç, —Å–µ—Å—Å–∏—è)</li>
<li><strong>–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å</strong> - –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ race conditions –∏ monkey-patching</li>
<li><strong>–ü–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å</strong> - —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è —Å–µ—Å—Å–∏–π</li>
<li><strong>–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å</strong> - –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏, –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏, RBAC</li>
</ol>
<hr />
<h2 id="–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã-–∏-–∏—Ö-–≤–∑–∞–∏–º–æ—Å–≤—è–∑–∏"><a class="header" href="#–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã-–∏-–∏—Ö-–≤–∑–∞–∏–º–æ—Å–≤—è–∑–∏">–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∏ –∏—Ö –≤–∑–∞–∏–º–æ—Å–≤—è–∑–∏</a></h2>
<h3 id="–î–≤—É—Ö—Å–ª–æ–π–Ω–∞—è-–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞"><a class="header" href="#–î–≤—É—Ö—Å–ª–æ–π–Ω–∞—è-–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞">–î–≤—É—Ö—Å–ª–æ–π–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞</a></h3>
<p>–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —á–µ—Ç–∫–æ —Ä–∞–∑–¥–µ–ª–µ–Ω–∞ –Ω–∞ –¥–≤–∞ —Å–ª–æ—è —Å —Ä–∞–∑–ª–∏—á–Ω—ã–º–∏ —É—Ä–æ–≤–Ω—è–º–∏ –¥–æ—Å—Ç—É–ø–∞:</p>
<h4 id="system-layer-–°–∏—Å—Ç–µ–º–Ω—ã–π-—Å–ª–æ–π"><a class="header" href="#system-layer-–°–∏—Å—Ç–µ–º–Ω—ã–π-—Å–ª–æ–π">System Layer (–°–∏—Å—Ç–µ–º–Ω—ã–π —Å–ª–æ–π)</a></h4>
<p>–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã, –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã–µ –∏–∑ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏:</p>
<ul>
<li><strong>Server</strong> - —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–æ—Ä, —É–ø—Ä–∞–≤–ª—è–µ—Ç –∫–æ–ª–ª–µ–∫—Ü–∏—è–º–∏ —Å–µ—Å—Å–∏–π –∏ –∫–ª–∏–µ–Ω—Ç–æ–≤</li>
<li><strong>Transport</strong> - –∞–±—Å—Ç—Ä–∞–∫—Ü–∏—è –Ω–∞–¥ —Å–µ—Ç–µ–≤—ã–º–∏ –ø—Ä–æ—Ç–æ–∫–æ–ª–∞–º–∏ (HTTP/WebSocket)</li>
<li><strong>Connection</strong> - WebSocket —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ</li>
<li><strong>Request</strong> - HTTP –∑–∞–ø—Ä–æ—Å</li>
<li><strong>Response</strong> - HTTP –æ—Ç–≤–µ—Ç</li>
</ul>
<p><strong>–ü–æ—á–µ–º—É —ç—Ç–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω—ã?</strong></p>
<ol>
<li><strong>–ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ —É—Ç–µ—á–∫–∏ –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–π</strong> - –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ –Ω–µ –¥–æ–ª–∂–Ω–∞ –∑–∞–≤–∏—Å–µ—Ç—å –æ—Ç –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –ø—Ä–æ—Ç–æ–∫–æ–ª–∞</li>
<li><strong>–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å</strong> - –ø—Ä—è–º–æ–π –¥–æ—Å—Ç—É–ø –∫ request/response –º–æ–∂–µ—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ race conditions</li>
<li><strong>–¢–µ—Å—Ç–∏—Ä—É–µ–º–æ—Å—Ç—å</strong> - –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫—É –º–æ–∂–Ω–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –±–µ–∑ –ø–æ–¥–Ω—è—Ç–∏—è —Ä–µ–∞–ª—å–Ω–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞</li>
<li><strong>–ì–∏–±–∫–æ—Å—Ç—å</strong> - –º–æ–∂–Ω–æ –º–µ–Ω—è—Ç—å —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω—ã–π –ø—Ä–æ—Ç–æ–∫–æ–ª –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏—è –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏</li>
</ol>
<h4 id="userland-–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π-—Å–ª–æ–π"><a class="header" href="#userland-–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π-—Å–ª–æ–π">Userland (–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π —Å–ª–æ–π)</a></h4>
<p>–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã, –¥–æ—Å—Ç—É–ø–Ω—ã–µ –∏–∑ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏:</p>
<ul>
<li><strong>Context</strong> - –∫–æ–Ω—Ç–µ–∫—Å—Ç RPC-–≤—ã–∑–æ–≤–∞</li>
<li><strong>Client</strong> - –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–≥–æ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è</li>
<li><strong>Session</strong> - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∞—è —Å–µ—Å—Å–∏—è</li>
</ul>
<h3 id="–°—Ç—Ä—É–∫—Ç—É—Ä–∞-–∫–ª–∞—Å—Å–æ–≤-–∏-–∏—Ö-–æ—Ç–Ω–æ—à–µ–Ω–∏—è"><a class="header" href="#–°—Ç—Ä—É–∫—Ç—É—Ä–∞-–∫–ª–∞—Å—Å–æ–≤-–∏-–∏—Ö-–æ—Ç–Ω–æ—à–µ–Ω–∏—è">–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–ª–∞—Å—Å–æ–≤ –∏ –∏—Ö –æ—Ç–Ω–æ—à–µ–Ω–∏—è</a></h3>
<pre><code>Server (Singleton)
‚îú‚îÄ‚îÄ sessions: Map&lt;string, Session&gt;  // –ì–ª–æ–±–∞–ª—å–Ω–∞—è –∫–æ–ª–ª–µ–∫—Ü–∏—è —Å–µ—Å—Å–∏–π
‚îú‚îÄ‚îÄ clients: Set&lt;Client&gt;             // –ö–ª–∏–µ–Ω—Ç—ã —Ç–µ–∫—É—â–µ–≥–æ –ø–æ—Ä—Ç–∞
‚îú‚îÄ‚îÄ http: HttpServer                 // HTTP —Å–µ—Ä–≤–µ—Ä
‚îî‚îÄ‚îÄ ws: WebSocketServer              // WebSocket —Å–µ—Ä–≤–µ—Ä

Transport (Strategy pattern)
‚îú‚îÄ‚îÄ HttpTransport
‚îÇ   ‚îú‚îÄ‚îÄ request: IncomingMessage
‚îÇ   ‚îî‚îÄ‚îÄ response: ServerResponse
‚îî‚îÄ‚îÄ WebSocketTransport
    ‚îú‚îÄ‚îÄ request: IncomingMessage
    ‚îî‚îÄ‚îÄ connection: WebSocket

Client (Facade pattern)
‚îú‚îÄ‚îÄ #transport: Transport            // –ü—Ä–∏–≤–∞—Ç–Ω–æ–µ –ø–æ–ª–µ (—Å–∫—Ä—ã—Ç–æ –æ—Ç userland)
‚îú‚îÄ‚îÄ state: Object                    // –°–æ—Å—Ç–æ—è–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞
‚îî‚îÄ‚îÄ createSession(): Session

Session (Proxy pattern)
‚îú‚îÄ‚îÄ token: string                    // –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä
‚îú‚îÄ‚îÄ state: Proxy                     // –ü—Ä–æ–∫—Å–∏—Ä—É–µ–º–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
‚îî‚îÄ‚îÄ context: Context

Context
‚îú‚îÄ‚îÄ client: Client
‚îú‚îÄ‚îÄ session: Session | null
‚îî‚îÄ‚îÄ uuid: string                     // UUID –≤—ã–∑–æ–≤–∞
</code></pre>
<h3 id="–ü–æ—Ç–æ–∫-–¥–∞–Ω–Ω—ã—Ö-–ø—Ä–∏-rpc-–≤—ã–∑–æ–≤–µ"><a class="header" href="#–ü–æ—Ç–æ–∫-–¥–∞–Ω–Ω—ã—Ö-–ø—Ä–∏-rpc-–≤—ã–∑–æ–≤–µ">–ü–æ—Ç–æ–∫ –¥–∞–Ω–Ω—ã—Ö –ø—Ä–∏ RPC-–≤—ã–∑–æ–≤–µ</a></h3>
<ol>
<li>–ó–∞–ø—Ä–æ—Å –ø—Ä–∏—Ö–æ–¥–∏—Ç –Ω–∞ <strong>Server</strong> (HTTP –∏–ª–∏ WebSocket)</li>
<li><strong>Server</strong> —Å–æ–∑–¥–∞–µ—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π <strong>Transport</strong> (Strategy)</li>
<li><strong>Transport</strong> –æ–±–æ—Ä–∞—á–∏–≤–∞–µ—Ç—Å—è <strong>Client</strong> (Facade)</li>
<li>–°–æ–∑–¥–∞–µ—Ç—Å—è <strong>Context</strong> —Å —Å—Å—ã–ª–∫–∞–º–∏ –Ω–∞ Client –∏ Session</li>
<li>–í—ã–∑—ã–≤–∞–µ—Ç—Å—è endpoint –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏ —Å <strong>Context</strong> –∫–∞–∫ –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–º –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–º</li>
<li>–ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å Context, –Ω–µ –∑–Ω–∞—è –æ –¥–µ—Ç–∞–ª—è—Ö –ø—Ä–æ—Ç–æ–∫–æ–ª–∞</li>
<li>–û—Ç–≤–µ—Ç –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ Transport, –∞–±—Å—Ç—Ä–∞–≥–∏—Ä–æ–≤–∞–Ω–Ω—ã–π Client</li>
</ol>
<hr />
<h2 id="gof-–ø–∞—Ç—Ç–µ—Ä–Ω—ã-–≤-nodejs"><a class="header" href="#gof-–ø–∞—Ç—Ç–µ—Ä–Ω—ã-–≤-nodejs">GoF –ø–∞—Ç—Ç–µ—Ä–Ω—ã –≤ Node.js</a></h2>
<h3 id="1-strategy-–°—Ç—Ä–∞—Ç–µ–≥–∏—è"><a class="header" href="#1-strategy-–°—Ç—Ä–∞—Ç–µ–≥–∏—è">1. Strategy (–°—Ç—Ä–∞—Ç–µ–≥–∏—è)</a></h3>
<h4 id="–ê–∫–∞–¥–µ–º–∏—á–µ—Å–∫–æ–µ-–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ"><a class="header" href="#–ê–∫–∞–¥–µ–º–∏—á–µ—Å–∫–æ–µ-–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ">–ê–∫–∞–¥–µ–º–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ</a></h4>
<p><strong>Strategy</strong> (–°—Ç—Ä–∞—Ç–µ–≥–∏—è) - –ø–æ–≤–µ–¥–µ–Ω—á–µ—Å–∫–∏–π –ø–∞—Ç—Ç–µ—Ä–Ω –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è, –∫–æ—Ç–æ—Ä—ã–π –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Å–µ–º–µ–π—Å—Ç–≤–æ –∞–ª–≥–æ—Ä–∏—Ç–º–æ–≤, –∏–Ω–∫–∞–ø—Å—É–ª–∏—Ä—É–µ—Ç –∫–∞–∂–¥—ã–π –∏–∑ –Ω–∏—Ö –∏ –¥–µ–ª–∞–µ—Ç –∏—Ö –≤–∑–∞–∏–º–æ–∑–∞–º–µ–Ω—è–µ–º—ã–º–∏. –°—Ç—Ä–∞—Ç–µ–≥–∏—è –ø–æ–∑–≤–æ–ª—è–µ—Ç –∏–∑–º–µ–Ω—è—Ç—å –∞–ª–≥–æ—Ä–∏—Ç–º—ã –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç –∫–ª–∏–µ–Ω—Ç–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –∏–º–∏ –ø–æ–ª—å–∑—É—é—Ç—Å—è.</p>
<p><strong>–ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –ø–∞—Ç—Ç–µ—Ä–Ω–∞:</strong></p>
<ul>
<li><strong>Strategy</strong> - –æ–±—â–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –≤—Å–µ—Ö –∞–ª–≥–æ—Ä–∏—Ç–º–æ–≤</li>
<li><strong>ConcreteStrategy</strong> - –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –∞–ª–≥–æ—Ä–∏—Ç–º–æ–≤</li>
<li><strong>Context</strong> - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç Strategy –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –æ–ø–µ—Ä–∞—Ü–∏–π</li>
</ul>
<h4 id="–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ-–≤-–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ-transport"><a class="header" href="#–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ-–≤-–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ-transport">–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –≤ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ: Transport</a></h4>
<p>–í –¥–∞–Ω–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ –ø–∞—Ç—Ç–µ—Ä–Ω Strategy –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –¥–ª—è –∞–±—Å—Ç—Ä–∞–≥–∏—Ä–æ–≤–∞–Ω–∏—è –æ—Ç –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω–æ–≥–æ –ø—Ä–æ—Ç–æ–∫–æ–ª–∞.</p>
<p><strong>–ò–µ—Ä–∞—Ä—Ö–∏—è –∫–ª–∞—Å—Å–æ–≤:</strong></p>
<pre><code class="language-javascript">// –ë–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å Transport - –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
class Transport {
  constructor(request) {
    this.request = request;
  }

  // –ê–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–π –º–µ—Ç–æ–¥ - –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω –≤ –Ω–∞—Å–ª–µ–¥–Ω–∏–∫–∞—Ö
  write(data) {
    throw new Error('Method write() must be implemented');
  }

  // –û–±—â–∏–π –º–µ—Ç–æ–¥ –¥–ª—è –≤—Å–µ—Ö —Å—Ç—Ä–∞—Ç–µ–≥–∏–π
  send(data, code = 200, encoding = 'json') {
    // –ò—Å–ø–æ–ª—å–∑—É–µ—Ç write(), –∫–æ—Ç–æ—Ä–æ–≥–æ –µ—â–µ –Ω–µ—Ç –≤ –±–∞–∑–æ–≤–æ–º –∫–ª–∞—Å—Å–µ
    // –ü–æ–ª–∞–≥–∞–µ—Ç—Å—è –Ω–∞ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é –≤ ConcreteStrategy
    this.write(data);
  }

  error(code, message) {
    this.send({ error: { code, message } });
  }
}

// ConcreteStrategy 1: HTTP —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç
class HttpTransport extends Transport {
  constructor(request, response) {
    super(request);
    this.response = response;
  }

  write(data) {
    // –°–ø–µ—Ü–∏—Ñ–∏—á–Ω–∞—è –¥–ª—è HTTP —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è
    this.response.writeHead(200, { 'Content-Type': 'application/json' });
    this.response.end(JSON.stringify(data));
  }
}

// ConcreteStrategy 2: WebSocket —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç
class WebSocketTransport extends Transport {
  constructor(request, connection) {
    super(request);
    this.connection = connection;
  }

  write(data) {
    // –°–ø–µ—Ü–∏—Ñ–∏—á–Ω–∞—è –¥–ª—è WebSocket —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è
    // –ù–µ—Ç HTTP –∫–æ–¥–∞, –Ω–µ—Ç –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤ - —Ç–æ–ª—å–∫–æ –¥–∞–Ω–Ω—ã–µ
    this.connection.send(JSON.stringify(data));
  }
}
</code></pre>
<h4 id="–ü–æ—á–µ–º—É-–∏–º–µ–Ω–Ω–æ-—Ç–∞–∫-–≤-nodejs"><a class="header" href="#–ü–æ—á–µ–º—É-–∏–º–µ–Ω–Ω–æ-—Ç–∞–∫-–≤-nodejs">–ü–æ—á–µ–º—É –∏–º–µ–Ω–Ω–æ —Ç–∞–∫ –≤ Node.js?</a></h4>
<p><strong>1. –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π –≤—ã–±–æ—Ä —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏</strong></p>
<p>–í Node.js –≤—ã–±–æ—Ä —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –≤–æ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è, –æ—Å–Ω–æ–≤—ã–≤–∞—è—Å—å –Ω–∞ —Ç–∏–ø–µ –≤—Ö–æ–¥—è—â–µ–≥–æ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è:</p>
<pre><code class="language-javascript">// –í server.js
const createTransport = (request, responseOrConnection) =&gt; {
  // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –±—ã–ª–æ –ª–∏ HTTP —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –∞–ø–≥—Ä–µ–π–¥–Ω—É—Ç–æ –¥–æ WebSocket
  if (request.headers.upgrade === 'websocket') {
    return new WebSocketTransport(request, responseOrConnection);
  }
  return new HttpTransport(request, responseOrConnection);
};
</code></pre>
<p><strong>2. –ï–¥–∏–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è —Ä–∞–∑–ª–∏—á–∞—é—â–µ–π—Å—è –º–∞—à–∏–Ω–µ—Ä–∏–∏</strong></p>
<p>HTTP –∏ WebSocket –ø—Ä–∏–Ω—Ü–∏–ø–∏–∞–ª—å–Ω–æ —Ä–∞–∑–ª–∏—á–∞—é—Ç—Å—è:</p>
<div class="table-wrapper"><table><thead><tr><th>–ê—Å–ø–µ–∫—Ç</th><th>HTTP</th><th>WebSocket</th></tr></thead><tbody>
<tr><td>–¢–∏–ø —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è</td><td>Request-Response (–æ–¥–Ω–æ—Ä–∞–∑–æ–≤–æ–µ)</td><td>Persistent (–ø–æ—Å—Ç–æ—è–Ω–Ω–æ–µ)</td></tr>
<tr><td>–ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ</td><td>–û–¥–Ω–æ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ–µ</td><td>–î–≤—É–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ–µ</td></tr>
<tr><td>–ó–∞–≥–æ–ª–æ–≤–∫–∏</td><td>–¢—Ä–µ–±—É—é—Ç—Å—è (Content-Type, status code)</td><td>–ù–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è</td></tr>
<tr><td>–°–æ—Å—Ç–æ—è–Ω–∏–µ</td><td>Stateless</td><td>Stateful</td></tr>
<tr><td>–û–±—ä–µ–∫—Ç—ã Node.js</td><td>IncomingMessage + ServerResponse</td><td>WebSocket</td></tr>
</tbody></table>
</div>
<p>–ü–∞—Ç—Ç–µ—Ä–Ω Strategy –ø–æ–∑–≤–æ–ª—è–µ—Ç —Å–∫—Ä—ã—Ç—å —ç—Ç–∏ —Ä–∞–∑–ª–∏—á–∏—è –∑–∞ –µ–¥–∏–Ω—ã–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º <code>send()</code>, <code>write()</code>, <code>error()</code>.</p>
<h4 id="–ö–∞–∫—É—é-–ø—Ä–æ–±–ª–µ–º—É-—Ä–µ—à–∞–µ—Ç"><a class="header" href="#–ö–∞–∫—É—é-–ø—Ä–æ–±–ª–µ–º—É-—Ä–µ—à–∞–µ—Ç">–ö–∞–∫—É—é –ø—Ä–æ–±–ª–µ–º—É —Ä–µ—à–∞–µ—Ç?</a></h4>
<p><strong>–ü—Ä–æ–±–ª–µ–º–∞</strong>: –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ RPC-—Å–µ—Ä–≤–µ—Ä–∞ –Ω–µ –¥–æ–ª–∂–Ω–∞ –∑–Ω–∞—Ç—å, –ø–æ –∫–∞–∫–æ–º—É –ø—Ä–æ—Ç–æ–∫–æ–ª—É –ø—Ä–∏—à–µ–ª –∑–∞–ø—Ä–æ—Å.</p>
<p><strong>–†–µ—à–µ–Ω–∏–µ</strong>:</p>
<ul>
<li>–í—Å–µ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç—ã –∏–º–µ—é—Ç –æ–¥–∏–Ω–∞–∫–æ–≤—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å</li>
<li>–ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π –∫–æ–¥ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–º Transport</li>
<li>–ö–æ–Ω–∫—Ä–µ—Ç–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –≤—ã–±–∏—Ä–∞–µ—Ç—Å—è –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è</li>
<li>–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö –ø—Ä–æ—Ç–æ–∫–æ–ª–æ–≤ (–Ω–∞–ø—Ä–∏–º–µ—Ä, gRPC) —Ç—Ä–µ–±—É–µ—Ç —Ç–æ–ª—å–∫–æ —Å–æ–∑–¥–∞–Ω–∏—è –Ω–æ–≤–æ–≥–æ ConcreteStrategy</li>
</ul>
<p><strong>–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –≤ Node.js –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ:</strong></p>
<ol>
<li><strong>–£–ø—Ä–æ—â–µ–Ω–∏–µ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏</strong> - endpoint'—ã –Ω–µ —Å–æ–¥–µ—Ä–∂–∞—Ç if/else –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ç–∏–ø–∞ –ø—Ä–æ—Ç–æ–∫–æ–ª–∞</li>
<li><strong>–û—Ç–∫—Ä—ã—Ç –¥–ª—è —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è</strong> - –Ω–æ–≤—ã–µ –ø—Ä–æ—Ç–æ–∫–æ–ª—ã –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ –∫–æ–¥–∞</li>
<li><strong>–ó–∞–∫—Ä—ã—Ç –¥–ª—è –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏–∏</strong> - –±–∞–∑–æ–≤—ã–π Transport –∏ –∫–ª–∏–µ–Ω—Ç—Å–∫–∏–π –∫–æ–¥ –Ω–µ –º–µ–Ω—è—é—Ç—Å—è</li>
<li><strong>–¢–µ—Å—Ç–∏—Ä—É–µ–º–æ—Å—Ç—å</strong> - –º–æ–∂–Ω–æ —Å–æ–∑–¥–∞–≤–∞—Ç—å mock-—Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç—ã –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è</li>
</ol>
<hr />
<h3 id="2-proxy-–ü—Ä–æ–∫—Å–∏"><a class="header" href="#2-proxy-–ü—Ä–æ–∫—Å–∏">2. Proxy (–ü—Ä–æ–∫—Å–∏)</a></h3>
<h4 id="–ê–∫–∞–¥–µ–º–∏—á–µ—Å–∫–æ–µ-–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ-1"><a class="header" href="#–ê–∫–∞–¥–µ–º–∏—á–µ—Å–∫–æ–µ-–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ-1">–ê–∫–∞–¥–µ–º–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ</a></h4>
<p><strong>Proxy</strong> (–ü—Ä–æ–∫—Å–∏, –ó–∞–º–µ—Å—Ç–∏—Ç–µ–ª—å) - —Å—Ç—Ä—É–∫—Ç—É—Ä–Ω—ã–π –ø–∞—Ç—Ç–µ—Ä–Ω –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –æ–±—ä–µ–∫—Ç-–∑–∞–º–µ—Å—Ç–∏—Ç–µ–ª—å –≤–º–µ—Å—Ç–æ —Ä–µ–∞–ª—å–Ω–æ–≥–æ —Å–ª—É–∂–µ–±–Ω–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞. –ü—Ä–æ–∫—Å–∏ –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ—Ç –¥–æ—Å—Ç—É–ø –∫ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–º—É –æ–±—ä–µ–∫—Ç—É, –ø–æ–∑–≤–æ–ª—è—è –≤—ã–ø–æ–ª–Ω–∏—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—É—é –ª–æ–≥–∏–∫—É –¥–æ –∏–ª–∏ –ø–æ—Å–ª–µ –ø–µ—Ä–µ–¥–∞—á–∏ –≤—ã–∑–æ–≤–∞ –æ—Ä–∏–≥–∏–Ω–∞–ª—É.</p>
<p><strong>–¢–∏–ø—ã Proxy:</strong></p>
<ul>
<li><strong>Remote Proxy</strong> - –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç –æ–±—ä–µ–∫—Ç –≤ –¥—Ä—É–≥–æ–º –∞–¥—Ä–µ—Å–Ω–æ–º –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ</li>
<li><strong>Virtual Proxy</strong> - –æ—Ç–ª–æ–∂–µ–Ω–Ω–∞—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Ç—è–∂–µ–ª—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤</li>
<li><strong>Protection Proxy</strong> - –∫–æ–Ω—Ç—Ä–æ–ª—å –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞</li>
<li><strong>Smart Reference</strong> - –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –ª–æ–≥–∏–∫–∞ –ø—Ä–∏ –æ–±—Ä–∞—â–µ–Ω–∏–∏ –∫ –æ–±—ä–µ–∫—Ç—É</li>
</ul>
<h4 id="–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ-–≤-–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ-session-state"><a class="header" href="#–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ-–≤-–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ-session-state">–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –≤ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ: Session State</a></h4>
<p>–í –¥–∞–Ω–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è <strong>Smart Reference Proxy</strong> –¥–ª—è –ø–µ—Ä–µ—Ö–≤–∞—Ç–∞ –æ–ø–µ—Ä–∞—Ü–∏–π —á—Ç–µ–Ω–∏—è –∏ –∑–∞–ø–∏—Å–∏ —Å–≤–æ–π—Å—Ç–≤ —Å–æ—Å—Ç–æ—è–Ω–∏—è —Å–µ—Å—Å–∏–∏.</p>
<p><strong>–†–µ–∞–ª–∏–∑–∞—Ü–∏—è –≤ –ú–µ—Ç–∞–∫–æ–º–µ (–ø—Ä–∏–Ω—Ü–∏–ø –ø—Ä–∏–º–µ–Ω–∏–º –∫ Node.js –ø—Ä–æ–µ–∫—Ç—É):</strong></p>
<pre><code class="language-javascript">// –°–æ–∑–¥–∞–Ω–∏–µ Proxy –¥–ª—è –ø–µ—Ä–µ—Ö–≤–∞—Ç–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ —Å–æ—Å—Ç–æ—è–Ω–∏—é
const createProxy = (state, save) =&gt; {
  return new Proxy(state, {
    // –ü–µ—Ä–µ—Ö–≤–∞—Ç —á—Ç–µ–Ω–∏—è —Å–≤–æ–π—Å—Ç–≤
    get(target, property) {
      return target[property];
    },

    // –ü–µ—Ä–µ—Ö–≤–∞—Ç –∑–∞–ø–∏—Å–∏ —Å–≤–æ–π—Å—Ç–≤
    set(target, property, value) {
      target[property] = value;
      // –í–∞–∂–Ω–æ! –ü—Ä–∏ –∫–∞–∂–¥–æ–º –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –≤—ã–∑—ã–≤–∞–µ–º save()
      save();
      return true;
    },

    // –ü–µ—Ä–µ—Ö–≤–∞—Ç —É–¥–∞–ª–µ–Ω–∏—è —Å–≤–æ–π—Å—Ç–≤
    deleteProperty(target, property) {
      delete target[property];
      save();
      return true;
    }
  });
};

// –ö–ª–∞—Å—Å Session –∏—Å–ø–æ–ª—å–∑—É–µ—Ç Proxy
class Session {
  constructor(token, data, saveCallback) {
    this.token = token;
    // –í–º–µ—Å—Ç–æ –ø—Ä—è–º–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞ –∫ state, –∏—Å–ø–æ–ª—å–∑—É–µ–º Proxy
    this.state = createProxy(data, () =&gt; {
      saveCallback(this.token, this.state);
    });
  }
}
</code></pre>
<h4 id="–ü–æ—á–µ–º—É-–∏–º–µ–Ω–Ω–æ-—Ç–∞–∫-–≤-nodejs-1"><a class="header" href="#–ü–æ—á–µ–º—É-–∏–º–µ–Ω–Ω–æ-—Ç–∞–∫-–≤-nodejs-1">–ü–æ—á–µ–º—É –∏–º–µ–Ω–Ω–æ —Ç–∞–∫ –≤ Node.js?</a></h4>
<p><strong>1. JavaScript Proxy API</strong></p>
<p>JavaScript –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –º–µ—Ö–∞–Ω–∏–∑–º <strong>Proxy</strong> (ES6), –∫–æ—Ç–æ—Ä—ã–π —è–≤–ª—è–µ—Ç—Å—è –º–æ—â–Ω—ã–º –º–µ—Ç–∞–ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ–º:</p>
<pre><code class="language-javascript">const handler = {
  get(target, property, receiver) { /* –ø–µ—Ä–µ—Ö–≤–∞—Ç —á—Ç–µ–Ω–∏—è */ },
  set(target, property, value, receiver) { /* –ø–µ—Ä–µ—Ö–≤–∞—Ç –∑–∞–ø–∏—Å–∏ */ },
  deleteProperty(target, property) { /* –ø–µ—Ä–µ—Ö–≤–∞—Ç —É–¥–∞–ª–µ–Ω–∏—è */ },
  has(target, property) { /* –ø–µ—Ä–µ—Ö–≤–∞—Ç 'in' –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞ */ },
  // ... –µ—â–µ 10+ –ª–æ–≤—É—à–µ–∫ (traps)
};

const proxy = new Proxy(target, handler);
</code></pre>
<p><strong>2. –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –Ω–∞–¥ –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–º Proxy –ø–∞—Ç—Ç–µ—Ä–Ω–æ–º</strong></p>
<p>–í –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–∏—Ö –û–û–ü —è–∑—ã–∫–∞—Ö Proxy —Ç—Ä–µ–±—É–µ—Ç:</p>
<ul>
<li>–°–æ–∑–¥–∞–Ω–∏—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ –¥–ª—è –æ–±—ä–µ–∫—Ç–∞</li>
<li>–†–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –≤—Å–µ—Ö –º–µ—Ç–æ–¥–æ–≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ –≤ Proxy</li>
<li>–Ø–≤–Ω–æ–≥–æ –¥–µ–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –≤—ã–∑–æ–≤–æ–≤</li>
</ul>
<p>JavaScript Proxy:</p>
<ul>
<li><strong>–ü—Ä–æ–∑—Ä–∞—á–Ω—ã–π</strong> - –≤—ã–≥–ª—è–¥–∏—Ç –∫–∞–∫ –æ–±—ã—á–Ω—ã–π –æ–±—ä–µ–∫—Ç</li>
<li><strong>–£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π</strong> - –ø–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç –≤—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏, –≤–∫–ª—é—á–∞—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –¥–æ–±–∞–≤–ª—è–µ–º—ã–µ —Å–≤–æ–π—Å—Ç–≤–∞</li>
<li><strong>–ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –∫–æ–¥</strong> - –Ω–µ –Ω—É–∂–Ω–æ —è–≤–Ω–æ –¥–µ–ª–µ–≥–∏—Ä–æ–≤–∞—Ç—å –∫–∞–∂–¥—ã–π –º–µ—Ç–æ–¥</li>
</ul>
<h4 id="–ö–∞–∫—É—é-–ø—Ä–æ–±–ª–µ–º—É-—Ä–µ—à–∞–µ—Ç-1"><a class="header" href="#–ö–∞–∫—É—é-–ø—Ä–æ–±–ª–µ–º—É-—Ä–µ—à–∞–µ—Ç-1">–ö–∞–∫—É—é –ø—Ä–æ–±–ª–µ–º—É —Ä–µ—à–∞–µ—Ç?</a></h4>
<p><strong>–ü—Ä–æ–±–ª–µ–º–∞</strong>: –ù–µ–æ–±—Ö–æ–¥–∏–º–æ –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è —Å–µ—Å—Å–∏–∏ –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –≤ persistent storage (Redis, PostgreSQL).</p>
<p><strong>–ù–∞–∏–≤–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ (–Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ):</strong></p>
<pre><code class="language-javascript">// –ü–ª–æ—Ö–æ: —Ç—Ä–µ–±—É–µ—Ç —è–≤–Ω–æ–≥–æ –≤—ã–∑–æ–≤–∞ save()
session.state.username = 'alice';
session.state.role = 'admin';
session.save(); // –õ–µ–≥–∫–æ –∑–∞–±—ã—Ç—å!
</code></pre>
<p><strong>–†–µ—à–µ–Ω–∏–µ —Å Proxy:</strong></p>
<pre><code class="language-javascript">// –•–æ—Ä–æ—à–æ: save() –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
session.state.username = 'alice';  // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π save()
session.state.role = 'admin';       // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π save()
</code></pre>
<p><strong>–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:</strong></p>
<ol>
<li><strong>–í—ã—á–∏—Å–ª–µ–Ω–∏–µ –¥–µ–ª—å—Ç—ã –∏–∑–º–µ–Ω–µ–Ω–∏–π</strong></li>
</ol>
<pre><code class="language-javascript">const createProxy = (state, save) =&gt; {
  const changes = new Set();

  return new Proxy(state, {
    set(target, property, value) {
      if (target[property] !== value) {
        changes.add(property);
        target[property] = value;
        save(changes); // –ü–µ—Ä–µ–¥–∞–µ–º —Ç–æ–ª—å–∫–æ –∏–∑–º–µ–Ω–µ–Ω–Ω—ã–µ –ø–æ–ª—è
      }
      return true;
    }
  });
};
</code></pre>
<ol start="2">
<li><strong>–í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö</strong></li>
</ol>
<pre><code class="language-javascript">set(target, property, value) {
  // –ú–æ–∂–µ–º –¥–æ–±–∞–≤–∏—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é
  if (property === 'age' &amp;&amp; typeof value !== 'number') {
    throw new TypeError('Age must be a number');
  }
  target[property] = value;
  save();
  return true;
}
</code></pre>
<ol start="3">
<li><strong>–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–æ—Å—Ç—É–ø–∞</strong></li>
</ol>
<pre><code class="language-javascript">get(target, property) {
  console.log(`Reading property: ${property}`);
  return target[property];
}
</code></pre>
<h4 id="–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–æ–µ-–∑–Ω–∞—á–µ–Ω–∏–µ"><a class="header" href="#–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–æ–µ-–∑–Ω–∞—á–µ–Ω–∏–µ">–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ</a></h4>
<p>Proxy –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ —Å–µ—Å—Å–∏–π –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç:</p>
<ol>
<li><strong>–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å</strong> - —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –±–µ–∑ —è–≤–Ω—ã—Ö –≤—ã–∑–æ–≤–æ–≤</li>
<li><strong>–ü—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å</strong> - –∫–æ–¥ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏ –Ω–µ –∑–Ω–∞–µ—Ç –æ –º–µ—Ö–∞–Ω–∏–∑–º–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è</li>
<li><strong>–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å</strong> - –º–æ–∂–Ω–æ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å, —Å–æ—Ö—Ä–∞–Ω—è—è —Ç–æ–ª—å–∫–æ –∏–∑–º–µ–Ω–µ–Ω–Ω—ã–µ –ø–æ–ª—è</li>
<li><strong>–û—Ç–ª–æ–∂–µ–Ω–Ω–∞—è –∑–∞–ø–∏—Å—å</strong> - –º–æ–∂–Ω–æ –¥–µ–±–∞—É–Ω—Å–∏—Ç—å save() –¥–ª—è —É–º–µ–Ω—å—à–µ–Ω–∏—è –Ω–∞–≥—Ä—É–∑–∫–∏ –Ω–∞ –ë–î</li>
</ol>
<p><strong>–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ</strong>: –í —Ç–µ–∫—É—â–µ–π —É—á–µ–±–Ω–æ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ Node.js –ø—Ä–æ–µ–∫—Ç–∞ Proxy –µ—â–µ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è, –Ω–æ –≤ production (–ú–µ—Ç–∞–∫–æ–º) –æ–Ω –∞–∫—Ç–∏–≤–Ω–æ –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –∏–º–µ–Ω–Ω–æ —Ç–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º.</p>
<hr />
<h3 id="3-facade-–§–∞—Å–∞–¥"><a class="header" href="#3-facade-–§–∞—Å–∞–¥">3. Facade (–§–∞—Å–∞–¥)</a></h3>
<h4 id="–ê–∫–∞–¥–µ–º–∏—á–µ—Å–∫–æ–µ-–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ-2"><a class="header" href="#–ê–∫–∞–¥–µ–º–∏—á–µ—Å–∫–æ–µ-–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ-2">–ê–∫–∞–¥–µ–º–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ</a></h4>
<p><strong>Facade</strong> (–§–∞—Å–∞–¥) - —Å—Ç—Ä—É–∫—Ç—É—Ä–Ω—ã–π –ø–∞—Ç—Ç–µ—Ä–Ω –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —É–ø—Ä–æ—â–µ–Ω–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∫ —Å–ª–æ–∂–Ω–æ–π –ø–æ–¥—Å–∏—Å—Ç–µ–º–µ, —Å–æ–¥–µ—Ä–∂–∞—â–µ–π –º–Ω–æ–∂–µ—Å—Ç–≤–æ –≤–∑–∞–∏–º–æ—Å–≤—è–∑–∞–Ω–Ω—ã—Ö –∫–ª–∞—Å—Å–æ–≤ –∏ –æ–±—ä–µ–∫—Ç–æ–≤.</p>
<p><strong>–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ –ø–∞—Ç—Ç–µ—Ä–Ω–∞:</strong></p>
<ul>
<li>–£–ø—Ä–æ—â–µ–Ω–∏–µ —Å–ª–æ–∂–Ω–æ–≥–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞</li>
<li>–£–º–µ–Ω—å—à–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –∫–ª–∏–µ–Ω—Ç–∞ –æ—Ç –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏—Ö –∫–ª–∞—Å—Å–æ–≤ –ø–æ–¥—Å–∏—Å—Ç–µ–º—ã</li>
<li>–°–æ–∑–¥–∞–Ω–∏–µ –µ–¥–∏–Ω–æ–π —Ç–æ—á–∫–∏ –≤—Ö–æ–¥–∞ –≤ –ø–æ–¥—Å–∏—Å—Ç–µ–º—É</li>
</ul>
<h4 id="–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ-–≤-–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ-client"><a class="header" href="#–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ-–≤-–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ-client">–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –≤ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ: Client</a></h4>
<p>–ö–ª–∞—Å—Å <strong>Client</strong> —è–≤–ª—è–µ—Ç—Å—è —Ñ–∞—Å–∞–¥–æ–º, –∫–æ—Ç–æ—Ä—ã–π —Å–∫—Ä—ã–≤–∞–µ—Ç —Å–ª–æ–∂–Ω—É—é –º–∞—à–∏–Ω–µ—Ä–∏—é —Å–µ—Ç–µ–≤—ã—Ö –ø—Ä–æ—Ç–æ–∫–æ–ª–æ–≤ –æ—Ç –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏.</p>
<p><strong>–ß—Ç–æ —Å–∫—Ä—ã–≤–∞–µ—Ç Client:</strong></p>
<pre><code class="language-javascript">class Client {
  // –ü—Ä–∏–≤–∞—Ç–Ω–æ–µ –ø–æ–ª–µ (# —Å–∏–Ω—Ç–∞–∫—Å–∏—Å TypeScript/ES2022)
  #transport;

  constructor(transport) {
    // –°–∫—Ä—ã–≤–∞–µ–º –≤–Ω—É—Ç—Ä–µ–Ω–Ω–æ—Å—Ç–∏:
    // - IncomingMessage (Node.js HTTP)
    // - ServerResponse (Node.js HTTP)
    // - WebSocket (ws –±–∏–±–ª–∏–æ—Ç–µ–∫–∞)
    this.#transport = transport;

    // –ü—É–±–ª–∏—á–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å - —Ç–æ–ª—å–∫–æ —Ç–æ, —á—Ç–æ –Ω—É–∂–Ω–æ userland
    this.state = {};
  }

  // –ü—É–±–ª–∏—á–Ω—ã–µ –º–µ—Ç–æ–¥—ã —Ñ–∞—Å–∞–¥–∞
  createSession(token, data) {
    const session = new Session(token, data);
    return session;
  }

  // –°–∫—Ä—ã—Ç—ã–π –º–µ—Ç–æ–¥ –¥–ª—è –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
  send(data) {
    this.#transport.send(data);
  }

  // –î–µ—Å—Ç—Ä—É–∫—Ç–æ—Ä –¥–ª—è –æ—á–∏—Å—Ç–∫–∏ —Ä–µ—Å—É—Ä—Å–æ–≤
  finalization() {
    // –û—á–∏—Å—Ç–∫–∞ —Å—Å—ã–ª–æ–∫ –Ω–∞ —Å–µ—Å—Å–∏–∏, tokens
    this.state = null;
  }
}
</code></pre>
<h4 id="–ü–æ—á–µ–º—É-–∏–º–µ–Ω–Ω–æ-—Ç–∞–∫-–≤-nodejs-2"><a class="header" href="#–ü–æ—á–µ–º—É-–∏–º–µ–Ω–Ω–æ-—Ç–∞–∫-–≤-nodejs-2">–ü–æ—á–µ–º—É –∏–º–µ–Ω–Ω–æ —Ç–∞–∫ –≤ Node.js?</a></h4>
<p><strong>1. –ü—Ä–∏–≤–∞—Ç–Ω—ã–µ –ø–æ–ª—è (#syntax)</strong></p>
<p>JavaScript/TypeScript –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç –ø—Ä–∏–≤–∞—Ç–Ω—ã–µ –ø–æ–ª—è —á–µ—Ä–µ–∑ <code>#</code> —Å–∏–Ω—Ç–∞–∫—Å–∏—Å (ES2022):</p>
<pre><code class="language-javascript">class Client {
  #transport;  // –ò—Å—Ç–∏–Ω–Ω–æ –ø—Ä–∏–≤–∞—Ç–Ω–æ–µ –ø–æ–ª–µ

  // –ù–µ–ª—å–∑—è –æ–±—Ä–∞—Ç–∏—Ç—å—Å—è –∏–∑–≤–Ω–µ:
  // client.#transport  // SyntaxError
}
</code></pre>
<p><strong>–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—ã –¥–æ ES2022:</strong></p>
<ul>
<li>–ó–∞–º—ã–∫–∞–Ω–∏—è (closures)</li>
<li>WeakMap –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –ø—Ä–∏–≤–∞—Ç–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö</li>
<li>–°–æ–≥–ª–∞—à–µ–Ω–∏–µ –æ –∏–º–µ–Ω–æ–≤–∞–Ω–∏–∏ (_privateField)</li>
</ul>
<p><strong>2. –ö–æ–º–ø–æ–∑–∏—Ü–∏—è –≤–º–µ—Å—Ç–æ –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è</strong></p>
<p>–§–∞—Å–∞–¥ –≤ Node.js —á–∞—Å—Ç–æ —Ä–µ–∞–ª–∏–∑—É–µ—Ç—Å—è —á–µ—Ä–µ–∑ –∫–æ–º–ø–æ–∑–∏—Ü–∏—é:</p>
<pre><code class="language-javascript">// Client —Å–æ–¥–µ—Ä–∂–∏—Ç Transport, –Ω–æ –Ω–µ –Ω–∞—Å–ª–µ–¥—É–µ—Ç –æ—Ç –Ω–µ–≥–æ
class Client {
  #transport;  // –ö–æ–º–ø–æ–∑–∏—Ü–∏—è

  // –î–µ–ª–µ–≥–∏—Ä—É–µ—Ç —Ç–æ–ª—å–∫–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏
  send(data) {
    return this.#transport.send(data);
  }
}
</code></pre>
<p><strong>–ü–æ—á–µ–º—É –Ω–µ –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ?</strong></p>
<pre><code class="language-javascript">// –ü–ª–æ—Ö–æ: –ø—É–±–ª–∏–∫—É–µ—Ç –≤–µ—Å—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å Transport
class Client extends Transport {
  // –ü—Ä–æ–±–ª–µ–º–∞: –≤–µ—Å—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å Transport –¥–æ—Å—Ç—É–ø–µ–Ω
  // client.write(), client.response, client.connection
}
</code></pre>
<h4 id="–ö–∞–∫—É—é-–ø—Ä–æ–±–ª–µ–º—É-—Ä–µ—à–∞–µ—Ç-2"><a class="header" href="#–ö–∞–∫—É—é-–ø—Ä–æ–±–ª–µ–º—É-—Ä–µ—à–∞–µ—Ç-2">–ö–∞–∫—É—é –ø—Ä–æ–±–ª–µ–º—É —Ä–µ—à–∞–µ—Ç?</a></h4>
<p><strong>–ü—Ä–æ–±–ª–µ–º–∞</strong>: –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ –Ω–µ –¥–æ–ª–∂–Ω–∞ –∏–º–µ—Ç—å –¥–æ—Å—Ç—É–ø –∫ –Ω–∏–∑–∫–æ—É—Ä–æ–≤–Ω–µ–≤—ã–º –¥–µ—Ç–∞–ª—è–º HTTP/WebSocket.</p>
<p><strong>–û–ø–∞—Å–Ω–æ—Å—Ç–∏ –ø—Ä—è–º–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞:</strong></p>
<ol>
<li><strong>Race Conditions</strong></li>
</ol>
<pre><code class="language-javascript">// –ü–ª–æ—Ö–æ: –ø—Ä—è–º–æ–π –¥–æ—Å—Ç—É–ø –∫ response
async function endpoint(context) {
  const { response } = context;  // –û–ø–∞—Å–Ω–æ!

  await processData();
  response.end('OK');  // –ü–µ—Ä–≤—ã–π –æ—Ç–≤–µ—Ç

  await anotherOperation();
  response.end('DONE');  // –û—à–∏–±–∫–∞! response —É–∂–µ –∑–∞–≤–µ—Ä—à–µ–Ω
}
</code></pre>
<ol start="2">
<li><strong>Monkey Patching</strong></li>
</ol>
<pre><code class="language-javascript">// –ü–ª–æ—Ö–æ: –∏–∑–º–µ–Ω–µ–Ω–∏–µ –ø–æ–≤–µ–¥–µ–Ω–∏—è –ø—Ä–æ—Ç–æ–∫–æ–ª–∞
context.response.writeHead = () =&gt; {
  // –°–ª–æ–º–∞–Ω–Ω–∞—è –ª–æ–≥–∏–∫–∞
};
</code></pre>
<ol start="3">
<li><strong>–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –æ—Ç —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∞</strong></li>
</ol>
<pre><code class="language-javascript">// –ü–ª–æ—Ö–æ: –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ –∑–Ω–∞–µ—Ç –æ Node.js HTTP API
if (context.request.headers['content-type'] === 'application/json') {
  // –õ–æ–≥–∏–∫–∞ –∑–∞–≤—è–∑–∞–Ω–∞ –Ω–∞ Node.js IncomingMessage
}
</code></pre>
<p><strong>–†–µ—à–µ–Ω–∏–µ —Å Facade (Client):</strong></p>
<pre><code class="language-javascript">// –•–æ—Ä–æ—à–æ: –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–µ–π
async function endpoint(context) {
  const { client } = context;

  // –ü—Ä–æ—Å—Ç–æ–π, –±–µ–∑–æ–ø–∞—Å–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
  await client.send({ status: 'processing' });

  // –ù–µ—Ç –ø—Ä—è–º–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞ –∫ request/response
  // –ù–µ—Ç –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –¥–ª—è race conditions
}
</code></pre>
<h4 id="–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–æ–µ-–∑–Ω–∞—á–µ–Ω–∏–µ-1"><a class="header" href="#–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–æ–µ-–∑–Ω–∞—á–µ–Ω–∏–µ-1">–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ</a></h4>
<p>Facade (Client) –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç:</p>
<ol>
<li><strong>–ò–Ω–∫–∞–ø—Å—É–ª—è—Ü–∏—è</strong> - –¥–µ—Ç–∞–ª–∏ –ø—Ä–æ—Ç–æ–∫–æ–ª–∞ —Å–∫—Ä—ã—Ç—ã</li>
<li><strong>–°—Ç–∞–±–∏–ª—å–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å</strong> - –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ Transport –Ω–µ –≤–ª–∏—è—é—Ç –Ω–∞ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫—É</li>
<li><strong>–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å</strong> - –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ –Ω–∞–ø—Ä—è–º—É—é –º–∞–Ω–∏–ø—É–ª–∏—Ä–æ–≤–∞—Ç—å —Å–æ–∫–µ—Ç–∞–º–∏</li>
<li><strong>–¢–µ—Å—Ç–∏—Ä—É–µ–º–æ—Å—Ç—å</strong> - Client –º–æ–∂–Ω–æ –ª–µ–≥–∫–æ –∑–∞–º–æ–∫–∏—Ä–æ–≤–∞—Ç—å</li>
</ol>
<p><strong>–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ –æ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏:</strong></p>
<p>–í —Å—Ö–µ–º–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã –ø—É–Ω–∫—Ç–∏—Ä–Ω—ã–µ –∑–µ–ª–µ–Ω—ã–µ —Å—Ç—Ä–µ–ª–∫–∏ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç –ø—Ä–∏–≤–∞—Ç–Ω—ã–µ –ø–æ–ª—è (#):</p>
<ul>
<li>Client ‚Üí Transport (–ø—Ä–∏–≤–∞—Ç–Ω–∞—è —Å—Å—ã–ª–∫–∞)</li>
<li>Transport ‚Üí Connection/Response/Request (–ø—Ä–∏–≤–∞—Ç–Ω—ã–µ —Å—Å—ã–ª–∫–∏)</li>
</ul>
<p>–ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ –≤–∏–¥–∏—Ç —Ç–æ–ª—å–∫–æ Client, –Ω–æ –Ω–µ —Ç–æ, —á—Ç–æ –∑–∞ –Ω–∏–º —Å–∫—Ä—ã—Ç–æ.</p>
<hr />
<h3 id="4-chain-of-responsibility-–¶–µ–ø–æ—á–∫–∞-–æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏"><a class="header" href="#4-chain-of-responsibility-–¶–µ–ø–æ—á–∫–∞-–æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏">4. Chain of Responsibility (–¶–µ–ø–æ—á–∫–∞ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏)</a></h3>
<h4 id="–ê–∫–∞–¥–µ–º–∏—á–µ—Å–∫–æ–µ-–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ-3"><a class="header" href="#–ê–∫–∞–¥–µ–º–∏—á–µ—Å–∫–æ–µ-–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ-3">–ê–∫–∞–¥–µ–º–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ</a></h4>
<p><strong>Chain of Responsibility</strong> (–¶–µ–ø–æ—á–∫–∞ –æ–±—è–∑–∞–Ω–Ω–æ—Å—Ç–µ–π, –¶–µ–ø–æ—á–∫–∞ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏) - –ø–æ–≤–µ–¥–µ–Ω—á–µ—Å–∫–∏–π –ø–∞—Ç—Ç–µ—Ä–Ω –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å –∑–∞–ø—Ä–æ—Å—ã –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ –ø–æ —Ü–µ–ø–æ—á–∫–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤. –ö–∞–∂–¥—ã–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ —Ä–µ—à–∞–µ—Ç, –º–æ–∂–µ—Ç –ª–∏ –æ–Ω –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å –∑–∞–ø—Ä–æ—Å, –∏ —Å—Ç–æ–∏—Ç –ª–∏ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å –∑–∞–ø—Ä–æ—Å –¥–∞–ª—å—à–µ –ø–æ —Ü–µ–ø–æ—á–∫–µ.</p>
<p><strong>–ö–ª—é—á–µ–≤—ã–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–æ–≥–æ –ø–∞—Ç—Ç–µ—Ä–Ω–∞:</strong></p>
<ol>
<li><strong>–û–¥–∏–Ω –æ–±—Ä–∞–±–æ—Ç—á–∏–∫</strong> - —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —ç–ª–µ–º–µ–Ω—Ç —Ü–µ–ø–æ—á–∫–∏ –¥–æ–ª–∂–µ–Ω –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å –∑–∞–ø—Ä–æ—Å</li>
<li><strong>–ü—Ä–µ–∫—Ä–∞—â–µ–Ω–∏–µ —Ü–µ–ø–æ—á–∫–∏</strong> - –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è, –∫–æ–≥–¥–∞ –Ω–∞–π–¥–µ–Ω –ø–æ–¥—Ö–æ–¥—è—â–∏–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫</li>
<li><strong>–°–ª–∞–±–∞—è —Å–≤—è–∑–∞–Ω–Ω–æ—Å—Ç—å</strong> - –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—å –Ω–µ –∑–Ω–∞–µ—Ç, –∫–∞–∫–æ–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –æ–±—Ä–∞–±–æ—Ç–∞–µ—Ç –∑–∞–ø—Ä–æ—Å</li>
</ol>
<p><strong>–ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è:</strong></p>
<pre><code class="language-javascript">class Handler {
  setNext(handler) {
    this.next = handler;
    return handler;
  }

  handle(request) {
    if (this.canHandle(request)) {
      return this.process(request);
    }
    if (this.next) {
      return this.next.handle(request);  // –ü–µ—Ä–µ–¥–∞—á–∞ –¥–∞–ª—å—à–µ
    }
    return null;  // –ù–∏–∫—Ç–æ –Ω–µ –æ–±—Ä–∞–±–æ—Ç–∞–ª
  }
}
</code></pre>
<h4 id="–ü—Ä–æ–±–ª–µ–º—ã-–∞–¥–∞–ø—Ç–∞—Ü–∏–∏-–¥–ª—è-httpnodejs-middleware"><a class="header" href="#–ü—Ä–æ–±–ª–µ–º—ã-–∞–¥–∞–ø—Ç–∞—Ü–∏–∏-–¥–ª—è-httpnodejs-middleware">–ü—Ä–æ–±–ª–µ–º—ã –∞–¥–∞–ø—Ç–∞—Ü–∏–∏ –¥–ª—è HTTP/Node.js: Middleware</a></h4>
<p>–í Node.js/Express —ç–∫–æ—Å–∏—Å—Ç–µ–º–µ —à–∏—Ä–æ–∫–æ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω –ø–∞—Ç—Ç–µ—Ä–Ω <strong>Middleware</strong>, –∫–æ—Ç–æ—Ä—ã–π —è–≤–ª—è–µ—Ç—Å—è <strong>–Ω–∞—Ä—É—à–µ–Ω–Ω–æ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–µ–π</strong> Chain of Responsibility.</p>
<p><strong>–ß—Ç–æ —Ç–∞–∫–æ–µ Middleware?</strong></p>
<pre><code class="language-javascript">// Express/Connect middleware
app.use((req, res, next) =&gt; {
  // –ù–µ–∫–æ—Ç–æ—Ä–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞
  console.log('Middleware 1');
  next();  // –ü–µ—Ä–µ–¥–∞—á–∞ —Å–ª–µ–¥—É—é—â–µ–º—É
});

app.use((req, res, next) =&gt; {
  console.log('Middleware 2');
  next();
});

app.use((req, res, next) =&gt; {
  console.log('Middleware 3');
  res.send('Done');
});
</code></pre>
<h4 id="–ü–æ—á–µ–º—É-middleware---—ç—Ç–æ-—Å–ª–æ–º–∞–Ω–Ω—ã–π-chain-of-responsibility"><a class="header" href="#–ü–æ—á–µ–º—É-middleware---—ç—Ç–æ-—Å–ª–æ–º–∞–Ω–Ω—ã–π-chain-of-responsibility">–ü–æ—á–µ–º—É Middleware - —ç—Ç–æ "—Å–ª–æ–º–∞–Ω–Ω—ã–π" Chain of Responsibility?</a></h4>
<p><strong>–ü—Ä–æ–±–ª–µ–º–∞ 1: –í—Å–µ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç –∑–∞–ø—Ä–æ—Å, –∞ –Ω–µ –æ–¥–∏–Ω</strong></p>
<pre><code class="language-javascript">// Chain of Responsibility: –û–î–ò–ù –æ–±—Ä–∞–±–æ—Ç—á–∏–∫
handler1.handle(request);  // –ï—Å–ª–∏ –æ–±—Ä–∞–±–æ—Ç–∞–ª, —Ü–µ–ø–æ—á–∫–∞ –ø—Ä–µ—Ä—ã–≤–∞–µ—Ç—Å—è
// –ò–õ–ò
handler2.handle(request);  // –í—ã–ø–æ–ª–Ω–∏—Ç—Å—è —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ handler1 –Ω–µ –æ–±—Ä–∞–±–æ—Ç–∞–ª

// Middleware: –í–°–ï –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏
middleware1(req, res, next);  // –í—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è
middleware2(req, res, next);  // –í—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è
middleware3(req, res, next);  // –í—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è —Ç–æ–∂–µ
</code></pre>
<p><strong>–ü—Ä–æ–±–ª–µ–º–∞ 2: Race Conditions</strong></p>
<pre><code class="language-javascript">// –ü–ª–æ—Ö–æ: –Ω–µ—Å–∫–æ–ª—å–∫–æ middleware –º–æ–≥—É—Ç –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –æ—Ç–≤–µ—Ç
app.use((req, res, next) =&gt; {
  res.send('Response 1');  // –ü–µ—Ä–≤—ã–π –æ—Ç–≤–µ—Ç
  next();  // –ü—Ä–æ–¥–æ–ª–∂–∞–µ–º –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ!
});

app.use((req, res, next) =&gt; {
  res.send('Response 2');  // –û—à–∏–±–∫–∞! –ó–∞–≥–æ–ª–æ–≤–∫–∏ —É–∂–µ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω—ã
});
</code></pre>
<p><strong>–ü—Ä–æ–±–ª–µ–º–∞ 3: –ù–µ—è–≤–Ω–∞—è –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å</strong></p>
<pre><code class="language-javascript">app.use(parseCookies);       // –ú–µ–Ω—è–µ—Ç req.cookies
app.use(checkSession);       // –ú–µ–Ω—è–µ—Ç req.session
app.use(checkPermissions);   // –ú–µ–Ω—è–µ—Ç req.user
app.use(handleRequest);      // –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –≤—Å–µ –≤—ã—à–µ–ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–Ω–æ–µ

// –ö—Ç–æ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–µ–Ω –∑–∞ –∫–∞–∫–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ? –ù–µ—è—Å–Ω–æ!
</code></pre>
<p><strong>–ü—Ä–æ–±–ª–µ–º–∞ 4: –ú—É—Ç–∞—Ü–∏—è –æ–±—â–µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è</strong></p>
<pre><code class="language-javascript">app.use((req, res, next) =&gt; {
  req.customField = 'value1';
  next();
});

app.use((req, res, next) =&gt; {
  req.customField = 'value2';  // –ü–µ—Ä–µ–∑–∞–ø–∏—Å–∞–ª–∏!
  next();
});
</code></pre>
<h4 id="–†–µ—à–µ–Ω–∏–µ-–≤-–¥–∞–Ω–Ω–æ–π-–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ-map-based-routing"><a class="header" href="#–†–µ—à–µ–Ω–∏–µ-–≤-–¥–∞–Ω–Ω–æ–π-–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ-map-based-routing">–†–µ—à–µ–Ω–∏–µ –≤ –¥–∞–Ω–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ: Map-based Routing</a></h4>
<p>–í–º–µ—Å—Ç–æ Chain of Responsibility –∏–ª–∏ Middleware, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è <strong>–ø—Ä—è–º–æ–π —Ä–æ—É—Ç–∏–Ω–≥</strong> —á–µ—Ä–µ–∑ –∫–æ–ª–ª–µ–∫—Ü–∏—é:</p>
<pre><code class="language-javascript">// –†–æ—É—Ç–∏–Ω–≥ —á–µ—Ä–µ–∑ Map (–∏–ª–∏ Object)
const routes = new Map();

// –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è endpoints
routes.set('user.login', async (context) =&gt; {
  // –û–±—Ä–∞–±–æ—Ç–∫–∞ login
});

routes.set('user.logout', async (context) =&gt; {
  // –û–±—Ä–∞–±–æ—Ç–∫–∞ logout
});

// –í—ã–∑–æ–≤ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ endpoint
const handler = routes.get(methodName);
if (handler) {
  await handler(context);  // –¢–æ–ª—å–∫–æ –æ–¥–∏–Ω –æ–±—Ä–∞–±–æ—Ç—á–∏–∫!
} else {
  throw new Error('Method not found');
}
</code></pre>
<p><strong>–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:</strong></p>
<ol>
<li><strong>–Ø–≤–Ω–∞—è –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å</strong> - –æ–¥–∏–Ω endpoint –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ –æ–¥–∏–Ω –º–µ—Ç–æ–¥</li>
<li><strong>–ù–µ—Ç race conditions</strong> - —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è</li>
<li><strong>–ù–µ—Ç –º—É—Ç–∞—Ü–∏–∏ –æ–±—â–µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è</strong> - –∫–∞–∂–¥—ã–π endpoint –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω</li>
<li><strong>–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å</strong> - O(1) –ø–æ–∏—Å–∫ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞ –≤–º–µ—Å—Ç–æ O(n)</li>
</ol>
<h4 id="–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞-middleware-hooks-fastify"><a class="header" href="#–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞-middleware-hooks-fastify">–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ Middleware: Hooks (Fastify)</a></h4>
<p><strong>Hooks</strong> - —ç—Ç–æ —Å–æ–±—ã—Ç–∏–π–Ω–∞—è –º–æ–¥–µ–ª—å, –∫–æ—Ç–æ—Ä–∞—è –±–µ–∑–æ–ø–∞—Å–Ω–µ–µ Middleware:</p>
<pre><code class="language-javascript">// Fastify hooks
fastify.addHook('onRequest', async (request, reply) =&gt; {
  // –í—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –ø–µ—Ä–µ–¥ –æ–±—Ä–∞–±–æ—Ç–∫–æ–π –∑–∞–ø—Ä–æ—Å–∞
  // –ù–µ –º–æ–∂–µ—Ç –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –æ—Ç–≤–µ—Ç (reply –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω)
});

fastify.addHook('preHandler', async (request, reply) =&gt; {
  // –í—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –ø–µ—Ä–µ–¥ handler
  // –ú–æ–∂–µ—Ç –ø—Ä–µ—Ä–≤–∞—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —á–µ—Ä–µ–∑ reply.send()
});

fastify.addHook('onSend', async (request, reply, payload) =&gt; {
  // –í—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –ø–µ—Ä–µ–¥ –æ—Ç–ø—Ä–∞–≤–∫–æ–π –æ—Ç–≤–µ—Ç–∞
  // –ú–æ–∂–µ—Ç –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å payload
  return modifiedPayload;
});

fastify.get('/route', async (request, reply) =&gt; {
  // –û—Å–Ω–æ–≤–Ω–æ–π handler - –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π –∑–∞ –æ—Ç–≤–µ—Ç
  return { data: 'value' };
});
</code></pre>
<p><strong>–ü–æ—á–µ–º—É Hooks –ª—É—á—à–µ Middleware?</strong></p>
<ol>
<li><strong>–ß–µ—Ç–∫–∏–µ —Ñ–∞–∑—ã</strong> - –∫–∞–∂–¥—ã–π hook —Å—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –Ω–∞ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–π —Å—Ç–∞–¥–∏–∏ lifecycle</li>
<li><strong>–Ø–≤–Ω–∞—è –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å</strong> - –æ—Å–Ω–æ–≤–Ω–æ–π handler –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–µ–Ω –∑–∞ –æ—Ç–≤–µ—Ç</li>
<li><strong>–ù–µ—Ç race conditions</strong> - hooks –Ω–µ –º–æ–≥—É—Ç —Å–ª—É—á–∞–π–Ω–æ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –æ—Ç–≤–µ—Ç–æ–≤</li>
<li><strong>–ò–∑–æ–ª—è—Ü–∏—è</strong> - hooks –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –º–∞—Ä—à—Ä—É—Ç–æ–≤ –Ω–µ –≤–ª–∏—è—é—Ç –¥—Ä—É–≥ –Ω–∞ –¥—Ä—É–≥–∞</li>
</ol>
<h4 id="–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏-–¥–ª—è-–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã"><a class="header" href="#–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏-–¥–ª—è-–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã">–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –¥–ª—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã</a></h4>
<p>–î–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è cross-cutting concerns (–ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ, –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è, –≤–∞–ª–∏–¥–∞—Ü–∏—è):</p>
<p><strong>–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Hooks, –Ω–µ Middleware:</strong></p>
<pre><code class="language-javascript">// –•–æ—Ä–æ—à–æ: Hook –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
server.addHook('preHandler', async (context) =&gt; {
  if (!context.session) {
    throw new Error('Not authenticated');
  }
});

// –û—Å–Ω–æ–≤–Ω–æ–π handler
async function endpoint(context) {
  // –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è —É–∂–µ –ø—Ä–æ–≤–µ—Ä–µ–Ω–∞
  return { data: 'secure data' };
}
</code></pre>
<p><strong>–ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä—ã/–æ–±–µ—Ä—Ç–∫–∏:</strong></p>
<pre><code class="language-javascript">// –î–µ–∫–æ—Ä–∞—Ç–æ—Ä –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø—Ä–∞–≤
const requireAuth = (handler) =&gt; {
  return async (context) =&gt; {
    if (!context.session) {
      throw new Error('Not authenticated');
    }
    return handler(context);
  };
};

// –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ
routes.set('user.profile', requireAuth(async (context) =&gt; {
  return { profile: context.session.user };
}));
</code></pre>
<hr />
<h3 id="5-singleton-–°–∏–Ω–≥–ª—Ç–æ–Ω"><a class="header" href="#5-singleton-–°–∏–Ω–≥–ª—Ç–æ–Ω">5. Singleton (–°–∏–Ω–≥–ª—Ç–æ–Ω)</a></h3>
<h4 id="–ê–∫–∞–¥–µ–º–∏—á–µ—Å–∫–æ–µ-–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ-4"><a class="header" href="#–ê–∫–∞–¥–µ–º–∏—á–µ—Å–∫–æ–µ-–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ-4">–ê–∫–∞–¥–µ–º–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ</a></h4>
<p><strong>Singleton</strong> (–û–¥–∏–Ω–æ—á–∫–∞) - –ø–æ—Ä–æ–∂–¥–∞—é—â–∏–π –ø–∞—Ç—Ç–µ—Ä–Ω –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è, –∫–æ—Ç–æ—Ä—ã–π –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, —á—Ç–æ —É –∫–ª–∞—Å—Å–∞ –µ—Å—Ç—å —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —ç–∫–∑–µ–º–ø–ª—è—Ä, –∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –≥–ª–æ–±–∞–ª—å–Ω—É—é —Ç–æ—á–∫—É –¥–æ—Å—Ç—É–ø–∞ –∫ —ç—Ç–æ–º—É —ç–∫–∑–µ–º–ø–ª—è—Ä—É.</p>
<h4 id="–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ-–≤-–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ-server"><a class="header" href="#–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ-–≤-–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ-server">–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –≤ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ: Server</a></h4>
<p>–ö–ª–∞—Å—Å <strong>Server</strong> —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∏—Ä—É–µ—Ç –∫–∞–∫ —Å–∏–Ω–≥–ª—Ç–æ–Ω –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ –æ–¥–Ω–æ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–∞ Node.js:</p>
<pre><code class="language-javascript">class Server {
  constructor(config) {
    this.config = config;
    this.sessions = new Map();      // –ì–ª–æ–±–∞–ª—å–Ω–∞—è –∫–æ–ª–ª–µ–∫—Ü–∏—è —Å–µ—Å—Å–∏–π
    this.clients = new Set();       // –ö–ª–∏–µ–Ω—Ç—ã —Ç–µ–∫—É—â–µ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞
    this.routes = new Map();        // –†–æ—É—Ç–∏–Ω–≥
  }

  listen(port) {
    // –û–¥–∏–Ω —Å–µ—Ä–≤–µ—Ä —Å–ª—É—à–∞–µ—Ç –æ–¥–∏–Ω –ø–æ—Ä—Ç
    this.http = http.createServer(/* ... */);
    this.ws = new WebSocketServer(/* ... */);

    this.http.listen(port);
  }
}

// –í –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏
const server = new Server(config);
server.listen(8000);
</code></pre>
<h4 id="–ü–æ—á–µ–º—É-–ø–æ—á—Ç–∏-—Å–∏–Ω–≥–ª—Ç–æ–Ω"><a class="header" href="#–ü–æ—á–µ–º—É-–ø–æ—á—Ç–∏-—Å–∏–Ω–≥–ª—Ç–æ–Ω">–ü–æ—á–µ–º—É "–ø–æ—á—Ç–∏" —Å–∏–Ω–≥–ª—Ç–æ–Ω?</a></h4>
<p><strong>–§–æ—Ä–º–∞–ª—å–Ω–æ –Ω–µ —Å–∏–Ω–≥–ª—Ç–æ–Ω:</strong></p>
<ul>
<li>–ú–æ–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —ç–∫–∑–µ–º–ø–ª—è—Ä–æ–≤ <code>new Server()</code></li>
<li>–ù–µ—Ç –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–≥–æ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –Ω–∞ —Å–æ–∑–¥–∞–Ω–∏–µ</li>
</ul>
<p><strong>–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏ —Å–∏–Ω–≥–ª—Ç–æ–Ω:</strong></p>
<ul>
<li>–û–¥–∏–Ω —Å–µ—Ä–≤–µ—Ä = –æ–¥–∏–Ω –ø–æ—Ä—Ç</li>
<li>–ì–ª–æ–±–∞–ª—å–Ω—ã–µ –∫–æ–ª–ª–µ–∫—Ü–∏–∏ —Å–µ—Å—Å–∏–π –∏ –∫–ª–∏–µ–Ω—Ç–æ–≤</li>
<li>–û–±—ã—á–Ω–æ –æ–¥–Ω–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ = –æ–¥–∏–Ω —ç–∫–∑–µ–º–ø–ª—è—Ä Server</li>
</ul>
<p><strong>–ú–æ–¥—É–ª—å Node.js –∫–∞–∫ —Å–∏–Ω–≥–ª—Ç–æ–Ω:</strong></p>
<pre><code class="language-javascript">// server.js
class Server { /* ... */ }

// –≠–∫—Å–ø–æ—Ä—Ç –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ —ç–∫–∑–µ–º–ø–ª—è—Ä–∞
module.exports = new Server(config);

// –ü—Ä–∏ –∏–º–ø–æ—Ä—Ç–µ –ø–æ–ª—É—á–∞–µ–º —Ç–æ—Ç –∂–µ —ç–∫–∑–µ–º–ø–ª—è—Ä
const server = require('./server');  // –í—Å–µ–≥–¥–∞ –æ–¥–∏–Ω –∏ —Ç–æ—Ç –∂–µ –æ–±—ä–µ–∫—Ç
</code></pre>
<p>Node.js –∫–µ—à–∏—Ä—É–µ—Ç –º–æ–¥—É–ª–∏ - <code>require()</code> –¥–ª—è –æ–¥–Ω–æ–≥–æ –º–æ–¥—É–ª—è –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ–¥–∏–Ω –∏ —Ç–æ—Ç –∂–µ —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –æ–±—ä–µ–∫—Ç.</p>
<hr />
<h2 id="javascript-—Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ-–ø–∞—Ç—Ç–µ—Ä–Ω—ã"><a class="header" href="#javascript-—Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ-–ø–∞—Ç—Ç–µ—Ä–Ω—ã">JavaScript-—Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã</a></h2>
<h3 id="eventemitter-vs-publisher-subscriber"><a class="header" href="#eventemitter-vs-publisher-subscriber">EventEmitter vs Publisher-Subscriber</a></h3>
<h4 id="–ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π-publisher-subscriber-gof"><a class="header" href="#–ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π-publisher-subscriber-gof">–ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π Publisher-Subscriber (GoF)</a></h4>
<p><strong>Publisher-Subscriber</strong> (–ò–∑–¥–∞—Ç–µ–ª—å-–ü–æ–¥–ø–∏—Å—á–∏–∫, Observer) - –ø–æ–≤–µ–¥–µ–Ω—á–µ—Å–∫–∏–π –ø–∞—Ç—Ç–µ—Ä–Ω, –∫–æ—Ç–æ—Ä—ã–π –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å "–æ–¥–∏–Ω-–∫–æ-–º–Ω–æ–≥–∏–º" –º–µ–∂–¥—É –æ–±—ä–µ–∫—Ç–∞–º–∏ —Ç–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, —á—Ç–æ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è –æ–¥–Ω–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞ –≤—Å–µ –∑–∞–≤–∏—Å—è—â–∏–µ –æ—Ç –Ω–µ–≥–æ –æ–ø–æ–≤–µ—â–∞—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.</p>
<p><strong>–ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –≤ –û–û–ü:</strong></p>
<pre><code class="language-java">// Java –ø—Ä–∏–º–µ—Ä
interface Subscriber {
  void update(Event event);  // –í—Å–µ –ø–æ–¥–ø–∏—Å—á–∏–∫–∏ –¥–æ–ª–∂–Ω—ã –∏–º–µ—Ç—å —ç—Ç–æ—Ç –º–µ—Ç–æ–¥
}

class Publisher {
  private List&lt;Subscriber&gt; subscribers = new ArrayList&lt;&gt;();

  public void subscribe(Subscriber subscriber) {
    subscribers.add(subscriber);
  }

  public void notify(Event event) {
    for (Subscriber subscriber : subscribers) {
      subscriber.update(event);  // –í—ã–∑—ã–≤–∞–µ–º –∏–∑–≤–µ—Å—Ç–Ω—ã–π –º–µ—Ç–æ–¥
    }
  }
}

class ConcreteSubscriber implements Subscriber {
  public void update(Event event) {
    // –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–±—ã—Ç–∏—è
  }
}
</code></pre>
<p><strong>–ü—Ä–æ–±–ª–µ–º—ã –≤ JavaScript:</strong></p>
<ol>
<li><strong>–ù–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞</strong> - –≤—Å–µ –ø–æ–¥–ø–∏—Å—á–∏–∫–∏ –¥–æ–ª–∂–Ω—ã —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å <code>update()</code></li>
<li><strong>–ò–∑–±—ã—Ç–æ—á–Ω–æ—Å—Ç—å</strong> - –ø–µ—Ä–µ–¥–∞–µ–º —Å—Å—ã–ª–∫—É –Ω–∞ –≤–µ—Å—å –æ–±—ä–µ–∫—Ç, –∞ –Ω—É–∂–Ω–∞ —Ç–æ–ª—å–∫–æ —Ñ—É–Ω–∫—Ü–∏—è</li>
<li><strong>–ù–µ–≥–∏–±–∫–æ—Å—Ç—å</strong> - —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –∏–º—è –º–µ—Ç–æ–¥–∞ (<code>update</code>)</li>
</ol>
<h4 id="eventemitter-–≤-nodejs"><a class="header" href="#eventemitter-–≤-nodejs">EventEmitter –≤ Node.js</a></h4>
<p>Node.js –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –∫–ª–∞—Å—Å <strong>EventEmitter</strong>, –∫–æ—Ç–æ—Ä—ã–π —è–≤–ª—è–µ—Ç—Å—è –∏–¥–∏–æ–º–∞—Ç–∏—á–Ω–æ–π JavaScript-—Ä–µ–∞–ª–∏–∑–∞—Ü–∏–µ–π Publisher-Subscriber.</p>
<p><strong>–ü–æ—á–µ–º—É EventEmitter –ª—É—á—à–µ –¥–ª—è JavaScript?</strong></p>
<p><strong>1. –§—É–Ω–∫—Ü–∏–∏ –ø–µ—Ä–≤–æ–≥–æ –∫–ª–∞—Å—Å–∞</strong></p>
<pre><code class="language-javascript">const EventEmitter = require('events');

class Server extends EventEmitter {
  handleConnection(client) {
    // –£–≤–µ–¥–æ–º–ª—è–µ–º –ø–æ–¥–ø–∏—Å—á–∏–∫–æ–≤
    this.emit('connection', client);
  }
}

const server = new Server();

// –ü–æ–¥–ø–∏—Å—á–∏–∫–∏ –ø–µ—Ä–µ–¥–∞—é—Ç —Ñ—É–Ω–∫—Ü–∏–∏, –Ω–µ –æ–±—ä–µ–∫—Ç—ã!
server.on('connection', (client) =&gt; {
  console.log('Client connected');
});

server.on('connection', (client) =&gt; {
  console.log('Another handler for same event');
});
</code></pre>
<p><strong>–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:</strong></p>
<ul>
<li><strong>–ù–µ –Ω—É–∂–µ–Ω –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å</strong> - –ø–æ–¥–ø–∏—Å—á–∏–∫ = –ª—é–±–∞—è —Ñ—É–Ω–∫—Ü–∏—è</li>
<li><strong>–ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –ø–æ–¥–ø–∏—Å—á–∏–∫–∏</strong> - –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ñ—É–Ω–∫—Ü–∏–π –Ω–∞ –æ–¥–Ω–æ —Å–æ–±—ã—Ç–∏–µ</li>
<li><strong>–†–∞–∑–ª–∏—á–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è</strong> - –Ω–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω—ã –æ–¥–Ω–∏–º –º–µ—Ç–æ–¥–æ–º <code>update()</code></li>
</ul>
<p><strong>2. –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –≤ –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–∏ –ø–æ–¥–ø–∏—Å—á–∏–∫–æ–≤</strong></p>
<pre><code class="language-javascript">// –ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π Publisher-Subscriber —Ç—Ä–µ–±—É–µ—Ç:
class MySubscriber implements Subscriber { /* ... */ }

// EventEmitter - –ª—é–±–∞—è —Ñ—É–Ω–∫—Ü–∏—è:
const handler = (data) =&gt; console.log(data);
server.on('data', handler);

// –ò–ª–∏ –¥–∞–∂–µ –∞–Ω–æ–Ω–∏–º–Ω–∞—è:
server.on('data', (data) =&gt; console.log(data));
</code></pre>
<p><strong>3. –ò–º–µ–Ω–æ–≤–∞–Ω–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è</strong></p>
<pre><code class="language-javascript">server.on('connection', handleConnection);
server.on('close', handleClose);
server.on('error', handleError);
server.on('data', handleData);

// –í –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–æ–º Publisher-Subscriber:
// –í—Å–µ —Å–æ–±—ã—Ç–∏—è –∏–¥—É—Ç —á–µ—Ä–µ–∑ –æ–¥–∏–Ω –º–µ—Ç–æ–¥ update()
// –¢—Ä–µ–±—É–µ—Ç—Å—è switch/if –¥–ª—è —Ä–∞–∑–ª–∏—á–µ–Ω–∏—è —Ç–∏–ø–æ–≤
</code></pre>
<p><strong>4. –í—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å</strong></p>
<pre><code class="language-javascript">// –ü–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ –æ–¥–Ω–æ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏–µ
server.once('ready', () =&gt; {
  console.log('Server ready');
});

// –û—Ç–ø–∏—Å–∫–∞
server.off('connection', handler);

// –£–¥–∞–ª–µ–Ω–∏–µ –≤—Å–µ—Ö –ø–æ–¥–ø–∏—Å—á–∏–∫–æ–≤
server.removeAllListeners('connection');

// –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –ø–æ–¥–ø–∏—Å—á–∏–∫–æ–≤
const listeners = server.listeners('connection');

// –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –º–∞–∫—Å–∏–º—É–º–∞ –ø–æ–¥–ø–∏—Å—á–∏–∫–æ–≤ (memory leak warning)
server.setMaxListeners(20);
</code></pre>
<h4 id="–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ-–≤-–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ"><a class="header" href="#–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ-–≤-–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ">–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ</a></h4>
<p><strong>Client —Å EventEmitter:</strong></p>
<pre><code class="language-javascript">const EventEmitter = require('events');

class Client extends EventEmitter {
  constructor(transport) {
    super();  // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è EventEmitter
    this.#transport = transport;

    // –ü–æ–¥–ø–∏—Å—ã–≤–∞–µ–º—Å—è –Ω–∞ —Å–æ–±—ã—Ç–∏—è —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞
    this.#transport.on('data', (data) =&gt; {
      this.emit('message', data);  // –ü—Ä–æ–±—Ä–∞—Å—ã–≤–∞–µ–º —Å–æ–±—ã—Ç–∏–µ
    });

    this.#transport.on('close', () =&gt; {
      this.emit('disconnect');
    });
  }

  send(data) {
    this.#transport.send(data);
  }
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
const client = new Client(transport);

client.on('message', (data) =&gt; {
  console.log('Received:', data);
});

client.on('disconnect', () =&gt; {
  console.log('Client disconnected');
});
</code></pre>
<h4 id="–°—Ä–∞–≤–Ω–∏—Ç–µ–ª—å–Ω–∞—è-—Ç–∞–±–ª–∏—Ü–∞"><a class="header" href="#–°—Ä–∞–≤–Ω–∏—Ç–µ–ª—å–Ω–∞—è-—Ç–∞–±–ª–∏—Ü–∞">–°—Ä–∞–≤–Ω–∏—Ç–µ–ª—å–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞</a></h4>
<div class="table-wrapper"><table><thead><tr><th>–ê—Å–ø–µ–∫—Ç</th><th>Publisher-Subscriber (–∫–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π)</th><th>EventEmitter (Node.js)</th></tr></thead><tbody>
<tr><td>–ü–æ–¥–ø–∏—Å—á–∏–∫</td><td>–û–±—ä–µ–∫—Ç —Å –º–µ—Ç–æ–¥–æ–º <code>update()</code></td><td>–õ—é–±–∞—è —Ñ—É–Ω–∫—Ü–∏—è</td></tr>
<tr><td>–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å</td><td>–¢—Ä–µ–±—É–µ—Ç—Å—è</td><td>–ù–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è</td></tr>
<tr><td>–¢–∏–ø—ã —Å–æ–±—ã—Ç–∏–π</td><td>–û–±—ã—á–Ω–æ –æ–¥–∏–Ω —Ç–∏–ø (–∏–ª–∏ enum)</td><td>–ò–º–µ–Ω–æ–≤–∞–Ω–Ω—ã–µ —Å—Ç—Ä–æ–∫–∏</td></tr>
<tr><td>–Ø–∑—ã–∫</td><td>–¢–∏–ø–∏—á–µ–Ω –¥–ª—è Java, C#, C++</td><td>–ò–¥–∏–æ–º–∞—Ç–∏—á–µ–Ω –¥–ª—è JavaScript</td></tr>
<tr><td>–û—Ç–ø–∏—Å–∫–∞</td><td>–í—Ä—É—á–Ω—É—é —É–¥–∞–ª–µ–Ω–∏–µ –∏–∑ —Å–ø–∏—Å–∫–∞</td><td><code>off()</code>, <code>removeListener()</code></td></tr>
<tr><td>–û–¥–Ω–æ—Ä–∞–∑–æ–≤—ã–µ –ø–æ–¥–ø–∏—Å–∫–∏</td><td>–¢—Ä–µ–±—É—é—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π –ª–æ–≥–∏–∫–∏</td><td><code>once()</code></td></tr>
</tbody></table>
</div>
<hr />
<h3 id="hooks-–∫–∞–∫-–∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞-middleware"><a class="header" href="#hooks-–∫–∞–∫-–∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞-middleware">Hooks –∫–∞–∫ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ Middleware</a></h3>
<h4 id="–ü—Ä–æ–±–ª–µ–º–∞-–ø–∞—Ç—Ç–µ—Ä–Ω–∞-middleware"><a class="header" href="#–ü—Ä–æ–±–ª–µ–º–∞-–ø–∞—Ç—Ç–µ—Ä–Ω–∞-middleware">–ü—Ä–æ–±–ª–µ–º–∞ –ø–∞—Ç—Ç–µ—Ä–Ω–∞ Middleware</a></h4>
<p>–ö–∞–∫ –æ–±—Å—É–∂–¥–∞–ª–æ—Å—å —Ä–∞–Ω–µ–µ, Middleware –∏–º–µ–µ—Ç —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–∞–ª—å–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã:</p>
<ol>
<li>–í—Å–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è, –∞ –Ω–µ –æ–¥–∏–Ω</li>
<li>–í–æ–∑–º–æ–∂–Ω—ã race conditions –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ –æ—Ç–≤–µ—Ç–∞</li>
<li>–ú—É—Ç–∞—Ü–∏—è –æ–±—â–µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è (request/response)</li>
<li>–ù–µ—è–≤–Ω–∞—è –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å</li>
</ol>
<h4 id="–ü–∞—Ç—Ç–µ—Ä–Ω-hook"><a class="header" href="#–ü–∞—Ç—Ç–µ—Ä–Ω-hook">–ü–∞—Ç—Ç–µ—Ä–Ω Hook</a></h4>
<p><strong>Hook</strong> (–ü–µ—Ä–µ—Ö–≤–∞—Ç—á–∏–∫, –ö—Ä—é—á–æ–∫) - –ø–∞—Ç—Ç–µ—Ä–Ω, –ø—Ä–∏ –∫–æ—Ç–æ—Ä–æ–º –≤ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã—Ö —Ç–æ—á–∫–∞—Ö –∂–∏–∑–Ω–µ–Ω–Ω–æ–≥–æ —Ü–∏–∫–ª–∞ –æ–±—ä–µ–∫—Ç–∞ –≤—ã–∑—ã–≤–∞—é—Ç—Å—è –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π.</p>
<p><strong>–û—Ç–ª–∏—á–∏—è –æ—Ç Middleware:</strong></p>
<div class="table-wrapper"><table><thead><tr><th>–ê—Å–ø–µ–∫—Ç</th><th>Middleware</th><th>Hooks</th></tr></thead><tbody>
<tr><td>–ö–æ–Ω—Ü–µ–ø—Ü–∏—è</td><td>–¶–µ–ø–æ—á–∫–∞ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤</td><td>–°–æ–±—ã—Ç–∏—è –∂–∏–∑–Ω–µ–Ω–Ω–æ–≥–æ —Ü–∏–∫–ª–∞</td></tr>
<tr><td>–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å</td><td>–í—Å–µ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç</td><td>–ö–∞–∂–¥—ã–π hook - —Å–≤–æ—é —Ñ–∞–∑—É</td></tr>
<tr><td>–û—Ç–≤–µ—Ç –∫–ª–∏–µ–Ω—Ç—É</td><td>–õ—é–±–æ–π middleware –º–æ–∂–µ—Ç –æ—Ç–ø—Ä–∞–≤–∏—Ç—å</td><td>–¢–æ–ª—å–∫–æ –æ—Å–Ω–æ–≤–Ω–æ–π handler</td></tr>
<tr><td>–ü–æ—Ä—è–¥–æ–∫</td><td>–í–∞–∂–µ–Ω</td><td>–û–ø—Ä–µ–¥–µ–ª–µ–Ω –∂–∏–∑–Ω–µ–Ω–Ω—ã–º —Ü–∏–∫–ª–æ–º</td></tr>
<tr><td>–ò–∑–æ–ª—è—Ü–∏—è</td><td>–û–±—â–∏–π request/response</td><td>–ß–µ—Ç–∫–∏–µ –≥—Ä–∞–Ω–∏—Ü—ã</td></tr>
</tbody></table>
</div>
<h4 id="–†–µ–∞–ª–∏–∑–∞—Ü–∏—è-hooks-–≤-fastify"><a class="header" href="#–†–µ–∞–ª–∏–∑–∞—Ü–∏—è-hooks-–≤-fastify">–†–µ–∞–ª–∏–∑–∞—Ü–∏—è Hooks –≤ Fastify</a></h4>
<pre><code class="language-javascript">const fastify = require('fastify')();

// –•—É–∫–∏ –∂–∏–∑–Ω–µ–Ω–Ω–æ–≥–æ —Ü–∏–∫–ª–∞ –∑–∞–ø—Ä–æ—Å–∞ –≤ Fastify
fastify.addHook('onRequest', async (request, reply) =&gt; {
  // –§–∞–∑–∞ 1: –ó–∞–ø—Ä–æ—Å –ø–æ–ª—É—á–µ–Ω, –Ω–æ –µ—â–µ –Ω–µ –æ–±—Ä–∞–±–æ—Ç–∞–Ω
  console.log('Request received');
  // reply –µ—â–µ –Ω–µ–ª—å–∑—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –æ—Ç–≤–µ—Ç–∞
});

fastify.addHook('preParsing', async (request, reply) =&gt; {
  // –§–∞–∑–∞ 2: –ü–µ—Ä–µ–¥ –ø–∞—Ä—Å–∏–Ω–≥–æ–º —Ç–µ–ª–∞ –∑–∞–ø—Ä–æ—Å–∞
  // –ú–æ–∂–Ω–æ –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å –ø–æ—Ç–æ–∫ –¥–∞–Ω–Ω—ã—Ö
});

fastify.addHook('preValidation', async (request, reply) =&gt; {
  // –§–∞–∑–∞ 3: –ü–µ—Ä–µ–¥ –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π
  // –¢–µ–ª–æ —É–∂–µ —Ä–∞—Å–ø–∞—Ä—Å–µ–Ω–æ, –Ω–æ –Ω–µ –≤–∞–ª–∏–¥–∏—Ä–æ–≤–∞–Ω–æ
});

fastify.addHook('preHandler', async (request, reply) =&gt; {
  // –§–∞–∑–∞ 4: –ü–µ—Ä–µ–¥ –æ—Å–Ω–æ–≤–Ω—ã–º handler
  // –ü—Ä–æ–≤–µ—Ä–∫–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏, –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞

  if (!request.session) {
    reply.code(401).send({ error: 'Unauthorized' });
    // –û—Å–Ω–æ–≤–Ω–æ–π handler –ù–ï –≤—ã–ø–æ–ª–Ω–∏—Ç—Å—è
  }
});

// –û—Å–Ω–æ–≤–Ω–æ–π handler - –ï–î–ò–ù–°–¢–í–ï–ù–ù–´–ô –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π –∑–∞ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫—É
fastify.get('/api/data', async (request, reply) =&gt; {
  return { data: 'value' };
});

fastify.addHook('onSend', async (request, reply, payload) =&gt; {
  // –§–∞–∑–∞ 5: –ü–µ—Ä–µ–¥ –æ—Ç–ø—Ä–∞–≤–∫–æ–π –æ—Ç–≤–µ—Ç–∞
  // –ú–æ–∂–Ω–æ –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å payload
  const modified = { timestamp: Date.now(), ...payload };
  return modified;
});

fastify.addHook('onResponse', async (request, reply) =&gt; {
  // –§–∞–∑–∞ 6: –ü–æ—Å–ª–µ –æ—Ç–ø—Ä–∞–≤–∫–∏ –æ—Ç–≤–µ—Ç–∞
  // –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ, –º–µ—Ç—Ä–∏–∫–∏
  console.log(`Response sent in ${reply.getResponseTime()}ms`);
});

fastify.addHook('onError', async (request, reply, error) =&gt; {
  // –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
  console.error('Error occurred:', error);
});
</code></pre>
<h4 id="–ñ–∏–∑–Ω–µ–Ω–Ω—ã–π-—Ü–∏–∫–ª-–∑–∞–ø—Ä–æ—Å–∞-—Å-hooks"><a class="header" href="#–ñ–∏–∑–Ω–µ–Ω–Ω—ã–π-—Ü–∏–∫–ª-–∑–∞–ø—Ä–æ—Å–∞-—Å-hooks">–ñ–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª –∑–∞–ø—Ä–æ—Å–∞ —Å Hooks</a></h4>
<pre><code>Incoming Request
      ‚Üì
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ onRequest   ‚îÇ ‚Üê –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ, —É—Å—Ç–∞–Ω–æ–≤–∫–∞ request ID
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
      ‚Üì
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ preParsing  ‚îÇ ‚Üê –î–µ–∫–æ–º–ø—Ä–µ—Å—Å–∏—è, —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏—è –ø–æ—Ç–æ–∫–∞
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
      ‚Üì
  [–ü–∞—Ä—Å–∏–Ω–≥ —Ç–µ–ª–∞]
      ‚Üì
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ preValidation   ‚îÇ ‚Üê –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
      ‚Üì
  [–í–∞–ª–∏–¥–∞—Ü–∏—è —Å—Ö–µ–º—ã]
      ‚Üì
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ preHandler  ‚îÇ ‚Üê –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è, –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
      ‚Üì
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   Handler   ‚îÇ ‚Üê –û–°–ù–û–í–ù–ê–Ø –ë–ò–ó–ù–ï–°-–õ–û–ì–ò–ö–ê (–µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–∞—è –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å)
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
      ‚Üì
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   onSend    ‚îÇ ‚Üê –°–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è, —Å–∂–∞—Ç–∏–µ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
      ‚Üì
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ onResponse  ‚îÇ ‚Üê –ú–µ—Ç—Ä–∏–∫–∏, –æ—á–∏—Å—Ç–∫–∞ —Ä–µ—Å—É—Ä—Å–æ–≤
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
      ‚Üì
  Response Sent

(–≤ –ª—é–±–æ–π –º–æ–º–µ–Ω—Ç –º–æ–∂–µ—Ç –ø—Ä–æ–∏–∑–æ–π—Ç–∏)
      ‚Üì
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   onError   ‚îÇ ‚Üê –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
</code></pre>
<h4 id="–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞-hooks"><a class="header" href="#–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞-hooks">–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ Hooks</a></h4>
<p><strong>1. –ß–µ—Ç–∫–∞—è –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å</strong></p>
<pre><code class="language-javascript">// –ö–∞–∂–¥—ã–π hook –∑–Ω–∞–µ—Ç —Å–≤–æ—é —Ä–æ–ª—å
fastify.addHook('preHandler', checkAuth);      // –¢–æ–ª—å–∫–æ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
fastify.addHook('preHandler', checkRBAC);      // –¢–æ–ª—å–∫–æ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
fastify.addHook('onSend', compressResponse);   // –¢–æ–ª—å–∫–æ —Å–∂–∞—Ç–∏–µ

// Handler –∑–Ω–∞–µ—Ç —Ç–æ–ª—å–∫–æ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫—É
fastify.get('/user/:id', getUserHandler);      // –¢–æ–ª—å–∫–æ –ø–æ–ª—É—á–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
</code></pre>
<p><strong>2. –ù–µ—Ç race conditions</strong></p>
<pre><code class="language-javascript">// –ù–µ–≤–æ–∑–º–æ–∂–Ω–æ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –æ—Ç–≤–µ—Ç–æ–≤
fastify.addHook('preHandler', async (request, reply) =&gt; {
  if (condition) {
    reply.send('Early response');
    // –û—Å–Ω–æ–≤–Ω–æ–π handler –ù–ï –≤—ã–ø–æ–ª–Ω–∏—Ç—Å—è - Fastify —ç—Ç–æ –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ—Ç
  }
});
</code></pre>
<p><strong>3. Scope hooks (–ª–æ–∫–∞–ª—å–Ω—ã–µ —Ö—É–∫–∏)</strong></p>
<pre><code class="language-javascript">// –ì–ª–æ–±–∞–ª—å–Ω—ã–π hook - –¥–ª—è –≤—Å–µ—Ö –º–∞—Ä—à—Ä—É—Ç–æ–≤
fastify.addHook('onRequest', globalLogger);

// Hook —Ç–æ–ª—å–∫–æ –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –º–∞—Ä—à—Ä—É—Ç–∞
fastify.get('/admin', {
  onRequest: [checkAdmin]  // –¢–æ–ª—å–∫–æ –¥–ª—è —ç—Ç–æ–≥–æ –º–∞—Ä—à—Ä—É—Ç–∞
}, adminHandler);

// Hook –¥–ª—è –≥—Ä—É–ø–ø—ã –º–∞—Ä—à—Ä—É—Ç–æ–≤ (–ø–ª–∞–≥–∏–Ω)
fastify.register(async (fastify) =&gt; {
  // –•—É–∫–∏ –∑–¥–µ—Å—å –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –∫ –º–∞—Ä—à—Ä—É—Ç–∞–º –≤ —ç—Ç–æ–º –ø–ª–∞–≥–∏–Ω–µ
  fastify.addHook('preHandler', requireAuth);

  fastify.get('/profile', profileHandler);
  fastify.get('/settings', settingsHandler);
});
</code></pre>
<p><strong>4. –¢–µ—Å—Ç–∏—Ä—É–µ–º–æ—Å—Ç—å</strong></p>
<pre><code class="language-javascript">// –•—É–∫–∏ –º–æ–∂–Ω–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ
test('checkAuth hook', async (t) =&gt; {
  const request = mockRequest({ session: null });
  const reply = mockReply();

  await checkAuth(request, reply);

  t.equal(reply.statusCode, 401);
});

// Handler —Ç–µ—Å—Ç–∏—Ä—É–µ—Ç—Å—è –±–µ–∑ —Ö—É–∫–æ–≤
test('getUserHandler', async (t) =&gt; {
  const request = mockRequest({ params: { id: '123' } });
  const result = await getUserHandler(request);

  t.equal(result.id, '123');
});
</code></pre>
<h4 id="–†–µ–∞–ª–∏–∑–∞—Ü–∏—è-–ø—Ä–æ—Å—Ç–æ–≥–æ-hook-—Å–∏—Å—Ç–µ–º—ã-–¥–ª—è-nodejs-–ø—Ä–æ–µ–∫—Ç–∞"><a class="header" href="#–†–µ–∞–ª–∏–∑–∞—Ü–∏—è-–ø—Ä–æ—Å—Ç–æ–≥–æ-hook-—Å–∏—Å—Ç–µ–º—ã-–¥–ª—è-nodejs-–ø—Ä–æ–µ–∫—Ç–∞">–†–µ–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–æ—Å—Ç–æ–≥–æ Hook —Å–∏—Å—Ç–µ–º—ã –¥–ª—è Node.js –ø—Ä–æ–µ–∫—Ç–∞</a></h4>
<pre><code class="language-javascript">// –ü—Ä–æ—Å—Ç–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è hook —Å–∏—Å—Ç–µ–º—ã
class HookSystem {
  constructor() {
    this.hooks = new Map();
  }

  addHook(name, handler) {
    if (!this.hooks.has(name)) {
      this.hooks.set(name, []);
    }
    this.hooks.get(name).push(handler);
  }

  async executeHooks(name, ...args) {
    const handlers = this.hooks.get(name) || [];
    for (const handler of handlers) {
      await handler(...args);
    }
  }
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ —Å–µ—Ä–≤–µ—Ä–µ
class Server extends HookSystem {
  constructor() {
    super();
  }

  async handleRequest(context) {
    // Lifecycle —Å hooks
    await this.executeHooks('onRequest', context);
    await this.executeHooks('preHandler', context);

    // –û—Å–Ω–æ–≤–Ω–æ–π handler
    const result = await this.routes.get(context.method)(context);

    await this.executeHooks('onSend', context, result);

    return result;
  }
}

// –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è hooks
server.addHook('preHandler', async (context) =&gt; {
  if (!context.session) {
    throw new Error('Not authenticated');
  }
});

server.addHook('onSend', async (context, result) =&gt; {
  console.log('Sending response:', result);
});
</code></pre>
<hr />
<h2 id="–ü—Ä–∏–Ω—Ü–∏–ø—ã-–ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è-–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã"><a class="header" href="#–ü—Ä–∏–Ω—Ü–∏–ø—ã-–ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è-–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã">–ü—Ä–∏–Ω—Ü–∏–ø—ã –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã</a></h2>
<h3 id="1-separation-of-concerns-–†–∞–∑–¥–µ–ª–µ–Ω–∏–µ-–æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏"><a class="header" href="#1-separation-of-concerns-–†–∞–∑–¥–µ–ª–µ–Ω–∏–µ-–æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏">1. Separation of Concerns (–†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏)</a></h3>
<p><strong>–ü—Ä–∏–Ω—Ü–∏–ø</strong>: –†–∞–∑–ª–∏—á–Ω—ã–µ –∞—Å–ø–µ–∫—Ç—ã —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω—ã –≤ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö.</p>
<p><strong>–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –≤ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ:</strong></p>
<pre><code>System Layer (–ø—Ä–æ—Ç–æ–∫–æ–ª—ã)     ‚îÉ Userland (–±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞)
                              ‚îÉ
Server                        ‚îÉ
Transport (HTTP/WebSocket)    ‚îÉ Context
Request, Response, Connection ‚îÉ Client
                              ‚îÉ Session
</code></pre>
<p><strong>–ü–æ—á–µ–º—É –≤–∞–∂–Ω–æ:</strong></p>
<ul>
<li>–ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ –Ω–µ –∑–Ω–∞–µ—Ç –æ HTTP/WebSocket</li>
<li>–°–º–µ–Ω–∞ –ø—Ä–æ—Ç–æ–∫–æ–ª–∞ –Ω–µ —Ç—Ä–µ–±—É–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏</li>
<li>–ú–æ–∂–Ω–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫—É –±–µ–∑ —Å–µ—Ç–∏</li>
</ul>
<h3 id="2-dependency-inversion-principle-–ü—Ä–∏–Ω—Ü–∏–ø-–∏–Ω–≤–µ—Ä—Å–∏–∏-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π"><a class="header" href="#2-dependency-inversion-principle-–ü—Ä–∏–Ω—Ü–∏–ø-–∏–Ω–≤–µ—Ä—Å–∏–∏-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π">2. Dependency Inversion Principle (–ü—Ä–∏–Ω—Ü–∏–ø –∏–Ω–≤–µ—Ä—Å–∏–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π)</a></h3>
<p><strong>–ü—Ä–∏–Ω—Ü–∏–ø</strong>: –ú–æ–¥—É–ª–∏ –≤–µ—Ä—Ö–Ω–µ–≥–æ —É—Ä–æ–≤–Ω—è –Ω–µ –¥–æ–ª–∂–Ω—ã –∑–∞–≤–∏—Å–µ—Ç—å –æ—Ç –º–æ–¥—É–ª–µ–π –Ω–∏–∂–Ω–µ–≥–æ —É—Ä–æ–≤–Ω—è. –û–±–∞ –¥–æ–ª–∂–Ω—ã –∑–∞–≤–∏—Å–µ—Ç—å –æ—Ç –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–π.</p>
<p><strong>–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ:</strong></p>
<pre><code class="language-javascript">// –ü–ª–æ—Ö–æ: –ø—Ä—è–º–∞—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –æ—Ç –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏
class Handler {
  constructor() {
    this.transport = new HttpTransport();  // –ñ–µ—Å—Ç–∫–∞—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å
  }
}

// –•–æ—Ä–æ—à–æ: –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –æ—Ç –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–∏
class Handler {
  constructor(transport) {  // Transport - –∞–±—Å—Ç—Ä–∞–∫—Ü–∏—è
    this.transport = transport;  // –ú–æ–∂–µ—Ç –±—ã—Ç—å HTTP –∏–ª–∏ WebSocket
  }
}
</code></pre>
<h3 id="3-principle-of-least-privilege-–ü—Ä–∏–Ω—Ü–∏–ø-–º–∏–Ω–∏–º–∞–ª—å–Ω—ã—Ö-–ø—Ä–∏–≤–∏–ª–µ–≥–∏–π"><a class="header" href="#3-principle-of-least-privilege-–ü—Ä–∏–Ω—Ü–∏–ø-–º–∏–Ω–∏–º–∞–ª—å–Ω—ã—Ö-–ø—Ä–∏–≤–∏–ª–µ–≥–∏–π">3. Principle of Least Privilege (–ü—Ä–∏–Ω—Ü–∏–ø –º–∏–Ω–∏–º–∞–ª—å–Ω—ã—Ö –ø—Ä–∏–≤–∏–ª–µ–≥–∏–π)</a></h3>
<p><strong>–ü—Ä–∏–Ω—Ü–∏–ø</strong>: –ö–æ–¥ –¥–æ–ª–∂–µ–Ω –∏–º–µ—Ç—å –¥–æ—Å—Ç—É–ø —Ç–æ–ª—å–∫–æ –∫ —Ç–æ–º—É, —á—Ç–æ –µ–º—É –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –¥–ª—è —Ä–∞–±–æ—Ç—ã.</p>
<p><strong>–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ:</strong></p>
<pre><code class="language-javascript">// –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ –ø–æ–ª—É—á–∞–µ—Ç —Ç–æ–ª—å–∫–æ Context
async function endpoint(context) {
  // –î–æ—Å—Ç—É–ø–Ω–æ:
  // - context.client (–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å)
  // - context.session (—Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è)

  // –ù–µ–¥–æ—Å—Ç—É–ø–Ω–æ:
  // - transport (—Å–∫—Ä—ã—Ç –∑–∞ –ø—Ä–∏–≤–∞—Ç–Ω—ã–º –ø–æ–ª–µ–º)
  // - request/response (–Ω–µ –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è)
  // - connection (–∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω)
}
</code></pre>
<h3 id="4-fail-safe-defaults-–ë–µ–∑–æ–ø–∞—Å–Ω—ã–µ-–∑–Ω–∞—á–µ–Ω–∏—è-–ø–æ-—É–º–æ–ª—á–∞–Ω–∏—é"><a class="header" href="#4-fail-safe-defaults-–ë–µ–∑–æ–ø–∞—Å–Ω—ã–µ-–∑–Ω–∞—á–µ–Ω–∏—è-–ø–æ-—É–º–æ–ª—á–∞–Ω–∏—é">4. Fail-Safe Defaults (–ë–µ–∑–æ–ø–∞—Å–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)</a></h3>
<p><strong>–ü—Ä–∏–Ω—Ü–∏–ø</strong>: –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é —Å–∏—Å—Ç–µ–º–∞ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –≤ –±–µ–∑–æ–ø–∞—Å–Ω–æ–º —Å–æ—Å—Ç–æ—è–Ω–∏–∏.</p>
<p><strong>–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ:</strong></p>
<pre><code class="language-javascript">// HTTP transport –≤—Å–µ–≥–¥–∞ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç 200 –∏ JSON –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
send(data, code = 200, encoding = 'json') {
  // –ë–µ–∑–æ–ø–∞—Å–Ω—ã–µ –¥–µ—Ñ–æ–ª—Ç—ã
}

// –°–µ—Å—Å–∏—è –º–æ–∂–µ—Ç –±—ã—Ç—å null (–Ω–µ–∑–∞–ª–æ–≥–∏–Ω–µ–Ω–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å)
class Context {
  constructor(client, session = null) {
    this.client = client;
    this.session = session;  // null –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é - –±–µ–∑–æ–ø–∞—Å–Ω–æ
  }
}
</code></pre>
<h3 id="5-single-responsibility-principle-–ü—Ä–∏–Ω—Ü–∏–ø-–µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–π-–æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏"><a class="header" href="#5-single-responsibility-principle-–ü—Ä–∏–Ω—Ü–∏–ø-–µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–π-–æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏">5. Single Responsibility Principle (–ü—Ä–∏–Ω—Ü–∏–ø –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–π –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏)</a></h3>
<p><strong>–ü—Ä–∏–Ω—Ü–∏–ø</strong>: –ö–∞–∂–¥—ã–π –∫–ª–∞—Å—Å –¥–æ–ª–∂–µ–Ω –∏–º–µ—Ç—å –æ–¥–Ω—É –ø—Ä–∏—á–∏–Ω—É –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è.</p>
<p><strong>–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ:</strong></p>
<ul>
<li><strong>Server</strong> - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è–º–∏ –∏ —Ä–æ—É—Ç–∏–Ω–≥</li>
<li><strong>Transport</strong> - –æ—Ç–ø—Ä–∞–≤–∫–∞/–ø–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –ø–æ –ø—Ä–æ—Ç–æ–∫–æ–ª—É</li>
<li><strong>Client</strong> - —Ñ–∞—Å–∞–¥ –¥–ª—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å userland</li>
<li><strong>Session</strong> - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</li>
<li><strong>Context</strong> - –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–∞–Ω–Ω—ã—Ö –¥–ª—è RPC –≤—ã–∑–æ–≤–∞</li>
</ul>
<h3 id="6-openclosed-principle-–ü—Ä–∏–Ω—Ü–∏–ø-–æ—Ç–∫—Ä—ã—Ç–æ—Å—Ç–∏–∑–∞–∫—Ä—ã—Ç–æ—Å—Ç–∏"><a class="header" href="#6-openclosed-principle-–ü—Ä–∏–Ω—Ü–∏–ø-–æ—Ç–∫—Ä—ã—Ç–æ—Å—Ç–∏–∑–∞–∫—Ä—ã—Ç–æ—Å—Ç–∏">6. Open/Closed Principle (–ü—Ä–∏–Ω—Ü–∏–ø –æ—Ç–∫—Ä—ã—Ç–æ—Å—Ç–∏/–∑–∞–∫—Ä—ã—Ç–æ—Å—Ç–∏)</a></h3>
<p><strong>–ü—Ä–∏–Ω—Ü–∏–ø</strong>: –ö–ª–∞—Å—Å—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –æ—Ç–∫—Ä—ã—Ç—ã –¥–ª—è —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è, –Ω–æ –∑–∞–∫—Ä—ã—Ç—ã –¥–ª—è –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏–∏.</p>
<p><strong>–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ:</strong></p>
<pre><code class="language-javascript">// –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞ –Ω–µ —Ç—Ä–µ–±—É–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –∫–ª–∞—Å—Å–æ–≤
class GrpcTransport extends Transport {
  write(data) {
    // –°–ø–µ—Ü–∏—Ñ–∏—á–Ω–∞—è –¥–ª—è gRPC —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è
  }
}

// Server –∏ Client —Ä–∞–±–æ—Ç–∞—é—Ç —Å –ª—é–±—ã–º Transport
</code></pre>
<hr />
<h2 id="–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ-—Å–æ—Å—Ç–æ—è–Ω–∏–µ–º-–∏-–∏–∑–æ–ª—è—Ü–∏—è-–∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–≤"><a class="header" href="#–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ-—Å–æ—Å—Ç–æ—è–Ω–∏–µ–º-–∏-–∏–∑–æ–ª—è—Ü–∏—è-–∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–≤">–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º –∏ –∏–∑–æ–ª—è—Ü–∏—è –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–≤</a></h2>
<h3 id="–¢—Ä–∏-—Ç–∏–ø–∞-—Å–æ—Å—Ç–æ—è–Ω–∏—è"><a class="header" href="#–¢—Ä–∏-—Ç–∏–ø–∞-—Å–æ—Å—Ç–æ—è–Ω–∏—è">–¢—Ä–∏ —Ç–∏–ø–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è</a></h3>
<h4 id="1-state-rpc-–≤—ã–∑–æ–≤–∞-context-state"><a class="header" href="#1-state-rpc-–≤—ã–∑–æ–≤–∞-context-state">1. State RPC-–≤—ã–∑–æ–≤–∞ (Context State)</a></h4>
<p><strong>–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏:</strong></p>
<ul>
<li><strong>–í—Ä–µ–º—è –∂–∏–∑–Ω–∏</strong>: –û—Ç –Ω–∞—á–∞–ª–∞ –≤—ã–∑–æ–≤–∞ –¥–æ –ø–æ–ª—É—á–µ–Ω–∏—è –æ—Ç–≤–µ—Ç–∞</li>
<li><strong>–û–±–ª–∞—Å—Ç—å –≤–∏–¥–∏–º–æ—Å—Ç–∏</strong>: –¢–æ–ª—å–∫–æ —Ç–µ–∫—É—â–∏–π –≤—ã–∑–æ–≤</li>
<li><strong>–ü–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å</strong>: –ù–µ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è</li>
<li><strong>–ò–∑–æ–ª—è—Ü–∏—è</strong>: –ü–æ–ª–Ω–∞—è - –∫–∞–∂–¥—ã–π –≤—ã–∑–æ–≤ –∏–º–µ–µ—Ç —Å–≤–æ–π –∫–æ–Ω—Ç–µ–∫—Å—Ç</li>
</ul>
<p><strong>–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:</strong></p>
<ul>
<li>–•—Ä–∞–Ω–µ–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –≤—ã–∑–æ–≤–∞</li>
<li>–í—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏</li>
<li>UUID –¥–ª—è —Ç—Ä–µ–π—Å–∏–Ω–≥–∞</li>
</ul>
<p><strong>–ü—Ä–∏–º–µ—Ä:</strong></p>
<pre><code class="language-javascript">class Context {
  constructor(client, session) {
    this.uuid = randomUUID();  // –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –≤—ã–∑–æ–≤–∞
    this.client = client;
    this.session = session;
    this.timestamp = Date.now();
    // –í—Ä–µ–º–µ–Ω–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ, —É–Ω–∏—á—Ç–æ–∂–∞–µ—Ç—Å—è –ø–æ—Å–ª–µ –æ—Ç–≤–µ—Ç–∞
  }
}

// –ö–∞–∂–¥—ã–π –≤—ã–∑–æ–≤ —Å–æ–∑–¥–∞–µ—Ç –Ω–æ–≤—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç
const context1 = new Context(client, session);
await endpoint(context1);
// context1 –±–æ–ª—å—à–µ –Ω–µ –Ω—É–∂–µ–Ω

const context2 = new Context(client, session);
await endpoint(context2);
// context2 –Ω–µ–∑–∞–≤–∏—Å–∏–º –æ—Ç context1
</code></pre>
<h4 id="2-state-–∫–ª–∏–µ–Ω—Ç–∞-client-state"><a class="header" href="#2-state-–∫–ª–∏–µ–Ω—Ç–∞-client-state">2. State –∫–ª–∏–µ–Ω—Ç–∞ (Client State)</a></h4>
<p><strong>–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏:</strong></p>
<ul>
<li><strong>–í—Ä–µ–º—è –∂–∏–∑–Ω–∏</strong>: –û—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –¥–æ –æ—Ç–∫–ª—é—á–µ–Ω–∏—è –∫–ª–∏–µ–Ω—Ç–∞</li>
<li><strong>–û–±–ª–∞—Å—Ç—å –≤–∏–¥–∏–º–æ—Å—Ç–∏</strong>: –í—Å–µ RPC –≤—ã–∑–æ–≤—ã –æ—Ç –¥–∞–Ω–Ω–æ–≥–æ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è</li>
<li><strong>–ü–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å</strong>: –ù–µ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è (–ø—Ä–æ–ø–∞–¥–∞–µ—Ç –ø—Ä–∏ –æ—Ç–∫–ª—é—á–µ–Ω–∏–∏)</li>
<li><strong>–ò–∑–æ–ª—è—Ü–∏—è</strong>: –ú–µ–∂–¥—É –∫–ª–∏–µ–Ω—Ç–∞–º–∏</li>
</ul>
<p><strong>–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:</strong></p>
<ul>
<li>–í—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è</li>
<li>–°—á–µ—Ç—á–∏–∫–∏, –º–µ—Ç—Ä–∏–∫–∏ —Ç–µ–∫—É—â–µ–≥–æ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è</li>
<li>–ö–µ—à –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏</li>
</ul>
<p><strong>–ü—Ä–∏–º–µ—Ä:</strong></p>
<pre><code class="language-javascript">class Client {
  constructor(transport) {
    this.state = {
      connectedAt: Date.now(),
      requestCount: 0,
      lastActivity: Date.now()
    };
  }

  async handleRequest(context) {
    this.state.requestCount++;
    this.state.lastActivity = Date.now();
    // State –¥–æ—Å—Ç—É–ø–µ–Ω –º–µ–∂–¥—É –≤—ã–∑–æ–≤–∞–º–∏
  }
}
</code></pre>
<p><strong>Use case:</strong></p>
<pre><code class="language-javascript">// –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ rate limit –Ω–∞ –æ—Å–Ω–æ–≤–µ Client State
async function rateLimit(context) {
  const { client } = context;

  if (!client.state.rateLimitWindow) {
    client.state.rateLimitWindow = Date.now();
    client.state.requestsInWindow = 0;
  }

  const elapsed = Date.now() - client.state.rateLimitWindow;

  if (elapsed &gt; 60000) {
    // –°–±—Ä–æ—Å –æ–∫–Ω–∞ –∫–∞–∂–¥—É—é –º–∏–Ω—É—Ç—É
    client.state.rateLimitWindow = Date.now();
    client.state.requestsInWindow = 0;
  }

  if (client.state.requestsInWindow &gt;= 100) {
    throw new Error('Rate limit exceeded');
  }

  client.state.requestsInWindow++;
}
</code></pre>
<h4 id="3-state-—Å–µ—Å—Å–∏–∏-session-state"><a class="header" href="#3-state-—Å–µ—Å—Å–∏–∏-session-state">3. State —Å–µ—Å—Å–∏–∏ (Session State)</a></h4>
<p><strong>–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏:</strong></p>
<ul>
<li><strong>–í—Ä–µ–º—è –∂–∏–∑–Ω–∏</strong>: –û—Ç —Å–æ–∑–¥–∞–Ω–∏—è —Å–µ—Å—Å–∏–∏ –¥–æ –µ—ë –∏—Å—Ç–µ—á–µ–Ω–∏—è (expiration)</li>
<li><strong>–û–±–ª–∞—Å—Ç—å –≤–∏–¥–∏–º–æ—Å—Ç–∏</strong>: –í—Å–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–º–æ–∂–µ—Ç –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è —Å —Ä–∞–∑–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤)</li>
<li><strong>–ü–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å</strong>: –°–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ –ë–î (Redis, PostgreSQL)</li>
<li><strong>–ò–∑–æ–ª—è—Ü–∏—è</strong>: –ú–µ–∂–¥—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏</li>
</ul>
<p><strong>–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:</strong></p>
<ul>
<li>–î–∞–Ω–Ω—ã–µ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏</li>
<li>–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏</li>
<li>–ö–æ—Ä–∑–∏–Ω–∞ –ø–æ–∫—É–ø–æ–∫</li>
<li>–ü—Ä–æ–≥—Ä–µ—Å—Å —Ä–∞–±–æ—Ç—ã</li>
</ul>
<p><strong>–ü—Ä–∏–º–µ—Ä:</strong></p>
<pre><code class="language-javascript">class Session {
  constructor(token, data) {
    this.token = token;  // –£–Ω–∏–∫–∞–ª—å–Ω—ã–π —Ç–æ–∫–µ–Ω —Å–µ—Å—Å–∏–∏
    this.state = data;   // –ü–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
    this.createdAt = Date.now();
  }

  // State –º–æ–∂–µ—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å:
  // {
  //   userId: '123',
  //   username: 'alice',
  //   roles: ['user', 'moderator'],
  //   preferences: { theme: 'dark' },
  //   cart: [{ productId: 'abc', quantity: 2 }]
  // }
}
</code></pre>
<p><strong>–ü–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å —Å Proxy (–∫–∞–∫ –æ–±—Å—É–∂–¥–∞–ª–æ—Å—å —Ä–∞–Ω–µ–µ):</strong></p>
<pre><code class="language-javascript">// –ü—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ state –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ –ë–î
session.state.cart.push({ productId: 'xyz', quantity: 1 });
// Proxy –ø–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–µ –∏ –≤—ã–∑—ã–≤–∞–µ—Ç save()
</code></pre>
<h3 id="–°—Ä–∞–≤–Ω–∏—Ç–µ–ª—å–Ω–∞—è-—Ç–∞–±–ª–∏—Ü–∞-1"><a class="header" href="#–°—Ä–∞–≤–Ω–∏—Ç–µ–ª—å–Ω–∞—è-—Ç–∞–±–ª–∏—Ü–∞-1">–°—Ä–∞–≤–Ω–∏—Ç–µ–ª—å–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞</a></h3>
<div class="table-wrapper"><table><thead><tr><th>–ê—Å–ø–µ–∫—Ç</th><th>Context State</th><th>Client State</th><th>Session State</th></tr></thead><tbody>
<tr><td>–í—Ä–µ–º—è –∂–∏–∑–Ω–∏</td><td>–í—ã–∑–æ–≤</td><td>–°–æ–µ–¥–∏–Ω–µ–Ω–∏–µ</td><td>–î–æ expiration</td></tr>
<tr><td>–ü–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å</td><td>–ù–µ—Ç</td><td>–ù–µ—Ç</td><td>–î–∞ (–ë–î)</td></tr>
<tr><td>–û–±—â–∏–π –º–µ–∂–¥—É –≤—ã–∑–æ–≤–∞–º–∏</td><td>–ù–µ—Ç</td><td>–î–∞ (–æ–¥–Ω–æ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ)</td><td>–î–∞ (–≤—Å–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è)</td></tr>
<tr><td>–ü—Ä–∏–º–µ—Ä –¥–∞–Ω–Ω—ã—Ö</td><td>UUID, timestamp</td><td>Request count, cache</td><td>User data, cart</td></tr>
<tr><td>–£–Ω–∏—á—Ç–æ–∂–∞–µ—Ç—Å—è –ø—Ä–∏</td><td>–û—Ç–≤–µ—Ç –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω</td><td>–û—Ç–∫–ª—é—á–µ–Ω–∏–µ</td><td>Logout/Expiration</td></tr>
</tbody></table>
</div>
<h3 id="–ò–∑–æ–ª—è—Ü–∏—è-–∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–≤"><a class="header" href="#–ò–∑–æ–ª—è—Ü–∏—è-–∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–≤">–ò–∑–æ–ª—è—Ü–∏—è –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–≤</a></h3>
<p><strong>–ü—Ä–æ–±–ª–µ–º–∞</strong>: –í –º–Ω–æ–≥–æ–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–º —Å–µ—Ä–≤–µ—Ä–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω–æ, —á—Ç–æ–±—ã –æ–¥–∏–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –º–æ–≥ –ø–æ–ª—É—á–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫ –¥–∞–Ω–Ω—ã–º –¥—Ä—É–≥–æ–≥–æ.</p>
<p><strong>–†–µ—à–µ–Ω–∏–µ –≤ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ:</strong></p>
<p><strong>1. –ö–∞–∂–¥—ã–π –∑–∞–ø—Ä–æ—Å —Å–æ–∑–¥–∞–µ—Ç –Ω–æ–≤—ã–π Context</strong></p>
<pre><code class="language-javascript">// –í server.js
async function handleRPC(methodName, params, client, session) {
  // –°–æ–∑–¥–∞–µ–º –ù–û–í–´–ô –∫–æ–Ω—Ç–µ–∫—Å—Ç –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –≤—ã–∑–æ–≤–∞
  const context = new Context(client, session);

  try {
    const handler = routes.get(methodName);
    const result = await handler(context);  // –ü–µ—Ä–µ–¥–∞–µ–º —Ç–æ–ª—å–∫–æ context
    return result;
  } finally {
    // context —É–Ω–∏—á—Ç–æ–∂–∞–µ—Ç—Å—è –ø–æ—Å–ª–µ –≤—ã–∑–æ–≤–∞
    // Garbage collector –æ—Å–≤–æ–±–æ–¥–∏—Ç –ø–∞–º—è—Ç—å
  }
}
</code></pre>
<p><strong>2. –°–µ—Å—Å–∏–∏ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ Map –ø–æ —Ç–æ–∫–µ–Ω—É</strong></p>
<pre><code class="language-javascript">// –ì–ª–æ–±–∞–ª—å–Ω–∞—è –∫–æ–ª–ª–µ–∫—Ü–∏—è —Å–µ—Å—Å–∏–π
const sessions = new Map();

// –ö–∞–∂–¥–∞—è —Å–µ—Å—Å–∏—è –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–∞ –ø–æ —Ç–æ–∫–µ–Ω—É
sessions.set('token-alice', aliceSession);
sessions.set('token-bob', bobSession);

// –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–µ—Å—Å–∏–∏ –ø–æ —Ç–æ–∫–µ–Ω—É –∏–∑ –∑–∞–ø—Ä–æ—Å–∞
const token = extractTokenFromRequest(request);
const session = sessions.get(token);  // –¢–æ–ª—å–∫–æ —Å–≤–æ—è —Å–µ—Å—Å–∏—è
</code></pre>
<p><strong>3. –ö–ª–∏–µ–Ω—Ç—ã —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ Set</strong></p>
<pre><code class="language-javascript">// –ö–æ–ª–ª–µ–∫—Ü–∏—è –∫–ª–∏–µ–Ω—Ç–æ–≤
const clients = new Set();

clients.add(clientAlice);
clients.add(clientBob);

// –ö–∞–∂–¥—ã–π –∫–ª–∏–µ–Ω—Ç –Ω–µ–∑–∞–≤–∏—Å–∏–º
// clientAlice –Ω–µ –º–æ–∂–µ—Ç –ø–æ–ª—É—á–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫ clientBob
</code></pre>
<p><strong>4. –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ –Ω–µ –∏–º–µ–µ—Ç –≥–ª–æ–±–∞–ª—å–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞</strong></p>
<pre><code class="language-javascript">// –ü–ª–æ—Ö–æ: –≥–ª–æ–±–∞–ª—å–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫ –∫–æ–ª–ª–µ–∫—Ü–∏—è–º
async function badEndpoint() {
  const allSessions = server.sessions;  // –û–ø–∞—Å–Ω–æ!
  // –ú–æ–∂–µ—Ç –ø–æ–ª—É—á–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫ —á—É–∂–∏–º —Å–µ—Å—Å–∏—è–º
}

// –•–æ—Ä–æ—à–æ: —Ç–æ–ª—å–∫–æ —Å–≤–æ–π –∫–æ–Ω—Ç–µ–∫—Å—Ç
async function goodEndpoint(context) {
  const mySession = context.session;  // –¢–æ–ª—å–∫–æ —Å–≤–æ—è —Å–µ—Å—Å–∏—è
  const myClient = context.client;    // –¢–æ–ª—å–∫–æ —Å–≤–æ–π –∫–ª–∏–µ–Ω—Ç
  // –ò–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–æ
}
</code></pre>
<h3 id="–ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ-—É—Ç–µ—á–µ–∫-—Å–æ—Å—Ç–æ—è–Ω–∏—è"><a class="header" href="#–ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ-—É—Ç–µ—á–µ–∫-—Å–æ—Å—Ç–æ—è–Ω–∏—è">–ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ —É—Ç–µ—á–µ–∫ —Å–æ—Å—Ç–æ—è–Ω–∏—è</a></h3>
<p><strong>1. –ó–∞–º—ã–∫–∞–Ω–∏—è –¥–ª—è –ø—Ä–∏–≤–∞—Ç–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞</strong></p>
<pre><code class="language-javascript">// –í server.js
function createServer(config) {
  const sessions = new Map();  // –ü—Ä–∏–≤–∞—Ç–Ω–∞—è –∫–æ–ª–ª–µ–∫—Ü–∏—è –≤ –∑–∞–º—ã–∫–∞–Ω–∏–∏
  const clients = new Set();

  class Server {
    // –ú–µ—Ç–æ–¥—ã –∏–º–µ—é—Ç –¥–æ—Å—Ç—É–ø —á–µ—Ä–µ–∑ –∑–∞–º—ã–∫–∞–Ω–∏–µ
    getSession(token) {
      return sessions.get(token);
    }

    addClient(client) {
      clients.add(client);
    }
  }

  return new Server();
}

// sessions –∏ clients –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã –∏–∑–≤–Ω–µ
</code></pre>
<p><strong>2. –ü—Ä–∏–≤–∞—Ç–Ω—ã–µ –ø–æ–ª—è (#)</strong></p>
<pre><code class="language-javascript">class Client {
  #transport;  // –ù–µ–¥–æ—Å—Ç—É–ø–µ–Ω –∏–∑–≤–Ω–µ

  constructor(transport) {
    this.#transport = transport;
  }

  // –ü—É–±–ª–∏—á–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –±–µ–∑–æ–ø–∞—Å–µ–Ω
  send(data) {
    this.#transport.send(data);
  }
}

// client.#transport  // SyntaxError!
</code></pre>
<p><strong>3. Freezing –∏ Sealing –æ–±—ä–µ–∫—Ç–æ–≤</strong></p>
<pre><code class="language-javascript">// –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
const config = Object.freeze({
  port: 8000,
  host: 'localhost'
});

config.port = 9000;  // –û—à–∏–±–∫–∞ –≤ strict mode, –∏–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç—Å—è –≤ sloppy
console.log(config.port);  // 8000
</code></pre>
<hr />
<h2 id="–ó–∞–∫–ª—é—á–µ–Ω–∏–µ-4"><a class="header" href="#–ó–∞–∫–ª—é—á–µ–Ω–∏–µ-4">–ó–∞–∫–ª—é—á–µ–Ω–∏–µ</a></h2>
<h3 id="–ö–ª—é—á–µ–≤—ã–µ-–≤—ã–≤–æ–¥—ã-9"><a class="header" href="#–ö–ª—é—á–µ–≤—ã–µ-–≤—ã–≤–æ–¥—ã-9">–ö–ª—é—á–µ–≤—ã–µ –≤—ã–≤–æ–¥—ã</a></h3>
<h4 id="1-javascript---–Ω–µ-–∫–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π-–û–û–ü"><a class="header" href="#1-javascript---–Ω–µ-–∫–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π-–û–û–ü">1. JavaScript - –Ω–µ –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π –û–û–ü</a></h4>
<p>–ü–∞—Ç—Ç–µ—Ä–Ω—ã GoF —Å–æ–∑–¥–∞–Ω—ã –¥–ª—è —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏ —Ç–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–∏—Ö –û–û–ü —è–∑—ã–∫–æ–≤. –í JavaScript:</p>
<ul>
<li><strong>–§—É–Ω–∫—Ü–∏–∏ –ø–µ—Ä–≤–æ–≥–æ –∫–ª–∞—Å—Å–∞</strong> —É–ø—Ä–æ—â–∞—é—Ç Observer ‚Üí EventEmitter</li>
<li><strong>–ó–∞–º—ã–∫–∞–Ω–∏—è</strong> –∑–∞–º–µ–Ω—è—é—Ç –ø—Ä–∏–≤–∞—Ç–Ω—ã–µ –ø–æ–ª—è –∫–ª–∞—Å—Å–æ–≤</li>
<li><strong>–ü—Ä–æ—Ç–æ—Ç–∏–ø–Ω–æ–µ –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ</strong> –±–æ–ª–µ–µ –≥–∏–±–∫–æ–µ</li>
<li><strong>–î–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è</strong> –ø–æ–∑–≤–æ–ª—è–µ—Ç –æ–±–æ–π—Ç–∏—Å—å –±–µ–∑ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤</li>
<li><strong>Proxy API</strong> –¥–µ–ª–∞–µ—Ç –ø–∞—Ç—Ç–µ—Ä–Ω Proxy —Ç—Ä–∏–≤–∏–∞–ª—å–Ω—ã–º</li>
</ul>
<h4 id="2-–ù–µ-–≤—Å–µ-gof-–ø–∞—Ç—Ç–µ—Ä–Ω—ã-–ø–æ–ª–µ–∑–Ω—ã-–≤-nodejs"><a class="header" href="#2-–ù–µ-–≤—Å–µ-gof-–ø–∞—Ç—Ç–µ—Ä–Ω—ã-–ø–æ–ª–µ–∑–Ω—ã-–≤-nodejs">2. –ù–µ –≤—Å–µ GoF –ø–∞—Ç—Ç–µ—Ä–Ω—ã –ø–æ–ª–µ–∑–Ω—ã –≤ Node.js</a></h4>
<p><strong>–ü–æ–ª–µ–∑–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã:</strong></p>
<ul>
<li><strong>Strategy</strong> - –¥–ª—è –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–π (Transport)</li>
<li><strong>Facade</strong> - –¥–ª—è —Å–∫—Ä—ã—Ç–∏—è —Å–ª–æ–∂–Ω–æ—Å—Ç–∏ (Client)</li>
<li><strong>Proxy</strong> - –¥–ª—è –ø–µ—Ä–µ—Ö–≤–∞—Ç–∞ –¥–æ—Å—Ç—É–ø–∞ (Session state)</li>
<li><strong>Singleton</strong> - –¥–ª—è –≥–ª–æ–±–∞–ª—å–Ω—ã—Ö —Å–µ—Ä–≤–∏—Å–æ–≤ (Server)</li>
</ul>
<p><strong>–ü—Ä–æ–±–ª–µ–º–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã:</strong></p>
<ul>
<li><strong>Chain of Responsibility</strong> ‚Üí –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ Map-routing –∏–ª–∏ Hooks</li>
<li><strong>Publisher-Subscriber</strong> ‚Üí –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ EventEmitter</li>
<li><strong>Middleware</strong> ‚Üí –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ Hooks (Fastify)</li>
</ul>
<h4 id="3-–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ-–ø—Ä–∏–Ω—Ü–∏–ø—ã-–≤–∞–∂–Ω–µ–µ-–ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤"><a class="header" href="#3-–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ-–ø—Ä–∏–Ω—Ü–∏–ø—ã-–≤–∞–∂–Ω–µ–µ-–ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤">3. –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã –≤–∞–∂–Ω–µ–µ –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤</a></h4>
<p>–ü–∞—Ç—Ç–µ—Ä–Ω—ã - —ç—Ç–æ —Å—Ä–µ–¥—Å—Ç–≤–æ, –∞ –Ω–µ —Ü–µ–ª—å. –í–∞–∂–Ω–µ–µ:</p>
<ol>
<li><strong>Separation of Concerns</strong> - System Layer vs Userland</li>
<li><strong>Dependency Inversion</strong> - –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–π</li>
<li><strong>Single Responsibility</strong> - –æ–¥–∏–Ω –∫–ª–∞—Å—Å, –æ–¥–Ω–∞ —Ä–æ–ª—å</li>
<li><strong>Principle of Least Privilege</strong> - –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –¥–æ—Å—Ç—É–ø</li>
<li><strong>–ò–∑–æ–ª—è—Ü–∏—è</strong> - –∫–æ–Ω—Ç–µ–∫—Å—Ç—ã –Ω–µ –¥–æ–ª–∂–Ω—ã –ø–µ—Ä–µ—Å–µ–∫–∞—Ç—å—Å—è</li>
</ol>
<h4 id="4-–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ-—Å–æ—Å—Ç–æ—è–Ω–∏–µ–º---–∫—Ä–∏—Ç–∏—á–Ω–æ-–¥–ª—è-–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏"><a class="header" href="#4-–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ-—Å–æ—Å—Ç–æ—è–Ω–∏–µ–º---–∫—Ä–∏—Ç–∏—á–Ω–æ-–¥–ª—è-–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏">4. –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º - –∫—Ä–∏—Ç–∏—á–Ω–æ –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏</a></h4>
<p>–¢—Ä–∏ —Ç–∏–ø–∞ state (Context, Client, Session) –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —á–µ—Ç–∫–æ —Ä–∞–∑–¥–µ–ª–µ–Ω—ã:</p>
<ul>
<li><strong>Context</strong> - –≤—Ä–µ–º–µ–Ω–Ω—ã–π, –æ–¥–Ω–æ—Ä–∞–∑–æ–≤—ã–π</li>
<li><strong>Client</strong> - –Ω–∞ –≤—Ä–µ–º—è —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è</li>
<li><strong>Session</strong> - –ø–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω—ã–π, –º–µ–∂–¥—É —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è–º–∏</li>
</ul>
<p>–ò–∑–æ–ª—è—Ü–∏—è –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑:</p>
<ul>
<li>–ù–æ–≤—ã–π Context –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –≤—ã–∑–æ–≤–∞</li>
<li>Map/Set –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è —Å–µ—Å—Å–∏–π/–∫–ª–∏–µ–Ω—Ç–æ–≤ –ø–æ –∫–ª—é—á–∞–º</li>
<li>–ü—Ä–∏–≤–∞—Ç–Ω—ã–µ –ø–æ–ª—è –∏ –∑–∞–º—ã–∫–∞–Ω–∏—è</li>
<li>–ü–µ—Ä–µ–¥–∞—á–∞ —Ç–æ–ª—å–∫–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ–≥–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞</li>
</ul>
<h4 id="5-javascript-–∏–¥–∏–æ–º–∞—Ç–∏—á–Ω—ã–µ-–ø–æ–¥—Ö–æ–¥—ã"><a class="header" href="#5-javascript-–∏–¥–∏–æ–º–∞—Ç–∏—á–Ω—ã–µ-–ø–æ–¥—Ö–æ–¥—ã">5. JavaScript-–∏–¥–∏–æ–º–∞—Ç–∏—á–Ω—ã–µ –ø–æ–¥—Ö–æ–¥—ã</a></h4>
<p>–í–º–µ—Å—Ç–æ —Å–ª–µ–ø–æ–≥–æ —Å–ª–µ–¥–æ–≤–∞–Ω–∏—è GoF:</p>
<ul>
<li><strong>EventEmitter</strong> –≤–º–µ—Å—Ç–æ Publisher-Subscriber</li>
<li><strong>Hooks</strong> –≤–º–µ—Å—Ç–æ Chain of Responsibility</li>
<li><strong>Map-routing</strong> –≤–º–µ—Å—Ç–æ Middleware</li>
<li><strong>Proxy API</strong> –¥–ª—è –º–µ—Ç–∞–ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è</li>
<li><strong>–ó–∞–º—ã–∫–∞–Ω–∏—è</strong> –¥–ª—è –∏–Ω–∫–∞–ø—Å—É–ª—è—Ü–∏–∏</li>
</ul>
<h3 id="–°–ª–µ–¥—É—é—â–∏–µ-—à–∞–≥–∏"><a class="header" href="#–°–ª–µ–¥—É—é—â–∏–µ-—à–∞–≥–∏">–°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏</a></h3>
<p>–°–ª–µ–¥—É—é—â–∏–µ —Ç–µ–º—ã –¥–ª—è –∏–∑—É—á–µ–Ω–∏—è –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ –¥–∞–Ω–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã:</p>
<ol>
<li>
<p><strong>–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –∏ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è</strong></p>
<ul>
<li>–°–æ–∑–¥–∞–Ω–∏–µ –∏ –≤–∞–ª–∏–¥–∞—Ü–∏—è —Ç–æ–∫–µ–Ω–æ–≤</li>
<li>–ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø–∞—Ä–æ–ª–µ–π (bcrypt, scrypt)</li>
<li>Session management</li>
</ul>
</li>
<li>
<p><strong>Role-Based Access Control (RBAC)</strong></p>
<ul>
<li>–†–æ–ª–∏ –∏ –ø—Ä–∞–≤–∞</li>
<li>–ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞ –∫ endpoints</li>
<li>–ö–æ–º–ø–æ–∑–∏—Ü–∏—è –ø—Ä–∞–≤ –∏–∑ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Ä–æ–ª–µ–π</li>
</ul>
</li>
<li>
<p><strong>Revealing Constructor Pattern</strong></p>
<ul>
<li>–î–ª—è —Ä–∞–±–æ—Ç—ã —Å Streams</li>
<li>–ö–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ–º–æ–µ —Ä–∞—Å–∫—Ä—ã—Ç–∏–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏</li>
</ul>
</li>
<li>
<p><strong>CORS –∏ Security Headers</strong></p>
<ul>
<li>–†–µ–∞–ª–∏–∑–∞—Ü–∏—è CORS –≤—Ä—É—á–Ω—É—é</li>
<li>–ë–µ–∑–æ–ø–∞—Å–Ω—ã–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏ HTTP</li>
</ul>
</li>
<li>
<p><strong>Streams –∏ backpressure</strong></p>
<ul>
<li>–û–±—Ä–∞–±–æ—Ç–∫–∞ –±–æ–ª—å—à–∏—Ö —Ñ–∞–π–ª–æ–≤</li>
<li>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ—Ç–æ–∫–∞–º–∏ –¥–∞–Ω–Ω—ã—Ö</li>
</ul>
</li>
</ol>
<h3 id="–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–∞—è-–ª–∏—Ç–µ—Ä–∞—Ç—É—Ä–∞"><a class="header" href="#–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–∞—è-–ª–∏—Ç–µ—Ä–∞—Ç—É—Ä–∞">–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–∞—è –ª–∏—Ç–µ—Ä–∞—Ç—É—Ä–∞</a></h3>
<p><strong>–ö–Ω–∏–≥–∏:</strong></p>
<ul>
<li>"Design Patterns: Elements of Reusable Object-Oriented Software" (GoF) - –¥–ª—è –ø–æ–Ω–∏–º–∞–Ω–∏—è –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–∏—Ö –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤</li>
<li>"JavaScript Patterns" by Stoyan Stefanov - –ø–∞—Ç—Ç–µ—Ä–Ω—ã —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ –¥–ª—è JavaScript</li>
<li>"Node.js Design Patterns" by Mario Casciaro - –ø–∞—Ç—Ç–µ—Ä–Ω—ã –¥–ª—è Node.js</li>
</ul>
<p><strong>–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:</strong></p>
<ul>
<li><a href="https://nodejs.org/api/events.html">Node.js Events API</a> - EventEmitter</li>
<li><a href="https://nodejs.org/api/http.html">Node.js HTTP API</a> - HTTP —Å–µ—Ä–≤–µ—Ä</li>
<li><a href="https://www.fastify.io/docs/latest/Reference/Hooks/">Fastify Hooks</a> - lifecycle hooks</li>
</ul>
<p><strong>–ö–æ–¥–æ–≤–∞—è –±–∞–∑–∞:</strong></p>
<ul>
<li><a href="https://github.com/metarhia/metacom">Metarhia/Meta—Åom</a> - production —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è</li>
<li>–¢–µ–∫—É—â–∏–π –ø—Ä–æ–µ–∫—Ç - —É—á–µ–±–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è</li>
</ul>
<hr />
<p><strong>–ê–≤—Ç–æ—Ä –∫–æ–Ω—Å–ø–µ–∫—Ç–∞</strong>: –ê–∫–∞–¥–µ–º–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑ –ª–µ–∫—Ü–∏–∏
<strong>–î–∞—Ç–∞</strong>: 2025-12-06
<strong>–í–µ—Ä—Å–∏—è</strong>: 1.0</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="–ú–æ–Ω–æ–º–æ—Ä—Ñ–∏–∑–º-–∏-–ø–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º-–≤-javascript-–ì–ª—É–±–æ–∫–æ–µ-–∞–∫–∞–¥–µ–º–∏—á–µ—Å–∫–æ–µ-–ø–æ–≥—Ä—É–∂–µ–Ω–∏–µ"><a class="header" href="#–ú–æ–Ω–æ–º–æ—Ä—Ñ–∏–∑–º-–∏-–ø–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º-–≤-javascript-–ì–ª—É–±–æ–∫–æ–µ-–∞–∫–∞–¥–µ–º–∏—á–µ—Å–∫–æ–µ-–ø–æ–≥—Ä—É–∂–µ–Ω–∏–µ">–ú–æ–Ω–æ–º–æ—Ä—Ñ–∏–∑–º –∏ –ø–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º –≤ JavaScript: –ì–ª—É–±–æ–∫–æ–µ –∞–∫–∞–¥–µ–º–∏—á–µ—Å–∫–æ–µ –ø–æ–≥—Ä—É–∂–µ–Ω–∏–µ</a></h1>
<h2 id="–¶–µ–ª–∏-–æ–±—É—á–µ–Ω–∏—è"><a class="header" href="#–¶–µ–ª–∏-–æ–±—É—á–µ–Ω–∏—è">–¶–µ–ª–∏ –æ–±—É—á–µ–Ω–∏—è</a></h2>
<p>–ü–æ—Å–ª–µ –∏–∑—É—á–µ–Ω–∏—è —ç—Ç–æ–≥–æ –º–∞—Ç–µ—Ä–∏–∞–ª–∞ –≤—ã –±—É–¥–µ—Ç–µ –ø–æ–Ω–∏–º–∞—Ç—å:</p>
<ol>
<li><strong>–§—É–Ω–¥–∞–º–µ–Ω—Ç–∞–ª—å–Ω—ã–µ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏</strong>: –ß—Ç–æ —Ç–∞–∫–æ–µ –º–æ–Ω–æ–º–æ—Ä—Ñ–Ω—ã–π –∏ –ø–æ–ª–∏–º–æ—Ä—Ñ–Ω—ã–π –∫–æ–¥ –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ JavaScript VM</li>
<li><strong>–¢–µ–æ—Ä–µ—Ç–∏—á–µ—Å–∫–∏–µ –æ—Å–Ω–æ–≤—ã</strong>: –ü–æ—á–µ–º—É —ç—Ç–∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ —Ä–∞–±–æ—Ç–∞—é—Ç —Å —Ç–æ—á–∫–∏ –∑—Ä–µ–Ω–∏—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–∞ –∏ —Ç–µ–æ—Ä–∏–∏ –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä–æ–≤</li>
<li><strong>–ú–µ—Ö–∞–Ω–∏–∑–º—ã —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏</strong>: –ö–∞–∫ —Ä–∞–±–æ—Ç–∞—é—Ç inline-–∫—ç—à–∏, —Å–∫—Ä—ã—Ç—ã–µ –∫–ª–∞—Å—Å—ã –∏ –æ–ø—Ç–∏–º–∏–∑–∏—Ä—É—é—â–∏–π –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä</li>
<li><strong>–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ</strong>: –ö–∞–∫ –ø–∏—Å–∞—Ç—å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω—ã–π –∫–æ–¥, –∏—Å–ø–æ–ª—å–∑—É—è —ç—Ç–∏ –∑–Ω–∞–Ω–∏—è</li>
<li><strong>–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –∞–Ω–∞–ª–∏–∑–∞</strong>: –ö–∞–∫ –ø—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞—Ç—å –∏ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–∞–ª—å–Ω—ã–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è</li>
</ol>
<hr />
<h2 id="–í–≤–µ–¥–µ–Ω–∏–µ-–ß—Ç–æ-–ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç-—Å-–º–æ–Ω–æ–º–æ—Ä—Ñ–∏–∑–º–æ–º"><a class="header" href="#–í–≤–µ–¥–µ–Ω–∏–µ-–ß—Ç–æ-–ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç-—Å-–º–æ–Ω–æ–º–æ—Ä—Ñ–∏–∑–º–æ–º">–í–≤–µ–¥–µ–Ω–∏–µ: –ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —Å –º–æ–Ω–æ–º–æ—Ä—Ñ–∏–∑–º–æ–º?</a></h2>
<p>–í –¥–æ–∫–ª–∞–¥–∞—Ö –∏ —Å—Ç–∞—Ç—å—è—Ö –æ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ JavaScript —á–∞—Å—Ç–æ –ø–æ–¥—á—ë—Ä–∫–∏–≤–∞—é—Ç –≤–∞–∂–Ω–æ—Å—Ç—å <strong>–º–æ–Ω–æ–º–æ—Ä—Ñ–Ω–æ–≥–æ</strong> –∫–æ–¥–∞. –û–¥–Ω–∞–∫–æ –æ–Ω–∏ –æ–±—ã—á–Ω–æ –Ω–µ –¥–∞—é—Ç —è—Å–Ω–æ–≥–æ –æ–±—ä—è—Å–Ω–µ–Ω–∏—è —Ç–æ–≥–æ, —á—Ç–æ —Ç–∞–∫–æ–µ –º–æ–Ω–æ–º–æ—Ä—Ñ–∏–∑–º/–ø–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º –∏ –ø–æ—á–µ–º—É —ç—Ç–æ –≤–∞–∂–Ω–æ. –î–∞–∂–µ –≤ –¥–æ–∫–ª–∞–¥–∞—Ö —ç–∫—Å–ø–µ—Ä—Ç–æ–≤ —á–∞—Å—Ç–æ –∑–≤—É—á–∏—Ç —á—Ç–æ-—Ç–æ –≤—Ä–æ–¥–µ ¬´<strong>–û–î–ò–ù –¢–ò–ü ‚Äî –•–û–†–û–®–û. –î–í–ê –¢–ò–ü–ê ‚Äî –ü–õ–û–•–û!!!</strong>¬ª.</p>
<h3 id="–¢–µ—Ä–º–∏–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∞—è-–ø—É—Ç–∞–Ω–∏—Ü–∞"><a class="header" href="#–¢–µ—Ä–º–∏–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∞—è-–ø—É—Ç–∞–Ω–∏—Ü–∞">–¢–µ—Ä–º–∏–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∞—è –ø—É—Ç–∞–Ω–∏—Ü–∞</a></h3>
<p>–í–∞–∂–Ω–æ –ø–æ–Ω–∏–º–∞—Ç—å, —á—Ç–æ —Å–ª–æ–≤–æ "–ø–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º" –ø–µ—Ä–µ–≥—Ä—É–∂–µ–Ω–æ —Å–º—ã—Å–ª–∞–º–∏:</p>
<ul>
<li><strong>–í –û–û–ü</strong>: –ü–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º –æ–±—ã—á–Ω–æ –æ–∑–Ω–∞—á–∞–µ—Ç —Å—É–±—Ç–∏–ø–∏–∑–∞—Ü–∏—é –∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –ø–æ–≤–µ–¥–µ–Ω–∏–µ –±–∞–∑–æ–≤–æ–≥–æ –∫–ª–∞—Å—Å–∞</li>
<li><strong>–í —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–º –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–∏</strong>: –ü–∞—Ä–∞–º–µ—Ç—Ä–∏—á–µ—Å–∫–∏–π –ø–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º (generics)</li>
<li><strong>–í –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ JS</strong>: <strong>–ü–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º –≤ —Ç–æ—á–∫–µ –≤—ã–∑–æ–≤–∞</strong> (call-site polymorphism)</li>
</ul>
<p>–ò–º–µ–Ω–Ω–æ –ø–æ—Å–ª–µ–¥–Ω–∏–π —Ç–∏–ø –ø–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º–∞ –≤–ª–∏—è–µ—Ç –Ω–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å JavaScript –∏ —è–≤–ª—è–µ—Ç—Å—è —Ç–µ–º–æ–π —ç—Ç–æ–π —Å—Ç–∞—Ç—å–∏.</p>
<hr />
<h2 id="–ß–∞—Å—Ç—å-1-–§—É–Ω–¥–∞–º–µ–Ω—Ç–∞–ª—å–Ω—ã–µ-–∫–æ–Ω—Ü–µ–ø—Ü–∏–∏"><a class="header" href="#–ß–∞—Å—Ç—å-1-–§—É–Ω–¥–∞–º–µ–Ω—Ç–∞–ª—å–Ω—ã–µ-–∫–æ–Ω—Ü–µ–ø—Ü–∏–∏">–ß–∞—Å—Ç—å 1: –§—É–Ω–¥–∞–º–µ–Ω—Ç–∞–ª—å–Ω—ã–µ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏</a></h2>
<h3 id="11-–î–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è-—Ç–∏–ø–∏–∑–∞—Ü–∏—è-–∏-–µ—ë-—Ü–µ–Ω–∞"><a class="header" href="#11-–î–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è-—Ç–∏–ø–∏–∑–∞—Ü–∏—è-–∏-–µ—ë-—Ü–µ–Ω–∞">1.1 –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è –∏ –µ—ë —Ü–µ–Ω–∞</a></h3>
<p>JavaScript —è–≤–ª—è–µ—Ç—Å—è <strong>–¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ —Ç–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–º</strong> —è–∑—ã–∫–æ–º. –≠—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ —Ç–∏–ø –∑–Ω–∞—á–µ–Ω–∏—è –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –≤–æ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è (runtime), –∞ –Ω–µ –≤–æ –≤—Ä–µ–º—è –∫–æ–º–ø–∏–ª—è—Ü–∏–∏.</p>
<pre><code class="language-javascript">// –í JavaScript –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è –º–æ–∂–µ—Ç —Ö—Ä–∞–Ω–∏—Ç—å –∑–Ω–∞—á–µ–Ω–∏—è —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–æ–≤
let x = 42;        // number
x = "hello";       // string
x = { foo: 1 };    // object
</code></pre>
<p><strong>–¢–µ–æ—Ä–µ—Ç–∏—á–µ—Å–∫–∞—è –æ—Å–Ω–æ–≤–∞</strong>: –í —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏ —Ç–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —è–∑—ã–∫–∞—Ö (C++, Java, Rust) –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä –∑–Ω–∞–µ—Ç —Ç–∏–ø—ã –≤—Å–µ—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –Ω–∞ —ç—Ç–∞–ø–µ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏. –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç:</p>
<ol>
<li>–ì–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–π –º–∞—à–∏–Ω–Ω—ã–π –∫–æ–¥ –Ω–∞–ø—Ä—è–º—É—é</li>
<li>–í—ã—á–∏—Å–ª—è—Ç—å —Å–º–µ—â–µ–Ω–∏—è –ø–æ–ª–µ–π —Å—Ç—Ä—É–∫—Ç—É—Ä/–æ–±—ä–µ–∫—Ç–æ–≤ –Ω–∞ —ç—Ç–∞–ø–µ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏</li>
<li>–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø—Ä—è–º—É—é –∞–¥—Ä–µ—Å–∞—Ü–∏—é –ø–∞–º—è—Ç–∏</li>
</ol>
<p>–í –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏—Ö —è–∑—ã–∫–∞—Ö —ç—Ç–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞ –∑–∞—Ä–∞–Ω–µ–µ, —á—Ç–æ –ø—Ä–∏–≤–æ–¥–∏—Ç –∫ <strong>runtime overhead</strong>.</p>
<h3 id="12-–ü—Ä–æ–±–ª–µ–º–∞-–¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–≥–æ-–ø–æ–∏—Å–∫–∞-—Å–≤–æ–π—Å—Ç–≤"><a class="header" href="#12-–ü—Ä–æ–±–ª–µ–º–∞-–¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–≥–æ-–ø–æ–∏—Å–∫–∞-—Å–≤–æ–π—Å—Ç–≤">1.2 –ü—Ä–æ–±–ª–µ–º–∞ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–≥–æ –ø–æ–∏—Å–∫–∞ —Å–≤–æ–π—Å—Ç–≤</a></h3>
<p>–†–∞—Å—Å–º–æ—Ç—Ä–∏–º –ø—Ä–æ—Å—Ç—É—é –æ–ø–µ—Ä–∞—Ü–∏—é:</p>
<pre><code class="language-javascript">function getX(o) {
  return o.x;  // –ö–∞–∫ VM –Ω–∞—Ö–æ–¥–∏—Ç —Å–≤–æ–π—Å—Ç–≤–æ x?
}
</code></pre>
<p><strong>–ù–∞–∏–≤–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è</strong> (—Å–æ–≥–ª–∞—Å–Ω–æ —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏ ECMAScript):</p>
<pre><code>1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, –µ—Å—Ç—å –ª–∏ —Å–≤–æ–π—Å—Ç–≤–æ 'x' –Ω–∞ —Å–∞–º–æ–º –æ–±—ä–µ–∫—Ç–µ o
2. –ï—Å–ª–∏ –Ω–µ—Ç, –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –ø—Ä–æ—Ç–æ—Ç–∏–ø –æ–±—ä–µ–∫—Ç–∞ o
3. –ï—Å–ª–∏ –Ω–µ—Ç, –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –ø—Ä–æ—Ç–æ—Ç–∏–ø –ø—Ä–æ—Ç–æ—Ç–∏–ø–∞
4. –ü—Ä–æ–¥–æ–ª–∂–∞—Ç—å –¥–æ Object.prototype
5. –ï—Å–ª–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ –Ω–∏–≥–¥–µ, –≤–µ—Ä–Ω—É—Ç—å undefined
</code></pre>
<p><strong>–°—Ç–æ–∏–º–æ—Å—Ç—å –Ω–∞–∏–≤–Ω–æ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏</strong>:</p>
<ul>
<li><strong>O(n)</strong> —Å–ª–æ–∂–Ω–æ—Å—Ç—å, –≥–¥–µ n ‚Äî –¥–ª–∏–Ω–∞ —Ü–µ–ø–æ—á–∫–∏ –ø—Ä–æ—Ç–æ—Ç–∏–ø–æ–≤</li>
<li>–ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –æ–±—Ä–∞—â–µ–Ω–∏—è –∫ –ø–∞–º—è—Ç–∏</li>
<li>–ù–µ–≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä–æ–º</li>
<li>–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–æ–≤ –∏ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è –Ω–∞ –∫–∞–∂–¥–æ–º —à–∞–≥–µ</li>
</ul>
<h4 id="–î–∏–∞–≥—Ä–∞–º–º–∞-–ù–∞–∏–≤–Ω—ã–π-–ø–æ–∏—Å–∫-—Å–≤–æ–π—Å—Ç–≤–∞"><a class="header" href="#–î–∏–∞–≥—Ä–∞–º–º–∞-–ù–∞–∏–≤–Ω—ã–π-–ø–æ–∏—Å–∫-—Å–≤–æ–π—Å—Ç–≤–∞">–î–∏–∞–≥—Ä–∞–º–º–∞: –ù–∞–∏–≤–Ω—ã–π –ø–æ–∏—Å–∫ —Å–≤–æ–π—Å—Ç–≤–∞</a></h4>
<pre><code>–û–±—ä–µ–∫—Ç o
   |
   v
[–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–µ —Å–≤–æ–π—Å—Ç–≤–∞] --–Ω–µ—Ç--&gt; [–ü—Ä–æ–≤–µ—Ä–∏—Ç—å __proto__] --–Ω–µ—Ç--&gt; [–ü—Ä–æ–≤–µ—Ä–∏—Ç—å __proto__.__proto__] --&gt; ...
   |                                          |
   –¥–∞                                         –¥–∞
   |                                          |
   v                                          v
[–í–µ—Ä–Ω—É—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ]                      [–í–µ—Ä–Ω—É—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ]
</code></pre>
<h3 id="13-–ü—Ä–∏–Ω—Ü–∏–ø-–≤—Ä–µ–º–µ–Ω–Ω–æ–π-–ª–æ–∫–∞–ª—å–Ω–æ—Å—Ç–∏-temporal-locality"><a class="header" href="#13-–ü—Ä–∏–Ω—Ü–∏–ø-–≤—Ä–µ–º–µ–Ω–Ω–æ–π-–ª–æ–∫–∞–ª—å–Ω–æ—Å—Ç–∏-temporal-locality">1.3 –ü—Ä–∏–Ω—Ü–∏–ø –≤—Ä–µ–º–µ–Ω–Ω–æ–π –ª–æ–∫–∞–ª—å–Ω–æ—Å—Ç–∏ (Temporal Locality)</a></h3>
<p><strong>–¢–µ–æ—Ä–∏—è</strong>: –í –∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–∫–µ –ø—Ä–∏–Ω—Ü–∏–ø –ª–æ–∫–∞–ª—å–Ω–æ—Å—Ç–∏ —É—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç, —á—Ç–æ –ø—Ä–æ–≥—Ä–∞–º–º—ã –∏–º–µ—é—Ç —Ç–µ–Ω–¥–µ–Ω—Ü–∏—é –æ–±—Ä–∞—â–∞—Ç—å—Å—è –∫ –æ–¥–Ω–∏–º –∏ —Ç–µ–º –∂–µ –¥–∞–Ω–Ω—ã–º –∏–ª–∏ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º –º–Ω–æ–≥–æ–∫—Ä–∞—Ç–Ω–æ –≤ —Ç–µ—á–µ–Ω–∏–µ –∫–æ—Ä–æ—Ç–∫–æ–≥–æ –ø–µ—Ä–∏–æ–¥–∞ –≤—Ä–µ–º–µ–Ω–∏.</p>
<p><strong>–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –∫ JavaScript</strong>:</p>
<pre><code class="language-javascript">function processArray(arr) {
  for (let i = 0; i &lt; arr.length; i++) {
    console.log(arr[i].x);  // –î–æ—Å—Ç—É–ø –∫ .x –ø–æ–≤—Ç–æ—Ä—è–µ—Ç—Å—è –º–Ω–æ–≥–æ —Ä–∞–∑
  }
}

processArray([{x: 1}, {x: 2}, {x: 3}]);  // –í—Å–µ –æ–±—ä–µ–∫—Ç—ã –∏–º–µ—é—Ç –æ–¥–Ω—É —Å—Ç—Ä—É–∫—Ç—É—Ä—É
</code></pre>
<p><strong>–ö–ª—é—á–µ–≤–æ–µ –Ω–∞–±–ª—é–¥–µ–Ω–∏–µ</strong>: –ï—Å–ª–∏ –æ–ø–µ—Ä–∞—Ü–∏—è <code>o.x</code> –≤–∏–¥–µ–ª–∞ –æ–±—ä–µ–∫—Ç—ã –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã, –≤–µ—Ä–æ—è—Ç–Ω–æ, –æ–Ω–∞ —É–≤–∏–¥–∏—Ç –ø–æ—Ö–æ–∂–∏–µ –æ–±—ä–µ–∫—Ç—ã –≤ –±—É–¥—É—â–µ–º.</p>
<p>–≠—Ç–æ –Ω–∞–±–ª—é–¥–µ–Ω–∏–µ —è–≤–ª—è–µ—Ç—Å—è –æ—Å–Ω–æ–≤–æ–π –¥–ª—è <strong>inline caching</strong>.</p>
<hr />
<h2 id="–ß–∞—Å—Ç—å-2-inline-caching--–û—Å–Ω–æ–≤–∞-–æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏"><a class="header" href="#–ß–∞—Å—Ç—å-2-inline-caching--–û—Å–Ω–æ–≤–∞-–æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏">–ß–∞—Å—Ç—å 2: Inline Caching ‚Äî –û—Å–Ω–æ–≤–∞ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏</a></h2>
<h3 id="21-–ö–æ–Ω—Ü–µ–ø—Ü–∏—è-inline-cache-ic"><a class="header" href="#21-–ö–æ–Ω—Ü–µ–ø—Ü–∏—è-inline-cache-ic">2.1 –ö–æ–Ω—Ü–µ–ø—Ü–∏—è Inline Cache (IC)</a></h3>
<p><strong>–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ</strong>: Inline Cache ‚Äî —ç—Ç–æ —Ç–µ—Ö–Ω–∏–∫–∞ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏, –∫–æ—Ç–æ—Ä–∞—è –∫—ç—à–∏—Ä—É–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–≥–æ –ø–æ–∏—Å–∫–∞ —Å–≤–æ–π—Å—Ç–≤/–º–µ—Ç–æ–¥–æ–≤, —á—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö –¥–æ—Ä–æ–≥–æ—Å—Ç–æ—è—â–∏—Ö –æ–ø–µ—Ä–∞—Ü–∏–π –ø–æ–∏—Å–∫–∞.</p>
<p><strong>–ö–ª—é—á–µ–≤–∞—è –∏–¥–µ—è</strong>: –ö–∞–∂–¥–∞—è —Ç–æ—á–∫–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ —Å–≤–æ–π—Å—Ç–≤—É –≤ –∫–æ–¥–µ <strong>—É—á–∏—Ç—Å—è</strong> –Ω–∞ –æ–±—ä–µ–∫—Ç–∞—Ö, –∫–æ—Ç–æ—Ä—ã–µ –æ–Ω–∞ –≤–∏–¥–µ–ª–∞, –∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —ç—Ç–∏ –∑–Ω–∞–Ω–∏—è –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –±—É–¥—É—â–∏—Ö –æ–±—Ä–∞—â–µ–Ω–∏–π.</p>
<h3 id="22-–¢–µ–æ—Ä–µ—Ç–∏—á–µ—Å–∫–∞—è-–æ—Å–Ω–æ–≤–∞-ic"><a class="header" href="#22-–¢–µ–æ—Ä–µ—Ç–∏—á–µ—Å–∫–∞—è-–æ—Å–Ω–æ–≤–∞-ic">2.2 –¢–µ–æ—Ä–µ—Ç–∏—á–µ—Å–∫–∞—è –æ—Å–Ω–æ–≤–∞ IC</a></h3>
<p>Inline caching –æ—Å–Ω–æ–≤–∞–Ω –Ω–∞ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–∞–ª—å–Ω—ã—Ö –ø—Ä–∏–Ω—Ü–∏–ø–∞—Ö:</p>
<h4 id="221-–ú–µ–º–æ–∏–∑–∞—Ü–∏—è-memoization"><a class="header" href="#221-–ú–µ–º–æ–∏–∑–∞—Ü–∏—è-memoization">2.2.1 –ú–µ–º–æ–∏–∑–∞—Ü–∏—è (Memoization)</a></h4>
<p>IC ‚Äî —ç—Ç–æ —Ñ–æ—Ä–º–∞ –º–µ–º–æ–∏–∑–∞—Ü–∏–∏, –≥–¥–µ:</p>
<ul>
<li><strong>–ö–ª—é—á –∫—ç—à–∞</strong>: –§–æ—Ä–º–∞ (—Å—Ç—Ä—É–∫—Ç—É—Ä–∞) –æ–±—ä–µ–∫—Ç–∞</li>
<li><strong>–ó–Ω–∞—á–µ–Ω–∏–µ –∫—ç—à–∞</strong>: –ü—É—Ç—å –∫ —Å–≤–æ–π—Å—Ç–≤—É (—Å–º–µ—â–µ–Ω–∏–µ –≤ –ø–∞–º—è—Ç–∏ –∏–ª–∏ getter-—Ñ—É–Ω–∫—Ü–∏—è)</li>
</ul>
<h4 id="222-–ö–æ–º–ø—Ä–æ–º–∏—Å—Å-–ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ–≤—Ä–µ–º—è"><a class="header" href="#222-–ö–æ–º–ø—Ä–æ–º–∏—Å—Å-–ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ–≤—Ä–µ–º—è">2.2.2 –ö–æ–º–ø—Ä–æ–º–∏—Å—Å –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ/–≤—Ä–µ–º—è</a></h4>
<pre><code>–í—Ä–µ–º—è –ø–æ–∏—Å–∫–∞ –ë–ï–ó –∫—ç—à–∞: O(n) √ó –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ–±—Ä–∞—â–µ–Ω–∏–π
–í—Ä–µ–º—è –ø–æ–∏—Å–∫–∞ –° –∫—ç—à–µ–º:   O(1) √ó –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ–±—Ä–∞—â–µ–Ω–∏–π + O(1) —Å—Ç–æ–∏–º–æ—Å—Ç—å –ø—Ä–æ–≤–µ—Ä–∫–∏
–ü—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ –¥–ª—è –∫—ç—à–∞:  O(k), –≥–¥–µ k ‚Äî –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö —Ñ–æ—Ä–º
</code></pre>
<p><strong>–í—ã–≥–æ–¥–∞</strong>: –ö–æ–≥–¥–∞ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ–±—Ä–∞—â–µ–Ω–∏–π &gt;&gt; –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö —Ñ–æ—Ä–º</p>
<h4 id="223-–ü—Ä–∏–Ω—Ü–∏–ø-–ª–æ–∫–∞–ª—å–Ω–æ—Å—Ç–∏-–∏-cpu-cache"><a class="header" href="#223-–ü—Ä–∏–Ω—Ü–∏–ø-–ª–æ–∫–∞–ª—å–Ω–æ—Å—Ç–∏-–∏-cpu-cache">2.2.3 –ü—Ä–∏–Ω—Ü–∏–ø –ª–æ–∫–∞–ª—å–Ω–æ—Å—Ç–∏ –∏ CPU cache</a></h4>
<p>Inline cache —É–ª—É—á—à–∞–µ—Ç –Ω–µ —Ç–æ–ª—å–∫–æ –ª–æ–≥–∏—á–µ—Å–∫—É—é –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å, –Ω–æ –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ CPU cache:</p>
<ul>
<li><strong>Spatial locality</strong>: –î–∞–Ω–Ω—ã–µ –∫—ç—à–∞ –Ω–∞—Ö–æ–¥—è—Ç—Å—è —Ä—è–¥–æ–º —Å –∫–æ–¥–æ–º</li>
<li><strong>Temporal locality</strong>: –ì–æ—Ä—è—á–∏–µ –ø—É—Ç–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç –æ–¥–Ω–∏ –∏ —Ç–µ –∂–µ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ</li>
<li><strong>–ü—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–æ—Å—Ç—å –¥–ª—è CPU</strong>: –ú–æ–Ω–æ—Ç–æ–Ω–Ω—ã–π –ø–∞—Ç—Ç–µ—Ä–Ω –¥–æ—Å—Ç—É–ø–∞ –∫ –ø–∞–º—è—Ç–∏</li>
</ul>
<h3 id="23-–ö–∞–∫-—Ä–∞–±–æ—Ç–∞–µ—Ç-inline-cache"><a class="header" href="#23-–ö–∞–∫-—Ä–∞–±–æ—Ç–∞–µ—Ç-inline-cache">2.3 –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç Inline Cache</a></h3>
<h4 id="–®–∞–≥-1-–ü–µ—Ä–≤–æ–µ-–≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ-uninitialized-ic"><a class="header" href="#–®–∞–≥-1-–ü–µ—Ä–≤–æ–µ-–≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ-uninitialized-ic">–®–∞–≥ 1: –ü–µ—Ä–≤–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ (Uninitialized IC)</a></h4>
<pre><code class="language-javascript">function f(o) {
  return o.x;  // IC –µ—â–µ –Ω–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω
}

f({x: 1});  // –ü–µ—Ä–≤—ã–π –≤—ã–∑–æ–≤
</code></pre>
<p><strong>–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç</strong>:</p>
<ol>
<li>VM –≤—ã–ø–æ–ª–Ω—è–µ—Ç –ø–æ–ª–Ω—ã–π –ø–æ–∏—Å–∫ —Å–≤–æ–π—Å—Ç–≤–∞</li>
<li>–û–ø—Ä–µ–¥–µ–ª—è–µ—Ç "—Ñ–æ—Ä–º—É" –æ–±—ä–µ–∫—Ç–∞ (hidden class)</li>
<li>–í—ã—á–∏—Å–ª—è–µ—Ç –ø—É—Ç—å –∫ —Å–≤–æ–π—Å—Ç–≤—É x</li>
<li><strong>–°–æ—Ö—Ä–∞–Ω—è–µ—Ç –≤ –∫—ç—à–µ</strong>: <code>—Ñ–æ—Ä–º–∞ {x: *} ‚Üí —Å–º–µ—â–µ–Ω–∏–µ @12</code></li>
</ol>
<h4 id="–®–∞–≥-2-–ü–æ—Å–ª–µ–¥—É—é—â–∏–µ-–≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è-monomorphic-ic"><a class="header" href="#–®–∞–≥-2-–ü–æ—Å–ª–µ–¥—É—é—â–∏–µ-–≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è-monomorphic-ic">–®–∞–≥ 2: –ü–æ—Å–ª–µ–¥—É—é—â–∏–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è (Monomorphic IC)</a></h4>
<pre><code class="language-javascript">f({x: 2});  // –í—Ç–æ—Ä–æ–π –≤—ã–∑–æ–≤
</code></pre>
<p><strong>–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç</strong>:</p>
<ol>
<li>–ë—ã—Å—Ç—Ä–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞: <code>—Ñ–æ—Ä–º–∞(o) === –∫—ç—à–∏—Ä–æ–≤–∞–Ω–Ω–∞—è_—Ñ–æ—Ä–º–∞?</code></li>
<li>–ï—Å–ª–∏ –¥–∞: –ø—Ä—è–º–æ–π –¥–æ—Å—Ç—É–ø –ø–æ —Å–º–µ—â–µ–Ω–∏—é (–æ—á–µ–Ω—å –±—ã—Å—Ç—Ä–æ!)</li>
<li>–ï—Å–ª–∏ –Ω–µ—Ç: –ø–µ—Ä–µ—Ö–æ–¥ –∫ –º–µ–¥–ª–µ–Ω–Ω–æ–º—É –ø—É—Ç–∏</li>
</ol>
<h4 id="–î–∏–∞–≥—Ä–∞–º–º–∞-–†–∞–±–æ—Ç–∞-ic"><a class="header" href="#–î–∏–∞–≥—Ä–∞–º–º–∞-–†–∞–±–æ—Ç–∞-ic">–î–∏–∞–≥—Ä–∞–º–º–∞: –†–∞–±–æ—Ç–∞ IC</a></h4>
<pre><code>‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  –ö–æ–¥: o.x                                ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                  ‚îÇ
                  v
        ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
        ‚îÇ –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫—ç—à–∞    ‚îÇ
        ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îò
             ‚îÇ        ‚îÇ
      –ü–æ–ø–∞–¥–∞–Ω–∏–µ    –ü—Ä–æ–º–∞—Ö
             ‚îÇ        ‚îÇ
             v        v
      ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
      ‚îÇ –ë—ã—Å—Ç—Ä—ã–π  ‚îÇ  ‚îÇ –ü–æ–ª–Ω—ã–π –ø–æ–∏—Å–∫ +  ‚îÇ
      ‚îÇ –¥–æ—Å—Ç—É–ø   ‚îÇ  ‚îÇ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫—ç—à–∞ ‚îÇ
      ‚îÇ O(1)     ‚îÇ  ‚îÇ O(n)            ‚îÇ
      ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
</code></pre>
<h3 id="24-–°—Ç—Ä—É–∫—Ç—É—Ä–∞-–¥–∞–Ω–Ω—ã—Ö-ic"><a class="header" href="#24-–°—Ç—Ä—É–∫—Ç—É—Ä–∞-–¥–∞–Ω–Ω—ã—Ö-ic">2.4 –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö IC</a></h3>
<p>–ö–∞–∂–¥—ã–π IC –º–æ–∂–Ω–æ –ø—Ä–µ–¥—Å—Ç–∞–≤–∏—Ç—å –∫–∞–∫:</p>
<pre><code class="language-javascript">// –ü—Å–µ–≤–¥–æ–∫–æ–¥ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã IC
class InlineCache {
  state: 'uninitialized' | 'monomorphic' | 'polymorphic' | 'megamorphic';
  entries: Array&lt;{
    shape: HiddenClass,      // –§–æ—Ä–º–∞ –æ–±—ä–µ–∫—Ç–∞
    handler: Function | int  // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∏–ª–∏ —Å–º–µ—â–µ–Ω–∏–µ
  }&gt;;
  capacity: number;  // –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø–∏—Å–µ–π
}
</code></pre>
<p><strong>–í–∞–∂–Ω–æ</strong>: IC –∏–º–µ–µ—Ç <strong>—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—É—é —ë–º–∫–æ—Å—Ç—å</strong> (–æ–±—ã—á–Ω–æ 4-5 –∑–∞–ø–∏—Å–µ–π –¥–ª—è V8).</p>
<hr />
<h2 id="–ß–∞—Å—Ç—å-3-–°–∫—Ä—ã—Ç—ã–µ-–∫–ª–∞—Å—Å—ã-hidden-classes--shapes--maps"><a class="header" href="#–ß–∞—Å—Ç—å-3-–°–∫—Ä—ã—Ç—ã–µ-–∫–ª–∞—Å—Å—ã-hidden-classes--shapes--maps">–ß–∞—Å—Ç—å 3: –°–∫—Ä—ã—Ç—ã–µ –∫–ª–∞—Å—Å—ã (Hidden Classes / Shapes / Maps)</a></h2>
<h3 id="31-–ö–æ–Ω—Ü–µ–ø—Ü–∏—è-—Å–∫—Ä—ã—Ç—ã—Ö-–∫–ª–∞—Å—Å–æ–≤"><a class="header" href="#31-–ö–æ–Ω—Ü–µ–ø—Ü–∏—è-—Å–∫—Ä—ã—Ç—ã—Ö-–∫–ª–∞—Å—Å–æ–≤">3.1 –ö–æ–Ω—Ü–µ–ø—Ü–∏—è —Å–∫—Ä—ã—Ç—ã—Ö –∫–ª–∞—Å—Å–æ–≤</a></h3>
<p><strong>–ü—Ä–æ–±–ª–µ–º–∞</strong>: JavaScript –æ–±—ä–µ–∫—Ç—ã ‚Äî —ç—Ç–æ —Å–ª–æ–≤–∞—Ä–∏ (hash maps). –î–æ—Å—Ç—É–ø –∫ —Å–≤–æ–π—Å—Ç–≤—É —Ç—Ä–µ–±—É–µ—Ç —Ö–µ—à-–ø–æ–∏—Å–∫–∞ O(log n) –∏–ª–∏ O(1) —Å –∫–æ–ª–ª–∏–∑–∏—è–º–∏.</p>
<p><strong>–†–µ—à–µ–Ω–∏–µ</strong>: V8 –∏—Å–ø–æ–ª—å–∑—É–µ—Ç <strong>—Å–∫—Ä—ã—Ç—ã–µ –∫–ª–∞—Å—Å—ã</strong> (hidden classes), —á—Ç–æ–±—ã —Å–¥–µ–ª–∞—Ç—å –æ–±—ä–µ–∫—Ç—ã –ø–æ—Ö–æ–∂–∏–º–∏ –Ω–∞ –æ–±—ä–µ–∫—Ç—ã –≤ C++/Java.</p>
<p><strong>–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ</strong>: –°–∫—Ä—ã—Ç—ã–π –∫–ª–∞—Å—Å (—Ç–∞–∫–∂–µ –Ω–∞–∑—ã–≤–∞–µ–º—ã–π Shape –∏–ª–∏ Map) ‚Äî —ç—Ç–æ –≤–Ω—É—Ç—Ä–µ–Ω–Ω—è—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö VM, –∫–æ—Ç–æ—Ä–∞—è –æ–ø–∏—Å—ã–≤–∞–µ—Ç:</p>
<ol>
<li>–ö–∞–∫–∏–µ —Å–≤–æ–π—Å—Ç–≤–∞ –µ—Å—Ç—å —É –æ–±—ä–µ–∫—Ç–∞</li>
<li>–í –∫–∞–∫–æ–º –ø–æ—Ä—è–¥–∫–µ –æ–Ω–∏ –±—ã–ª–∏ –¥–æ–±–∞–≤–ª–µ–Ω—ã</li>
<li>–ì–¥–µ –æ–Ω–∏ –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ –ø–∞–º—è—Ç–∏ (—Å–º–µ—â–µ–Ω–∏—è)</li>
<li>–ò—Ö –∞—Ç—Ä–∏–±—É—Ç—ã (writable, enumerable, configurable)</li>
</ol>
<h3 id="32-–ö–∞–∫-—Å–æ–∑–¥–∞—é—Ç—Å—è-—Å–∫—Ä—ã—Ç—ã–µ-–∫–ª–∞—Å—Å—ã"><a class="header" href="#32-–ö–∞–∫-—Å–æ–∑–¥–∞—é—Ç—Å—è-—Å–∫—Ä—ã—Ç—ã–µ-–∫–ª–∞—Å—Å—ã">3.2 –ö–∞–∫ —Å–æ–∑–¥–∞—é—Ç—Å—è —Å–∫—Ä—ã—Ç—ã–µ –∫–ª–∞—Å—Å—ã</a></h3>
<h4 id="–ü—Ä–∏–º–µ—Ä-–≠–≤–æ–ª—é—Ü–∏—è-—Å–∫—Ä—ã—Ç–æ–≥–æ-–∫–ª–∞—Å—Å–∞"><a class="header" href="#–ü—Ä–∏–º–µ—Ä-–≠–≤–æ–ª—é—Ü–∏—è-—Å–∫—Ä—ã—Ç–æ–≥–æ-–∫–ª–∞—Å—Å–∞">–ü—Ä–∏–º–µ—Ä: –≠–≤–æ–ª—é—Ü–∏—è —Å–∫—Ä—ã—Ç–æ–≥–æ –∫–ª–∞—Å—Å–∞</a></h4>
<pre><code class="language-javascript">const obj = {};           // Shape S0: –ø—É—Å—Ç–æ–π –æ–±—ä–µ–∫—Ç
obj.x = 1;                // –ü–µ—Ä–µ—Ö–æ–¥: S0 ‚Üí S1 (–¥–æ–±–∞–≤–ª–µ–Ω–æ —Å–≤–æ–π—Å—Ç–≤–æ 'x')
obj.y = 2;                // –ü–µ—Ä–µ—Ö–æ–¥: S1 ‚Üí S2 (–¥–æ–±–∞–≤–ª–µ–Ω–æ —Å–≤–æ–π—Å—Ç–≤–æ 'y')
</code></pre>
<h4 id="–î–∏–∞–≥—Ä–∞–º–º–∞-–¶–µ–ø–æ—á–∫–∞-–ø–µ—Ä–µ—Ö–æ–¥–æ–≤-—Å–∫—Ä—ã—Ç—ã—Ö-–∫–ª–∞—Å—Å–æ–≤"><a class="header" href="#–î–∏–∞–≥—Ä–∞–º–º–∞-–¶–µ–ø–æ—á–∫–∞-–ø–µ—Ä–µ—Ö–æ–¥–æ–≤-—Å–∫—Ä—ã—Ç—ã—Ö-–∫–ª–∞—Å—Å–æ–≤">–î–∏–∞–≥—Ä–∞–º–º–∞: –¶–µ–ø–æ—á–∫–∞ –ø–µ—Ä–µ—Ö–æ–¥–æ–≤ —Å–∫—Ä—ã—Ç—ã—Ö –∫–ª–∞—Å—Å–æ–≤</a></h4>
<pre><code>‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    add 'x'    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    add 'y'    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ Shape S0‚îÇ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ&gt;‚îÇ Shape S1 ‚îÇ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ&gt;‚îÇ Shape S2 ‚îÇ
‚îÇ {}      ‚îÇ                ‚îÇ {x: *}   ‚îÇ                ‚îÇ {x:*, y:*}‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò                ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò                ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                              @offset 0                  @offset 4
</code></pre>
<h3 id="33-memory-layout-–æ–±—ä–µ–∫—Ç–æ–≤-—Å-–æ–¥–Ω–∏–º-—Å–∫—Ä—ã—Ç—ã–º-–∫–ª–∞—Å—Å–æ–º"><a class="header" href="#33-memory-layout-–æ–±—ä–µ–∫—Ç–æ–≤-—Å-–æ–¥–Ω–∏–º-—Å–∫—Ä—ã—Ç—ã–º-–∫–ª–∞—Å—Å–æ–º">3.3 Memory Layout –æ–±—ä–µ–∫—Ç–æ–≤ —Å –æ–¥–Ω–∏–º —Å–∫—Ä—ã—Ç—ã–º –∫–ª–∞—Å—Å–æ–º</a></h3>
<p><strong>–ö–ª—é—á–µ–≤–æ–µ —Å–≤–æ–π—Å—Ç–≤–æ</strong>: –û–±—ä–µ–∫—Ç—ã —Å –æ–¥–∏–Ω–∞–∫–æ–≤—ã–º —Å–∫—Ä—ã—Ç—ã–º –∫–ª–∞—Å—Å–æ–º –∏–º–µ—é—Ç <strong>–∏–¥–µ–Ω—Ç–∏—á–Ω–æ–µ —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ —Å–≤–æ–π—Å—Ç–≤ –≤ –ø–∞–º—è—Ç–∏</strong>.</p>
<pre><code class="language-javascript">const obj1 = {x: 1, y: 2};
const obj2 = {x: 3, y: 4};
</code></pre>
<p><strong>Memory layout</strong>:</p>
<pre><code>obj1:                          obj2:
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê              ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ Hidden Class ‚îÇ‚îÄ‚îÄ‚îÄ‚îê          ‚îÇ Hidden Class ‚îÇ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ pointer  ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§   ‚îÇ          ‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§   ‚îÇ
‚îÇ x: 1   @0    ‚îÇ   ‚îÇ          ‚îÇ x: 3   @0    ‚îÇ   ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§   ‚îÇ          ‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§   ‚îÇ
‚îÇ y: 2   @4    ‚îÇ   ‚îÇ          ‚îÇ y: 4   @4    ‚îÇ   ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò   ‚îÇ          ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò   ‚îÇ
                   ‚îÇ                              ‚îÇ
                   v                              ‚îÇ
              ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê                     ‚îÇ
              ‚îÇ  Shape S2   ‚îÇ&lt;‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
              ‚îÇ  {x:@0,y:@4}‚îÇ
              ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
</code></pre>
<p><strong>–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–æ</strong>: IC –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–¥–Ω—É –∑–∞–ø–∏—Å—å –∫—ç—à–∞ –¥–ª—è –æ–±–æ–∏—Ö –æ–±—ä–µ–∫—Ç–æ–≤!</p>
<h3 id="34-–ö–æ–≥–¥–∞-—Å–æ–∑–¥–∞—é—Ç—Å—è-—Ä–∞–∑–Ω—ã–µ-—Å–∫—Ä—ã—Ç—ã–µ-–∫–ª–∞—Å—Å—ã"><a class="header" href="#34-–ö–æ–≥–¥–∞-—Å–æ–∑–¥–∞—é—Ç—Å—è-—Ä–∞–∑–Ω—ã–µ-—Å–∫—Ä—ã—Ç—ã–µ-–∫–ª–∞—Å—Å—ã">3.4 –ö–æ–≥–¥–∞ —Å–æ–∑–¥–∞—é—Ç—Å—è —Ä–∞–∑–Ω—ã–µ —Å–∫—Ä—ã—Ç—ã–µ –∫–ª–∞—Å—Å—ã</a></h3>
<h4 id="–°–ª—É—á–∞–π-1-–†–∞–∑–Ω—ã–π-–ø–æ—Ä—è–¥–æ–∫-–¥–æ–±–∞–≤–ª–µ–Ω–∏—è-—Å–≤–æ–π—Å—Ç–≤"><a class="header" href="#–°–ª—É—á–∞–π-1-–†–∞–∑–Ω—ã–π-–ø–æ—Ä—è–¥–æ–∫-–¥–æ–±–∞–≤–ª–µ–Ω–∏—è-—Å–≤–æ–π—Å—Ç–≤">–°–ª—É—á–∞–π 1: –†–∞–∑–Ω—ã–π –ø–æ—Ä—è–¥–æ–∫ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Å–≤–æ–π—Å—Ç–≤</a></h4>
<pre><code class="language-javascript">const obj1 = {};
obj1.x = 1;  // S0 ‚Üí S1
obj1.y = 2;  // S1 ‚Üí S2

const obj2 = {};
obj2.y = 1;  // S0 ‚Üí S3 (–¥—Ä—É–≥–æ–π –ø—É—Ç—å!)
obj2.x = 2;  // S3 ‚Üí S4
</code></pre>
<p><strong>–†–µ–∑—É–ª—å—Ç–∞—Ç</strong>: <code>obj1</code> –∏ <code>obj2</code> –∏–º–µ—é—Ç <strong>—Ä–∞–∑–Ω—ã–µ</strong> —Å–∫—Ä—ã—Ç—ã–µ –∫–ª–∞—Å—Å—ã, –¥–∞–∂–µ –µ—Å–ª–∏ —Å–≤–æ–π—Å—Ç–≤–∞ –æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ!</p>
<h4 id="–î–∏–∞–≥—Ä–∞–º–º–∞-–†–∞–∑–≤–µ—Ç–≤–ª–µ–Ω–∏–µ-—Å–∫—Ä—ã—Ç—ã—Ö-–∫–ª–∞—Å—Å–æ–≤"><a class="header" href="#–î–∏–∞–≥—Ä–∞–º–º–∞-–†–∞–∑–≤–µ—Ç–≤–ª–µ–Ω–∏–µ-—Å–∫—Ä—ã—Ç—ã—Ö-–∫–ª–∞—Å—Å–æ–≤">–î–∏–∞–≥—Ä–∞–º–º–∞: –†–∞–∑–≤–µ—Ç–≤–ª–µ–Ω–∏–µ —Å–∫—Ä—ã—Ç—ã—Ö –∫–ª–∞—Å—Å–æ–≤</a></h4>
<pre><code>                 ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
            ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚î§ Shape S0 ‚îÇ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
            ‚îÇ    ‚îÇ   {}     ‚îÇ    ‚îÇ
            ‚îÇ    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îÇ
         add 'x'              add 'y'
            ‚îÇ                    ‚îÇ
            v                    v
       ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê         ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
       ‚îÇ Shape S1 ‚îÇ         ‚îÇ Shape S3 ‚îÇ
       ‚îÇ  {x: *}  ‚îÇ         ‚îÇ  {y: *}  ‚îÇ
       ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îò         ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îò
             ‚îÇ                    ‚îÇ
          add 'y'              add 'x'
             ‚îÇ                    ‚îÇ
             v                    v
       ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê         ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
       ‚îÇ Shape S2 ‚îÇ         ‚îÇ Shape S4 ‚îÇ
       ‚îÇ {x:*, y:*}‚îÇ         ‚îÇ {y:*, x:*}‚îÇ
       ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò         ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
</code></pre>
<p><strong>–í–∞–∂–Ω–æ</strong>: S2 ‚â† S4, –¥–∞–∂–µ –µ—Å–ª–∏ –Ω–∞–±–æ—Ä —Å–≤–æ–π—Å—Ç–≤ –æ–¥–∏–Ω–∞–∫–æ–≤—ã–π!</p>
<h4 id="–°–ª—É—á–∞–π-2-–£–¥–∞–ª–µ–Ω–∏–µ-—Å–≤–æ–π—Å—Ç–≤"><a class="header" href="#–°–ª—É—á–∞–π-2-–£–¥–∞–ª–µ–Ω–∏–µ-—Å–≤–æ–π—Å—Ç–≤">–°–ª—É—á–∞–π 2: –£–¥–∞–ª–µ–Ω–∏–µ —Å–≤–æ–π—Å—Ç–≤</a></h4>
<pre><code class="language-javascript">const obj1 = {x: 1, y: 2};
const obj2 = {x: 1, y: 2};
delete obj2.y;  // obj2 –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç –≤ –¥—Ä—É–≥–æ–π —Å–∫—Ä—ã—Ç—ã–π –∫–ª–∞—Å—Å!
</code></pre>
<p><strong>–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è</strong>: –ò–∑–±–µ–≥–∞–π—Ç–µ <code>delete</code> –¥–ª—è —Å–≤–æ–π—Å—Ç–≤ –æ–±—ä–µ–∫—Ç–æ–≤ –≤ –≥–æ—Ä—è—á–∏—Ö –ø—É—Ç—è—Ö. –í–º–µ—Å—Ç–æ —ç—Ç–æ–≥–æ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ <code>obj.prop = undefined</code> –∏–ª–∏ <code>obj.prop = null</code>.</p>
<h4 id="–°–ª—É—á–∞–π-3-–î–æ–±–∞–≤–ª–µ–Ω–∏–µ-—Å–≤–æ–π—Å—Ç–≤-–ø–æ—Å–ª–µ-—Å–æ–∑–¥–∞–Ω–∏—è"><a class="header" href="#–°–ª—É—á–∞–π-3-–î–æ–±–∞–≤–ª–µ–Ω–∏–µ-—Å–≤–æ–π—Å—Ç–≤-–ø–æ—Å–ª–µ-—Å–æ–∑–¥–∞–Ω–∏—è">–°–ª—É—á–∞–π 3: –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Å–≤–æ–π—Å—Ç–≤ –ø–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è</a></h4>
<pre><code class="language-javascript">// –•–æ—Ä–æ—à–æ: –≤—Å–µ –æ–±—ä–µ–∫—Ç—ã –∏–º–µ—é—Ç –æ–¥–∏–Ω–∞–∫–æ–≤—É—é —Ñ–æ—Ä–º—É
const objects = [
  {x: 1, y: 2},
  {x: 3, y: 4},
  {x: 5, y: 6}
];

// –ü–ª–æ—Ö–æ: –æ–±—ä–µ–∫—Ç—ã –∏–º–µ—é—Ç —Ä–∞–∑–Ω—ã–µ —Ñ–æ—Ä–º—ã
const badObjects = [
  {x: 1},
  {x: 2, y: 3},
  {x: 4, y: 5, z: 6}
];
</code></pre>
<hr />
<h2 id="–ß–∞—Å—Ç—å-4-–°–æ—Å—Ç–æ—è–Ω–∏—è-inline-cache"><a class="header" href="#–ß–∞—Å—Ç—å-4-–°–æ—Å—Ç–æ—è–Ω–∏—è-inline-cache">–ß–∞—Å—Ç—å 4: –°–æ—Å—Ç–æ—è–Ω–∏—è Inline Cache</a></h2>
<h3 id="41-–ñ–∏–∑–Ω–µ–Ω–Ω—ã–π-—Ü–∏–∫–ª-ic-–°–æ—Å—Ç–æ—è–Ω–∏—è"><a class="header" href="#41-–ñ–∏–∑–Ω–µ–Ω–Ω—ã–π-—Ü–∏–∫–ª-ic-–°–æ—Å—Ç–æ—è–Ω–∏—è">4.1 –ñ–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª IC: –°–æ—Å—Ç–æ—è–Ω–∏—è</a></h3>
<p>–ö–∞–∂–¥—ã–π IC –ø—Ä–æ—Ö–æ–¥–∏—Ç —á–µ—Ä–µ–∑ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–æ—Å—Ç–æ—è–Ω–∏–π –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:</p>
<pre><code>Uninitialized ‚Üí Monomorphic ‚Üí Polymorphic ‚Üí Megamorphic
</code></pre>
<h4 id="–î–∏–∞–≥—Ä–∞–º–º–∞-–ú–∞—à–∏–Ω–∞-—Å–æ—Å—Ç–æ—è–Ω–∏–π-ic"><a class="header" href="#–î–∏–∞–≥—Ä–∞–º–º–∞-–ú–∞—à–∏–Ω–∞-—Å–æ—Å—Ç–æ—è–Ω–∏–π-ic">–î–∏–∞–≥—Ä–∞–º–º–∞: –ú–∞—à–∏–Ω–∞ —Å–æ—Å—Ç–æ—è–Ω–∏–π IC</a></h4>
<pre><code>     ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
     ‚îÇ Uninitialized    ‚îÇ  –ù–∞—á–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
     ‚îÇ (–Ω–µ –≤–∏–¥–µ–ª –æ–±—ä–µ–∫—Ç–æ–≤)‚îÇ
     ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
              ‚îÇ –£–≤–∏–¥–µ–ª –æ–±—ä–µ–∫—Ç —Ñ–æ—Ä–º—ã A
              v
     ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
     ‚îÇ  Monomorphic     ‚îÇ  –û–ø—Ç–∏–º–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
     ‚îÇ  –í–∏–¥–µ–ª: [A]      ‚îÇ  –û–î–ò–ù –¢–ò–ü - –•–û–†–û–®–û!
     ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
              ‚îÇ –£–≤–∏–¥–µ–ª –æ–±—ä–µ–∫—Ç —Ñ–æ—Ä–º—ã B (B ‚â† A)
              v
     ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
     ‚îÇ  Polymorphic     ‚îÇ  –ü—Ä–∏–µ–º–ª–µ–º–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
     ‚îÇ  –í–∏–¥–µ–ª: [A, B]   ‚îÇ  –ù–µ—Å–∫–æ–ª—å–∫–æ —Ç–∏–ø–æ–≤
     ‚îÇ         [A,B,C]  ‚îÇ
     ‚îÇ         [A,B,C,D]‚îÇ
     ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
              ‚îÇ –£–≤–∏–¥–µ–ª &gt; 4 —Ä–∞–∑–Ω—ã—Ö —Ñ–æ—Ä–º
              v
     ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
     ‚îÇ  Megamorphic     ‚îÇ  –•—É–¥—à–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
     ‚îÇ  –í–∏–¥–µ–ª: –º–Ω–æ–≥–æ    ‚îÇ  –°–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ —Ç–∏–ø–æ–≤!
     ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
</code></pre>
<h3 id="42-monomorphic-–ú–æ–Ω–æ–º–æ—Ä—Ñ–Ω–æ–µ-—Å–æ—Å—Ç–æ—è–Ω–∏–µ"><a class="header" href="#42-monomorphic-–ú–æ–Ω–æ–º–æ—Ä—Ñ–Ω–æ–µ-—Å–æ—Å—Ç–æ—è–Ω–∏–µ">4.2 Monomorphic (–ú–æ–Ω–æ–º–æ—Ä—Ñ–Ω–æ–µ) —Å–æ—Å—Ç–æ—è–Ω–∏–µ</a></h3>
<p><strong>–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ</strong>: IC –≤–∏–¥–µ–ª –æ–±—ä–µ–∫—Ç—ã —Ç–æ–ª—å–∫–æ <strong>–æ–¥–Ω–æ–π</strong> —Ñ–æ—Ä–º—ã.</p>
<pre><code class="language-javascript">function f(o) {
  return o.x;  // IC –¥–ª—è .x
}

// –í—Å–µ –≤—ã–∑–æ–≤—ã —Å –æ–±—ä–µ–∫—Ç–∞–º–∏ –æ–¥–Ω–æ–π —Ñ–æ—Ä–º—ã
f({x: 1});
f({x: 2});
f({x: 3});

// IC –æ—Å—Ç–∞–µ—Ç—Å—è –º–æ–Ω–æ–º–æ—Ä—Ñ–Ω—ã–º: –≤–∏–¥–µ–ª —Ç–æ–ª—å–∫–æ —Ñ–æ—Ä–º—É {x: *}
</code></pre>
<p><strong>–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏</strong>:</p>
<ul>
<li><strong>–ü—Ä–æ–≤–µ—Ä–∫–∞</strong>: –û–¥–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ —É–∫–∞–∑–∞—Ç–µ–ª—è –Ω–∞ —Å–∫—Ä—ã—Ç—ã–π –∫–ª–∞—Å—Å</li>
<li><strong>–î–æ—Å—Ç—É–ø</strong>: –ü—Ä—è–º–æ–µ —á—Ç–µ–Ω–∏–µ –ø–æ —Å–º–µ—â–µ–Ω–∏—é</li>
<li><strong>–°—Ç–æ–∏–º–æ—Å—Ç—å</strong>: ~1-2 CPU —Ü–∏–∫–ª–∞ (–ø–æ—Å–ª–µ inline)</li>
<li><strong>–ü—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–æ—Å—Ç—å –≤–µ—Ç–≤–ª–µ–Ω–∏–π</strong>: –û—Ç–ª–∏—á–Ω–∞—è (–≤—Å–µ–≥–¥–∞ true)</li>
</ul>
<p><strong>–ü—Å–µ–≤–¥–æ–∫–æ–¥ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –∫–æ–¥–∞</strong>:</p>
<pre><code class="language-cpp">// –ú–æ–Ω–æ–º–æ—Ä—Ñ–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫ o.x
if (o.hidden_class == cached_shape_A) {
  return *(o.data + offset_12);  // –ü—Ä—è–º–æ–µ —á—Ç–µ–Ω–∏–µ
} else {
  deoptimize();  // –†–µ–¥–∫–∏–π –ø—É—Ç—å
}
</code></pre>
<h3 id="43-polymorphic-–ü–æ–ª–∏–º–æ—Ä—Ñ–Ω–æ–µ-—Å–æ—Å—Ç–æ—è–Ω–∏–µ"><a class="header" href="#43-polymorphic-–ü–æ–ª–∏–º–æ—Ä—Ñ–Ω–æ–µ-—Å–æ—Å—Ç–æ—è–Ω–∏–µ">4.3 Polymorphic (–ü–æ–ª–∏–º–æ—Ä—Ñ–Ω–æ–µ) —Å–æ—Å—Ç–æ—è–Ω–∏–µ</a></h3>
<p><strong>–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ</strong>: IC –≤–∏–¥–µ–ª –æ–±—ä–µ–∫—Ç—ã <strong>2-4 —Ä–∞–∑–Ω—ã—Ö —Ñ–æ—Ä–º</strong> (–≤ V8).</p>
<pre><code class="language-javascript">function f(o) {
  return o.x;  // IC –¥–ª—è .x
}

f({x: 1});           // –§–æ—Ä–º–∞ A: {x: *}
f({x: 2, y: 3});     // –§–æ—Ä–º–∞ B: {x: *, y: *}
f({x: 4, y: 5, z: 6}); // –§–æ—Ä–º–∞ C: {x: *, y: *, z: *}

// IC —Ç–µ–ø–µ—Ä—å –ø–æ–ª–∏–º–æ—Ä—Ñ–Ω—ã–π —Å—Ç–µ–ø–µ–Ω–∏ 3
</code></pre>
<p><strong>–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏</strong>:</p>
<ul>
<li><strong>–ü—Ä–æ–≤–µ—Ä–∫–∞</strong>: –õ–∏–Ω–µ–π–Ω—ã–π –ø–æ–∏—Å–∫ –ø–æ N —Ñ–æ—Ä–º–∞–º</li>
<li><strong>–î–æ—Å—Ç—É–ø</strong>: –ü—Ä—è–º–æ–µ —á—Ç–µ–Ω–∏–µ –ø–æ —Å–º–µ—â–µ–Ω–∏—é (–ø–æ—Å–ª–µ –Ω–∞—Ö–æ–∂–¥–µ–Ω–∏—è —Ñ–æ—Ä–º—ã)</li>
<li><strong>–°—Ç–æ–∏–º–æ—Å—Ç—å</strong>: ~N –ø—Ä–æ–≤–µ—Ä–æ–∫ + –¥–æ—Å—Ç—É–ø</li>
<li><strong>–ü—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–æ—Å—Ç—å –≤–µ—Ç–≤–ª–µ–Ω–∏–π</strong>: –ó–∞–≤–∏—Å–∏—Ç –æ—Ç —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Ç–∏–ø–æ–≤</li>
</ul>
<p><strong>–ü—Å–µ–≤–¥–æ–∫–æ–¥ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –∫–æ–¥–∞</strong>:</p>
<pre><code class="language-cpp">// –ü–æ–ª–∏–º–æ—Ä—Ñ–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫ o.x (3 —Ñ–æ—Ä–º—ã)
if (o.hidden_class == shape_A) {
  return *(o.data + offset_A);
} else if (o.hidden_class == shape_B) {
  return *(o.data + offset_B);
} else if (o.hidden_class == shape_C) {
  return *(o.data + offset_C);
} else {
  deoptimize();
}
</code></pre>
<h4 id="–î–≤–∞-–≤–∏–¥–∞-–ø–æ–ª–∏–º–æ—Ä—Ñ–Ω—ã—Ö-ic-–≤-v8"><a class="header" href="#–î–≤–∞-–≤–∏–¥–∞-–ø–æ–ª–∏–º–æ—Ä—Ñ–Ω—ã—Ö-ic-–≤-v8">–î–≤–∞ –≤–∏–¥–∞ –ø–æ–ª–∏–º–æ—Ä—Ñ–Ω—ã—Ö IC –≤ V8</a></h4>
<h5 id="431-–ü–æ–ª–∏–º–æ—Ä—Ñ–Ω—ã–π-—Å-–æ–¥–∏–Ω–∞–∫–æ–≤—ã–º–∏-—Å–º–µ—â–µ–Ω–∏—è–º–∏"><a class="header" href="#431-–ü–æ–ª–∏–º–æ—Ä—Ñ–Ω—ã–π-—Å-–æ–¥–∏–Ω–∞–∫–æ–≤—ã–º–∏-—Å–º–µ—â–µ–Ω–∏—è–º–∏">4.3.1 –ü–æ–ª–∏–º–æ—Ä—Ñ–Ω—ã–π —Å –æ–¥–∏–Ω–∞–∫–æ–≤—ã–º–∏ —Å–º–µ—â–µ–Ω–∏—è–º–∏</a></h5>
<p>–ï—Å–ª–∏ —Å–≤–æ–π—Å—Ç–≤–æ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –Ω–∞ <strong>–æ–¥–Ω–æ–º –∏ —Ç–æ–º –∂–µ —Å–º–µ—â–µ–Ω–∏–∏</strong> –≤–æ –≤—Å–µ—Ö —Ñ–æ—Ä–º–∞—Ö:</p>
<pre><code class="language-javascript">const obj1 = {x: 1};           // x –Ω–∞ —Å–º–µ—â–µ–Ω–∏–∏ @0
const obj2 = {x: 2, y: 3};     // x –Ω–∞ —Å–º–µ—â–µ–Ω–∏–∏ @0
const obj3 = {x: 4, y: 5, z: 6}; // x –Ω–∞ —Å–º–µ—â–µ–Ω–∏–∏ @0
</code></pre>
<p><strong>–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è</strong>: V8 –º–æ–∂–µ—Ç —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å <strong>polymorphic type guard</strong>:</p>
<pre><code class="language-cpp">// –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–æ–ª–∏–º–æ—Ä—Ñ–Ω—ã–π –¥–æ—Å—Ç—É–ø
if (o.hidden_class == shape_A ||
    o.hidden_class == shape_B ||
    o.hidden_class == shape_C) {
  return *(o.data + offset_0);  // –û–¥–Ω–æ —Å–º–µ—â–µ–Ω–∏–µ –¥–ª—è –≤—Å–µ—Ö!
} else {
  deoptimize();
}
</code></pre>
<p><strong>–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–æ</strong>: –¢–æ–ª—å–∫–æ –æ–¥–Ω–æ —á—Ç–µ–Ω–∏–µ –ø–∞–º—è—Ç–∏ –ø–æ—Å–ª–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ç–∏–ø–∞.</p>
<h5 id="432-–ü–æ–ª–∏–º–æ—Ä—Ñ–Ω—ã–π-—Å-—Ä–∞–∑–Ω—ã–º–∏-—Å–º–µ—â–µ–Ω–∏—è–º–∏"><a class="header" href="#432-–ü–æ–ª–∏–º–æ—Ä—Ñ–Ω—ã–π-—Å-—Ä–∞–∑–Ω—ã–º–∏-—Å–º–µ—â–µ–Ω–∏—è–º–∏">4.3.2 –ü–æ–ª–∏–º–æ—Ä—Ñ–Ω—ã–π —Å —Ä–∞–∑–Ω—ã–º–∏ —Å–º–µ—â–µ–Ω–∏—è–º–∏</a></h5>
<p>–ï—Å–ª–∏ —Å–≤–æ–π—Å—Ç–≤–æ –Ω–∞ <strong>—Ä–∞–∑–Ω—ã—Ö —Å–º–µ—â–µ–Ω–∏—è—Ö</strong>:</p>
<pre><code class="language-javascript">const obj1 = {x: 1};           // x –Ω–∞ —Å–º–µ—â–µ–Ω–∏–∏ @0
const obj2 = {y: 2, x: 3};     // x –Ω–∞ —Å–º–µ—â–µ–Ω–∏–∏ @4 (–ø–æ—Å–ª–µ y)
const obj3 = {z: 4, y: 5, x: 6}; // x –Ω–∞ —Å–º–µ—â–µ–Ω–∏–∏ @8
</code></pre>
<p><strong>–ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è</strong>: –ü–æ–ª–Ω–æ–µ –¥–µ—Ä–µ–≤–æ —Ä–µ—à–µ–Ω–∏–π (–∫–∞–∫ –ø–æ–∫–∞–∑–∞–Ω–æ –≤—ã—à–µ).</p>
<p><strong>–ù–µ–¥–æ—Å—Ç–∞—Ç–æ–∫</strong>: –•—É–∂–µ –¥–ª—è CPU branch predictor.</p>
<h3 id="44-megamorphic-–ú–µ–≥–∞–º–æ—Ä—Ñ–Ω–æ–µ-—Å–æ—Å—Ç–æ—è–Ω–∏–µ"><a class="header" href="#44-megamorphic-–ú–µ–≥–∞–º–æ—Ä—Ñ–Ω–æ–µ-—Å–æ—Å—Ç–æ—è–Ω–∏–µ">4.4 Megamorphic (–ú–µ–≥–∞–º–æ—Ä—Ñ–Ω–æ–µ) —Å–æ—Å—Ç–æ—è–Ω–∏–µ</a></h3>
<p><strong>–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ</strong>: IC –≤–∏–¥–µ–ª –æ–±—ä–µ–∫—Ç—ã <strong>–±–æ–ª–µ–µ 4 —Ä–∞–∑–Ω—ã—Ö —Ñ–æ—Ä–º</strong> (–ø–æ—Ä–æ–≥ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç VM).</p>
<pre><code class="language-javascript">function f(o) {
  return o.x;
}

// –í—ã–∑–æ–≤—ã —Å –º–Ω–æ–∂–µ—Å—Ç–≤–æ–º —Ä–∞–∑–Ω—ã—Ö —Ñ–æ—Ä–º
f({x: 1});
f({x: 1, a: 2});
f({x: 1, b: 2});
f({x: 1, c: 2});
f({x: 1, d: 2});
f({x: 1, e: 2});  // –ü–µ—Ä–µ—Ö–æ–¥ –≤ –º–µ–≥–∞–º–æ—Ä—Ñ–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ!
</code></pre>
<p><strong>–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏</strong>:</p>
<ul>
<li><strong>–õ–æ–∫–∞–ª—å–Ω—ã–π –∫—ç—à</strong>: –ë–æ–ª—å—à–µ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è</li>
<li><strong>–ì–ª–æ–±–∞–ª—å–Ω—ã–π –∫—ç—à</strong>: –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≥–ª–æ–±–∞–ª—å–Ω–∞—è —Ö–µ—à-—Ç–∞–±–ª–∏—Ü–∞ (megamorphic stub cache)</li>
<li><strong>–°—Ç–æ–∏–º–æ—Å—Ç—å</strong>: Hash lookup + –≤–æ–∑–º–æ–∂–Ω—ã–µ –∫–æ–ª–ª–∏–∑–∏–∏</li>
<li><strong>–ü—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–æ—Å—Ç—å</strong>: –ü–ª–æ—Ö–∞—è</li>
</ul>
<p><strong>–ì–ª–æ–±–∞–ª—å–Ω–∞—è —Ö–µ—à-—Ç–∞–±–ª–∏—Ü–∞</strong>:</p>
<ul>
<li>–§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ä–∞–∑–º–µ—Ä (–Ω–∞–ø—Ä–∏–º–µ—Ä, 1024 –∑–∞–ø–∏—Å–∏)</li>
<li>–û–±—â–∞—è –¥–ª—è –≤—Å–µ—Ö –º–µ–≥–∞–º–æ—Ä—Ñ–Ω—ã—Ö IC –≤ –ø—Ä–æ–≥—Ä–∞–º–º–µ</li>
<li>–ö–æ–ª–ª–∏–∑–∏–∏ –ø—Ä–∏–≤–æ–¥—è—Ç –∫ –ø–µ—Ä–µ–∑–∞–ø–∏—Å–∏</li>
</ul>
<p><strong>–ü—Å–µ–≤–¥–æ–∫–æ–¥</strong>:</p>
<pre><code class="language-cpp">// –ú–µ–≥–∞–º–æ—Ä—Ñ–Ω—ã–π –¥–æ—Å—Ç—É–ø
Shape shape = o.hidden_class;
Handler handler = global_megamorphic_cache.lookup(shape, "x");
if (handler != null) {
  return handler(o);  // –ú–æ–∂–µ—Ç –±—ã—Ç—å —Ñ—É–Ω–∫—Ü–∏—è –∏–ª–∏ —Å–º–µ—â–µ–Ω–∏–µ
} else {
  // –ü–æ–ª–Ω—ã–π runtime lookup
  return runtime_get_property(o, "x");
}
</code></pre>
<h3 id="45-–°—Ä–∞–≤–Ω–µ–Ω–∏–µ-–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏-—Å–æ—Å—Ç–æ—è–Ω–∏–π"><a class="header" href="#45-–°—Ä–∞–≤–Ω–µ–Ω–∏–µ-–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏-—Å–æ—Å—Ç–æ—è–Ω–∏–π">4.5 –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ —Å–æ—Å—Ç–æ—è–Ω–∏–π</a></h3>
<h4 id="–¢–∞–±–ª–∏—Ü–∞-–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏-–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏"><a class="header" href="#–¢–∞–±–ª–∏—Ü–∞-–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏-–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏">–¢–∞–±–ª–∏—Ü–∞: –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏</a></h4>
<div class="table-wrapper"><table><thead><tr><th>–°–æ—Å—Ç–æ—è–Ω–∏–µ</th><th>–ü—Ä–æ–≤–µ—Ä–∫–∞</th><th>–î–æ—Å—Ç—É–ø</th><th>–û—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å</th><th>Branch prediction</th></tr></thead><tbody>
<tr><td><strong>Monomorphic</strong></td><td>1 —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ</td><td>–ü—Ä—è–º–æ–µ</td><td><strong>1.0x</strong> (–±–∞–∑–æ–≤–∞—è)</td><td>–û—Ç–ª–∏—á–Ω–æ</td></tr>
<tr><td><strong>Polymorphic (2)</strong></td><td>2 —Å—Ä–∞–≤–Ω–µ–Ω–∏—è</td><td>–ü—Ä—è–º–æ–µ</td><td><strong>0.95x</strong></td><td>–•–æ—Ä–æ—à–æ</td></tr>
<tr><td><strong>Polymorphic (4)</strong></td><td>4 —Å—Ä–∞–≤–Ω–µ–Ω–∏—è</td><td>–ü—Ä—è–º–æ–µ</td><td><strong>0.85x</strong></td><td>–ü—Ä–∏–µ–º–ª–µ–º–æ</td></tr>
<tr><td><strong>Polymorphic (—Ä–∞–∑–Ω—ã–µ —Å–º–µ—â–µ–Ω–∏—è)</strong></td><td>4 —Å—Ä–∞–≤–Ω–µ–Ω–∏—è + 4 —á—Ç–µ–Ω–∏—è</td><td>–£—Å–ª–æ–≤–Ω–æ–µ</td><td><strong>0.70x</strong></td><td>–ü–ª–æ—Ö–æ</td></tr>
<tr><td><strong>Megamorphic</strong></td><td>Hash lookup</td><td>–ü—Ä—è–º–æ–µ/–≤—ã–∑–æ–≤</td><td><strong>0.30-0.50x</strong></td><td>–û—á–µ–Ω—å –ø–ª–æ—Ö–æ</td></tr>
</tbody></table>
</div>
<p><strong>–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ</strong>: –¢–æ—á–Ω—ã–µ —Ü–∏—Ñ—Ä—ã –∑–∞–≤–∏—Å—è—Ç –æ—Ç –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è, —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Ç–∏–ø–æ–≤ –∏ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã CPU.</p>
<h3 id="46-–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–π-–ø—Ä–∏–º–µ—Ä-–í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è-—Å–æ—Å—Ç–æ—è–Ω–∏–π-ic"><a class="header" href="#46-–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–π-–ø—Ä–∏–º–µ—Ä-–í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è-—Å–æ—Å—Ç–æ—è–Ω–∏–π-ic">4.6 –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–π –ø—Ä–∏–º–µ—Ä: –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏–π IC</a></h3>
<pre><code class="language-javascript">// –ü—Ä–∏–º–µ—Ä 1: –ú–æ–Ω–æ–º–æ—Ä—Ñ–Ω—ã–π –¥–æ—Å—Ç—É–ø
function processMonomorphic(objects) {
  let sum = 0;
  for (let i = 0; i &lt; objects.length; i++) {
    sum += objects[i].value;  // IC: Monomorphic
  }
  return sum;
}

// –í—Å–µ –æ–±—ä–µ–∫—Ç—ã –æ–¥–Ω–æ–π —Ñ–æ—Ä–º—ã
const monoObjects = [
  {value: 1},
  {value: 2},
  {value: 3}
];

// –ü—Ä–∏–º–µ—Ä 2: –ü–æ–ª–∏–º–æ—Ä—Ñ–Ω—ã–π –¥–æ—Å—Ç—É–ø
function processPolymorphic(objects) {
  let sum = 0;
  for (let i = 0; i &lt; objects.length; i++) {
    sum += objects[i].value;  // IC: Polymorphic (—Å—Ç–µ–ø–µ–Ω—å 3)
  }
  return sum;
}

// –û–±—ä–µ–∫—Ç—ã —Ä–∞–∑–Ω—ã—Ö —Ñ–æ—Ä–º
const polyObjects = [
  {value: 1},           // –§–æ—Ä–º–∞ A
  {value: 2, x: 0},     // –§–æ—Ä–º–∞ B
  {value: 3, y: 0},     // –§–æ—Ä–º–∞ C
  {value: 1},           // –§–æ—Ä–º–∞ A
  {value: 2, x: 0},     // –§–æ—Ä–º–∞ B
];

// –ü—Ä–∏–º–µ—Ä 3: –ú–µ–≥–∞–º–æ—Ä—Ñ–Ω—ã–π –¥–æ—Å—Ç—É–ø
function processMegamorphic(objects) {
  let sum = 0;
  for (let i = 0; i &lt; objects.length; i++) {
    sum += objects[i].value;  // IC: Megamorphic
  }
  return sum;
}

// –û–±—ä–µ–∫—Ç—ã –º–Ω–æ–∂–µ—Å—Ç–≤–∞ —Ä–∞–∑–Ω—ã—Ö —Ñ–æ—Ä–º
const megaObjects = [
  {value: 1},
  {value: 2, a: 0},
  {value: 3, b: 0},
  {value: 4, c: 0},
  {value: 5, d: 0},
  {value: 6, e: 0},  // –ë–æ–ª–µ–µ 4 —Ñ–æ—Ä–º!
];
</code></pre>
<p><strong>–ë–µ–Ω—á–º–∞—Ä–∫ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã</strong> (–æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã–µ):</p>
<ul>
<li><code>processMonomorphic</code>: <strong>1.00x</strong> (–±–∞–∑–æ–≤–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å)</li>
<li><code>processPolymorphic</code>: <strong>0.85x</strong> (–Ω–∞ 15% –º–µ–¥–ª–µ–Ω–Ω–µ–µ)</li>
<li><code>processMegamorphic</code>: <strong>0.45x</strong> (–±–æ–ª–µ–µ —á–µ–º –≤ 2 —Ä–∞–∑–∞ –º–µ–¥–ª–µ–Ω–Ω–µ–µ)</li>
</ul>
<hr />
<h2 id="–ß–∞—Å—Ç—å-5-–û–ø—Ç–∏–º–∏–∑–∏—Ä—É—é—â–∏–π-–∫–æ–º–ø–∏–ª—è—Ç–æ—Ä-–∏-—Å–ø–µ–∫—É–ª—è—Ç–∏–≤–Ω–∞—è-–æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è"><a class="header" href="#–ß–∞—Å—Ç—å-5-–û–ø—Ç–∏–º–∏–∑–∏—Ä—É—é—â–∏–π-–∫–æ–º–ø–∏–ª—è—Ç–æ—Ä-–∏-—Å–ø–µ–∫—É–ª—è—Ç–∏–≤–Ω–∞—è-–æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è">–ß–∞—Å—Ç—å 5: –û–ø—Ç–∏–º–∏–∑–∏—Ä—É—é—â–∏–π –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä –∏ —Å–ø–µ–∫—É–ª—è—Ç–∏–≤–Ω–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è</a></h2>
<h3 id="51-–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞-–º–Ω–æ–≥–æ—É—Ä–æ–≤–Ω–µ–≤–æ–≥–æ-–≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è"><a class="header" href="#51-–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞-–º–Ω–æ–≥–æ—É—Ä–æ–≤–Ω–µ–≤–æ–≥–æ-–≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è">5.1 –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –º–Ω–æ–≥–æ—É—Ä–æ–≤–Ω–µ–≤–æ–≥–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è</a></h3>
<p>–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ JavaScript VM (V8, SpiderMonkey, JavaScriptCore) –∏—Å–ø–æ–ª—å–∑—É—é—Ç <strong>–º–Ω–æ–≥–æ—É—Ä–æ–≤–Ω–µ–≤—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É</strong>:</p>
<pre><code>‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                    JavaScript Source                    ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                         ‚îÇ
                         v
              ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
              ‚îÇ   Parser + AST       ‚îÇ
              ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                         ‚îÇ
                         v
              ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
              ‚îÇ  Ignition Bytecode   ‚îÇ  –£—Ä–æ–≤–µ–Ω—å 1: –ò–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä
              ‚îÇ  (–±—ã—Å—Ç—Ä–∞—è –∫–æ–º–ø–∏–ª—è—Ü–∏—è)‚îÇ  - –ù–∏–∑–∫–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞ –∑–∞–ø—É—Å–∫–∞
              ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  - –°–æ–±–∏—Ä–∞–µ—Ç type feedback
                         ‚îÇ
                         ‚îÇ –ì–æ—Ä—è—á–∏–π –∫–æ–¥ (hot)
                         ‚îÇ
                         v
              ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
              ‚îÇ    TurboFan JIT      ‚îÇ  –£—Ä–æ–≤–µ–Ω—å 2: –û–ø—Ç–∏–º–∏–∑–∏—Ä—É—é—â–∏–π –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä
              ‚îÇ  (–º–µ–¥–ª–µ–Ω–Ω–∞—è –∫–æ–º–ø–∏–ª—è—Ü–∏—è‚îÇ  - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç type feedback
              ‚îÇ   –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π    ‚îÇ  - –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–æ–¥
              ‚îÇ   –º–∞—à–∏–Ω–Ω—ã–π –∫–æ–¥)       ‚îÇ  - –ú–æ–∂–µ—Ç –¥–µ–æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å
              ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
</code></pre>
<h3 id="52-–†–æ–ª—å-type-feedback"><a class="header" href="#52-–†–æ–ª—å-type-feedback">5.2 –†–æ–ª—å Type Feedback</a></h3>
<p><strong>–ü—Ä–æ–±–ª–µ–º–∞</strong>: JavaScript –Ω–µ –∏–º–µ–µ—Ç —Å—Ç–∞—Ç–∏—á–µ—Å–∫–æ–π —Ç–∏–ø–∏–∑–∞—Ü–∏–∏, –Ω–æ –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä—É –Ω—É–∂–µ–Ω —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–æ–¥.</p>
<p><strong>–†–µ—à–µ–Ω–∏–µ</strong>: –°–æ–±–∏—Ä–∞—Ç—å <strong>–æ–±—Ä–∞—Ç–Ω—É—é —Å–≤—è–∑—å –ø–æ —Ç–∏–ø–∞–º</strong> (type feedback) –≤–æ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è.</p>
<p><strong>–ò—Å—Ç–æ—á–Ω–∏–∫–∏ type feedback</strong>:</p>
<ol>
<li><strong>Inline caches</strong>: –ö–∞–∫–∏–µ —Ñ–æ—Ä–º—ã –≤–∏–¥–µ–ª –∫–∞–∂–¥—ã–π –¥–æ—Å—Ç—É–ø –∫ —Å–≤–æ–π—Å—Ç–≤—É</li>
<li><strong>Arithmetic ICs</strong>: –ö–∞–∫–∏–µ —Ç–∏–ø—ã —á–∏—Å–µ–ª (Smi, HeapNumber) –≤–∏–¥–µ–ª–∏ –∞—Ä–∏—Ñ–º–µ—Ç–∏—á–µ—Å–∫–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏</li>
<li><strong>Call ICs</strong>: –ö–∞–∫–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ –≤—ã–∑—ã–≤–∞–ª–∏—Å—å –≤ —Ç–æ—á–∫–µ –≤—ã–∑–æ–≤–∞</li>
<li><strong>Comparison ICs</strong>: –ö–∞–∫–∏–µ —Ç–∏–ø—ã —Å—Ä–∞–≤–Ω–∏–≤–∞–ª–∏—Å—å</li>
</ol>
<h4 id="–ü—Ä–∏–º–µ—Ä-type-feedback-–≤-–¥–µ–π—Å—Ç–≤–∏–∏"><a class="header" href="#–ü—Ä–∏–º–µ—Ä-type-feedback-–≤-–¥–µ–π—Å—Ç–≤–∏–∏">–ü—Ä–∏–º–µ—Ä: Type Feedback –≤ –¥–µ–π—Å—Ç–≤–∏–∏</a></h4>
<pre><code class="language-javascript">function add(a, b) {
  return a + b;  // –ß—Ç–æ —Ç–∞–∫–æ–µ a –∏ b?
}

// –§–∞–∑–∞ 1: –°–±–æ—Ä feedback (–∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä)
add(1, 2);        // Feedback: a=Smi, b=Smi ‚Üí Smi
add(3, 4);        // Feedback: –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–æ
add(5, 6);        // Feedback: –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–æ

// –§–∞–∑–∞ 2: –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è (TurboFan)
// –ö–æ–º–ø–∏–ª—è—Ç–æ—Ä –≤–∏–¥–∏—Ç feedback: "–≤—Å–µ–≥–¥–∞ small integers"
// –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–æ–¥ –¥–ª—è Smi —Å–ª–æ–∂–µ–Ω–∏—è
</code></pre>
<h3 id="53-–°–ø–µ–∫—É–ª—è—Ç–∏–≤–Ω–∞—è-–æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è"><a class="header" href="#53-–°–ø–µ–∫—É–ª—è—Ç–∏–≤–Ω–∞—è-–æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è">5.3 –°–ø–µ–∫—É–ª—è—Ç–∏–≤–Ω–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è</a></h3>
<p><strong>–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ</strong>: –û–ø—Ç–∏–º–∏–∑–∏—Ä—É—é—â–∏–π –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä –¥–µ–ª–∞–µ—Ç <strong>–ø—Ä–µ–¥–ø–æ–ª–æ–∂–µ–Ω–∏—è</strong> (speculations) –æ —Ç–∏–ø–∞—Ö –∏ –ø–æ–≤–µ–¥–µ–Ω–∏–∏ –∫–æ–¥–∞ –Ω–∞ –æ—Å–Ω–æ–≤–µ type feedback.</p>
<p><strong>–ü—Ä–æ—Ü–µ—Å—Å</strong>:</p>
<ol>
<li>–ê–Ω–∞–ª–∏–∑ type feedback –∏–∑ IC</li>
<li>–ì–µ–Ω–µ—Ä–∞—Ü–∏—è <strong>—Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ</strong> IR (Intermediate Representation)</li>
<li>–î–æ–±–∞–≤–ª–µ–Ω–∏–µ <strong>type guards</strong> –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø—Ä–µ–¥–ø–æ–ª–æ–∂–µ–Ω–∏–π</li>
<li>–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è IR (—É—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –∏–∑–±—ã—Ç–æ—á–Ω–æ—Å—Ç–∏, –∏–Ω–ª–∞–π–Ω–∏–Ω–≥, –∏ —Ç.–¥.)</li>
<li>–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –º–∞—à–∏–Ω–Ω–æ–≥–æ –∫–æ–¥–∞</li>
</ol>
<h4 id="531-–ü—Ä–∏–º–µ—Ä-–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è-–º–æ–Ω–æ–º–æ—Ä—Ñ–Ω–æ–≥–æ-–¥–æ—Å—Ç—É–ø–∞"><a class="header" href="#531-–ü—Ä–∏–º–µ—Ä-–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è-–º–æ–Ω–æ–º–æ—Ä—Ñ–Ω–æ–≥–æ-–¥–æ—Å—Ç—É–ø–∞">5.3.1 –ü—Ä–∏–º–µ—Ä: –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –º–æ–Ω–æ–º–æ—Ä—Ñ–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞</a></h4>
<p><strong>–ò—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥</strong>:</p>
<pre><code class="language-javascript">function distance(o) {
  return Math.sqrt(o.x * o.x + o.y * o.y);
}
</code></pre>
<p><strong>Type feedback</strong> (–ø–æ—Å–ª–µ –ø—Ä–æ–≥—Ä–µ–≤–∞):</p>
<ul>
<li><code>o</code> –≤—Å–µ–≥–¥–∞ –∏–º–µ–µ—Ç —Ñ–æ—Ä–º—É <code>{x: number, y: number}</code></li>
<li><code>o.x</code> –≤—Å–µ–≥–¥–∞ –Ω–∞ —Å–º–µ—â–µ–Ω–∏–∏ @0</li>
<li><code>o.y</code> –≤—Å–µ–≥–¥–∞ –Ω–∞ —Å–º–µ—â–µ–Ω–∏–∏ @8</li>
</ul>
<p><strong>–ù–∞—á–∞–ª—å–Ω—ã–π IR</strong> (—É–ø—Ä–æ—â—ë–Ω–Ω—ã–π):</p>
<pre><code>// –ù–µ–æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π IR
v0 = Parameter(0)                    // o
CheckMap v0, Shape{x,y}              // –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–æ—Ä–º—ã
v1 = LoadField v0, @0                // o.x
CheckMap v0, Shape{x,y}              // –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–æ—Ä–º—ã (–∏–∑–±—ã—Ç–æ—á–Ω–∞—è!)
v2 = LoadField v0, @0                // o.x (–∏–∑–±—ã—Ç–æ—á–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞!)
v3 = Float64Mul v1, v2               // o.x * o.x

CheckMap v0, Shape{x,y}              // –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–æ—Ä–º—ã (–∏–∑–±—ã—Ç–æ—á–Ω–∞—è!)
v4 = LoadField v0, @8                // o.y
CheckMap v0, Shape{x,y}              // –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–æ—Ä–º—ã (–∏–∑–±—ã—Ç–æ—á–Ω–∞—è!)
v5 = LoadField v0, @8                // o.y (–∏–∑–±—ã—Ç–æ—á–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞!)
v6 = Float64Mul v4, v5               // o.y * o.y

v7 = Float64Add v3, v6               // o.x * o.x + o.y * o.y
v8 = CallBuiltin[Math.sqrt], v7     // Math.sqrt(...)
Return v8
</code></pre>
<p><strong>–ü—Ä–æ–±–ª–µ–º—ã</strong>:</p>
<ul>
<li>4 –∏–∑–±—ã—Ç–æ—á–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ñ–æ—Ä–º—ã</li>
<li>2 –∏–∑–±—ã—Ç–æ—á–Ω—ã–µ –∑–∞–≥—Ä—É–∑–∫–∏</li>
</ul>
<p><strong>–ü–æ—Å–ª–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ (GVN - Global Value Numbering)</strong>:</p>
<pre><code>// –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π IR
v0 = Parameter(0)                    // o
CheckMap v0, Shape{x,y}              // –û–¥–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞!
v1 = LoadField v0, @0                // o.x (–æ–¥–Ω–∞ –∑–∞–≥—Ä—É–∑–∫–∞)
v3 = Float64Mul v1, v1               // o.x * o.x

v4 = LoadField v0, @8                // o.y (–æ–¥–Ω–∞ –∑–∞–≥—Ä—É–∑–∫–∞)
v6 = Float64Mul v4, v4               // o.y * o.y

v7 = Float64Add v3, v6               // o.x * o.x + o.y * o.y
v8 = CallBuiltin[Math.sqrt], v7     // Math.sqrt(...)
Return v8
</code></pre>
<p><strong>–í—ã–∏–≥—Ä—ã—à</strong>:</p>
<ul>
<li>–£—Å—Ç—Ä–∞–Ω–µ–Ω—ã 3 –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ñ–æ—Ä–º—ã</li>
<li>–£—Å—Ç—Ä–∞–Ω–µ–Ω—ã 2 –∑–∞–≥—Ä—É–∑–∫–∏ –ø–æ–ª–µ–π</li>
<li>–ö–æ–¥ –±–æ–ª–µ–µ –∫–æ–º–ø–∞–∫—Ç–Ω—ã–π –∏ –±—ã—Å—Ç—Ä—ã–π</li>
</ul>
<h3 id="54-–î–µ–æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è-deoptimization"><a class="header" href="#54-–î–µ–æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è-deoptimization">5.4 –î–µ–æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è (Deoptimization)</a></h3>
<p><strong>–ü—Ä–æ–±–ª–µ–º–∞</strong>: –ß—Ç–æ –µ—Å–ª–∏ –Ω–∞—à–∏ –ø—Ä–µ–¥–ø–æ–ª–æ–∂–µ–Ω–∏—è –Ω–µ–≤–µ—Ä–Ω—ã?</p>
<p><strong>–†–µ—à–µ–Ω–∏–µ</strong>: <strong>–î–µ–æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è</strong> ‚Äî –ø–µ—Ä–µ—Ö–æ–¥ –æ–±—Ä–∞—Ç–Ω–æ –∫ –Ω–µ–æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–º—É –∫–æ–¥—É.</p>
<h4 id="–ö–æ–≥–¥–∞-–ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç-–¥–µ–æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è"><a class="header" href="#–ö–æ–≥–¥–∞-–ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç-–¥–µ–æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è">–ö–æ–≥–¥–∞ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –¥–µ–æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è:</a></h4>
<ol>
<li><strong>Type guard failure</strong>: –û–±—ä–µ–∫—Ç –Ω–µ —Ç–æ–π —Ñ–æ—Ä–º—ã, —á—Ç–æ –æ–∂–∏–¥–∞–ª–æ—Å—å</li>
<li><strong>Integer overflow</strong>: –†–µ–∑—É–ª—å—Ç–∞—Ç –Ω–µ –ø–æ–º–µ—â–∞–µ—Ç—Å—è –≤ Smi</li>
<li><strong>Array bounds</strong>: –î–æ—Å—Ç—É–ø –∑–∞ –≥—Ä–∞–Ω–∏—Ü–∞–º–∏ –º–∞—Å—Å–∏–≤–∞</li>
<li><strong>Prototype chain change</strong>: –ò–∑–º–µ–Ω–∏–ª–∞—Å—å —Ü–µ–ø–æ—á–∫–∞ –ø—Ä–æ—Ç–æ—Ç–∏–ø–æ–≤</li>
<li><strong>Global property change</strong>: –ò–∑–º–µ–Ω–∏–ª–æ—Å—å –≥–ª–æ–±–∞–ª—å–Ω–æ–µ —Å–≤–æ–π—Å—Ç–≤–æ, –Ω–∞ –∫–æ—Ç–æ—Ä–æ–µ –ø–æ–ª–∞–≥–∞–ª–∞—Å—å –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è</li>
</ol>
<h4 id="–ü—Ä–∏–º–µ—Ä-–¥–µ–æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏"><a class="header" href="#–ü—Ä–∏–º–µ—Ä-–¥–µ–æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏">–ü—Ä–∏–º–µ—Ä –¥–µ–æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏:</a></h4>
<pre><code class="language-javascript">function process(o) {
  return o.x + o.y;
}

// –ü—Ä–æ–≥—Ä–µ–≤: –≤—Å–µ –æ–±—ä–µ–∫—Ç—ã —Ñ–æ—Ä–º—ã {x: Smi, y: Smi}
for (let i = 0; i &lt; 10000; i++) {
  process({x: i, y: i * 2});
}

// TurboFan –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–ª –¥–ª—è Smi —Å–ª–æ–∂–µ–Ω–∏—è

// –î–µ–æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è!
process({x: 1.5, y: 2.5});  // –¢–µ–ø–µ—Ä—å HeapNumber, –Ω–µ Smi!
</code></pre>
<p><strong>–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç</strong>:</p>
<ol>
<li>Type guard –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Ç–∏–ø <code>o.x</code> ‚Üí –æ–∂–∏–¥–∞–µ—Ç Smi, –ø–æ–ª—É—á–∞–µ—Ç HeapNumber</li>
<li>–î–µ–æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è: –≤–æ–∑–≤—Ä–∞—Ç –∫ Ignition bytecode</li>
<li>–ü—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –≤ –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä–µ</li>
<li>–°–±–æ—Ä –Ω–æ–≤–æ–≥–æ feedback</li>
<li>–í–æ–∑–º–æ–∂–Ω–∞—è —Ä–µ-–æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Å –Ω–æ–≤—ã–º–∏ –ø—Ä–µ–¥–ø–æ–ª–æ–∂–µ–Ω–∏—è–º–∏</li>
</ol>
<h4 id="–î–∏–∞–≥—Ä–∞–º–º–∞-–¶–∏–∫–ª-–æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏–¥–µ–æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏"><a class="header" href="#–î–∏–∞–≥—Ä–∞–º–º–∞-–¶–∏–∫–ª-–æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏–¥–µ–æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏">–î–∏–∞–≥—Ä–∞–º–º–∞: –¶–∏–∫–ª –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏/–¥–µ–æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏</a></h4>
<pre><code>‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   Bytecode     ‚îÇ
‚îÇ (–ò–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä)‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
        ‚îÇ
        ‚îÇ Hot code
        ‚îÇ
        v
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è   ‚îÇ
‚îÇ  (TurboFan)    ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
        ‚îÇ
        v
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê     –ü—Ä–µ–¥–ø–æ–ª–æ–∂–µ–Ω–∏–µ      ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π‚îÇ‚îÄ‚îÄ‚îÄ‚îÄ–Ω–∞—Ä—É—à–µ–Ω–æ!‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ&gt;‚îÇ –î–µ–æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è  ‚îÇ
‚îÇ  –º–∞—à–∏–Ω–Ω—ã–π –∫–æ–¥  ‚îÇ                        ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò                                ‚îÇ
        ^                                         ‚îÇ
        ‚îÇ                                         ‚îÇ
        ‚îÇ        –ù–æ–≤—ã–π feedback                   ‚îÇ
        ‚îÇ        + —Ä–µ-–æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è                 ‚îÇ
        ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
</code></pre>
<p><strong>–í–∞–∂–Ω–æ</strong>: –ß–∞—Å—Ç–∞—è –¥–µ–æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –æ—á–µ–Ω—å –≤—Ä–µ–¥–Ω–∞ –¥–ª—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏!</p>
<h3 id="55-–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è-–ø–æ–ª–∏–º–æ—Ä—Ñ–Ω–æ–≥–æ-–∫–æ–¥–∞"><a class="header" href="#55-–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è-–ø–æ–ª–∏–º–æ—Ä—Ñ–Ω–æ–≥–æ-–∫–æ–¥–∞">5.5 –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø–æ–ª–∏–º–æ—Ä—Ñ–Ω–æ–≥–æ –∫–æ–¥–∞</a></h3>
<h4 id="551-–ü–æ–ª–∏–º–æ—Ä—Ñ–Ω—ã–π-–¥–æ—Å—Ç—É–ø-—Å-–¥–µ—Ä–µ–≤–æ–º-—Ä–µ—à–µ–Ω–∏–π"><a class="header" href="#551-–ü–æ–ª–∏–º–æ—Ä—Ñ–Ω—ã–π-–¥–æ—Å—Ç—É–ø-—Å-–¥–µ—Ä–µ–≤–æ–º-—Ä–µ—à–µ–Ω–∏–π">5.5.1 –ü–æ–ª–∏–º–æ—Ä—Ñ–Ω—ã–π –¥–æ—Å—Ç—É–ø —Å –¥–µ—Ä–µ–≤–æ–º —Ä–µ—à–µ–Ω–∏–π</a></h4>
<p>–ö–æ–≥–¥–∞ IC –ø–æ–ª–∏–º–æ—Ä—Ñ–µ–Ω, –æ–ø—Ç–∏–º–∏–∑–∞—Ç–æ—Ä —Å—Ç—Ä–æ–∏—Ç <strong>–¥–µ—Ä–µ–≤–æ —Ä–µ—à–µ–Ω–∏–π</strong> (decision tree):</p>
<pre><code class="language-javascript">function get(o) {
  return o.x;
}

// IC –≤–∏–¥–µ–ª 3 —Ñ–æ—Ä–º—ã: A, B, C
</code></pre>
<p><strong>–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–æ–¥</strong>:</p>
<pre><code class="language-cpp">// –î–µ—Ä–µ–≤–æ —Ä–µ—à–µ–Ω–∏–π –¥–ª—è –ø–æ–ª–∏–º–æ—Ä—Ñ–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞
if (o.map == MapA) {
  return load_field(o, offsetA);
} else if (o.map == MapB) {
  return load_field(o, offsetB);
} else if (o.map == MapC) {
  return load_field(o, offsetC);
} else {
  deoptimize();  // –£–≤–∏–¥–µ–ª–∏ –Ω–æ–≤—É—é —Ñ–æ—Ä–º—É!
}
</code></pre>
<p><strong>–ü—Ä–æ–±–ª–µ–º—ã</strong>:</p>
<ul>
<li>–ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –≤–µ—Ç–≤–ª–µ–Ω–∏—è</li>
<li>–ü–ª–æ—Ö–æ –¥–ª—è CPU branch predictor</li>
<li>–ó–∞—Ç—Ä—É–¥–Ω—è–µ—Ç –¥–∞–ª—å–Ω–µ–π—à–∏–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏</li>
</ul>
<h4 id="552-polymorphic-type-guard-–æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è"><a class="header" href="#552-polymorphic-type-guard-–æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è">5.5.2 Polymorphic Type Guard (–æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è)</a></h4>
<p>–ï—Å–ª–∏ —Å–≤–æ–π—Å—Ç–≤–æ –Ω–∞ <strong>–æ–¥–Ω–æ–º —Å–º–µ—â–µ–Ω–∏–∏</strong> –≤–æ –≤—Å–µ—Ö —Ñ–æ—Ä–º–∞—Ö:</p>
<pre><code class="language-cpp">// –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–æ–ª–∏–º–æ—Ä—Ñ–Ω—ã–π guard
if (o.map == MapA || o.map == MapB || o.map == MapC) {
  return load_field(o, offset);  // –û–¥–Ω–æ —Å–º–µ—â–µ–Ω–∏–µ!
} else {
  deoptimize();
}
</code></pre>
<p><strong>–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–æ</strong>: –ú–µ–Ω—å—à–µ –æ–±—Ä–∞—â–µ–Ω–∏–π –∫ –ø–∞–º—è—Ç–∏.</p>
<h4 id="553-–í–ª–∏—è–Ω–∏–µ-–Ω–∞-–ø–æ—Å–ª–µ–¥—É—é—â–∏–µ-–æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏"><a class="header" href="#553-–í–ª–∏—è–Ω–∏–µ-–Ω–∞-–ø–æ—Å–ª–µ–¥—É—é—â–∏–µ-–æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏">5.5.3 –í–ª–∏—è–Ω–∏–µ –Ω–∞ –ø–æ—Å–ª–µ–¥—É—é—â–∏–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏</a></h4>
<p><strong>–ü—Ä–æ–±–ª–µ–º–∞</strong>: –ü–æ–ª–∏–º–æ—Ä—Ñ–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –∑–∞—Ç—Ä—É–¥–Ω—è—é—Ç —É—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –∏–∑–±—ã—Ç–æ—á–Ω–æ—Å—Ç–∏.</p>
<pre><code class="language-javascript">function process(o) {
  const a = o.x;  // –ü–æ–ª–∏–º–æ—Ä—Ñ–Ω—ã–π –¥–æ—Å—Ç—É–ø
  const b = o.x;  // –ú–æ–∂–µ–º –ª–∏ —É—Å—Ç—Ä–∞–Ω–∏—Ç—å —ç—Ç—É –∑–∞–≥—Ä—É–∑–∫—É?
  return a + b;
}
</code></pre>
<p><strong>–ú–æ–Ω–æ–º–æ—Ä—Ñ–Ω—ã–π —Å–ª—É—á–∞–π</strong>: –ü–æ—Å–ª–µ –ø–µ—Ä–≤–æ–≥–æ <code>o.x</code> –º—ã –∑–Ω–∞–µ–º, —á—Ç–æ <code>o</code> –∏–º–µ–µ—Ç –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—É—é —Ñ–æ—Ä–º—É. –í—Ç–æ—Ä–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –∏–∑–±—ã—Ç–æ—á–Ω–∞!</p>
<p><strong>–ü–æ–ª–∏–º–æ—Ä—Ñ–Ω—ã–π —Å–ª—É—á–∞–π</strong>: –ü–æ—Å–ª–µ –ø–µ—Ä–≤–æ–≥–æ <code>o.x</code> –º—ã –∑–Ω–∞–µ–º —Ç–æ–ª—å–∫–æ, —á—Ç–æ —Ñ–æ—Ä–º–∞ ‚Äî –æ–¥–Ω–∞ –∏–∑ <code>{A, B, C}</code>. –≠—Ç–æ —Å–ª–∏—à–∫–æ–º —Å–ª–∞–±–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –¥–ª—è —É—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è –≤—Ç–æ—Ä–æ–π –∑–∞–≥—Ä—É–∑–∫–∏.</p>
<h3 id="56-–ò–Ω–ª–∞–π–Ω–∏–Ω–≥-inlining-–∏-–ø–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º"><a class="header" href="#56-–ò–Ω–ª–∞–π–Ω–∏–Ω–≥-inlining-–∏-–ø–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º">5.6 –ò–Ω–ª–∞–π–Ω–∏–Ω–≥ (Inlining) –∏ –ø–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º</a></h3>
<p><strong>–ò–Ω–ª–∞–π–Ω–∏–Ω–≥</strong> ‚Äî –æ–¥–Ω–∞ –∏–∑ –≤–∞–∂–Ω–µ–π—à–∏—Ö –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–π. –û–Ω –ø–æ–∑–≤–æ–ª—è–µ—Ç:</p>
<ul>
<li>–£—Å—Ç—Ä–∞–Ω–∏—Ç—å overhead –≤—ã–∑–æ–≤–∞ —Ñ—É–Ω–∫—Ü–∏–∏</li>
<li>–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∫–æ–¥ —Ñ—É–Ω–∫—Ü–∏–∏ –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ –≤—ã–∑—ã–≤–∞—é—â–µ–≥–æ –∫–æ–¥–∞</li>
<li>–ü—Ä–æ–≤–æ–¥–∏—Ç—å –º–µ–∂–ø—Ä–æ—Ü–µ–¥—É—Ä–Ω—ã–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏</li>
</ul>
<h4 id="–ú–æ–Ω–æ–º–æ—Ä—Ñ–Ω—ã–µ-–≤—ã–∑–æ–≤—ã"><a class="header" href="#–ú–æ–Ω–æ–º–æ—Ä—Ñ–Ω—ã–µ-–≤—ã–∑–æ–≤—ã">–ú–æ–Ω–æ–º–æ—Ä—Ñ–Ω—ã–µ –≤—ã–∑–æ–≤—ã</a></h4>
<pre><code class="language-javascript">class Point {
  constructor(x, y) {
    this.x = x;
    this.y = y;
  }

  distance() {
    return Math.sqrt(this.x ** 2 + this.y ** 2);
  }
}

function processPoints(points) {
  let sum = 0;
  for (let p of points) {
    sum += p.distance();  // –ú–æ–Ω–æ–º–æ—Ä—Ñ–Ω—ã–π –≤—ã–∑–æ–≤
  }
  return sum;
}
</code></pre>
<p><strong>–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è</strong>: TurboFan –º–æ–∂–µ—Ç <strong>–∑–∞–∏–Ω–ª–∞–π–Ω–∏—Ç—å</strong> <code>distance()</code>:</p>
<pre><code class="language-javascript">// –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —ç–∫–≤–∏–≤–∞–ª–µ–Ω—Ç (–∫–æ–Ω—Ü–µ–ø—Ç—É–∞–ª—å–Ω–æ)
function processPoints_optimized(points) {
  let sum = 0;
  for (let p of points) {
    // –ò–Ω–ª–∞–π–Ω–∏–Ω–≥ distance()
    const temp = Math.sqrt(p.x ** 2 + p.y ** 2);
    sum += temp;
  }
  return sum;
}
</code></pre>
<h4 id="–ü–æ–ª–∏–º–æ—Ä—Ñ–Ω—ã–µ-–≤—ã–∑–æ–≤—ã"><a class="header" href="#–ü–æ–ª–∏–º–æ—Ä—Ñ–Ω—ã–µ-–≤—ã–∑–æ–≤—ã">–ü–æ–ª–∏–º–æ—Ä—Ñ–Ω—ã–µ –≤—ã–∑–æ–≤—ã</a></h4>
<pre><code class="language-javascript">function processShapes(shapes) {
  let sum = 0;
  for (let s of shapes) {
    sum += s.area();  // –ü–æ–ª–∏–º–æ—Ä—Ñ–Ω—ã–π –≤—ã–∑–æ–≤!
  }
  return sum;
}

// shapes —Å–æ–¥–µ—Ä–∂–∏—Ç Circle, Rectangle, Triangle
</code></pre>
<p><strong>–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è</strong>: TurboFan —Å—Ç—Ä–æ–∏—Ç –¥–µ—Ä–µ–≤–æ —Ä–µ—à–µ–Ω–∏–π —Å –∏–Ω–ª–∞–π–Ω–∏–Ω–≥–æ–º:</p>
<pre><code class="language-cpp">// –ö–æ–Ω—Ü–µ–ø—Ç—É–∞–ª—å–Ω—ã–π –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–æ–¥
for (s in shapes) {
  if (s.map == CircleMap) {
    // –ò–Ω–ª–∞–π–Ω Circle.area()
    sum += PI * s.radius * s.radius;
  } else if (s.map == RectangleMap) {
    // –ò–Ω–ª–∞–π–Ω Rectangle.area()
    sum += s.width * s.height;
  } else if (s.map == TriangleMap) {
    // –ò–Ω–ª–∞–π–Ω Triangle.area()
    sum += 0.5 * s.base * s.height;
  } else {
    deoptimize();
  }
}
</code></pre>
<p><strong>–ü—Ä–æ–±–ª–µ–º–∞</strong>: –ö–æ–¥ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –±–æ–ª—å—à–µ, —Å–ª–æ–∂–Ω–µ–µ –¥–ª—è CPU cache.</p>
<hr />
<h2 id="–ß–∞—Å—Ç—å-6-–í–ª–∏—è–Ω–∏–µ-–Ω–∞-–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å-–ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–∞"><a class="header" href="#–ß–∞—Å—Ç—å-6-–í–ª–∏—è–Ω–∏–µ-–Ω–∞-–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å-–ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–∞">–ß–∞—Å—Ç—å 6: –í–ª–∏—è–Ω–∏–µ –Ω–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–∞</a></h2>
<h3 id="61-cpu-pipeline-–∏-branch-prediction"><a class="header" href="#61-cpu-pipeline-–∏-branch-prediction">6.1 CPU Pipeline –∏ Branch Prediction</a></h3>
<p>–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç <strong>–∫–æ–Ω–≤–µ–π–µ—Ä–Ω—É—é –æ–±—Ä–∞–±–æ—Ç–∫—É</strong> (pipelining) –¥–ª—è –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–≥–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–π.</p>
<h4 id="–£–ø—Ä–æ—â—ë–Ω–Ω—ã–π-cpu-pipeline"><a class="header" href="#–£–ø—Ä–æ—â—ë–Ω–Ω—ã–π-cpu-pipeline">–£–ø—Ä–æ—â—ë–Ω–Ω—ã–π CPU Pipeline:</a></h4>
<pre><code>Fetch ‚Üí Decode ‚Üí Execute ‚Üí Memory ‚Üí Writeback
  ‚Üì       ‚Üì        ‚Üì         ‚Üì         ‚Üì
 inst1   inst1    inst1     inst1     inst1
 inst2   inst2    inst2     inst2     inst2
 inst3   inst3    inst3     inst3     inst3
</code></pre>
<p><strong>–ü—Ä–æ–±–ª–µ–º–∞</strong>: –£—Å–ª–æ–≤–Ω—ã–µ –ø–µ—Ä–µ—Ö–æ–¥—ã (branches) –Ω–∞—Ä—É—à–∞—é—Ç pipeline.</p>
<h4 id="branch-prediction"><a class="header" href="#branch-prediction">Branch Prediction</a></h4>
<p><strong>–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ</strong>: CPU –ø—ã—Ç–∞–µ—Ç—Å—è –ø—Ä–µ–¥—Å–∫–∞–∑–∞—Ç—å, –∫–∞–∫–æ–π –ø—É—Ç—å –≤—ã–±–µ—Ä–µ—Ç —É—Å–ª–æ–≤–Ω—ã–π –ø–µ—Ä–µ—Ö–æ–¥.</p>
<p><strong>–ü—Ä–∞–≤–∏–ª—å–Ω–æ–µ –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ</strong>: Pipeline –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç —Ä–∞–±–æ—Ç—É.
<strong>–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ</strong>: Pipeline flush ‚Üí –ø–æ—Ç–µ—Ä—è ~10-20 —Ü–∏–∫–ª–æ–≤!</p>
<h4 id="–ú–æ–Ω–æ–º–æ—Ä—Ñ–Ω—ã–π-–∫–æ–¥-–∏-cpu"><a class="header" href="#–ú–æ–Ω–æ–º–æ—Ä—Ñ–Ω—ã–π-–∫–æ–¥-–∏-cpu">–ú–æ–Ω–æ–º–æ—Ä—Ñ–Ω—ã–π –∫–æ–¥ –∏ CPU</a></h4>
<pre><code class="language-cpp">// –ú–æ–Ω–æ–º–æ—Ä—Ñ–Ω—ã–π: –æ–¥–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞, –≤—Å–µ–≥–¥–∞ true
if (o.map == expected_map) {  // –ü—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–æ!
  return load_field(o, offset);
}
</code></pre>
<p><strong>Branch predictor</strong>: –ë—ã—Å—Ç—Ä–æ —É—á–∏—Ç—Å—è, —á—Ç–æ –≤–µ—Ç–≤—å –≤—Å–µ–≥–¥–∞ true ‚Üí 99%+ accuracy.</p>
<h4 id="–ü–æ–ª–∏–º–æ—Ä—Ñ–Ω—ã–π-–∫–æ–¥-–∏-cpu"><a class="header" href="#–ü–æ–ª–∏–º–æ—Ä—Ñ–Ω—ã–π-–∫–æ–¥-–∏-cpu">–ü–æ–ª–∏–º–æ—Ä—Ñ–Ω—ã–π –∫–æ–¥ –∏ CPU</a></h4>
<pre><code class="language-cpp">// –ü–æ–ª–∏–º–æ—Ä—Ñ–Ω—ã–π: –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –≤–µ—Ç–≤–ª–µ–Ω–∏—è
if (o.map == MapA) {       // 40% true
  return load(o, offset_a);
} else if (o.map == MapB) { // 35% true
  return load(o, offset_b);
} else if (o.map == MapC) { // 25% true
  return load(o, offset_c);
}
</code></pre>
<p><strong>Branch predictor</strong>: –°–ª–æ–∂–Ω–µ–µ –ø—Ä–µ–¥—Å–∫–∞–∑–∞—Ç—å ‚Üí –±–æ–ª—å—à–µ mispredictions ‚Üí –º–µ–¥–ª–µ–Ω–Ω–µ–µ.</p>
<h3 id="62-cpu-cache-–∏-memory-locality"><a class="header" href="#62-cpu-cache-–∏-memory-locality">6.2 CPU Cache –∏ Memory Locality</a></h3>
<h4 id="cache-hierarchy"><a class="header" href="#cache-hierarchy">Cache Hierarchy</a></h4>
<pre><code>‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ CPU Registers (1 cycle)             ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ L1 Cache (32-64KB, 3-4 cycles)      ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ L2 Cache (256-512KB, 10-20 cycles)  ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ L3 Cache (2-16MB, 40-75 cycles)     ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ RAM (GB, 100-300 cycles)            ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
</code></pre>
<h4 id="–ú–æ–Ω–æ–º–æ—Ä—Ñ–Ω—ã–π-–∫–æ–¥--–õ—É—á—à–∞—è-–ª–æ–∫–∞–ª—å–Ω–æ—Å—Ç—å"><a class="header" href="#–ú–æ–Ω–æ–º–æ—Ä—Ñ–Ω—ã–π-–∫–æ–¥--–õ—É—á—à–∞—è-–ª–æ–∫–∞–ª—å–Ω–æ—Å—Ç—å">–ú–æ–Ω–æ–º–æ—Ä—Ñ–Ω—ã–π –∫–æ–¥ ‚Üí –õ—É—á—à–∞—è –ª–æ–∫–∞–ª—å–Ω–æ—Å—Ç—å</a></h4>
<pre><code class="language-javascript">// –ú–æ–Ω–æ–º–æ—Ä—Ñ–Ω—ã–π: –≤—Å–µ –æ–±—ä–µ–∫—Ç—ã –∏–º–µ—é—Ç –æ–¥–∏–Ω–∞–∫–æ–≤—ã–π layout
const points = [
  {x: 1, y: 2},  // Memory layout: [map_ptr, x, y]
  {x: 3, y: 4},  // Memory layout: [map_ptr, x, y]
  {x: 5, y: 6},  // Memory layout: [map_ptr, x, y]
];

// –î–æ—Å—Ç—É–ø –∫ .x –ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º ‚Üí —Ö–æ—Ä–æ—à–æ –¥–ª—è prefetcher
for (let p of points) {
  sum += p.x;
}
</code></pre>
<p><strong>CPU prefetcher</strong>: –ú–æ–∂–µ—Ç –ø—Ä–µ–¥–∑–∞–≥—Ä—É–∂–∞—Ç—å —Å–ª–µ–¥—É—é—â–∏–µ —ç–ª–µ–º–µ–Ω—Ç—ã –≤ cache.</p>
<h4 id="–ü–æ–ª–∏–º–æ—Ä—Ñ–Ω—ã–π-–∫–æ–¥--–ü–ª–æ—Ö–∞—è-–ª–æ–∫–∞–ª—å–Ω–æ—Å—Ç—å"><a class="header" href="#–ü–æ–ª–∏–º–æ—Ä—Ñ–Ω—ã–π-–∫–æ–¥--–ü–ª–æ—Ö–∞—è-–ª–æ–∫–∞–ª—å–Ω–æ—Å—Ç—å">–ü–æ–ª–∏–º–æ—Ä—Ñ–Ω—ã–π –∫–æ–¥ ‚Üí –ü–ª–æ—Ö–∞—è –ª–æ–∫–∞–ª—å–Ω–æ—Å—Ç—å</a></h4>
<pre><code class="language-javascript">// –ü–æ–ª–∏–º–æ—Ä—Ñ–Ω—ã–π: —Ä–∞–∑–Ω—ã–µ layouts
const mixed = [
  {x: 1},           // Layout: [map_ptr, x]
  {x: 2, y: 3},     // Layout: [map_ptr, x, y]
  {y: 4, x: 5},     // Layout: [map_ptr, y, x]  (—Ä–∞–∑–Ω—ã–π –ø–æ—Ä—è–¥–æ–∫!)
];

// –î–æ—Å—Ç—É–ø –∫ .x –Ω–µ–ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º ‚Üí –ø–ª–æ—Ö–æ –¥–ª—è prefetcher
for (let obj of mixed) {
  sum += obj.x;
}
</code></pre>
<p><strong>CPU prefetcher</strong>: –ù–µ –º–æ–∂–µ—Ç —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ –ø—Ä–µ–¥—Å–∫–∞–∑–∞—Ç—å –ø–∞—Ç—Ç–µ—Ä–Ω ‚Üí –±–æ–ª—å—à–µ cache misses.</p>
<h3 id="63-instruction-cache-i-cache"><a class="header" href="#63-instruction-cache-i-cache">6.3 Instruction Cache (I-Cache)</a></h3>
<p><strong>–ü—Ä–æ–±–ª–µ–º–∞ —Å –ø–æ–ª–∏–º–æ—Ä—Ñ–Ω—ã–º –∫–æ–¥–æ–º</strong>: –ë–æ–ª—å—à–µ –º–∞—à–∏–Ω–Ω–æ–≥–æ –∫–æ–¥–∞.</p>
<pre><code>–ú–æ–Ω–æ–º–æ—Ä—Ñ–Ω—ã–π:      ~10-20 –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–π
–ü–æ–ª–∏–º–æ—Ä—Ñ–Ω—ã–π (4):  ~40-80 –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–π
–ú–µ–≥–∞–º–æ—Ä—Ñ–Ω—ã–π:      ~100+ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–π + –≤—ã–∑–æ–≤
</code></pre>
<p><strong>–í–ª–∏—è–Ω–∏–µ –Ω–∞ I-cache</strong>:</p>
<ul>
<li>–ú–æ–Ω–æ–º–æ—Ä—Ñ–Ω—ã–π –∫–æ–¥ –ø–æ–º–µ—â–∞–µ—Ç—Å—è –≤ L1 I-cache</li>
<li>–ü–æ–ª–∏–º–æ—Ä—Ñ–Ω—ã–π –∫–æ–¥ –º–æ–∂–µ—Ç –ø–µ—Ä–µ–ø–æ–ª–Ω–∏—Ç—å L1 ‚Üí L2 cache misses</li>
<li>–ú–µ–≥–∞–º–æ—Ä—Ñ–Ω—ã–π –∫–æ–¥ + –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ ‚Üí –µ—â–µ —Ö—É–∂–µ</li>
</ul>
<hr />
<h2 id="–ß–∞—Å—Ç—å-7-–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ-—Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏"><a class="header" href="#–ß–∞—Å—Ç—å-7-–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ-—Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏">–ß–∞—Å—Ç—å 7: –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏</a></h2>
<h3 id="71-–ö–∞–∫-–ø–∏—Å–∞—Ç—å-–º–æ–Ω–æ–º–æ—Ä—Ñ–Ω—ã–π-–∫–æ–¥"><a class="header" href="#71-–ö–∞–∫-–ø–∏—Å–∞—Ç—å-–º–æ–Ω–æ–º–æ—Ä—Ñ–Ω—ã–π-–∫–æ–¥">7.1 –ö–∞–∫ –ø–∏—Å–∞—Ç—å –º–æ–Ω–æ–º–æ—Ä—Ñ–Ω—ã–π –∫–æ–¥</a></h3>
<h4 id="–ü—Ä–∞–≤–∏–ª–æ-1-–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ-—Ñ–∞–±—Ä–∏—á–Ω—ã–µ-—Ñ—É–Ω–∫—Ü–∏–∏--–∫–ª–∞—Å—Å—ã"><a class="header" href="#–ü—Ä–∞–≤–∏–ª–æ-1-–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ-—Ñ–∞–±—Ä–∏—á–Ω—ã–µ-—Ñ—É–Ω–∫—Ü–∏–∏--–∫–ª–∞—Å—Å—ã">–ü—Ä–∞–≤–∏–ª–æ 1: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ñ–∞–±—Ä–∏—á–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ / –∫–ª–∞—Å—Å—ã</a></h4>
<p><strong>–ü–ª–æ—Ö–æ</strong>:</p>
<pre><code class="language-javascript">// –û–±—ä–µ–∫—Ç—ã —Å–æ–∑–¥–∞—é—Ç—Å—è –ø–æ-—Ä–∞–∑–Ω–æ–º—É
function createPoint1() {
  const p = {};
  p.x = 0;
  p.y = 0;
  return p;
}

function createPoint2() {
  return { x: 0, y: 0 };
}

// –†–∞–∑–Ω—ã–µ —Ñ–æ—Ä–º—ã!
const p1 = createPoint1();
const p2 = createPoint2();
</code></pre>
<p><strong>–•–æ—Ä–æ—à–æ</strong>:</p>
<pre><code class="language-javascript">// –ö–ª–∞—Å—Å –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç –æ–¥–∏–Ω–∞–∫–æ–≤—É—é —Ñ–æ—Ä–º—É
class Point {
  constructor(x = 0, y = 0) {
    this.x = x;
    this.y = y;
  }
}

// –í—Å–µ —Ç–æ—á–∫–∏ –∏–º–µ—é—Ç –æ–¥–Ω—É —Ñ–æ—Ä–º—É!
const p1 = new Point();
const p2 = new Point(1, 2);
</code></pre>
<h4 id="–ü—Ä–∞–≤–∏–ª–æ-2-–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ-–≤—Å–µ-—Å–≤–æ–π—Å—Ç–≤–∞-–≤-–∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–µ"><a class="header" href="#–ü—Ä–∞–≤–∏–ª–æ-2-–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ-–≤—Å–µ-—Å–≤–æ–π—Å—Ç–≤–∞-–≤-–∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–µ">–ü—Ä–∞–≤–∏–ª–æ 2: –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ –≤—Å–µ —Å–≤–æ–π—Å—Ç–≤–∞ –≤ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–µ</a></h4>
<p><strong>–ü–ª–æ—Ö–æ</strong>:</p>
<pre><code class="language-javascript">class Entity {
  constructor(x, y) {
    this.x = x;
    this.y = y;
    // health –Ω–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω!
  }

  spawn() {
    this.health = 100;  // –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Ñ–æ—Ä–º—ã!
  }
}
</code></pre>
<p><strong>–•–æ—Ä–æ—à–æ</strong>:</p>
<pre><code class="language-javascript">class Entity {
  constructor(x, y) {
    this.x = x;
    this.y = y;
    this.health = 0;  // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º —Å—Ä–∞–∑—É
  }

  spawn() {
    this.health = 100;  // –ü—Ä–æ—Å—Ç–æ –∏–∑–º–µ–Ω–µ–Ω–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è
  }
}
</code></pre>
<h4 id="–ü—Ä–∞–≤–∏–ª–æ-3-–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ-—Å–≤–æ–π—Å—Ç–≤–∞-–≤-–æ–¥–Ω–æ–º-–ø–æ—Ä—è–¥–∫–µ"><a class="header" href="#–ü—Ä–∞–≤–∏–ª–æ-3-–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ-—Å–≤–æ–π—Å—Ç–≤–∞-–≤-–æ–¥–Ω–æ–º-–ø–æ—Ä—è–¥–∫–µ">–ü—Ä–∞–≤–∏–ª–æ 3: –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ —Å–≤–æ–π—Å—Ç–≤–∞ –≤ –æ–¥–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ</a></h4>
<p><strong>–ü–ª–æ—Ö–æ</strong>:</p>
<pre><code class="language-javascript">function createUser(name, age) {
  if (age !== undefined) {
    return { name, age };  // –§–æ—Ä–º–∞ A: {name, age}
  } else {
    return { name };        // –§–æ—Ä–º–∞ B: {name}
  }
}
</code></pre>
<p><strong>–•–æ—Ä–æ—à–æ</strong>:</p>
<pre><code class="language-javascript">function createUser(name, age = null) {
  return { name, age };  // –í—Å–µ–≥–¥–∞ —Ñ–æ—Ä–º–∞ {name, age}
}
</code></pre>
<h4 id="–ü—Ä–∞–≤–∏–ª–æ-4-–ò–∑–±–µ–≥–∞–π—Ç–µ-delete"><a class="header" href="#–ü—Ä–∞–≤–∏–ª–æ-4-–ò–∑–±–µ–≥–∞–π—Ç–µ-delete">–ü—Ä–∞–≤–∏–ª–æ 4: –ò–∑–±–µ–≥–∞–π—Ç–µ delete</a></h4>
<p><strong>–ü–ª–æ—Ö–æ</strong>:</p>
<pre><code class="language-javascript">const obj = { x: 1, y: 2, temp: 3 };
// ... –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ ...
delete obj.temp;  // –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Ñ–æ—Ä–º—ã!
</code></pre>
<p><strong>–•–æ—Ä–æ—à–æ</strong>:</p>
<pre><code class="language-javascript">const obj = { x: 1, y: 2, temp: 3 };
// ... –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ ...
obj.temp = null;  // –§–æ—Ä–º–∞ –Ω–µ –∏–∑–º–µ–Ω—è–µ—Ç—Å—è
</code></pre>
<h4 id="–ü—Ä–∞–≤–∏–ª–æ-5-–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ-typescriptflow"><a class="header" href="#–ü—Ä–∞–≤–∏–ª–æ-5-–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ-typescriptflow">–ü—Ä–∞–≤–∏–ª–æ 5: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ TypeScript/Flow</a></h4>
<p>TypeScript –ø–æ–º–æ–≥–∞–µ—Ç –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω—ã–µ —Ñ–æ—Ä–º—ã:</p>
<pre><code class="language-typescript">interface Point {
  x: number;
  y: number;
}

// –ö–æ–º–ø–∏–ª—è—Ç–æ—Ä –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, —á—Ç–æ –≤—Å–µ Point –∏–º–µ—é—Ç –æ–¥–Ω—É —Ñ–æ—Ä–º—É
function process(p: Point) {
  return p.x + p.y;
}
</code></pre>
<h3 id="72-–ö–æ–≥–¥–∞-–ø–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º-–ø—Ä–∏–µ–º–ª–µ–º"><a class="header" href="#72-–ö–æ–≥–¥–∞-–ø–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º-–ø—Ä–∏–µ–º–ª–µ–º">7.2 –ö–æ–≥–¥–∞ –ø–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º –ø—Ä–∏–µ–º–ª–µ–º</a></h3>
<p><strong>–í–∞–∂–Ω–æ</strong>: –ù–µ –≤–µ—Å—å –ø–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º –ø–ª–æ—Ö! –°–ª–µ–¥—É–π—Ç–µ –ø—Ä–∞–≤–∏–ª—É <strong>80/20</strong>:</p>
<h4 id="–ü–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º-–≤-—Ö–æ–ª–æ–¥–Ω–æ–º-–∫–æ–¥–µ--–û–ö"><a class="header" href="#–ü–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º-–≤-—Ö–æ–ª–æ–¥–Ω–æ–º-–∫–æ–¥–µ--–û–ö">–ü–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º –≤ —Ö–æ–ª–æ–¥–Ω–æ–º –∫–æ–¥–µ ‚Äî –û–ö</a></h4>
<pre><code class="language-javascript">// –í—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –æ–¥–∏–Ω —Ä–∞–∑ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
function initializePlugins(plugins) {
  for (let plugin of plugins) {
    plugin.init();  // –ü–æ–ª–∏–º–æ—Ä—Ñ–Ω—ã–π –≤—ã–∑–æ–≤ ‚Äî –û–ö!
  }
}
</code></pre>
<p><strong>–ü—Ä–∏—á–∏–Ω–∞</strong>: –ù–µ –≤ –≥–æ—Ä—è—á–µ–º –ø—É—Ç–∏, –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –Ω–µ –∫—Ä–∏—Ç–∏—á–Ω–∞.</p>
<h4 id="–£–º–µ—Ä–µ–Ω–Ω—ã–π-–ø–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º-2-3-—Ç–∏–ø–∞--–û–±—ã—á–Ω–æ-–û–ö"><a class="header" href="#–£–º–µ—Ä–µ–Ω–Ω—ã–π-–ø–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º-2-3-—Ç–∏–ø–∞--–û–±—ã—á–Ω–æ-–û–ö">–£–º–µ—Ä–µ–Ω–Ω—ã–π –ø–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º (2-3 —Ç–∏–ø–∞) ‚Äî –û–±—ã—á–Ω–æ –û–ö</a></h4>
<pre><code class="language-javascript">// –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–æ–≤ —Å–æ–±—ã—Ç–∏–π
function handleEvent(event) {
  switch (event.type) {  // 3-4 —Ç–∏–ø–∞ —Å–æ–±—ã—Ç–∏–π
    case 'click': return handleClick(event);
    case 'keypress': return handleKeypress(event);
    case 'scroll': return handleScroll(event);
  }
}
</code></pre>
<p><strong>–ü—Ä–∏—á–∏–Ω–∞</strong>: V8 —Ö–æ—Ä–æ—à–æ –æ–ø—Ç–∏–º–∏–∑–∏—Ä—É–µ—Ç –ø–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º —Å—Ç–µ–ø–µ–Ω–∏ 2-4.</p>
<h4 id="–ê–±—Å—Ç—Ä–∞–∫—Ü–∏—è-–≤–∞–∂–Ω–µ–µ-–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏"><a class="header" href="#–ê–±—Å—Ç—Ä–∞–∫—Ü–∏—è-–≤–∞–∂–Ω–µ–µ-–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏">–ê–±—Å—Ç—Ä–∞–∫—Ü–∏—è –≤–∞–∂–Ω–µ–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏</a></h4>
<pre><code class="language-javascript">// –•–æ—Ä–æ—à–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å –ø–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º–æ–º
interface Shape {
  area(): number;
}

class Circle implements Shape { ... }
class Rectangle implements Shape { ... }

function totalArea(shapes: Shape[]) {
  return shapes.reduce((sum, s) =&gt; sum + s.area(), 0);
}
</code></pre>
<p><strong>–ö–æ–≥–¥–∞ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å</strong>: –¢–æ–ª—å–∫–æ –µ—Å–ª–∏ –ø—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–∫–∞–∑–∞–ª–æ bottleneck.</p>
<h3 id="73-–ö–∞–∫-–æ–±–Ω–∞—Ä—É–∂–∏—Ç—å-–ø—Ä–æ–±–ª–µ–º—ã-—Å-–ø–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º–æ–º"><a class="header" href="#73-–ö–∞–∫-–æ–±–Ω–∞—Ä—É–∂–∏—Ç—å-–ø—Ä–æ–±–ª–µ–º—ã-—Å-–ø–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º–æ–º">7.3 –ö–∞–∫ –æ–±–Ω–∞—Ä—É–∂–∏—Ç—å –ø—Ä–æ–±–ª–µ–º—ã —Å –ø–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º–æ–º</a></h3>
<h4 id="–ú–µ—Ç–æ–¥-1-v8-runtime-flags"><a class="header" href="#–ú–µ—Ç–æ–¥-1-v8-runtime-flags">–ú–µ—Ç–æ–¥ 1: V8 Runtime Flags</a></h4>
<pre><code class="language-bash"># –í—ã–≤–µ—Å—Ç–∏ —Å–æ—Å—Ç–æ—è–Ω–∏–µ IC
node --trace-ic your-script.js

# –í—ã–≤–µ—Å—Ç–∏ –¥–µ–æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
node --trace-deopt your-script.js

# –í—ã–≤–µ—Å—Ç–∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
node --trace-opt your-script.js
</code></pre>
<p><strong>–ü—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞</strong>:</p>
<pre><code>[LoadIC in ~process at offset 42 (0x...) ((PREMONOMORPHIC|MONOMORPHIC|POLYMORPHIC|MEGAMORPHIC))]
</code></pre>
<h4 id="–ú–µ—Ç–æ–¥-2-chrome-devtools"><a class="header" href="#–ú–µ—Ç–æ–¥-2-chrome-devtools">–ú–µ—Ç–æ–¥ 2: Chrome DevTools</a></h4>
<ol>
<li>–û—Ç–∫—Ä–æ–π—Ç–µ Chrome DevTools</li>
<li>Performance tab ‚Üí Record</li>
<li>–ê–Ω–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ –ø—Ä–æ—Ñ–∏–ª—å:
<ul>
<li>–°–º–æ—Ç—Ä–∏—Ç–µ –Ω–∞ —Ñ—É–Ω–∫—Ü–∏–∏ —Å –≤—ã—Å–æ–∫–∏–º —Å–∞–º—ã–º –≤—Ä–µ–º–µ–Ω–µ–º (self time)</li>
<li>–ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ "Not optimized" –≤ bottom-up view</li>
</ul>
</li>
</ol>
<h4 id="–ú–µ—Ç–æ–¥-3-turbolizer-–¥–ª—è-—ç–∫—Å–ø–µ—Ä—Ç–æ–≤"><a class="header" href="#–ú–µ—Ç–æ–¥-3-turbolizer-–¥–ª—è-—ç–∫—Å–ø–µ—Ä—Ç–æ–≤">–ú–µ—Ç–æ–¥ 3: Turbolizer (–¥–ª—è —ç–∫—Å–ø–µ—Ä—Ç–æ–≤)</a></h4>
<p>Turbolizer ‚Äî –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ IR TurboFan:</p>
<pre><code class="language-bash"># –ì–µ–Ω–µ—Ä–∞—Ü–∏—è trace —Ñ–∞–π–ª–∞
node --trace-turbo your-script.js

# –û—Ç–∫—Ä—ã—Ç—å –≤ Turbolizer
# https://v8.github.io/tools/head/turbolizer/index.html
</code></pre>
<p><strong>–ß—Ç–æ –∏—Å–∫–∞—Ç—å</strong>:</p>
<ul>
<li>–ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ <code>CheckMaps</code> –¥–ª—è –æ–¥–Ω–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è</li>
<li><code>Generic</code> –æ–ø–µ—Ä–∞—Ü–∏–∏ –≤ –≥–æ—Ä—è—á–∏—Ö —Ü–∏–∫–ª–∞—Ö</li>
<li>–î–µ—Ä–µ–≤—å—è —Ä–µ—à–µ–Ω–∏–π —Å –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–º–∏ –≤–µ—Ç–≤—è–º–∏</li>
</ul>
<h3 id="74-–ü–∞—Ç—Ç–µ—Ä–Ω—ã-–æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏"><a class="header" href="#74-–ü–∞—Ç—Ç–µ—Ä–Ω—ã-–æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏">7.4 –ü–∞—Ç—Ç–µ—Ä–Ω—ã –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏</a></h3>
<h4 id="–ü–∞—Ç—Ç–µ—Ä–Ω-1-–ú–æ–Ω–æ–º–æ—Ä—Ñ–∏–∑–∞—Ü–∏—è-—á–µ—Ä–µ–∑-—Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ"><a class="header" href="#–ü–∞—Ç—Ç–µ—Ä–Ω-1-–ú–æ–Ω–æ–º–æ—Ä—Ñ–∏–∑–∞—Ü–∏—è-—á–µ—Ä–µ–∑-—Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ">–ü–∞—Ç—Ç–µ—Ä–Ω 1: –ú–æ–Ω–æ–º–æ—Ä—Ñ–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ</a></h4>
<p><strong>–ü—Ä–æ–±–ª–µ–º–∞</strong>: –û–¥–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —Ä–∞–∑–Ω—ã–µ —Ç–∏–ø—ã.</p>
<pre><code class="language-javascript">function process(items) {
  for (let item of items) {
    console.log(item.value);  // –ü–æ–ª–∏–º–æ—Ä—Ñ–Ω—ã–π!
  }
}

// items —Å–æ–¥–µ—Ä–∂–∏—Ç TypeA –∏ TypeB
</code></pre>
<p><strong>–†–µ—à–µ–Ω–∏–µ</strong>: –†–∞–∑–¥–µ–ª–∏—Ç–µ –Ω–∞ –º–æ–Ω–æ–º–æ—Ä—Ñ–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏.</p>
<pre><code class="language-javascript">function processTypeA(items) {
  for (let item of items) {
    console.log(item.value);  // –ú–æ–Ω–æ–º–æ—Ä—Ñ–Ω—ã–π –¥–ª—è TypeA
  }
}

function processTypeB(items) {
  for (let item of items) {
    console.log(item.value);  // –ú–æ–Ω–æ–º–æ—Ä—Ñ–Ω—ã–π –¥–ª—è TypeB
  }
}

function process(items) {
  const typeA = items.filter(isTypeA);
  const typeB = items.filter(isTypeB);
  processTypeA(typeA);
  processTypeB(typeB);
}
</code></pre>
<h4 id="–ü–∞—Ç—Ç–µ—Ä–Ω-2-–°—Ç—Ä—É–∫—Ç—É—Ä—ã-–¥–∞–Ω–Ω—ã—Ö-–ø–æ-—Ç–∏–ø–∞–º"><a class="header" href="#–ü–∞—Ç—Ç–µ—Ä–Ω-2-–°—Ç—Ä—É–∫—Ç—É—Ä—ã-–¥–∞–Ω–Ω—ã—Ö-–ø–æ-—Ç–∏–ø–∞–º">–ü–∞—Ç—Ç–µ—Ä–Ω 2: –°—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö –ø–æ —Ç–∏–ø–∞–º</a></h4>
<p><strong>–ü—Ä–æ–±–ª–µ–º–∞</strong>: –°–º–µ—à–∞–Ω–Ω—ã–µ —Ç–∏–ø—ã –≤ –æ–¥–Ω–æ–º –º–∞—Å—Å–∏–≤–µ.</p>
<pre><code class="language-javascript">const entities = [
  new Player(),
  new Enemy(),
  new Player(),
  new Bullet(),
];

// –ü–æ–ª–∏–º–æ—Ä—Ñ–Ω–∞—è –∏—Ç–µ—Ä–∞—Ü–∏—è
for (let e of entities) {
  e.update();
}
</code></pre>
<p><strong>–†–µ—à–µ–Ω–∏–µ</strong>: –†–∞–∑–¥–µ–ª–∏—Ç–µ –ø–æ —Ç–∏–ø–∞–º.</p>
<pre><code class="language-javascript">const game = {
  players: [],  // –¢–æ–ª—å–∫–æ Player
  enemies: [],  // –¢–æ–ª—å–∫–æ Enemy
  bullets: [],  // –¢–æ–ª—å–∫–æ Bullet
};

// –ú–æ–Ω–æ–º–æ—Ä—Ñ–Ω—ã–µ –∏—Ç–µ—Ä–∞—Ü–∏–∏
for (let p of game.players) p.update();
for (let e of game.enemies) e.update();
for (let b of game.bullets) b.update();
</code></pre>
<h4 id="–ü–∞—Ç—Ç–µ—Ä–Ω-3-–¢–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ-–æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏—è-tagged-unions"><a class="header" href="#–ü–∞—Ç—Ç–µ—Ä–Ω-3-–¢–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ-–æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏—è-tagged-unions">–ü–∞—Ç—Ç–µ—Ä–Ω 3: –¢–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏—è (Tagged Unions)</a></h4>
<p>–î–ª—è —Å–ª—É—á–∞–µ–≤, –≥–¥–µ –Ω—É–∂–µ–Ω –ø–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º:</p>
<pre><code class="language-javascript">// –í–º–µ—Å—Ç–æ —Ä–∞–∑–Ω—ã—Ö –∫–ª–∞—Å—Å–æ–≤ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç–µ–≥–∏
const shapes = [
  { type: 'circle', radius: 5 },
  { type: 'rectangle', width: 10, height: 20 },
];

function area(shape) {
  // –ú–æ–Ω–æ–º–æ—Ä—Ñ–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫ .type
  switch (shape.type) {
    case 'circle':
      return Math.PI * shape.radius ** 2;
    case 'rectangle':
      return shape.width * shape.height;
  }
}
</code></pre>
<p><strong>–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–æ</strong>: –í—Å–µ –æ–±—ä–µ–∫—Ç—ã –º–æ–≥—É—Ç –∏–º–µ—Ç—å –±–∞–∑–æ–≤—É—é —Ñ–æ—Ä–º—É <code>{type: string, ...}</code>.</p>
<hr />
<h2 id="–ß–∞—Å—Ç—å-8-–†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ-—Ç–µ–º—ã"><a class="header" href="#–ß–∞—Å—Ç—å-8-–†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ-—Ç–µ–º—ã">–ß–∞—Å—Ç—å 8: –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ —Ç–µ–º—ã</a></h2>
<h3 id="81-–ü—Ä–æ—Ç–æ—Ç–∏–ø–Ω–∞—è-—Ü–µ–ø–æ—á–∫–∞-–∏-–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å"><a class="header" href="#81-–ü—Ä–æ—Ç–æ—Ç–∏–ø–Ω–∞—è-—Ü–µ–ø–æ—á–∫–∞-–∏-–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å">8.1 –ü—Ä–æ—Ç–æ—Ç–∏–ø–Ω–∞—è —Ü–µ–ø–æ—á–∫–∞ –∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å</a></h3>
<p><strong>–ü—Ä–æ–±–ª–µ–º–∞</strong>: –°–≤–æ–π—Å—Ç–≤–∞ –≤ –ø—Ä–æ—Ç–æ—Ç–∏–ø–µ —Ç—Ä–µ–±—É—é—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –ø—Ä–æ–≤–µ—Ä–æ–∫.</p>
<pre><code class="language-javascript">class Base {
  constructor() {
    this.x = 0;
  }

  method() { return this.x; }
}

class Derived extends Base {
  constructor() {
    super();
    this.y = 0;
  }
}

const obj = new Derived();
obj.method();  // –ú–µ—Ç–æ–¥ –≤ –ø—Ä–æ—Ç–æ—Ç–∏–ø–µ Base.prototype
</code></pre>
<p><strong>IC –¥–æ–ª–∂–µ–Ω –ø—Ä–æ–≤–µ—Ä–∏—Ç—å</strong>:</p>
<ol>
<li><code>obj</code> –Ω–µ –∏–º–µ–µ—Ç —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ —Å–≤–æ–π—Å—Ç–≤–∞ <code>method</code></li>
<li><code>Derived.prototype</code> –Ω–µ –∏–º–µ–µ—Ç <code>method</code></li>
<li><code>Base.prototype</code> –∏–º–µ–µ—Ç <code>method</code></li>
</ol>
<p><strong>–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è V8</strong>: –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤—Å–µ–π —Ü–µ–ø–æ—á–∫–∏ –∫—ç—à–∏—Ä—É–µ—Ç—Å—è –≤ IC.</p>
<h3 id="82-–ì–µ—Ç—Ç–µ—Ä—ã-–∏-—Å–µ—Ç—Ç–µ—Ä—ã"><a class="header" href="#82-–ì–µ—Ç—Ç–µ—Ä—ã-–∏-—Å–µ—Ç—Ç–µ—Ä—ã">8.2 –ì–µ—Ç—Ç–µ—Ä—ã –∏ —Å–µ—Ç—Ç–µ—Ä—ã</a></h3>
<p>–ì–µ—Ç—Ç–µ—Ä—ã/—Å–µ—Ç—Ç–µ—Ä—ã —Ç—Ä–µ–±—É—é—Ç –≤—ã–∑–æ–≤–æ–≤ —Ñ—É–Ω–∫—Ü–∏–π:</p>
<pre><code class="language-javascript">class Point {
  constructor(x, y) {
    this._x = x;
    this._y = y;
  }

  get x() { return this._x; }
  set x(value) { this._x = value; }
}

const p = new Point(1, 2);
const x = p.x;  // –í—ã–∑–æ–≤ getter —Ñ—É–Ω–∫—Ü–∏–∏!
</code></pre>
<p><strong>–°—Ç–æ–∏–º–æ—Å—Ç—å</strong>: –í—ã—à–µ, —á–µ–º –ø—Ä—è–º–æ–π –¥–æ—Å—Ç—É–ø –∫ –ø–æ–ª—é.</p>
<p><strong>–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è</strong>: TurboFan –º–æ–∂–µ—Ç –∏–Ω–ª–∞–π–Ω–∏—Ç—å –ø—Ä–æ—Å—Ç—ã–µ –≥–µ—Ç—Ç–µ—Ä—ã/—Å–µ—Ç—Ç–µ—Ä—ã.</p>
<h3 id="83-proxy-–∏-–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å"><a class="header" href="#83-proxy-–∏-–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å">8.3 Proxy –∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å</a></h3>
<p><strong>Proxy</strong> ‚Äî –º–æ—â–Ω—ã–π –º–µ—Ö–∞–Ω–∏–∑–º –ø–µ—Ä–µ—Ö–≤–∞—Ç–∞ –æ–ø–µ—Ä–∞—Ü–∏–π, –Ω–æ –æ—á–µ–Ω—å –¥–æ—Ä–æ–≥–æ–π:</p>
<pre><code class="language-javascript">const target = { x: 1, y: 2 };
const proxy = new Proxy(target, {
  get(obj, prop) {
    console.log(`Getting ${prop}`);
    return obj[prop];
  }
});

proxy.x;  // –í—Å–µ–≥–¥–∞ –≤—ã–∑–æ–≤ trap —Ñ—É–Ω–∫—Ü–∏–∏!
</code></pre>
<p><strong>–ü—Ä–æ–±–ª–µ–º–∞</strong>: Proxy –æ–ø–µ—Ä–∞—Ü–∏–∏ –Ω–µ –º–æ–≥—É—Ç –±—ã—Ç—å –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω—ã IC.</p>
<p><strong>–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è</strong>: –ò–∑–±–µ–≥–∞–π—Ç–µ Proxy –≤ –≥–æ—Ä—è—á–∏—Ö –ø—É—Ç—è—Ö.</p>
<h3 id="84-–ú–∞—Å—Å–∏–≤—ã-–∏-—ç–ª–µ–º–µ–Ω—Ç—ã-—Ä–∞–∑–Ω—ã—Ö-—Ç–∏–ø–æ–≤"><a class="header" href="#84-–ú–∞—Å—Å–∏–≤—ã-–∏-—ç–ª–µ–º–µ–Ω—Ç—ã-—Ä–∞–∑–Ω—ã—Ö-—Ç–∏–ø–æ–≤">8.4 –ú–∞—Å—Å–∏–≤—ã –∏ —ç–ª–µ–º–µ–Ω—Ç—ã —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–æ–≤</a></h3>
<p>V8 –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ä–∞–∑–Ω—ã–µ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è –¥–ª—è –º–∞—Å—Å–∏–≤–æ–≤:</p>
<pre><code class="language-javascript">// PACKED_SMI_ELEMENTS - –±—ã—Å—Ç—Ä—ã–π
const arr1 = [1, 2, 3, 4, 5];

// PACKED_DOUBLE_ELEMENTS - –±—ã—Å—Ç—Ä—ã–π
const arr2 = [1.1, 2.2, 3.3];

// PACKED_ELEMENTS - –º–µ–¥–ª–µ–Ω–Ω–µ–µ
const arr3 = [1, 'hello', {}, null];

// HOLEY_ELEMENTS - –µ—â–µ –º–µ–¥–ª–µ–Ω–Ω–µ–µ
const arr4 = [1, , , 4];  // holes
</code></pre>
<p><strong>–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è</strong>: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –º–∞—Å—Å–∏–≤—ã –æ–¥–Ω–æ–≥–æ —Ç–∏–ø–∞.</p>
<hr />
<h2 id="–ß–∞—Å—Ç—å-9-–ì–ª–æ—Å—Å–∞—Ä–∏–π-—Ç–µ—Ä–º–∏–Ω–æ–≤"><a class="header" href="#–ß–∞—Å—Ç—å-9-–ì–ª–æ—Å—Å–∞—Ä–∏–π-—Ç–µ—Ä–º–∏–Ω–æ–≤">–ß–∞—Å—Ç—å 9: –ì–ª–æ—Å—Å–∞—Ä–∏–π —Ç–µ—Ä–º–∏–Ω–æ–≤</a></h2>
<h3 id="a-d"><a class="header" href="#a-d">A-D</a></h3>
<p><strong>Baseline Compiler (–ë–∞–∑–æ–≤—ã–π –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä)</strong></p>
<ul>
<li><strong>–†—É—Å—Å–∫–∏–π</strong>: –ë–∞–∑–æ–≤—ã–π –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä, –Ω–µ–æ–ø—Ç–∏–º–∏–∑–∏—Ä—É—é—â–∏–π –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä</li>
<li><strong>–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ</strong>: –ö–æ–º–ø–∏–ª—è—Ç–æ—Ä, –∫–æ—Ç–æ—Ä—ã–π –±—ã—Å—Ç—Ä–æ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –ø—Ä–æ—Å—Ç–æ–π –º–∞—à–∏–Ω–Ω—ã–π –∫–æ–¥ –∏–ª–∏ –±–∞–π—Ç–∫–æ–¥ –±–µ–∑ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–π. –í V8 ‚Äî Ignition.</li>
<li><strong>–¶–µ–ª—å</strong>: –ë—ã—Å—Ç—Ä—ã–π –∑–∞–ø—É—Å–∫, –Ω–∏–∑–∫–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏</li>
</ul>
<p><strong>Branch Prediction (–ü—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ –≤–µ—Ç–≤–ª–µ–Ω–∏–π)</strong></p>
<ul>
<li><strong>–†—É—Å—Å–∫–∏–π</strong>: –ü—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ –ø–µ—Ä–µ—Ö–æ–¥–æ–≤</li>
<li><strong>–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ</strong>: –ú–µ—Ö–∞–Ω–∏–∑–º CPU, –∫–æ—Ç–æ—Ä—ã–π –ø—ã—Ç–∞–µ—Ç—Å—è –ø—Ä–µ–¥—Å–∫–∞–∑–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç —É—Å–ª–æ–≤–Ω—ã—Ö –ø–µ—Ä–µ—Ö–æ–¥–æ–≤ –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∞–Ω–∏—è pipeline.</li>
<li><strong>–í–ª–∏—è–Ω–∏–µ</strong>: –ú–æ–Ω–æ–º–æ—Ä—Ñ–Ω—ã–π –∫–æ–¥ ‚Üí –≤—ã—Å–æ–∫–∞—è —Ç–æ—á–Ω–æ—Å—Ç—å –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–π</li>
</ul>
<p><strong>Call-site Polymorphism (–ü–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º –≤ —Ç–æ—á–∫–µ –≤—ã–∑–æ–≤–∞)</strong></p>
<ul>
<li><strong>–†—É—Å—Å–∫–∏–π</strong>: –ü–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º –≤ –º–µ—Å—Ç–µ –≤—ã–∑–æ–≤–∞</li>
<li><strong>–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ</strong>: –°–∏—Ç—É–∞—Ü–∏—è, –∫–æ–≥–¥–∞ –æ–¥–Ω–∞ —Ç–æ—á–∫–∞ –≤ –∫–æ–¥–µ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∑–Ω–∞—á–µ–Ω–∏—è —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–æ–≤/—Ñ–æ—Ä–º.</li>
<li><strong>–ü—Ä–∏–º–µ—Ä</strong>: <code>function f(o) { return o.x; }</code> –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è —Å –æ–±—ä–µ–∫—Ç–∞–º–∏ —Ä–∞–∑–Ω—ã—Ö —Ñ–æ—Ä–º</li>
</ul>
<p><strong>Deoptimization (–î–µ–æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è)</strong></p>
<ul>
<li><strong>–†—É—Å—Å–∫–∏–π</strong>: –î–µ–æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è, –æ—Ç–∫–∞—Ç –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏</li>
<li><strong>–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ</strong>: –ü—Ä–æ—Ü–µ—Å—Å –≤–æ–∑–≤—Ä–∞—Ç–∞ –æ—Ç –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –∫–æ–¥–∞ –∫ –Ω–µ–æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–º—É, –∫–æ–≥–¥–∞ –ø—Ä–µ–¥–ø–æ–ª–æ–∂–µ–Ω–∏—è –æ–ø—Ç–∏–º–∏–∑–∞—Ç–æ—Ä–∞ –Ω–∞—Ä—É—à–µ–Ω—ã.</li>
<li><strong>–ü—Ä–∏—á–∏–Ω—ã</strong>: –ù–µ–æ–∂–∏–¥–∞–Ω–Ω—ã–π —Ç–∏–ø, –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Ñ–æ—Ä–º—ã, –ø–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω–∏–µ</li>
</ul>
<h3 id="e-h"><a class="header" href="#e-h">E-H</a></h3>
<p><strong>Feedback Vector (–í–µ–∫—Ç–æ—Ä –æ–±—Ä–∞—Ç–Ω–æ–π —Å–≤—è–∑–∏)</strong></p>
<ul>
<li><strong>–†—É—Å—Å–∫–∏–π</strong>: –í–µ–∫—Ç–æ—Ä –æ–±—Ä–∞—Ç–Ω–æ–π —Å–≤—è–∑–∏ –ø–æ —Ç–∏–ø–∞–º</li>
<li><strong>–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ</strong>: –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö, —Ö—Ä–∞–Ω—è—â–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Ç–∏–ø–∞—Ö –∏ —Ñ–æ—Ä–º–∞—Ö, –Ω–∞–±–ª—é–¥–∞–µ–º—ã—Ö –≤–æ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è.</li>
<li><strong>–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ</strong>: –û–ø—Ç–∏–º–∏–∑–∏—Ä—É—é—â–∏–π –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä —á–∏—Ç–∞–µ—Ç feedback –¥–ª—è —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –∫–æ–¥–∞</li>
</ul>
<p><strong>GVN (Global Value Numbering)</strong></p>
<ul>
<li><strong>–†—É—Å—Å–∫–∏–π</strong>: –ì–ª–æ–±–∞–ª—å–Ω–∞—è –Ω—É–º–µ—Ä–∞—Ü–∏—è –∑–Ω–∞—á–µ–Ω–∏–π</li>
<li><strong>–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ</strong>: –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä–∞, –∫–æ—Ç–æ—Ä–∞—è —É—Å—Ç—Ä–∞–Ω—è–µ—Ç –∏–∑–±—ã—Ç–æ—á–Ω—ã–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è.</li>
<li><strong>–ü—Ä–∏–º–µ—Ä</strong>: –î–≤–µ –∑–∞–≥—Ä—É–∑–∫–∏ <code>o.x</code> ‚Üí –æ–¥–Ω–∞ –∑–∞–≥—Ä—É–∑–∫–∞ + –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ</li>
</ul>
<p><strong>Hidden Class / Shape / Map (–°–∫—Ä—ã—Ç—ã–π –∫–ª–∞—Å—Å / –§–æ—Ä–º–∞ / –ö–∞—Ä—Ç–∞)</strong></p>
<ul>
<li><strong>–†—É—Å—Å–∫–∏–π</strong>: –°–∫—Ä—ã—Ç—ã–π –∫–ª–∞—Å—Å, —Ñ–æ—Ä–º–∞ –æ–±—ä–µ–∫—Ç–∞</li>
<li><strong>–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ</strong>: –í–Ω—É—Ç—Ä–µ–Ω–Ω—è—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö VM, –æ–ø–∏—Å—ã–≤–∞—é—â–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä—É –æ–±—ä–µ–∫—Ç–∞.</li>
<li><strong>–°–æ–¥–µ—Ä–∂–∏—Ç</strong>: –°–ø–∏—Å–æ–∫ —Å–≤–æ–π—Å—Ç–≤, –∏—Ö —Å–º–µ—â–µ–Ω–∏—è, –∞—Ç—Ä–∏–±—É—Ç—ã</li>
<li><strong>–ê–Ω–∞–ª–æ–≥</strong>: –ö–ª–∞—Å—Å –≤ C++/Java</li>
</ul>
<p><strong>Hot Code / Hot Path (–ì–æ—Ä—è—á–∏–π –∫–æ–¥ / –ì–æ—Ä—è—á–∏–π –ø—É—Ç—å)</strong></p>
<ul>
<li><strong>–†—É—Å—Å–∫–∏–π</strong>: –ì–æ—Ä—è—á–∏–π –∫–æ–¥, —á–∞—Å—Ç–æ –≤—ã–ø–æ–ª–Ω—è–µ–º—ã–π –∫–æ–¥</li>
<li><strong>–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ</strong>: –ö–æ–¥, –∫–æ—Ç–æ—Ä—ã–π –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –æ—á–µ–Ω—å —á–∞—Å—Ç–æ (–≤ —Ü–∏–∫–ª–∞—Ö, —á–∞—Å—Ç—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏).</li>
<li><strong>–ó–Ω–∞—á–µ–Ω–∏–µ</strong>: –ö–∞–Ω–¥–∏–¥–∞—Ç –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä–æ–º</li>
</ul>
<h3 id="i-l"><a class="header" href="#i-l">I-L</a></h3>
<p><strong>Inline Cache (IC)</strong></p>
<ul>
<li><strong>–†—É—Å—Å–∫–∏–π</strong>: –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –∫—ç—à, –∏–Ω–ª–∞–π–Ω-–∫—ç—à</li>
<li><strong>–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ</strong>: –ú–µ—Ö–∞–Ω–∏–∑–º –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏—Ö –æ–ø–µ—Ä–∞—Ü–∏–π (–ø–æ–∏—Å–∫ —Å–≤–æ–π—Å—Ç–≤, –≤—ã–∑–æ–≤—ã).</li>
<li><strong>–ö–ª—é—á</strong>: –§–æ—Ä–º–∞ –æ–±—ä–µ–∫—Ç–∞</li>
<li><strong>–ó–Ω–∞—á–µ–Ω–∏–µ</strong>: –ü—É—Ç—å –∫ —Å–≤–æ–π—Å—Ç–≤—É –∏–ª–∏ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫</li>
</ul>
<p><strong>Inlining (–ò–Ω–ª–∞–π–Ω–∏–Ω–≥, –≤—Å—Ç—Ä–∞–∏–≤–∞–Ω–∏–µ)</strong></p>
<ul>
<li><strong>–†—É—Å—Å–∫–∏–π</strong>: –í—Å—Ç—Ä–∞–∏–≤–∞–Ω–∏–µ, –∏–Ω–ª–∞–π–Ω–∏–Ω–≥</li>
<li><strong>–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ</strong>: –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è, –ø—Ä–∏ –∫–æ—Ç–æ—Ä–æ–π –∫–æ–¥ –≤—ã–∑—ã–≤–∞–µ–º–æ–π —Ñ—É–Ω–∫—Ü–∏–∏ –≤—Å—Ç–∞–≤–ª—è–µ—Ç—Å—è –Ω–µ–ø–æ—Å—Ä–µ–¥—Å—Ç–≤–µ–Ω–Ω–æ –≤ –º–µ—Å—Ç–æ –≤—ã–∑–æ–≤–∞.</li>
<li><strong>–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–æ</strong>: –£—Å—Ç—Ä–∞–Ω—è–µ—Ç overhead –≤—ã–∑–æ–≤–∞, –ø–æ–∑–≤–æ–ª—è–µ—Ç –º–µ–∂–ø—Ä–æ—Ü–µ–¥—É—Ä–Ω—ã–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏</li>
</ul>
<p><strong>Intermediate Representation (IR)</strong></p>
<ul>
<li><strong>–†—É—Å—Å–∫–∏–π</strong>: –ü—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ</li>
<li><strong>–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ</strong>: –í–Ω—É—Ç—Ä–µ–Ω–Ω–µ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –∫–æ–¥–∞ –≤ –æ–ø—Ç–∏–º–∏–∑–∏—Ä—É—é—â–µ–º –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä–µ, –±–æ–ª–µ–µ –Ω–∏–∑–∫–æ—É—Ä–æ–≤–Ω–µ–≤–æ–µ —á–µ–º –∏—Å—Ç–æ—á–Ω–∏–∫.</li>
<li><strong>–¶–µ–ª—å</strong>: –£–¥–æ–±–Ω–æ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏</li>
</ul>
<h3 id="m-p"><a class="header" href="#m-p">M-P</a></h3>
<p><strong>Megamorphic (–ú–µ–≥–∞–º–æ—Ä—Ñ–Ω—ã–π)</strong></p>
<ul>
<li><strong>–†—É—Å—Å–∫–∏–π</strong>: –ú–µ–≥–∞–º–æ—Ä—Ñ–Ω—ã–π, —Å–≤–µ—Ä—Ö–ø–æ–ª–∏–º–æ—Ä—Ñ–Ω—ã–π</li>
<li><strong>–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ</strong>: –°–æ—Å—Ç–æ—è–Ω–∏–µ IC, –∫–æ–≥–¥–∞ –æ–Ω –≤–∏–¥–µ–ª –±–æ–ª—å—à–µ —Ç–∏–ø–æ–≤, —á–µ–º –º–æ–∂–µ—Ç –ª–æ–∫–∞–ª—å–Ω–æ –∫—ç—à–∏—Ä–æ–≤–∞—Ç—å (&gt;4 –≤ V8).</li>
<li><strong>–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å</strong>: –•—É–¥—à–∞—è —Å—Ä–µ–¥–∏ IC —Å–æ—Å—Ç–æ—è–Ω–∏–π</li>
<li><strong>–ú–µ—Ö–∞–Ω–∏–∑–º</strong>: –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –≥–ª–æ–±–∞–ª—å–Ω—É—é —Ö–µ—à-—Ç–∞–±–ª–∏—Ü—É</li>
</ul>
<p><strong>Monomorphic (–ú–æ–Ω–æ–º–æ—Ä—Ñ–Ω—ã–π)</strong></p>
<ul>
<li><strong>–†—É—Å—Å–∫–∏–π</strong>: –ú–æ–Ω–æ–º–æ—Ä—Ñ–Ω—ã–π, –æ–¥–Ω–æ—Ç–∏–ø–Ω—ã–π</li>
<li><strong>–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ</strong>: –°–æ—Å—Ç–æ—è–Ω–∏–µ IC, –∫–æ–≥–¥–∞ –æ–Ω –≤–∏–¥–µ–ª –æ–±—ä–µ–∫—Ç—ã —Ç–æ–ª—å–∫–æ –æ–¥–Ω–æ–π —Ñ–æ—Ä–º—ã.</li>
<li><strong>–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å</strong>: –õ—É—á—à–∞—è, –æ–ø—Ç–∏–º–∞–ª—å–Ω–∞—è</li>
<li><strong>–õ–æ–∑—É–Ω–≥</strong>: "–û–î–ò–ù –¢–ò–ü ‚Äî –•–û–†–û–®–û"</li>
</ul>
<p><strong>Polymorphic (–ü–æ–ª–∏–º–æ—Ä—Ñ–Ω—ã–π)</strong></p>
<ul>
<li><strong>–†—É—Å—Å–∫–∏–π</strong>: –ü–æ–ª–∏–º–æ—Ä—Ñ–Ω—ã–π, –º–Ω–æ–≥–æ—Ç–∏–ø–Ω—ã–π</li>
<li><strong>–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ</strong>: –°–æ—Å—Ç–æ—è–Ω–∏–µ IC, –∫–æ–≥–¥–∞ –æ–Ω –≤–∏–¥–µ–ª –æ–±—ä–µ–∫—Ç—ã 2-4 —Ä–∞–∑–Ω—ã—Ö —Ñ–æ—Ä–º.</li>
<li><strong>–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å</strong>: –°—Ä–µ–¥–Ω—è—è, –ª–∏–Ω–µ–π–Ω—ã–π –ø–æ–∏—Å–∫ —Å—Ä–µ–¥–∏ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Ñ–æ—Ä–º</li>
<li><strong>–°—Ç–µ–ø–µ–Ω—å</strong>: –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Ñ–æ—Ä–º (2, 3, 4)</li>
</ul>
<h3 id="s-t"><a class="header" href="#s-t">S-T</a></h3>
<p><strong>Speculative Optimization (–°–ø–µ–∫—É–ª—è—Ç–∏–≤–Ω–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è)</strong></p>
<ul>
<li><strong>–†—É—Å—Å–∫–∏–π</strong>: –°–ø–µ–∫—É–ª—è—Ç–∏–≤–Ω–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è, –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –Ω–∞ –æ—Å–Ω–æ–≤–µ –ø—Ä–µ–¥–ø–æ–ª–æ–∂–µ–Ω–∏–π</li>
<li><strong>–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ</strong>: –ü–æ–¥—Ö–æ–¥, –ø—Ä–∏ –∫–æ—Ç–æ—Ä–æ–º –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä –¥–µ–ª–∞–µ—Ç –ø—Ä–µ–¥–ø–æ–ª–æ–∂–µ–Ω–∏—è –æ —Ç–∏–ø–∞—Ö –Ω–∞ –æ—Å–Ω–æ–≤–µ –Ω–∞–±–ª—é–¥–µ–Ω–∏–π –∏ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–æ–¥.</li>
<li><strong>–ó–∞—â–∏—Ç–∞</strong>: Type guards –ø—Ä–æ–≤–µ—Ä—è—é—Ç –ø—Ä–µ–¥–ø–æ–ª–æ–∂–µ–Ω–∏—è –≤ runtime</li>
</ul>
<p><strong>Smi (Small Integer)</strong></p>
<ul>
<li><strong>–†—É—Å—Å–∫–∏–π</strong>: –ú–∞–ª–æ–µ —Ü–µ–ª–æ–µ</li>
<li><strong>–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ</strong>: –í–Ω—É—Ç—Ä–µ–Ω–Ω–µ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ V8 –¥–ª—è –º–∞–ª—ã—Ö —Ü–µ–ª—ã—Ö —á–∏—Å–µ–ª (-2^30 –¥–æ 2^30-1).</li>
<li><strong>–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–æ</strong>: –•—Ä–∞–Ω—è—Ç—Å—è –Ω–∞–ø—Ä—è–º—É—é –±–µ–∑ –∞–ª–ª–æ–∫–∞—Ü–∏–∏ –Ω–∞ heap</li>
</ul>
<p><strong>Temporal Locality (–í—Ä–µ–º–µ–Ω–Ω–∞—è –ª–æ–∫–∞–ª—å–Ω–æ—Å—Ç—å)</strong></p>
<ul>
<li><strong>–†—É—Å—Å–∫–∏–π</strong>: –í—Ä–µ–º–µ–Ω–Ω–∞—è –ª–æ–∫–∞–ª—å–Ω–æ—Å—Ç—å</li>
<li><strong>–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ</strong>: –ü—Ä–∏–Ω—Ü–∏–ø, —Å–æ–≥–ª–∞—Å–Ω–æ –∫–æ—Ç–æ—Ä–æ–º—É –Ω–µ–¥–∞–≤–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –≤–µ—Ä–æ—è—Ç–Ω–æ –±—É–¥—É—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω—ã —Å–Ω–æ–≤–∞ –≤—Å–∫–æ—Ä–µ.</li>
<li><strong>–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ</strong>: –û—Å–Ω–æ–≤–∞ –¥–ª—è –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è</li>
</ul>
<p><strong>TurboFan</strong></p>
<ul>
<li><strong>–†—É—Å—Å–∫–∏–π</strong>: TurboFan (–Ω–∞–∑–≤–∞–Ω–∏–µ –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä–∞)</li>
<li><strong>–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ</strong>: –û–ø—Ç–∏–º–∏–∑–∏—Ä—É—é—â–∏–π –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä –≤ V8.</li>
<li><strong>–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏</strong>: –ò–Ω–ª–∞–π–Ω–∏–Ω–≥, —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Ç–∏–ø–æ–≤, —É—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –∏–∑–±—ã—Ç–æ—á–Ω–æ—Å—Ç–∏, –∏ –¥—Ä.</li>
</ul>
<p><strong>Type Feedback (–û–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å –ø–æ —Ç–∏–ø–∞–º)</strong></p>
<ul>
<li><strong>–†—É—Å—Å–∫–∏–π</strong>: –û–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å –ø–æ —Ç–∏–ø–∞–º, –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ç–∏–ø–∞—Ö</li>
<li><strong>–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ</strong>: –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ç–∏–ø–∞—Ö –∏ —Ñ–æ—Ä–º–∞—Ö –æ–±—ä–µ–∫—Ç–æ–≤, —Å–æ–±–∏—Ä–∞–µ–º–∞—è –≤–æ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è.</li>
<li><strong>–ò—Å—Ç–æ—á–Ω–∏–∫</strong>: Inline caches</li>
<li><strong>–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ</strong>: –û–ø—Ç–∏–º–∏–∑–∏—Ä—É—é—â–∏–π –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä</li>
</ul>
<p><strong>Type Guard / Type Check (–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–∞)</strong></p>
<ul>
<li><strong>–†—É—Å—Å–∫–∏–π</strong>: –ó–∞—â–∏—Ç–∞ —Ç–∏–ø–∞, –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–∞</li>
<li><strong>–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ</strong>: –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –≤ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–º –∫–æ–¥–µ, –∫–æ—Ç–æ—Ä–∞—è –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è –æ–∂–∏–¥–∞–µ–º–æ–º—É —Ç–∏–ø—É/—Ñ–æ—Ä–º–µ.</li>
<li><strong>–ü—Ä–∏ –Ω–µ—Å–æ–≤–ø–∞–¥–µ–Ω–∏–∏</strong>: –î–µ–æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è</li>
</ul>
<h3 id="u-z"><a class="header" href="#u-z">U-Z</a></h3>
<p><strong>Uninitialized IC</strong></p>
<ul>
<li><strong>–†—É—Å—Å–∫–∏–π</strong>: –ù–µ–∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π IC</li>
<li><strong>–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ</strong>: –ù–∞—á–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ IC, –∫–æ–≥–¥–∞ –æ–Ω –µ—â–µ –Ω–µ –≤—ã–ø–æ–ª–Ω—è–ª—Å—è.</li>
<li><strong>–ü–µ—Ä–µ—Ö–æ–¥</strong>: ‚Üí Monomorphic –ø–æ—Å–ª–µ –ø–µ—Ä–≤–æ–≥–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è</li>
</ul>
<hr />
<h2 id="–ó–∞–∫–ª—é—á–µ–Ω–∏–µ-5"><a class="header" href="#–ó–∞–∫–ª—é—á–µ–Ω–∏–µ-5">–ó–∞–∫–ª—é—á–µ–Ω–∏–µ</a></h2>
<h3 id="–ö–ª—é—á–µ–≤—ã–µ-–≤—ã–≤–æ–¥—ã-10"><a class="header" href="#–ö–ª—é—á–µ–≤—ã–µ-–≤—ã–≤–æ–¥—ã-10">–ö–ª—é—á–µ–≤—ã–µ –≤—ã–≤–æ–¥—ã</a></h3>
<ol>
<li>
<p><strong>–ú–æ–Ω–æ–º–æ—Ä—Ñ–Ω—ã–π –∫–æ–¥ ‚Äî –æ–ø—Ç–∏–º–∞–ª–µ–Ω</strong>: –ö–æ–≥–¥–∞ –æ–ø–µ—Ä–∞—Ü–∏—è –≤–∏–¥–∏—Ç –æ–±—ä–µ–∫—Ç—ã —Ç–æ–ª—å–∫–æ –æ–¥–Ω–æ–π —Ñ–æ—Ä–º—ã, VM –º–æ–∂–µ—Ç –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∫–æ–¥.</p>
</li>
<li>
<p><strong>–ü–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º –∏–º–µ–µ—Ç —Å—Ç–æ–∏–º–æ—Å—Ç—å</strong>: –ö–∞–∂–¥–∞—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è —Ñ–æ—Ä–º–∞ –¥–æ–±–∞–≤–ª—è–µ—Ç:</p>
<ul>
<li>–ü—Ä–æ–≤–µ—Ä–∫–∏ —Ç–∏–ø–æ–≤</li>
<li>–í–µ—Ç–≤–ª–µ–Ω–∏—è (–ø–ª–æ—Ö–æ –¥–ª—è CPU branch predictor)</li>
<li>–°–ª–æ–∂–Ω–æ—Å—Ç—å –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ç–æ—Ä–∞</li>
</ul>
</li>
<li>
<p><strong>–ú–µ–≥–∞–º–æ—Ä—Ñ–Ω—ã–π –∫–æ–¥ ‚Äî –∏–∑–±–µ–≥–∞–π—Ç–µ</strong>: –ë–æ–ª–µ–µ 4 —Ñ–æ—Ä–º –≤ –æ–¥–Ω–æ–π —Ç–æ—á–∫–µ ‚Üí –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –º–µ–¥–ª–µ–Ω–Ω–æ–π –≥–ª–æ–±–∞–ª—å–Ω–æ–π —Ö–µ—à-—Ç–∞–±–ª–∏—Ü—ã.</p>
</li>
<li>
<p><strong>–°–∫—Ä—ã—Ç—ã–µ –∫–ª–∞—Å—Å—ã –∫—Ä–∏—Ç–∏—á–Ω—ã</strong>: –ü–æ–Ω–∏–º–∞–Ω–∏–µ —Ç–æ–≥–æ, –∫–∞–∫ V8 —Å–æ–∑–¥–∞–µ—Ç —Å–∫—Ä—ã—Ç—ã–µ –∫–ª–∞—Å—Å—ã, –ø–æ–º–æ–≥–∞–µ—Ç –ø–∏—Å–∞—Ç—å –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–π –∫–æ–¥:</p>
<ul>
<li>–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ –≤—Å–µ —Å–≤–æ–π—Å—Ç–≤–∞</li>
<li>–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –æ–¥–∏–Ω–∞–∫–æ–≤—ã–π –ø–æ—Ä—è–¥–æ–∫</li>
<li>–ò–∑–±–µ–≥–∞–π—Ç–µ <code>delete</code></li>
</ul>
</li>
<li>
<p><strong>–ü—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏–µ &gt; –î–æ–≥–∞–¥–æ–∫</strong>: –ù–µ –æ–ø—Ç–∏–º–∏–∑–∏—Ä—É–π—Ç–µ –ø—Ä–µ–∂–¥–µ–≤—Ä–µ–º–µ–Ω–Ω–æ. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –ø—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏—è –¥–ª—è –ø–æ–∏—Å–∫–∞ —Ä–µ–∞–ª—å–Ω—ã—Ö bottleneck'–æ–≤.</p>
</li>
<li>
<p><strong>–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ &gt; –ú–∏–∫—Ä–æ–æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏</strong>: –ß–∏—Å—Ç—ã–π, –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–π –∫–æ–¥ —Å —É–º–µ—Ä–µ–Ω–Ω—ã–º –ø–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º–æ–º –ª—É—á—à–µ, —á–µ–º –Ω–µ—á–∏—Ç–∞–µ–º—ã–µ –º–∏–∫—Ä–æ–æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏.</p>
</li>
</ol>
<h3 id="–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–π-—Å–æ–≤–µ—Ç"><a class="header" href="#–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–π-—Å–æ–≤–µ—Ç">–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–π —Å–æ–≤–µ—Ç</a></h3>
<p>–°–ª–µ–¥—É–π—Ç–µ –ø—Ä–∞–≤–∏–ª—É <strong>"–ò–∑–º–µ—Ä—å, –æ–ø—Ç–∏–º–∏–∑–∏—Ä—É–π, –ø—Ä–æ–≤–µ—Ä—å"</strong>:</p>
<ol>
<li><strong>–ò–∑–º–µ—Ä—å</strong>: –ü—Ä–æ—Ñ–∏–ª–∏—Ä—É–π—Ç–µ —Ä–µ–∞–ª—å–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö</li>
<li><strong>–û–ø—Ç–∏–º–∏–∑–∏—Ä—É–π</strong>: –ï—Å–ª–∏ –Ω–∞—à–ª–∏ bottleneck —Å–≤—è–∑–∞–Ω–Ω—ã–π —Å –ø–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º–æ–º ‚Äî –æ–ø—Ç–∏–º–∏–∑–∏—Ä—É–π—Ç–µ</li>
<li><strong>–ü—Ä–æ–≤–µ—Ä—å</strong>: –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –ø–æ–º–æ–≥–ª–∞</li>
</ol>
<h3 id="–î–∞–ª—å–Ω–µ–π—à–µ–µ-–∏–∑—É—á–µ–Ω–∏–µ-1"><a class="header" href="#–î–∞–ª—å–Ω–µ–π—à–µ–µ-–∏–∑—É—á–µ–Ω–∏–µ-1">–î–∞–ª—å–Ω–µ–π—à–µ–µ –∏–∑—É—á–µ–Ω–∏–µ</a></h3>
<ul>
<li><strong>V8 Blog</strong>: https://v8.dev/blog</li>
<li><strong>Vyacheslav Egorov's Blog</strong>: https://mrale.ph/</li>
<li><strong>Benedikt Meurer's Presentations</strong>: –ü–æ–∏—Å–∫ –Ω–∞ YouTube</li>
<li><strong>V8 Source Code</strong>: https://github.com/v8/v8</li>
</ul>
<hr />
<p><strong>–ê–≤—Ç–æ—Ä</strong>: –†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –∞–∫–∞–¥–µ–º–∏—á–µ—Å–∫–∞—è –≤–µ—Ä—Å–∏—è –Ω–∞ –æ—Å–Ω–æ–≤–µ —Å—Ç–∞—Ç—å–∏ –í—è—á–µ—Å–ª–∞–≤–∞ –ï–≥–æ—Ä–æ–≤–∞
<strong>–î–∞—Ç–∞</strong>: 2025
<strong>–õ–∏—Ü–µ–Ω–∑–∏—è</strong>: Educational Use</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="–ß—Ç–æ-–ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç-—Å-–º–æ–Ω–æ–º–æ—Ä—Ñ–∏–∑–º–æ–º"><a class="header" href="#–ß—Ç–æ-–ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç-—Å-–º–æ–Ω–æ–º–æ—Ä—Ñ–∏–∑–º–æ–º">–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —Å –º–æ–Ω–æ–º–æ—Ä—Ñ–∏–∑–º–æ–º?</a></h1>
<p>–í –¥–æ–∫–ª–∞–¥–∞—Ö –∏ —Å—Ç–∞—Ç—å—è—Ö –æ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ JavaScript —á–∞—Å—Ç–æ –ø–æ–¥—á—ë—Ä–∫–∏–≤–∞—é—Ç –≤–∞–∂–Ω–æ—Å—Ç—å <strong>–º–æ–Ω–æ–º–æ—Ä—Ñ–Ω–æ–≥–æ</strong> –∫–æ–¥–∞. –û–¥–Ω–∞–∫–æ –æ–Ω–∏ –æ–±—ã—á–Ω–æ –Ω–µ –¥–∞—é—Ç —è—Å–Ω–æ–≥–æ –æ–±—ä—è—Å–Ω–µ–Ω–∏—è —Ç–æ–≥–æ, —á—Ç–æ —Ç–∞–∫–æ–µ –º–æ–Ω–æ–º–æ—Ä—Ñ–∏–∑–º/–ø–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º –∏ –ø–æ—á–µ–º—É —ç—Ç–æ –≤–∞–∂–Ω–æ. –î–∞–∂–µ –≤ –º–æ–∏—Ö —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã—Ö –¥–æ–∫–ª–∞–¥–∞—Ö —á–∞—Å—Ç–æ –∑–≤—É—á–∏—Ç —á—Ç–æ-—Ç–æ –≤—Ä–æ–¥–µ ¬´<strong>–û–î–ò–ù –¢–ò–ü ‚Äî –•–û–†–û–®–û. –î–í–ê –¢–ò–ü–ê ‚Äî –ü–õ–û–•–û!!!</strong>¬ª. –ù–µ—É–¥–∏–≤–∏—Ç–µ–ª—å–Ω–æ, —á—Ç–æ –æ–¥–Ω–∞ –∏–∑ —Å–∞–º—ã—Ö —á–∞—Å—Ç—ã—Ö –ø—Ä–æ—Å—å–± –∫–æ –º–Ω–µ ‚Äî –æ–±—ä—è—Å–Ω–∏—Ç—å, <em>—á—Ç–æ —Ç–∞–∫–æ–µ –º–æ–Ω–æ–º–æ—Ä—Ñ–∏–∑–º –Ω–∞ —Å–∞–º–æ–º –¥–µ–ª–µ</em>, –∫–∞–∫ –≤–æ–∑–Ω–∏–∫–∞–µ—Ç –ø–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º –∏ –ø–æ—á–µ–º—É —ç—Ç–æ –ø–ª–æ—Ö–æ.</p>
<p>–ù–µ –ø–æ–º–æ–≥–∞–µ—Ç —Ç–æ, —á—Ç–æ —Å–∞–º–æ —Å–ª–æ–≤–æ "–ø–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º" –ø–µ—Ä–µ–≥—Ä—É–∂–µ–Ω–æ —Å–º—ã—Å–ª–∞–º–∏. –í –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–æ–º –æ–±—ä–µ–∫—Ç–Ω–æ-–æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–º –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–∏ <em>–ø–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º</em> –æ–±—ã—á–Ω–æ –æ–∑–Ω–∞—á–∞–µ—Ç —Å—É–±—Ç–∏–ø–∏–∑–∞—Ü–∏—é –∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –ø–æ–≤–µ–¥–µ–Ω–∏–µ –±–∞–∑–æ–≤–æ–≥–æ –∫–ª–∞—Å—Å–∞. –ü—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç—ã –Ω–∞ Haskell –ø–æ–¥—É–º–∞—é—Ç –æ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏—á–µ—Å–∫–æ–º –ø–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º–µ. –û–¥–Ω–∞–∫–æ –ø–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º, –ø—Ä–æ—Ç–∏–≤ –∫–æ—Ç–æ—Ä–æ–≥–æ –ø—Ä–µ–¥–æ—Å—Ç–µ—Ä–µ–≥–∞—é—Ç –¥–æ–∫–ª–∞–¥—ã –æ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ JS, ‚Äî —ç—Ç–æ –Ω–µ—á—Ç–æ –¥—Ä—É–≥–æ–µ ‚Äî —ç—Ç–æ <em>–ø–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º –≤ —Ç–æ—á–∫–µ –≤—ã–∑–æ–≤–∞</em>.</p>
<p>–Ø –æ–±—ä—è—Å–Ω—è–ª —ç—Ç—É –∫–æ–Ω—Ü–µ–ø—Ü–∏—é —Ç–∞–∫ –º–Ω–æ–≥–æ —Ä–∞–∑ —Ä–∞–∑–ª–∏—á–Ω—ã–º–∏ —Å–ø–æ—Å–æ–±–∞–º–∏, —á—Ç–æ –≤ –∫–æ–Ω—Ü–µ –∫–æ–Ω—Ü–æ–≤ —Ä–µ—à–∏–ª –Ω–∞–ø–∏—Å–∞—Ç—å —ç—Ç—É —Å—Ç–∞—Ç—å—é ‚Äî —á—Ç–æ–±—ã –≤ —Å–ª–µ–¥—É—é—â–∏–π —Ä–∞–∑ –ø—Ä–æ—Å—Ç–æ —Å—Å—ã–ª–∞—Ç—å—Å—è –Ω–∞ –Ω–µ—ë.</p>
<p>[–Ø —Ç–∞–∫–∂–µ —Ä–µ—à–∏–ª –ø–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å –Ω–æ–≤—ã–π –ø–æ–¥—Ö–æ–¥ –∫ –æ–±—ä—è—Å–Ω–µ–Ω–∏—é –≤–µ—â–µ–π ‚Äî –ø—ã—Ç–∞—è—Å—å —É–ª–æ–≤–∏—Ç—å –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ –º–µ–∂–¥—É —Ä–∞–∑–ª–∏—á–Ω—ã–º–∏ —á–∞—Å—Ç—è–º–∏ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω—ã —Å –ø–æ–º–æ—â—å—é –∫–æ—Ä–æ—Ç–∫–∏—Ö –∫–æ–º–∏–∫—Å–æ–≤. –≠—Ç–æ –Ω–æ–≤–∞—è –æ–±–ª–∞—Å—Ç—å –¥–ª—è –º–µ–Ω—è, –ø–æ—ç—Ç–æ–º—É, –ø–æ–∂–∞–ª—É–π—Å—Ç–∞, –Ω–µ —Å—Ç–µ—Å–Ω—è–π—Ç–µ—Å—å –ø—Ä–∏—Å—ã–ª–∞—Ç—å –º–Ω–µ –æ–±—Ä–∞—Ç–Ω—É—é —Å–≤—è–∑—å. –ü–æ–º–æ–≥–∞–µ—Ç –ª–∏ —ç—Ç–æ –ª—É—á—à–µ –ø–æ–Ω—è—Ç—å? –ò–ª–∏ –∑–∞—Ç—Ä—É–¥–Ω—è–µ—Ç –ø–æ–Ω–∏–º–∞–Ω–∏–µ? –≠—Ç–∞ —Å—Ç–∞—Ç—å—è —Ç–∞–∫–∂–µ –ø—Ä–æ–ø—É—Å–∫–∞–µ—Ç —Ä–∞–∑–ª–∏—á–Ω—ã–µ –¥–µ—Ç–∞–ª–∏, –∫–æ—Ç–æ—Ä—ã–µ —è —Å—á–∏—Ç–∞–ª –Ω–µ–≤–∞–∂–Ω—ã–º–∏, –∏–∑–±—ã—Ç–æ—á–Ω—ã–º–∏ –∏–ª–∏ —Ç–æ–ª—å–∫–æ –∫–æ—Å–≤–µ–Ω–Ω–æ —Å–≤—è–∑–∞–Ω–Ω—ã–º–∏ ‚Äî —Å–º–µ–ª–æ –ø—Ä–∏—Å—ã–ª–∞–π—Ç–µ –≤–æ–ø—Ä–æ—Å—ã, –µ—Å–ª–∏ –≤–∞–º –∫–∞–∂–µ—Ç—Å—è, —á—Ç–æ —è —á—Ç–æ-—Ç–æ —É–ø—É—Å—Ç–∏–ª]</p>
<h2 id="–î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π-–ø–æ–∏—Å–∫-101"><a class="header" href="#–î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π-–ø–æ–∏—Å–∫-101">–î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π –ø–æ–∏—Å–∫ 101</a></h2>
<p>–î–ª—è –ø—Ä–æ—Å—Ç–æ—Ç—ã —ç—Ç–∞ —Å—Ç–∞—Ç—å—è –±—É–¥–µ—Ç –≤ –æ—Å–Ω–æ–≤–Ω–æ–º —Å–æ—Å—Ä–µ–¥–æ—Ç–æ—á–µ–Ω–∞ –Ω–∞ —Å–∞–º–æ–º –ø—Ä–æ—Å—Ç–æ–º –ø–æ–∏—Å–∫–µ —Å–≤–æ–π—Å—Ç–≤–∞ –≤ JavaScript, –Ω–∞–ø—Ä–∏–º–µ—Ä <code>o.x</code> –≤ –∫–æ–¥–µ –Ω–∏–∂–µ. –í —Ç–æ –∂–µ –≤—Ä–µ–º—è –≤–∞–∂–Ω–æ –ø–æ–Ω–∏–º–∞—Ç—å, —á—Ç–æ –≤—Å—ë, –æ —á—ë–º –º—ã –±—É–¥–µ–º –≥–æ–≤–æ—Ä–∏—Ç—å, –ø—Ä–∏–º–µ–Ω–∏–º–æ –∫ –ª—é–±–æ–π <em>–¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ —Å–≤—è–∑–∞–Ω–Ω–æ–π</em> –æ–ø–µ—Ä–∞—Ü–∏–∏, –±—É–¥—å —Ç–æ –ø–æ–∏—Å–∫ —Å–≤–æ–π—Å—Ç–≤–∞ –∏–ª–∏ –∞—Ä–∏—Ñ–º–µ—Ç–∏—á–µ—Å–∫–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è, –∏ –¥–∞–∂–µ –≤—ã—Ö–æ–¥–∏—Ç –∑–∞ –ø—Ä–µ–¥–µ–ª—ã JavaScript.</p>
<p>–ü—Ä–µ–¥—Å—Ç–∞–≤—å—Ç–µ –Ω–∞ –º–≥–Ω–æ–≤–µ–Ω–∏–µ, —á—Ç–æ –≤—ã –ø—Ä–æ—Ö–æ–¥–∏—Ç–µ —Å–æ–±–µ—Å–µ–¥–æ–≤–∞–Ω–∏–µ –Ω–∞ –æ—Ç–ª–∏—á–Ω—É—é –¥–æ–ª–∂–Ω–æ—Å—Ç—å –≤ Interpreters Ltd. –∏ –∏–Ω—Ç–µ—Ä–≤—å—é–µ—Ä –ø—Ä–æ—Å–∏—Ç –≤–∞—Å —Å–ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –∏ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ø–æ–∏—Å–∫ —Å–≤–æ–π—Å—Ç–≤ –¥–ª—è JS VM. –ö–∞–∫–∏–º –±—ã–ª –±—ã —Å–∞–º—ã–π –ø—Ä–æ—Å—Ç–æ–π –∏ –ø—Ä—è–º–æ–ª–∏–Ω–µ–π–Ω—ã–π –æ—Ç–≤–µ—Ç?</p>
<p>–û—á–µ–≤–∏–¥–Ω–æ, —á—Ç–æ –≤—ã –Ω–µ –º–æ–∂–µ—Ç–µ —Å–¥–µ–ª–∞—Ç—å —ç—Ç–æ –ø—Ä–æ—â–µ, —á–µ–º –≤–∑—è—Ç—å —Å–µ–º–∞–Ω—Ç–∏–∫—É JS —Ç–∞–∫–æ–π, –∫–∞–∫ –æ–Ω–∞ –æ–ø–∏—Å–∞–Ω–∞ –≤ ECMAScript Language Specification (aka ECMA 262), –∏ –ø–µ—Ä–µ–ø–∏—Å–∞—Ç—å –∞–ª–≥–æ—Ä–∏—Ç–º [[Get]] —Å–ª–æ–≤–æ –≤ —Å–ª–æ–≤–æ —Å –∞–Ω–≥–ª–∏–π—Å–∫–æ–≥–æ –Ω–∞ C++, Java, Rust –∏–ª–∏ Malbolge ‚Äî –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –≤–∞—à–µ–≥–æ —è–∑—ã–∫–∞ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è –¥–ª—è —Å–æ–±–µ—Å–µ–¥–æ–≤–∞–Ω–∏—è.</p>
<p>–ù–∞ —Å–∞–º–æ–º –¥–µ–ª–µ, –µ—Å–ª–∏ –≤—ã –æ—Ç–∫—Ä–æ–µ—Ç–µ –ª—é–±–æ–π JS –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä, –≤—ã, —Å–∫–æ—Ä–µ–µ –≤—Å–µ–≥–æ, –æ–±–Ω–∞—Ä—É–∂–∏—Ç–µ —á—Ç–æ-—Ç–æ –≤ —ç—Ç–æ–º —Ä–æ–¥–µ:</p>
<p>–≠—Ç–æ –∞–±—Å–æ–ª—é—Ç–Ω–æ –≤–µ—Ä–Ω—ã–π —Å–ø–æ—Å–æ–± —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –ø–æ–∏—Å–∫–∞ —Å–≤–æ–π—Å—Ç–≤, –æ–¥–Ω–∞–∫–æ —É –Ω–µ–≥–æ –µ—Å—Ç—å –æ–¥–Ω–∞ —Å–µ—Ä—å—ë–∑–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞: –µ—Å–ª–∏ –º—ã —Å—Ä–∞–≤–Ω–∏–º –Ω–∞—à—É —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é –ø–æ–∏—Å–∫–∞ —Å–≤–æ–π—Å—Ç–≤ —Å —Ç–µ–º–∏, —á—Ç–æ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö JS VM, –º—ã –æ–±–Ω–∞—Ä—É–∂–∏–º, —á—Ç–æ —ç—Ç–æ —Å–ª–∏—à–∫–æ–º –º–µ–¥–ª–µ–Ω–Ω–æ.</p>
<p>–ù–∞—à –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä <em>–∞–º–Ω–µ–∑–∏—á–µ–Ω</em>: –∫–∞–∂–¥—ã–π —Ä–∞–∑, –∫–æ–≥–¥–∞ –æ–Ω –≤—ã–ø–æ–ª–Ω—è–µ—Ç –ø–æ–∏—Å–∫ —Å–≤–æ–π—Å—Ç–≤–∞, –æ–Ω –¥–æ–ª–∂–µ–Ω –∑–∞–ø—É—Å—Ç–∏—Ç—å –æ–±—â–∏–π –∞–ª–≥–æ—Ä–∏—Ç–º –ø–æ–∏—Å–∫–∞ —Å–≤–æ–π—Å—Ç–≤–∞, –æ–Ω –Ω–∏—á–µ–≥–æ –Ω–µ —É–∑–Ω–∞—ë—Ç –∏–∑ –ø—Ä–µ–¥—ã–¥—É—â–∏—Ö –ø–æ–ø—ã—Ç–æ–∫ –∏ –¥–æ–ª–∂–µ–Ω –ø–ª–∞—Ç–∏—Ç—å –ø–æ–ª–Ω—É—é —Ü–µ–Ω—É —Å–Ω–æ–≤–∞ –∏ —Å–Ω–æ–≤–∞. –ò–º–µ–Ω–Ω–æ –ø–æ—ç—Ç–æ–º—É –æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –Ω–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å VM —Ä–µ–∞–ª–∏–∑—É—é—Ç –ø–æ–∏—Å–∫ —Å–≤–æ–π—Å—Ç–≤ –∏–Ω–∞—á–µ.</p>
<h2 id="inline-caching"><a class="header" href="#inline-caching">Inline Caching</a></h2>
<p>–ê —á—Ç–æ –µ—Å–ª–∏ –±—ã –∫–∞–∂–¥—ã–π –¥–æ—Å—Ç—É–ø –∫ —Å–≤–æ–π—Å—Ç–≤—É –≤ –Ω–∞—à–µ–π –ø—Ä–æ–≥—Ä–∞–º–º–µ –±—ã–ª —Å–ø–æ—Å–æ–±–µ–Ω —É—á–∏—Ç—å—Å—è –Ω–∞ –æ–±—ä–µ–∫—Ç–∞—Ö, –∫–æ—Ç–æ—Ä—ã–µ –æ–Ω –≤–∏–¥–µ–ª —Ä–∞–Ω—å—à–µ, –∏ –ø—Ä–∏–º–µ–Ω—è—Ç—å —ç—Ç–∏ –∑–Ω–∞–Ω–∏—è –∫ –ø–æ—Ö–æ–∂–∏–º –æ–±—ä–µ–∫—Ç–∞–º? –ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–æ —ç—Ç–æ –ø–æ–∑–≤–æ–ª–∏–ª–æ –±—ã –Ω–∞–º —Å—ç–∫–æ–Ω–æ–º–∏—Ç—å –º–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏, –∏–∑–±–µ–∂–∞–≤ –¥–æ—Ä–æ–≥–æ—Å—Ç–æ—è—â–µ–≥–æ –æ–±—â–µ–≥–æ –∞–ª–≥–æ—Ä–∏—Ç–º–∞ –ø–æ–∏—Å–∫–∞ –∏ –≤–º–µ—Å—Ç–æ —ç—Ç–æ–≥–æ –∏—Å–ø–æ–ª—å–∑—É—è –±–æ–ª–µ–µ –±—ã—Å—Ç—Ä—ã–π, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –∫ –æ–±—ä–µ–∫—Ç–∞–º –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–π <em>—Ñ–æ—Ä–º—ã</em>.</p>
<p>–ú—ã –∑–Ω–∞–µ–º, —á—Ç–æ –¥–æ—Ä–æ–≥–æ –≤—ã—è—Å–Ω—è—Ç—å, –≥–¥–µ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –¥–∞–Ω–Ω–æ–µ —Å–≤–æ–π—Å—Ç–≤–æ –≤–Ω—É—Ç—Ä–∏ –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞, –ø–æ—ç—Ç–æ–º—É –Ω–∞–º –±—ã —Ö–æ—Ç–µ–ª–æ—Å—å –≤—ã–ø–æ–ª–Ω–∏—Ç—å —ç—Ç–æ—Ç –ø–æ–∏—Å–∫ –æ–¥–∏–Ω —Ä–∞–∑, –∞ –∑–∞—Ç–µ–º –ø–æ–º–µ—Å—Ç–∏—Ç—å <em>–ø—É—Ç—å</em> –∫ —ç—Ç–æ–º—É —Å–≤–æ–π—Å—Ç–≤—É –≤ –∫—ç—à, –∏—Å–ø–æ–ª—å–∑—É—è <em>—Ñ–æ—Ä–º—É –æ–±—ä–µ–∫—Ç–∞</em> –≤ –∫–∞—á–µ—Å—Ç–≤–µ –∫–ª—é—á–∞. –í —Å–ª–µ–¥—É—é—â–∏–π —Ä–∞–∑, –∫–æ–≥–¥–∞ –º—ã —É–≤–∏–¥–∏–º –æ–±—ä–µ–∫—Ç —Å —Ç–æ–π –∂–µ —Ñ–æ—Ä–º–æ–π, –º—ã –º–æ–∂–µ–º –ø—Ä–æ—Å—Ç–æ –≤–∑—è—Ç—å –ø—É—Ç—å –∏–∑ –∫—ç—à–∞ –≤–º–µ—Å—Ç–æ —Ç–æ–≥–æ, —á—Ç–æ–±—ã –≤—ã—á–∏—Å–ª—è—Ç—å –µ–≥–æ —Å –Ω—É–ª—è.</p>
<p>–≠—Ç–∞ —Ç–µ—Ö–Ω–∏–∫–∞ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –∏–∑–≤–µ—Å—Ç–Ω–∞ –∫–∞–∫ <strong>Inline Caching</strong>, –∏ —è –ø–∏—Å–∞–ª –æ –Ω–µ–π —Ä–∞–Ω—å—à–µ. –î–ª—è —ç—Ç–æ–π —Å—Ç–∞—Ç—å–∏ —è –æ—Å—Ç–∞–≤–ª—é –¥–µ—Ç–∞–ª–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –≤ —Å—Ç–æ—Ä–æ–Ω–µ –∏ –≤–º–µ—Å—Ç–æ —ç—Ç–æ–≥–æ —Å–æ—Å—Ä–µ–¥–æ—Ç–æ—á—É—Å—å –Ω–∞ –∞—Å–ø–µ–∫—Ç–µ, –∫–æ—Ç–æ—Ä—ã–π —è —Ä–∞–Ω—å—à–µ –∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞–ª: –∫–∞–∂–¥—ã–π inline cache –ø—Ä–µ–∂–¥–µ –≤—Å–µ–≥–æ ‚Äî —ç—Ç–æ <strong>–∫—ç—à</strong>, –∏ –∫–∞–∫ –ª—é–±–æ–π –¥—Ä—É–≥–æ–π –∫—ç—à –æ–Ω –∏–º–µ–µ—Ç <em>—Ä–∞–∑–º–µ—Ä</em> (–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–µ–∫—É—â–∏—Ö –∑–∞–ø–∏—Å–µ–π –≤ –∫—ç—à–µ) –∏ <em>—ë–º–∫–æ—Å—Ç—å</em> (–º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø–∏—Å–µ–π –≤ –∫—ç—à–µ).</p>
<p>–î–∞–≤–∞–π—Ç–µ –µ—â—ë —Ä–∞–∑ –ø–æ—Å–º–æ—Ç—Ä–∏–º –Ω–∞ –ø—Ä–∏–º–µ—Ä:</p>
<p>–ö–∞–∫–æ–≤–æ –æ–∂–∏–¥–∞–µ–º–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –∑–∞–ø–∏—Å–µ–π –¥–ª—è IC –Ω–∞ <code>o.x</code>?</p>
<p>–£—á–∏—Ç—ã–≤–∞—è, —á—Ç–æ <code>{x: 1}</code> –∏ <code>{x: 2}</code> –∏–º–µ—é—Ç –æ–¥–Ω—É –∏ —Ç—É –∂–µ —Ñ–æ—Ä–º—É (—Ç–∞–∫–∂–µ –∏–∑–≤–µ—Å—Ç–Ω—É—é –∫–∞–∫ <em>—Å–∫—Ä—ã—Ç—ã–π –∫–ª–∞—Å—Å</em> –∏–ª–∏ <em>map</em>), –æ—Ç–≤–µ—Ç ‚Äî 1. –ò–º–µ–Ω–Ω–æ —ç—Ç–æ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∫—ç—à–∞ –º—ã –Ω–∞–∑—ã–≤–∞–µ–º <em>–º–æ–Ω–æ–º–æ—Ä—Ñ–Ω—ã–º</em>, –ø–æ—Ç–æ–º—É —á—Ç–æ –æ–Ω –≤–∏–¥–µ–ª –æ–±—ä–µ–∫—Ç—ã —Ç–æ–ª—å–∫–æ –æ–¥–Ω–æ–π —Ñ–æ—Ä–º—ã. [–º–æ–Ω–æ- ("–æ–¥–∏–Ω") + -–º–æ—Ä—Ñ–Ω—ã–π ("–∏–º–µ—é—â–∏–π —Ñ–æ—Ä–º—É")]</p>
<p>–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç, –µ—Å–ª–∏ –º—ã —Ç–µ–ø–µ—Ä—å –≤—ã–∑–æ–≤–µ–º <code>f</code> —Å –æ–±—ä–µ–∫—Ç–æ–º –¥—Ä—É–≥–æ–π —Ñ–æ—Ä–º—ã?</p>
<p><code>{x: 3}</code> –∏ <code>{x: 3, y: 1}</code> ‚Äî —ç—Ç–æ –æ–±—ä–µ–∫—Ç—ã —Ä–∞–∑–Ω—ã—Ö —Ñ–æ—Ä–º, –ø–æ—ç—Ç–æ–º—É –∫—ç—à –±–æ–ª—å—à–µ –Ω–µ —è–≤–ª—è–µ—Ç—Å—è –º–æ–Ω–æ–º–æ—Ä—Ñ–Ω—ã–º, –æ–Ω —Ç–µ–ø–µ—Ä—å —Å–æ–¥–µ—Ä–∂–∏—Ç –¥–≤–µ –∑–∞–ø–∏—Å–∏ –∫—ç—à–∞: –æ–¥–Ω—É –¥–ª—è —Ñ–æ—Ä–º—ã <code>{x: *}</code> –∏ –æ–¥–Ω—É –¥–ª—è —Ñ–æ—Ä–º—ã <code>{x: *, y: *}</code> ‚Äî –Ω–∞—à–∞ –æ–ø–µ—Ä–∞—Ü–∏—è —Ç–µ–ø–µ—Ä—å –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ <em>–ø–æ–ª–∏–º–æ—Ä—Ñ–Ω–æ–º</em> —Å–æ—Å—Ç–æ—è–Ω–∏–∏ —Å–æ —Å—Ç–µ–ø–µ–Ω—å—é –ø–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º–∞ <code>2</code>.</p>
<p>–ï—Å–ª–∏ –º—ã –ø—Ä–æ–¥–æ–ª–∂–∏–º –≤—ã–∑—ã–≤–∞—Ç—å <code>f</code> —Å –æ–±—ä–µ–∫—Ç–∞–º–∏ —Ä–∞–∑–Ω—ã—Ö —Ñ–æ—Ä–º, —Å—Ç–µ–ø–µ–Ω—å –µ–≥–æ –ø–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º–∞ –±—É–¥–µ—Ç –ø—Ä–æ–¥–æ–ª–∂–∞—Ç—å —Ä–∞—Å—Ç–∏ –¥–æ —Ç–µ—Ö –ø–æ—Ä, –ø–æ–∫–∞ –Ω–µ –¥–æ—Å—Ç–∏–≥–Ω–µ—Ç –ø—Ä–µ–¥–æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–≥–æ –ø–æ—Ä–æ–≥–∞ ‚Äî –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π –≤–æ–∑–º–æ–∂–Ω–æ–π —ë–º–∫–æ—Å—Ç–∏ –¥–ª—è inline cache (–Ω–∞–ø—Ä–∏–º–µ—Ä, <code>4</code> –¥–ª—è –∑–∞–≥—Ä—É–∑–æ–∫ —Å–≤–æ–π—Å—Ç–≤ –≤ V8) ‚Äî –≤ —ç—Ç–æ—Ç –º–æ–º–µ–Ω—Ç –∫—ç—à –ø–µ—Ä–µ–π–¥—ë—Ç –≤ <em>–º–µ–≥–∞–º–æ—Ä—Ñ–Ω–æ–µ</em> —Å–æ—Å—Ç–æ—è–Ω–∏–µ.</p>
<p>–ú–µ–≥–∞–º–æ—Ä—Ñ–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è –Ω–µ–∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ–º–æ–≥–æ —Ä–æ—Å—Ç–∞ –ø–æ–ª–∏–º–æ—Ä—Ñ–Ω—ã—Ö –∫—ç—à–µ–π, —ç—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç <em>"—è –≤–∏–¥–µ–ª —Å–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ —Ñ–æ—Ä–º –∑–¥–µ—Å—å, —è —Å–¥–∞—é—Å—å –∏ –ø–µ—Ä–µ—Å—Ç–∞—é –∏—Ö –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å"</em>. –í V8 –º–µ–≥–∞–º–æ—Ä—Ñ–Ω—ã–µ IC –ø–æ-–ø—Ä–µ–∂–Ω–µ–º—É –º–æ–≥—É—Ç –ø—Ä–æ–¥–æ–ª–∂–∞—Ç—å –∫—ç—à–∏—Ä–æ–≤–∞—Ç—å –≤–µ—â–∏, –Ω–æ –≤–º–µ—Å—Ç–æ –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è –æ–Ω–∏ –ø–æ–º–µ—â–∞—é—Ç –∫—ç—à–∏—Ä—É–µ–º—ã–µ –¥–∞–Ω–Ω—ã–µ –≤ –≥–ª–æ–±–∞–ª—å–Ω—É—é —Ö–µ—à-—Ç–∞–±–ª–∏—Ü—É. –≠—Ç–∞ —Ö–µ—à-—Ç–∞–±–ª–∏—Ü–∞ –∏–º–µ–µ—Ç —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ä–∞–∑–º–µ—Ä, –∏ –∑–∞–ø–∏—Å–∏ –ø—Ä–æ—Å—Ç–æ –ø–µ—Ä–µ–∑–∞–ø–∏—Å—ã–≤–∞—é—Ç—Å—è –ø—Ä–∏ –∫–æ–ª–ª–∏–∑–∏—è—Ö.</p>
<p>–¢–µ–ø–µ—Ä—å –Ω–µ–±–æ–ª—å—à–æ–µ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–µ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–æ–Ω–∏–º–∞–Ω–∏—è:</p>
<ul>
<li>–°–∫–æ–ª—å–∫–æ inline cache'–µ–π –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ —Å–≤–æ–π—Å—Ç–≤–∞–º –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ —Ñ—É–Ω–∫—Ü–∏–∏ <code>ff</code>?</li>
<li>–í –∫–∞–∫–æ–º —Å–æ—Å—Ç–æ—è–Ω–∏–∏ –æ–Ω–∏ –Ω–∞—Ö–æ–¥—è—Ç—Å—è?</li>
</ul>
<p>–û—Ç–≤–µ—Ç—ã: –µ—Å—Ç—å 2 –∫—ç—à–∞, –æ–±–∞ –º–æ–Ω–æ–º–æ—Ä—Ñ–Ω—ã, –ø–æ—Ç–æ–º—É —á—Ç–æ –∫–∞–∂–¥—ã–π –≤–∏–¥–∏—Ç –æ–±—ä–µ–∫—Ç—ã —Ç–æ–ª—å–∫–æ –æ–¥–Ω–æ–π —Ñ–æ—Ä–º—ã.</p>
<h2 id="–ü–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è-–¥–ª—è-–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏"><a class="header" href="#–ü–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è-–¥–ª—è-–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏">–ü–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è –¥–ª—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏</a></h2>
<p>–ù–∞ —ç—Ç–æ–º —ç—Ç–∞–ø–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Å–æ—Å—Ç–æ—è–Ω–∏–π IC –¥–æ–ª–∂–Ω—ã —Å—Ç–∞—Ç—å –ø–æ–Ω—è—Ç–Ω—ã:</p>
<ul>
<li>–º–æ–Ω–æ–º–æ—Ä—Ñ–Ω—ã–π ‚Äî —ç—Ç–æ —Å–∞–º–æ–µ –±—ã—Å—Ç—Ä–æ–µ –≤–æ–∑–º–æ–∂–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ IC, –µ—Å–ª–∏ –≤—ã –≤—Å–µ–≥–¥–∞ –ø–æ–ø–∞–¥–∞–µ—Ç–µ –≤ –∫—ç—à (<strong>–û–î–ò–ù –¢–ò–ü ‚Äî –•–û–†–û–®–û</strong>);</li>
<li>IC –≤ –ø–æ–ª–∏–º–æ—Ä—Ñ–Ω–æ–º —Å–æ—Å—Ç–æ—è–Ω–∏–∏ –≤—ã–ø–æ–ª–Ω—è—é—Ç –ª–∏–Ω–µ–π–Ω—ã–π –ø–æ–∏—Å–∫ —Å—Ä–µ–¥–∏ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –∑–∞–ø–∏—Å–µ–π;</li>
<li>IC –≤ –º–µ–≥–∞–º–æ—Ä—Ñ–Ω–æ–º —Å–æ—Å—Ç–æ—è–Ω–∏–∏ –ø—Ä–æ–≤–µ—Ä—è—é—Ç –≥–ª–æ–±–∞–ª—å–Ω—É—é —Ö–µ—à-—Ç–∞–±–ª–∏—Ü—É –∏, —Ç–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, —Å–∞–º—ã–µ –º–µ–¥–ª–µ–Ω–Ω—ã–µ —Å—Ä–µ–¥–∏ –≤—Å–µ—Ö IC, –Ω–æ –ø–æ–ø–∞–¥–∞–Ω–∏–µ –≤ –≥–ª–æ–±–∞–ª—å–Ω—ã–π –∫—ç—à –≤—Å—ë –µ—â—ë –ª—É—á—à–µ, —á–µ–º –ø–æ–ª–Ω—ã–π –ø—Ä–æ–º–∞—Ö IC;</li>
<li>–ø—Ä–æ–º–∞—Ö IC –¥–æ—Ä–æ–≥ ‚Äî –≤—ã –¥–æ–ª–∂–Ω—ã –ø–ª–∞—Ç–∏—Ç—å –∑–∞ –ø–µ—Ä–µ—Ö–æ–¥ –≤ runtime –ø–ª—é—Å —Å—Ç–æ–∏–º–æ—Å—Ç—å –æ–±—â–µ–π –æ–ø–µ—Ä–∞—Ü–∏–∏.</li>
</ul>
<p>–û–¥–Ω–∞–∫–æ —ç—Ç–æ —Ç–æ–ª—å–∫–æ –ø–æ–ª–æ–≤–∏–Ω–∞ –ø—Ä–∞–≤–¥—ã: –≤ –¥–æ–ø–æ–ª–Ω–µ–Ω–∏–µ –∫ —É—Å–∫–æ—Ä–µ–Ω–∏—é –≤–∞—à–µ–≥–æ –∫–æ–¥–∞ inline cache'–∏ —Ç–∞–∫–∂–µ —Å–ª—É–∂–∞—Ç <em>—à–ø–∏–æ–Ω–∞–º–∏</em> –¥–ª—è –≤—Å–µ–º–æ–≥—É—â–µ–≥–æ –æ–ø—Ç–∏–º–∏–∑–∏—Ä—É—é—â–µ–≥–æ –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä–∞ ‚Äî –∫–æ—Ç–æ—Ä—ã–π –≤ –∫–æ–Ω—Ü–µ –∫–æ–Ω—Ü–æ–≤ –ø—Ä–∏–¥—ë—Ç –∏ –ø–æ–ø—ã—Ç–∞–µ—Ç—Å—è —É—Å–∫–æ—Ä–∏—Ç—å –≤–∞—à –∫–æ–¥ –µ—â—ë –±–æ–ª—å—à–µ.</p>
<h2 id="–°–ø–µ–∫—É–ª—è—Ü–∏–∏-–∏-–æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏"><a class="header" href="#–°–ø–µ–∫—É–ª—è—Ü–∏–∏-–∏-–æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏">–°–ø–µ–∫—É–ª—è—Ü–∏–∏ –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏</a></h2>
<p>Inline cache'–∏ –Ω–µ –º–æ–≥—É—Ç –æ–±–µ—Å–ø–µ—á–∏—Ç—å –ø–∏–∫–æ–≤—É—é –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Å–∞–º–∏ –ø–æ —Å–µ–±–µ –∏–∑-–∑–∞ –¥–≤—É—Ö –ø—Ä–æ–±–ª–µ–º:</p>
<ul>
<li>–∫–∞–∂–¥—ã–π IC –¥–µ–π—Å—Ç–≤—É–µ—Ç —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ, –Ω–∏—á–µ–≥–æ –Ω–µ –∑–Ω–∞—è –æ —Å–≤–æ–∏—Ö —Å–æ—Å–µ–¥—è—Ö;</li>
<li>–∫–∞–∂–¥—ã–π IC –≤ –∫–æ–Ω–µ—á–Ω–æ–º –∏—Ç–æ–≥–µ –º–æ–∂–µ—Ç –≤–µ—Ä–Ω—É—Ç—å—Å—è –≤ runtime, –µ—Å–ª–∏ –æ–Ω –Ω–µ –º–æ–∂–µ—Ç –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å —Å–≤–æ–π –≤–≤–æ–¥: —á—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ —ç—Ç–æ –ø–æ —Å—É—Ç–∏ –æ–±—â–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è —Å –æ–±—â–∏–º–∏ –ø–æ–±–æ—á–Ω—ã–º–∏ —ç—Ñ—Ñ–µ–∫—Ç–∞–º–∏ –∏ —á–∞—Å—Ç–æ –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–º —Ç–∏–ø–æ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞.</li>
</ul>
<p>–ù–∞–ø—Ä–∏–º–µ—Ä, –≤ —Ñ—É–Ω–∫—Ü–∏–∏ –≤—ã—à–µ –∫–∞–∂–¥—ã–π IC (–∏—Ö 7: <code>.x</code>, <code>.x</code>, <code>*</code>, <code>.y</code>, <code>.y</code>, <code>*</code>, <code>+</code>) –¥–µ–π—Å—Ç–≤—É–µ—Ç —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ. –ö–∞–∂–¥—ã–π IC –∑–∞–≥—Ä—É–∑–∫–∏ —Å–≤–æ–π—Å—Ç–≤–∞ –±—É–¥–µ—Ç –ø—Ä–æ–≤–µ—Ä—è—Ç—å <code>o</code> –ø—Ä–æ—Ç–∏–≤ –æ–¥–Ω–æ–≥–æ –∏ —Ç–æ–≥–æ –∂–µ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ —Ñ–æ—Ä–º—ã. –ê—Ä–∏—Ñ–º–µ—Ç–∏—á–µ—Å–∫–∏–π IC –Ω–∞ <code>+</code> –±—É–¥–µ—Ç –ø—Ä–æ–≤–µ—Ä—è—Ç—å, —è–≤–ª—è—é—Ç—Å—è –ª–∏ –µ–≥–æ –≤—Ö–æ–¥—ã —á–∏—Å–ª–∞–º–∏ (–∏ –∫–∞–∫–∏–µ –≤–∏–¥—ã —á–∏—Å–µ–ª ‚Äî —Ç–∞–∫ –∫–∞–∫ V8 –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ –∏–º–µ–µ—Ç —Ä–∞–∑–ª–∏—á–Ω—ã–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è —á–∏—Å–µ–ª) ‚Äî —Ö–æ—Ç—è —ç—Ç–æ –º–æ–∂–Ω–æ –±—ã–ª–æ –±—ã –≤—ã–≤–µ—Å—Ç–∏ –∏–∑ —Å–æ—Å—Ç–æ—è–Ω–∏—è <code>*</code> IC.</p>
<p>–ê—Ä–∏—Ñ–º–µ—Ç–∏—á–µ—Å–∫–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –≤ JavaScript –ø–æ —Å—É—Ç–∏ —Ç–∏–ø–∏—Ä–æ–≤–∞–Ω—ã, –Ω–∞–ø—Ä–∏–º–µ—Ä <code>a|0</code> –≤—Å–µ–≥–¥–∞ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç 32-–±–∏—Ç–Ω–æ–µ —Ü–µ–ª–æ–µ —á–∏—Å–ª–æ –∏ <code>+a</code> –≤—Å–µ–≥–¥–∞ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —á–∏—Å–ª–æ, –Ω–æ –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ –¥—Ä—É–≥–∏—Ö –æ–ø–µ—Ä–∞—Ü–∏–π –Ω–µ –∏–º–µ—é—Ç —Ç–∞–∫–∏—Ö –≥–∞—Ä–∞–Ω—Ç–∏–π. –≠—Ç–æ –ø—Ä–µ–≤—Ä–∞—â–∞–µ—Ç –Ω–∞–ø–∏—Å–∞–Ω–∏–µ ahead-of-time –æ–ø—Ç–∏–º–∏–∑–∏—Ä—É—é—â–µ–≥–æ –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä–∞ –¥–ª—è JavaScript –≤ —ç–∫—Å—Ç—Ä–µ–º–∞–ª—å–Ω–æ —Å–ª–æ–∂–Ω—É—é –ø—Ä–æ–±–ª–µ–º—É. –í–º–µ—Å—Ç–æ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ JavaScript –æ–¥–∏–Ω —Ä–∞–∑ –≤ AOT —Å—Ç–∏–ª–µ, –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ JavaScript VM –∏–º–µ—é—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ —É—Ä–æ–≤–Ω–µ–π –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è. –ù–∞–ø—Ä–∏–º–µ—Ä, –≤ V8 –∫–æ–¥ –Ω–∞—á–∏–Ω–∞–µ—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å—Å—è –±–µ–∑ –∫–∞–∫–∏—Ö-–ª–∏–±–æ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–π, —Å–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –Ω–µ—Ç—Ä–∞–Ω—Å–ª–∏—Ä—É—é—â–∏–º –±–∞–∑–æ–≤—ã–º –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä–æ–º. –ì–æ—Ä—è—á–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ –ø–æ–∑–∂–µ –ø–µ—Ä–µ–∫–æ–º–ø–∏–ª–∏—Ä—É—é—Ç—Å—è –æ–ø—Ç–∏–º–∏–∑–∏—Ä—É—é—â–∏–º –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä–æ–º.</p>
<p>[asm.js –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —ç—Ç—É –Ω–µ–æ—Ç—ä–µ–º–ª–µ–º—É—é —Ç–∏–ø–∏–∑–∞—Ü–∏—é –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —ç–∫—Å—Ç—Ä–µ–º–∞–ª—å–Ω–æ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ–≥–æ –ø–æ–¥–º–Ω–æ–∂–µ—Å—Ç–≤–∞ JavaScript, –∫–æ—Ç–æ—Ä–æ–µ –ø–æ–ª–Ω–æ—Å—Ç—å—é —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏ —Ç–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω–æ –∏ –º–æ–∂–µ—Ç –±—ã—Ç—å –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–æ ahead-of-time, —É—Å—Ç—Ä–∞–Ω—è—è –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç—å –≤ —Å–ø–µ–∫—É–ª—è—Ç–∏–≤–Ω–æ–π –∞–¥–∞–ø—Ç–∏–≤–Ω–æ–π –∫–æ–º–ø–∏–ª—è—Ü–∏–∏]</p>
<p>–û–∂–∏–¥–∞–Ω–∏–µ, –ø–æ–∫–∞ –∫–æ–¥ –ø—Ä–æ–≥—Ä–µ–µ—Ç—Å—è, —Å–ª—É–∂–∏—Ç –¥–≤—É–º —Ä–∞–∑–ª–∏—á–Ω—ã–º —Ü–µ–ª—è–º:</p>
<ul>
<li>—ç—Ç–æ —Å–Ω–∏–∂–∞–µ—Ç –∑–∞–¥–µ—Ä–∂–∫—É –∑–∞–ø—É—Å–∫–∞: –æ–ø—Ç–∏–º–∏–∑–∏—Ä—É—é—â–∏–π –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä –º–µ–¥–ª–µ–Ω–Ω–µ–µ, —á–µ–º –Ω–µ—Ç—Ä–∞–Ω—Å–ª–∏—Ä—É—é—â–∏–π, —á—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–æ–¥ –¥–æ–ª–∂–µ–Ω –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —á–∞—Å—Ç–æ, —á—Ç–æ–±—ã –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –æ–∫—É–ø–∏–ª–∏—Å—å;</li>
<li>—ç—Ç–æ –¥–∞—ë—Ç inline cache'–∞–º —à–∞–Ω—Å —Å–æ–±—Ä–∞—Ç—å <em>–æ–±—Ä–∞—Ç–Ω—É—é —Å–≤—è–∑—å –ø–æ —Ç–∏–ø–∞–º</em>.</li>
</ul>
<p>–ö–∞–∫ —É–∂–µ –ø–æ–¥—á—ë—Ä–∫–∏–≤–∞–ª–æ—Å—å –≤—ã—à–µ, JavaScript, –Ω–∞–ø–∏—Å–∞–Ω–Ω—ã–π —á–µ–ª–æ–≤–µ–∫–æ–º, –æ–±—ã—á–Ω–æ –Ω–µ —Å–æ–¥–µ—Ä–∂–∏—Ç –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã—Ö —Ç–∏–ø–∞—Ö, —á—Ç–æ–±—ã –ø–æ–∑–≤–æ–ª–∏—Ç—å –ø–æ–ª–Ω—É—é —Å—Ç–∞—Ç–∏—á–µ—Å–∫—É—é —Ç–∏–ø–∏–∑–∞—Ü–∏—é –∏ AOT –∫–æ–º–ø–∏–ª—è—Ü–∏—é. JIT –¥–æ–ª–∂–µ–Ω —Å–ø–µ–∫—É–ª–∏—Ä–æ–≤–∞—Ç—å: –æ–Ω –¥–æ–ª–∂–µ–Ω –¥–µ–ª–∞—Ç—å <em>–æ–±–æ—Å–Ω–æ–≤–∞–Ω–Ω—ã–µ</em> –ø—Ä–µ–¥–ø–æ–ª–æ–∂–µ–Ω–∏—è –æ–± –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ –∏ –ø–æ–≤–µ–¥–µ–Ω–∏–∏ –∫–æ–¥–∞, –∫–æ—Ç–æ—Ä—ã–π –æ–Ω –æ–ø—Ç–∏–º–∏–∑–∏—Ä—É–µ—Ç, –∏ –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–æ–¥, –∫–æ—Ç–æ—Ä—ã–π –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª–µ–Ω –ø—Ä–∏ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã—Ö –ø—Ä–µ–¥–ø–æ–ª–æ–∂–µ–Ω–∏—è—Ö. –î—Ä—É–≥–∏–º–∏ —Å–ª–æ–≤–∞–º–∏, –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä –¥–æ–ª–∂–µ–Ω —É–≥–∞–¥–∞—Ç—å, –∫–∞–∫–∏–µ –≤–∏–¥—ã –æ–±—ä–µ–∫—Ç–æ–≤ –≤–∏–¥–Ω—ã –≤ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–º –º–µ—Å—Ç–µ —Ñ—É–Ω–∫—Ü–∏–∏, –∫–æ—Ç–æ—Ä—É—é –æ–Ω –æ–ø—Ç–∏–º–∏–∑–∏—Ä—É–µ—Ç. –ü–æ —Å—á–∞—Å—Ç–ª–∏–≤–æ–º—É —Å–æ–≤–ø–∞–¥–µ–Ω–∏—é, —ç—Ç–æ –∏–º–µ–Ω–Ω–æ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è, –∫–æ—Ç–æ—Ä—É—é —Å–æ–±–∏—Ä–∞—é—Ç inline cache'–∏!</p>
<ul>
<li>–ú–æ–Ω–æ–º–æ—Ä—Ñ–Ω—ã–π –∫—ç—à –≥–æ–≤–æ—Ä–∏—Ç "—è –≤–∏–¥–µ–ª <strong>—Ç–æ–ª—å–∫–æ</strong> —Ç–∏–ø A";</li>
<li>–ü–æ–ª–∏–º–æ—Ä—Ñ–Ω—ã–π –∫—ç—à —Å—Ç–µ–ø–µ–Ω–∏ N –≥–æ–≤–æ—Ä–∏—Ç "—è –≤–∏–¥–µ–ª <strong>—Ç–æ–ª—å–∫–æ</strong> A‚ÇÅ, ‚Ä¶, A‚Çô";</li>
<li>–ú–µ–≥–∞–º–æ—Ä—Ñ–Ω—ã–π –∫—ç—à –≥–æ–≤–æ—Ä–∏—Ç "—è –≤–∏–¥–µ–ª –º–Ω–æ–≥–æ —Ä–∞–∑–Ω—ã—Ö –≤–µ—â–µ–π".</li>
</ul>
<p>–û–ø—Ç–∏–º–∏–∑–∏—Ä—É—é—â–∏–π –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä —Å–º–æ—Ç—Ä–∏—Ç –Ω–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é, —Å–æ–±—Ä–∞–Ω–Ω—É—é inline cache'–∞–º–∏, –∏ —Å—Ç—Ä–æ–∏—Ç <em>–ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ</em> (IR) —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ. –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ IR –æ–±—ã—á–Ω–æ –±–æ–ª–µ–µ —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã –∏ –Ω–∏–∑–∫–æ—É—Ä–æ–≤–Ω–µ–≤—ã, —á–µ–º –æ–±—â–∏–µ JS –æ–ø–µ—Ä–∞—Ü–∏–∏. –ù–∞–ø—Ä–∏–º–µ—Ä, –µ—Å–ª–∏ IC –¥–ª—è <code>.x</code> –≤–∏–¥–µ–ª —Ç–æ–ª—å–∫–æ –æ–±—ä–µ–∫—Ç—ã —Ñ–æ—Ä–º—ã <code>{x, y}</code>, —Ç–æ –æ–ø—Ç–∏–º–∏–∑–∞—Ç–æ—Ä –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—é IR, –∫–æ—Ç–æ—Ä–∞—è –∑–∞–≥—Ä—É–∂–∞–µ—Ç —Å–≤–æ–π—Å—Ç–≤–æ —Å —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ —Å–º–µ—â–µ–Ω–∏—è –≤–Ω—É—Ç—Ä–∏ –æ–±—ä–µ–∫—Ç–∞ –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ <code>.x</code>. –ö–æ–Ω–µ—á–Ω–æ, –Ω–µ–±–µ–∑–æ–ø–∞—Å–Ω–æ –ø—Ä–∏–º–µ–Ω—è—Ç—å —Ç–∞–∫—É—é –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—é –∫ –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω—ã–º –æ–±—ä–µ–∫—Ç–∞–º, –ø–æ—ç—Ç–æ–º—É –æ–ø—Ç–∏–º–∏–∑–∞—Ç–æ—Ä –¥–æ–±–∞–≤–ª—è–µ—Ç <em>–ø—Ä–æ–≤–µ—Ä–∫—É —Ç–∏–ø–∞</em> –ø–µ—Ä–µ–¥ –Ω–µ–π. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–∞ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Ñ–æ—Ä–º—É –æ–±—ä–µ–∫—Ç–∞ –ø–µ—Ä–µ–¥ —Ç–µ–º, –∫–∞–∫ –æ–Ω –¥–æ—Å—Ç–∏–≥–Ω–µ—Ç —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –æ–ø–µ—Ä–∞—Ü–∏–∏, –∏ –µ—Å–ª–∏ –æ–Ω –Ω–µ —Å–æ–≤–ø–∞–¥–∞–µ—Ç —Å –æ–∂–∏–¥–∞–µ–º–æ–π —Ñ–æ—Ä–º–æ–π, –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –∫–æ–¥–∞ <strong>–Ω–µ –º–æ–∂–µ—Ç</strong> –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å—Å—è ‚Äî –≤–º–µ—Å—Ç–æ —ç—Ç–æ–≥–æ –Ω–∞–º –Ω—É–∂–Ω–æ –ø—Ä—ã–≥–Ω—É—Ç—å –≤ –Ω–µ–æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–æ–¥ –∏ –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —Ç–∞–º. –≠—Ç–æ—Ç –ø—Ä–æ—Ü–µ—Å—Å –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è <em>–¥–µ–æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–µ–π</em>. –ü—Ä–∏—á–∏–Ω—ã –¥–µ–æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏, –æ–¥–Ω–∞–∫–æ, –Ω–µ –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞—é—Ç—Å—è –Ω–∞—Ä—É—à–µ–Ω–∏–µ–º –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ç–∏–ø–∞: –∞—Ä–∏—Ñ–º–µ—Ç–∏—á–µ—Å–∫–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è –º–æ–∂–µ—Ç –±—ã—Ç—å —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–∞ –¥–ª—è 32-–±–∏—Ç–Ω—ã—Ö —Ü–µ–ª—ã—Ö —á–∏—Å–µ–ª –∏ –¥–µ–æ–ø—Ç–∏–º–∏–∑–∏—Ä—É–µ—Ç—Å—è, –µ—Å–ª–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –ø–µ—Ä–µ–ø–æ–ª–Ω–∏—Ç —ç—Ç–æ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ, –¥–æ—Å—Ç—É–ø –∫ –∏–Ω–¥–µ–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–º—É —Å–≤–æ–π—Å—Ç–≤—É <code>arr[idx]</code> –º–æ–∂–µ—Ç –±—ã—Ç—å —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –≤ –ø—Ä–µ–¥–µ–ª–∞—Ö –≥—Ä–∞–Ω–∏—Ü –∏ –¥–µ–æ–ø—Ç–∏–º–∏–∑–∏—Ä—É–µ—Ç—Å—è, –µ—Å–ª–∏ <code>idx</code> –≤—ã—Ö–æ–¥–∏—Ç –∑–∞ –≥—Ä–∞–Ω–∏—Ü—ã –∏–ª–∏ <code>arr</code> –Ω–µ –∏–º–µ–µ—Ç —Å–≤–æ–π—Å—Ç–≤–∞ <code>idx</code> (—ç—Ç–æ <em>hole</em>), –∏ —Ç.–¥.</p>
<p>–¢–µ–ø–µ—Ä—å –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å —è—Å–Ω–æ, —á—Ç–æ –ø—Ä–æ—Ü–µ—Å—Å –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –ø—ã—Ç–∞–µ—Ç—Å—è —Ä–µ—à–∏—Ç—å –¥–≤–µ —Ä–∞–Ω–µ–µ –æ–ø–∏—Å–∞–Ω–Ω—ã–µ —Å–ª–∞–±–æ—Å—Ç–∏:</p>
<div class="table-wrapper"><table><thead><tr><th>–Ω–µ–æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π</th><th>–æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π</th></tr></thead><tbody>
<tr><td>–∫–∞–∂–¥–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è –∏–º–µ–µ—Ç –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω—ã–µ –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–µ –ø–æ–±–æ—á–Ω—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã, –ø–æ—Ç–æ–º—É —á—Ç–æ –æ–Ω–∞ –æ–±—â–∞—è –∏ —Ä–µ–∞–ª–∏–∑—É–µ—Ç –ø–æ–ª–Ω—É—é —Å–µ–º–∞–Ω—Ç–∏–∫—É</td><td>—Å–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –∫–æ–¥–∞ –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞—é—Ç –∏–ª–∏ —É—Å—Ç—Ä–∞–Ω—è—é—Ç –Ω–µ–ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–æ—Å—Ç—å, –ø–æ–±–æ—á–Ω—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã —Ö–æ—Ä–æ—à–æ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä, –∑–∞–≥—Ä—É–∑–∫–∞ —Å–≤–æ–π—Å—Ç–≤–∞ –ø–æ —Å–º–µ—â–µ–Ω–∏—é –Ω–µ –∏–º–µ–µ—Ç –ø–æ–±–æ—á–Ω—ã—Ö —ç—Ñ—Ñ–µ–∫—Ç–æ–≤)</td></tr>
<tr><td>–∫–∞–∂–¥–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è –Ω–µ–∑–∞–≤–∏—Å–∏–º–∞, —É—á–∏—Ç—Å—è –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–æ –∏ –Ω–µ –æ–±–º–µ–Ω–∏–≤–∞–µ—Ç—Å—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π —Å —Å–æ—Å–µ–¥—è–º–∏</td><td>–æ–ø–µ—Ä–∞—Ü–∏–∏ —Ä–∞–∑–ª–∞–≥–∞—é—Ç—Å—è –Ω–∞ –Ω–∏–∑–∫–æ—É—Ä–æ–≤–Ω–µ–≤—ã–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ IR, –∫–æ—Ç–æ—Ä—ã–µ –∑–∞—Ç–µ–º –æ–ø—Ç–∏–º–∏–∑–∏—Ä—É—é—Ç—Å—è –≤–º–µ—Å—Ç–µ, —ç—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –æ–±–Ω–∞—Ä—É–∂–∏—Ç—å –∏ —É—Å—Ç—Ä–∞–Ω–∏—Ç—å –∏–∑–±—ã—Ç–æ—á–Ω–æ—Å—Ç—å –º–µ–∂–¥—É –Ω–∏–º–∏</td></tr>
</tbody></table>
</div>
<p>–î–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ, –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ IR –Ω–∞ –æ—Å–Ω–æ–≤–µ –æ–±—Ä–∞—Ç–Ω–æ–π —Å–≤—è–∑–∏ –ø–æ —Ç–∏–ø–∞–º ‚Äî —ç—Ç–æ —Ç–æ–ª—å–∫–æ –ø–µ—Ä–≤—ã–π —à–∞–≥ –≤ –∫–æ–Ω–≤–µ–π–µ—Ä–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏. –ö–∞–∫ —Ç–æ–ª—å–∫–æ IR –≥–æ—Ç–æ–≤, –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä –∑–∞–ø—É—Å—Ç–∏—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø—Ä–æ—Ö–æ–¥–æ–≤ –ø–æ –Ω–µ–º—É, –ø—ã—Ç–∞—è—Å—å –æ–±–Ω–∞—Ä—É–∂–∏—Ç—å –∏–Ω–≤–∞—Ä–∏–∞–Ω—Ç—ã –∏ —É—Å—Ç—Ä–∞–Ω–∏—Ç—å –∏–∑–±—ã—Ç–æ—á–Ω–æ—Å—Ç—å. –ê–Ω–∞–ª–∏–∑—ã, –∫–æ—Ç–æ—Ä—ã–µ –∑–∞–ø—É—Å–∫–∞—é—Ç—Å—è –Ω–∞ —ç—Ç–æ–º —ç—Ç–∞–ø–µ, –æ–±—ã—á–Ω–æ <em>–≤–Ω—É—Ç—Ä–∏–ø—Ä–æ—Ü–µ–¥—É—Ä–Ω—ã–µ</em>, –∏ –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä –≤—ã–Ω—É–∂–¥–µ–Ω –ø—Ä–µ–¥–ø–æ–ª–∞–≥–∞—Ç—å —Ö—É–¥—à–∏–µ –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω—ã–µ –ø–æ–±–æ—á–Ω—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã –∫–∞–∂–¥—ã–π —Ä–∞–∑, –∫–æ–≥–¥–∞ –æ–Ω –≤—Å—Ç—Ä–µ—á–∞–µ—Ç –≤—ã–∑–æ–≤. –ó–¥–µ—Å—å –≤–∞–∂–Ω–æ –ø–æ–Ω–∏–º–∞—Ç—å, —á—Ç–æ –æ–±—â–∏–µ –Ω–µ—Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –ø–æ —Å—É—Ç–∏ —è–≤–ª—è—é—Ç—Å—è <em>–≤—ã–∑–æ–≤–∞–º–∏</em> —Å–∞–º–∏ –ø–æ —Å–µ–±–µ: –Ω–∞–ø—Ä–∏–º–µ—Ä, –æ—Ü–µ–Ω–∫–∞ <code>+</code> –º–æ–∂–µ—Ç –≤—ã–∑–≤–∞—Ç—å <code>valueOf</code>, –∞ –¥–æ—Å—Ç—É–ø –∫ —Å–≤–æ–π—Å—Ç–≤—É <code>o.x</code> –º–æ–∂–µ—Ç –ª–µ–≥–∫–æ –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ –≤—ã–∑–æ–≤—É getter'–∞. –≠—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –ª—é–±–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è, –∫–æ—Ç–æ—Ä—É—é –æ–ø—Ç–∏–º–∏–∑–∞—Ç–æ—Ä –ø–æ –∫–∞–∫–æ–π-—Ç–æ –ø—Ä–∏—á–∏–Ω–µ –Ω–µ —Å–º–æ–≥ –ø–æ–ª–Ω–æ—Å—Ç—å—é —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å, –º–æ–∂–µ—Ç —Å—Ç–∞—Ç—å –∫–∞–º–Ω–µ–º –ø—Ä–µ—Ç–∫–Ω–æ–≤–µ–Ω–∏—è –¥–ª—è –ø–æ—Å–ª–µ–¥—É—é—â–∏—Ö –ø—Ä–æ—Ö–æ–¥–æ–≤ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏.</p>
<p>–û–¥–∏–Ω –æ—á–µ–Ω—å —á–∞—Å—Ç—ã–π —Å–ª—É—á–∞–π –∏–∑–±—ã—Ç–æ—á–Ω–æ—Å—Ç–∏ ‚Äî –ø–æ–≤—Ç–æ—Ä—è—é—â–∏–µ—Å—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ç–∏–ø–∞, –∫–æ—Ç–æ—Ä—ã–µ –ø—Ä–æ–≤–µ—Ä—è—é—Ç –æ–¥–Ω–æ –∏ —Ç–æ –∂–µ –∑–Ω–∞—á–µ–Ω–∏–µ –ø—Ä–æ—Ç–∏–≤ –æ–¥–Ω–æ–π –∏ —Ç–æ–π –∂–µ —Ñ–æ—Ä–º—ã. –í–æ—Ç –∫–∞–∫ –º–æ–≥ –±—ã –≤—ã–≥–ª—è–¥–µ—Ç—å –Ω–∞—á–∞–ª—å–Ω—ã–π IR –¥–ª—è —Ñ—É–Ω–∫—Ü–∏–∏ <code>g</code> (—Å–º. –≤—ã—à–µ):</p>
<pre><code>CheckMap v0, {x,y}   ;; –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–æ—Ä–º—ã
v1 Load v0, @12      ;; –∑–∞–≥—Ä—É–∑–∫–∞ o.x
CheckMap v0, {x,y}
v2 Load v0, @12      ;; –∑–∞–≥—Ä—É–∑–∫–∞ o.x
i3 Mul v1, v2        ;; o.x * o.x
CheckMap v0, {x,y}
v4 Load v0, @16      ;; –∑–∞–≥—Ä—É–∑–∫–∞ o.y
CheckMap v0, {x,y}
v5 Load v0, @16      ;; –∑–∞–≥—Ä—É–∑–∫–∞ o.y
i6 Mul v4, v5        ;; o.y * o.y
i7 Add i3, i6        ;; o.x * o.x + o.y * o.y
</code></pre>
<p>–≠—Ç–æ—Ç IR –ø—Ä–æ–≤–µ—Ä—è–µ—Ç <code>v0</code> –ø—Ä–æ—Ç–∏–≤ –æ–¥–Ω–æ–π –∏ —Ç–æ–π –∂–µ —Ñ–æ—Ä–º—ã 4 —Ä–∞–∑–∞, —Ö–æ—Ç—è –º–µ–∂–¥—É –ø—Ä–æ–≤–µ—Ä–∫–∞–º–∏ –Ω–µ—Ç –Ω–∏—á–µ–≥–æ, —á—Ç–æ –º–æ–≥–ª–æ –±—ã –ø–æ–≤–ª–∏—è—Ç—å –Ω–∞ —Ñ–æ—Ä–º—É <code>v0</code>. –í–Ω–∏–º–∞—Ç–µ–ª—å–Ω—ã–π —á–∏—Ç–∞—Ç–µ–ª—å —Ç–∞–∫–∂–µ –∑–∞–º–µ—Ç–∏—Ç, —á—Ç–æ –∑–∞–≥—Ä—É–∑–∫–∏ <code>v2</code> –∏ <code>v5</code> —Ç–∞–∫–∂–µ –∏–∑–±—ã—Ç–æ—á–Ω—ã, —Ç–∞–∫ –∫–∞–∫ –Ω–∏—á—Ç–æ –Ω–µ –ø–µ—Ä–µ–ø–∏—Å—ã–≤–∞–µ—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ —Å–≤–æ–π—Å—Ç–≤–∞. –ö —Å—á–∞—Å—Ç—å—é, –ø—Ä–æ—Ö–æ–¥ GVN, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∑–∂–µ –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –∫ IR, —É—Å—Ç—Ä–∞–Ω–∏—Ç –∏–∑–±—ã—Ç–æ—á–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –∏ –∑–∞–≥—Ä—É–∑–∫–∏:</p>
<pre><code>;; –ü–æ—Å–ª–µ GVN
CheckMap v0, {x,y}
v1 Load v0, @12
i3 Mul v1, v1
v4 Load v0, @16
i6 Mul v4, v4
i7 Add i3, i6
</code></pre>
<p>–û–¥–Ω–∞–∫–æ, –∫–∞–∫ –æ—Ç–º–µ—á–∞–ª–æ—Å—å –≤—ã—à–µ, —Ç–∞–∫–æ–µ —É—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –≤–æ–∑–º–æ–∂–Ω–æ —Ç–æ–ª—å–∫–æ –ø–æ—Ç–æ–º—É, —á—Ç–æ –º–µ–∂–¥—É –∏–∑–±—ã—Ç–æ—á–Ω—ã–º–∏ –æ–ø–µ—Ä–∞—Ü–∏—è–º–∏ –Ω–µ—Ç –º–µ—à–∞—é—â–∏—Ö –ø–æ–±–æ—á–Ω—ã—Ö —ç—Ñ—Ñ–µ–∫—Ç–æ–≤: –µ—Å–ª–∏ –±—ã –±—ã–ª –≤—ã–∑–æ–≤ –º–µ–∂–¥—É <code>v1</code> –∏ <code>v2</code>, –Ω–∞–º –ø—Ä–∏—à–ª–æ—Å—å –±—ã –∫–æ–Ω—Å–µ—Ä–≤–∞—Ç–∏–≤–Ω–æ –ø—Ä–µ–¥–ø–æ–ª–æ–∂–∏—Ç—å, —á—Ç–æ –≤—ã–∑–≤–∞–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–æ –º–æ–∂–µ—Ç –∏–º–µ—Ç—å –¥–æ—Å—Ç—É–ø –∫ <code>v0</code> –∏, —Ç–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, –º–æ–∂–µ—Ç –¥–æ–±–∞–≤–ª—è—Ç—å, —É–¥–∞–ª—è—Ç—å –∏ –∏–∑–º–µ–Ω—è—Ç—å —Å–≤–æ–π—Å—Ç–≤–∞ ‚Äî —ç—Ç–æ —Å–¥–µ–ª–∞–ª–æ –±—ã –Ω–µ–≤–æ–∑–º–æ–∂–Ω—ã–º —É—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–∞ <code>v2</code> –∏–ª–∏ <code>CheckMap</code>, –∫–æ—Ç–æ—Ä—ã–π –µ–≥–æ –æ—Ö—Ä–∞–Ω—è–µ—Ç.</p>
<p>–¢–µ–ø–µ—Ä—å, –∫–æ–≥–¥–∞ –º—ã –ø–æ–Ω–∏–º–∞–µ–º –æ–ø—Ç–∏–º–∏–∑–∏—Ä—É—é—â–∏–π –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä –∏ –∑–Ω–∞–µ–º, —á—Ç–æ –µ–º—É –Ω—Ä–∞–≤–∏—Ç—Å—è (—Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏) –∏ —á—Ç–æ –µ–º—É –Ω–µ –Ω—Ä–∞–≤–∏—Ç—Å—è (–≤—ã–∑–æ–≤—ã –∏ –æ–±—â–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏), –æ—Å—Ç–∞—ë—Ç—Å—è —Ç–æ–ª—å–∫–æ –æ–¥–Ω–æ –æ–±—Å—É–¥–∏—Ç—å: –æ–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–µ–ø–æ–ª–∏–º–æ—Ä—Ñ–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π –æ–ø—Ç–∏–º–∏–∑–∏—Ä—É—é—â–∏–º –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä–æ–º.</p>
<h2 id="–ü–æ–ª–∏–º–æ—Ä—Ñ–Ω—ã–µ-–æ–ø–µ—Ä–∞—Ü–∏–∏"><a class="header" href="#–ü–æ–ª–∏–º–æ—Ä—Ñ–Ω—ã–µ-–æ–ø–µ—Ä–∞—Ü–∏–∏">–ü–æ–ª–∏–º–æ—Ä—Ñ–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏</a></h2>
<p>–ï—Å–ª–∏ –æ–ø–µ—Ä–∞—Ü–∏—è –Ω–µ–ø–æ–ª–∏–º–æ—Ä—Ñ–Ω–∞, –æ–ø—Ç–∏–º–∏–∑–∏—Ä—É—é—â–∏–π –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä, –æ—á–µ–≤–∏–¥–Ω–æ, –Ω–µ –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —ç—Ç–æ –ø—Ä–æ—Å—Ç–æ–µ –ø—Ä–∞–≤–∏–ª–æ —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ <code>–ø—Ä–æ–≤–µ—Ä–∫–∞-—Ç–∏–ø–∞ + —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è-–æ–ø–µ—Ä–∞—Ü–∏—è</code>, –∫–æ—Ç–æ—Ä–æ–µ –º—ã –æ–±—Å—É–∂–¥–∞–ª–∏ –≤—ã—à–µ. –û–Ω –ø—Ä–æ—Å—Ç–æ –Ω–µ —Å–º–æ–∂–µ—Ç –≤—ã–±—Ä–∞—Ç—å –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π —Ç–∏–ø –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ç–∏–ø–∞ –∏ –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—É—é —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—É—é –æ–ø–µ—Ä–∞—Ü–∏—é. IC –≥–æ–≤–æ—Ä–∏—Ç –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä—É, —á—Ç–æ —ç—Ç–∞ –æ–ø–µ—Ä–∞—Ü–∏—è –≤–∏–¥–∏—Ç –∑–Ω–∞—á–µ–Ω–∏—è —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Ç–∏–ø–æ–≤/—Ñ–æ—Ä–º, –ø–æ—ç—Ç–æ–º—É –≤—ã–±–æ—Ä –æ–¥–Ω–æ–≥–æ –∏–∑ –Ω–∏—Ö –∏ –∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Å—Ç–∞–ª—å–Ω—ã—Ö –æ–∑–Ω–∞—á–∞–µ—Ç —Ä–∏—Å–∫–Ω—É—Ç—å –¥–µ–æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–µ–π, —á—Ç–æ –∫—Ä–∞–π–Ω–µ –Ω–µ–∂–µ–ª–∞—Ç–µ–ª—å–Ω–æ. –í–º–µ—Å—Ç–æ —ç—Ç–æ–≥–æ –æ–ø—Ç–∏–º–∏–∑–∏—Ä—É—é—â–∏–π –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä –æ–±—ã—á–Ω–æ –ø–æ–ø—ã—Ç–∞–µ—Ç—Å—è –ø–æ—Å—Ç—Ä–æ–∏—Ç—å <em>–¥–µ—Ä–µ–≤–æ —Ä–µ—à–µ–Ω–∏–π</em>. –ù–∞–ø—Ä–∏–º–µ—Ä, –ø–æ–ª–∏–º–æ—Ä—Ñ–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫ —Å–≤–æ–π—Å—Ç–≤—É <code>o.x</code>, –∫–æ—Ç–æ—Ä—ã–π –≤–∏–¥–µ–ª —Ñ–æ—Ä–º—ã <code>A</code>, <code>B</code>, <code>C</code>, –±—É–¥–µ—Ç —Ä–∞–∑–≤—ë—Ä–Ω—É—Ç –≤ —á—Ç–æ-—Ç–æ –≤—Ä–æ–¥–µ —ç—Ç–æ–≥–æ (–æ—Ç–º–µ—Ç–∏–º, —á—Ç–æ —ç—Ç–æ –ø—Å–µ–≤–¥–æ–∫–æ–¥ ‚Äî –æ–ø—Ç–∏–º–∏–∑–∏—Ä—É—é—â–∏–π –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä –ø–æ—Å—Ç—Ä–æ–∏—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—É CFG –≤–º–µ—Å—Ç–æ —ç—Ç–æ–≥–æ):</p>
<p>–û–¥–Ω–∞ –≤–µ—â—å, –Ω–∞ –∫–æ—Ç–æ—Ä—É—é —Å—Ç–æ–∏—Ç –æ–±—Ä–∞—Ç–∏—Ç—å –≤–Ω–∏–º–∞–Ω–∏–µ, —ç—Ç–æ —Ç–æ, —á—Ç–æ –ø–æ–ª–∏–º–æ—Ä—Ñ–Ω—ã–µ –¥–æ—Å—Ç—É–ø—ã –Ω–µ –∏–º–µ—é—Ç –ø–æ–ª–µ–∑–Ω–æ–≥–æ —Å–≤–æ–π—Å—Ç–≤–∞, –∫–æ—Ç–æ—Ä–æ–µ –∏–º–µ—é—Ç –º–æ–Ω–æ–º–æ—Ä—Ñ–Ω—ã–µ –¥–æ—Å—Ç—É–ø—ã. –ü–æ—Å–ª–µ —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –º–æ–Ω–æ–º–æ—Ä—Ñ–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞ –∏ –¥–æ –º–µ—à–∞—é—â–µ–≥–æ –ø–æ–±–æ—á–Ω–æ–≥–æ —ç—Ñ—Ñ–µ–∫—Ç–∞ –º—ã –º–æ–∂–µ–º –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å, —á—Ç–æ –æ–±—ä–µ–∫—Ç –∏–º–µ–µ—Ç –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—É—é —Ñ–æ—Ä–º—É. –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç —É—Å—Ç—Ä–∞–Ω–∏—Ç—å –∏–∑–±—ã—Ç–æ—á–Ω–æ—Å—Ç—å –º–µ–∂–¥—É –º–æ–Ω–æ–º–æ—Ä—Ñ–Ω—ã–º–∏ –¥–æ—Å—Ç—É–ø–∞–º–∏. –ü–æ–ª–∏–º–æ—Ä—Ñ–Ω—ã–µ –¥–æ—Å—Ç—É–ø—ã –¥–∞—é—Ç –æ—á–µ–Ω—å —Å–ª–∞–±—É—é –≥–∞—Ä–∞–Ω—Ç–∏—é "—Ñ–æ—Ä–º–∞ –æ–±—ä–µ–∫—Ç–∞ ‚Äî –æ–¥–Ω–∞ –∏–∑ A, B, C". –ú—ã –Ω–µ –º–æ–∂–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —ç—Ç—É –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –¥–ª—è —É—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è –±–æ–ª—å—à–æ–π –∏–∑–±—ã—Ç–æ—á–Ω–æ—Å—Ç–∏ –º–µ–∂–¥—É –¥–≤—É–º—è –ø–æ—Ö–æ–∂–∏–º–∏ –ø–æ–ª–∏–º–æ—Ä—Ñ–Ω—ã–º–∏ –¥–æ—Å—Ç—É–ø–∞–º–∏, –∫–æ—Ç–æ—Ä—ã–µ —Å–ª–µ–¥—É—é—Ç –¥—Ä—É–≥ –∑–∞ –¥—Ä—É–≥–æ–º (–º–∞–∫—Å–∏–º—É–º –º—ã –º–æ–≥–ª–∏ –±—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –µ—ë –¥–ª—è —É—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è –ø–æ—Å–ª–µ–¥–Ω–µ–π —Å—Ä–∞–≤–Ω–µ–Ω–∏—è –∏ –±–ª–æ–∫–∞ –¥–µ–æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ ‚Äî –Ω–æ V8 –Ω–µ –¥–µ–ª–∞–µ—Ç —ç—Ç–æ–≥–æ).</p>
<h2 id="–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π-–ø–æ–ª–∏–º–æ—Ä—Ñ–Ω—ã–π-–¥–æ—Å—Ç—É–ø"><a class="header" href="#–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π-–ø–æ–ª–∏–º–æ—Ä—Ñ–Ω—ã–π-–¥–æ—Å—Ç—É–ø">–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–æ–ª–∏–º–æ—Ä—Ñ–Ω—ã–π –¥–æ—Å—Ç—É–ø</a></h2>
<p>V8, –æ–¥–Ω–∞–∫–æ, —Å—Ç—Ä–æ–∏—Ç –±–æ–ª–µ–µ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–π IR, –µ—Å–ª–∏ —Å–≤–æ–π—Å—Ç–≤–æ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ –æ–¥–Ω–æ–º –∏ —Ç–æ–º –∂–µ –º–µ—Å—Ç–µ –≤–æ <em>–≤—Å–µ—Ö</em> —Ñ–æ—Ä–º–∞—Ö. –í —ç—Ç–æ–º —Å–ª—É—á–∞–µ –≤–º–µ—Å—Ç–æ –¥–µ—Ä–µ–≤–∞ —Ä–µ—à–µ–Ω–∏–π –±—É–¥–µ—Ç –≤—ã–ø—É—â–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–ª–∏–º–æ—Ä—Ñ–Ω–æ–≥–æ —Ç–∏–ø–∞:</p>
<p>–≠—Ç–æ—Ç IR –∏–º–µ–µ—Ç –æ–¥–Ω–æ –≤–∞–∂–Ω–æ–µ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–æ –¥–ª—è —É—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è –∏–∑–±—ã—Ç–æ—á–Ω–æ—Å—Ç–∏: –µ—Å–ª–∏ –º–µ–∂–¥—É –¥–≤—É–º—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º–∏ <code>$TypeGuard(o, [A, B, C])</code> –Ω–µ—Ç –º–µ—à–∞—é—â–∏—Ö –ø–æ–±–æ—á–Ω—ã—Ö —ç—Ñ—Ñ–µ–∫—Ç–æ–≤, —Ç–æ –≤—Ç–æ—Ä–∞—è –∏–∑ –Ω–∏—Ö –∏–∑–±—ã—Ç–æ—á–Ω–∞, –∫–∞–∫ –≤ –º–æ–Ω–æ–º–æ—Ä—Ñ–Ω–æ–º —Å–ª—É—á–∞–µ.</p>
<p>–ï—Å–ª–∏ –æ–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å –ø–æ —Ç–∏–ø–∞–º –≥–æ–≤–æ—Ä–∏—Ç –æ–ø—Ç–∏–º–∏–∑–∏—Ä—É—é—â–µ–º—É –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä—É, —á—Ç–æ –¥–æ—Å—Ç—É–ø –∫ —Å–≤–æ–π—Å—Ç–≤—É –≤–∏–¥–µ–ª –±–æ–ª—å—à–µ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Ñ–æ—Ä–º, —á–µ–º –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä —Å—á–∏—Ç–∞–µ—Ç —Ü–µ–ª–µ—Å–æ–æ–±—Ä–∞–∑–Ω—ã–º –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–º –æ–±—Ä–∞–∑–æ–º, —Ç–æ –æ–ø—Ç–∏–º–∏–∑–∞—Ç–æ—Ä –≤–º–µ—Å—Ç–æ —ç—Ç–æ–≥–æ –ø–æ—Å—Ç—Ä–æ–∏—Ç –Ω–µ–º–Ω–æ–≥–æ –¥—Ä—É–≥–æ–µ –¥–µ—Ä–µ–≤–æ —Ä–µ—à–µ–Ω–∏–π, –∫–æ—Ç–æ—Ä–æ–µ –∑–∞–∫–∞–Ω—á–∏–≤–∞–µ—Ç—Å—è –æ–±—â–µ–π –æ–ø–µ—Ä–∞—Ü–∏–µ–π –≤–º–µ—Å—Ç–æ –¥–µ–æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏:</p>
<p>–ù–∞–∫–æ–Ω–µ—Ü, –≤ –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö —Å–ª—É—á–∞—è—Ö –æ–ø—Ç–∏–º–∏–∑–∏—Ä—É—é—â–∏–π –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä –º–æ–∂–µ—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é –æ—Ç–∫–∞–∑–∞—Ç—å—Å—è –æ—Ç —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –æ–ø–µ—Ä–∞—Ü–∏–π:</p>
<ul>
<li>–µ—Å–ª–∏ –æ–Ω –Ω–µ –∑–Ω–∞–µ—Ç, –∫–∞–∫ –µ—ë —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å;</li>
<li>–æ–ø–µ—Ä–∞—Ü–∏—è –ø–æ–ª–∏–º–æ—Ä—Ñ–Ω–∞ –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ç–æ—Ä –Ω–µ –∑–Ω–∞–µ—Ç, –∫–∞–∫ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –ø–æ—Å—Ç—Ä–æ–∏—Ç—å –¥–ª—è –Ω–µ—ë –¥–µ—Ä–µ–≤–æ —Ä–µ—à–µ–Ω–∏–π (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Ä–∞–Ω—å—à–µ —ç—Ç–æ –±—ã–ª–æ —Ç–∞–∫ –¥–ª—è –ø–æ–ª–∏–º–æ—Ä—Ñ–Ω—ã—Ö –¥–æ—Å—Ç—É–ø–æ–≤ —Å –∫–ª—é—á–æ–º <code>arr[i]</code> –≤ V8 ‚Äî –Ω–æ —É–∂–µ –Ω–µ —Ç–∞–∫);</li>
<li>–æ–ø–µ—Ä–∞—Ü–∏—è –Ω–µ –∏–º–µ–µ—Ç –Ω–∏–∫–∞–∫–æ–π –¥–µ–π—Å—Ç–≤–µ–Ω–Ω–æ–π –æ–±—Ä–∞—Ç–Ω–æ–π —Å–≤—è–∑–∏ –ø–æ —Ç–∏–ø–∞–º –¥–ª—è —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ (–æ–ø–µ—Ä–∞—Ü–∏—è –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –≤—ã–ø–æ–ª–Ω—è–ª–∞—Å—å, GC –æ—á–∏—Å—Ç–∏–ª —Å–æ–±—Ä–∞–Ω–Ω—É—é –æ–±—Ä–∞—Ç–Ω—É—é —Å–≤—è–∑—å –ø–æ —Ç–∏–ø–∞–º, –∏ —Ç.–¥.)</li>
</ul>
<p>–í–æ –≤—Å–µ—Ö —Ç–∞–∫–∏—Ö (–¥–æ–≤–æ–ª—å–Ω–æ —Ä–µ–¥–∫–∏—Ö) —Å–ª—É—á–∞—è—Ö –æ–ø—Ç–∏–º–∏–∑–∞—Ç–æ—Ä –ø—Ä–æ—Å—Ç–æ –≤—ã–ø—É—Å–∫–∞–µ—Ç –æ–±—â–∏–π –≤–∞—Ä–∏–∞–Ω—Ç –æ–ø–µ—Ä–∞—Ü–∏–∏ –≤ IR.</p>
<h2 id="–°–ª–µ–¥—Å—Ç–≤–∏—è-–¥–ª—è-–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏"><a class="header" href="#–°–ª–µ–¥—Å—Ç–≤–∏—è-–¥–ª—è-–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏">–°–ª–µ–¥—Å—Ç–≤–∏—è –¥–ª—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏</a></h2>
<p>–î–∞–≤–∞–π—Ç–µ —Å—É–º–º–∏—Ä—É–µ–º —Ç–æ, —á—Ç–æ –º—ã —É–∑–Ω–∞–ª–∏:</p>
<ul>
<li>
<p>–º–æ–Ω–æ–º–æ—Ä—Ñ–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –ª–µ–≥—á–µ –≤—Å–µ–≥–æ —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å, –¥–∞—é—Ç –æ–ø—Ç–∏–º–∏–∑–∞—Ç–æ—Ä—É –Ω–∞–∏–±–æ–ª–µ–µ –ø–æ–ª–µ–∑–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –∏ –ø–æ–∑–≤–æ–ª—è—é—Ç –¥–∞–ª—å–Ω–µ–π—à–∏–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏. –ü–æ —Å–ª–æ–≤–∞–º –•–∞–ª–∫–∞: <strong>–û–î–ò–ù –¢–ò–ü –ë–õ–ò–ó–ö–û –ö –ú–ï–¢–ê–õ–õ–£</strong>!</p>
</li>
<li>
<p>—É–º–µ—Ä–µ–Ω–Ω–æ –ø–æ–ª–∏–º–æ—Ä—Ñ–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏, –∫–æ—Ç–æ—Ä—ã–µ —Ç—Ä–µ–±—É—é—Ç –ø—Ä–æ–≤–µ—Ä–∫—É –ø–æ–ª–∏–º–æ—Ä—Ñ–Ω–æ–≥–æ —Ç–∏–ø–∞ –∏–ª–∏, –≤ —Ö—É–¥—à–µ–º —Å–ª—É—á–∞–µ, –¥–µ—Ä–µ–≤–æ —Ä–µ—à–µ–Ω–∏–π, –º–µ–¥–ª–µ–Ω–Ω–µ–µ –º–æ–Ω–æ–º–æ—Ä—Ñ–Ω—ã—Ö.</p>
</li>
<li>
<p>–î–µ—Ä–µ–≤—å—è —Ä–µ—à–µ–Ω–∏–π —É—Å–ª–æ–∂–Ω—è—é—Ç –ø–æ—Ç–æ–∫ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∏ –∑–∞—Ç—Ä—É–¥–Ω—è—é—Ç –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ç–æ—Ä–∞ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ —Ç–∏–ø–æ–≤ –∏ —É—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –∏–∑–±—ã—Ç–æ—á–Ω–æ—Å—Ç–∏. –£—Å–ª–æ–≤–Ω—ã–µ –ø–µ—Ä–µ—Ö–æ–¥—ã, –∑–∞–≤–∏—Å—è—â–∏–µ –æ—Ç –ø–∞–º—è—Ç–∏, –∫–æ—Ç–æ—Ä—ã–µ —Å–æ—Å—Ç–∞–≤–ª—è—é—Ç —ç—Ç–∏ –¥–µ—Ä–µ–≤—å—è —Ä–µ—à–µ–Ω–∏–π, –º–æ–≥—É—Ç –±—ã—Ç—å –ø–ª–æ—Ö–æ–π –Ω–æ–≤–æ—Å—Ç—å—é, –µ—Å–ª–∏ –ø–æ–ª–∏–º–æ—Ä—Ñ–Ω–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –ø—Ä—è–º–æ –≤ —Å–µ—Ä–µ–¥–∏–Ω–µ –ø–ª–æ—Ç–Ω–æ–≥–æ —Ü–∏–∫–ª–∞ –≤—ã—á–∏—Å–ª–µ–Ω–∏–π;</p>
</li>
<li>
<p>–ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–æ–ª–∏–º–æ—Ä—Ñ–Ω–æ–≥–æ —Ç–∏–ø–∞ –Ω–µ –ø—Ä–µ–ø—è—Ç—Å—Ç–≤—É—é—Ç –ø–æ—Ç–æ–∫—É —Ç–∏–ø–æ–≤ —Å—Ç–æ–ª—å —Å–∏–ª—å–Ω–æ –∏ –≤—Å—ë –µ—â—ë –ø–æ–∑–≤–æ–ª—è—é—Ç –Ω–µ–∫–æ—Ç–æ—Ä–æ–µ —É—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –∏–∑–±—ã—Ç–æ—á–Ω–æ—Å—Ç–∏ ‚Äî –Ω–æ –∫–∞–∂–¥–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–ª–∏–º–æ—Ä—Ñ–Ω–æ–≥–æ —Ç–∏–ø–∞ –≤—Å—ë –µ—â—ë –Ω–µ—Å–∫–æ–ª—å–∫–æ –º–µ–¥–ª–µ–Ω–Ω–µ–µ, —á–µ–º –º–æ–Ω–æ–º–æ—Ä—Ñ–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–∞ (–∫–æ—Ç–æ—Ä–∞—è –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –æ–¥–Ω—É —Ñ–æ—Ä–º—É). –®—Ç—Ä–∞—Ñ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –∑–∞ –ø—Ä–æ–≤–µ—Ä–∫—É –ø–æ–ª–∏–º–æ—Ä—Ñ–Ω–æ–≥–æ —Ç–∏–ø–∞ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —Ç–æ–≥–æ, –Ω–∞—Å–∫–æ–ª—å–∫–æ —Ö–æ—Ä–æ—à–æ –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —É—Å–ª–æ–≤–Ω—ã–µ –≤–µ—Ç–≤–ª–µ–Ω–∏—è;</p>
</li>
<li>
<p>–≤—ã—Å–æ–∫–æ –ø–æ–ª–∏–º–æ—Ä—Ñ–Ω—ã–µ/–º–µ–≥–∞–º–æ—Ä—Ñ–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –≤–æ–æ–±—â–µ –Ω–µ —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä—É—é—Ç—Å—è –∏ –ø—Ä–∏–≤–æ–¥—è—Ç –∫ –≤—ã–ø—É—Å–∫—É –æ–±—â–µ–π –æ–ø–µ—Ä–∞—Ü–∏–∏ –∫–∞–∫ —á–∞—Å—Ç–∏ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ IR. –≠—Ç–∞ –æ–±—â–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è ‚Äî –≤—ã–∑–æ–≤ ‚Äî —Å–æ –≤—Å–µ–º–∏ —Å–≤—è–∑–∞–Ω–Ω—ã–º–∏ —Å —ç—Ç–∏–º –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–º–∏ –ø–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è–º–∏ –∫–∞–∫ –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–π, —Ç–∞–∫ –∏ –¥–ª—è –ø—Ä—è–º–æ–π –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–∞.</p>
</li>
</ul>
<p>–ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –Ω–∞ —ç—Ç–æ—Ç –º–∏–∫—Ä–æ–±–µ–Ω—á–º–∞—Ä–∫, –ø—ã—Ç–∞—é—â–∏–π—Å—è —É–ª–æ–≤–∏—Ç—å —Ä–∞–∑–Ω–∏—Ü—É –º–µ–∂–¥—É –≤—Å–µ–º–∏ —ç—Ç–∏–º–∏ —Å–ª—É—á–∞—è–º–∏ –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ —Å–≤–æ–π—Å—Ç–≤—É: –º–æ–Ω–æ–º–æ—Ä—Ñ–Ω—ã–π, –ø–æ–ª–∏–º–æ—Ä—Ñ–Ω—ã–π —Å —Å–æ–≤–ø–∞–¥–∞—é—â–∏–º–∏ —Å–º–µ—â–µ–Ω–∏—è–º–∏ —Å–≤–æ–π—Å—Ç–≤ (—Ç—Ä–µ–±—É–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫—É –ø–æ–ª–∏–º–æ—Ä—Ñ–Ω–æ–≥–æ —Ç–∏–ø–∞), –ø–æ–ª–∏–º–æ—Ä—Ñ–Ω—ã–π —Å —Ä–∞–∑–Ω—ã–º–∏ —Å–º–µ—â–µ–Ω–∏—è–º–∏ —Å–≤–æ–π—Å—Ç–≤ (—Ç—Ä–µ–±—É–µ—Ç –¥–µ—Ä–µ–≤–æ —Ä–µ—à–µ–Ω–∏–π), –º–µ–≥–∞–º–æ—Ä—Ñ–Ω—ã–π.</p>
<h2 id="–ù–µ-–æ–±—Å—É–∂–¥–∞–ª–æ—Å—å"><a class="header" href="#–ù–µ-–æ–±—Å—É–∂–¥–∞–ª–æ—Å—å">–ù–µ –æ–±—Å—É–∂–¥–∞–ª–æ—Å—å</a></h2>
<p>–Ø –Ω–∞–º–µ—Ä–µ–Ω–Ω–æ –∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞–ª –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –¥–µ—Ç–∞–ª–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –ø—Ä–∏ –Ω–∞–ø–∏—Å–∞–Ω–∏–∏ —ç—Ç–æ–π —Å—Ç–∞—Ç—å–∏, —á—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å –∏–∑–ª–∏—à–Ω–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω–æ–≥–æ –æ–±—ä—ë–º–∞.</p>
<h3 id="–§–æ—Ä–º—ã"><a class="header" href="#–§–æ—Ä–º—ã">–§–æ—Ä–º—ã</a></h3>
<p>–ú—ã –≤–æ–æ–±—â–µ –Ω–µ –æ–±—Å—É–∂–¥–∞–ª–∏, –∫–∞–∫ —Ñ–æ—Ä–º—ã (—Ç–∞–∫–∂–µ –∏–∑–≤–µ—Å—Ç–Ω—ã–µ –∫–∞–∫ —Å–∫—Ä—ã—Ç—ã–µ –∫–ª–∞—Å—Å—ã) –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω—ã, –≤—ã—á–∏—Å–ª—è—é—Ç—Å—è –∏ –ø—Ä–∏–∫—Ä–µ–ø–ª—è—é—Ç—Å—è –∫ –æ–±—ä–µ–∫—Ç–∞–º. –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –º–æ—é —Å—Ç–∞—Ç—å—é –æ–± inline cache'–∞—Ö, –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –º–æ–∏ –¥–æ–∫–ª–∞–¥—ã, –Ω–∞–ø—Ä–∏–º–µ—Ä, AWP2014, —á—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å –±–∞–∑–æ–≤–æ–µ –ø–æ–Ω–∏–º–∞–Ω–∏–µ.</p>
<p>–û–¥–Ω–∞ –≤–∞–∂–Ω–∞—è –≤–µ—â—å, –∫–æ—Ç–æ—Ä—É—é –Ω—É–∂–Ω–æ –ø–æ–Ω–∏–º–∞—Ç—å, —ç—Ç–æ —á—Ç–æ –ø–æ–Ω—è—Ç–∏–µ <em>—Ñ–æ—Ä–º—ã</em> –≤ JavaScript VM ‚Äî —ç—Ç–æ —ç–≤—Ä–∏—Å—Ç–∏—á–µ—Å–∫–æ–µ –ø—Ä–∏–±–ª–∏–∂–µ–Ω–∏–µ. –≠—Ç–æ –ø–æ–ø—ã—Ç–∫–∞ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –∞–ø–ø—Ä–æ–∫—Å–∏–º–∏—Ä–æ–≤–∞—Ç—å —Å—Ç–∞—Ç–∏—á–µ—Å–∫—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É, —Å–∫—Ä—ã—Ç—É—é –≤ –ø—Ä–æ–≥—Ä–∞–º–º–µ. –í–µ—â–∏, –∫–æ—Ç–æ—Ä—ã–µ –∏–º–µ—é—Ç –æ–¥–Ω—É —Ñ–æ—Ä–º—É –¥–ª—è —á–µ–ª–æ–≤–µ–∫–∞, –º–æ–≥—É—Ç –Ω–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –∏–º–µ—Ç—å –æ–¥–Ω—É —Ñ–æ—Ä–º—É –¥–ª—è VM:</p>
<p>–°–ª–æ–≤–∞—Ä–Ω–∞—è –ø—Ä–∏—Ä–æ–¥–∞ –æ–±—ä–µ–∫—Ç–æ–≤ JavaScript —Ç–∞–∫–∂–µ –æ–±–ª–µ–≥—á–∞–µ—Ç —Å–æ–∑–¥–∞–Ω–∏–µ <em>—Å–ª—É—á–∞–π–Ω–æ–≥–æ</em> –ø–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º–∞:</p>
<h3 id="–ü—Ä–µ–¥–Ω–∞–º–µ—Ä–µ–Ω–Ω—ã–π-–ø–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º"><a class="header" href="#–ü—Ä–µ–¥–Ω–∞–º–µ—Ä–µ–Ω–Ω—ã–π-–ø–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º">–ü—Ä–µ–¥–Ω–∞–º–µ—Ä–µ–Ω–Ω—ã–π –ø–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º</a></h3>
<p>–î–∞–∂–µ –µ—Å–ª–∏ –≤—ã –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä—É–µ—Ç–µ –Ω–∞ —è–∑—ã–∫–µ, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∑–≤–æ–ª—è–µ—Ç –≤–∞–º —Ç–æ–ª—å–∫–æ –∏–Ω—Å—Ç–∞–Ω—Ü–∏—Ä–æ–≤–∞—Ç—å –æ–±—ä–µ–∫—Ç—ã —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–π —Ñ–æ—Ä–º—ã (Java, C#, Dart, C++, –∏ —Ç.–¥.) –∏–∑ –∂—ë—Å—Ç–∫–∏—Ö –∫–ª–∞—Å—Å–æ–≤, –≤—ã –≤—Å—ë –µ—â—ë –º–æ–∂–µ—Ç–µ –ø–∏—Å–∞—Ç—å –ø–æ–ª–∏–º–æ—Ä—Ñ–Ω—ã–π –∫–æ–¥:</p>
<p>–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø–∏—Å–∞—Ç—å –∫–æ–¥ –ø—Ä–æ—Ç–∏–≤ <em>–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞</em> –∏ –∏–º–µ—Ç—å —ç—Ç–æ—Ç –∫–æ–¥ –ø—Ä–æ—Ü–µ—Å—Å–∞ –æ–±—ä–µ–∫—Ç–æ–≤ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö <em>—Ä–µ–∞–ª–∏–∑–∞—Ü–∏–π</em> ‚Äî —ç—Ç–æ –≤–∞–∂–Ω—ã–π –º–µ—Ö–∞–Ω–∏–∑–º –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–∏. –ü–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º –≤ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏ —Ç–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —è–∑—ã–∫–∞—Ö –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è –∏–º–µ–µ—Ç —Å—Ö–æ–¥–Ω—ã–µ –ø–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è –¥–ª—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ —Å —Ç–µ–º–∏, —á—Ç–æ –æ–±—Å—É–∂–¥–∞–ª–∏—Å—å –≤—ã—à–µ.</p>
<p>[–Ω–µ—É–¥–∏–≤–∏—Ç–µ–ª—å–Ω–æ, —á—Ç–æ JVM'—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç inline cache'–∏ –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –≤—ã–∑–æ–≤–æ–≤ <code>invokeinterface</code> –∏ <code>invokevirtual</code>]</p>
<h3 id="–ù–µ-–≤—Å–µ-–∫—ç—à–∏-–æ–¥–∏–Ω–∞–∫–æ–≤—ã"><a class="header" href="#–ù–µ-–≤—Å–µ-–∫—ç—à–∏-–æ–¥–∏–Ω–∞–∫–æ–≤—ã">–ù–µ –≤—Å–µ –∫—ç—à–∏ –æ–¥–∏–Ω–∞–∫–æ–≤—ã</a></h3>
<p>–ú–æ–∂–µ—Ç –±—ã—Ç—å —Ö–æ—Ä–æ—à–µ–π –∏–¥–µ–µ–π –ø–æ–º–Ω–∏—Ç—å, —á—Ç–æ –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –∫—ç—à–∏ –Ω–µ –æ—Å–Ω–æ–≤–∞–Ω—ã –Ω–∞ —Ñ–æ—Ä–º–∞—Ö –∏/–∏–ª–∏ –∏–º–µ—é—Ç –±–æ–ª–µ–µ –Ω–∏–∑–∫—É—é <em>—ë–º–∫–æ—Å—Ç—å</em>, —á–µ–º –¥—Ä—É–≥–∏–µ. –ù–∞–ø—Ä–∏–º–µ—Ä, –∫—ç—à, —Å–≤—è–∑–∞–Ω–Ω—ã–π —Å –≤—ã–∑–æ–≤–æ–º —Ñ—É–Ω–∫—Ü–∏–∏, —è–≤–ª—è–µ—Ç—Å—è –ª–∏–±–æ –Ω–µ–∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–º, –º–æ–Ω–æ–º–æ—Ä—Ñ–Ω—ã–º, –ª–∏–±–æ –º–µ–≥–∞–º–æ—Ä—Ñ–Ω—ã–º –±–µ–∑ –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω–æ–≥–æ –ø–æ–ª–∏–º–æ—Ä—Ñ–Ω–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è. –í–º–µ—Å—Ç–æ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è —Ñ–æ—Ä–º—ã —Ñ—É–Ω–∫—Ü–∏–∏, –∫–æ—Ç–æ—Ä–∞—è –Ω–µ –∏–º–µ–µ—Ç –æ—Ç–Ω–æ—à–µ–Ω–∏—è –∫ –≤—ã–∑–æ–≤—É, –æ–Ω–∞ –∫—ç—à–∏—Ä—É–µ—Ç <em>—Ü–µ–ª–µ–≤–æ–π –≤—ã–∑–æ–≤</em> ‚Äî —Ç–æ –µ—Å—Ç—å —Å–∞–º—É —Ñ—É–Ω–∫—Ü–∏—é.</p>
<p>–ï—Å–ª–∏ <code>inv</code> –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–∞, –∫–æ–≥–¥–∞ inline cache –¥–ª—è –≤—ã–∑–æ–≤–∞ <code>cb(...)</code> –º–æ–Ω–æ–º–æ—Ä—Ñ–µ–Ω, —Ç–æ –æ–ø—Ç–∏–º–∏–∑–∏—Ä—É—é—â–∏–π –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–æ –º–æ–∂–µ—Ç –≤—Å—Ç—Ä–æ–∏—Ç—å —ç—Ç–æ—Ç –≤—ã–∑–æ–≤ (—á—Ç–æ –æ—á–µ–Ω—å –≤–∞–∂–Ω–æ –¥–ª—è –º–∞–ª–µ–Ω—å–∫–∏—Ö —Ñ—É–Ω–∫—Ü–∏–π –Ω–∞ –≥–æ—Ä—è—á–∏—Ö –ø—É—Ç—è—Ö). –ö–æ–≥–¥–∞ —ç—Ç–æ—Ç –∫—ç—à –º–µ–≥–∞–º–æ—Ä—Ñ–µ–Ω, –æ–ø—Ç–∏–º–∏–∑–∞—Ç–æ—Ä –Ω–µ —Å–º–æ–∂–µ—Ç –≤—Å—Ç—Ä–æ–∏—Ç—å —á—Ç–æ-–ª–∏–±–æ (–æ–Ω –Ω–µ –∑–Ω–∞–µ—Ç <em>—á—Ç–æ</em> ‚Äî —Ç–∞–∫ –∫–∞–∫ –Ω–µ—Ç –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–π —Ü–µ–ª–∏) –∏ –ø—Ä–æ—Å—Ç–æ –æ—Å—Ç–∞–≤–∏—Ç –æ–±—â—É—é –æ–ø–µ—Ä–∞—Ü–∏—é –≤—ã–∑–æ–≤–∞ –≤ IR.</p>
<p>–≠—Ç–æ –∫–æ–Ω—Ç—Ä–∞—Å—Ç–∏—Ä—É–µ—Ç —Å –≤—ã—Ä–∞–∂–µ–Ω–∏—è–º–∏ –≤—ã–∑–æ–≤–∞ –º–µ—Ç–æ–¥–∞ <code>o.m(...)</code>, –∫–æ—Ç–æ—Ä—ã–µ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ –¥–æ—Å—Ç—É–ø–∞–º –∫ —Å–≤–æ–π—Å—Ç–≤–∞–º. IC'–∏ –≤ —Ç–æ—á–∫–∞—Ö –≤—ã–∑–æ–≤–∞ –º–µ—Ç–æ–¥–∞ –∏–º–µ—é—Ç –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω–æ–µ –ø–æ–ª–∏–º–æ—Ä—Ñ–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –º–µ–∂–¥—É –º–æ–Ω–æ–º–æ—Ä—Ñ–Ω—ã–º –∏ –º–µ–≥–∞–º–æ—Ä—Ñ–Ω—ã–º —Å–æ—Å—Ç–æ—è–Ω–∏—è–º–∏. V8 —Å–ø–æ—Å–æ–±–µ–Ω –≤—Å—Ç—Ä–∞–∏–≤–∞—Ç—å –≤ –º–æ–Ω–æ–º–æ—Ä—Ñ–Ω—ã–µ, –ø–æ–ª–∏–º–æ—Ä—Ñ–Ω—ã–µ –∏ –º–µ–≥–∞–º–æ—Ä—Ñ–Ω—ã–µ —Ç–æ—á–∫–∏, –∏ –æ–Ω —Å—Ç—Ä–æ–∏—Ç IR —Ç–∞–∫–∏–º –∂–µ –æ–±—Ä–∞–∑–æ–º, –∫–∞–∫ –¥–ª—è —Å–≤–æ–π—Å—Ç–≤: –≤—ã–±–∏—Ä–∞—è –º–µ–∂–¥—É –¥–µ—Ä–µ–≤–æ–º —Ä–µ—à–µ–Ω–∏–π –∏–ª–∏ –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–π –ø—Ä–æ–≤–µ—Ä–∫–æ–π –ø–æ–ª–∏–º–æ—Ä—Ñ–Ω–æ–≥–æ —Ç–∏–ø–∞ –ø–µ—Ä–µ–¥ —Ç–µ–ª–æ–º –≤—Å—Ç—Ä–æ–µ–Ω–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–∏. –û–¥–Ω–∞–∫–æ –µ—Å—Ç—å –æ–¥–Ω–æ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ: —á—Ç–æ–±—ã V8 –º–æ–≥ –≤—Å—Ç—Ä–æ–∏—Ç—å –≤—ã–∑–æ–≤ –º–µ—Ç–æ–¥–∞, –µ–º—É –Ω—É–∂–Ω–æ, —á—Ç–æ–±—ã <em>—ç—Ç–æ –±—ã–ª–æ —á–∞—Å—Ç—å—é —Ñ–æ—Ä–º—ã</em>.</p>
<p>[–≤ –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ <code>o.m(...)</code> –∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç—Å—è –≤ –¥–≤–∞ IC'–∏: –æ–¥–∏–Ω <code>LoadIC</code>, –∫–æ—Ç–æ—Ä—ã–π –≤—ã–ø–æ–ª–Ω—è–µ—Ç –∑–∞–≥—Ä—É–∑–∫—É —Å–≤–æ–π—Å—Ç–≤–∞, –∏ –¥—Ä—É–≥–æ–π <code>CallIC</code>, –∫–æ—Ç–æ—Ä—ã–π –≤—ã–∑—ã–≤–∞–µ—Ç –∑–∞–≥—Ä—É–∂–µ–Ω–Ω–æ–µ —Å–≤–æ–π—Å—Ç–≤–æ —Å –Ω–∞–¥–ª–µ–∂–∞—â–∏–º –ø–æ–ª—É—á–∞—Ç–µ–ª–µ–º –∏ –∞—Ä–≥—É–º–µ–Ω—Ç–∞–º–∏. <code>CallIC</code> ‚Äî —ç—Ç–æ —Ç–æ—Ç –∂–µ –≤–∏–¥ IC, –∫–æ—Ç–æ—Ä—ã–π –æ–ø–∏—Å–∞–Ω –≤—ã—à–µ –¥–ª—è –≤—ã–∑–æ–≤–æ–≤ –≤—Ä–æ–¥–µ <code>cb(...)</code>. –û–Ω —Å–ø–æ—Å–æ–±–µ–Ω –∑–∞–ø–∏—Å—ã–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ –º–æ–Ω–æ–º–æ—Ä—Ñ–Ω–æ–µ –∏–ª–∏ –º–µ–≥–∞–º–æ—Ä—Ñ–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ. –í–æ—Ç –ø–æ—á–µ–º—É –µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∏–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç—Å—è –ø—Ä–∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –≤—ã–∑–æ–≤–∞ –º–µ—Ç–æ–¥–∞ –∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ —Å–æ—Å—Ç–æ—è–Ω–∏–µ IC'–∞ –∑–∞–≥—Ä—É–∑–∫–∏ —Å–≤–æ–π—Å—Ç–≤–∞]</p>
<p>–ú–æ–∂–µ—Ç –±—ã—Ç—å —É–¥–∏–≤–∏—Ç–µ–ª—å–Ω–æ, —á—Ç–æ <code>f</code> –∏ <code>g</code> –∏–º–µ—é—Ç —Ä–∞–∑–Ω—ã–µ —Ñ–æ—Ä–º—ã –≤—ã—à–µ. –≠—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø–æ—Ç–æ–º—É, —á—Ç–æ –∫–æ–≥–¥–∞ –º—ã –ø—Ä–∏—Å–≤–∞–∏–≤–∞–µ–º —Ñ—É–Ω–∫—Ü–∏—é —Å–≤–æ–π—Å—Ç–≤—É, V8 –ø—ã—Ç–∞–µ—Ç—Å—è (–µ—Å–ª–∏ –≤–æ–∑–º–æ–∂–Ω–æ) –ø—Ä–∏–∫—Ä–µ–ø–∏—Ç—å –µ—ë –∫ —Ñ–æ—Ä–º–µ –æ–±—ä–µ–∫—Ç–∞ –≤–º–µ—Å—Ç–æ —Ç–æ–≥–æ, —á—Ç–æ–±—ã —Å–æ—Ö—Ä–∞–Ω—è—Ç—å –µ—ë –Ω–µ–ø–æ—Å—Ä–µ–¥—Å—Ç–≤–µ–Ω–Ω–æ –Ω–∞ –æ–±—ä–µ–∫—Ç–µ. –í —ç—Ç–æ–º –ø—Ä–∏–º–µ—Ä–µ <code>f</code> –∏–º–µ–µ—Ç —Ñ–æ—Ä–º—É –≤—Ä–æ–¥–µ <code>{cb: F}</code>, —Ç–æ –µ—Å—Ç—å —Å–∞–º–∞ —Ñ–æ—Ä–º–∞ —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞–ø—Ä—è–º—É—é –Ω–∞ –∑–∞–º—ã–∫–∞–Ω–∏–µ. –í –Ω–∞—à–∏—Ö –ø—Ä–µ–¥—ã–¥—É—â–∏—Ö –ø—Ä–∏–º–µ—Ä–∞—Ö —É –Ω–∞—Å –±—ã–ª–∏ —Ç–æ–ª—å–∫–æ —Ñ–æ—Ä–º—ã, –∫–æ—Ç–æ—Ä—ã–µ –ø—Ä–æ—Å—Ç–æ –æ–±—ä—è–≤–ª—è–ª–∏ –Ω–∞–ª–∏—á–∏–µ —Å–≤–æ–π—Å—Ç–≤–∞ –Ω–∞ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–º —Å–º–µ—â–µ–Ω–∏–∏, –æ–¥–Ω–∞–∫–æ —ç—Ç–∞ —Ñ–æ—Ä–º–∞ —Ç–∞–∫–∂–µ –∑–∞—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ —Å–≤–æ–π—Å—Ç–≤–∞. –≠—Ç–æ –¥–µ–ª–∞–µ—Ç —Ñ–æ—Ä–º—ã V8 –ø–æ—Ö–æ–∂–∏–º–∏ –Ω–∞ –∫–ª–∞—Å—Å—ã –≤ —è–∑—ã–∫–µ –≤—Ä–æ–¥–µ Java –∏–ª–∏ C++, –≥–¥–µ –∫–ª–∞—Å—Å –ø–æ —Å—É—Ç–∏ —è–≤–ª—è–µ—Ç—Å—è –Ω–∞–±–æ—Ä–æ–º <em>–ø–æ–ª–µ–π</em> <strong>–∏ –º–µ—Ç–æ–¥–æ–≤</strong>.</p>
<p>–ö–æ–Ω–µ—á–Ω–æ, –µ—Å–ª–∏ –≤—ã –ø–æ–∑–∂–µ –ø–µ—Ä–µ–ø–∏—à–µ—Ç–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ —Å–≤–æ–π—Å—Ç–≤–æ –¥—Ä—É–≥–æ–π —Ñ—É–Ω–∫—Ü–∏–µ–π, V8 —Ä–µ—à–∞–µ—Ç, —á—Ç–æ —ç—Ç–æ –Ω–µ –≤—ã–≥–ª—è–¥–∏—Ç –∫–∞–∫ –æ—Ç–Ω–æ—à–µ–Ω–∏–µ –∫–ª–∞—Å—Å-–º–µ—Ç–æ–¥, –∏ –ø–µ—Ä–µ–∫–ª—é—á–∞–µ—Ç—Å—è –Ω–∞ —Ñ–æ—Ä–º—É, –∫–æ—Ç–æ—Ä–∞—è –æ—Ç—Ä–∞–∂–∞–µ—Ç —ç—Ç–æ:</p>
<p>–í —Ü–µ–ª–æ–º, —Ç–µ–º–∞ —Ç–æ–≥–æ, –∫–∞–∫ V8 —Å—Ç—Ä–æ–∏—Ç –∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Ñ–æ—Ä–º—ã (—Å–∫—Ä—ã—Ç—ã–µ –∫–ª–∞—Å—Å—ã), –¥–æ—Å—Ç–æ–π–Ω–∞ –æ—Ç–¥–µ–ª—å–Ω–æ–π –±–æ–ª—å—à–æ–π —Å—Ç–∞—Ç—å–∏ —Å–∞–º–∞ –ø–æ —Å–µ–±–µ.</p>
<h3 id="–ü—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ-–ø—É—Ç–∏-–∫-—Å–≤–æ–π—Å—Ç–≤—É"><a class="header" href="#–ü—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ-–ø—É—Ç–∏-–∫-—Å–≤–æ–π—Å—Ç–≤—É">–ü—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ <em>–ø—É—Ç–∏-–∫-—Å–≤–æ–π—Å—Ç–≤—É</em></a></h3>
<p>–ù–∞ —ç—Ç–æ–º —ç—Ç–∞–ø–µ –º–æ–∂–µ—Ç –ø–æ–∫–∞–∑–∞—Ç—å—Å—è, —á—Ç–æ IC, —Å–≤—è–∑–∞–Ω–Ω—ã–π —Å–æ —Å–≤–æ–π—Å—Ç–≤–æ–º <code>o.x</code>, ‚Äî —ç—Ç–æ –ø—Ä–æ—Å—Ç–æ —Å–ª–æ–≤–∞—Ä—å, –æ—Ç–æ–±—Ä–∞–∂–∞—é—â–∏–π —Ñ–æ—Ä–º—ã –Ω–∞ —Å–º–µ—â–µ–Ω–∏—è —Å–≤–æ–π—Å—Ç–≤, —á—Ç–æ-—Ç–æ –≤—Ä–æ–¥–µ <code>Dictionary&lt;Shape, int&gt;</code>. –û–¥–Ω–∞–∫–æ —ç—Ç–æ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ —Å–ª–∏—à–∫–æ–º —É–∑–∫–æ, —á—Ç–æ–±—ã –±—ã—Ç—å –ø–æ–ª–µ–∑–Ω—ã–º: —Å–≤–æ–π—Å—Ç–≤–æ –º–æ–∂–µ—Ç –Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è –Ω–∞ –æ–¥–Ω–æ–º –∏–∑ –æ–±—ä–µ–∫—Ç–æ–≤ –≤ —Ü–µ–ø–∏ –ø—Ä–æ—Ç–æ—Ç–∏–ø–æ–≤ –∏–ª–∏ –±—ã—Ç—å <em>—Å–≤–æ–π—Å—Ç–≤–æ–º –∞–∫—Å–µ—Å—Å–æ—Ä–∞</em> (—Ç–∞–∫–∏–º, –∫–æ—Ç–æ—Ä–æ–µ –∏–º–µ–µ—Ç getter –∏/–∏–ª–∏ setter). –ò–Ω—Ç–µ—Ä–µ—Å–Ω–æ–µ –Ω–∞–±–ª—é–¥–µ–Ω–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å –∑–¥–µ—Å—å, —ç—Ç–æ —á—Ç–æ —Å–≤–æ–π—Å—Ç–≤–∞ –∞–∫—Å–µ—Å—Å–æ—Ä–∞ –≤ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–º —Å–º—ã—Å–ª–µ –±–æ–ª–µ–µ –æ–±—â–∏–µ, —á–µ–º –Ω–æ—Ä–º–∞–ª—å–Ω—ã–µ —Å–≤–æ–π—Å—Ç–≤–∞ –¥–∞–Ω–Ω—ã—Ö.</p>
<p>–ù–∞–ø—Ä–∏–º–µ—Ä, <code>o = {x: 1}</code> –º–æ–∂–µ—Ç –±—ã—Ç—å –≤–æ—Å–ø—Ä–∏–Ω—è—Ç–æ –∫–∞–∫ –æ–±—ä–µ–∫—Ç —Å–æ —Å–≤–æ–π—Å—Ç–≤–æ–º –∞–∫—Å–µ—Å—Å–æ—Ä–∞ <code>x</code>, –∫–æ—Ç–æ—Ä–æ–µ –∏–º–µ–µ—Ç getter/setter, –æ–±—Ä–∞—â–∞—é—â–∏–µ—Å—è –∫ —Å–∫—Ä—ã—Ç–æ–º—É –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–º—É —Å–ª–æ—Ç—É, –∏—Å–ø–æ–ª—å–∑—É—è –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ VM'–∞:</p>
<p>[Dart VM —Ä–µ–∞–ª–∏–∑—É–µ—Ç –¥–æ—Å—Ç—É–ø –∫ –ø–æ–ª—è–º —Ç–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º]</p>
<p>–í —Å–≤–µ—Ç–µ —ç—Ç–æ–≥–æ –Ω–∞–±–ª—é–¥–µ–Ω–∏—è —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è —è—Å–Ω–æ, —á—Ç–æ IC –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –±–æ–ª–µ–µ –ø–æ—Ö–æ–∂ –Ω–∞ <code>Dictionary&lt;Shape, Function&gt;</code>: –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ñ–æ—Ä–º –Ω–∞ —Ñ—É–Ω–∫—Ü–∏–∏ –∞–∫—Å–µ—Å—Å–æ—Ä–∞, –∫–æ—Ç–æ—Ä—ã–µ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω—ã, –µ—Å–ª–∏ IC –ø–æ–ø–∞–¥–∞–µ—Ç. –¢–∞–∫–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ IC –ø–æ–∑–≤–æ–ª–∏–ª–æ –±—ã –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Å–ª—É—á–∞–∏, –∫–æ—Ç–æ—Ä—ã–µ –±—ã–ª–∏ –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ –ø–æ–∫—Ä—ã—Ç—å —Å –ø–æ–º–æ—â—å—é —É–ø—Ä–æ—â—ë–Ω–Ω–æ–≥–æ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è –∏–∑ –≤—ã—à–µ (—Å–≤–æ–π—Å—Ç–≤–∞ –≤ —Ü–µ–ø–∏ –ø—Ä–æ—Ç–æ—Ç–∏–ø–æ–≤, —Å–≤–æ–π—Å—Ç–≤–∞ –∞–∫—Å–µ—Å—Å–æ—Ä–∞ –∏ –¥–∞–∂–µ –æ–±—ä–µ–∫—Ç—ã ES6 proxy).</p>
<p>[–≤ –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ IC'–∏ V8 ‚Äî —ç—Ç–æ –ø—Ä–æ–ø–∞—Ç—á–µ–Ω–Ω—ã–µ —Ç–æ—á–∫–∏ –≤—ã–∑–æ–≤–∞, –∫–æ—Ç–æ—Ä—ã–µ –≤—ã–∑—ã–≤–∞—é—Ç —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ —Å–æ–∑–¥–∞–Ω–Ω—ã–µ –¥–ª—è IC runtime stub'—ã, —Å–º. —ç—Ç—É —Å—Ç–∞—Ç—å—é –¥–ª—è –±–æ–ª–µ–µ —Ç–æ—á–Ω–æ–π –∞–Ω–∞–ª–æ–≥–∏–∏]</p>
<h3 id="–°–æ—Å—Ç–æ—è–Ω–∏–µ-–¥–æ-–º–æ–Ω–æ–º–æ—Ä—Ñ–∏–∑–º–∞"><a class="header" href="#–°–æ—Å—Ç–æ—è–Ω–∏–µ-–¥–æ-–º–æ–Ω–æ–º–æ—Ä—Ñ–∏–∑–º–∞">–°–æ—Å—Ç–æ—è–Ω–∏–µ –¥–æ –º–æ–Ω–æ–º–æ—Ä—Ñ–∏–∑–º–∞</a></h3>
<p>–ù–µ–∫–æ—Ç–æ—Ä—ã–µ IC'–∏ –≤ V8 —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∏ –∏–º–µ—é—Ç —Ç–∞–∫ –Ω–∞–∑—ã–≤–∞–µ–º–æ–µ <em>—Å–æ—Å—Ç–æ—è–Ω–∏–µ –¥–æ –º–æ–Ω–æ–º–æ—Ä—Ñ–∏–∑–º–∞</em> –º–µ–∂–¥—É <em>–Ω–µ–∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–º</em> –∏ <em>–º–æ–Ω–æ–º–æ—Ä—Ñ–Ω—ã–º</em>. –û–Ω–æ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç, —á—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å –∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞–Ω–∏—è IC stub'–æ–≤ –¥–ª—è IC'–µ–π, –∫–æ—Ç–æ—Ä—ã–µ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —Ä–∞–∑. –Ø —Ä–µ—à–∏–ª –∏–∑–±–µ–∂–∞—Ç—å –æ–±—Å—É–∂–¥–µ–Ω–∏—è —ç—Ç–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è, –ø–æ—Ç–æ–º—É —á—Ç–æ —ç—Ç–æ –¥–æ–≤–æ–ª—å–Ω–æ –Ω–µ—è—Å–Ω–∞—è –¥–µ—Ç–∞–ª—å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏.</p>
<h2 id="–§–∏–Ω–∞–ª—å–Ω—ã–π-—Å–æ–≤–µ—Ç-–ø–æ-–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏"><a class="header" href="#–§–∏–Ω–∞–ª—å–Ω—ã–π-—Å–æ–≤–µ—Ç-–ø–æ-–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏">–§–∏–Ω–∞–ª—å–Ω—ã–π —Å–æ–≤–µ—Ç –ø–æ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏</a></h2>
<p>–õ—É—á—à–∏–π —Å–æ–≤–µ—Ç –ø–æ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ —Å–∫—Ä—ã—Ç –≤ –Ω–∞–∑–≤–∞–Ω–∏–∏ –∫–Ω–∏–≥–∏ –î–µ–π–ª–∞ –ö–∞—Ä–Ω–µ–≥–∏ "–ö–∞–∫ –ø–µ—Ä–µ—Å—Ç–∞—Ç—å –±–µ—Å–ø–æ–∫–æ–∏—Ç—å—Å—è –∏ –Ω–∞—á–∞—Ç—å –∂–∏—Ç—å".</p>
<p>–î–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ, –±–µ—Å–ø–æ–∫–æ–π—Å—Ç–≤–æ –æ –ø–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º–µ –æ–±—ã—á–Ω–æ –±–µ—Å–ø–æ–ª–µ–∑–Ω–æ. –í–º–µ—Å—Ç–æ —ç—Ç–æ–≥–æ –ø—Ä–æ—Ñ–∏–ª–∏—Ä—É–π—Ç–µ –≤–∞—à –∫–æ–¥ –Ω–∞ —Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω–æ–º –Ω–∞–±–æ—Ä–µ –¥–∞–Ω–Ω—ã—Ö, –∏—â–∏—Ç–µ –≥–æ—Ä—è—á–∏–µ —Ç–æ—á–∫–∏ –∏ –µ—Å–ª–∏ –∫–∞–∫–∏–µ-–ª–∏–±–æ –∏–∑ –Ω–∏—Ö —Å–≤—è–∑–∞–Ω—ã —Å JS ‚Äî –ø–æ—Å–º–æ—Ç—Ä–∏—Ç–µ IR, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç –æ–ø—Ç–∏–º–∏–∑–∏—Ä—É—é—â–∏–π –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä.</p>
<p>–ï—Å–ª–∏ –≤ —Å–µ—Ä–µ–¥–∏–Ω–µ –≤–∞—à–µ–≥–æ –ø–ª–æ—Ç–Ω–æ–≥–æ —Ü–∏–∫–ª–∞ –≤—ã—á–∏—Å–ª–µ–Ω–∏–π —á–∏—Å–ª–∞ –≤—ã –≤–∏–¥–∏—Ç–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—é IR, –Ω–∞–∑—ã–≤–∞–µ–º—É—é <code>XYZGeneric</code>, –∏–ª–∏ —á—Ç–æ-–ª–∏–±–æ –æ—Ç–º–µ—á–µ–Ω–Ω–æ–µ –∫—Ä–∞—Å–Ω–æ–π –º–µ—Ç–∫–æ–π <code>changes[*]</code> (—Ç.–µ. "–∏–∑–º–µ–Ω—è–µ—Ç –≤—Å—ë") ‚Äî —Ç–æ–≥–¥–∞ (—Ç–æ–ª—å–∫–æ —Ç–æ–≥–¥–∞!) —ç—Ç–æ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –≤—Ä–µ–º—è, —á—Ç–æ–±—ã –Ω–∞—á–∞—Ç—å –±–µ—Å–ø–æ–∫–æ–∏—Ç—å—Å—è.</p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="–°—Å—ã–ª–æ—á–Ω–∞—è-–ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å-referential-transparency"><a class="header" href="#–°—Å—ã–ª–æ—á–Ω–∞—è-–ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å-referential-transparency">–°—Å—ã–ª–æ—á–Ω–∞—è –ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å (Referential Transparency)</a></h1>
<h2 id="–§–ü-–û–û–ü-–≤-javascript-–∏-typescript"><a class="header" href="#–§–ü-–û–û–ü-–≤-javascript-–∏-typescript">–§–ü, –û–û–ü –≤ JavaScript –∏ TypeScript</a></h2>
<hr />
<h2 id="–û–≥–ª–∞–≤–ª–µ–Ω–∏–µ"><a class="header" href="#–û–≥–ª–∞–≤–ª–µ–Ω–∏–µ">–û–≥–ª–∞–≤–ª–µ–Ω–∏–µ</a></h2>
<ol>
<li><a href="week1/referential-transparency.html#%D0%B2%D0%B2%D0%B5%D0%B4%D0%B5%D0%BD%D0%B8%D0%B5">–í–≤–µ–¥–µ–Ω–∏–µ</a></li>
<li><a href="week1/referential-transparency.html#%D0%B1%D0%B0%D0%B7%D0%BE%D0%B2%D1%8B%D0%B5-%D0%BA%D0%BE%D0%BD%D1%86%D0%B5%D0%BF%D1%86%D0%B8%D0%B8">–ë–∞–∑–æ–≤—ã–µ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏</a></li>
<li><a href="week1/referential-transparency.html#%D0%BF%D1%80%D0%B8%D0%BC%D0%B5%D0%BD%D0%B5%D0%BD%D0%B8%D0%B5-%D0%B2-%D1%80%D0%B0%D0%B7%D0%BD%D1%8B%D1%85-%D0%BF%D0%B0%D1%80%D0%B0%D0%B4%D0%B8%D0%B3%D0%BC%D0%B0%D1%85">–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –≤ —Ä–∞–∑–Ω—ã—Ö –ø–∞—Ä–∞–¥–∏–≥–º–∞—Ö</a></li>
<li><a href="week1/referential-transparency.html#%D0%BE%D0%BF%D1%82%D0%B8%D0%BC%D0%B8%D0%B7%D0%B0%D1%86%D0%B8%D1%8F-%D0%BA%D0%BE%D0%BC%D0%BF%D0%B8%D0%BB%D1%8F%D1%82%D0%BE%D1%80%D0%B0">–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä–∞</a></li>
<li><a href="week1/referential-transparency.html#%D0%B8%D0%BC%D0%BC%D1%83%D1%82%D0%B0%D0%B1%D0%B5%D0%BB%D1%8C%D0%BD%D0%BE%D1%81%D1%82%D1%8C">–ò–º–º—É—Ç–∞–±–µ–ª—å–Ω–æ—Å—Ç—å</a></li>
<li><a href="week1/referential-transparency.html#copy-on-write-%D1%81%D1%82%D1%80%D0%B0%D1%82%D0%B5%D0%B3%D0%B8%D1%8F">Copy-on-Write —Å—Ç—Ä–∞—Ç–µ–≥–∏—è</a></li>
<li><a href="week1/referential-transparency.html#ownership-%D0%BA%D0%BE%D0%BD%D1%86%D0%B5%D0%BF%D1%86%D0%B8%D1%8F">Ownership –∫–æ–Ω—Ü–µ–ø—Ü–∏—è</a></li>
<li><a href="week1/referential-transparency.html#%D0%BF%D1%80%D0%B0%D0%BA%D1%82%D0%B8%D1%87%D0%B5%D1%81%D0%BA%D0%B8%D0%B5-%D0%BF%D1%80%D0%B8%D0%BC%D0%B5%D1%80%D1%8B">–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–∏–º–µ—Ä—ã</a></li>
<li><a href="week1/referential-transparency.html#%D0%B2%D1%8B%D0%B2%D0%BE%D0%B4%D1%8B">–í—ã–≤–æ–¥—ã</a></li>
</ol>
<hr />
<h2 id="–í–≤–µ–¥–µ–Ω–∏–µ-5"><a class="header" href="#–í–≤–µ–¥–µ–Ω–∏–µ-5">–í–≤–µ–¥–µ–Ω–∏–µ</a></h2>
<p><strong>–°—Å—ã–ª–æ—á–Ω–∞—è –ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å</strong> ‚Äî —ç—Ç–æ —Å–≤–æ–π—Å—Ç–≤–æ –ø—Ä–æ–≥—Ä–∞–º–º–Ω–æ–≥–æ –∫–æ–¥–∞, –∫–æ—Ç–æ—Ä–æ–µ –ø–æ–∑–≤–æ–ª—è–µ—Ç –±–µ–∑–æ–ø–∞—Å–Ω–æ –∑–∞–º–µ–Ω—è—Ç—å –≤—ã—Ä–∞–∂–µ–Ω–∏—è –∏ —Ñ—É–Ω–∫—Ü–∏–∏ –Ω–∞ –∏—Ö –≤—ã—á–∏—Å–ª–µ–Ω–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø–æ–≤–µ–¥–µ–Ω–∏—è –ø—Ä–æ–≥—Ä–∞–º–º—ã.</p>
<h3 id="–ö–ª—é—á–µ–≤–∞—è-–∏–¥–µ—è"><a class="header" href="#–ö–ª—é—á–µ–≤–∞—è-–∏–¥–µ—è">–ö–ª—é—á–µ–≤–∞—è –∏–¥–µ—è</a></h3>
<p>–¢—Ä–∞–¥–∏—Ü–∏–æ–Ω–Ω–æ —Å—Å—ã–ª–æ—á–Ω–∞—è –ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å –∞—Å—Å–æ—Ü–∏–∏—Ä—É–µ—Ç—Å—è —Å <strong>—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–º –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ–º</strong>, –Ω–æ –Ω–∞ —Å–∞–º–æ–º –¥–µ–ª–µ –æ–Ω–∞ –ø—Ä–∏–º–µ–Ω–∏–º–∞ –≤–æ <strong>–≤—Å–µ—Ö –ø–∞—Ä–∞–¥–∏–≥–º–∞—Ö</strong>: –§–ü, –û–û–ü –∏ –ø—Ä–æ—Ü–µ–¥—É—Ä–Ω–æ–º –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–∏.</p>
<h3 id="–û—Å–Ω–æ–≤–Ω–æ–µ-–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ"><a class="header" href="#–û—Å–Ω–æ–≤–Ω–æ–µ-–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ">–û—Å–Ω–æ–≤–Ω–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ</a></h3>
<blockquote>
<p>–ï—Å–ª–∏ —É –Ω–∞—Å –µ—Å—Ç—å –∏–º–º—É—Ç–∞–±–µ–ª—å–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã, —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö, —Ñ—É–Ω–∫—Ü–∏–∏ –∏–ª–∏ –∑–∞–º—ã–∫–∞–Ω–∏—è, –≤ –∫–æ—Ç–æ—Ä—ã—Ö –Ω–µ –∏–∑–º–µ–Ω—è–µ—Ç—Å—è —Å–æ—Å—Ç–æ—è–Ω–∏–µ, —Ç–æ –º—ã –º–æ–∂–µ–º –ø–µ—Ä–µ–¥–∞—Ç—å —Å—Å—ã–ª–∫–∏ –Ω–∞ —ç—Ç–∏ –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–∏ –≤ —Ä–∞–∑–Ω—ã–µ —á–∞—Å—Ç–∏ –ø—Ä–æ–≥—Ä–∞–º–º—ã –∏ –Ω–µ –±–æ—è—Ç—å—Å—è –∫–æ—Ä—Ä–∞–ø—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö.</p>
</blockquote>
<hr />
<h2 id="–ë–∞–∑–æ–≤—ã–µ-–∫–æ–Ω—Ü–µ–ø—Ü–∏–∏"><a class="header" href="#–ë–∞–∑–æ–≤—ã–µ-–∫–æ–Ω—Ü–µ–ø—Ü–∏–∏">–ë–∞–∑–æ–≤—ã–µ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏</a></h2>
<h3 id="1-–ó–∞–º–µ–Ω–∞-–≤—ã—Ä–∞–∂–µ–Ω–∏–π-–Ω–∞-–∑–Ω–∞—á–µ–Ω–∏—è"><a class="header" href="#1-–ó–∞–º–µ–Ω–∞-–≤—ã—Ä–∞–∂–µ–Ω–∏–π-–Ω–∞-–∑–Ω–∞—á–µ–Ω–∏—è">1. –ó–∞–º–µ–Ω–∞ –≤—ã—Ä–∞–∂–µ–Ω–∏–π –Ω–∞ –∑–Ω–∞—á–µ–Ω–∏—è</a></h3>
<p>–í —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–º –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–∏ —Å—Å—ã–ª–æ—á–Ω–∞—è –ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å –æ–∑–Ω–∞—á–∞–µ—Ç –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∑–∞–º–µ–Ω–∏—Ç—å:</p>
<ul>
<li>–í—ã—Ä–∞–∂–µ–Ω–∏–µ –Ω–∞ –µ–≥–æ –≤—ã—á–∏—Å–ª–µ–Ω–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ</li>
<li>–§—É–Ω–∫—Ü–∏—é –Ω–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –µ—ë –≤—ã–∑–æ–≤–∞</li>
<li>–ú–µ–º–æ–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –∏–∑ –∫—ç—à–∞</li>
</ul>
<pre><code class="language-javascript">// –°—Å—ã–ª–æ—á–Ω–æ –ø—Ä–æ–∑—Ä–∞—á–Ω–æ–µ –≤—ã—Ä–∞–∂–µ–Ω–∏–µ
const x = 5 + 3;  // –º–æ–∂–Ω–æ –∑–∞–º–µ–Ω–∏—Ç—å –Ω–∞ 8
const y = x * 2;  // –º–æ–∂–Ω–æ –∑–∞–º–µ–Ω–∏—Ç—å –Ω–∞ 16

// –°—Å—ã–ª–æ—á–Ω–æ –ø—Ä–æ–∑—Ä–∞—á–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è
const add = (a, b) =&gt; a + b;
const result = add(5, 3);  // –º–æ–∂–Ω–æ –∑–∞–º–µ–Ω–∏—Ç—å –Ω–∞ 8
</code></pre>
<h3 id="2-–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–Ω—ã–µ-—Ç–∏–ø—ã"><a class="header" href="#2-–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–Ω—ã–µ-—Ç–∏–ø—ã">2. –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–Ω—ã–µ —Ç–∏–ø—ã</a></h3>
<p>–ï—Å–ª–∏ —Å—Å—ã–ª–∫–∏ –Ω–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–Ω—ã–µ —Ç–∏–ø—ã (–æ–±—ä–µ–∫—Ç—ã, –º–∞—Å—Å–∏–≤—ã) —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–∏–ª–∏—Å—å –ø–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—é, –æ–Ω–∏ –≤—Å–µ–≥–¥–∞ –º–æ–≥—É—Ç –±—ã—Ç—å –∑–∞–º–µ–Ω–µ–Ω—ã –Ω–∞:</p>
<ul>
<li>–ö–æ–Ω–∫—Ä–µ—Ç–Ω–æ–µ –≤—ã—á–∏—Å–ª–µ–Ω–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ</li>
<li>–°—Å—ã–ª–∫—É –Ω–∞ –¥—Ä—É–≥–æ–π –∏–º–º—É—Ç–∞–±–µ–ª—å–Ω—ã–π –æ–±—ä–µ–∫—Ç</li>
</ul>
<pre><code class="language-javascript">// –ò–º–º—É—Ç–∞–±–µ–ª—å–Ω—ã–π –æ–±—ä–µ–∫—Ç - —Å—Å—ã–ª–æ—á–Ω–æ –ø—Ä–æ–∑—Ä–∞—á–Ω—ã–π
const point = Object.freeze({ x: 10, y: 20 });

// –ú–æ–∂–Ω–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ —Ä–∞–∑–Ω—ã—Ö –º–µ—Å—Ç–∞—Ö
function drawPoint(p) { /* ... */ }
function savePoint(p) { /* ... */ }
function logPoint(p) { /* ... */ }

// –í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ –ø–æ–ª—É—á–∞—Ç –æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ
drawPoint(point);
savePoint(point);
logPoint(point);
</code></pre>
<hr />
<h2 id="–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ-–≤-—Ä–∞–∑–Ω—ã—Ö-–ø–∞—Ä–∞–¥–∏–≥–º–∞—Ö"><a class="header" href="#–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ-–≤-—Ä–∞–∑–Ω—ã—Ö-–ø–∞—Ä–∞–¥–∏–≥–º–∞—Ö">–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –≤ —Ä–∞–∑–Ω—ã—Ö –ø–∞—Ä–∞–¥–∏–≥–º–∞—Ö</a></h2>
<h3 id="–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ-–ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ-1"><a class="header" href="#–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ-–ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ-1">–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ</a></h3>
<pre><code class="language-javascript">// –ß–∏—Å—Ç–∞—è —Ñ—É–Ω–∫—Ü–∏—è - —Å—Å—ã–ª–æ—á–Ω–æ –ø—Ä–æ–∑—Ä–∞—á–Ω–∞—è
const multiply = (a, b) =&gt; a * b;

// –ú–æ–∂–Ω–æ –∑–∞–º–µ–Ω–∏—Ç—å –≤—ã–∑–æ–≤ –Ω–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç
const result1 = multiply(3, 4);  // 12
const result2 = 12;  // —ç–∫–≤–∏–≤–∞–ª–µ–Ω—Ç–Ω–æ
</code></pre>
<h3 id="–û–±—ä–µ–∫—Ç–Ω–æ-–æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ-–ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ"><a class="header" href="#–û–±—ä–µ–∫—Ç–Ω–æ-–æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ-–ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ">–û–±—ä–µ–∫—Ç–Ω–æ-–æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ</a></h3>
<pre><code class="language-javascript">class Point {
  #x;
  #y;

  constructor(x, y) {
    this.#x = x;
    this.#y = y;
  }

  // –ß–∏—Ç–∞—é—â–∏–π –º–µ—Ç–æ–¥ - –±–µ–∑–æ–ø–∞—Å–µ–Ω –¥–ª—è —Å—Å—ã–ª–æ—á–Ω–æ–π –ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç–∏
  getX() {
    return this.#x;
  }

  // –ú–µ—Ç–æ–¥ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ù–û–í–´–ô –æ–±—ä–µ–∫—Ç - —Å—Å—ã–ª–æ—á–Ω–æ –ø—Ä–æ–∑—Ä–∞—á–Ω—ã–π
  shift(dx, dy) {
    return new Point(this.#x + dx, this.#y + dy);
  }

  // –ú–µ—Ç–æ–¥ –ù–ï —Å—Å—ã–ª–æ—á–Ω–æ –ø—Ä–æ–∑—Ä–∞—á–Ω—ã–π - –∏–∑–º–µ–Ω—è–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ
  // setX(x) {
  //   this.#x = x;
  // }
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
const p1 = new Point(10, 20);
const p2 = p1.shift(5, 5);  // –°–æ–∑–¥–∞–Ω –Ω–æ–≤—ã–π –æ–±—ä–µ–∫—Ç

// p1 –æ—Å—Ç–∞–ª—Å—è –Ω–µ–∏–∑–º–µ–Ω–Ω—ã–º - –±–µ–∑–æ–ø–∞—Å–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤–µ–∑–¥–µ
console.log(p1.getX());  // 10
console.log(p2.getX());  // 15
</code></pre>
<h3 id="–ü—Ä–æ—Ü–µ–¥—É—Ä–Ω–æ–µ-–ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ"><a class="header" href="#–ü—Ä–æ—Ü–µ–¥—É—Ä–Ω–æ–µ-–ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ">–ü—Ä–æ—Ü–µ–¥—É—Ä–Ω–æ–µ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ</a></h3>
<pre><code class="language-javascript">// –ò–º–º—É—Ç–∞–±–µ–ª—å–Ω—ã–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö
const polyline = Object.freeze([
  Object.freeze({ x: 0, y: 0 }),
  Object.freeze({ x: 10, y: 10 }),
  Object.freeze({ x: 20, y: 5 })
]);

// –ü—Ä–æ—Ü–µ–¥—É—Ä–∞ —Å –∏–º–º—É—Ç–∞–±–µ–ª—å–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏
function shiftPolyline(line, dx, dy) {
  return line.map(point =&gt; ({
    x: point.x + dx,
    y: point.y + dy
  }));
}

// –û—Ä–∏–≥–∏–Ω–∞–ª –Ω–µ –∏–∑–º–µ–Ω–∏–ª—Å—è
const shifted = shiftPolyline(polyline, 5, 5);
console.log(polyline[0].x);  // 0 (–Ω–µ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å)
console.log(shifted[0].x);   // 5 (–Ω–æ–≤–∞—è –ª–∏–Ω–∏—è)
</code></pre>
<hr />
<h2 id="–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è-–∫–æ–º–ø–∏–ª—è—Ç–æ—Ä–∞"><a class="header" href="#–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è-–∫–æ–º–ø–∏–ª—è—Ç–æ—Ä–∞">–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä–∞</a></h2>
<h3 id="–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è-–æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è-–≤-javascript"><a class="header" href="#–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è-–æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è-–≤-javascript">–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –≤ JavaScript</a></h3>
<p>–û–ø—Ç–∏–º–∏–∑–∏—Ä—É—é—â–∏–π –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä JavaScript –º–æ–∂–µ—Ç:</p>
<ul>
<li>–†–∞–∑–±–∏–≤–∞—Ç—å –≤—ã—Ä–∞–∂–µ–Ω–∏—è –Ω–∞ –ø–æ–¥–≤—ã—Ä–∞–∂–µ–Ω–∏—è</li>
<li>–ö—ç—à–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã</li>
<li>–ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤—ã—á–∏—Å–ª–µ–Ω–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è</li>
</ul>
<pre><code class="language-javascript">// –ö–æ–º–ø–∏–ª—è—Ç–æ—Ä –º–æ–∂–µ—Ç –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å
function calculate(data) {
  const result1 = data.config.value * 2;
  // ... –¥—Ä—É–≥–æ–π –∫–æ–¥ –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏—è data.config.value
  const result2 = data.config.value * 3;

  // –ö–æ–º–ø–∏–ª—è—Ç–æ—Ä –≤–∏–¥–∏—Ç, —á—Ç–æ data.config.value –Ω–µ –∏–∑–º–µ–Ω–∏–ª—Å—è
  // –∏ –º–æ–∂–µ—Ç –∑–∞–∫—ç—à–∏—Ä–æ–≤–∞—Ç—å –µ–≥–æ –∑–Ω–∞—á–µ–Ω–∏–µ
}
</code></pre>
<h3 id="–ü—Ä–∏–º–µ—Ä-—Å-—Ü–∏–∫–ª–∞–º–∏"><a class="header" href="#–ü—Ä–∏–º–µ—Ä-—Å-—Ü–∏–∫–ª–∞–º–∏">–ü—Ä–∏–º–µ—Ä —Å —Ü–∏–∫–ª–∞–º–∏</a></h3>
<pre><code class="language-javascript">// –ù–µ–æ–ø—Ç–∏–º–∞–ª—å–Ω–æ - –æ–±—Ä–∞—â–µ–Ω–∏–µ –∫ —Å–≤–æ–π—Å—Ç–≤—É –Ω–∞ –∫–∞–∂–¥–æ–π –∏—Ç–µ—Ä–∞—Ü–∏–∏
for (let i = 0; i &lt; items.length; i++) {
  const value = config.settings.maxValue;  // –ß–∏—Ç–∞–µ—Ç—Å—è –∫–∞–∂–¥—ã–π —Ä–∞–∑
  if (items[i] &gt; value) {
    // ...
  }
}

// –û–ø—Ç–∏–º–∏–∑–∞—Ç–æ—Ä –º–æ–∂–µ—Ç –≤—ã–Ω–µ—Å—Ç–∏ –∑–∞ —Ü–∏–∫–ª
const maxValue = config.settings.maxValue;  // –û–¥–∏–Ω —Ä–∞–∑
for (let i = 0; i &lt; items.length; i++) {
  if (items[i] &gt; maxValue) {
    // ...
  }
}
</code></pre>
<hr />
<h2 id="–ò–º–º—É—Ç–∞–±–µ–ª—å–Ω–æ—Å—Ç—å"><a class="header" href="#–ò–º–º—É—Ç–∞–±–µ–ª—å–Ω–æ—Å—Ç—å">–ò–º–º—É—Ç–∞–±–µ–ª—å–Ω–æ—Å—Ç—å</a></h2>
<h3 id="–°–ø–æ—Å–æ–±—ã-—Å–æ–∑–¥–∞–Ω–∏—è-–∏–º–º—É—Ç–∞–±–µ–ª—å–Ω—ã—Ö-–æ–±—ä–µ–∫—Ç–æ–≤"><a class="header" href="#–°–ø–æ—Å–æ–±—ã-—Å–æ–∑–¥–∞–Ω–∏—è-–∏–º–º—É—Ç–∞–±–µ–ª—å–Ω—ã—Ö-–æ–±—ä–µ–∫—Ç–æ–≤">–°–ø–æ—Å–æ–±—ã —Å–æ–∑–¥–∞–Ω–∏—è –∏–º–º—É—Ç–∞–±–µ–ª—å–Ω—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤</a></h3>
<h4 id="1-objectfreeze"><a class="header" href="#1-objectfreeze">1. Object.freeze()</a></h4>
<pre><code class="language-javascript">const user = Object.freeze({
  name: 'John',
  age: 30
});

// –ü–æ–ø—ã—Ç–∫–∞ –∏–∑–º–µ–Ω–∏—Ç—å - –Ω–µ —Å—Ä–∞–±–æ—Ç–∞–µ—Ç
user.age = 31;  // –í strict mode - –æ—à–∏–±–∫–∞
console.log(user.age);  // 30
</code></pre>
<h4 id="2-–ü—Ä–∏–≤–∞—Ç–Ω—ã–µ-–ø–æ–ª—è-"><a class="header" href="#2-–ü—Ä–∏–≤–∞—Ç–Ω—ã–µ-–ø–æ–ª—è-">2. –ü—Ä–∏–≤–∞—Ç–Ω—ã–µ –ø–æ–ª—è (#)</a></h4>
<pre><code class="language-javascript">class User {
  #name;
  #age;

  constructor(name, age) {
    this.#name = name;
    this.#age = age;
  }

  getName() {
    return this.#name;
  }

  // –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –Ω–æ–≤—ã–π –æ–±—ä–µ–∫—Ç
  withAge(newAge) {
    return new User(this.#name, newAge);
  }
}

const user1 = new User('John', 30);
const user2 = user1.withAge(31);

console.log(user1.getName());  // John
// user1.#name - –æ—à–∏–±–∫–∞: –ø—Ä–∏–≤–∞—Ç–Ω–æ–µ –ø–æ–ª–µ
</code></pre>
<h4 id="3-–ó–∞–º—ã–∫–∞–Ω–∏—è"><a class="header" href="#3-–ó–∞–º—ã–∫–∞–Ω–∏—è">3. –ó–∞–º—ã–∫–∞–Ω–∏—è</a></h4>
<pre><code class="language-javascript">function createPoint(x, y) {
  // x –∏ y –∑–∞—â–∏—â–µ–Ω—ã –∑–∞–º—ã–∫–∞–Ω–∏–µ–º
  return {
    getX: () =&gt; x,
    getY: () =&gt; y,
    shift: (dx, dy) =&gt; createPoint(x + dx, y + dy),
    toString: () =&gt; `Point(${x}, ${y})`
  };
}

const point = createPoint(10, 20);
console.log(point.getX());  // 10

const shifted = point.shift(5, 5);
console.log(point.getX());    // 10 (–Ω–µ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å)
console.log(shifted.getX());  // 15
</code></pre>
<hr />
<h2 id="copy-on-write-—Å—Ç—Ä–∞—Ç–µ–≥–∏—è"><a class="header" href="#copy-on-write-—Å—Ç—Ä–∞—Ç–µ–≥–∏—è">Copy-on-Write —Å—Ç—Ä–∞—Ç–µ–≥–∏—è</a></h2>
<h3 id="–ü—Ä–æ–±–ª–µ–º–∞-3"><a class="header" href="#–ü—Ä–æ–±–ª–µ–º–∞-3">–ü—Ä–æ–±–ª–µ–º–∞</a></h3>
<p>–ü—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å –∏–º–º—É—Ç–∞–±–µ–ª—å–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏ –∫–∞–∂–¥–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Å–æ–∑–¥–∞–µ—Ç –Ω–æ–≤—É—é –∫–æ–ø–∏—é –≤—Å–µ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã, —á—Ç–æ –Ω–µ—ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ –ø–æ –ø–∞–º—è—Ç–∏.</p>
<pre><code class="language-javascript">// –ù–µ—ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ - –ø–æ–ª–Ω–∞—è –∫–æ–ø–∏—è
class Polyline {
  constructor(points) {
    this.points = [...points];  // –ö–æ–ø–∏—Ä—É–µ–º –≤—Å–µ —Ç–æ—á–∫–∏
  }

  shiftPoint(index, dx, dy) {
    const newPoints = [...this.points];  // –ö–æ–ø–∏—Ä—É–µ–º –í–°–ï —Ç–æ—á–∫–∏
    newPoints[index] = {
      x: this.points[index].x + dx,
      y: this.points[index].y + dy
    };
    return new Polyline(newPoints);
  }
}

// –ï—Å–ª–∏ 100 —Ç–æ—á–µ–∫, –∞ –º–µ–Ω—è–µ–º –æ–¥–Ω—É - –∫–æ–ø–∏—Ä—É–µ–º –≤—Å–µ 100!
</code></pre>
<h3 id="–†–µ—à–µ–Ω–∏–µ-copy-on-write"><a class="header" href="#–†–µ—à–µ–Ω–∏–µ-copy-on-write">–†–µ—à–µ–Ω–∏–µ: Copy-on-Write</a></h3>
<p>–ö–æ–ø–∏—Ä—É–µ–º —Ç–æ–ª—å–∫–æ –∏–∑–º–µ–Ω–µ–Ω–Ω—ã–µ —á–∞—Å—Ç–∏, –æ—Å—Ç–∞–ª—å–Ω–æ–µ –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º.</p>
<pre><code class="language-javascript">class Polyline {
  constructor(points) {
    this.points = points;  // –ò—Å–ø–æ–ª—å–∑—É–µ–º –∏—Å—Ö–æ–¥–Ω—ã–π –º–∞—Å—Å–∏–≤
  }

  shiftPoint(index, dx, dy) {
    // –ö–æ–ø–∏—Ä—É–µ–º —Ç–æ–ª—å–∫–æ –º–∞—Å—Å–∏–≤ —Å—Å—ã–ª–æ–∫, –Ω–µ —Å–∞–º–∏ —Ç–æ—á–∫–∏
    const newPoints = [...this.points];

    // –ó–∞–º–µ–Ω—è–µ–º —Ç–æ–ª—å–∫–æ –æ–¥–Ω—É —Ç–æ—á–∫—É
    newPoints[index] = {
      x: this.points[index].x + dx,
      y: this.points[index].y + dy
    };

    return new Polyline(newPoints);
  }
}

// –ï—Å–ª–∏ 100 —Ç–æ—á–µ–∫, –∫–æ–ø–∏—Ä—É–µ–º –º–∞—Å—Å–∏–≤ —Å—Å—ã–ª–æ–∫ (–¥–µ—à–µ–≤–æ)
// –∏ —Å–æ–∑–¥–∞–µ–º —Ç–æ–ª—å–∫–æ –æ–¥–Ω—É –Ω–æ–≤—É—é —Ç–æ—á–∫—É
</code></pre>
<h3 id="copy-on-write-—á–µ—Ä–µ–∑-–ø—Ä–æ—Ç–æ—Ç–∏–ø—ã"><a class="header" href="#copy-on-write-—á–µ—Ä–µ–∑-–ø—Ä–æ—Ç–æ—Ç–∏–ø—ã">Copy-on-Write —á–µ—Ä–µ–∑ –ø—Ä–æ—Ç–æ—Ç–∏–ø—ã</a></h3>
<pre><code class="language-javascript">function createCOWContainer(initialData) {
  let data = initialData;

  return {
    get(key) {
      return data[key];
    },

    set(key, value) {
      // –°–æ–∑–¥–∞–µ–º –Ω–æ–≤—ã–π –æ–±—ä–µ–∫—Ç —Å –ø—Ä–µ–¥—ã–¥—É—â–∏–º –∫–∞–∫ –ø—Ä–æ—Ç–æ—Ç–∏–ø–æ–º
      const newData = Object.create(data);
      newData[key] = value;
      data = newData;
    },

    getData() {
      return data;
    }
  };
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
const container = createCOWContainer({ name: 'John', age: 30 });

console.log(container.get('name'));  // John

container.set('age', 31);  // –°–æ–∑–¥–∞–Ω –Ω–æ–≤—ã–π –æ–±—ä–µ–∫—Ç –≤ —Ü–µ–ø–æ—á–∫–µ –ø—Ä–æ—Ç–æ—Ç–∏–ø–æ–≤
console.log(container.get('age'));   // 31
console.log(container.get('name'));  // John (–∏–∑ –ø—Ä–æ—Ç–æ—Ç–∏–ø–∞)
</code></pre>
<h3 id="–ë–∞–ª–∞–Ω—Å-–ü–∞–º—è—Ç—å-vs-cpu"><a class="header" href="#–ë–∞–ª–∞–Ω—Å-–ü–∞–º—è—Ç—å-vs-cpu">–ë–∞–ª–∞–Ω—Å: –ü–∞–º—è—Ç—å vs CPU</a></h3>
<pre><code>‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ –ü–æ–¥—Ö–æ–¥          ‚îÇ –ü–∞–º—è—Ç—å ‚îÇ CPU          ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ –ü–æ–ª–Ω–∞—è –∫–æ–ø–∏—è    ‚îÇ –ú–Ω–æ–≥–æ  ‚îÇ –ú–∞–ª–æ         ‚îÇ
‚îÇ Copy-on-Write   ‚îÇ –ú–∞–ª–æ   ‚îÇ –ß—É—Ç—å –±–æ–ª—å—à–µ  ‚îÇ
‚îÇ –ú—É—Ç–∞—Ü–∏–∏         ‚îÇ –ú–∞–ª–æ   ‚îÇ –ú–∞–ª–æ         ‚îÇ
‚îÇ                 ‚îÇ        ‚îÇ (–ù–ï –±–µ–∑–æ–ø–∞—Å–Ω–æ)‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
</code></pre>
<hr />
<h2 id="ownership-–∫–æ–Ω—Ü–µ–ø—Ü–∏—è"><a class="header" href="#ownership-–∫–æ–Ω—Ü–µ–ø—Ü–∏—è">Ownership –∫–æ–Ω—Ü–µ–ø—Ü–∏—è</a></h2>
<h3 id="–ò–¥–µ—è-–∏–∑-rust"><a class="header" href="#–ò–¥–µ—è-–∏–∑-rust">–ò–¥–µ—è –∏–∑ Rust</a></h3>
<p>–ö–∞–∂–¥—ã–π –æ–±—ä–µ–∫—Ç –∏–º–µ–µ—Ç –æ–¥–Ω–æ–≥–æ –≤–ª–∞–¥–µ–ª—å—Ü–∞ (owner). –ö–æ–≥–¥–∞ –≤–ª–∞–¥–µ–ª–µ—Ü –≤—ã—Ö–æ–¥–∏—Ç –∏–∑ –æ–±–ª–∞—Å—Ç–∏ –≤–∏–¥–∏–º–æ—Å—Ç–∏, –æ–±—ä–µ–∫—Ç —É–Ω–∏—á—Ç–æ–∂–∞–µ—Ç—Å—è.</p>
<h3 id="–†–µ–∞–ª–∏–∑–∞—Ü–∏—è-—á–µ—Ä–µ–∑-using-es2024"><a class="header" href="#–†–µ–∞–ª–∏–∑–∞—Ü–∏—è-—á–µ—Ä–µ–∑-using-es2024">–†–µ–∞–ª–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ <code>using</code> (ES2024)</a></h3>
<pre><code class="language-javascript">class OwnedResource {
  constructor(data) {
    this.data = data;
    this.disposed = false;
  }

  [Symbol.dispose]() {
    if (!this.disposed) {
      console.log('Disposing resource:', this.data);
      this.data = null;
      this.disposed = true;
    }
  }

  getData() {
    if (this.disposed) {
      throw new Error('Resource already disposed');
    }
    return this.data;
  }
}

function processData() {
  using resource = new OwnedResource({ value: 42 });
  console.log(resource.getData());  // { value: 42 }
  // resource –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ dispose –ø—Ä–∏ –≤—ã—Ö–æ–¥–µ –∏–∑ —Ñ—É–Ω–∫—Ü–∏–∏
}

processData();
// "Disposing resource: { value: 42 }"
</code></pre>
<h3 id="–ü–µ—Ä–µ–¥–∞—á–∞-–≤–ª–∞–¥–µ–Ω–∏—è"><a class="header" href="#–ü–µ—Ä–µ–¥–∞—á–∞-–≤–ª–∞–¥–µ–Ω–∏—è">–ü–µ—Ä–µ–¥–∞—á–∞ –≤–ª–∞–¥–µ–Ω–∏—è</a></h3>
<pre><code class="language-javascript">class OwnershipContainer {
  constructor(data) {
    this.data = data;
    this.owned = true;
  }

  transfer() {
    if (!this.owned) {
      throw new Error('Ownership already transferred');
    }
    this.owned = false;
    return new OwnershipContainer(this.data);
  }

  getData() {
    if (!this.owned) {
      throw new Error('No longer owns this data');
    }
    return this.data;
  }

  [Symbol.dispose]() {
    if (this.owned) {
      console.log('Cleaning up:', this.data);
      this.data = null;
    }
  }
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
function example() {
  using container1 = new OwnershipContainer({ id: 1 });

  // –ü–µ—Ä–µ–¥–∞–µ–º ownership
  const container2 = container1.transfer();

  // container1.getData();  // –û—à–∏–±–∫–∞: ownership –ø–µ—Ä–µ–¥–∞–Ω
  console.log(container2.getData());  // OK
}
</code></pre>
<h3 id="ownership-—Ä–µ—à–∞–µ—Ç-—Ç–µ-–∂–µ-–∑–∞–¥–∞—á–∏"><a class="header" href="#ownership-—Ä–µ—à–∞–µ—Ç-—Ç–µ-–∂–µ-–∑–∞–¥–∞—á–∏">Ownership —Ä–µ—à–∞–µ—Ç —Ç–µ –∂–µ –∑–∞–¥–∞—á–∏</a></h3>
<p>–í–º–µ—Å—Ç–æ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö (–∏–º–º—É—Ç–∞–±–µ–ª—å–Ω–æ—Å—Ç—å), –º—ã –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ–º, —á—Ç–æ:</p>
<ul>
<li>–¢–æ–ª—å–∫–æ –æ–¥–∏–Ω –≤–ª–∞–¥–µ–ª–µ—Ü –º–æ–∂–µ—Ç –∏–∑–º–µ–Ω—è—Ç—å –¥–∞–Ω–Ω—ã–µ</li>
<li>–í—Å–µ —Å—Ç–∞—Ä—ã–µ —Å—Å—ã–ª–∫–∏ –∞–Ω–Ω—É–ª–∏—Ä—É—é—Ç—Å—è –ø—Ä–∏ –ø–µ—Ä–µ–¥–∞—á–µ –≤–ª–∞–¥–µ–Ω–∏—è</li>
<li>–ù–µ—Ç race conditions –∏ –∫–æ—Ä—Ä–∞–ø—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö</li>
</ul>
<hr />
<h2 id="–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ-–ø—Ä–∏–º–µ—Ä—ã"><a class="header" href="#–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ-–ø—Ä–∏–º–µ—Ä—ã">–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–∏–º–µ—Ä—ã</a></h2>
<h3 id="–ü—Ä–∏–º–µ—Ä-1-–ë–µ–∑–æ–ø–∞—Å–Ω–∞—è-—Ä–∞–±–æ—Ç–∞-—Å–æ-—Å—Ç—Ä—É–∫—Ç—É—Ä–∞–º–∏-–¥–∞–Ω–Ω—ã—Ö"><a class="header" href="#–ü—Ä–∏–º–µ—Ä-1-–ë–µ–∑–æ–ø–∞—Å–Ω–∞—è-—Ä–∞–±–æ—Ç–∞-—Å–æ-—Å—Ç—Ä—É–∫—Ç—É—Ä–∞–º–∏-–¥–∞–Ω–Ω—ã—Ö">–ü—Ä–∏–º–µ—Ä 1: –ë–µ–∑–æ–ø–∞—Å–Ω–∞—è —Ä–∞–±–æ—Ç–∞ —Å–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞–º–∏ –¥–∞–Ω–Ω—ã—Ö</a></h3>
<pre><code class="language-javascript">// –ü—Ä–æ–±–ª–µ–º–∞: –º—É—Ç–∞–±–µ–ª—å–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞
class MutablePolyline {
  constructor(points) {
    this.points = points;
  }

  shift(dx, dy) {
    // –û–ü–ê–°–ù–û: –∏–∑–º–µ–Ω—è–µ—Ç –æ—Ä–∏–≥–∏–Ω–∞–ª
    this.points.forEach(p =&gt; {
      p.x += dx;
      p.y += dy;
    });
  }
}

const line = new MutablePolyline([
  { x: 0, y: 0 },
  { x: 10, y: 10 }
]);

// –ü–µ—Ä–µ–¥–∞–ª–∏ —Å—Å—ã–ª–∫—É –≤ —Ä–∞–∑–Ω—ã–µ —á–∞—Å—Ç–∏ –ø—Ä–æ–≥—Ä–∞–º–º—ã
renderLine(line);
saveLine(line);

// –ò–∑–º–µ–Ω–∏–ª–∏ - —Å–ª–æ–º–∞–ª–∏ –¥–∞–Ω–Ω—ã–µ –≤–µ–∑–¥–µ!
line.shift(5, 5);

// –¢–µ–ø–µ—Ä—å renderLine –∏ saveLine –≤–∏–¥—è—Ç –∏–∑–º–µ–Ω–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
</code></pre>
<pre><code class="language-javascript">// –†–µ—à–µ–Ω–∏–µ: –∏–º–º—É—Ç–∞–±–µ–ª—å–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞
class ImmutablePolyline {
  constructor(points) {
    this.points = Object.freeze([...points.map(p =&gt; Object.freeze({...p}))]);
  }

  shift(dx, dy) {
    // –°–æ–∑–¥–∞–µ–º –ù–û–í–£–Æ –ª–æ–º–∞–Ω—É—é —Å –Ω–æ–≤—ã–º–∏ —Ç–æ—á–∫–∞–º–∏
    const newPoints = this.points.map(p =&gt; ({
      x: p.x + dx,
      y: p.y + dy
    }));
    return new ImmutablePolyline(newPoints);
  }
}

const line1 = new ImmutablePolyline([
  { x: 0, y: 0 },
  { x: 10, y: 10 }
]);

// –ë–µ–∑–æ–ø–∞—Å–Ω–æ –ø–µ—Ä–µ–¥–∞–µ–º –≤–µ–∑–¥–µ
renderLine(line1);
saveLine(line1);

// –°–æ–∑–¥–∞–µ–º –Ω–æ–≤—É—é –ª–æ–º–∞–Ω—É—é
const line2 = line1.shift(5, 5);

// line1 –Ω–µ –∏–∑–º–µ–Ω–∏–ª–∞—Å—å - –±–µ–∑–æ–ø–∞—Å–Ω–æ!
console.log(line1.points[0].x);  // 0
console.log(line2.points[0].x);  // 5
</code></pre>
<h3 id="–ü—Ä–∏–º–µ—Ä-2-–°—Å—ã–ª–æ—á–Ω–∞—è-–ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å-–≤-–∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–º-–∫–æ–¥–µ"><a class="header" href="#–ü—Ä–∏–º–µ—Ä-2-–°—Å—ã–ª–æ—á–Ω–∞—è-–ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å-–≤-–∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–º-–∫–æ–¥–µ">–ü—Ä–∏–º–µ—Ä 2: –°—Å—ã–ª–æ—á–Ω–∞—è –ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å –≤ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–º –∫–æ–¥–µ</a></h3>
<pre><code class="language-javascript">// –û–ü–ê–°–ù–û: –º—É—Ç–∞–±–µ–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ + –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç—å
class AsyncCounter {
  constructor() {
    this.count = 0;
  }

  async increment() {
    const current = this.count;
    await delay(100);  // –°–∏–º—É–ª—è—Ü–∏—è async –æ–ø–µ—Ä–∞—Ü–∏–∏
    this.count = current + 1;  // Race condition!
  }
}

const counter = new AsyncCounter();

// –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–µ –≤—ã–∑–æ–≤—ã - race condition
Promise.all([
  counter.increment(),
  counter.increment(),
  counter.increment()
]);

// –†–µ–∑—É–ª—å—Ç–∞—Ç –Ω–µ–ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º: –º–æ–∂–µ—Ç –±—ã—Ç—å 1, 2 –∏–ª–∏ 3
</code></pre>
<pre><code class="language-javascript">// –ë–ï–ó–û–ü–ê–°–ù–û: –∏–º–º—É—Ç–∞–±–µ–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
class ImmutableCounter {
  constructor(count = 0) {
    this.count = count;
    Object.freeze(this);
  }

  async increment() {
    await delay(100);
    return new ImmutableCounter(this.count + 1);
  }
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
async function safeIncrement() {
  let counter = new ImmutableCounter();

  // –ö–∞–∂–¥—ã–π –≤—ã–∑–æ–≤ —Å–æ–∑–¥–∞–µ—Ç –Ω–æ–≤—ã–π –æ–±—ä–µ–∫—Ç
  counter = await counter.increment();  // 1
  counter = await counter.increment();  // 2
  counter = await counter.increment();  // 3

  console.log(counter.count);  // –í—Å–µ–≥–¥–∞ 3
}
</code></pre>
<h3 id="–ü—Ä–∏–º–µ—Ä-3-–°—Å—ã–ª–æ—á–Ω–∞—è-–ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å-–æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ-–æ–ø–µ—Ä–∞—Ç–∏–≤–Ω–æ–π-–ø–∞–º—è—Ç–∏"><a class="header" href="#–ü—Ä–∏–º–µ—Ä-3-–°—Å—ã–ª–æ—á–Ω–∞—è-–ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å-–æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ-–æ–ø–µ—Ä–∞—Ç–∏–≤–Ω–æ–π-–ø–∞–º—è—Ç–∏">–ü—Ä–∏–º–µ—Ä 3: –°—Å—ã–ª–æ—á–Ω–∞—è –ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ –æ–ø–µ—Ä–∞—Ç–∏–≤–Ω–æ–π –ø–∞–º—è—Ç–∏</a></h3>
<pre><code class="language-javascript">// –§—É–Ω–∫—Ü–∏—è —Å –≤—ã–≤–æ–¥–æ–º, –Ω–æ —Å—Å—ã–ª–æ—á–Ω–æ –ø—Ä–æ–∑—Ä–∞—á–Ω–∞—è –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ –ø–∞–º—è—Ç–∏
function calculateWithLogging(a, b) {
  const result = a + b;

  // –í—ã–≤–æ–¥ –Ω–µ –≤–ª–∏—è–µ—Ç –Ω–∞ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –≤ –ø–∞–º—è—Ç–∏
  console.log(`Calculated: ${a} + ${b} = ${result}`);

  // –°–æ—Å—Ç–æ—è–Ω–∏–µ –ø—Ä–æ–≥—Ä–∞–º–º—ã –Ω–µ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å
  return result;
}

// –ú–æ–∂–Ω–æ –≤—ã–∑—ã–≤–∞—Ç—å –º–Ω–æ–≥–æ —Ä–∞–∑ - —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–æ
const x = calculateWithLogging(5, 3);  // 8
const y = calculateWithLogging(5, 3);  // 8

// x === y, –Ω–µ—Å–º–æ—Ç—Ä—è –Ω–∞ console.log
</code></pre>
<hr />
<h2 id="–í—ã–≤–æ–¥—ã-1"><a class="header" href="#–í—ã–≤–æ–¥—ã-1">–í—ã–≤–æ–¥—ã</a></h2>
<h3 id="–û—Å–Ω–æ–≤–Ω—ã–µ-–ø—Ä–∏–Ω—Ü–∏–ø—ã"><a class="header" href="#–û—Å–Ω–æ–≤–Ω—ã–µ-–ø—Ä–∏–Ω—Ü–∏–ø—ã">–û—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã</a></h3>
<ol>
<li>
<p><strong>–°—Å—ã–ª–æ—á–Ω–∞—è –ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å –Ω–µ —Ç–æ–ª—å–∫–æ –¥–ª—è –§–ü</strong></p>
<ul>
<li>–ü—Ä–∏–º–µ–Ω–∏–º–∞ –≤ –û–û–ü –∏ –ø—Ä–æ—Ü–µ–¥—É—Ä–Ω–æ–º –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–∏</li>
<li>–ü–æ–º–æ–≥–∞–µ—Ç –∏–∑–±–µ–∂–∞—Ç—å –±–∞–≥–æ–≤ –≤–æ –≤—Å–µ—Ö –ø–∞—Ä–∞–¥–∏–≥–º–∞—Ö</li>
</ul>
</li>
<li>
<p><strong>–ò–º–º—É—Ç–∞–±–µ–ª—å–Ω–æ—Å—Ç—å = –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å</strong></p>
<ul>
<li>–î–∞–Ω–Ω—ã–µ –Ω–µ –º–µ–Ω—è—é—Ç—Å—è - –Ω–µ—Ç race conditions</li>
<li>–ú–æ–∂–Ω–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å —Å—Å—ã–ª–∫–∏ –≤–µ–∑–¥–µ</li>
<li>–£–ø—Ä–æ—â–∞–µ—Ç—Å—è –æ—Ç–ª–∞–¥–∫–∞ –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ</li>
</ul>
</li>
<li>
<p><strong>–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–ª—è –∏–º–º—É—Ç–∞–±–µ–ª—å–Ω–æ—Å—Ç–∏</strong></p>
<ul>
<li><code>Object.freeze()</code> - –ø—Ä–æ—Å—Ç–∞—è –∑–∞–º–æ—Ä–æ–∑–∫–∞</li>
<li>–ü—Ä–∏–≤–∞—Ç–Ω—ã–µ –ø–æ–ª—è (<code>#field</code>) - –∏–Ω–∫–∞–ø—Å—É–ª—è—Ü–∏—è</li>
<li>–ó–∞–º—ã–∫–∞–Ω–∏—è - –∑–∞—â–∏—Ç–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è</li>
<li><code>using</code> - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–∞–º–∏</li>
</ul>
</li>
<li>
<p><strong>–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è</strong></p>
<ul>
<li>Copy-on-Write —ç–∫–æ–Ω–æ–º–∏—Ç –ø–∞–º—è—Ç—å</li>
<li>Ownership –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ—Ç –∂–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª</li>
<li>–ö–æ–º–ø–∏–ª—è—Ç–æ—Ä –º–æ–∂–µ—Ç –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Å—Å—ã–ª–æ—á–Ω–æ –ø—Ä–æ–∑—Ä–∞—á–Ω—ã–π –∫–æ–¥</li>
</ul>
</li>
<li>
<p><strong>–ë–∞–ª–∞–Ω—Å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏</strong></p>
<ul>
<li>–ò–º–º—É—Ç–∞–±–µ–ª—å–Ω–æ—Å—Ç—å: –±–æ–ª—å—à–µ –ø–∞–º—è—Ç–∏, –±–µ–∑–æ–ø–∞—Å–Ω–µ–µ</li>
<li>Copy-on-Write: –∫–æ–º–ø—Ä–æ–º–∏—Å—Å –ø–∞–º—è—Ç—å/CPU</li>
<li>Ownership: –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –±–µ–∑ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è</li>
</ul>
</li>
</ol>
<h3 id="–ö–æ–≥–¥–∞-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å-2"><a class="header" href="#–ö–æ–≥–¥–∞-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å-2">–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å</a></h3>
<p><strong>–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å—Å—ã–ª–æ—á–Ω—É—é –ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å –∫–æ–≥–¥–∞:</strong></p>
<ul>
<li>–†–∞–±–æ—Ç–∞–µ—Ç–µ —Å –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–º –∫–æ–¥–æ–º</li>
<li>–î–∞–Ω–Ω—ã–µ –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è –º–µ–∂–¥—É –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏</li>
<li>–ù—É–∂–Ω–∞ –ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–æ—Å—Ç—å –∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –ø–æ–±–æ—á–Ω—ã—Ö —ç—Ñ—Ñ–µ–∫—Ç–æ–≤</li>
<li>–í–∞–∂–Ω–∞ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –æ—Ç–∫–∞—Ç–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è (undo/redo)</li>
</ul>
<p><strong>–î–æ–ø—É—Å—Ç–∏–º—ã –º—É—Ç–∞—Ü–∏–∏ –∫–æ–≥–¥–∞:</strong></p>
<ul>
<li>–õ–æ–∫–∞–ª—å–Ω—ã–µ –≤—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –≤ —Ñ—É–Ω–∫—Ü–∏–∏</li>
<li>–£–∑–∫–∞—è –æ–±–ª–∞—Å—Ç—å –≤–∏–¥–∏–º–æ—Å—Ç–∏</li>
<li>–ö—Ä–∏—Ç–∏—á–Ω–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å</li>
<li>–ì–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω –æ–¥–∏–Ω –≤–ª–∞–¥–µ–ª–µ—Ü –¥–∞–Ω–Ω—ã—Ö</li>
</ul>
<h3 id="–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ-—Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏-1"><a class="header" href="#–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ-—Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏-1">–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏</a></h3>
<pre><code class="language-javascript">// ‚úÖ –•–û–†–û–®–û: –Ø–≤–Ω–∞—è –∏–º–º—É—Ç–∞–±–µ–ª—å–Ω–æ—Å—Ç—å
const point = Object.freeze({ x: 10, y: 20 });

// ‚úÖ –•–û–†–û–®–û: –í–æ–∑–≤—Ä–∞—Ç –Ω–æ–≤—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤
function movePoint(point, dx, dy) {
  return { x: point.x + dx, y: point.y + dy };
}

// ‚úÖ –•–û–†–û–®–û: –ü—Ä–∏–≤–∞—Ç–Ω—ã–µ –ø–æ–ª—è
class Point {
  #x; #y;
  constructor(x, y) { this.#x = x; this.#y = y; }
  getX() { return this.#x; }
}

// ‚ùå –ü–õ–û–•–û: –ú—É—Ç–∞—Ü–∏—è –∞—Ä–≥—É–º–µ–Ω—Ç–∞
function movePoint(point, dx, dy) {
  point.x += dx;  // –ò–∑–º–µ–Ω—è–µ—Ç –æ—Ä–∏–≥–∏–Ω–∞–ª!
  point.y += dy;
}

// ‚ùå –ü–õ–û–•–û: –ü—É–±–ª–∏—á–Ω—ã–µ –∏–∑–º–µ–Ω—è–µ–º—ã–µ –ø–æ–ª—è
class Point {
  constructor(x, y) {
    this.x = x;  // –ú–æ–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å —Å–Ω–∞—Ä—É–∂–∏
    this.y = y;
  }
}
</code></pre>
<hr />
<h2 id="–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ-—Ä–µ—Å—É—Ä—Å—ã-1"><a class="header" href="#–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ-—Ä–µ—Å—É—Ä—Å—ã-1">–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã</a></h2>
<h3 id="–¢–µ–º—ã-–¥–ª—è-–¥–∞–ª—å–Ω–µ–π—à–µ–≥–æ-–∏–∑—É—á–µ–Ω–∏—è"><a class="header" href="#–¢–µ–º—ã-–¥–ª—è-–¥–∞–ª—å–Ω–µ–π—à–µ–≥–æ-–∏–∑—É—á–µ–Ω–∏—è">–¢–µ–º—ã –¥–ª—è –¥–∞–ª—å–Ω–µ–π—à–µ–≥–æ –∏–∑—É—á–µ–Ω–∏—è</a></h3>
<ol>
<li>
<p><strong>Copy-on-Write –ø–æ–¥—Ä–æ–±–Ω–µ–µ</strong></p>
<ul>
<li>Persistent data structures</li>
<li>Structural sharing</li>
<li>–ë–∏–±–ª–∏–æ—Ç–µ–∫–∏: Immer, Immutable.js</li>
</ul>
</li>
<li>
<p><strong>Ownership –≤ JavaScript</strong></p>
<ul>
<li>Explicit Resource Management (using)</li>
<li>WeakMap –∏ WeakSet</li>
<li>Finalizers</li>
</ul>
</li>
<li>
<p><strong>–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ</strong></p>
<ul>
<li>–ß–∏—Å—Ç—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏</li>
<li>–ú–æ–Ω–∞–¥—ã –∏ —Ñ—É–Ω–∫—Ç–æ—Ä—ã</li>
<li>–ö–æ–º–ø–æ–∑–∏—Ü–∏—è —Ñ—É–Ω–∫—Ü–∏–π</li>
</ul>
</li>
<li>
<p><strong>–ü–∞—Ç—Ç–µ—Ä–Ω—ã –∏–º–º—É—Ç–∞–±–µ–ª—å–Ω–æ—Å—Ç–∏</strong></p>
<ul>
<li>Event Sourcing</li>
<li>CQRS</li>
<li>Redux / Zustand</li>
</ul>
</li>
</ol>
<h3 id="–ü–æ–ª–µ–∑–Ω—ã–µ-–±–∏–±–ª–∏–æ—Ç–µ–∫–∏"><a class="header" href="#–ü–æ–ª–µ–∑–Ω—ã–µ-–±–∏–±–ª–∏–æ—Ç–µ–∫–∏">–ü–æ–ª–µ–∑–Ω—ã–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏</a></h3>
<pre><code class="language-javascript">// Immer - —É–ø—Ä–æ—â–∞–µ—Ç —Ä–∞–±–æ—Ç—É —Å –∏–º–º—É—Ç–∞–±–µ–ª—å–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏
import { produce } from 'immer';

const state = { count: 0, items: [1, 2, 3] };

const newState = produce(state, draft =&gt; {
  draft.count += 1;  // –ü–∏—à–µ–º –∫–∞–∫ –±—É–¥—Ç–æ –º—É—Ç–∏—Ä—É–µ–º
  draft.items.push(4);
});

// state –Ω–µ –∏–∑–º–µ–Ω–∏–ª—Å—è, newState - –Ω–æ–≤—ã–π –æ–±—ä–µ–∫—Ç

// Immutable.js - persistent data structures
import { Map } from 'immutable';

const map1 = Map({ a: 1, b: 2 });
const map2 = map1.set('a', 10);

console.log(map1.get('a'));  // 1
console.log(map2.get('a'));  // 10
</code></pre>
<hr />
<h2 id="–ì–ª–æ—Å—Å–∞—Ä–∏–π"><a class="header" href="#–ì–ª–æ—Å—Å–∞—Ä–∏–π">–ì–ª–æ—Å—Å–∞—Ä–∏–π</a></h2>
<ul>
<li><strong>–°—Å—ã–ª–æ—á–Ω–∞—è –ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å (Referential Transparency)</strong> - —Å–≤–æ–π—Å—Ç–≤–æ –∫–æ–¥–∞, –ø–æ–∑–≤–æ–ª—è—é—â–µ–µ –∑–∞–º–µ–Ω—è—Ç—å –≤—ã—Ä–∞–∂–µ–Ω–∏—è –Ω–∞ –∏—Ö –∑–Ω–∞—á–µ–Ω–∏—è –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø–æ–≤–µ–¥–µ–Ω–∏—è</li>
<li><strong>–ò–º–º—É—Ç–∞–±–µ–ª—å–Ω–æ—Å—Ç—å (Immutability)</strong> - –Ω–µ–∏–∑–º–µ–Ω—è–µ–º–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö –ø–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è</li>
<li><strong>Copy-on-Write (COW)</strong> - —Å—Ç—Ä–∞—Ç–µ–≥–∏—è —Å–æ–∑–¥–∞–Ω–∏—è –∫–æ–ø–∏–π —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏</li>
<li><strong>Ownership</strong> - –∫–æ–Ω—Ü–µ–ø—Ü–∏—è –µ–¥–∏–Ω–æ–ª–∏—á–Ω–æ–≥–æ –≤–ª–∞–¥–µ–Ω–∏—è —Ä–µ—Å—É—Ä—Å–æ–º</li>
<li><strong>Side effect (–ü–æ–±–æ—á–Ω—ã–π —ç—Ñ—Ñ–µ–∫—Ç)</strong> - –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è –≤–Ω–µ —Ñ—É–Ω–∫—Ü–∏–∏</li>
<li><strong>Pure function (–ß–∏—Å—Ç–∞—è —Ñ—É–Ω–∫—Ü–∏—è)</strong> - —Ñ—É–Ω–∫—Ü–∏—è –±–µ–∑ –ø–æ–±–æ—á–Ω—ã—Ö —ç—Ñ—Ñ–µ–∫—Ç–æ–≤</li>
<li><strong>–ú–µ–º–æ–∏–∑–∞—Ü–∏—è</strong> - –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ —Ñ—É–Ω–∫—Ü–∏–∏</li>
<li><strong>Structural sharing</strong> - –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –Ω–µ–∏–∑–º–µ–Ω—ë–Ω–Ω—ã—Ö —á–∞—Å—Ç–µ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã</li>
</ul>
<hr />
<p><strong>–ê–≤—Ç–æ—Ä –∫–æ–Ω—Å–ø–µ–∫—Ç–∞:</strong> Claude Code
<strong>–î–∞—Ç–∞:</strong> 2025-12-06
<strong>–û—Å–Ω–æ–≤–∞–Ω–æ –Ω–∞ –ª–µ–∫—Ü–∏–∏:</strong> "Referential Transparency ‚Äî –°—Å—ã–ª–æ—á–Ω–∞—è –ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å"</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="week-2---native-features-in-language-and-platforms"><a class="header" href="#week-2---native-features-in-language-and-platforms">Week 2 - Native features in language and platforms</a></h1>
<h2 id="–õ–µ–∫—Ü–∏–∏"><a class="header" href="#–õ–µ–∫—Ü–∏–∏">–õ–µ–∫—Ü–∏–∏</a></h2>
<ul>
<li><a href="week2/callback-contract-detailed-notes.html"><code>Callback</code> &amp; <code>Callback-last-error-first</code></a>,</li>
<li><a href="week2/Thenable-%D0%BA%D0%BE%D0%BD%D1%82%D1%80%D0%B0%D0%BA%D1%82-%D0%BA%D0%BE%D0%BD%D1%81%D0%BF%D0%B5%D0%BA%D1%82.html"><code>Thenable</code></a></li>
<li><a href="week2/iterators-and-async-iterators-notes.html">Iterator &amp; AsyncIterator</a></li>
<li><a href="week2/promise-contract-lecture-notes.html">Promise API</a></li>
<li><a href="week2/%D0%BA%D0%BE%D0%BD%D1%81%D0%BF%D0%B5%D0%BA%D1%82-using-dispose.html">Disposable</a></li>
<li><a href="week2/reference-counter-using-disposable.html">Reference counting with <code>using</code> &amp; <code>Disposable</code></a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="callback-–∫–æ–Ω—Ç—Ä–∞–∫—Ç-–≤-javascript-–ü–æ–¥—Ä–æ–±–Ω—ã–π-–∫–æ–Ω—Å–ø–µ–∫—Ç"><a class="header" href="#callback-–∫–æ–Ω—Ç—Ä–∞–∫—Ç-–≤-javascript-–ü–æ–¥—Ä–æ–±–Ω—ã–π-–∫–æ–Ω—Å–ø–µ–∫—Ç">Callback –∫–æ–Ω—Ç—Ä–∞–∫—Ç –≤ JavaScript: –ü–æ–¥—Ä–æ–±–Ω—ã–π –∫–æ–Ω—Å–ø–µ–∫—Ç</a></h1>
<h2 id="–û–±–∑–æ—Ä"><a class="header" href="#–û–±–∑–æ—Ä">–û–±–∑–æ—Ä</a></h2>
<p>Callbacks (–∫–æ–ª–±–µ–∫–∏) –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—é—Ç —Å–æ–±–æ–π –ø–µ—Ä–≤—ã–π –∏ –Ω–∞–∏–±–æ–ª–µ–µ —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–∞–ª—å–Ω—ã–π –∫–æ–Ω—Ç—Ä–∞–∫—Ç –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç–∏ –≤ JavaScript –∏ Node.js. –≠—Ç–∞ –ª–µ–∫—Ü–∏—è –¥–µ—Ç–∞–ª—å–Ω–æ —Ä–∞—Å—Å–º–∞—Ç—Ä–∏–≤–∞–µ—Ç —ç–≤–æ–ª—é—Ü–∏—é –æ—Ç –ø—Ä–æ—Å—Ç—ã—Ö —Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π –∫ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–º –∫–æ–ª–±–µ–∫–∞–º, –æ–±—ä—è—Å–Ω—è–µ—Ç –∫–æ–Ω—Ç—Ä–∞–∫—Ç <strong>callback-last-error-first</strong>, –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç —Ä–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã callback hell –∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ª—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏ —Ä–∞–±–æ—Ç—ã —Å –∫–æ–ª–±–µ–∫–∞–º–∏.</p>
<p><strong>–ö–ª—é—á–µ–≤—ã–µ —Ç–µ–º—ã –ª–µ–∫—Ü–∏–∏:</strong></p>
<ul>
<li>–≠–≤–æ–ª—é—Ü–∏—è –æ—Ç —Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π –∫ callback-–ø–∞—Ç—Ç–µ—Ä–Ω—É</li>
<li>–ö–æ–Ω—Ç—Ä–∞–∫—Ç callback-last-error-first (CLF) –∏ –µ–≥–æ –∑–Ω–∞—á–µ–Ω–∏–µ</li>
<li>–†–∞–∑–ª–∏—á–∏–µ –º–µ–∂–¥—É —Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–º–∏ –∏ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–º–∏ –∫–æ–ª–±–µ–∫–∞–º–∏</li>
<li>–ò–º–µ–Ω–æ–≤–∞–Ω–Ω—ã–µ –∫–æ–ª–±–µ–∫–∏ –∏ –∏—Ö –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –ø–µ—Ä–µ–¥ –∞–Ω–æ–Ω–∏–º–Ω—ã–º–∏</li>
<li>–≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã callback hell —á–µ—Ä–µ–∑ –¥–µ–∫–æ–º–ø–æ–∑–∏—Ü–∏—é</li>
<li>–°–∏—Å—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –≤ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–º –∫–æ–¥–µ</li>
<li>–í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –ª–æ–≥–∏—á–µ—Å–∫–æ–≥–æ –ø–æ—Ä—è–¥–∫–∞ –æ–ø–µ—Ä–∞—Ü–∏–π</li>
</ul>
<hr />
<h2 id="1-–ß—Ç–æ-—Ç–∞–∫–æ–µ-–∫–æ–ª–±–µ–∫-–≠–≤–æ–ª—é—Ü–∏—è-–æ—Ç-—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç–∏-–∫-–∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç–∏"><a class="header" href="#1-–ß—Ç–æ-—Ç–∞–∫–æ–µ-–∫–æ–ª–±–µ–∫-–≠–≤–æ–ª—é—Ü–∏—è-–æ—Ç-—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç–∏-–∫-–∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç–∏">1. –ß—Ç–æ —Ç–∞–∫–æ–µ –∫–æ–ª–±–µ–∫? –≠–≤–æ–ª—é—Ü–∏—è –æ—Ç —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç–∏ –∫ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç–∏</a></h2>
<h3 id="–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ-9"><a class="header" href="#–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ-9">–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ</a></h3>
<p><strong>Callback (–∫–æ–ª–±–µ–∫)</strong> ‚Äî —ç—Ç–æ —Ñ—É–Ω–∫—Ü–∏—è, –∫–æ—Ç–æ—Ä–∞—è –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è –≤ –∫–∞—á–µ—Å—Ç–≤–µ –∞—Ä–≥—É–º–µ–Ω—Ç–∞ –≤ –¥—Ä—É–≥—É—é —Ñ—É–Ω–∫—Ü–∏—é –∏ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è —ç—Ç–æ–π —Ñ—É–Ω–∫—Ü–∏–µ–π –¥–ª—è –ø–µ—Ä–µ–¥–∞—á–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ –æ–ø–µ—Ä–∞—Ü–∏–∏ –∏–ª–∏ —Å–∏–≥–Ω–∞–ª–∏–∑–∞—Ü–∏–∏ –æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è.</p>
<p>–ö–æ–ª–±–µ–∫–∏ —è–≤–ª—è—é—Ç—Å—è –ø—Ä–∏–º–µ—Ä–æ–º –ø–∞—Ç—Ç–µ—Ä–Ω–∞ <strong>Inversion of Control</strong> (–∏–Ω–≤–µ—Ä—Å–∏—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è): –≤–º–µ—Å—Ç–æ —Ç–æ–≥–æ —á—Ç–æ–±—ã –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç —á–µ—Ä–µ–∑ <code>return</code>, —Ñ—É–Ω–∫—Ü–∏—è –≤—ã–∑—ã–≤–∞–µ—Ç –ø–µ—Ä–µ–¥–∞–Ω–Ω—ã–π –µ–π –∫–æ–ª–±–µ–∫ —Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–º.</p>
<h3 id="–û—Ç-—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–π-—Ñ—É–Ω–∫—Ü–∏–∏-–∫-–∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–º—É-–∫–æ–ª–±–µ–∫—É"><a class="header" href="#–û—Ç-—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–π-—Ñ—É–Ω–∫—Ü–∏–∏-–∫-–∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–º—É-–∫–æ–ª–±–µ–∫—É">–û—Ç —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–∏ –∫ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–º—É –∫–æ–ª–±–µ–∫—É</a></h3>
<h4 id="–®–∞–≥-1-–û–±—ã—á–Ω–∞—è-—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è-—Ñ—É–Ω–∫—Ü–∏—è"><a class="header" href="#–®–∞–≥-1-–û–±—ã—á–Ω–∞—è-—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è-—Ñ—É–Ω–∫—Ü–∏—è">–®–∞–≥ 1: –û–±—ã—á–Ω–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è</a></h4>
<pre><code class="language-javascript">// –ü—Ä–æ—Å—Ç–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è —Å–ª–æ–∂–µ–Ω–∏—è –¥–≤—É—Ö —á–∏—Å–µ–ª
function sum(a, b) {
  return a + b;
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
const result = sum(5, 3);
console.log('–†–µ–∑—É–ª—å—Ç–∞—Ç:', result); // –†–µ–∑—É–ª—å—Ç–∞—Ç: 8

// –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ:
console.log('–î–æ –≤—ã–∑–æ–≤–∞ sum');
const res = sum(10, 20);
console.log('–ü–æ—Å–ª–µ –≤—ã–∑–æ–≤–∞ sum, —Ä–µ–∑—É–ª—å—Ç–∞—Ç:', res);
console.log('–ü—Ä–æ–¥–æ–ª–∂–∞–µ–º –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ');

// –í—ã–≤–æ–¥ (–ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω—ã–π):
// –î–æ –≤—ã–∑–æ–≤–∞ sum
// –ü–æ—Å–ª–µ –≤—ã–∑–æ–≤–∞ sum, —Ä–µ–∑—É–ª—å—Ç–∞—Ç: 30
// –ü—Ä–æ–¥–æ–ª–∂–∞–µ–º –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ
</code></pre>
<p><strong>–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–∏:</strong></p>
<ul>
<li>–ü—Ä–∏–Ω–∏–º–∞–µ—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä—ã (–≤ –¥–∞–Ω–Ω–æ–º —Å–ª—É—á–∞–µ <code>a</code> –∏ <code>b</code>)</li>
<li>–í—ã–ø–æ–ª–Ω—è–µ—Ç –≤—ã—á–∏—Å–ª–µ–Ω–∏—è</li>
<li>–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç —á–µ—Ä–µ–∑ –æ–ø–µ—Ä–∞—Ç–æ—Ä <code>return</code></li>
<li>–ë–ª–æ–∫–∏—Ä—É–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –ø—Ä–æ–≥—Ä–∞–º–º—ã –¥–æ –ø–æ–ª—É—á–µ–Ω–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞</li>
<li>–†–µ–∑—É–ª—å—Ç–∞—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ –ø–æ—Å–ª–µ –≤—ã–∑–æ–≤–∞</li>
</ul>
<p><strong>–ü—Ä–æ–±–ª–µ–º—ã —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–≥–æ –ø–æ–¥—Ö–æ–¥–∞:</strong></p>
<ul>
<li>–ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ø—Ä–∏ –¥–æ–ª–≥–∏—Ö –æ–ø–µ—Ä–∞—Ü–∏—è—Ö (—á—Ç–µ–Ω–∏–µ —Ñ–∞–π–ª–æ–≤, —Å–µ—Ç–µ–≤—ã–µ –∑–∞–ø—Ä–æ—Å—ã)</li>
<li>–ù–µ–≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –≤—ã–ø–æ–ª–Ω—è—Ç—å –¥—Ä—É–≥–∏–µ –∑–∞–¥–∞—á–∏ –≤–æ –≤—Ä–µ–º—è –æ–∂–∏–¥–∞–Ω–∏—è</li>
<li>–ù–µ—ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤</li>
</ul>
<h4 id="–®–∞–≥-2-–ü—Ä–æ—Å—Ç–æ–π-–∫–æ–ª–±–µ–∫-–±–µ–∑-–æ–±—Ä–∞–±–æ—Ç–∫–∏-–æ—à–∏–±–æ–∫"><a class="header" href="#–®–∞–≥-2-–ü—Ä–æ—Å—Ç–æ–π-–∫–æ–ª–±–µ–∫-–±–µ–∑-–æ–±—Ä–∞–±–æ—Ç–∫–∏-–æ—à–∏–±–æ–∫">–®–∞–≥ 2: –ü—Ä–æ—Å—Ç–æ–π –∫–æ–ª–±–µ–∫ –±–µ–∑ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫</a></h4>
<pre><code class="language-javascript">// –§—É–Ω–∫—Ü–∏—è —Å –∫–æ–ª–±–µ–∫–æ–º - –¥–æ–±–∞–≤–ª—è–µ–º —Ç—Ä–µ—Ç–∏–π –ø–∞—Ä–∞–º–µ—Ç—Ä
function sum(a, b, callback) {
  // –í–º–µ—Å—Ç–æ return –≤—ã–∑—ã–≤–∞–µ–º –∫–æ–ª–±–µ–∫ —Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–º
  const result = a + b;
  callback(result);
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å –∞–Ω–æ–Ω–∏–º–Ω–æ–π —Å—Ç—Ä–µ–ª–æ—á–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–µ–π
sum(5, 3, (result) =&gt; {
  console.log('–†–µ–∑—É–ª—å—Ç–∞—Ç —á–µ—Ä–µ–∑ –∫–æ–ª–±–µ–∫:', result);
  // –†–µ–∑—É–ª—å—Ç–∞—Ç —á–µ—Ä–µ–∑ –∫–æ–ª–±–µ–∫: 8
});

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å –∏–º–µ–Ω–æ–≤–∞–Ω–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–µ–π
function handleSum(result) {
  console.log('–°—É–º–º–∞ —Ä–∞–≤–Ω–∞:', result);
}

sum(10, 20, handleSum); // –°—É–º–º–∞ —Ä–∞–≤–Ω–∞: 30

// –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–≥–æ –ø–æ–≤–µ–¥–µ–Ω–∏—è
console.log('–ù–∞—á–∞–ª–æ');

sum(7, 13, (result) =&gt; {
  console.log('–†–µ–∑—É–ª—å—Ç–∞—Ç:', result);
});

console.log('–ö–æ–Ω–µ—Ü');

// –í—ã–≤–æ–¥ (–ø–æ–∫–∞ —Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π):
// –ù–∞—á–∞–ª–æ
// –†–µ–∑—É–ª—å—Ç–∞—Ç: 20
// –ö–æ–Ω–µ—Ü
</code></pre>
<p><strong>–ß—Ç–æ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å:</strong></p>
<ul>
<li>–î–æ–±–∞–≤–ª–µ–Ω —Ç—Ä–µ—Ç–∏–π –∞—Ä–≥—É–º–µ–Ω—Ç ‚Äî —Ñ—É–Ω–∫—Ü–∏—è <code>callback</code></li>
<li>–í–º–µ—Å—Ç–æ <code>return</code> —Ä–µ–∑—É–ª—å—Ç–∞—Ç –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è –∫–∞–∫ –∞—Ä–≥—É–º–µ–Ω—Ç –≤ –∫–æ–ª–±–µ–∫</li>
<li>–í—ã–∑—ã–≤–∞—é—â–∏–π –∫–æ–¥ –ø–æ–ª—É—á–∞–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç —á–µ—Ä–µ–∑ –≤—ã–∑–æ–≤ –ø–µ—Ä–µ–¥–∞–Ω–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–∏</li>
<li>–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–º—É –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—é (—Ö–æ—Ç—è –ø–æ–∫–∞ –∫–æ–¥ —Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π)</li>
</ul>
<p><strong>–í–∞–∂–Ω–æ–µ –∑–∞–º–µ—á–∞–Ω–∏–µ:</strong> –°–∞–º —Ñ–∞–∫—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∫–æ–ª–±–µ–∫–∞ –Ω–µ –¥–µ–ª–∞–µ—Ç —Ñ—É–Ω–∫—Ü–∏—é –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–π. –î–ª—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç–∏ –Ω—É–∂–Ω—ã —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ –º–µ—Ö–∞–Ω–∏–∑–º—ã (—Ç–∞–π–º–µ—Ä—ã, I/O –æ–ø–µ—Ä–∞—Ü–∏–∏, –ø—Ä–æ–º–∏—Å—ã –∏ —Ç.–¥.).</p>
<h4 id="–®–∞–≥-3-–ö–æ–ª–±–µ–∫-—Å-–∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–º-error-first"><a class="header" href="#–®–∞–≥-3-–ö–æ–ª–±–µ–∫-—Å-–∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–º-error-first">–®–∞–≥ 3: –ö–æ–ª–±–µ–∫ —Å –∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–º error-first</a></h4>
<pre><code class="language-javascript">// –§—É–Ω–∫—Ü–∏—è —Å–ª–µ–¥—É–µ—Ç –∫–æ–Ω—Ç—Ä–∞–∫—Ç—É callback-last-error-first
function sum(a, b, callback) {
  // –ü–µ—Ä–≤—ã–π –∞—Ä–≥—É–º–µ–Ω—Ç –∫–æ–ª–±–µ–∫–∞ - –æ—à–∏–±–∫–∞ (null, –µ—Å–ª–∏ –µ—ë –Ω–µ—Ç)
  // –í—Ç–æ—Ä–æ–π –∞—Ä–≥—É–º–µ–Ω—Ç - —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤—ã—á–∏—Å–ª–µ–Ω–∏—è
  callback(null, a + b);
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å —è–≤–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–æ–π –æ—à–∏–±–æ–∫
sum(5, 3, (error, result) =&gt; {
  if (error) {
    console.error('–ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞:', error.message);
    return; // –í–∞–∂–Ω–æ! –ü—Ä–µ–∫—Ä–∞—â–∞–µ–º –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –ø—Ä–∏ –æ—à–∏–±–∫–µ
  }
  console.log('–†–µ–∑—É–ª—å—Ç–∞—Ç:', result); // –†–µ–∑—É–ª—å—Ç–∞—Ç: 8
});

// –ü—Ä–∏–º–µ—Ä —Å –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–º–∏ –æ–ø–µ—Ä–∞—Ü–∏—è–º–∏
function calculate(operation, a, b, callback) {
  let result;

  switch(operation) {
    case 'add':
      result = a + b;
      break;
    case 'subtract':
      result = a - b;
      break;
    case 'multiply':
      result = a * b;
      break;
    case 'divide':
      if (b === 0) {
        callback(new Error('Division by zero'));
        return;
      }
      result = a / b;
      break;
    default:
      callback(new Error(`Unknown operation: ${operation}`));
      return;
  }

  callback(null, result);
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
calculate('add', 10, 5, (err, res) =&gt; {
  if (err) return console.error(err.message);
  console.log('10 + 5 =', res); // 10 + 5 = 15
});

calculate('divide', 10, 0, (err, res) =&gt; {
  if (err) return console.error(err.message); // Division by zero
  console.log(res);
});
</code></pre>
<p><strong>–ö–ª—é—á–µ–≤—ã–µ –º–æ–º–µ–Ω—Ç—ã –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞ error-first:</strong></p>
<ul>
<li>–ü–µ—Ä–≤—ã–π –∞—Ä–≥—É–º–µ–Ω—Ç –∫–æ–ª–±–µ–∫–∞ <strong>–≤—Å–µ–≥–¥–∞</strong> –∑–∞—Ä–µ–∑–µ—Ä–≤–∏—Ä–æ–≤–∞–Ω –¥–ª—è –æ—à–∏–±–∫–∏</li>
<li>–ï—Å–ª–∏ –æ–ø–µ—Ä–∞—Ü–∏—è —É—Å–ø–µ—à–Ω–∞, –ø–µ—Ä–≤—ã–π –∞—Ä–≥—É–º–µ–Ω—Ç —Ä–∞–≤–µ–Ω <code>null</code> –∏–ª–∏ <code>undefined</code></li>
<li>–†–µ–∑—É–ª—å—Ç–∞—Ç—ã –æ–ø–µ—Ä–∞—Ü–∏–∏ –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è –Ω–∞—á–∏–Ω–∞—è —Å–æ –≤—Ç–æ—Ä–æ–≥–æ –∞—Ä–≥—É–º–µ–Ω—Ç–∞</li>
<li>–û–±—Ä–∞–±–æ—Ç—á–∏–∫ <strong>–æ–±—è–∑–∞–Ω</strong> –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞–ª–∏—á–∏–µ –æ—à–∏–±–∫–∏ –ø–µ—Ä–µ–¥ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞</li>
</ul>
<h4 id="–®–∞–≥-4-–ü–µ—Ä–µ–¥–∞—á–∞-–æ—à–∏–±–∫–∏-–≤-–∫–æ–ª–±–µ–∫"><a class="header" href="#–®–∞–≥-4-–ü–µ—Ä–µ–¥–∞—á–∞-–æ—à–∏–±–∫–∏-–≤-–∫–æ–ª–±–µ–∫">–®–∞–≥ 4: –ü–µ—Ä–µ–¥–∞—á–∞ –æ—à–∏–±–∫–∏ –≤ –∫–æ–ª–±–µ–∫</a></h4>
<pre><code class="language-javascript">// –§—É–Ω–∫—Ü–∏—è —Å –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π –∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–µ–π –æ—à–∏–±–æ–∫
function divide(a, b, callback) {
  // –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
  if (typeof a !== 'number' || typeof b !== 'number') {
    callback(new Error('–ê—Ä–≥—É–º–µ–Ω—Ç—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —á–∏—Å–ª–∞–º–∏'));
    return;
  }

  if (b === 0) {
    // –ü–µ—Ä–µ–¥–∞–µ–º –æ—à–∏–±–∫—É –∫–∞–∫ –ø–µ—Ä–≤—ã–π –∞—Ä–≥—É–º–µ–Ω—Ç
    callback(new Error('–î–µ–ª–µ–Ω–∏–µ –Ω–∞ –Ω–æ–ª—å –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ'));
    return;
  }

  // –£—Å–ø–µ—à–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç - –ø–µ—Ä–≤—ã–π –∞—Ä–≥—É–º–µ–Ω—Ç null
  callback(null, a / b);
}

// –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
divide(10, 2, (error, result) =&gt; {
  if (error) {
    console.error('–û—à–∏–±–∫–∞:', error.message);
    return;
  }
  console.log('–†–µ–∑—É–ª—å—Ç–∞—Ç –¥–µ–ª–µ–Ω–∏—è:', result);
  // –†–µ–∑—É–ª—å—Ç–∞—Ç –¥–µ–ª–µ–Ω–∏—è: 5
});

divide(10, 0, (error, result) =&gt; {
  if (error) {
    console.error('–û—à–∏–±–∫–∞:', error.message);
    // –û—à–∏–±–∫–∞: –î–µ–ª–µ–Ω–∏–µ –Ω–∞ –Ω–æ–ª—å –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ
    return;
  }
  console.log('–†–µ–∑—É–ª—å—Ç–∞—Ç –¥–µ–ª–µ–Ω–∏—è:', result);
});

divide('10', 2, (error, result) =&gt; {
  if (error) {
    console.error('–û—à–∏–±–∫–∞:', error.message);
    // –û—à–∏–±–∫–∞: –ê—Ä–≥—É–º–µ–Ω—Ç—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —á–∏—Å–ª–∞–º–∏
    return;
  }
  console.log('–†–µ–∑—É–ª—å—Ç–∞—Ç –¥–µ–ª–µ–Ω–∏—è:', result);
});

// –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å —Ä–∞–∑–Ω—ã–º–∏ —Å—Ç—Ä–∞—Ç–µ–≥–∏—è–º–∏
function divideWithLogging(a, b, callback) {
  divide(a, b, (error, result) =&gt; {
    if (error) {
      // –õ–æ–≥–∏—Ä—É–µ–º –æ—à–∏–±–∫—É –∏ –ø—Ä–æ–±—Ä–∞—Å—ã–≤–∞–µ–º –¥–∞–ª—å—à–µ
      console.error(`[LOG] –û—à–∏–±–∫–∞ –ø—Ä–∏ –¥–µ–ª–µ–Ω–∏–∏ ${a} –Ω–∞ ${b}:`, error.message);
      callback(error);
      return;
    }

    // –õ–æ–≥–∏—Ä—É–µ–º —É—Å–ø–µ—à–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç
    console.log(`[LOG] ${a} / ${b} = ${result}`);
    callback(null, result);
  });
}
</code></pre>
<p><strong>–¢–∏–ø—ã –æ—à–∏–±–æ–∫, –∫–æ—Ç–æ—Ä—ã–µ —Å—Ç–æ–∏—Ç –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å:</strong></p>
<ol>
<li><strong>–û—à–∏–±–∫–∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏</strong> ‚Äî –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –≤—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ</li>
<li><strong>–õ–æ–≥–∏—á–µ—Å–∫–∏–µ –æ—à–∏–±–∫–∏</strong> ‚Äî –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –æ–ø–µ—Ä–∞—Ü–∏–∏ (–¥–µ–ª–µ–Ω–∏–µ –Ω–∞ –Ω–æ–ª—å)</li>
<li><strong>–°–∏—Å—Ç–µ–º–Ω—ã–µ –æ—à–∏–±–∫–∏</strong> ‚Äî –æ—à–∏–±–∫–∏ —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã, —Å–µ—Ç–∏ –∏ —Ç.–¥.</li>
<li><strong>–û—à–∏–±–∫–∏ –ø–∞—Ä—Å–∏–Ω–≥–∞</strong> ‚Äî –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –¥–∞–Ω–Ω—ã—Ö</li>
</ol>
<hr />
<h2 id="2-–ö–æ–Ω—Ç—Ä–∞–∫—Ç-callback-last-error-first"><a class="header" href="#2-–ö–æ–Ω—Ç—Ä–∞–∫—Ç-callback-last-error-first">2. –ö–æ–Ω—Ç—Ä–∞–∫—Ç Callback-last-error-first</a></h2>
<h3 id="–ü–æ–ª–Ω–æ–µ-–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ-–∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞"><a class="header" href="#–ü–æ–ª–Ω–æ–µ-–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ-–∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞">–ü–æ–ª–Ω–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞</a></h3>
<p><strong>Callback-last-error-first (CLF)</strong> ‚Äî —ç—Ç–æ —Å–æ–≥–ª–∞—à–µ–Ω–∏–µ (convention) –æ —Ç–æ–º, –∫–∞–∫ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞—Ç—å –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –∏ –∫–æ–ª–±–µ–∫–∏ –≤ —ç–∫–æ—Å–∏—Å—Ç–µ–º–µ Node.js –∏ JavaScript.</p>
<p><strong>–ù–∞–∑–≤–∞–Ω–∏–µ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞ —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ –¥–≤—É—Ö —á–∞—Å—Ç–µ–π:</strong></p>
<ol>
<li>
<p><strong>Callback-last</strong> (–∫–æ–ª–±–µ–∫ –ø–æ—Å–ª–µ–¥–Ω–∏–º):</p>
<ul>
<li>–§—É–Ω–∫—Ü–∏—è —Å –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–º –ø–æ–≤–µ–¥–µ–Ω–∏–µ–º –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –∫–æ–ª–±–µ–∫ <strong>–ø–æ—Å–ª–µ–¥–Ω–∏–º –∞—Ä–≥—É–º–µ–Ω—Ç–æ–º</strong></li>
<li>–í—Å–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–∞–Ω–Ω—ã—Ö –∏–¥—É—Ç –ø–µ—Ä–µ–¥ –∫–æ–ª–±–µ–∫–æ–º</li>
<li>–≠—Ç–æ –¥–µ–ª–∞–µ—Ç API –ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º—ã–º –∏ –µ–¥–∏–Ω–æ–æ–±—Ä–∞–∑–Ω—ã–º</li>
</ul>
</li>
<li>
<p><strong>Error-first</strong> (–æ—à–∏–±–∫–∞ –ø–µ—Ä–≤–æ–π):</p>
<ul>
<li>–ö–æ–ª–±–µ–∫ –ø–æ–ª—É—á–∞–µ—Ç –æ—à–∏–±–∫—É <strong>–ø–µ—Ä–≤—ã–º –∞—Ä–≥—É–º–µ–Ω—Ç–æ–º</strong></li>
<li>–ï—Å–ª–∏ –æ—à–∏–±–∫–∏ –Ω–µ—Ç, –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è <code>null</code> –∏–ª–∏ <code>undefined</code></li>
<li>–î–∞–Ω–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è –Ω–∞—á–∏–Ω–∞—è —Å–æ –≤—Ç–æ—Ä–æ–≥–æ –∞—Ä–≥—É–º–µ–Ω—Ç–∞</li>
</ul>
</li>
</ol>
<h3 id="–§–æ—Ä–º–∞–ª—å–Ω–∞—è-—Å—Ç—Ä—É–∫—Ç—É—Ä–∞-–∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞"><a class="header" href="#–§–æ—Ä–º–∞–ª—å–Ω–∞—è-—Å—Ç—Ä—É–∫—Ç—É—Ä–∞-–∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞">–§–æ—Ä–º–∞–ª—å–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞</a></h3>
<pre><code class="language-javascript">// –û–±—â–∞—è —Ñ–æ—Ä–º–∞ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–∏ —Å CLF –∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–º
function asyncOperation(param1, param2, ..., paramN, callback) {
  // –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–π –æ–ø–µ—Ä–∞—Ü–∏–∏

  // –ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –æ—à–∏–±–∫–∏:
  if (errorCondition) {
    callback(new Error('–û–ø–∏—Å–∞–Ω–∏–µ –æ—à–∏–±–∫–∏'));
    return;
  }

  // –ü—Ä–∏ —É—Å–ø–µ—à–Ω–æ–º –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏:
  callback(null, result1, result2, ..., resultN);
}

// –û–±—â–∞—è —Ñ–æ—Ä–º–∞ callback-—Ñ—É–Ω–∫—Ü–∏–∏
function callback(error, data1, data2, ..., dataN) {
  // –û–±—è–∑–∞—Ç–µ–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –æ—à–∏–±–∫–∏
  if (error) {
    // –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–∫–∏: –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ, –ø—Ä–æ–±—Ä–∞—Å—ã–≤–∞–Ω–∏–µ, –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ
    console.error('Error:', error.message);
    return; // –í–∞–∂–Ω–æ! –ü—Ä–µ–∫—Ä–∞—â–∞–µ–º –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ
  }

  // –†–∞–±–æ—Ç–∞ —Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏
  console.log('Data:', data1, data2, ..., dataN);
}
</code></pre>
<h3 id="–ü—Ä–∏–º–µ—Ä—ã-—Å–∏–≥–Ω–∞—Ç—É—Ä-—Ñ—É–Ω–∫—Ü–∏–π-—Å-clf"><a class="header" href="#–ü—Ä–∏–º–µ—Ä—ã-—Å–∏–≥–Ω–∞—Ç—É—Ä-—Ñ—É–Ω–∫—Ü–∏–π-—Å-clf">–ü—Ä–∏–º–µ—Ä—ã —Å–∏–≥–Ω–∞—Ç—É—Ä —Ñ—É–Ω–∫—Ü–∏–π —Å CLF</a></h3>
<pre><code class="language-javascript">// –ß—Ç–µ–Ω–∏–µ —Ñ–∞–π–ª–∞ (Node.js fs module)
fs.readFile(path, encoding, callback);
// callback(error, data)

// –ó–∞–ø–∏—Å—å —Ñ–∞–π–ª–∞
fs.writeFile(path, data, encoding, callback);
// callback(error)

// –ó–∞–ø—Ä–æ—Å –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
database.query(sql, params, callback);
// callback(error, rows)

// HTTP –∑–∞–ø—Ä–æ—Å
http.get(url, options, callback);
// callback(error, response)

// –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
someAsyncOperation(param1, param2, callback);
// callback(error, result1, result2, result3)
</code></pre>
<h3 id="–ü–æ—á–µ–º—É-–∫–æ–Ω—Ç—Ä–∞–∫—Ç-clf-–≤–∞–∂–µ–Ω"><a class="header" href="#–ü–æ—á–µ–º—É-–∫–æ–Ω—Ç—Ä–∞–∫—Ç-clf-–≤–∞–∂–µ–Ω">–ü–æ—á–µ–º—É –∫–æ–Ω—Ç—Ä–∞–∫—Ç CLF –≤–∞–∂–µ–Ω?</a></h3>
<p><strong>–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ —Å–ª–µ–¥–æ–≤–∞–Ω–∏—è –∫–æ–Ω—Ç—Ä–∞–∫—Ç—É:</strong></p>
<ol>
<li>
<p><strong>–ï–¥–∏–Ω–æ–æ–±—Ä–∞–∑–∏–µ API</strong></p>
<ul>
<li>–í—Å–µ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Å–ª–µ–¥—É—é—Ç –æ–¥–Ω–æ–º—É –ø–∞—Ç—Ç–µ—Ä–Ω—É</li>
<li>–ù–µ –Ω—É–∂–Ω–æ –∫–∞–∂–¥—ã–π —Ä–∞–∑ —á–∏—Ç–∞—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é</li>
<li>–°–Ω–∏–∂–∞–µ—Ç—Å—è –∫–æ–≥–Ω–∏—Ç–∏–≤–Ω–∞—è –Ω–∞–≥—Ä—É–∑–∫–∞</li>
</ul>
</li>
<li>
<p><strong>–û–±—è–∑–∞—Ç–µ–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫</strong></p>
<ul>
<li>–ü–µ—Ä–≤—ã–π –∞—Ä–≥—É–º–µ–Ω—Ç –Ω–∞–ø–æ–º–∏–Ω–∞–µ—Ç –æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ –æ—à–∏–±–æ–∫</li>
<li>–û—à–∏–±–∫–∏ –Ω–µ–ª—å–∑—è "—Å–ª—É—á–∞–π–Ω–æ" –ø—Ä–æ–∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å</li>
<li>–Ø–≤–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –Ω–∞ –∫–∞–∂–¥–æ–º —É—Ä–æ–≤–Ω–µ</li>
</ul>
</li>
<li>
<p><strong>–ü—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–æ—Å—Ç—å –∫–æ–¥–∞</strong></p>
<ul>
<li>–õ–µ–≥–∫–æ —á–∏—Ç–∞—Ç—å —á—É–∂–æ–π –∫–æ–¥</li>
<li>–õ–µ–≥–∫–æ –ø–∏—Å–∞—Ç—å –∫–æ–¥, –∫–æ—Ç–æ—Ä—ã–π –¥—Ä—É–≥–∏–µ –ø–æ–π–º—É—Ç</li>
<li>–£–ø—Ä–æ—â–∞–µ—Ç—Å—è code review</li>
</ul>
</li>
<li>
<p><strong>–°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —ç–∫–æ—Å–∏—Å—Ç–µ–º—ã</strong></p>
<ul>
<li>–°—Ç–∞–Ω–¥–∞—Ä—Ç –¥–ª—è –≤—Å–µ–≥–æ Node.js ecosystem</li>
<li>–í—Å–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ –∏ –º–æ–¥—É–ª–∏ —Å–ª–µ–¥—É—é—Ç –æ–¥–Ω–æ–º—É –∫–æ–Ω—Ç—Ä–∞–∫—Ç—É</li>
<li>–õ–µ–≥–∫–æ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å —Ä–∞–∑–Ω—ã–µ –º–æ–¥—É–ª–∏</li>
</ul>
</li>
<li>
<p><strong>–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Å–æ–∑–¥–∞–Ω–∏—è —É—Ç–∏–ª–∏—Ç</strong></p>
<ul>
<li>–ú–æ–∂–Ω–æ –ø–∏—Å–∞—Ç—å —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏</li>
<li>–õ–µ–≥–∫–æ –ø—Ä–æ–º–∏—Å–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏–∏</li>
<li>–£–ø—Ä–æ—â–∞–µ—Ç—Å—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ</li>
</ul>
</li>
</ol>
<h3 id="–ü—Ä–∏–º–µ—Ä-—É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ–≥–æ-–æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞"><a class="header" href="#–ü—Ä–∏–º–µ—Ä-—É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ–≥–æ-–æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞">–ü—Ä–∏–º–µ—Ä —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ–≥–æ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞</a></h3>
<pre><code class="language-javascript">// –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –æ–ø–µ—Ä–∞—Ü–∏–π
function withLogging(operationName, asyncFunction) {
  return function(...args) {
    const callback = args[args.length - 1];

    // –°–æ–∑–¥–∞–µ–º –æ–±–µ—Ä—Ç–∫—É –Ω–∞–¥ –∫–æ–ª–±–µ–∫–æ–º
    const wrappedCallback = (error, ...results) =&gt; {
      if (error) {
        console.error(`[${operationName}] ERROR:`, error.message);
      } else {
        console.log(`[${operationName}] SUCCESS:`, results);
      }

      // –í—ã–∑—ã–≤–∞–µ–º –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π –∫–æ–ª–±–µ–∫
      callback(error, ...results);
    };

    // –ó–∞–º–µ–Ω—è–µ–º –ø–æ—Å–ª–µ–¥–Ω–∏–π –∞—Ä–≥—É–º–µ–Ω—Ç (–∫–æ–ª–±–µ–∫) –Ω–∞ –æ–±–µ—Ä—Ç–∫—É
    args[args.length - 1] = wrappedCallback;

    console.log(`[${operationName}] START`);
    asyncFunction(...args);
  };
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
const fs = require('fs');

const readFileWithLogging = withLogging('ReadFile', fs.readFile);

readFileWithLogging('./config.json', 'utf8', (error, data) =&gt; {
  if (error) return;
  console.log('File content:', data);
});

// –í—ã–≤–æ–¥:
// [ReadFile] START
// [ReadFile] SUCCESS: ['{"port": 3000}']
// File content: {"port": 3000}
</code></pre>
<h3 id="–ù–∞—Ä—É—à–µ–Ω–∏–µ-–∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞-–∏-–µ–≥–æ-–ø–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è"><a class="header" href="#–ù–∞—Ä—É—à–µ–Ω–∏–µ-–∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞-–∏-–µ–≥–æ-–ø–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è">–ù–∞—Ä—É—à–µ–Ω–∏–µ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞ –∏ –µ–≥–æ –ø–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è</a></h3>
<pre><code class="language-javascript">// –ü–õ–û–•–û: –ö–æ–ª–±–µ–∫ –Ω–µ –ø–æ—Å–ª–µ–¥–Ω–∏–π –∞—Ä–≥—É–º–µ–Ω—Ç
function badFunction(callback, param1, param2) {
  // –ù–µ–ø—Ä–∏–≤—ã—á–Ω—ã–π –ø–æ—Ä—è–¥–æ–∫ - –ª–µ–≥–∫–æ –æ—à–∏–±–∏—Ç—å—Å—è
  callback(null, param1 + param2);
}

// –ü–õ–û–•–û: –û—à–∏–±–∫–∞ –Ω–µ –ø–µ—Ä–≤—ã–π –∞—Ä–≥—É–º–µ–Ω—Ç
function badFunction2(param, callback) {
  // –ù–∞—Ä—É—à–∞–µ—Ç –∫–æ–Ω—Ç—Ä–∞–∫—Ç error-first
  callback(result, error);
}

// –•–û–†–û–®–û: –°–ª–µ–¥–æ–≤–∞–Ω–∏–µ –∫–æ–Ω—Ç—Ä–∞–∫—Ç—É
function goodFunction(param1, param2, callback) {
  if (someError) {
    callback(new Error('Description'));
    return;
  }
  callback(null, result);
}
</code></pre>
<hr />
<h2 id="3-–°–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ-–∏-–∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ-–∫–æ–ª–±–µ–∫–∏"><a class="header" href="#3-–°–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ-–∏-–∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ-–∫–æ–ª–±–µ–∫–∏">3. –°–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ –∏ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ –∫–æ–ª–±–µ–∫–∏</a></h2>
<h3 id="–í–∞–∂–Ω–æ–µ-—Ä–∞–∑–ª–∏—á–∏–µ"><a class="header" href="#–í–∞–∂–Ω–æ–µ-—Ä–∞–∑–ª–∏—á–∏–µ">–í–∞–∂–Ω–æ–µ —Ä–∞–∑–ª–∏—á–∏–µ</a></h3>
<p><strong>–ö—Ä–∏—Ç–∏—á–µ—Å–∫–æ–µ –ø–æ–Ω–∏–º–∞–Ω–∏–µ:</strong> –°–∞–º –ø–æ —Å–µ–±–µ –ø–∞—Ç—Ç–µ—Ä–Ω –∫–æ–ª–±–µ–∫–æ–≤ <strong>–Ω–µ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç—å</strong>. –ö–æ–ª–±–µ–∫–∏ ‚Äî —ç—Ç–æ –ø—Ä–æ—Å—Ç–æ —Å–ø–æ—Å–æ–± –ø–µ—Ä–µ–¥–∞—á–∏ —Ñ—É–Ω–∫—Ü–∏–∏ –≤ –∫–∞—á–µ—Å—Ç–≤–µ –∞—Ä–≥—É–º–µ–Ω—Ç–∞. –ö–æ–ª–±–µ–∫ –º–æ–∂–µ—Ç –±—ã—Ç—å –≤—ã–∑–≤–∞–Ω –∫–∞–∫ —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ, —Ç–∞–∫ –∏ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ.</p>
<p><strong>–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç—å –∑–∞–≤–∏—Å–∏—Ç –æ—Ç:</strong></p>
<ul>
<li>–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è Event Loop (setTimeout, setInterval)</li>
<li>I/O –æ–ø–µ—Ä–∞—Ü–∏–π (fs, network, database)</li>
<li>–ü—Ä–æ–º–∏—Å–æ–≤ –∏ async/await</li>
<li>Web APIs (–≤ –±—Ä–∞—É–∑–µ—Ä–µ)</li>
<li>Worker threads, child processes</li>
</ul>
<h3 id="–°–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ-–∫–æ–ª–±–µ–∫–∏"><a class="header" href="#–°–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ-–∫–æ–ª–±–µ–∫–∏">–°–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ –∫–æ–ª–±–µ–∫–∏</a></h3>
<p>–°–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ –∫–æ–ª–±–µ–∫–∏ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ, –≤ —Ä–∞–º–∫–∞—Ö —Ç–µ–∫—É—â–µ–≥–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è, –¥–æ —Ç–æ–≥–æ –∫–∞–∫ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤–µ—Ä–Ω–µ—Ç—Å—è –∫ —Å–ª–µ–¥—É—é—â–µ–π —Å—Ç—Ä–æ–∫–µ –∫–æ–¥–∞.</p>
<h4 id="–ü—Ä–∏–º–µ—Ä-1-–ú–µ—Ç–æ–¥—ã-–º–∞—Å—Å–∏–≤–æ–≤"><a class="header" href="#–ü—Ä–∏–º–µ—Ä-1-–ú–µ—Ç–æ–¥—ã-–º–∞—Å—Å–∏–≤–æ–≤">–ü—Ä–∏–º–µ—Ä 1: –ú–µ—Ç–æ–¥—ã –º–∞—Å—Å–∏–≤–æ–≤</a></h4>
<pre><code class="language-javascript">const numbers = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10];

console.log('–ù–∞—á–∞–ª–æ');

// Array.prototype.filter - —Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –º–µ—Ç–æ–¥
const evenNumbers = numbers.filter((num) =&gt; {
  console.log('  –ü—Ä–æ–≤–µ—Ä—è–µ–º —á–∏—Å–ª–æ:', num);
  return num % 2 === 0;
});

console.log('–ß–µ—Ç–Ω—ã–µ —á–∏—Å–ª–∞:', evenNumbers);
console.log('---');

// Array.prototype.map - —Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –º–µ—Ç–æ–¥
const doubled = numbers.map((num) =&gt; {
  console.log('  –£–¥–≤–∞–∏–≤–∞–µ–º:', num);
  return num * 2;
});

console.log('–£–¥–≤–æ–µ–Ω–Ω—ã–µ —á–∏—Å–ª–∞:', doubled);
console.log('---');

// Array.prototype.reduce - —Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –º–µ—Ç–æ–¥
const sum = numbers.reduce((acc, num) =&gt; {
  console.log(`  –ê–∫–∫—É–º—É–ª—è—Ç–æ—Ä: ${acc}, —Ç–µ–∫—É—â–µ–µ: ${num}`);
  return acc + num;
}, 0);

console.log('–°—É–º–º–∞:', sum);
console.log('---');

// Array.prototype.find - —Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –º–µ—Ç–æ–¥
const firstEven = numbers.find((num) =&gt; {
  console.log('  –ò—â–µ–º —á–µ—Ç–Ω–æ–µ, –ø—Ä–æ–≤–µ—Ä—è–µ–º:', num);
  return num % 2 === 0;
});

console.log('–ü–µ—Ä–≤–æ–µ —á–µ—Ç–Ω–æ–µ:', firstEven);
console.log('–ö–æ–Ω–µ—Ü');

// –í—ã–≤–æ–¥ –±—É–¥–µ—Ç —Å—Ç—Ä–æ–≥–æ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω—ã–º
</code></pre>
<p><strong>–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ —Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö –∫–æ–ª–±–µ–∫–æ–≤:</strong></p>
<ul>
<li>–í—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ –≤ –º–æ–º–µ–Ω—Ç –≤—ã–∑–æ–≤–∞</li>
<li>–ë–ª–æ–∫–∏—Ä—É—é—Ç –¥–∞–ª—å–Ω–µ–π—à–µ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –¥–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è</li>
<li>–ù–µ —Ç—Ä–µ–±—É—é—Ç Event Loop</li>
<li>–ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –¥–ª—è:
<ul>
<li>–ò—Ç–µ—Ä–∞—Ü–∏–∏ –ø–æ –∫–æ–ª–ª–µ–∫—Ü–∏—è–º</li>
<li>–§–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –∏ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö</li>
<li>–°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏ (Array.prototype.sort)</li>
<li>–í–∞–ª–∏–¥–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö</li>
</ul>
</li>
</ul>
<h4 id="–ü—Ä–∏–º–µ—Ä-2-–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ-—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ-–∫–æ–ª–±–µ–∫–∏"><a class="header" href="#–ü—Ä–∏–º–µ—Ä-2-–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ-—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ-–∫–æ–ª–±–µ–∫–∏">–ü—Ä–∏–º–µ—Ä 2: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ —Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ –∫–æ–ª–±–µ–∫–∏</a></h4>
<pre><code class="language-javascript">// –§—É–Ω–∫—Ü–∏—è –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –º–∞—Å—Å–∏–≤ –∏ –∫–æ–ª–±–µ–∫ –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∫–∞–∂–¥–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞
function forEachSync(array, callback) {
  for (let i = 0; i &lt; array.length; i++) {
    // –ö–æ–ª–±–µ–∫ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ
    callback(array[i], i, array);
  }
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
console.log('–î–æ forEach');

forEachSync([1, 2, 3], (item, index) =&gt; {
  console.log(`  –≠–ª–µ–º–µ–Ω—Ç ${index}: ${item}`);
});

console.log('–ü–æ—Å–ª–µ forEach');

// –í—ã–≤–æ–¥ (–ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω—ã–π):
// –î–æ forEach
//   –≠–ª–µ–º–µ–Ω—Ç 0: 1
//   –≠–ª–µ–º–µ–Ω—Ç 1: 2
//   –≠–ª–µ–º–µ–Ω—Ç 2: 3
// –ü–æ—Å–ª–µ forEach
</code></pre>
<h4 id="–ü—Ä–∏–º–µ—Ä-3-–û–±—Ä–∞–±–æ—Ç–∫–∞-–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏"><a class="header" href="#–ü—Ä–∏–º–µ—Ä-3-–û–±—Ä–∞–±–æ—Ç–∫–∞-–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏">–ü—Ä–∏–º–µ—Ä 3: –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏</a></h4>
<pre><code class="language-javascript">// –°–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
function processConfig(config, validators) {
  const errors = [];

  // –ü—Ä–æ—Ö–æ–¥–∏–º –ø–æ –≤—Å–µ–º –≤–∞–ª–∏–¥–∞—Ç–æ—Ä–∞–º —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ
  validators.forEach((validator) =&gt; {
    const error = validator(config);
    if (error) {
      errors.push(error);
    }
  });

  return errors;
}

// –í–∞–ª–∏–¥–∞—Ç–æ—Ä—ã
const validators = [
  (config) =&gt; config.port ? null : 'Port is required',
  (config) =&gt; config.host ? null : 'Host is required',
  (config) =&gt; typeof config.port === 'number' ? null : 'Port must be a number',
];

const config = { port: 3000, host: 'localhost' };

console.log('–ù–∞—á–∞–ª–æ –≤–∞–ª–∏–¥–∞—Ü–∏–∏');
const errors = processConfig(config, validators);
console.log('–ö–æ–Ω–µ—Ü –≤–∞–ª–∏–¥–∞—Ü–∏–∏');
console.log('–û—à–∏–±–∫–∏:', errors); // []
</code></pre>
<h3 id="–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ-–∫–æ–ª–±–µ–∫–∏"><a class="header" href="#–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ-–∫–æ–ª–±–µ–∫–∏">–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ –∫–æ–ª–±–µ–∫–∏</a></h3>
<p>–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ –∫–æ–ª–±–µ–∫–∏ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –≤ –±—É–¥—É—â–µ–º, –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Ç–µ–∫—É—â–µ–≥–æ —Å—Ç–µ–∫–∞ –≤—ã–∑–æ–≤–æ–≤. –û–Ω–∏ –Ω–µ –±–ª–æ–∫–∏—Ä—É—é—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –ø—Ä–æ–≥—Ä–∞–º–º—ã.</p>
<h4 id="–ü—Ä–∏–º–µ—Ä-1-–¢–∞–π–º–µ—Ä—ã"><a class="header" href="#–ü—Ä–∏–º–µ—Ä-1-–¢–∞–π–º–µ—Ä—ã">–ü—Ä–∏–º–µ—Ä 1: –¢–∞–π–º–µ—Ä—ã</a></h4>
<pre><code class="language-javascript">// –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ –∫–æ–ª–±–µ–∫–∏ —Å —Ç–∞–π–º–µ—Ä–∞–º–∏
console.log('1. –ù–∞—á–∞–ª–æ –ø—Ä–æ–≥—Ä–∞–º–º—ã');

setTimeout(() =&gt; {
  // –≠—Ç–æ—Ç –∫–æ–ª–±–µ–∫ –≤—ã–ø–æ–ª–Ω–∏—Ç—Å—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ —á–µ—Ä–µ–∑ 0 –º—Å
  console.log('2. –¢–∞–π–º–µ—Ä 0 –º—Å');
}, 0);

setTimeout(() =&gt; {
  console.log('4. –¢–∞–π–º–µ—Ä 100 –º—Å');
}, 100);

console.log('3. –°–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –∫–æ–¥');

// –í—ã–≤–æ–¥:
// 1. –ù–∞—á–∞–ª–æ –ø—Ä–æ–≥—Ä–∞–º–º—ã
// 3. –°–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –∫–æ–¥
// 2. –¢–∞–π–º–µ—Ä 0 –º—Å
// 4. –¢–∞–π–º–µ—Ä 100 –º—Å

// –û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ: –¥–∞–∂–µ —Å –∑–∞–¥–µ—Ä–∂–∫–æ–π 0 –º—Å,
// –∫–æ–ª–±–µ–∫ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –ø–æ—Å–ª–µ —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–≥–æ –∫–æ–¥–∞!
</code></pre>
<h4 id="–ü—Ä–∏–º–µ—Ä-2-–û–±—Ä–∞–±–æ—Ç–∫–∞-–º–∞—Å—Å–∏–≤–∞-—Å-–∑–∞–¥–µ—Ä–∂–∫–æ–π"><a class="header" href="#–ü—Ä–∏–º–µ—Ä-2-–û–±—Ä–∞–±–æ—Ç–∫–∞-–º–∞—Å—Å–∏–≤–∞-—Å-–∑–∞–¥–µ—Ä–∂–∫–æ–π">–ü—Ä–∏–º–µ—Ä 2: –û–±—Ä–∞–±–æ—Ç–∫–∞ –º–∞—Å—Å–∏–≤–∞ —Å –∑–∞–¥–µ—Ä–∂–∫–æ–π</a></h4>
<pre><code class="language-javascript">// –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –∏—Ç–µ—Ä–∞—Ü–∏—è –ø–æ –º–∞—Å—Å–∏–≤—É
const data = [
  { id: 1, name: 'Alice', role: 'Admin' },
  { id: 2, name: 'Bob', role: 'User' },
  { id: 3, name: 'Charlie', role: 'Moderator' }
];

let index = 0;

console.log('–ó–∞–ø—É—Å–∫ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏');

// –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∏–Ω—Ç–µ—Ä–≤–∞–ª –Ω–∞ 10 –º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥
const timerId = setInterval(() =&gt; {
  // –≠—Ç–æ—Ç –∫–æ–ª–±–µ–∫ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ –∫–∞–∂–¥—ã–µ 10 –º—Å
  const item = data[index];
  console.log(`  [${index + 1}] –û–±—Ä–∞–±–æ—Ç–∫–∞:`, item.name, '-', item.role);

  index++;

  // –ö–æ–≥–¥–∞ –¥–æ—à–ª–∏ –¥–æ –∫–æ–Ω—Ü–∞ –º–∞—Å—Å–∏–≤–∞ - –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Ç–∞–π–º–µ—Ä
  if (index &gt;= data.length) {
    clearInterval(timerId);
    console.log('–û–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞');
  }
}, 10);

console.log('–¢–∞–π–º–µ—Ä –∑–∞–ø—É—â–µ–Ω, –ø—Ä–æ–¥–æ–ª–∂–∞–µ–º –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ...');
console.log('–≠—Ç–∞ —Å—Ç—Ä–æ–∫–∞ –≤—ã–ø–æ–ª–Ω–∏—Ç—Å—è –î–û –æ–±—Ä–∞–±–æ—Ç–∫–∏ —ç–ª–µ–º–µ–Ω—Ç–æ–≤');

// –í—ã–≤–æ–¥:
// –ó–∞–ø—É—Å–∫ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏
// –¢–∞–π–º–µ—Ä –∑–∞–ø—É—â–µ–Ω, –ø—Ä–æ–¥–æ–ª–∂–∞–µ–º –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ...
// –≠—Ç–∞ —Å—Ç—Ä–æ–∫–∞ –≤—ã–ø–æ–ª–Ω–∏—Ç—Å—è –î–û –æ–±—Ä–∞–±–æ—Ç–∫–∏ —ç–ª–µ–º–µ–Ω—Ç–æ–≤
//   [1] –û–±—Ä–∞–±–æ—Ç–∫–∞: Alice - Admin
//   [2] –û–±—Ä–∞–±–æ—Ç–∫–∞: Bob - User
//   [3] –û–±—Ä–∞–±–æ—Ç–∫–∞: Charlie - Moderator
// –û–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞
</code></pre>
<h4 id="–ü—Ä–∏–º–µ—Ä-3-–ò–º–∏—Ç–∞—Ü–∏—è-–∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–π-–æ–ø–µ—Ä–∞—Ü–∏–∏"><a class="header" href="#–ü—Ä–∏–º–µ—Ä-3-–ò–º–∏—Ç–∞—Ü–∏—è-–∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–π-–æ–ø–µ—Ä–∞—Ü–∏–∏">–ü—Ä–∏–º–µ—Ä 3: –ò–º–∏—Ç–∞—Ü–∏—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–π –æ–ø–µ—Ä–∞—Ü–∏–∏</a></h4>
<pre><code class="language-javascript">// –§—É–Ω–∫—Ü–∏—è –∏–º–∏—Ç–∏—Ä—É–µ—Ç –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—É—é –æ–ø–µ—Ä–∞—Ü–∏—é (–Ω–∞–ø—Ä–∏–º–µ—Ä, API –∑–∞–ø—Ä–æ—Å)
function fetchUserData(userId, callback) {
  console.log(`  [API] –û—Ç–ø—Ä–∞–≤–∫–∞ –∑–∞–ø—Ä–æ—Å–∞ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è ${userId}`);

  // –ò–º–∏—Ç–∏—Ä—É–µ–º –∑–∞–¥–µ—Ä–∂–∫—É —Å–µ—Ç–∏ —Å –ø–æ–º–æ—â—å—é setTimeout
  setTimeout(() =&gt; {
    // –ò–º–∏—Ç–∏—Ä—É–µ–º –ø–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
    const userData = {
      id: userId,
      name: `User${userId}`,
      email: `user${userId}@example.com`,
      createdAt: new Date().toISOString()
    };

    console.log(`  [API] –ü–æ–ª—É—á–µ–Ω—ã –¥–∞–Ω–Ω—ã–µ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è ${userId}`);

    // –í—ã–∑—ã–≤–∞–µ–º –∫–æ–ª–±–µ–∫ —Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–º
    callback(null, userData);
  }, Math.random() * 1000); // –°–ª—É—á–∞–π–Ω–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞ 0-1000 –º—Å
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
console.log('–ù–∞—á–∞–ª–æ');

fetchUserData(1, (error, user) =&gt; {
  if (error) {
    console.error('–û—à–∏–±–∫–∞:', error);
    return;
  }
  console.log('–ü–æ–ª—É—á–µ–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å:', user.name);
});

fetchUserData(2, (error, user) =&gt; {
  if (error) {
    console.error('–û—à–∏–±–∫–∞:', error);
    return;
  }
  console.log('–ü–æ–ª—É—á–µ–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å:', user.name);
});

console.log('–ö–æ–Ω–µ—Ü —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–≥–æ –∫–æ–¥–∞');

// –í—ã–≤–æ–¥ (–ø–æ—Ä—è–¥–æ–∫ –º–æ–∂–µ—Ç –≤–∞—Ä—å–∏—Ä–æ–≤–∞—Ç—å—Å—è –∏–∑-–∑–∞ —Å–ª—É—á–∞–π–Ω–æ–π –∑–∞–¥–µ—Ä–∂–∫–∏):
// –ù–∞—á–∞–ª–æ
//   [API] –û—Ç–ø—Ä–∞–≤–∫–∞ –∑–∞–ø—Ä–æ—Å–∞ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è 1
//   [API] –û—Ç–ø—Ä–∞–≤–∫–∞ –∑–∞–ø—Ä–æ—Å–∞ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è 2
// –ö–æ–Ω–µ—Ü —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–≥–æ –∫–æ–¥–∞
//   [API] –ü–æ–ª—É—á–µ–Ω—ã –¥–∞–Ω–Ω—ã–µ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è 2
// –ü–æ–ª—É—á–µ–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: User2
//   [API] –ü–æ–ª—É—á–µ–Ω—ã –¥–∞–Ω–Ω—ã–µ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è 1
// –ü–æ–ª—É—á–µ–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: User1
</code></pre>
<p><strong>–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö –∫–æ–ª–±–µ–∫–æ–≤:</strong></p>
<ul>
<li>–í—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –≤ –±—É–¥—É—â–µ–º, –Ω–µ –±–ª–æ–∫–∏—Ä—É—è —Ç–µ–∫—É—â–∏–π –∫–æ–¥</li>
<li>–ò—Å–ø–æ–ª—å–∑—É—é—Ç Event Loop –¥–ª—è –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è</li>
<li>–ü–æ–∑–≤–æ–ª—è—é—Ç –ø—Ä–æ–≥—Ä–∞–º–º–µ –ø—Ä–æ–¥–æ–ª–∂–∞—Ç—å —Ä–∞–±–æ—Ç—É –≤–æ –≤—Ä–µ–º—è –æ–∂–∏–¥–∞–Ω–∏—è</li>
<li>–ü—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –¥–ª—è:
<ul>
<li>–û–ø–µ—Ä–∞—Ü–∏–π –≤–≤–æ–¥–∞-–≤—ã–≤–æ–¥–∞ (—Ñ–∞–π–ª—ã, —Å–µ—Ç—å, –ë–î)</li>
<li>–¢–∞–π–º–µ—Ä–æ–≤ –∏ –∏–Ω—Ç–µ—Ä–≤–∞–ª–æ–≤</li>
<li>–°–æ–±—ã—Ç–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–∫–ª–∏–∫–∏, –Ω–∞–∂–∞—Ç–∏—è –∫–ª–∞–≤–∏—à)</li>
<li>–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö –≤—ã—á–∏—Å–ª–µ–Ω–∏–π</li>
</ul>
</li>
</ul>
<h3 id="–û–ø–∞—Å–Ω–æ—Å—Ç—å-—Å–º–µ—à–∏–≤–∞–Ω–∏—è-—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–≥–æ-–∏-–∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–≥–æ-–ø–æ–≤–µ–¥–µ–Ω–∏—è"><a class="header" href="#–û–ø–∞—Å–Ω–æ—Å—Ç—å-—Å–º–µ—à–∏–≤–∞–Ω–∏—è-—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–≥–æ-–∏-–∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–≥–æ-–ø–æ–≤–µ–¥–µ–Ω–∏—è">–û–ø–∞—Å–Ω–æ—Å—Ç—å —Å–º–µ—à–∏–≤–∞–Ω–∏—è —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–≥–æ –∏ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–≥–æ –ø–æ–≤–µ–¥–µ–Ω–∏—è</a></h3>
<pre><code class="language-javascript">// –ü–õ–û–•–û: –ù–µ–ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ
function maybeAsync(useCache, callback) {
  if (useCache) {
    // –°–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –≤—ã–∑–æ–≤ –∫–æ–ª–±–µ–∫–∞
    callback(null, cachedData);
  } else {
    // –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –≤—ã–∑–æ–≤ –∫–æ–ª–±–µ–∫–∞
    fetchData((error, data) =&gt; {
      callback(error, data);
    });
  }
}

// –•–û–†–û–®–û: –í—Å–µ–≥–¥–∞ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ
function alwaysAsync(useCache, callback) {
  if (useCache) {
    // –î–µ–ª–∞–µ–º —Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –≤—ã–∑–æ–≤ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–º
    process.nextTick(() =&gt; {
      callback(null, cachedData);
    });
  } else {
    fetchData((error, data) =&gt; {
      callback(error, data);
    });
  }
}
</code></pre>
<p><strong>–ü—Ä–∏–Ω—Ü–∏–ø:</strong> –ï—Å–ª–∏ —Ñ—É–Ω–∫—Ü–∏—è –º–æ–∂–µ—Ç –±—ã—Ç—å –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–π, –æ–Ω–∞ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å <strong>–≤—Å–µ–≥–¥–∞</strong> –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–π, –¥–∞–∂–µ –∫–æ–≥–¥–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ.</p>
<hr />
<h2 id="4-–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ-–æ–ø–µ—Ä–∞—Ü–∏–∏-–≤–≤–æ–¥–∞-–≤—ã–≤–æ–¥–∞-–≤-nodejs"><a class="header" href="#4-–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ-–æ–ø–µ—Ä–∞—Ü–∏–∏-–≤–≤–æ–¥–∞-–≤—ã–≤–æ–¥–∞-–≤-nodejs">4. –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –≤–≤–æ–¥–∞-–≤—ã–≤–æ–¥–∞ –≤ Node.js</a></h2>
<h3 id="–§–∞–π–ª–æ–≤–∞—è-—Å–∏—Å—Ç–µ–º–∞-fs-module"><a class="header" href="#–§–∞–π–ª–æ–≤–∞—è-—Å–∏—Å—Ç–µ–º–∞-fs-module">–§–∞–π–ª–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞ (fs module)</a></h3>
<p>–í—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –≤–≤–æ–¥–∞-–≤—ã–≤–æ–¥–∞ –≤ Node.js –∏—Å–ø–æ–ª—å–∑—É—é—Ç –∫–æ–Ω—Ç—Ä–∞–∫—Ç callback-last-error-first. –ú–æ–¥—É–ª—å <code>fs</code> –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –∫–∞–∫ —Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ, —Ç–∞–∫ –∏ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ –≤–µ—Ä—Å–∏–∏ –º–µ—Ç–æ–¥–æ–≤.</p>
<h4 id="–ß—Ç–µ–Ω–∏–µ-—Ñ–∞–π–ª–∞"><a class="header" href="#–ß—Ç–µ–Ω–∏–µ-—Ñ–∞–π–ª–∞">–ß—Ç–µ–Ω–∏–µ —Ñ–∞–π–ª–∞</a></h4>
<pre><code class="language-javascript">const fs = require('fs');
const path = require('path');

// –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–µ —á—Ç–µ–Ω–∏–µ —Ñ–∞–π–ª–∞
function readConfigFile(callback) {
  const configPath = path.join(__dirname, 'config.json');

  // fs.readFile —Å–ª–µ–¥—É–µ—Ç –∫–æ–Ω—Ç—Ä–∞–∫—Ç—É CLF
  fs.readFile(configPath, 'utf8', (error, data) =&gt; {
    if (error) {
      // –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Ç–∏–ø–æ–≤ –æ—à–∏–±–æ–∫
      if (error.code === 'ENOENT') {
        console.error('–§–∞–π–ª –Ω–µ –Ω–∞–π–¥–µ–Ω:', configPath);
      } else if (error.code === 'EACCES') {
        console.error('–ù–µ—Ç –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞ –∫ —Ñ–∞–π–ª—É:', configPath);
      } else {
        console.error('–û—à–∏–±–∫–∞ —á—Ç–µ–Ω–∏—è —Ñ–∞–π–ª–∞:', error.message);
      }

      callback(error);
      return;
    }

    // –ü–∞—Ä—Å–∏–Ω–≥ JSON
    try {
      const config = JSON.parse(data);
      console.log('–ö–æ–Ω—Ñ–∏–≥ —É—Å–ø–µ—à–Ω–æ –ø—Ä–æ—á–∏—Ç–∞–Ω');
      callback(null, config);
    } catch (parseError) {
      console.error('–û—à–∏–±–∫–∞ –ø–∞—Ä—Å–∏–Ω–≥–∞ JSON:', parseError.message);
      callback(parseError);
    }
  });
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
console.log('–ó–∞–ø—Ä–æ—Å –Ω–∞ —á—Ç–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥–∞...');

readConfigFile((error, config) =&gt; {
  if (error) {
    console.error('–ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥');
    process.exit(1);
    return;
  }

  console.log('–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:', config);
  console.log('–ü–æ—Ä—Ç:', config.port);
  console.log('–•–æ—Å—Ç:', config.host);
});

console.log('–ü—Ä–æ–¥–æ–ª–∂–∞–µ–º –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ (–Ω–µ –∂–¥–µ–º —á—Ç–µ–Ω–∏—è —Ñ–∞–π–ª–∞)');

// –í—ã–≤–æ–¥:
// –ó–∞–ø—Ä–æ—Å –Ω–∞ —á—Ç–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥–∞...
// –ü—Ä–æ–¥–æ–ª–∂–∞–µ–º –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ (–Ω–µ –∂–¥–µ–º —á—Ç–µ–Ω–∏—è —Ñ–∞–π–ª–∞)
// –ö–æ–Ω—Ñ–∏–≥ —É—Å–ø–µ—à–Ω–æ –ø—Ä–æ—á–∏—Ç–∞–Ω
// –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è: { port: 3000, host: 'localhost' }
// –ü–æ—Ä—Ç: 3000
// –•–æ—Å—Ç: localhost
</code></pre>
<h4 id="–ó–∞–ø–∏—Å—å-–≤-—Ñ–∞–π–ª"><a class="header" href="#–ó–∞–ø–∏—Å—å-–≤-—Ñ–∞–π–ª">–ó–∞–ø–∏—Å—å –≤ —Ñ–∞–π–ª</a></h4>
<pre><code class="language-javascript">const fs = require('fs');
const path = require('path');

// –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –∑–∞–ø–∏—Å—å –¥–∞–Ω–Ω—ã—Ö –≤ —Ñ–∞–π–ª
function saveData(filename, data, callback) {
  const filePath = path.join(__dirname, filename);

  // –ü—Ä–µ–æ–±—Ä–∞–∑—É–µ–º –æ–±—ä–µ–∫—Ç –≤ JSON —Å—Ç—Ä–æ–∫—É
  let jsonString;
  try {
    jsonString = JSON.stringify(data, null, 2); // —Å —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ–º
  } catch (stringifyError) {
    callback(stringifyError);
    return;
  }

  // –ó–∞–ø–∏—Å—ã–≤–∞–µ–º –≤ —Ñ–∞–π–ª
  fs.writeFile(filePath, jsonString, 'utf8', (error) =&gt; {
    if (error) {
      console.error('–û—à–∏–±–∫–∞ –∑–∞–ø–∏—Å–∏ —Ñ–∞–π–ª–∞:', error.message);
      callback(error);
      return;
    }

    console.log('–î–∞–Ω–Ω—ã–µ —É—Å–ø–µ—à–Ω–æ –∑–∞–ø–∏—Å–∞–Ω—ã –≤', filename);
    callback(null);
  });
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
const reportData = {
  timestamp: Date.now(),
  message: 'Hello, World!',
  status: 'success',
  items: [1, 2, 3, 4, 5]
};

saveData('report.json', reportData, (error) =&gt; {
  if (error) {
    console.error('–ù–µ —É–¥–∞–ª–æ—Å—å —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –æ—Ç—á–µ—Ç');
    return;
  }

  console.log('–û—Ç—á–µ—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω');
});
</code></pre>
<h4 id="–ü—Ä–æ–≤–µ—Ä–∫–∞-—Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è-–∏-—Å–æ–∑–¥–∞–Ω–∏–µ-–¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏"><a class="header" href="#–ü—Ä–æ–≤–µ—Ä–∫–∞-—Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è-–∏-—Å–æ–∑–¥–∞–Ω–∏–µ-–¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏">–ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è –∏ —Å–æ–∑–¥–∞–Ω–∏–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏</a></h4>
<pre><code class="language-javascript">const fs = require('fs');
const path = require('path');

// –°–æ–∑–¥–∞–Ω–∏–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏, –µ—Å–ª–∏ –æ–Ω–∞ –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
function ensureDirectoryExists(dirPath, callback) {
  // –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ
  fs.access(dirPath, fs.constants.F_OK, (error) =&gt; {
    if (error) {
      // –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç - —Å–æ–∑–¥–∞–µ–º
      console.log('–î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç, —Å–æ–∑–¥–∞–µ–º:', dirPath);

      fs.mkdir(dirPath, { recursive: true }, (mkdirError) =&gt; {
        if (mkdirError) {
          console.error('–û—à–∏–±–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏:', mkdirError.message);
          callback(mkdirError);
          return;
        }

        console.log('–î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è —Å–æ–∑–¥–∞–Ω–∞');
        callback(null);
      });
    } else {
      // –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
      console.log('–î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç:', dirPath);
      callback(null);
    }
  });
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
const logsDir = path.join(__dirname, 'logs');

ensureDirectoryExists(logsDir, (error) =&gt; {
  if (error) {
    console.error('–ù–µ —É–¥–∞–ª–æ—Å—å –ø–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –¥–ª—è –ª–æ–≥–æ–≤');
    return;
  }

  // –¢–µ–ø–µ—Ä—å –º–æ–∂–µ–º –±–µ–∑–æ–ø–∞—Å–Ω–æ –∑–∞–ø–∏—Å—ã–≤–∞—Ç—å —Ñ–∞–π–ª—ã –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é
  const logFile = path.join(logsDir, 'app.log');
  fs.writeFile(logFile, 'Application started\n', 'utf8', (writeError) =&gt; {
    if (writeError) {
      console.error('–û—à–∏–±–∫–∞ –∑–∞–ø–∏—Å–∏ –ª–æ–≥–∞:', writeError.message);
      return;
    }
    console.log('–õ–æ–≥ –∑–∞–ø–∏—Å–∞–Ω');
  });
});
</code></pre>
<h4 id="–ß—Ç–µ–Ω–∏–µ-—Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ-–¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏"><a class="header" href="#–ß—Ç–µ–Ω–∏–µ-—Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ-–¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏">–ß—Ç–µ–Ω–∏–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏</a></h4>
<pre><code class="language-javascript">const fs = require('fs');
const path = require('path');

// –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ —Ñ–∞–π–ª–æ–≤ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏
function listFiles(dirPath, callback) {
  fs.readdir(dirPath, (error, files) =&gt; {
    if (error) {
      console.error('–û—à–∏–±–∫–∞ —á—Ç–µ–Ω–∏—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏:', error.message);
      callback(error);
      return;
    }

    console.log(`–ù–∞–π–¥–µ–Ω–æ —Ñ–∞–π–ª–æ–≤: ${files.length}`);

    // –§–∏–ª—å—Ç—Ä—É–µ–º —Ç–æ–ª—å–∫–æ —Ñ–∞–π–ª—ã (–Ω–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏)
    const fileStats = [];
    let pending = files.length;

    if (pending === 0) {
      callback(null, []);
      return;
    }

    files.forEach((file) =&gt; {
      const filePath = path.join(dirPath, file);

      fs.stat(filePath, (statError, stats) =&gt; {
        if (!statError &amp;&amp; stats.isFile()) {
          fileStats.push({
            name: file,
            size: stats.size,
            modified: stats.mtime
          });
        }

        pending--;

        if (pending === 0) {
          callback(null, fileStats);
        }
      });
    });
  });
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
listFiles(__dirname, (error, files) =&gt; {
  if (error) {
    console.error('–ù–µ —É–¥–∞–ª–æ—Å—å –ø–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ —Ñ–∞–π–ª–æ–≤');
    return;
  }

  console.log('–§–∞–π–ª—ã –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏:');
  files.forEach((file) =&gt; {
    console.log(`  ${file.name} - ${file.size} –±–∞–π—Ç`);
  });
});
</code></pre>
<h3 id="–í–∞–∂–Ω—ã–µ-–º–æ–º–µ–Ω—Ç—ã-—Ä–∞–±–æ—Ç—ã-—Å-fs"><a class="header" href="#–í–∞–∂–Ω—ã–µ-–º–æ–º–µ–Ω—Ç—ã-—Ä–∞–±–æ—Ç—ã-—Å-fs">–í–∞–∂–Ω—ã–µ –º–æ–º–µ–Ω—Ç—ã —Ä–∞–±–æ—Ç—ã —Å fs</a></h3>
<p><strong>–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∫–æ–ª–±–µ–∫–∞ –≤ —Ä–∞–∑–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏—è—Ö:</strong></p>
<ul>
<li><code>fs.readFile(path, encoding, callback)</code> ‚Üí <code>callback(error, data)</code></li>
<li><code>fs.writeFile(path, data, encoding, callback)</code> ‚Üí <code>callback(error)</code></li>
<li><code>fs.readdir(path, callback)</code> ‚Üí <code>callback(error, files)</code></li>
<li><code>fs.stat(path, callback)</code> ‚Üí <code>callback(error, stats)</code></li>
<li><code>fs.mkdir(path, options, callback)</code> ‚Üí <code>callback(error)</code></li>
<li><code>fs.unlink(path, callback)</code> ‚Üí <code>callback(error)</code></li>
</ul>
<p><strong>–û–±—â–∏–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã:</strong></p>
<ul>
<li>–ö–æ–ª–±–µ–∫ –≤—Å–µ–≥–¥–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–π –∞—Ä–≥—É–º–µ–Ω—Ç</li>
<li>–ü–µ—Ä–≤—ã–π –ø–∞—Ä–∞–º–µ—Ç—Ä –∫–æ–ª–±–µ–∫–∞ ‚Äî –æ—à–∏–±–∫–∞</li>
<li>–î–ª—è –æ–ø–µ—Ä–∞—Ü–∏–π —á—Ç–µ–Ω–∏—è ‚Äî –≤—Ç–æ—Ä–æ–π –ø–∞—Ä–∞–º–µ—Ç—Ä —Å–æ–¥–µ—Ä–∂–∏—Ç –¥–∞–Ω–Ω—ã–µ</li>
<li>–î–ª—è –æ–ø–µ—Ä–∞—Ü–∏–π –∑–∞–ø–∏—Å–∏/—É–¥–∞–ª–µ–Ω–∏—è ‚Äî –∫–æ–ª–±–µ–∫ –ø–æ–ª—É—á–∞–µ—Ç —Ç–æ–ª—å–∫–æ –æ—à–∏–±–∫—É</li>
</ul>
<hr />
<h2 id="5-–ò–º–µ–Ω–æ–≤–∞–Ω–Ω—ã–µ-–∫–æ–ª–±–µ–∫–∏-–ª—É—á—à–∞—è-–ø—Ä–∞–∫—Ç–∏–∫–∞"><a class="header" href="#5-–ò–º–µ–Ω–æ–≤–∞–Ω–Ω—ã–µ-–∫–æ–ª–±–µ–∫–∏-–ª—É—á—à–∞—è-–ø—Ä–∞–∫—Ç–∏–∫–∞">5. –ò–º–µ–Ω–æ–≤–∞–Ω–Ω—ã–µ –∫–æ–ª–±–µ–∫–∏: –ª—É—á—à–∞—è –ø—Ä–∞–∫—Ç–∏–∫–∞</a></h2>
<h3 id="–ü—Ä–æ–±–ª–µ–º–∞-–∞–Ω–æ–Ω–∏–º–Ω—ã—Ö-–∫–æ–ª–±–µ–∫–æ–≤"><a class="header" href="#–ü—Ä–æ–±–ª–µ–º–∞-–∞–Ω–æ–Ω–∏–º–Ω—ã—Ö-–∫–æ–ª–±–µ–∫–æ–≤">–ü—Ä–æ–±–ª–µ–º–∞ –∞–Ω–æ–Ω–∏–º–Ω—ã—Ö –∫–æ–ª–±–µ–∫–æ–≤</a></h3>
<p>–ê–Ω–æ–Ω–∏–º–Ω—ã–µ —Å—Ç—Ä–µ–ª–æ—á–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ —É–¥–æ–±–Ω—ã –¥–ª—è –ø—Ä–æ—Å—Ç—ã—Ö —Å–ª—É—á–∞–µ–≤, –Ω–æ —Å–æ–∑–¥–∞—é—Ç –ø—Ä–æ–±–ª–µ–º—ã:</p>
<pre><code class="language-javascript">const fs = require('fs');

// –ü–†–û–ë–õ–ï–ú–ê: –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –∞–Ω–æ–Ω–∏–º–Ω—ã–µ –∫–æ–ª–±–µ–∫–∏
fs.readFile('./config.json', 'utf8', (error, data) =&gt; {
  if (error) {
    console.error(error);
    return;
  }

  const config = JSON.parse(data);

  fs.readFile(config.dataFile, 'utf8', (error2, data2) =&gt; {
    if (error2) {
      console.error(error2);
      return;
    }

    processData(data2, (error3, result) =&gt; {
      if (error3) {
        console.error(error3);
        return;
      }

      console.log(result);
    });
  });
});
</code></pre>
<p><strong>–ü—Ä–æ–±–ª–µ–º—ã —ç—Ç–æ–≥–æ –∫–æ–¥–∞:</strong></p>
<ol>
<li><strong>–ü–ª–æ—Ö–∏–µ stack traces</strong> ‚Äî –ø—Ä–∏ –æ—à–∏–±–∫–µ —Ç—Ä—É–¥–Ω–æ –ø–æ–Ω—è—Ç—å, –≥–¥–µ –∏–º–µ–Ω–Ω–æ –ø—Ä–æ–±–ª–µ–º–∞</li>
<li><strong>–°–ª–æ–∂–Ω–æ—Å—Ç—å –æ—Ç–ª–∞–¥–∫–∏</strong> ‚Äî –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ –ø–æ—Å—Ç–∞–≤–∏—Ç—å breakpoint –Ω–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é</li>
<li><strong>–ù–µ–≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è</strong> ‚Äî –∞–Ω–æ–Ω–∏–º–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –Ω–µ–ª—å–∑—è –≤—ã–∑–≤–∞—Ç—å –ø–æ–≤—Ç–æ—Ä–Ω–æ</li>
<li><strong>–°–ª–æ–∂–Ω–æ—Å—Ç—å —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è</strong> ‚Äî –Ω–µ–ª—å–∑—è –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω—ã–µ —á–∞—Å—Ç–∏</li>
<li><strong>–ü–ª–æ—Ö–∞—è —á–∏—Ç–∞–µ–º–æ—Å—Ç—å</strong> ‚Äî –∫–æ–¥ –ø—Ä–µ–≤—Ä–∞—â–∞–µ—Ç—Å—è –≤ "–ø–∏—Ä–∞–º–∏–¥—É"</li>
</ol>
<h3 id="–†–µ—à–µ–Ω–∏–µ-–∏–º–µ–Ω–æ–≤–∞–Ω–Ω—ã–µ-—Ñ—É–Ω–∫—Ü–∏–∏"><a class="header" href="#–†–µ—à–µ–Ω–∏–µ-–∏–º–µ–Ω–æ–≤–∞–Ω–Ω—ã–µ-—Ñ—É–Ω–∫—Ü–∏–∏">–†–µ—à–µ–Ω–∏–µ: –∏–º–µ–Ω–æ–≤–∞–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏</a></h3>
<p><strong>–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –∏–º–µ–Ω–æ–≤–∞–Ω–Ω—ã—Ö –∫–æ–ª–±–µ–∫–æ–≤:</strong></p>
<ul>
<li>–ü–æ–Ω—è—Ç–Ω—ã–µ stack traces —Å –Ω–∞–∑–≤–∞–Ω–∏—è–º–∏ —Ñ—É–Ω–∫—Ü–∏–π</li>
<li>–ö–∞–∂–¥—É—é —Ñ—É–Ω–∫—Ü–∏—é –º–æ–∂–Ω–æ —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –∏ –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å</li>
<li>–õ–µ–≥–∫–æ –ø–∏—Å–∞—Ç—å unit-—Ç–µ—Å—Ç—ã –¥–ª—è –∫–∞–∂–¥–æ–π —Ñ—É–Ω–∫—Ü–∏–∏</li>
<li>–ö–æ–¥ —Å–∞–º–æ–¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä—É–µ—Ç—Å—è —á–µ—Ä–µ–∑ –∏–º–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏–π</li>
<li>–£–ø—Ä–æ—â–∞–µ—Ç—Å—è –æ—Ç–ª–∞–¥–∫–∞ –∏ –ø—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏–µ</li>
</ul>
<h4 id="–ü—Ä–∏–º–µ—Ä-1-–ë–∞–∑–æ–≤–æ–µ-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ"><a class="header" href="#–ü—Ä–∏–º–µ—Ä-1-–ë–∞–∑–æ–≤–æ–µ-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ">–ü—Ä–∏–º–µ—Ä 1: –ë–∞–∑–æ–≤–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ</a></h4>
<pre><code class="language-javascript">const fs = require('fs');

// –ò–º–µ–Ω–æ–≤–∞–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è-–æ–±—Ä–∞–±–æ—Ç—á–∏–∫
function handleFileRead(error, data) {
  if (error) {
    console.error('–û—à–∏–±–∫–∞ —á—Ç–µ–Ω–∏—è —Ñ–∞–π–ª–∞:', error.message);
    return;
  }
  console.log('–°–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ñ–∞–π–ª–∞:', data);
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
fs.readFile('./data.txt', 'utf8', handleFileRead);
</code></pre>
<p><strong>Stack trace —Å –∏–º–µ–Ω–æ–≤–∞–Ω–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–µ–π:</strong></p>
<pre><code>Error: ENOENT: no such file or directory
    at Object.handleFileRead (example.js:5:15)
    at FSReqCallback.readFileCallback (fs.js:280:3)
</code></pre>
<p><strong>Stack trace —Å –∞–Ω–æ–Ω–∏–º–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–µ–π:</strong></p>
<pre><code>Error: ENOENT: no such file or directory
    at Object.&lt;anonymous&gt; (example.js:5:15)
    at FSReqCallback.readFileCallback (fs.js:280:3)
</code></pre>
<h3 id="–ü–∞—Ç—Ç–µ—Ä–Ω-—Å-–∑–∞–º—ã–∫–∞–Ω–∏–µ–º"><a class="header" href="#–ü–∞—Ç—Ç–µ—Ä–Ω-—Å-–∑–∞–º—ã–∫–∞–Ω–∏–µ–º">–ü–∞—Ç—Ç–µ—Ä–Ω —Å –∑–∞–º—ã–∫–∞–Ω–∏–µ–º</a></h3>
<p>–ß–∞—Å—Ç–æ –Ω—É–∂–Ω–æ –ø–µ—Ä–µ–¥–∞—Ç—å –≤ –∫–æ–ª–±–µ–∫ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã. –î–ª—è —ç—Ç–æ–≥–æ –∏—Å–ø–æ–ª—å–∑—É—é—Ç –∑–∞–º—ã–∫–∞–Ω–∏—è.</p>
<h4 id="–ü—Ä–∏–º–µ—Ä-–ó–∞–º—ã–∫–∞–Ω–∏–µ-vs-bind"><a class="header" href="#–ü—Ä–∏–º–µ—Ä-–ó–∞–º—ã–∫–∞–Ω–∏–µ-vs-bind">–ü—Ä–∏–º–µ—Ä: –ó–∞–º—ã–∫–∞–Ω–∏–µ vs bind</a></h4>
<pre><code class="language-javascript">const fs = require('fs');

// –§—É–Ω–∫—Ü–∏—è –¥–ª—è –≤—ã–≤–æ–¥–∞ —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ —Ñ–∞–π–ª–∞ —Å –ø—Ä–µ—Ñ–∏–∫—Å–æ–º
function printFileContent(prefix, error, data) {
  if (error) {
    console.error(`[${prefix}] –û—à–∏–±–∫–∞:`, error.message);
    return;
  }
  console.log(`[${prefix}] –°–æ–¥–µ—Ä–∂–∏–º–æ–µ:`, data);
}

// –í–ê–†–ò–ê–ù–¢ 1: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ bind (—Å—Ç–∞—Ä—ã–π –ø–æ–¥—Ö–æ–¥)
// –°–≤—è–∑—ã–≤–∞–µ–º –ø–µ—Ä–≤—ã–π –∞—Ä–≥—É–º–µ–Ω—Ç (prefix), –æ—Å—Ç–∞–≤–ª—è—è –¥–≤–∞ –¥—Ä—É–≥–∏—Ö —Å–≤–æ–±–æ–¥–Ω—ã–º–∏
fs.readFile('./file1.txt', 'utf8', printFileContent.bind(null, 'FILE1'));
fs.readFile('./file2.txt', 'utf8', printFileContent.bind(null, 'FILE2'));

// –ü—Ä–æ–±–ª–µ–º—ã bind:
// - –ù—É–∂–Ω–æ –ø–æ–º–Ω–∏—Ç—å –ø—Ä–æ context (–ø–µ—Ä–≤—ã–π –∞—Ä–≥—É–º–µ–Ω—Ç null)
// - –ù–µ–æ—á–µ–≤–∏–¥–Ω—ã–π –ø–æ—Ä—è–¥–æ–∫ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤
// - –°–ª–æ–∂–Ω–µ–µ —á–∏—Ç–∞–µ—Ç—Å—è

// –í–ê–†–ò–ê–ù–¢ 2: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∑–∞–º—ã–∫–∞–Ω–∏—è (—Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –ø–æ–¥—Ö–æ–¥)
function printFileContent(prefix) {
  // –í–æ–∑–≤—Ä–∞—â–∞–µ–º —Ñ—É–Ω–∫—Ü–∏—é —Å –Ω—É–∂–Ω–æ–π —Å–∏–≥–Ω–∞—Ç—É—Ä–æ–π
  return function(error, data) {
    if (error) {
      console.error(`[${prefix}] –û—à–∏–±–∫–∞:`, error.message);
      return;
    }
    console.log(`[${prefix}] –°–æ–¥–µ—Ä–∂–∏–º–æ–µ:`, data);
  };
}

// –í—ã–∑–æ–≤ —Ñ—É–Ω–∫—Ü–∏–∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –≥–æ—Ç–æ–≤—ã–π –∫–æ–ª–±–µ–∫
fs.readFile('./file1.txt', 'utf8', printFileContent('FILE1'));
fs.readFile('./file2.txt', 'utf8', printFileContent('FILE2'));
fs.readFile('./file3.txt', 'utf8', printFileContent('FILE3'));

// –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –∑–∞–º—ã–∫–∞–Ω–∏—è:
// - –Ø–≤–Ω–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –∏ runtime –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
// - –ß–∏—Å—Ç—ã–π –∏ —á–∏—Ç–∞–µ–º—ã–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å
// - –ù–µ –Ω—É–∂–Ω–æ –¥—É–º–∞—Ç—å –ø—Ä–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç
// - –ë–æ–ª–µ–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –ø–æ–¥—Ö–æ–¥
</code></pre>
<h4 id="–ü—Ä–∏–º–µ—Ä-–°–æ–∑–¥–∞–Ω–∏–µ-–æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤-—Å-–∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º"><a class="header" href="#–ü—Ä–∏–º–µ—Ä-–°–æ–∑–¥–∞–Ω–∏–µ-–æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤-—Å-–∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º">–ü—Ä–∏–º–µ—Ä: –°–æ–∑–¥–∞–Ω–∏–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ —Å –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º</a></h4>
<pre><code class="language-javascript">const fs = require('fs');

// –§–∞–±—Ä–∏–∫–∞ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ —Å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ–º
function createFileHandler(fileName, onSuccess) {
  return function(error, data) {
    if (error) {
      console.error(`[${fileName}] –û—à–∏–±–∫–∞ —á—Ç–µ–Ω–∏—è:`, error.code);
      // –ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å fallback –ª–æ–≥–∏–∫—É
      if (error.code === 'ENOENT') {
        console.log(`[${fileName}] –ò—Å–ø–æ–ª—å–∑—É–µ–º –∑–Ω–∞—á–µ–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é`);
        onSuccess('default content');
      }
      return;
    }

    console.log(`[${fileName}] –§–∞–π–ª –ø—Ä–æ—á–∏—Ç–∞–Ω, —Ä–∞–∑–º–µ—Ä: ${data.length} –±–∞–π—Ç`);
    onSuccess(data);
  };
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
function processConfig(data) {
  console.log('–û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–æ–Ω—Ñ–∏–≥–∞:', data);
}

function processData(data) {
  console.log('–û–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö:', data);
}

fs.readFile('./config.json', 'utf8', createFileHandler('config.json', processConfig));
fs.readFile('./data.json', 'utf8', createFileHandler('data.json', processData));
</code></pre>
<h4 id="–ü—Ä–∏–º–µ—Ä-–ü–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–∞—Ü–∏—è-–æ–±—Ä–∞–±–æ—Ç–∫–∏-–æ—à–∏–±–æ–∫"><a class="header" href="#–ü—Ä–∏–º–µ—Ä-–ü–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–∞—Ü–∏—è-–æ–±—Ä–∞–±–æ—Ç–∫–∏-–æ—à–∏–±–æ–∫">–ü—Ä–∏–º–µ—Ä: –ü–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫</a></h4>
<pre><code class="language-javascript">const fs = require('fs');

// –°–æ–∑–¥–∞–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ —Å —Ä–∞–∑–Ω—ã–º–∏ —Å—Ç—Ä–∞—Ç–µ–≥–∏—è–º–∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫
function createReader(options = {}) {
  const {
    fileName = 'unknown',
    onError = 'log',    // 'log', 'throw', 'ignore'
    defaultValue = null,
    encoding = 'utf8'
  } = options;

  return function(error, data) {
    if (error) {
      switch(onError) {
        case 'throw':
          throw error;
        case 'ignore':
          break;
        case 'log':
        default:
          console.error(`[${fileName}] Error:`, error.message);
      }

      // –ò—Å–ø–æ–ª—å–∑—É–µ–º –∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –ø—Ä–∏ –æ—à–∏–±–∫–µ
      if (defaultValue !== null) {
        console.log(`[${fileName}] Using default value`);
        return processData(defaultValue);
      }
      return;
    }

    console.log(`[${fileName}] Success`);
    processData(data);
  };
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å —Ä–∞–∑–Ω—ã–º–∏ —Å—Ç—Ä–∞—Ç–µ–≥–∏—è–º–∏
fs.readFile('./critical.json', 'utf8', createReader({
  fileName: 'critical.json',
  onError: 'throw'  // –ö—Ä–∏—Ç–∏—á–Ω—ã–π —Ñ–∞–π–ª - –ø—Ä–µ—Ä—ã–≤–∞–µ–º –ø—Ä–∏ –æ—à–∏–±–∫–µ
}));

fs.readFile('./optional.json', 'utf8', createReader({
  fileName: 'optional.json',
  onError: 'ignore',  // –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π —Ñ–∞–π–ª - –∏–≥–Ω–æ—Ä–∏—Ä—É–µ–º –æ—à–∏–±–∫—É
  defaultValue: '{}'
}));

fs.readFile('./config.json', 'utf8', createReader({
  fileName: 'config.json',
  onError: 'log',  // –û–±—ã—á–Ω—ã–π —Ñ–∞–π–ª - –ª–æ–≥–∏—Ä—É–µ–º –æ—à–∏–±–∫—É
  defaultValue: '{"port": 3000}'
}));
</code></pre>
<hr />
<h2 id="6-–ê–¥–∞–ø—Ç–∞—Ü–∏—è-—Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö-api-–∫-–∫–æ–Ω—Ç—Ä–∞–∫—Ç—É-clf"><a class="header" href="#6-–ê–¥–∞–ø—Ç–∞—Ü–∏—è-—Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö-api-–∫-–∫–æ–Ω—Ç—Ä–∞–∫—Ç—É-clf">6. –ê–¥–∞–ø—Ç–∞—Ü–∏—è —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö API –∫ –∫–æ–Ω—Ç—Ä–∞–∫—Ç—É CLF</a></h2>
<h3 id="–ü—Ä–æ–±–ª–µ–º–∞-settimeout-–∏-setinterval"><a class="header" href="#–ü—Ä–æ–±–ª–µ–º–∞-settimeout-–∏-setinterval">–ü—Ä–æ–±–ª–µ–º–∞: setTimeout –∏ setInterval</a></h3>
<p>–§—É–Ω–∫—Ü–∏–∏ —Ç–∞–π–º–µ—Ä–æ–≤ –≤ JavaScript –±—ã–ª–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω—ã –¥–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∏–∑–∞—Ü–∏–∏ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞ CLF –∏ –∏–º–µ—é—Ç –¥—Ä—É–≥—É—é —Å–∏–≥–Ω–∞—Ç—É—Ä—É:</p>
<pre><code class="language-javascript">// setTimeout –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –∫–æ–ª–±–µ–∫ –ü–ï–†–í–´–ú –∞—Ä–≥—É–º–µ–Ω—Ç–æ–º (–Ω–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç CLF)
setTimeout(callback, delay, ...args);

// setInterval —Ç–∞–∫–∂–µ –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –∫–æ–ª–±–µ–∫ –ü–ï–†–í–´–ú
setInterval(callback, interval, ...args);

// –≠—Ç–æ –Ω–µ—Å–æ–≤–º–µ—Å—Ç–∏–º–æ —Å –ø–∞—Ç—Ç–µ—Ä–Ω–æ–º callback-last
</code></pre>
<h3 id="–†–µ—à–µ–Ω–∏–µ-–ê–¥–∞–ø—Ç–µ—Ä—ã"><a class="header" href="#–†–µ—à–µ–Ω–∏–µ-–ê–¥–∞–ø—Ç–µ—Ä—ã">–†–µ—à–µ–Ω–∏–µ: –ê–¥–∞–ø—Ç–µ—Ä—ã</a></h3>
<p>–°–æ–∑–¥–∞–µ–º –æ–±–µ—Ä—Ç–∫–∏, –∫–æ—Ç–æ—Ä—ã–µ –º–µ–Ω—è—é—Ç –ø–æ—Ä—è–¥–æ–∫ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤:</p>
<pre><code class="language-javascript">// –ê–¥–∞–ø—Ç–µ—Ä –¥–ª—è setTimeout - –ø—Ä–∏–≤–æ–¥–∏–º –∫ CLF
function delay(timeout, callback) {
  setTimeout(callback, timeout);
}

// –ê–¥–∞–ø—Ç–µ—Ä –¥–ª—è setInterval - –ø—Ä–∏–≤–æ–¥–∏–º –∫ CLF
function repeat(interval, callback) {
  return setInterval(callback, interval);
}

// –¢–µ–ø–µ—Ä—å –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å CLF –∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–º
delay(1000, () =&gt; {
  console.log('–ü—Ä–æ—à–ª–∞ 1 —Å–µ–∫—É–Ω–¥–∞');
});

const timerId = repeat(500, () =&gt; {
  console.log('–¢–∏–∫');
});

// –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏–Ω—Ç–µ—Ä–≤–∞–ª–∞ —á–µ—Ä–µ–∑ 3 —Å–µ–∫—É–Ω–¥—ã
delay(3000, () =&gt; {
  clearInterval(timerId);
  console.log('–ò–Ω—Ç–µ—Ä–≤–∞–ª –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω');
});
</code></pre>
<h4 id="–†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π-–∞–¥–∞–ø—Ç–µ—Ä-—Å-error-first"><a class="header" href="#–†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π-–∞–¥–∞–ø—Ç–µ—Ä-—Å-error-first">–†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π –∞–¥–∞–ø—Ç–µ—Ä —Å error-first</a></h4>
<pre><code class="language-javascript">// –ê–¥–∞–ø—Ç–µ—Ä —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π error-first (–¥–ª—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏)
function delayWithCallback(timeout, callback) {
  // –í–∞–ª–∏–¥–∞—Ü–∏—è
  if (typeof timeout !== 'number' || timeout &lt; 0) {
    // –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ –≤—ã–∑—ã–≤–∞–µ–º —Å –æ—à–∏–±–∫–æ–π
    process.nextTick(() =&gt; {
      callback(new Error('Timeout must be a positive number'));
    });
    return;
  }

  if (typeof callback !== 'function') {
    throw new TypeError('Callback must be a function');
  }

  // –ó–∞–ø—É—Å–∫–∞–µ–º —Ç–∞–π–º–µ—Ä
  const timerId = setTimeout(() =&gt; {
    // –í—ã–∑—ã–≤–∞–µ–º –∫–æ–ª–±–µ–∫ –±–µ–∑ –æ—à–∏–±–∫–∏
    callback(null);
  }, timeout);

  // –í–æ–∑–≤—Ä–∞—â–∞–µ–º —Ñ—É–Ω–∫—Ü–∏—é –¥–ª—è –æ—Ç–º–µ–Ω—ã
  return () =&gt; clearTimeout(timerId);
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
const cancel = delayWithCallback(2000, (error) =&gt; {
  if (error) {
    console.error('–û—à–∏–±–∫–∞:', error.message);
    return;
  }
  console.log('–¢–∞–π–º–µ—Ä —Å—Ä–∞–±–æ—Ç–∞–ª');
});

// –ú–æ–∂–µ–º –æ—Ç–º–µ–Ω–∏—Ç—å —Ç–∞–π–º–µ—Ä
// cancel();
</code></pre>
<h3 id="–ü—Ä–æ–º–∏—Å–∏—Ñ–∏–∫–∞—Ü–∏—è-—Ç–∞–π–º–µ—Ä–æ–≤-–≤-nodejs"><a class="header" href="#–ü—Ä–æ–º–∏—Å–∏—Ñ–∏–∫–∞—Ü–∏—è-—Ç–∞–π–º–µ—Ä–æ–≤-–≤-nodejs">–ü—Ä–æ–º–∏—Å–∏—Ñ–∏–∫–∞—Ü–∏—è —Ç–∞–π–º–µ—Ä–æ–≤ –≤ Node.js</a></h3>
<p>–í —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–º Node.js –µ—Å—Ç—å –ø—Ä–æ–º–∏—Å–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –≤–µ—Ä—Å–∏–∏ —Ç–∞–π–º–µ—Ä–æ–≤:</p>
<pre><code class="language-javascript">// Node.js v16+ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –ø—Ä–æ–º–∏—Å–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ç–∞–π–º–µ—Ä—ã
const { setTimeout, setInterval } = require('timers/promises');

// setTimeout –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç Promise
async function example() {
  console.log('–ù–∞—á–∞–ª–æ');

  // –û–∂–∏–¥–∞–Ω–∏–µ 1 —Å–µ–∫—É–Ω–¥—ã
  await setTimeout(1000);
  console.log('–ü—Ä–æ—à–ª–∞ 1 —Å–µ–∫—É–Ω–¥–∞');

  // –û–∂–∏–¥–∞–Ω–∏–µ –µ—â–µ 2 —Å–µ–∫—É–Ω–¥—ã —Å –≤–æ–∑–≤—Ä–∞—Ç–æ–º –∑–Ω–∞—á–µ–Ω–∏—è
  const value = await setTimeout(2000, 'completed');
  console.log('–ü—Ä–æ—à–ª–æ –µ—â–µ 2 —Å–µ–∫—É–Ω–¥—ã, —Ä–µ–∑—É–ª—å—Ç–∞—Ç:', value);
}

example();

// setInterval –¥–ª—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–π –∏—Ç–µ—Ä–∞—Ü–∏–∏
async function intervalExample() {
  const interval = setInterval(500);
  let count = 0;

  // for await...of –¥–ª—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–π –∏—Ç–µ—Ä–∞—Ü–∏–∏
  for await (const timestamp of interval) {
    console.log(`–¢–∏–∫ ${count}:`, new Date(timestamp).toISOString());
    count++;

    if (count &gt;= 5) {
      break; // –ü—Ä–µ—Ä—ã–≤–∞–µ–º —Ü–∏–∫–ª
    }
  }

  console.log('–ó–∞–≤–µ—Ä—à–µ–Ω–æ');
}

intervalExample();
</code></pre>
<p><strong>–í–∞–∂–Ω–æ –ø–æ–Ω–∏–º–∞—Ç—å:</strong> –ü—Ä–æ–º–∏—Å—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç –∫–æ–ª–±–µ–∫–∏ –≤–Ω—É—Ç—Ä–∏ —Å–µ–±—è. Promise ‚Äî —ç—Ç–æ –∞–±—Å—Ç—Ä–∞–∫—Ü–∏—è –Ω–∞–¥ –∫–æ–ª–±–µ–∫–∞–º–∏, –Ω–æ –Ω–µ –∑–∞–º–µ–Ω–∞ –∏–º. –ë–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç–∏ –≤ JavaScript –ø–æ—Å—Ç—Ä–æ–µ–Ω—ã –Ω–∞ –∫–æ–ª–±–µ–∫–∞—Ö –∫–∞–∫ –Ω–∞ –±–∞–∑–æ–≤–æ–º –ø—Ä–∏–º–∏—Ç–∏–≤–µ.</p>
<h3 id="–ê–¥–∞–ø—Ç–µ—Ä-–¥–ª—è-–ø—Ä–∏–≤–µ–¥–µ–Ω–∏—è-–ª—é–±–æ–π-—Ñ—É–Ω–∫—Ü–∏–∏-–∫-clf"><a class="header" href="#–ê–¥–∞–ø—Ç–µ—Ä-–¥–ª—è-–ø—Ä–∏–≤–µ–¥–µ–Ω–∏—è-–ª—é–±–æ–π-—Ñ—É–Ω–∫—Ü–∏–∏-–∫-clf">–ê–¥–∞–ø—Ç–µ—Ä –¥–ª—è –ø—Ä–∏–≤–µ–¥–µ–Ω–∏—è –ª—é–±–æ–π —Ñ—É–Ω–∫—Ü–∏–∏ –∫ CLF</a></h3>
<pre><code class="language-javascript">// –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π –∞–¥–∞–ø—Ç–µ—Ä
function toCLF(fn, callbackPosition = 0) {
  return function(...args) {
    const callback = args.pop(); // –ü–æ—Å–ª–µ–¥–Ω–∏–π –∞—Ä–≥—É–º–µ–Ω—Ç - –∫–æ–ª–±–µ–∫

    // –í—Å—Ç–∞–≤–ª—è–µ–º –∫–æ–ª–±–µ–∫ –≤ –Ω—É–∂–Ω—É—é –ø–æ–∑–∏—Ü–∏—é –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–∏
    args.splice(callbackPosition, 0, callback);

    return fn(...args);
  };
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
const delayC LF = toCLF(setTimeout, 0); // callback –Ω–∞ –ø–æ–∑–∏—Ü–∏–∏ 0

delayCLF(1000, () =&gt; {
  console.log('–¢–∞–π–º–µ—Ä —Å—Ä–∞–±–æ—Ç–∞–ª');
});

// –î—Ä—É–≥–æ–π –ø—Ä–∏–º–µ—Ä: —Ñ—É–Ω–∫—Ü–∏—è —Å –∫–æ–ª–±–µ–∫–æ–º –≤ —Å–µ—Ä–µ–¥–∏–Ω–µ
function processData(data, callback, options) {
  // callback –Ω–∞ –ø–æ–∑–∏—Ü–∏–∏ 1
  callback(null, data.toUpperCase());
}

const processDataCLF = toCLF(processData, 1);

processDataCLF('hello', { format: 'upper' }, (error, result) =&gt; {
  console.log(result); // HELLO
});
</code></pre>
<hr />
<h2 id="7-callback-hell-–º–∏—Ñ-–∏-—Ä–µ–∞–ª—å–Ω–æ—Å—Ç—å"><a class="header" href="#7-callback-hell-–º–∏—Ñ-–∏-—Ä–µ–∞–ª—å–Ω–æ—Å—Ç—å">7. Callback Hell: –º–∏—Ñ –∏ —Ä–µ–∞–ª—å–Ω–æ—Å—Ç—å</a></h2>
<h3 id="–ß—Ç–æ-—Ç–∞–∫–æ–µ-callback-hell"><a class="header" href="#–ß—Ç–æ-—Ç–∞–∫–æ–µ-callback-hell">–ß—Ç–æ —Ç–∞–∫–æ–µ Callback Hell?</a></h3>
<p><strong>Callback Hell (–ü–∏—Ä–∞–º–∏–¥–∞ –ø–æ–≥–∏–±–µ–ª–∏, –ê–¥ –∫–æ–ª–±–µ–∫–æ–≤)</strong> ‚Äî —ç—Ç–æ –∞–Ω—Ç–∏–ø–∞—Ç—Ç–µ—Ä–Ω, –ø—Ä–∏ –∫–æ—Ç–æ—Ä–æ–º –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –≤–ª–æ–∂–µ–Ω–Ω—ã–µ –∫–æ–ª–±–µ–∫–∏ —Å–æ–∑–¥–∞—é—Ç "–ø–∏—Ä–∞–º–∏–¥—É" –∫–æ–¥–∞, —Ä–∞—Å—Ç—É—â—É—é –≤–ø—Ä–∞–≤–æ.</p>
<p><strong>–í–∞–∂–Ω–æ–µ –ø–æ–Ω–∏–º–∞–Ω–∏–µ:</strong> Callback Hell ‚Äî —ç—Ç–æ –ù–ï –ø—Ä–æ–±–ª–µ–º–∞ —Å–∞–º–æ–≥–æ –ø–∞—Ç—Ç–µ—Ä–Ω–∞ –∫–æ–ª–±–µ–∫–æ–≤, –∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç <strong>–ø–ª–æ—Ö–æ–π –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ –∫–æ–¥–∞</strong>. –ü—Ä–∏ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º –ø–æ–¥—Ö–æ–¥–µ –ø—Ä–æ–±–ª–µ–º—ã –Ω–µ –≤–æ–∑–Ω–∏–∫–∞–µ—Ç.</p>
<h4 id="–ü—Ä–∏–º–µ—Ä-–ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π-callback-hell"><a class="header" href="#–ü—Ä–∏–º–µ—Ä-–ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π-callback-hell">–ü—Ä–∏–º–µ—Ä: –ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π Callback Hell</a></h4>
<pre><code class="language-javascript">const fs = require('fs');

// –ü–õ–û–•–û: –ì–ª—É–±–æ–∫–∞—è –≤–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç—å, "–ø–∏—Ä–∞–º–∏–¥–∞ –ø–æ–≥–∏–±–µ–ª–∏"
fs.readFile('./config.json', 'utf8', (err1, config) =&gt; {
  if (err1) {
    console.error('–û—à–∏–±–∫–∞ —á—Ç–µ–Ω–∏—è –∫–æ–Ω—Ñ–∏–≥–∞:', err1);
    return;
  }

  const parsedConfig = JSON.parse(config);

  fs.readFile(parsedConfig.database, 'utf8', (err2, dbConfig) =&gt; {
    if (err2) {
      console.error('–û—à–∏–±–∫–∞ —á—Ç–µ–Ω–∏—è DB –∫–æ–Ω—Ñ–∏–≥–∞:', err2);
      return;
    }

    const db = connectToDatabase(JSON.parse(dbConfig));

    db.query('SELECT * FROM users', (err3, users) =&gt; {
      if (err3) {
        console.error('–û—à–∏–±–∫–∞ –∑–∞–ø—Ä–æ—Å–∞:', err3);
        return;
      }

      users.forEach(user =&gt; {
        fetchUserDetails(user.id, (err4, details) =&gt; {
          if (err4) {
            console.error('–û—à–∏–±–∫–∞ –ø–æ–ª—É—á–µ–Ω–∏—è –¥–µ—Ç–∞–ª–µ–π:', err4);
            return;
          }

          generateReport(details, (err5, report) =&gt; {
            if (err5) {
              console.error('–û—à–∏–±–∫–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –æ—Ç—á–µ—Ç–∞:', err5);
              return;
            }

            saveReport(report, (err6) =&gt; {
              if (err6) {
                console.error('–û—à–∏–±–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è:', err6);
                return;
              }

              console.log('–£—Å–ø–µ—Ö!');
            });
          });
        });
      });
    });
  });
});
</code></pre>
<p><strong>–ü—Ä–æ–±–ª–µ–º—ã —ç—Ç–æ–≥–æ –∫–æ–¥–∞:</strong></p>
<ol>
<li><strong>"–ï–ª–æ—á–∫–∞" –∫–æ–¥–∞</strong> ‚Äî –≤–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç—å —Ä–∞—Å—Ç–µ—Ç –≤–ø—Ä–∞–≤–æ</li>
<li><strong>–ü–ª–æ—Ö–∞—è —á–∏—Ç–∞–µ–º–æ—Å—Ç—å</strong> ‚Äî —Å–ª–æ–∂–Ω–æ –ø–æ–Ω—è—Ç—å –ª–æ–≥–∏–∫—É</li>
<li><strong>–ò–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—à–∏–±–æ–∫</strong> ‚Äî –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –æ—à–∏–±–∫–∏ —Ç–æ–ª—å–∫–æ –ª–æ–≥–∏—Ä—É—é—Ç—Å—è</li>
<li><strong>–î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –ª–æ–≥–∏–∫–∏</strong> ‚Äî –ø–æ–≤—Ç–æ—Ä—è—é—â–∏–π—Å—è –∫–æ–¥ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫</li>
<li><strong>–ù–µ–≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è</strong> ‚Äî –Ω–µ–ª—å–∑—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω—ã–µ —à–∞–≥–∏</li>
<li><strong>–°–º–µ—à–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–µ–π</strong> ‚Äî –≤—Å—ë –≤ –æ–¥–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–∏</li>
<li><strong>–°–ª–æ–∂–Ω–æ—Å—Ç—å –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏–∏</strong> ‚Äî —Ç—Ä—É–¥–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–µ —à–∞–≥–∏</li>
</ol>
<h3 id="–†–µ—à–µ–Ω–∏–µ-1-–ò–º–µ–Ω–æ–≤–∞–Ω–Ω—ã–µ-—Ñ—É–Ω–∫—Ü–∏–∏-–î–µ–∫–æ–º–ø–æ–∑–∏—Ü–∏—è"><a class="header" href="#–†–µ—à–µ–Ω–∏–µ-1-–ò–º–µ–Ω–æ–≤–∞–Ω–Ω—ã–µ-—Ñ—É–Ω–∫—Ü–∏–∏-–î–µ–∫–æ–º–ø–æ–∑–∏—Ü–∏—è">–†–µ—à–µ–Ω–∏–µ 1: –ò–º–µ–Ω–æ–≤–∞–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ (–î–µ–∫–æ–º–ø–æ–∑–∏—Ü–∏—è)</a></h3>
<p><strong>–ì–ª–∞–≤–Ω—ã–π –ø—Ä–∏–Ω—Ü–∏–ø:</strong> –ö–∞–∂–¥–æ–º—É –∫–æ–ª–±–µ–∫—É –¥–∞—Ç—å –∏–º—è –∏ –≤—ã–Ω–µ—Å—Ç–∏ –≤ –æ—Ç–¥–µ–ª—å–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é.</p>
<pre><code class="language-javascript">const fs = require('fs');

// –•–û–†–û–®–û: –ü–ª–æ—Å–∫–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å –∏–º–µ–Ω–æ–≤–∞–Ω–Ω—ã–º–∏ —Ñ—É–Ω–∫—Ü–∏—è–º–∏

// –®–∞–≥ 6: –§–∏–Ω–∞–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞
function handleReportSaved(error) {
  if (error) {
    console.error('[ERROR] –ù–µ —É–¥–∞–ª–æ—Å—å —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –æ—Ç—á–µ—Ç:', error.message);
    process.exit(1);
    return;
  }

  console.log('[SUCCESS] –û—Ç—á–µ—Ç —É—Å–ø–µ—à–Ω–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω');
  process.exit(0);
}

// –®–∞–≥ 5: –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –æ—Ç—á–µ—Ç–∞
function saveReportFile(error, report) {
  if (error) {
    console.error('[ERROR] –û—à–∏–±–∫–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –æ—Ç—á–µ—Ç–∞:', error.message);
    handleReportSaved(error);
    return;
  }

  const reportPath = './reports/output.json';
  const reportData = JSON.stringify(report, null, 2);

  fs.writeFile(reportPath, reportData, 'utf8', handleReportSaved);
}

// –®–∞–≥ 4: –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç—á–µ—Ç–∞
function generateUserReport(error, userDetails) {
  if (error) {
    console.error('[ERROR] –û—à–∏–±–∫–∞ –ø–æ–ª—É—á–µ–Ω–∏—è –¥–µ—Ç–∞–ª–µ–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:', error.message);
    saveReportFile(error);
    return;
  }

  // –õ–æ–≥–∏–∫–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –æ—Ç—á–µ—Ç–∞
  const report = {
    timestamp: new Date().toISOString(),
    user: userDetails,
    summary: `Report for ${userDetails.name}`
  };

  saveReportFile(null, report);
}

// –®–∞–≥ 3: –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–µ—Ç–∞–ª–µ–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
function fetchFirstUserDetails(error, users) {
  if (error) {
    console.error('[ERROR] –û—à–∏–±–∫–∞ –∑–∞–ø—Ä–æ—Å–∞ –∫ –ë–î:', error.message);
    generateUserReport(error);
    return;
  }

  if (users.length === 0) {
    generateUserReport(new Error('No users found'));
    return;
  }

  // –î–ª—è –ø—Ä–∏–º–µ—Ä–∞ –±–µ—Ä–µ–º –ø–µ—Ä–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
  const firstUser = users[0];

  // –ò–º–∏—Ç–∞—Ü–∏—è –ø–æ–ª—É—á–µ–Ω–∏—è –¥–µ—Ç–∞–ª–µ–π
  setTimeout(() =&gt; {
    const details = { ...firstUser, fetchedAt: Date.now() };
    generateUserReport(null, details);
  }, 100);
}

// –®–∞–≥ 2: –ó–∞–ø—Ä–æ—Å –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
function queryUsers(error, dbConfig) {
  if (error) {
    console.error('[ERROR] –û—à–∏–±–∫–∞ —á—Ç–µ–Ω–∏—è –∫–æ–Ω—Ñ–∏–≥–∞ –ë–î:', error.message);
    fetchFirstUserDetails(error);
    return;
  }

  try {
    const parsed = JSON.parse(dbConfig);
    console.log('[INFO] –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –ë–î:', parsed.host);

    // –ò–º–∏—Ç–∞—Ü–∏—è –∑–∞–ø—Ä–æ—Å–∞ –∫ –ë–î
    setTimeout(() =&gt; {
      const users = [
        { id: 1, name: 'Alice' },
        { id: 2, name: 'Bob' }
      ];
      fetchFirstUserDetails(null, users);
    }, 100);
  } catch (parseError) {
    fetchFirstUserDetails(parseError);
  }
}

// –®–∞–≥ 1: –ß—Ç–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –ë–î
function readDatabaseConfig(error, config) {
  if (error) {
    console.error('[ERROR] –û—à–∏–±–∫–∞ —á—Ç–µ–Ω–∏—è –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –∫–æ–Ω—Ñ–∏–≥–∞:', error.message);
    queryUsers(error);
    return;
  }

  try {
    const parsedConfig = JSON.parse(config);
    const dbConfigPath = parsedConfig.database || './db-config.json';

    fs.readFile(dbConfigPath, 'utf8', queryUsers);
  } catch (parseError) {
    queryUsers(parseError);
  }
}

// –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞
console.log('[START] –ù–∞—á–∞–ª–æ –æ–±—Ä–∞–±–æ—Ç–∫–∏');
fs.readFile('./config.json', 'utf8', readDatabaseConfig);
</code></pre>
<p><strong>–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ —ç—Ç–æ–≥–æ –ø–æ–¥—Ö–æ–¥–∞:</strong></p>
<ol>
<li><strong>–ü–ª–æ—Å–∫–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞</strong> ‚Äî –Ω–µ—Ç –≥–ª—É–±–æ–∫–æ–π –≤–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç–∏</li>
<li><strong>–ò–º–µ–Ω–æ–≤–∞–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏</strong> ‚Äî –∫–∞–∂–¥—ã–π —à–∞–≥ –∏–º–µ–µ—Ç –ø–æ–Ω—è—Ç–Ω–æ–µ –∏–º—è</li>
<li><strong>–ï–¥–∏–Ω–∞—è –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å</strong> ‚Äî –∫–∞–∂–¥–∞—è —Ñ—É–Ω–∫—Ü–∏—è –¥–µ–ª–∞–µ—Ç –æ–¥–Ω—É –≤–µ—â—å</li>
<li><strong>–¢–µ—Å—Ç–∏—Ä—É–µ–º–æ—Å—Ç—å</strong> ‚Äî –º–æ–∂–Ω–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –∫–∞–∂–¥—É—é —Ñ—É–Ω–∫—Ü–∏—é –æ—Ç–¥–µ–ª—å–Ω–æ</li>
<li><strong>–ß–∏—Ç–∞–µ–º–æ—Å—Ç—å</strong> ‚Äî –ª–µ–≥–∫–æ –ø–æ–Ω—è—Ç—å –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –æ–ø–µ—Ä–∞—Ü–∏–π</li>
<li><strong>–ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ</strong> ‚Äî —Ñ—É–Ω–∫—Ü–∏–∏ –º–æ–∂–Ω–æ —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å</li>
<li><strong>–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫</strong> ‚Äî —Å–∏—Å—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–∞ –∫–∞–∂–¥–æ–º —à–∞–≥–µ</li>
</ol>
<p><strong>–ù–æ –µ—Å—Ç—å –Ω–æ–≤–∞—è –ø—Ä–æ–±–ª–µ–º–∞:</strong> –ü–æ—Ä—è–¥–æ–∫ –æ–±—ä—è–≤–ª–µ–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–π <strong>–æ–±—Ä–∞—Ç–Ω—ã–π</strong> –ø–æ—Ä—è–¥–∫—É –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è!</p>
<ul>
<li>–í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ: readConfig ‚Üí readDB ‚Üí queryUsers ‚Üí fetchDetails ‚Üí generateReport ‚Üí saveReport</li>
<li>–û–±—ä—è–≤–ª–µ–Ω–∏–µ: saveReport ‚Üí generateReport ‚Üí fetchDetails ‚Üí queryUsers ‚Üí readDB ‚Üí readConfig</li>
</ul>
<p>–≠—Ç–æ –Ω–µ—É–¥–æ–±–Ω–æ –¥–ª—è —á—Ç–µ–Ω–∏—è –∏ –ø–æ–Ω–∏–º–∞–Ω–∏—è –ª–æ–≥–∏–∫–∏.</p>
<h3 id="–†–µ—à–µ–Ω–∏–µ-2-–í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ-–ª–æ–≥–∏—á–µ—Å–∫–æ–≥–æ-–ø–æ—Ä—è–¥–∫–∞"><a class="header" href="#–†–µ—à–µ–Ω–∏–µ-2-–í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ-–ª–æ–≥–∏—á–µ—Å–∫–æ–≥–æ-–ø–æ—Ä—è–¥–∫–∞">–†–µ—à–µ–Ω–∏–µ 2: –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –ª–æ–≥–∏—á–µ—Å–∫–æ–≥–æ –ø–æ—Ä—è–¥–∫–∞</a></h3>
<p>–ß—Ç–æ–±—ã –∫–æ–¥ —á–∏—Ç–∞–ª—Å—è –≤ –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è, –∏—Å–ø–æ–ª—å–∑—É–µ–º –æ–±—ä–µ–∫—Ç –∏–ª–∏ –∫–ª–∞—Å—Å.</p>
<h4 id="–í–∞—Ä–∏–∞–Ω—Ç-a-–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ-–æ–±—ä–µ–∫—Ç–∞"><a class="header" href="#–í–∞—Ä–∏–∞–Ω—Ç-a-–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ-–æ–±—ä–µ–∫—Ç–∞">–í–∞—Ä–∏–∞–Ω—Ç A: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –æ–±—ä–µ–∫—Ç–∞</a></h4>
<pre><code class="language-javascript">const fs = require('fs');

// –í—Å–µ —à–∞–≥–∏ –≤ –ª–æ–≥–∏—á–µ—Å–∫–æ–º –ø–æ—Ä—è–¥–∫–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
const pipeline = {};

// –®–∞–≥ 1: –ß—Ç–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
pipeline.start = function() {
  console.log('[STEP 1] –ß—Ç–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏');
  fs.readFile('./config.json', 'utf8', pipeline.processConfig);
};

// –®–∞–≥ 2: –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
pipeline.processConfig = function(error, config) {
  if (error) {
    console.error('[STEP 2] –û—à–∏–±–∫–∞:', error.message);
    pipeline.handleError(error);
    return;
  }

  try {
    const parsedConfig = JSON.parse(config);
    console.log('[STEP 2] –ö–æ–Ω—Ñ–∏–≥ –ø—Ä–æ—á–∏—Ç–∞–Ω');

    fs.readFile(parsedConfig.database, 'utf8', pipeline.queryDatabase);
  } catch (parseError) {
    pipeline.handleError(parseError);
  }
};

// –®–∞–≥ 3: –ó–∞–ø—Ä–æ—Å –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
pipeline.queryDatabase = function(error, dbConfig) {
  if (error) {
    console.error('[STEP 3] –û—à–∏–±–∫–∞:', error.message);
    pipeline.handleError(error);
    return;
  }

  console.log('[STEP 3] –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–∞ –∫ –ë–î');

  // –ò–º–∏—Ç–∞—Ü–∏—è –∑–∞–ø—Ä–æ—Å–∞
  setTimeout(() =&gt; {
    const data = [{ id: 1, value: 'data' }];
    pipeline.callAPI(null, data);
  }, 100);
};

// –®–∞–≥ 4: –í—ã–∑–æ–≤ API
pipeline.callAPI = function(error, dbData) {
  if (error) {
    console.error('[STEP 4] –û—à–∏–±–∫–∞:', error.message);
    pipeline.handleError(error);
    return;
  }

  console.log('[STEP 4] –í—ã–∑–æ–≤ –≤–Ω–µ—à–Ω–µ–≥–æ API');

  // –ò–º–∏—Ç–∞—Ü–∏—è API –∑–∞–ø—Ä–æ—Å–∞
  setTimeout(() =&gt; {
    const enrichedData = { ...dbData[0], enriched: true };
    pipeline.generateReport(null, enrichedData);
  }, 100);
};

// –®–∞–≥ 5: –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç—á–µ—Ç–∞
pipeline.generateReport = function(error, apiData) {
  if (error) {
    console.error('[STEP 5] –û—à–∏–±–∫–∞:', error.message);
    pipeline.handleError(error);
    return;
  }

  console.log('[STEP 5] –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç—á–µ—Ç–∞');

  const report = {
    timestamp: new Date().toISOString(),
    data: apiData
  };

  pipeline.checkSuccess(null, report);
};

// –®–∞–≥ 6: –ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Å–ø–µ—à–Ω–æ—Å—Ç–∏
pipeline.checkSuccess = function(error, report) {
  if (error) {
    console.error('[STEP 6] –û—à–∏–±–∫–∞:', error.message);
    pipeline.handleError(error);
    return;
  }

  console.log('[STEP 6] –£—Å–ø–µ—Ö!');
  console.log('–ò—Ç–æ–≥–æ–≤—ã–π –æ—Ç—á–µ—Ç:', report);
};

// –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –æ—à–∏–±–æ–∫
pipeline.handleError = function(error) {
  console.error('[FATAL] –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞:', error.message);
  process.exit(1);
};

// –ó–∞–ø—É—Å–∫ pipeline
pipeline.start();
</code></pre>
<p><strong>–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:</strong></p>
<ul>
<li>–®–∞–≥–∏ –æ–±—ä—è–≤–ª–µ–Ω—ã –≤ –ø–æ—Ä—è–¥–∫–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è</li>
<li>–ö–æ–¥ —á–∏—Ç–∞–µ—Ç—Å—è —Å–≤–µ—Ä—Ö—É –≤–Ω–∏–∑</li>
<li>–õ–æ–≥–∏–∫–∞ –ø–æ–Ω—è—Ç–Ω–∞ –∏ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–∞</li>
<li>–ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ —à–∞–≥–∏ –±–µ–∑ –ø—É—Ç–∞–Ω–∏—Ü—ã</li>
</ul>
<h4 id="–í–∞—Ä–∏–∞–Ω—Ç-b-–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ-–∫–ª–∞—Å—Å–∞"><a class="header" href="#–í–∞—Ä–∏–∞–Ω—Ç-b-–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ-–∫–ª–∞—Å—Å–∞">–í–∞—Ä–∏–∞–Ω—Ç B: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∫–ª–∞—Å—Å–∞</a></h4>
<pre><code class="language-javascript">const fs = require('fs');

// –ö–ª–∞—Å—Å –∏–Ω–∫–∞–ø—Å—É–ª–∏—Ä—É–µ—Ç –≤—Å—é –ª–æ–≥–∏–∫—É –æ–±—Ä–∞–±–æ—Ç–∫–∏
class DataProcessor {
  constructor(configPath) {
    this.configPath = configPath;
    this.config = null;
    this.dbData = null;
    this.apiData = null;
  }

  // –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞
  start() {
    console.log('[START] –ù–∞—á–∞–ª–æ –æ–±—Ä–∞–±–æ—Ç–∫–∏');
    this.readConfig();
  }

  // –®–∞–≥ 1: –ß—Ç–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
  readConfig() {
    console.log('[STEP 1] –ß—Ç–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏');
    fs.readFile(this.configPath, 'utf8', this.handleConfig.bind(this));
  }

  // –®–∞–≥ 2: –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
  handleConfig(error, data) {
    if (error) {
      return this.handleError('Reading config', error);
    }

    try {
      this.config = JSON.parse(data);
      console.log('[STEP 2] –ö–æ–Ω—Ñ–∏–≥ –∑–∞–≥—Ä—É–∂–µ–Ω:', this.config);
      this.queryDatabase();
    } catch (parseError) {
      this.handleError('Parsing config', parseError);
    }
  }

  // –®–∞–≥ 3: –ó–∞–ø—Ä–æ—Å –∫ –ë–î
  queryDatabase() {
    console.log('[STEP 3] –ó–∞–ø—Ä–æ—Å –∫ –ë–î');

    // –ò–º–∏—Ç–∞—Ü–∏—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞
    setTimeout(() =&gt; {
      this.dbData = [
        { id: 1, name: 'Item 1' },
        { id: 2, name: 'Item 2' }
      ];
      this.callAPI();
    }, 100);
  }

  // –®–∞–≥ 4: –í—ã–∑–æ–≤ API
  callAPI() {
    console.log('[STEP 4] –í—ã–∑–æ–≤ API');

    // –ò–º–∏—Ç–∞—Ü–∏—è API –∑–∞–ø—Ä–æ—Å–∞
    setTimeout(() =&gt; {
      this.apiData = {
        items: this.dbData,
        metadata: { source: 'API', version: '1.0' }
      };
      this.generateReport();
    }, 100);
  }

  // –®–∞–≥ 5: –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç—á–µ—Ç–∞
  generateReport() {
    console.log('[STEP 5] –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç—á–µ—Ç–∞');

    const report = {
      timestamp: new Date().toISOString(),
      config: this.config,
      data: this.apiData,
      status: 'completed'
    };

    this.saveReport(report);
  }

  // –®–∞–≥ 6: –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –æ—Ç—á–µ—Ç–∞
  saveReport(report) {
    console.log('[STEP 6] –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –æ—Ç—á–µ—Ç–∞');

    const reportPath = './report.json';
    const reportData = JSON.stringify(report, null, 2);

    fs.writeFile(reportPath, reportData, 'utf8', (error) =&gt; {
      if (error) {
        return this.handleError('Saving report', error);
      }

      this.finish(report);
    });
  }

  // –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ
  finish(report) {
    console.log('[SUCCESS] –û–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞ —É—Å–ø–µ—à–Ω–æ!');
    console.log('–û—Ç—á–µ—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω, –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤:', report.data.items.length);
  }

  // –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
  handleError(step, error) {
    console.error(`[ERROR] –û—à–∏–±–∫–∞ –Ω–∞ —à–∞–≥–µ "${step}":`, error.message);
    process.exit(1);
  }
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
const processor = new DataProcessor('./config.json');
processor.start();
</code></pre>
<p><strong>–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –∫–ª–∞—Å—Å–∞:</strong></p>
<ol>
<li><strong>–ò–Ω–∫–∞–ø—Å—É–ª—è—Ü–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è</strong> ‚Äî —Ö—Ä–∞–Ω–∏–º config, dbData, apiData –≤ —Å–≤–æ–π—Å—Ç–≤–∞—Ö</li>
<li><strong>–õ–æ–≥–∏—á–µ—Å–∫–∏–π –ø–æ—Ä—è–¥–æ–∫</strong> ‚Äî –º–µ—Ç–æ–¥—ã –æ–±—ä—è–≤–ª–µ–Ω—ã –≤ –ø–æ—Ä—è–¥–∫–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è</li>
<li><strong>–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≤–∏–¥–∏–º–æ—Å—Ç—å</strong> ‚Äî –º–µ—Ç–æ–¥—ã –≤–∏–¥—è—Ç –¥—Ä—É–≥ –¥—Ä—É–≥–∞ —á–µ—Ä–µ–∑ <code>this</code></li>
<li><strong>–ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ</strong> ‚Äî –º–æ–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —ç–∫–∑–µ–º–ø–ª—è—Ä–æ–≤</li>
<li><strong>–†–∞—Å—à–∏—Ä—è–µ–º–æ—Å—Ç—å</strong> ‚Äî –ª–µ–≥–∫–æ –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ –º–µ—Ç–æ–¥—ã</li>
<li><strong>–¢–µ—Å—Ç–∏—Ä—É–µ–º–æ—Å—Ç—å</strong> ‚Äî –º–æ–∂–Ω–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –∫–∞–∂–¥—ã–π –º–µ—Ç–æ–¥ –æ—Ç–¥–µ–ª—å–Ω–æ</li>
</ol>
<p><strong>–í–∞–∂–Ω–æ–µ –∑–∞–º–µ—á–∞–Ω–∏–µ:</strong> –ü—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ –º–µ—Ç–æ–¥–æ–≤ –∫–ª–∞—Å—Å–∞ –∫–∞–∫ –∫–æ–ª–±–µ–∫–æ–≤ –Ω—É–∂–Ω–æ –Ω–µ –∑–∞–±—ã–≤–∞—Ç—å –ø—Ä–æ <code>bind(this)</code>, –∏–Ω–∞—á–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç –±—É–¥–µ—Ç –ø–æ—Ç–µ—Ä—è–Ω.</p>
<hr />
<h2 id="8-–°–∏—Å—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∞—è-–æ–±—Ä–∞–±–æ—Ç–∫–∞-–æ—à–∏–±–æ–∫"><a class="header" href="#8-–°–∏—Å—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∞—è-–æ–±—Ä–∞–±–æ—Ç–∫–∞-–æ—à–∏–±–æ–∫">8. –°–∏—Å—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫</a></h2>
<h3 id="–ó–æ–ª–æ—Ç–æ–µ-–ø—Ä–∞–≤–∏–ª–æ"><a class="header" href="#–ó–æ–ª–æ—Ç–æ–µ-–ø—Ä–∞–≤–∏–ª–æ">–ó–æ–ª–æ—Ç–æ–µ –ø—Ä–∞–≤–∏–ª–æ</a></h3>
<p><strong>–ù–ò–ö–û–ì–î–ê –Ω–µ –∏–≥–Ω–æ—Ä–∏—Ä—É–π—Ç–µ –æ—à–∏–±–∫–∏ –≤ –∫–æ–ª–±–µ–∫–∞—Ö!</strong></p>
<p>–û—à–∏–±–∫–∞ ‚Äî —ç—Ç–æ –Ω–µ –∏—Å–∫–ª—é—á–∏—Ç–µ–ª—å–Ω–∞—è —Å–∏—Ç—É–∞—Ü–∏—è, –∞ –Ω–æ—Ä–º–∞–ª—å–Ω–∞—è —á–∞—Å—Ç—å —Ä–∞–±–æ—Ç—ã –ø—Ä–æ–≥—Ä–∞–º–º—ã. –ó–∞–¥–∞—á–∞ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç–∞ ‚Äî –ø—Ä–µ–¥—É—Å–º–æ—Ç—Ä–µ—Ç—å –∏ –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å –≤—Å–µ –≤–æ–∑–º–æ–∂–Ω—ã–µ –æ—à–∏–±–∫–∏.</p>
<h3 id="–ê–Ω—Ç–∏–ø–∞—Ç—Ç–µ—Ä–Ω—ã-–æ–±—Ä–∞–±–æ—Ç–∫–∏-–æ—à–∏–±–æ–∫"><a class="header" href="#–ê–Ω—Ç–∏–ø–∞—Ç—Ç–µ—Ä–Ω—ã-–æ–±—Ä–∞–±–æ—Ç–∫–∏-–æ—à–∏–±–æ–∫">–ê–Ω—Ç–∏–ø–∞—Ç—Ç–µ—Ä–Ω—ã –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫</a></h3>
<pre><code class="language-javascript">const fs = require('fs');

// –ü–õ–û–•–û #1: –ü–æ–ª–Ω–æ–µ –∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—à–∏–±–∫–∏
fs.readFile('./file.txt', 'utf8', (error, data) =&gt; {
  // –û—à–∏–±–∫–∞ –Ω–µ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è - –û–ü–ê–°–ù–û!
  console.log(data); // –ú–æ–∂–µ—Ç –±—ã—Ç—å undefined
  const parsed = JSON.parse(data); // –ú–æ–∂–µ—Ç —É–ø–∞—Å—Ç—å
});

// –ü–õ–û–•–û #2: –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–µ–∑ –¥–µ–π—Å—Ç–≤–∏—è
fs.readFile('./file.txt', 'utf8', (error, data) =&gt; {
  if (error) {
    // –ù–∏—á–µ–≥–æ –Ω–µ –¥–µ–ª–∞–µ–º - –æ—à–∏–±–∫–∞ –ø—Ä–æ–≥–ª–∞—Ç—ã–≤–∞–µ—Ç—Å—è
  }
  console.log(data); // –í—Å–µ —Ä–∞–≤–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º data
});

// –ü–õ–û–•–û #3: –¢–æ–ª—å–∫–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –±–µ–∑ –ø—Ä–µ–∫—Ä–∞—â–µ–Ω–∏—è
fs.readFile('./file.txt', 'utf8', (error, data) =&gt; {
  if (error) {
    console.error(error);
    // –ó–∞–±—ã–ª–∏ return - –ø—Ä–æ–¥–æ–ª–∂–∞–µ–º –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ
  }
  const result = data.toUpperCase(); // –£–ø–∞–¥–µ—Ç, –µ—Å–ª–∏ data undefined
  console.log(result);
});

// –•–û–†–û–®–û: –ü–æ–ª–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞
fs.readFile('./file.txt', 'utf8', (error, data) =&gt; {
  if (error) {
    console.error('–û—à–∏–±–∫–∞ —á—Ç–µ–Ω–∏—è —Ñ–∞–π–ª–∞:', error.message);
    // –õ–æ–≥–∏—Ä—É–µ–º –≤ —Å–∏—Å—Ç–µ–º—É –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
    logger.error('File read failed', { file: './file.txt', error });
    // –ü–µ—Ä–µ–¥–∞–µ–º –æ—à–∏–±–∫—É –¥–∞–ª—å—à–µ –∏–ª–∏ –ø—Ä–µ–∫—Ä–∞—â–∞–µ–º –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ
    return; // –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û!
  }

  // –ë–µ–∑–æ–ø–∞—Å–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º data
  console.log('–°–æ–¥–µ—Ä–∂–∏–º–æ–µ:', data);
});
</code></pre>
<h3 id="–ü–∞—Ç—Ç–µ—Ä–Ω—ã-–æ–±—Ä–∞–±–æ—Ç–∫–∏-–æ—à–∏–±–æ–∫"><a class="header" href="#–ü–∞—Ç—Ç–µ—Ä–Ω—ã-–æ–±—Ä–∞–±–æ—Ç–∫–∏-–æ—à–∏–±–æ–∫">–ü–∞—Ç—Ç–µ—Ä–Ω—ã –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫</a></h3>
<h4 id="–ü–∞—Ç—Ç–µ—Ä–Ω-1-–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ-–∏-–ø—Ä–æ–∫–∏–¥—ã–≤–∞–Ω–∏–µ"><a class="header" href="#–ü–∞—Ç—Ç–µ—Ä–Ω-1-–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ-–∏-–ø—Ä–æ–∫–∏–¥—ã–≤–∞–Ω–∏–µ">–ü–∞—Ç—Ç–µ—Ä–Ω 1: –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –ø—Ä–æ–∫–∏–¥—ã–≤–∞–Ω–∏–µ</a></h4>
<pre><code class="language-javascript">const fs = require('fs');

function readConfigFile(callback) {
  fs.readFile('./config.json', 'utf8', (error, data) =&gt; {
    if (error) {
      // –õ–æ–≥–∏—Ä—É–µ–º –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏
      console.error('[readConfigFile] –û—à–∏–±–∫–∞:', error.message);

      // –ü–µ—Ä–µ–¥–∞–µ–º –æ—à–∏–±–∫—É –¥–∞–ª—å—à–µ –ø–æ —Ü–µ–ø–æ—á–∫–µ
      callback(error);
      return;
    }

    try {
      const config = JSON.parse(data);
      callback(null, config);
    } catch (parseError) {
      console.error('[readConfigFile] –û—à–∏–±–∫–∞ –ø–∞—Ä—Å–∏–Ω–≥–∞:', parseError.message);
      callback(parseError);
    }
  });
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
readConfigFile((error, config) =&gt; {
  if (error) {
    console.error('–ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥');
    process.exit(1);
    return;
  }

  console.log('–ö–æ–Ω—Ñ–∏–≥ –∑–∞–≥—Ä—É–∂–µ–Ω:', config);
});
</code></pre>
<p><strong>–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:</strong> –í –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏—è—Ö, –≥–¥–µ –æ—à–∏–±–∫–∞ –¥–æ–ª–∂–Ω–∞ –≤—Å–ø–ª—ã—Ç—å –Ω–∞ —É—Ä–æ–≤–µ–Ω—å –≤—ã—à–µ.</p>
<h4 id="–ü–∞—Ç—Ç–µ—Ä–Ω-2-–û–±–æ–≥–∞—â–µ–Ω–∏–µ-–æ—à–∏–±–∫–∏-–∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º"><a class="header" href="#–ü–∞—Ç—Ç–µ—Ä–Ω-2-–û–±–æ–≥–∞—â–µ–Ω–∏–µ-–æ—à–∏–±–∫–∏-–∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º">–ü–∞—Ç—Ç–µ—Ä–Ω 2: –û–±–æ–≥–∞—â–µ–Ω–∏–µ –æ—à–∏–±–∫–∏ –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º</a></h4>
<pre><code class="language-javascript">function fetchUserData(userId, callback) {
  const filename = `./data/users/${userId}.json`;

  fs.readFile(filename, 'utf8', (error, data) =&gt; {
    if (error) {
      // –°–æ–∑–¥–∞–µ–º –Ω–æ–≤—É—é –æ—à–∏–±–∫—É —Å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π
      const enrichedError = new Error(
        `Failed to load user ${userId}: ${error.message}`
      );

      // –°–æ—Ö—Ä–∞–Ω—è–µ–º –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—É—é –æ—à–∏–±–∫—É
      enrichedError.originalError = error;
      enrichedError.userId = userId;
      enrichedError.code = error.code; // ENOENT, EACCES, etc.

      callback(enrichedError);
      return;
    }

    try {
      const userData = JSON.parse(data);
      callback(null, userData);
    } catch (parseError) {
      const enrichedError = new Error(
        `Invalid JSON for user ${userId}: ${parseError.message}`
      );
      enrichedError.originalError = parseError;
      enrichedError.userId = userId;
      enrichedError.rawData = data; // –î–ª—è –æ—Ç–ª–∞–¥–∫–∏

      callback(enrichedError);
    }
  });
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
fetchUserData(42, (error, user) =&gt; {
  if (error) {
    console.error('Error:', error.message);
    console.error('User ID:', error.userId);
    console.error('Error code:', error.code);
    console.error('Original error:', error.originalError);
    return;
  }

  console.log('User loaded:', user);
});
</code></pre>
<p><strong>–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:</strong> –ö–æ–≥–¥–∞ –Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –∫–æ–Ω—Ç–µ–∫—Å—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –¥–ª—è —É–ø—Ä–æ—â–µ–Ω–∏—è –æ—Ç–ª–∞–¥–∫–∏.</p>
<h4 id="–ü–∞—Ç—Ç–µ—Ä–Ω-3-fallback-–∑–Ω–∞—á–µ–Ω–∏—è"><a class="header" href="#–ü–∞—Ç—Ç–µ—Ä–Ω-3-fallback-–∑–Ω–∞—á–µ–Ω–∏—è">–ü–∞—Ç—Ç–µ—Ä–Ω 3: Fallback –∑–Ω–∞—á–µ–Ω–∏—è</a></h4>
<pre><code class="language-javascript">function loadConfigWithDefaults(callback) {
  const defaultConfig = {
    port: 3000,
    host: 'localhost',
    env: 'development',
    debug: false
  };

  fs.readFile('./config.json', 'utf8', (error, data) =&gt; {
    if (error) {
      // –ï—Å–ª–∏ —Ñ–∞–π–ª –Ω–µ –Ω–∞–π–¥–µ–Ω - –∏—Å–ø–æ–ª—å–∑—É–µ–º –∑–Ω–∞—á–µ–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
      if (error.code === 'ENOENT') {
        console.warn('Config file not found, using defaults');
        callback(null, defaultConfig);
        return;
      }

      // –î–ª—è –¥—Ä—É–≥–∏—Ö –æ—à–∏–±–æ–∫ - –ø—Ä–æ–∫–∏–¥—ã–≤–∞–µ–º –¥–∞–ª—å—à–µ
      callback(error);
      return;
    }

    try {
      const userConfig = JSON.parse(data);

      // –û–±—ä–µ–¥–∏–Ω—è–µ–º —Å –¥–µ—Ñ–æ–ª—Ç–Ω—ã–º–∏ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏
      const config = { ...defaultConfig, ...userConfig };

      callback(null, config);
    } catch (parseError) {
      console.warn('Invalid config JSON, using defaults');
      callback(null, defaultConfig);
    }
  });
}
</code></pre>
<p><strong>–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:</strong> –î–ª—è –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã—Ö –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π, –≥–¥–µ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ä–∞–∑—É–º–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é.</p>
<h4 id="–ü–∞—Ç—Ç–µ—Ä–Ω-4-retry-–ª–æ–≥–∏–∫–∞"><a class="header" href="#–ü–∞—Ç—Ç–µ—Ä–Ω-4-retry-–ª–æ–≥–∏–∫–∞">–ü–∞—Ç—Ç–µ—Ä–Ω 4: Retry –ª–æ–≥–∏–∫–∞</a></h4>
<pre><code class="language-javascript">function readFileWithRetry(filepath, options, callback) {
  const maxRetries = options.maxRetries || 3;
  const retryDelay = options.retryDelay || 1000;
  let attempts = 0;

  function attempt() {
    attempts++;
    console.log(`Attempt ${attempts}/${maxRetries}`);

    fs.readFile(filepath, 'utf8', (error, data) =&gt; {
      if (error) {
        // –ï—Å–ª–∏ –µ—â–µ –µ—Å—Ç—å –ø–æ–ø—ã—Ç–∫–∏ –∏ –æ—à–∏–±–∫–∞ –≤—Ä–µ–º–µ–Ω–Ω–∞—è
        if (attempts &lt; maxRetries &amp;&amp; isRetryableError(error)) {
          console.warn(`Retry in ${retryDelay}ms...`);
          setTimeout(attempt, retryDelay);
          return;
        }

        // –ò—Å—á–µ—Ä–ø–∞–ª–∏ –ø–æ–ø—ã—Ç–∫–∏ –∏–ª–∏ –æ—à–∏–±–∫–∞ –Ω–µ –≤—Ä–µ–º–µ–Ω–Ω–∞—è
        const finalError = new Error(
          `Failed after ${attempts} attempts: ${error.message}`
        );
        finalError.attempts = attempts;
        finalError.originalError = error;

        callback(finalError);
        return;
      }

      // –£—Å–ø–µ—Ö
      callback(null, data);
    });
  }

  function isRetryableError(error) {
    // –ü–æ–≤—Ç–æ—Ä—è–µ–º —Ç–æ–ª—å–∫–æ –¥–ª—è –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ—à–∏–±–æ–∫
    return error.code === 'EBUSY' ||
           error.code === 'EAGAIN' ||
           error.code === 'ETIMEDOUT';
  }

  attempt();
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
readFileWithRetry('./file.txt', { maxRetries: 5, retryDelay: 2000 }, (error, data) =&gt; {
  if (error) {
    console.error('Failed after retries:', error.message);
    console.error('Total attempts:', error.attempts);
    return;
  }

  console.log('File loaded:', data);
});
</code></pre>
<p><strong>–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:</strong> –î–ª—è –æ–ø–µ—Ä–∞—Ü–∏–π, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥—É—Ç –≤—Ä–µ–º–µ–Ω–Ω–æ –Ω–µ —É–¥–∞–≤–∞—Ç—å—Å—è (—Å–µ—Ç–µ–≤—ã–µ –∑–∞–ø—Ä–æ—Å—ã, –∑–∞–Ω—è—Ç—ã–µ —Ñ–∞–π–ª—ã).</p>
<h4 id="–ü–∞—Ç—Ç–µ—Ä–Ω-5-–¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è-–æ–±—Ä–∞–±–æ—Ç–∫–∞-–æ—à–∏–±–æ–∫"><a class="header" href="#–ü–∞—Ç—Ç–µ—Ä–Ω-5-–¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è-–æ–±—Ä–∞–±–æ—Ç–∫–∞-–æ—à–∏–±–æ–∫">–ü–∞—Ç—Ç–µ—Ä–Ω 5: –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫</a></h4>
<pre><code class="language-javascript">// –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –æ—à–∏–±–æ–∫
class ErrorHandler {
  constructor(logger) {
    this.logger = logger;
  }

  handle(context, error, callback) {
    // –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
    this.logger.error(`[${context}] Error occurred`, {
      message: error.message,
      code: error.code,
      stack: error.stack
    });

    // –û–ø—Ä–µ–¥–µ–ª—è–µ–º —Ç–∏–ø –æ—à–∏–±–∫–∏ –∏ —Å—Ç—Ä–∞—Ç–µ–≥–∏—é –æ–±—Ä–∞–±–æ—Ç–∫–∏
    if (error.code === 'ENOENT') {
      this.logger.warn(`[${context}] File not found - using fallback`);
      // –ú–æ–∂–µ–º –≤–µ—Ä–Ω—É—Ç—å fallback –∑–Ω–∞—á–µ–Ω–∏–µ
      callback(null, this.getFallbackValue(context));
      return;
    }

    if (error.code === 'EACCES') {
      this.logger.error(`[${context}] Permission denied - critical error`);
      // –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞ - –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –ø—Ä–æ—Ü–µ—Å—Å
      process.exit(1);
    }

    // –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é - –ø—Ä–æ–∫–∏–¥—ã–≤–∞–µ–º –æ—à–∏–±–∫—É
    callback(error);
  }

  getFallbackValue(context) {
    // Fallback –∑–Ω–∞—á–µ–Ω–∏—è –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–≤
    const fallbacks = {
      'config': { port: 3000, host: 'localhost' },
      'users': [],
      'settings': {}
    };

    return fallbacks[context] || null;
  }
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
const errorHandler = new ErrorHandler(console);

function readConfig(callback) {
  fs.readFile('./config.json', 'utf8', (error, data) =&gt; {
    if (error) {
      errorHandler.handle('config', error, callback);
      return;
    }

    try {
      const config = JSON.parse(data);
      callback(null, config);
    } catch (parseError) {
      errorHandler.handle('config', parseError, callback);
    }
  });
}
</code></pre>
<h3 id="–ö–æ–º–ø–ª–µ–∫—Å–Ω—ã–π-–ø—Ä–∏–º–µ—Ä-—Å-–ø–æ–ª–Ω–æ–π-–æ–±—Ä–∞–±–æ—Ç–∫–æ–π-–æ—à–∏–±–æ–∫"><a class="header" href="#–ö–æ–º–ø–ª–µ–∫—Å–Ω—ã–π-–ø—Ä–∏–º–µ—Ä-—Å-–ø–æ–ª–Ω–æ–π-–æ–±—Ä–∞–±–æ—Ç–∫–æ–π-–æ—à–∏–±–æ–∫">–ö–æ–º–ø–ª–µ–∫—Å–Ω—ã–π –ø—Ä–∏–º–µ—Ä —Å –ø–æ–ª–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–æ–π –æ—à–∏–±–æ–∫</a></h3>
<pre><code class="language-javascript">const fs = require('fs');

// –ü–æ–ª–Ω–∞—è —Ü–µ–ø–æ—á–∫–∞ —Å –æ–±—Ä–∞–±–æ—Ç–∫–æ–π –æ—à–∏–±–æ–∫ –Ω–∞ –∫–∞–∂–¥–æ–º —à–∞–≥–µ

// –§–∏–Ω–∞–ª—å–Ω—ã–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫
function handleCompletion(error) {
  if (error) {
    console.error('\n=== OPERATION FAILED ===');
    console.error('Error:', error.message);
    console.error('Code:', error.code);
    console.error('========================\n');
    process.exit(1);
    return;
  }

  console.log('\n=== OPERATION SUCCEEDED ===');
  console.log('All steps completed successfully');
  console.log('===========================\n');
  process.exit(0);
}

// –®–∞–≥ 4: –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –æ—Ç—á–µ—Ç–∞
function saveReport(error, report) {
  if (error) {
    console.error('[Step 4] Report generation failed:', error.message);
    handleCompletion(error);
    return;
  }

  console.log('[Step 4] Saving report...');

  fs.writeFile('./output/report.json', JSON.stringify(report, null, 2), 'utf8', (writeError) =&gt; {
    if (writeError) {
      const enrichedError = new Error(`Failed to save report: ${writeError.message}`);
      enrichedError.originalError = writeError;
      handleCompletion(enrichedError);
      return;
    }

    console.log('[Step 4] Report saved successfully');
    handleCompletion(null);
  });
}

// –®–∞–≥ 3: –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç—á–µ—Ç–∞
function generateReport(error, apiData) {
  if (error) {
    console.error('[Step 3] API call failed:', error.message);
    saveReport(error);
    return;
  }

  console.log('[Step 3] Generating report...');

  try {
    const report = {
      timestamp: new Date().toISOString(),
      data: apiData,
      summary: `Processed ${apiData.length} records`,
      status: 'completed'
    };

    console.log('[Step 3] Report generated');
    saveReport(null, report);
  } catch (err) {
    const enrichedError = new Error(`Report generation error: ${err.message}`);
    enrichedError.originalError = err;
    saveReport(enrichedError);
  }
}

// –®–∞–≥ 2: –í—ã–∑–æ–≤ API
function callAPI(error, dbData) {
  if (error) {
    console.error('[Step 2] Database query failed:', error.message);
    generateReport(error);
    return;
  }

  console.log('[Step 2] Calling external API...');

  // –ò–º–∏—Ç–∞—Ü–∏—è API –≤—ã–∑–æ–≤–∞ —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é –æ—à–∏–±–∫–∏
  setTimeout(() =&gt; {
    const success = Math.random() &gt; 0.2; // 80% —É—Å–ø–µ—Ö–∞

    if (!success) {
      const apiError = new Error('API request timeout');
      apiError.code = 'ETIMEDOUT';
      generateReport(apiError);
      return;
    }

    const enrichedData = dbData.map(item =&gt; ({
      ...item,
      enriched: true,
      apiTimestamp: Date.now()
    }));

    console.log('[Step 2] API call successful');
    generateReport(null, enrichedData);
  }, 500);
}

// –®–∞–≥ 1: –ó–∞–ø—Ä–æ—Å –∫ –ë–î
function queryDatabase(error, config) {
  if (error) {
    console.error('[Step 1] Config loading failed:', error.message);
    callAPI(error);
    return;
  }

  console.log('[Step 1] Querying database...');

  // –ò–º–∏—Ç–∞—Ü–∏—è –∑–∞–ø—Ä–æ—Å–∞ –∫ –ë–î
  setTimeout(() =&gt; {
    const dbData = [
      { id: 1, value: 'Record 1' },
      { id: 2, value: 'Record 2' },
      { id: 3, value: 'Record 3' }
    ];

    console.log('[Step 1] Database query successful');
    callAPI(null, dbData);
  }, 300);
}

// –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞: –ß—Ç–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
function startProcess() {
  console.log('\n=== STARTING PROCESS ===\n');
  console.log('[Step 0] Loading configuration...');

  fs.readFile('./config.json', 'utf8', (error, data) =&gt; {
    if (error) {
      // –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º —Ä–∞–∑–Ω—ã–µ —Ç–∏–ø—ã –æ—à–∏–±–æ–∫ –ø–æ-—Ä–∞–∑–Ω–æ–º—É
      if (error.code === 'ENOENT') {
        console.warn('[Step 0] Config not found, using defaults');
        const defaultConfig = { database: 'default_db' };
        queryDatabase(null, defaultConfig);
        return;
      }

      const enrichedError = new Error(`Config load error: ${error.message}`);
      enrichedError.code = error.code;
      queryDatabase(enrichedError);
      return;
    }

    try {
      const config = JSON.parse(data);
      console.log('[Step 0] Configuration loaded');
      queryDatabase(null, config);
    } catch (parseError) {
      const enrichedError = new Error(`Config parse error: ${parseError.message}`);
      queryDatabase(enrichedError);
    }
  });
}

// –ó–∞–ø—É—Å–∫
startProcess();
</code></pre>
<p><strong>–ö–ª—é—á–µ–≤—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫:</strong></p>
<ol>
<li><strong>–ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ –∫–∞–∂–¥—ã–π –∫–æ–ª–±–µ–∫</strong> ‚Äî <code>if (error)</code> –ø–µ—Ä–≤—ã–º –¥–µ–ª–æ–º</li>
<li><strong>–í—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ <code>return</code></strong> –ø–æ—Å–ª–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–∫–∏</li>
<li><strong>–ü—Ä–æ–±—Ä–∞—Å—ã–≤–∞–π—Ç–µ –∏–ª–∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–π—Ç–µ</strong> ‚Äî –Ω–µ –ø—Ä–æ–≥–ª–∞—Ç—ã–≤–∞–π—Ç–µ –æ—à–∏–±–∫–∏</li>
<li><strong>–î–æ–±–∞–≤–ª—è–π—Ç–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç</strong> ‚Äî –æ–±–æ–≥–∞—â–∞–π—Ç–µ –æ—à–∏–±–∫–∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π</li>
<li><strong>–õ–æ–≥–∏—Ä—É–π—Ç–µ —Å–∏—Å—Ç–µ–º–Ω–æ</strong> ‚Äî –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ logger, –∞ –Ω–µ —Ç–æ–ª—å–∫–æ console</li>
<li><strong>–†–∞–∑–ª–∏—á–∞–π—Ç–µ —Ç–∏–ø—ã –æ—à–∏–±–æ–∫</strong> ‚Äî –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–π—Ç–µ –ø–æ-—Ä–∞–∑–Ω–æ–º—É</li>
<li><strong>–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ try-catch</strong> ‚Äî –¥–ª—è —Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π –≤ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–º –∫–æ–¥–µ</li>
</ol>
<hr />
<h2 id="9-–ö–ª—é—á–µ–≤—ã–µ-–≤—ã–≤–æ–¥—ã-–∏-best-practices"><a class="header" href="#9-–ö–ª—é—á–µ–≤—ã–µ-–≤—ã–≤–æ–¥—ã-–∏-best-practices">9. –ö–ª—é—á–µ–≤—ã–µ –≤—ã–≤–æ–¥—ã –∏ best practices</a></h2>
<h3 id="–ö–æ–Ω—Ç—Ä–∞–∫—Ç-callback-last-error-first"><a class="header" href="#–ö–æ–Ω—Ç—Ä–∞–∫—Ç-callback-last-error-first">–ö–æ–Ω—Ç—Ä–∞–∫—Ç Callback-last-error-first</a></h3>
<p><strong>–†–µ–∑—é–º–µ:</strong></p>
<ul>
<li>–ö–æ–ª–±–µ–∫ –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è <strong>–ø–æ—Å–ª–µ–¥–Ω–∏–º</strong> –∞—Ä–≥—É–º–µ–Ω—Ç–æ–º</li>
<li>–û—à–∏–±–∫–∞ –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è <strong>–ø–µ—Ä–≤—ã–º</strong> –∞—Ä–≥—É–º–µ–Ω—Ç–æ–º –≤ –∫–æ–ª–±–µ–∫</li>
<li>–≠—Ç–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç –¥–ª—è –≤—Å–µ–π —ç–∫–æ—Å–∏—Å—Ç–µ–º—ã Node.js</li>
<li>–û–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –µ–¥–∏–Ω–æ–æ–±—Ä–∞–∑–∏–µ –∏ –ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–æ—Å—Ç—å API</li>
</ul>
<p><strong>–°–ª–µ–¥—É–π—Ç–µ –∫–æ–Ω—Ç—Ä–∞–∫—Ç—É:</strong></p>
<pre><code class="language-javascript">// –ü–†–ê–í–ò–õ–¨–ù–û
function asyncOp(param1, param2, callback) {
  callback(error, result);
}

// –ù–ï–ü–†–ê–í–ò–õ–¨–ù–û
function asyncOp(callback, param1, param2) { // –∫–æ–ª–±–µ–∫ –Ω–µ –ø–æ—Å–ª–µ–¥–Ω–∏–π
  callback(result, error); // –æ—à–∏–±–∫–∞ –Ω–µ –ø–µ—Ä–≤–∞—è
}
</code></pre>
<h3 id="callback-hell--—ç—Ç–æ-–º–∏—Ñ"><a class="header" href="#callback-hell--—ç—Ç–æ-–º–∏—Ñ">Callback Hell ‚Äî —ç—Ç–æ –º–∏—Ñ</a></h3>
<p><strong>–í–∞–∂–Ω–æ–µ –ø–æ–Ω–∏–º–∞–Ω–∏–µ:</strong></p>
<p>Callback Hell –ù–ï —è–≤–ª—è–µ—Ç—Å—è –Ω–µ–∏–∑–±–µ–∂–Ω–æ–π –ø—Ä–æ–±–ª–µ–º–æ–π –∫–æ–ª–±–µ–∫–æ–≤. –≠—Ç–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç:</p>
<ul>
<li>–ü–ª–æ—Ö–æ–π –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ –∫–æ–¥–∞</li>
<li>–ù–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∏–º–µ–Ω–æ–≤–∞–Ω–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π</li>
<li>–û—Ç—Å—É—Ç—Å—Ç–≤–∏—è –¥–µ–∫–æ–º–ø–æ–∑–∏—Ü–∏–∏</li>
<li>–ù–∞—Ä—É—à–µ–Ω–∏—è –ø—Ä–∏–Ω—Ü–∏–ø–∞ –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–π –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏</li>
</ul>
<p><strong>–ü—Ä–∏ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º –ø–æ–¥—Ö–æ–¥–µ:</strong></p>
<ul>
<li>–ö–æ–¥ –ª–µ–≥–∫–æ —á–∏—Ç–∞–µ—Ç—Å—è</li>
<li>–ö–∞–∂–¥–∞—è —Ñ—É–Ω–∫—Ü–∏—è –∏–º–µ–µ—Ç —á–µ—Ç–∫—É—é –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å</li>
<li>–û—à–∏–±–∫–∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è —Å–∏—Å—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏</li>
<li>–ö–æ–¥ –ª–µ–≥–∫–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å</li>
</ul>
<h3 id="–ò–º–µ–Ω–æ–≤–∞–Ω–Ω—ã–µ-–∫–æ–ª–±–µ–∫–∏--–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–∞—è-–ø—Ä–∞–∫—Ç–∏–∫–∞"><a class="header" href="#–ò–º–µ–Ω–æ–≤–∞–Ω–Ω—ã–µ-–∫–æ–ª–±–µ–∫–∏--–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–∞—è-–ø—Ä–∞–∫—Ç–∏–∫–∞">–ò–º–µ–Ω–æ–≤–∞–Ω–Ω—ã–µ –∫–æ–ª–±–µ–∫–∏ ‚Äî –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–∞—è –ø—Ä–∞–∫—Ç–∏–∫–∞</a></h3>
<p><strong>–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:</strong></p>
<ol>
<li><strong>–ß–∏—Ç–∞–µ–º–æ—Å—Ç—å</strong> ‚Äî –∫–æ–¥ —Å–∞–º–æ–¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä—É–µ—Ç—Å—è</li>
<li><strong>–û—Ç–ª–∞–¥–∫–∞</strong> ‚Äî –ø–æ–Ω—è—Ç–Ω—ã–µ stack traces</li>
<li><strong>–¢–µ—Å—Ç–∏—Ä—É–µ–º–æ—Å—Ç—å</strong> ‚Äî –∫–∞–∂–¥—É—é —Ñ—É–Ω–∫—Ü–∏—é –º–æ–∂–Ω–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω–æ</li>
<li><strong>–ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ</strong> ‚Äî —Ñ—É–Ω–∫—Ü–∏–∏ –º–æ–∂–Ω–æ —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å</li>
<li><strong>–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å</strong> ‚Äî –¥–≤–∏–∂–æ–∫ –º–æ–∂–µ—Ç –ª—É—á—à–µ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å</li>
</ol>
<pre><code class="language-javascript">// –ü–õ–û–•–û
fs.readFile('./file.txt', 'utf8', (error, data) =&gt; {
  if (error) return console.error(error);
  process(data, (err, result) =&gt; {
    if (err) return console.error(err);
    save(result, (e) =&gt; {
      if (e) return console.error(e);
      console.log('Done');
    });
  });
});

// –•–û–†–û–®–û
function handleFileRead(error, data) {
  if (error) return console.error('Read error:', error);
  process(data, handleProcess);
}

function handleProcess(error, result) {
  if (error) return console.error('Process error:', error);
  save(result, handleSave);
}

function handleSave(error) {
  if (error) return console.error('Save error:', error);
  console.log('Done');
}

fs.readFile('./file.txt', 'utf8', handleFileRead);
</code></pre>
<h3 id="–û–±—Ä–∞–±–æ—Ç–∫–∞-–æ—à–∏–±–æ–∫--–∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏-–≤–∞–∂–Ω–∞"><a class="header" href="#–û–±—Ä–∞–±–æ—Ç–∫–∞-–æ—à–∏–±–æ–∫--–∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏-–≤–∞–∂–Ω–∞">–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ ‚Äî –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω–∞</a></h3>
<p><strong>–ó–æ–ª–æ—Ç—ã–µ –ø—Ä–∞–≤–∏–ª–∞:</strong></p>
<ol>
<li><strong>–ù–∏–∫–æ–≥–¥–∞ –Ω–µ –∏–≥–Ω–æ—Ä–∏—Ä—É–π—Ç–µ</strong> –ø–µ—Ä–≤—ã–π –∞—Ä–≥—É–º–µ–Ω—Ç error-first –∫–æ–ª–±–µ–∫–æ–≤</li>
<li><strong>–í—Å–µ–≥–¥–∞ –ø—Ä–æ–≤–µ—Ä—è–π—Ç–µ</strong> –æ—à–∏–±–∫—É –ø–µ—Ä–µ–¥ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞</li>
<li><strong>–û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ return</strong> –ø–æ—Å–ª–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–∫–∏</li>
<li><strong>–õ–æ–≥–∏—Ä—É–π—Ç–µ –∏–ª–∏ –ø—Ä–æ–±—Ä–∞—Å—ã–≤–∞–π—Ç–µ</strong> ‚Äî –Ω–µ –ø—Ä–æ–≥–ª–∞—Ç—ã–≤–∞–π—Ç–µ –æ—à–∏–±–∫–∏</li>
<li><strong>–î–æ–±–∞–≤–ª—è–π—Ç–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç</strong> ‚Äî –æ–±–æ–≥–∞—â–∞–π—Ç–µ –æ—à–∏–±–∫–∏ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏</li>
</ol>
<pre><code class="language-javascript">// –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞
function operation(callback) {
  asyncTask((error, data) =&gt; {
    if (error) {
      logger.error('Task failed', { error: error.message });
      callback(error); // –ü—Ä–æ–±—Ä–∞—Å—ã–≤–∞–µ–º
      return; // –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ!
    }

    // –ë–µ–∑–æ–ø–∞—Å–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º data
    callback(null, processData(data));
  });
}
</code></pre>
<h3 id="–ö–æ–ª–±–µ–∫–∏-–∫–∞–∫-—Ñ—É–Ω–¥–∞–º–µ–Ω—Ç-–∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç–∏"><a class="header" href="#–ö–æ–ª–±–µ–∫–∏-–∫–∞–∫-—Ñ—É–Ω–¥–∞–º–µ–Ω—Ç-–∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç–∏">–ö–æ–ª–±–µ–∫–∏ –∫–∞–∫ —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç–∏</a></h3>
<p><strong>–ö–ª—é—á–µ–≤–æ–µ –ø–æ–Ω–∏–º–∞–Ω–∏–µ:</strong></p>
<p>–ö–æ–ª–±–µ–∫–∏ ‚Äî —ç—Ç–æ <strong>–±–∞–∑–æ–≤—ã–π –ø—Ä–∏–º–∏—Ç–∏–≤</strong> –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç–∏ –≤ JavaScript. –í—Å–µ –æ—Å—Ç–∞–ª—å–Ω—ã–µ –∫–æ–Ω—Ç—Ä–∞–∫—Ç—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç –∫–æ–ª–±–µ–∫–∏:</p>
<ul>
<li><strong>Promises</strong> ‚Äî –∏—Å–ø–æ–ª—å–∑—É—é—Ç –∫–æ–ª–±–µ–∫–∏ –≤ <code>.then()</code> –∏ <code>.catch()</code></li>
<li><strong>async/await</strong> ‚Äî —Å–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–∏–π —Å–∞—Ö–∞—Ä –Ω–∞–¥ –ø—Ä–æ–º–∏—Å–∞–º–∏</li>
<li><strong>Observables</strong> ‚Äî –∏—Å–ø–æ–ª—å–∑—É—é—Ç –∫–æ–ª–±–µ–∫–∏ –¥–ª—è –ø–æ–¥–ø–∏—Å—á–∏–∫–æ–≤</li>
<li><strong>Event Emitters</strong> ‚Äî –∫–æ–ª–±–µ–∫–∏ –∫–∞–∫ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π</li>
<li><strong>Async Iterators</strong> ‚Äî –∫–æ–ª–±–µ–∫–∏ –≤ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏</li>
</ul>
<p><strong>–ü–æ—ç—Ç–æ–º—É –ø–æ–Ω–∏–º–∞–Ω–∏–µ –∫–æ–ª–±–µ–∫–æ–≤ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω–æ –¥–ª—è:</strong></p>
<ul>
<li>–†–∞–±–æ—Ç—ã —Å –ª—é–±—ã–º –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–º –∫–æ–¥–æ–º</li>
<li>–ü–æ–Ω–∏–º–∞–Ω–∏—è –±–æ–ª–µ–µ —Å–ª–æ–∂–Ω—ã—Ö –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤</li>
<li>–û—Ç–ª–∞–¥–∫–∏ –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏</li>
<li>–°–æ–∑–¥–∞–Ω–∏—è —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã—Ö –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–π</li>
</ul>
<h3 id="–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ-—Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏-2"><a class="header" href="#–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ-—Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏-2">–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏</a></h3>
<h4 id="–ü—Ä–∏-–Ω–∞–ø–∏—Å–∞–Ω–∏–∏-—Ñ—É–Ω–∫—Ü–∏–π-—Å-–∫–æ–ª–±–µ–∫–∞–º–∏"><a class="header" href="#–ü—Ä–∏-–Ω–∞–ø–∏—Å–∞–Ω–∏–∏-—Ñ—É–Ω–∫—Ü–∏–π-—Å-–∫–æ–ª–±–µ–∫–∞–º–∏">–ü—Ä–∏ –Ω–∞–ø–∏—Å–∞–Ω–∏–∏ —Ñ—É–Ω–∫—Ü–∏–π —Å –∫–æ–ª–±–µ–∫–∞–º–∏:</a></h4>
<ol>
<li><strong>–°–ª–µ–¥—É–π—Ç–µ CLF</strong> ‚Äî callback-last-error-first</li>
<li><strong>–î–æ–∫—É–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ</strong> ‚Äî –æ—Å–æ–±–µ–Ω–Ω–æ —Å—Ç—Ä—É–∫—Ç—É—Ä—É –æ—à–∏–±–æ–∫ –∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤</li>
<li><strong>–í—ã–∑—ã–≤–∞–π—Ç–µ –∫–æ–ª–±–µ–∫ —Ä–æ–≤–Ω–æ –æ–¥–∏–Ω —Ä–∞–∑</strong> ‚Äî –∏–∑–±–µ–≥–∞–π—Ç–µ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –≤—ã–∑–æ–≤–æ–≤</li>
<li><strong>–î–µ–ª–∞–π—Ç–µ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç—å —è–≤–Ω–æ–π</strong> ‚Äî –µ—Å–ª–∏ –º–æ–∂–µ—Ç –±—ã—Ç—å async, –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –≤—Å–µ–≥–¥–∞ async</li>
<li><strong>–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ try-catch</strong> ‚Äî –¥–ª—è —Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π –≤ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–º –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ</li>
</ol>
<pre><code class="language-javascript">function goodAsyncFunction(param, callback) {
  // –í–∞–ª–∏–¥–∞—Ü–∏—è
  if (!param) {
    process.nextTick(() =&gt; {
      callback(new Error('param is required'));
    });
    return;
  }

  // –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è
  asyncOperation(param, (error, result) =&gt; {
    if (error) {
      callback(error);
      return;
    }

    // –°–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –≤ try-catch
    try {
      const processed = processResult(result);
      callback(null, processed);
    } catch (err) {
      callback(err);
    }
  });
}
</code></pre>
<h4 id="–ü—Ä–∏-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏-–∫–æ–ª–±–µ–∫–æ–≤"><a class="header" href="#–ü—Ä–∏-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏-–∫–æ–ª–±–µ–∫–æ–≤">–ü—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ –∫–æ–ª–±–µ–∫–æ–≤:</a></h4>
<ol>
<li><strong>–í—Å–µ–≥–¥–∞ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–π—Ç–µ –æ—à–∏–±–∫–∏</strong> ‚Äî –ø–µ—Ä–≤—ã–º –¥–µ–ª–æ–º –ø—Ä–æ–≤–µ—Ä—è–π—Ç–µ <code>error</code></li>
<li><strong>–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∏–º–µ–Ω–æ–≤–∞–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏</strong> ‚Äî –¥–ª—è —Å–ª–æ–∂–Ω—ã—Ö —Ü–µ–ø–æ—á–µ–∫</li>
<li><strong>–ù–µ —Å–æ–∑–¥–∞–≤–∞–π—Ç–µ –≥–ª—É–±–æ–∫–∏–µ –≤–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç–∏</strong> ‚Äî –¥–µ–∫–æ–º–ø–æ–∑–∏—Ä—É–π—Ç–µ –∫–æ–¥</li>
<li><strong>–ì—Ä—É–ø–ø–∏—Ä—É–π—Ç–µ —Å–≤—è–∑–∞–Ω–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏</strong> ‚Äî –≤ –∫–ª–∞—Å—Å—ã –∏–ª–∏ –º–æ–¥—É–ª–∏</li>
<li><strong>–î–æ–±–∞–≤–ª—è–π—Ç–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ</strong> ‚Äî –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π</li>
</ol>
<h4 id="–ü—Ä–∏-—Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–µ"><a class="header" href="#–ü—Ä–∏-—Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–µ">–ü—Ä–∏ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–µ:</a></h4>
<ol>
<li><strong>–ù–∞—á–Ω–∏—Ç–µ —Å –∏–º–µ–Ω–æ–≤–∞–Ω–∏—è</strong> ‚Äî –¥–∞–π—Ç–µ –∏–º–µ–Ω–∞ –∞–Ω–æ–Ω–∏–º–Ω—ã–º —Ñ—É–Ω–∫—Ü–∏—è–º</li>
<li><strong>–ò–∑–≤–ª–µ–∫–∏—Ç–µ –ª–æ–≥–∏–∫—É</strong> ‚Äî –∫–∞–∂–¥–∞—è —Ñ—É–Ω–∫—Ü–∏—è = –æ–¥–Ω–∞ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å</li>
<li><strong>–î–æ–±–∞–≤—å—Ç–µ –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫</strong> ‚Äî –Ω–∞ –∫–∞–∂–¥—ã–π —É—Ä–æ–≤–µ–Ω—å</li>
<li><strong>–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–ª–∞—Å—Å—ã/–æ–±—ä–µ–∫—Ç—ã</strong> ‚Äî –¥–ª—è –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –ø–æ—Ä—è–¥–∫–∞</li>
<li><strong>–†–∞—Å—Å–º–æ—Ç—Ä–∏—Ç–µ –ø—Ä–æ–º–∏—Å—ã</strong> ‚Äî –¥–ª—è –Ω–æ–≤–æ–≥–æ –∫–æ–¥–∞</li>
</ol>
<hr />
<h2 id="10-–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ-–º–∞—Ç–µ—Ä–∏–∞–ª—ã-–∏-—Å–≤—è–∑—å-—Å-–¥—Ä—É–≥–∏–º–∏-–ø–∞—Ç—Ç–µ—Ä–Ω–∞–º–∏"><a class="header" href="#10-–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ-–º–∞—Ç–µ—Ä–∏–∞–ª—ã-–∏-—Å–≤—è–∑—å-—Å-–¥—Ä—É–≥–∏–º–∏-–ø–∞—Ç—Ç–µ—Ä–Ω–∞–º–∏">10. –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã –∏ —Å–≤—è–∑—å —Å –¥—Ä—É–≥–∏–º–∏ –ø–∞—Ç—Ç–µ—Ä–Ω–∞–º–∏</a></h2>
<h3 id="–≠–≤–æ–ª—é—Ü–∏—è-–∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö-–ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤"><a class="header" href="#–≠–≤–æ–ª—é—Ü–∏—è-–∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö-–ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤">–≠–≤–æ–ª—é—Ü–∏—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤</a></h3>
<p>–ö–æ–ª–±–µ–∫–∏ ‚Äî —ç—Ç–æ –ø–µ—Ä–≤—ã–π —à–∞–≥ –≤ —ç–≤–æ–ª—é—Ü–∏–∏ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–≥–æ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è –≤ JavaScript:</p>
<pre><code>Callbacks (ES5)
    ‚Üì
Thenable (–ø–µ—Ä–µ—Ö–æ–¥–Ω—ã–π –ø–∞—Ç—Ç–µ—Ä–Ω)
    ‚Üì
Promises (ES6/ES2015)
    ‚Üì
async/await (ES2017)
    ‚Üì
AsyncIterators (ES2018)
    ‚Üì
Top-level await (ES2022)
</code></pre>
<p>–ö–∞–∂–¥—ã–π —Å–ª–µ–¥—É—é—â–∏–π –ø–∞—Ç—Ç–µ—Ä–Ω —Ä–µ—à–∞–µ—Ç –ø—Ä–æ–±–ª–µ–º—ã –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ, –Ω–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –µ–≥–æ –∫–∞–∫ –æ—Å–Ω–æ–≤—É.</p>
<h3 id="–°–≤—è–∑—å-—Å-–¥—Ä—É–≥–∏–º–∏-–ø–∞—Ç—Ç–µ—Ä–Ω–∞–º–∏"><a class="header" href="#–°–≤—è–∑—å-—Å-–¥—Ä—É–≥–∏–º–∏-–ø–∞—Ç—Ç–µ—Ä–Ω–∞–º–∏">–°–≤—è–∑—å —Å –¥—Ä—É–≥–∏–º–∏ –ø–∞—Ç—Ç–µ—Ä–Ω–∞–º–∏</a></h3>
<h4 id="thenable"><a class="header" href="#thenable">Thenable</a></h4>
<p><strong>Thenable</strong> ‚Äî –ø—Ä–µ–¥—à–µ—Å—Ç–≤–µ–Ω–Ω–∏–∫ –ø—Ä–æ–º–∏—Å–æ–≤, –æ–±—ä–µ–∫—Ç —Å –º–µ—Ç–æ–¥–æ–º <code>.then()</code>:</p>
<pre><code class="language-javascript">// –ö–æ–ª–±–µ–∫
function fetchData(callback) {
  setTimeout(() =&gt; {
    callback(null, 'data');
  }, 1000);
}

// Thenable (—É–ø—Ä–æ—â–µ–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è)
function fetchDataThenable() {
  return {
    then(onSuccess, onError) {
      setTimeout(() =&gt; {
        onSuccess('data');
      }, 1000);
    }
  };
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
fetchDataThenable().then(
  data =&gt; console.log(data),
  error =&gt; console.error(error)
);
</code></pre>
<h4 id="promise"><a class="header" href="#promise">Promise</a></h4>
<p><strong>Promise</strong> ‚Äî —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Å–ø–æ—Å–æ–± —Ä–∞–±–æ—Ç—ã —Å –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç—å—é:</p>
<pre><code class="language-javascript">// –ü—Ä–æ–º–∏—Å–∏—Ñ–∏–∫–∞—Ü–∏—è callback-—Ñ—É–Ω–∫—Ü–∏–∏
function promisify(fn) {
  return function(...args) {
    return new Promise((resolve, reject) =&gt; {
      fn(...args, (error, result) =&gt; {
        if (error) {
          reject(error);
        } else {
          resolve(result);
        }
      });
    });
  };
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
const readFilePromise = promisify(fs.readFile);

readFilePromise('./file.txt', 'utf8')
  .then(data =&gt; console.log(data))
  .catch(error =&gt; console.error(error));
</code></pre>
<h4 id="asyncawait-1"><a class="header" href="#asyncawait-1">Async/Await</a></h4>
<p><strong>Async/await</strong> ‚Äî —Å–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–∏–π —Å–∞—Ö–∞—Ä –Ω–∞–¥ –ø—Ä–æ–º–∏—Å–∞–º–∏:</p>
<pre><code class="language-javascript">// Callback
fs.readFile('./file.txt', 'utf8', (error, data) =&gt; {
  if (error) return console.error(error);
  console.log(data);
});

// Promise
readFilePromise('./file.txt', 'utf8')
  .then(data =&gt; console.log(data))
  .catch(error =&gt; console.error(error));

// Async/await
async function readFile() {
  try {
    const data = await readFilePromise('./file.txt', 'utf8');
    console.log(data);
  } catch (error) {
    console.error(error);
  }
}
</code></pre>
<h3 id="nodejs-utilpromisify"><a class="header" href="#nodejs-utilpromisify">Node.js util.promisify</a></h3>
<p>Node.js –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –≤—Å—Ç—Ä–æ–µ–Ω–Ω—É—é —É—Ç–∏–ª–∏—Ç—É –¥–ª—è –ø—Ä–æ–º–∏—Å–∏—Ñ–∏–∫–∞—Ü–∏–∏:</p>
<pre><code class="language-javascript">const util = require('util');
const fs = require('fs');

// –ü—Ä–æ–º–∏—Å–∏—Ñ–∏–∫–∞—Ü–∏—è –≤—Å–µ–≥–æ –º–æ–¥—É–ª—è
const readFilePromise = util.promisify(fs.readFile);
const writeFilePromise = util.promisify(fs.writeFile);

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å async/await
async function processFile() {
  try {
    const data = await readFilePromise('./input.txt', 'utf8');
    const processed = data.toUpperCase();
    await writeFilePromise('./output.txt', processed, 'utf8');
    console.log('File processed');
  } catch (error) {
    console.error('Error:', error.message);
  }
}

processFile();
</code></pre>
<h3 id="–î–ª—è-—Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ–≥–æ-–∏–∑—É—á–µ–Ω–∏—è"><a class="header" href="#–î–ª—è-—Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ–≥–æ-–∏–∑—É—á–µ–Ω–∏—è">–î–ª—è —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ–≥–æ –∏–∑—É—á–µ–Ω–∏—è</a></h3>
<p><strong>–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –∑–∞–¥–∞–Ω–∏—è:</strong></p>
<ol>
<li>–ù–∞–ø–∏—à–∏—Ç–µ 3-4 —Ñ—É–Ω–∫—Ü–∏–∏ —Å –∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–º CLF –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –¥–∞–Ω–Ω—ã–º–∏</li>
<li>–°–æ–∑–¥–∞–π—Ç–µ —Ü–µ–ø–æ—á–∫—É –∏–∑ 5 –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π —Å –∏–º–µ–Ω–æ–≤–∞–Ω–Ω—ã–º–∏ –∫–æ–ª–±–µ–∫–∞–º–∏</li>
<li>–†–µ—Ñ–∞–∫—Ç–æ—Ä–∏—Ç–µ –ø—Ä–∏–º–µ—Ä callback hell –≤ –ø–ª–æ—Å–∫—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É</li>
<li>–†–µ–∞–ª–∏–∑—É–π—Ç–µ retry-–ª–æ–≥–∏–∫—É –¥–ª—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–π –æ–ø–µ—Ä–∞—Ü–∏–∏</li>
<li>–°–æ–∑–¥–∞–π—Ç–µ —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –æ—à–∏–±–æ–∫ –¥–ª—è –∫–æ–ª–±–µ–∫–æ–≤</li>
</ol>
<p><strong>–ò–∑—É—á–∏—Ç–µ –∏—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥:</strong></p>
<ul>
<li>Node.js <code>fs</code> module ‚Äî –ø—Ä–∏–º–µ—Ä—ã CLF –≤ –¥–µ–π—Å—Ç–≤–∏–∏</li>
<li>Express.js middleware ‚Äî –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∫–æ–ª–±–µ–∫–æ–≤ –¥–ª—è —Ü–µ–ø–æ—á–∫–∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏</li>
<li>Async.js library ‚Äî —É—Ç–∏–ª–∏—Ç—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –∫–æ–ª–±–µ–∫–∞–º–∏</li>
</ul>
<p><strong>–°–ª–µ–¥—É—é—â–∏–µ —Ç–µ–º—ã:</strong></p>
<ul>
<li><strong>Thenable</strong> ‚Äî –ø–µ—Ä–µ—Ö–æ–¥–Ω—ã–π –ø–∞—Ç—Ç–µ—Ä–Ω –º–µ–∂–¥—É callbacks –∏ promises</li>
<li><strong>Promise API</strong> ‚Äî —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π —Å—Ç–∞–Ω–¥–∞—Ä—Ç –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç–∏</li>
<li><strong>Iterator &amp; AsyncIterator</strong> ‚Äî –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—è–º–∏</li>
<li><strong>Disposable</strong> ‚Äî —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–∞–º–∏ —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏–µ–º</li>
</ul>
<hr />
<h2 id="–ò—Ç–æ–≥–æ–≤–æ–µ-—Ä–µ–∑—é–º–µ"><a class="header" href="#–ò—Ç–æ–≥–æ–≤–æ–µ-—Ä–µ–∑—é–º–µ">–ò—Ç–æ–≥–æ–≤–æ–µ —Ä–µ–∑—é–º–µ</a></h2>
<h3 id="–ß—Ç–æ-–º—ã-–∏–∑—É—á–∏–ª–∏"><a class="header" href="#–ß—Ç–æ-–º—ã-–∏–∑—É—á–∏–ª–∏">–ß—Ç–æ –º—ã –∏–∑—É—á–∏–ª–∏</a></h3>
<ol>
<li><strong>–≠–≤–æ–ª—é—Ü–∏—è –æ—Ç sync –∫ async</strong> ‚Äî –∫–∞–∫ —Ñ—É–Ω–∫—Ü–∏–∏ –ø—Ä–µ–≤—Ä–∞—â–∞—é—Ç—Å—è –≤ –∫–æ–ª–±–µ–∫–∏</li>
<li><strong>–ö–æ–Ω—Ç—Ä–∞–∫—Ç CLF</strong> ‚Äî callback-last-error-first –∫–∞–∫ —Å—Ç–∞–Ω–¥–∞—Ä—Ç Node.js</li>
<li><strong>–°–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ vs –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ –∫–æ–ª–±–µ–∫–∏</strong> ‚Äî –≤–∞–∂–Ω–æ–µ —Ä–∞–∑–ª–∏—á–∏–µ</li>
<li><strong>–†–∞–±–æ—Ç–∞ —Å fs –º–æ–¥—É–ª–µ–º</strong> ‚Äî –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–∏–º–µ—Ä—ã I/O –æ–ø–µ—Ä–∞—Ü–∏–π</li>
<li><strong>–ò–º–µ–Ω–æ–≤–∞–Ω–Ω—ã–µ –∫–æ–ª–±–µ–∫–∏</strong> ‚Äî —Ä–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º —á–∏—Ç–∞–µ–º–æ—Å—Ç–∏ –∏ —Ç–µ—Å—Ç–∏—Ä—É–µ–º–æ—Å—Ç–∏</li>
<li><strong>–ê–¥–∞–ø—Ç–∞—Ü–∏—è API</strong> ‚Äî –ø—Ä–∏–≤–µ–¥–µ–Ω–∏–µ –∫ –µ–¥–∏–Ω–æ–º—É –∫–æ–Ω—Ç—Ä–∞–∫—Ç—É</li>
<li><strong>–†–µ—à–µ–Ω–∏–µ callback hell</strong> ‚Äî —á–µ—Ä–µ–∑ –¥–µ–∫–æ–º–ø–æ–∑–∏—Ü–∏—é –∏ –∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ</li>
<li><strong>–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫</strong> ‚Äî —Å–∏—Å—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–¥—Ö–æ–¥ –Ω–∞ –∫–∞–∂–¥–æ–º —É—Ä–æ–≤–Ω–µ</li>
</ol>
<h3 id="–ö–ª—é—á–µ–≤—ã–µ-takeaways"><a class="header" href="#–ö–ª—é—á–µ–≤—ã–µ-takeaways">–ö–ª—é—á–µ–≤—ã–µ takeaways</a></h3>
<ul>
<li><strong>–ö–æ–ª–±–µ–∫–∏ ‚Äî —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç</strong> –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç–∏ –≤ JavaScript</li>
<li><strong>CLF –∫–æ–Ω—Ç—Ä–∞–∫—Ç</strong> –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –µ–¥–∏–Ω–æ–æ–±—Ä–∞–∑–∏–µ API</li>
<li><strong>Callback hell ‚Äî –º–∏—Ñ</strong> –ø—Ä–∏ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ –∫–æ–¥–∞</li>
<li><strong>–ò–º–µ–Ω–æ–≤–∞–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏</strong> –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω—ã –¥–ª—è –∫–∞—á–µ—Å—Ç–≤–∞ –∫–æ–¥–∞</li>
<li><strong>–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫</strong> –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –Ω–∞ –∫–∞–∂–¥–æ–º —É—Ä–æ–≤–Ω–µ</li>
<li><strong>–í—Å–µ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã</strong> –∏—Å–ø–æ–ª—å–∑—É—é—Ç –∫–æ–ª–±–µ–∫–∏ –∫–∞–∫ –æ—Å–Ω–æ–≤—É</li>
</ul>
<h3 id="–ß—Ç–æ-–¥–∞–ª—å—à–µ"><a class="header" href="#–ß—Ç–æ-–¥–∞–ª—å—à–µ">–ß—Ç–æ –¥–∞–ª—å—à–µ</a></h3>
<p>–ö–æ–ª–±–µ–∫–∏ ‚Äî —ç—Ç–æ –±–∞–∑–∞. –ü–æ–Ω–∏–º–∞—è –∏—Ö, –≤—ã –≥–æ—Ç–æ–≤—ã –∫ –∏–∑—É—á–µ–Ω–∏—é:</p>
<ul>
<li>–ü—Ä–æ–º–∏—Å–æ–≤ –∏ –∏—Ö –∫–æ–º–±–∏–Ω–∞—Ç–æ—Ä–æ–≤</li>
<li>Async/await —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞</li>
<li>–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö –∏—Ç–µ—Ä–∞—Ç–æ—Ä–æ–≤</li>
<li>Event-driven –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã</li>
<li>Reactive programming —Å Observables</li>
</ul>
<hr />
<p><strong>–ê–≤—Ç–æ—Ä –ª–µ–∫—Ü–∏–∏:</strong> –¢–∏–º—É—Ä –®–µ–º—Å–µ–¥–∏–Ω–æ–≤
<strong>–ö—É—Ä—Å:</strong> –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–µ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ Node.js
<strong>–ù–µ–¥–µ–ª—è:</strong> 2 - Native features in language and platforms
<strong>–°—Å—ã–ª–∫–∞ –Ω–∞ –≤–∏–¥–µ–æ:</strong> https://youtu.be/vcOGCWL-eZc</p>
<hr />
<p><strong>–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:</strong> –í—Å–µ –ø—Ä–∏–º–µ—Ä—ã –∫–æ–¥–∞ –¥–æ—Å—Ç—É–ø–Ω—ã –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ –∫—É—Ä—Å–∞. –ü—Ä–∞–∫—Ç–∏–∫—É–π—Ç–µ—Å—å, —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ –∏ –Ω–µ –±–æ–π—Ç–µ—Å—å –∫–æ–ª–±–µ–∫–æ–≤ ‚Äî –æ–Ω–∏ –≤–∞—à–∏ –¥—Ä—É–∑—å—è –≤ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–º –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–∏!</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="thenable-–∫–æ–Ω—Ç—Ä–∞–∫—Ç-promise-like-–≤-javascript"><a class="header" href="#thenable-–∫–æ–Ω—Ç—Ä–∞–∫—Ç-promise-like-–≤-javascript">Thenable –∫–æ–Ω—Ç—Ä–∞–∫—Ç (promise-like) –≤ JavaScript</a></h1>
<h2 id="–û–±–∑–æ—Ä-1"><a class="header" href="#–û–±–∑–æ—Ä-1">–û–±–∑–æ—Ä</a></h2>
<p>Thenable ‚Äî —ç—Ç–æ –∞–±—Å—Ç—Ä–∞–∫—Ü–∏—è, –∫–æ—Ç–æ—Ä–∞—è –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏ –ø—Ä–µ–¥—à–µ—Å—Ç–≤–æ–≤–∞–ª–∞ –ø–æ—è–≤–ª–µ–Ω–∏—é Promise –≤ JavaScript. –≠—Ç–æ —É–ø—Ä–æ—â–µ–Ω–Ω—ã–π promise-like –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å, –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–Ω–æ —Å–æ–∑–¥–∞–≤–∞—Ç—å –≤—Ä—É—á–Ω—É—é –∏ –∫–æ—Ç–æ—Ä—ã–π –æ–±–ª–∞–¥–∞–µ—Ç –º–Ω–æ–≥–∏–º–∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—è–º–∏ –ø—Ä–æ–º–∏—Å–æ–≤. –ù–µ—Å–º–æ—Ç—Ä—è –Ω–∞ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ –Ω–∞—Ç–∏–≤–Ω—ã—Ö Promise, thenable –∫–æ–Ω—Ç—Ä–∞–∫—Ç –æ—Å—Ç–∞–µ—Ç—Å—è –ø–æ–ª–µ–∑–Ω—ã–º –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–º –≤ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ.</p>
<p><strong>–ö–ª—é—á–µ–≤—ã–µ –æ—Ç–ª–∏—á–∏—è –æ—Ç Promise:</strong></p>
<ul>
<li>–ú–æ–∂–µ—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å—Å—è –º–Ω–æ–≥–æ–∫—Ä–∞—Ç–Ω–æ (Promise —Ä–µ–∑–æ–ª–≤–∏—Ç—Å—è —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —Ä–∞–∑)</li>
<li>–ë–æ–ª–µ–µ –ø—Ä–æ—Å—Ç–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è</li>
<li>–ü–æ–ª–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å async/await —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–æ–º</li>
<li>–ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–π (query builders, –ª–µ–Ω–∏–≤—ã–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è)</li>
</ul>
<hr />
<h2 id="–ß—Ç–æ-—Ç–∞–∫–æ–µ-thenable"><a class="header" href="#–ß—Ç–æ-—Ç–∞–∫–æ–µ-thenable">–ß—Ç–æ —Ç–∞–∫–æ–µ Thenable?</a></h2>
<p><strong>Thenable</strong> ‚Äî —ç—Ç–æ –ª—é–±–æ–π –æ–±—ä–µ–∫—Ç –∏–ª–∏ –∫–ª–∞—Å—Å, –∫–æ—Ç–æ—Ä—ã–π –∏–º–µ–µ—Ç –º–µ—Ç–æ–¥ <code>then</code>. –≠—Ç–æ –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –∫–æ–Ω—Ç—Ä–∞–∫—Ç, –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–π –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–º –∫–æ–¥–æ–º –≤ JavaScript.</p>
<h3 id="–ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è-—Å—Ç—Ä—É–∫—Ç—É—Ä–∞-thenable"><a class="header" href="#–ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è-—Å—Ç—Ä—É–∫—Ç—É—Ä–∞-thenable">–ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ thenable</a></h3>
<pre><code class="language-javascript">const thenable = {
  then(onFulfilled) {
    // –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è
    setTimeout(() =&gt; {
      onFulfilled('—Ä–µ–∑—É–ª—å—Ç–∞—Ç');
    }, 1000);
  }
};
</code></pre>
<p><strong>–í–∞–∂–Ω–æ:</strong> –û–±—ä–µ–∫—Ç —Å—á–∏—Ç–∞–µ—Ç—Å—è thenable, –µ—Å–ª–∏ —É –Ω–µ–≥–æ –µ—Å—Ç—å –º–µ—Ç–æ–¥ <code>then</code>, –ø—Ä–∏–Ω–∏–º–∞—é—â–∏–π callback-—Ñ—É–Ω–∫—Ü–∏—é.</p>
<hr />
<h2 id="–ë–∞–∑–æ–≤—ã–π-–ø—Ä–∏–º–µ—Ä-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è"><a class="header" href="#–ë–∞–∑–æ–≤—ã–π-–ø—Ä–∏–º–µ—Ä-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è">–ë–∞–∑–æ–≤—ã–π –ø—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è</a></h2>
<h3 id="–ü—Ä–æ—Å—Ç–µ–π—à–∏–π-thenable-–æ–±—ä–µ–∫—Ç"><a class="header" href="#–ü—Ä–æ—Å—Ç–µ–π—à–∏–π-thenable-–æ–±—ä–µ–∫—Ç">–ü—Ä–æ—Å—Ç–µ–π—à–∏–π thenable –æ–±—ä–µ–∫—Ç</a></h3>
<pre><code class="language-javascript">// –°–æ–∑–¥–∞–µ–º thenable –æ–±—ä–µ–∫—Ç
const delay = {
  then(onFulfilled) {
    setTimeout(() =&gt; {
      onFulfilled('–í—ã–ø–æ–ª–Ω–µ–Ω–æ —á–µ—Ä–µ–∑ 1 —Å–µ–∫—É–Ω–¥—É');
    }, 1000);
  }
};

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å async/await
(async () =&gt; {
  const a = await delay;
  console.log(a); // "–í—ã–ø–æ–ª–Ω–µ–Ω–æ —á–µ—Ä–µ–∑ 1 —Å–µ–∫—É–Ω–¥—É"

  const b = await delay;
  console.log(b); // –°–Ω–æ–≤–∞ –∂–¥–µ—Ç 1 —Å–µ–∫—É–Ω–¥—É –∏ –≤—ã–≤–æ–¥–∏—Ç —Ç–æ –∂–µ

  const c = await delay;
  console.log(c); // –ò —Å–Ω–æ–≤–∞ –∂–¥–µ—Ç...

  const d = await delay;
  console.log(d); // –ö–∞–∂–¥—ã–π await –∑–∞–ø—É—Å–∫–∞–µ—Ç –æ–ø–µ—Ä–∞—Ü–∏—é –∑–∞–Ω–æ–≤–æ!
})();
</code></pre>
<p><strong>–ö–ª—é—á–µ–≤–æ–µ –æ—Ç–ª–∏—á–∏–µ –æ—Ç Promise:</strong> –û–¥–∏–Ω –∏ —Ç–æ—Ç –∂–µ thenable –æ–±—ä–µ–∫—Ç –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –º–Ω–æ–≥–æ–∫—Ä–∞—Ç–Ω–æ. –ö–∞–∂–¥—ã–π –≤—ã–∑–æ–≤ <code>await</code> –∑–∞–ø—É—Å–∫–∞–µ—Ç –æ–ø–µ—Ä–∞—Ü–∏—é –∑–∞–Ω–æ–≤–æ, –≤ –æ—Ç–ª–∏—á–∏–µ –æ—Ç Promise, –∫–æ—Ç–æ—Ä—ã–π —Ä–µ–∑–æ–ª–≤–∏—Ç—Å—è —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —Ä–∞–∑.</p>
<hr />
<h2 id="thenable-—á–µ—Ä–µ–∑-—Ñ—É–Ω–∫—Ü–∏—é-—Ñ–∞–±—Ä–∏–∫—É"><a class="header" href="#thenable-—á–µ—Ä–µ–∑-—Ñ—É–Ω–∫—Ü–∏—é-—Ñ–∞–±—Ä–∏–∫—É">Thenable —á–µ—Ä–µ–∑ —Ñ—É–Ω–∫—Ü–∏—é-—Ñ–∞–±—Ä–∏–∫—É</a></h2>
<p>–ë–æ–ª–µ–µ –ø—Ä–∞–∫—Ç–∏—á–Ω—ã–π –ø–æ–¥—Ö–æ–¥ ‚Äî —Å–æ–∑–¥–∞–Ω–∏–µ thenable —á–µ—Ä–µ–∑ —Ñ–∞–±—Ä–∏—á–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é.</p>
<h3 id="–ü—Ä–∏–º–µ—Ä-–ø–æ–ª—É—á–µ–Ω–∏–µ-–¥–∞–Ω–Ω—ã—Ö-–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è"><a class="header" href="#–ü—Ä–∏–º–µ—Ä-–ø–æ–ª—É—á–µ–Ω–∏–µ-–¥–∞–Ω–Ω—ã—Ö-–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è">–ü—Ä–∏–º–µ—Ä: –ø–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</a></h3>
<pre><code class="language-javascript">// –§–∞–±—Ä–∏—á–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è, –≤–æ–∑–≤—Ä–∞—â–∞—é—â–∞—è thenable
function getPerson(id) {
  return {
    then(onFulfilled) {
      // –ò–º–∏—Ç–∞—Ü–∏—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–π –æ–ø–µ—Ä–∞—Ü–∏–∏ (–∑–∞–ø—Ä–æ—Å –∫ API/–ë–î)
      setTimeout(() =&gt; {
        const person = {
          id: id,
          name: `User ${id}`,
          email: `user${id}@example.com`
        };
        onFulfilled(person);
      }, 1000);
    }
  };
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
(async () =&gt; {
  const user1 = await getPerson(10);
  console.log(user1); // { id: 10, name: 'User 10', email: 'user10@example.com' }

  const user2 = await getPerson(25);
  console.log(user2); // { id: 25, name: 'User 25', email: 'user25@example.com' }
})();
</code></pre>
<p><strong>–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–æ:</strong> –ö–∞–∂–¥—ã–π –≤—ã–∑–æ–≤ <code>getPerson(id)</code> —Å–æ–∑–¥–∞–µ—Ç –Ω–æ–≤—ã–π thenable —Å —Ä–∞–∑–Ω—ã–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏, —á—Ç–æ –¥–µ–ª–∞–µ—Ç –∫–æ–¥ –±–æ–ª–µ–µ –ø–æ—Ö–æ–∂–∏–º –Ω–∞ —Ä–∞–±–æ—Ç—É —Å Promise.</p>
<hr />
<h2 id="thenable-—á–µ—Ä–µ–∑-–∫–ª–∞—Å—Å—ã"><a class="header" href="#thenable-—á–µ—Ä–µ–∑-–∫–ª–∞—Å—Å—ã">Thenable —á–µ—Ä–µ–∑ –∫–ª–∞—Å—Å—ã</a></h2>
<p>–ö–ª–∞—Å—Å –ø–æ–∑–≤–æ–ª—è–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å –±–æ–ª–µ–µ —Å–ª–æ–∂–Ω—ã–µ thenable –æ–±—ä–µ–∫—Ç—ã —Å –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º.</p>
<h3 id="–ë–∞–∑–æ–≤–∞—è-—Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è-–∫–ª–∞—Å—Å–∞"><a class="header" href="#–ë–∞–∑–æ–≤–∞—è-—Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è-–∫–ª–∞—Å—Å–∞">–ë–∞–∑–æ–≤–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –∫–ª–∞—Å—Å–∞</a></h3>
<pre><code class="language-javascript">class Result {
  constructor() {
    this.callback = null;
  }

  // –ú–µ—Ç–æ–¥ then —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç callback
  then(onFulfilled) {
    this.callback = onFulfilled;
    return this;
  }

  // –ú–µ—Ç–æ–¥ –¥–ª—è –≤—ã–∑–æ–≤–∞ callback –ø—Ä–∏ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ –¥–∞–Ω–Ω—ã—Ö
  ready(data) {
    if (this.callback) {
      this.callback(data);
    }
  }
}

// –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
const result = new Result();

// –†–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫
result.then((data) =&gt; {
  console.log('–ü–æ–ª—É—á–µ–Ω—ã –¥–∞–Ω–Ω—ã–µ:', data);
});

// –ü–æ–∑–∂–µ, –∫–æ–≥–¥–∞ –¥–∞–Ω–Ω—ã–µ –≥–æ—Ç–æ–≤—ã
setTimeout(() =&gt; {
  result.ready({ status: 'success', value: 42 });
}, 2000);
</code></pre>
<hr />
<h2 id="–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–π-–ø—Ä–∏–º–µ—Ä-–æ–±–µ—Ä—Ç–∫–∞-–¥–ª—è-–¥–æ—Å—Ç—É–ø–∞-–∫-–¥–∞–Ω–Ω—ã–º"><a class="header" href="#–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–π-–ø—Ä–∏–º–µ—Ä-–æ–±–µ—Ä—Ç–∫–∞-–¥–ª—è-–¥–æ—Å—Ç—É–ø–∞-–∫-–¥–∞–Ω–Ω—ã–º">–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–π –ø—Ä–∏–º–µ—Ä: –æ–±–µ—Ä—Ç–∫–∞ –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ –¥–∞–Ω–Ω—ã–º</a></h2>
<h3 id="–ö–ª–∞—Å—Å-security-–¥–ª—è-—Ä–∞–±–æ—Ç—ã-—Å-–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏"><a class="header" href="#–ö–ª–∞—Å—Å-security-–¥–ª—è-—Ä–∞–±–æ—Ç—ã-—Å-–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏">–ö–ª–∞—Å—Å Security –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏</a></h3>
<pre><code class="language-javascript">class Result {
  constructor() {
    this.callback = null;
  }

  then(onFulfilled) {
    this.callback = onFulfilled;
    return this;
  }

  ready(data) {
    if (this.callback) {
      this.callback(data);
    }
  }
}

class Security {
  // –ú–µ—Ç–æ–¥ –ø–æ–ª—É—á–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–æ ID
  getPerson(id) {
    const res = new Result();

    // –ò–º–∏—Ç–∞—Ü–∏—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞ –∫ –ë–î
    setTimeout(() =&gt; {
      // –í —Ä–µ–∞–ª—å–Ω–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –∑–¥–µ—Å—å –±—ã–ª –±—ã –∑–∞–ø—Ä–æ—Å –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
      const person = {
        id: id,
        name: `Person ${id}`
      };

      // –ö–æ–≥–¥–∞ –¥–∞–Ω–Ω—ã–µ –≥–æ—Ç–æ–≤—ã, –≤—ã–∑—ã–≤–∞–µ–º ready
      res.ready(person);
    }, 1000);

    return res;
  }
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
const security = new Security();

(async () =&gt; {
  const person = await security.getPerson(10);
  console.log(person); // { id: 10, name: 'Person 10' }
})();
</code></pre>
<p><strong>–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ:</strong> –≠—Ç–æ—Ç –ø–∞—Ç—Ç–µ—Ä–Ω —É–¥–æ–±–µ–Ω –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è query builders, ORM —Å–∏—Å—Ç–µ–º –∏ –¥—Ä—É–≥–∏—Ö –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–π –¥–æ—Å—Ç—É–ø–∞ –∫ –¥–∞–Ω–Ω—ã–º.</p>
<hr />
<h2 id="–û–±—Ä–∞–±–æ—Ç–∫–∞-–æ—à–∏–±–æ–∫-–≤-thenable"><a class="header" href="#–û–±—Ä–∞–±–æ—Ç–∫–∞-–æ—à–∏–±–æ–∫-–≤-thenable">–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –≤ Thenable</a></h2>
<p>–ú–µ—Ç–æ–¥ <code>then</code> –º–æ–∂–µ—Ç –ø—Ä–∏–Ω–∏–º–∞—Ç—å –¥–≤–∞ –∞—Ä–≥—É–º–µ–Ω—Ç–∞: <code>onFulfilled</code> –∏ <code>onRejected</code>.</p>
<h3 id="–ü—Ä–∏–º–µ—Ä-—Å-–æ–±—Ä–∞–±–æ—Ç–∫–æ–π-–æ—à–∏–±–æ–∫"><a class="header" href="#–ü—Ä–∏–º–µ—Ä-—Å-–æ–±—Ä–∞–±–æ—Ç–∫–æ–π-–æ—à–∏–±–æ–∫">–ü—Ä–∏–º–µ—Ä —Å –æ–±—Ä–∞–±–æ—Ç–∫–æ–π –æ—à–∏–±–æ–∫</a></h3>
<pre><code class="language-javascript">function getNumbers() {
  const numbers = [10, 20, 30];
  let index = 0;

  return {
    then(onFulfilled, onRejected) {
      setTimeout(() =&gt; {
        if (index &lt; numbers.length) {
          // –ï—Å–ª–∏ —ç–ª–µ–º–µ–Ω—Ç—ã –µ—â–µ –µ—Å—Ç—å, –≤–æ–∑–≤—Ä–∞—â–∞–µ–º —Å–ª–µ–¥—É—é—â–∏–π
          onFulfilled(numbers[index++]);
        } else {
          // –ï—Å–ª–∏ —ç–ª–µ–º–µ–Ω—Ç—ã –∑–∞–∫–æ–Ω—á–∏–ª–∏—Å—å, –≥–µ–Ω–µ—Ä–∏—Ä—É–µ–º –æ—à–∏–±–∫—É
          const error = new Error('–ë–æ–ª—å—à–µ —á–∏—Å–µ–ª –Ω–µ—Ç');
          onRejected(error);
        }
      }, 100);
    }
  };
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
(async () =&gt; {
  const next = getNumbers();

  try {
    // –ü–µ—Ä–≤—ã–µ 3 –∏—Ç–µ—Ä–∞—Ü–∏–∏ —É—Å–ø–µ—à–Ω—ã
    for (let i = 0; i &lt; 5; i++) {
      const num = await next;
      console.log(`–ò—Ç–µ—Ä–∞—Ü–∏—è ${i + 1}:`, num);
    }
  } catch (error) {
    // –ù–∞ 4-–π –∏—Ç–µ—Ä–∞—Ü–∏–∏ –ø–æ–ø–∞–¥–∞–µ–º —Å—é–¥–∞
    console.error('–û—à–∏–±–∫–∞:', error.message); // "–ë–æ–ª—å—à–µ —á–∏—Å–µ–ª –Ω–µ—Ç"
  }
})();

// –í—ã–≤–æ–¥:
// –ò—Ç–µ—Ä–∞—Ü–∏—è 1: 10
// –ò—Ç–µ—Ä–∞—Ü–∏—è 2: 20
// –ò—Ç–µ—Ä–∞—Ü–∏—è 3: 30
// –û—à–∏–±–∫–∞: –ë–æ–ª—å—à–µ —á–∏—Å–µ–ª –Ω–µ—Ç
</code></pre>
<p><strong>–í–∞–∂–Ω–æ:</strong> Thenable –º–æ–∂–µ—Ç –±—ã—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω –º–Ω–æ–≥–æ–∫—Ä–∞—Ç–Ω–æ, —á—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç —Ä–µ–∞–ª–∏–∑–æ–≤—ã–≤–∞—Ç—å –∏—Ç–µ—Ä–∞—Ç–æ—Ä—ã –∏ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä—ã –¥–∞–Ω–Ω—ã—Ö.</p>
<hr />
<h2 id="–ß–µ–π–Ω–∏–Ω–≥-—Ü–µ–ø–æ—á–∫–∏-–≤—ã–∑–æ–≤–æ–≤"><a class="header" href="#–ß–µ–π–Ω–∏–Ω–≥-—Ü–µ–ø–æ—á–∫–∏-–≤—ã–∑–æ–≤–æ–≤">–ß–µ–π–Ω–∏–Ω–≥ (—Ü–µ–ø–æ—á–∫–∏ –≤—ã–∑–æ–≤–æ–≤)</a></h2>
<p>Thenable –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Ü–µ–ø–æ—á–∫–∏ –≤—ã–∑–æ–≤–æ–≤, –≤–æ–∑–≤—Ä–∞—â–∞—è <code>this</code> –∏–∑ –º–µ—Ç–æ–¥–∞ <code>then</code>.</p>
<h3 id="–ü—Ä–æ—Å—Ç–æ–π-—á–µ–π–Ω–∏–Ω–≥"><a class="header" href="#–ü—Ä–æ—Å—Ç–æ–π-—á–µ–π–Ω–∏–Ω–≥">–ü—Ä–æ—Å—Ç–æ–π —á–µ–π–Ω–∏–Ω–≥</a></h3>
<pre><code class="language-javascript">function getNumbers() {
  const numbers = [10, 20, 30];
  let index = 0;

  return {
    then(onFulfilled, onRejected) {
      setTimeout(() =&gt; {
        if (index &lt; numbers.length) {
          onFulfilled(numbers[index++]);
        } else {
          onRejected(new Error('–ë–æ–ª—å—à–µ —á–∏—Å–µ–ª –Ω–µ—Ç'));
        }
      }, 100);

      // –í–æ–∑–≤—Ä–∞—â–∞–µ–º this –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏ —á–µ–π–Ω–∏–Ω–≥–∞
      return this;
    }
  };
}

// –§—É–Ω–∫—Ü–∏–∏-–æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏
const onSuccess = (data) =&gt; console.log('–ü–æ–ª—É—á–µ–Ω–æ:', data);
const onError = (error) =&gt; console.error('–û—à–∏–±–∫–∞:', error.message);

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å —á–µ–π–Ω–∏–Ω–≥–æ–º
getNumbers()
  .then(onSuccess, onError)
  .then(onSuccess, onError)
  .then(onSuccess, onError)
  .then(onSuccess, onError)
  .then(onSuccess, onError);

// –í—ã–≤–æ–¥:
// –ü–æ–ª—É—á–µ–Ω–æ: 10
// –ü–æ–ª—É—á–µ–Ω–æ: 20
// –ü–æ–ª—É—á–µ–Ω–æ: 30
// –û—à–∏–±–∫–∞: –ë–æ–ª—å—à–µ —á–∏—Å–µ–ª –Ω–µ—Ç
// –û—à–∏–±–∫–∞: –ë–æ–ª—å—à–µ —á–∏—Å–µ–ª –Ω–µ—Ç
</code></pre>
<hr />
<h2 id="–ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π-—á–µ–π–Ω–∏–Ω–≥-—Å-—Å–æ–∑–¥–∞–Ω–∏–µ–º-—Ü–µ–ø–æ—á–∫–∏-–æ–±—ä–µ–∫—Ç–æ–≤"><a class="header" href="#–ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π-—á–µ–π–Ω–∏–Ω–≥-—Å-—Å–æ–∑–¥–∞–Ω–∏–µ–º-—Ü–µ–ø–æ—á–∫–∏-–æ–±—ä–µ–∫—Ç–æ–≤">–ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π —á–µ–π–Ω–∏–Ω–≥ —Å —Å–æ–∑–¥–∞–Ω–∏–µ–º —Ü–µ–ø–æ—á–∫–∏ –æ–±—ä–µ–∫—Ç–æ–≤</a></h2>
<p>–î–ª—è –±–æ–ª–µ–µ —Å–ª–æ–∂–Ω—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤ –º–æ–∂–Ω–æ —Å–æ–∑–¥–∞–≤–∞—Ç—å —Ü–µ–ø–æ—á–∫—É —Å–≤—è–∑–∞–Ω–Ω—ã—Ö thenable –æ–±—ä–µ–∫—Ç–æ–≤.</p>
<h3 id="–†–µ–∞–ª–∏–∑–∞—Ü–∏—è-—Ä–µ–∫—É—Ä—Å–∏–≤–Ω–æ–≥–æ-thenable"><a class="header" href="#–†–µ–∞–ª–∏–∑–∞—Ü–∏—è-—Ä–µ–∫—É—Ä—Å–∏–≤–Ω–æ–≥–æ-thenable">–†–µ–∞–ª–∏–∑–∞—Ü–∏—è —Ä–µ–∫—É—Ä—Å–∏–≤–Ω–æ–≥–æ thenable</a></h3>
<pre><code class="language-javascript">class Thenable {
  constructor() {
    this.onSuccess = null;
    this.next = null; // –°—Å—ã–ª–∫–∞ –Ω–∞ —Å–ª–µ–¥—É—é—â–∏–π thenable –≤ —Ü–µ–ø–æ—á–∫–µ
  }

  then(onSuccess) {
    // –°–æ–∑–¥–∞–µ–º –Ω–æ–≤—ã–π —ç–∫–∑–µ–º–ø–ª—è—Ä –∏ —Å–≤—è–∑—ã–≤–∞–µ–º –µ–≥–æ —Å —Ç–µ–∫—É—â–∏–º
    this.next = new Thenable();
    this.onSuccess = onSuccess;
    return this.next;
  }

  resolve(value) {
    // –ï—Å–ª–∏ –µ—Å—Ç—å –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ —É—Å–ø–µ—Ö–∞
    if (this.onSuccess) {
      const result = this.onSuccess(value);

      // –ï—Å–ª–∏ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –≤–µ—Ä–Ω—É–ª –∑–Ω–∞—á–µ–Ω–∏–µ –∏ –µ—Å—Ç—å —Å–ª–µ–¥—É—é—â–∏–π –≤ —Ü–µ–ø–æ—á–∫–µ
      if (result !== undefined &amp;&amp; this.next) {
        // –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ —É next –µ—Å—Ç—å –º–µ—Ç–æ–¥ then (—Å–æ–±–ª—é–¥–µ–Ω–∏–µ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞)
        if (typeof this.next.then === 'function') {
          // –ü—Ä–æ–¥–æ–ª–∂–∞–µ–º —Ü–µ–ø–æ—á–∫—É
          this.next.resolve(result);
        }
      }
    }
  }
}

// –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
const th = new Thenable();

th.then((x) =&gt; {
  console.log('–®–∞–≥ 1:', x);
  return x * 2;
}).then((x) =&gt; {
  console.log('–®–∞–≥ 2:', x);
  return x + 10;
}).then((x) =&gt; {
  console.log('–®–∞–≥ 3:', x);
  return x / 2;
});

th.resolve(5);

// –í—ã–≤–æ–¥:
// –®–∞–≥ 1: 5
// –®–∞–≥ 2: 10
// –®–∞–≥ 3: 20
</code></pre>
<p><strong>–ü—Ä–∏–Ω—Ü–∏–ø —Ä–∞–±–æ—Ç—ã:</strong> –°–æ–∑–¥–∞–µ—Ç—Å—è –æ–¥–Ω–æ—Å–≤—è–∑–Ω—ã–π —Å–ø–∏—Å–æ–∫ thenable –æ–±—ä–µ–∫—Ç–æ–≤, –≥–¥–µ –∫–∞–∂–¥—ã–π —É–∑–µ–ª —Ö—Ä–∞–Ω–∏—Ç —Å—Å—ã–ª–∫—É –Ω–∞ —Å–ª–µ–¥—É—é—â–∏–π (<code>next</code>).</p>
<hr />
<h2 id="–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–π-–ø—Ä–∏–º–µ—Ä-–æ–±–µ—Ä—Ç–∫–∞-–¥–ª—è-fsreadfile"><a class="header" href="#–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–π-–ø—Ä–∏–º–µ—Ä-–æ–±–µ—Ä—Ç–∫–∞-–¥–ª—è-fsreadfile">–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–π –ø—Ä–∏–º–µ—Ä: –æ–±–µ—Ä—Ç–∫–∞ –¥–ª—è fs.readFile</a></h2>
<p>Thenable –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è –æ–±–æ—Ä–∞—á–∏–≤–∞–Ω–∏—è callback-based API –≤ promise-like –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å.</p>
<h3 id="–û–±–µ—Ä—Ç–∫–∞-–¥–ª—è-—á—Ç–µ–Ω–∏—è-—Ñ–∞–π–ª–æ–≤"><a class="header" href="#–û–±–µ—Ä—Ç–∫–∞-–¥–ª—è-—á—Ç–µ–Ω–∏—è-—Ñ–∞–π–ª–æ–≤">–û–±–µ—Ä—Ç–∫–∞ –¥–ª—è —á—Ç–µ–Ω–∏—è —Ñ–∞–π–ª–æ–≤</a></h3>
<pre><code class="language-javascript">const fs = require('fs');

class Thenable {
  constructor() {
    this.onSuccess = null;
    this.next = null;
  }

  then(onSuccess) {
    this.next = new Thenable();
    this.onSuccess = onSuccess;
    return this.next;
  }

  resolve(value) {
    if (this.onSuccess) {
      const result = this.onSuccess(value);
      if (result !== undefined &amp;&amp; this.next &amp;&amp; typeof this.next.then === 'function') {
        this.next.resolve(result);
      }
    }
  }
}

// –§—É–Ω–∫—Ü–∏—è —á—Ç–µ–Ω–∏—è —Ñ–∞–π–ª–∞, –≤–æ–∑–≤—Ä–∞—â–∞—é—â–∞—è thenable
function readFile(filename) {
  const thenable = new Thenable();

  // –ò—Å–ø–æ–ª—å–∑—É–µ–º –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π callback API Node.js
  fs.readFile(filename, 'utf8', (error, data) =&gt; {
    if (error) {
      console.error('–û—à–∏–±–∫–∞ —á—Ç–µ–Ω–∏—è —Ñ–∞–π–ª–∞:', error);
    } else {
      thenable.resolve(data);
    }
  });

  return thenable;
}

// –ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ–µ —á—Ç–µ–Ω–∏–µ —Ñ–∞–π–ª–æ–≤
readFile('./file1.txt')
  .then((data1) =&gt; {
    console.log('–§–∞–π–ª 1:', data1);
    return readFile('./file2.txt');
  })
  .then((data2) =&gt; {
    console.log('–§–∞–π–ª 2:', data2);
    return readFile('./file3.txt');
  })
  .then((data3) =&gt; {
    console.log('–§–∞–π–ª 3:', data3);
  });
</code></pre>
<p><strong>–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–æ:</strong> –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ callback-based –∫–æ–¥–∞ –≤ —Ü–µ–ø–æ—á–∫—É –≤—ã–∑–æ–≤–æ–≤ –±–µ–∑ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –Ω–∞—Ç–∏–≤–Ω—ã—Ö Promise.</p>
<hr />
<h2 id="query-builder-–Ω–∞-–æ—Å–Ω–æ–≤–µ-thenable"><a class="header" href="#query-builder-–Ω–∞-–æ—Å–Ω–æ–≤–µ-thenable">Query Builder –Ω–∞ –æ—Å–Ω–æ–≤–µ Thenable</a></h2>
<p>–û–¥–Ω–æ –∏–∑ —Å–∞–º—ã—Ö –ø—Ä–∞–∫—Ç–∏—á–Ω—ã—Ö –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–π thenable ‚Äî —Å–æ–∑–¥–∞–Ω–∏–µ fluent API –¥–ª—è –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤.</p>
<h3 id="–†–µ–∞–ª–∏–∑–∞—Ü–∏—è-–ø—Ä–æ—Å—Ç–æ–≥–æ-query-builder"><a class="header" href="#–†–µ–∞–ª–∏–∑–∞—Ü–∏—è-–ø—Ä–æ—Å—Ç–æ–≥–æ-query-builder">–†–µ–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–æ—Å—Ç–æ–≥–æ Query Builder</a></h3>
<pre><code class="language-javascript">class Query {
  constructor() {
    this.table = '';
    this.conditions = [];
    this.orderField = '';
    this.limitValue = null;
  }

  // –£–∫–∞–∑—ã–≤–∞–µ–º —Ç–∞–±–ª–∏—Ü—É
  from(tableName) {
    this.table = tableName;
    return this; // –í–æ–∑–≤—Ä–∞—â–∞–µ–º this –¥–ª—è —á–µ–π–Ω–∏–Ω–≥–∞
  }

  // –î–æ–±–∞–≤–ª—è–µ–º —É—Å–ª–æ–≤–∏–µ WHERE
  where(condition) {
    this.conditions.push(condition);
    return this;
  }

  // –î–æ–±–∞–≤–ª—è–µ–º —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫—É
  order(field) {
    this.orderField = field;
    return this;
  }

  // –î–æ–±–∞–≤–ª—è–µ–º –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ
  limit(count) {
    this.limitValue = count;
    return this;
  }

  // –ú–µ—Ç–æ–¥ then –¥–µ–ª–∞–µ—Ç –æ–±—ä–µ–∫—Ç thenable
  then(onFulfilled) {
    // –§–æ—Ä–º–∏—Ä—É–µ–º SQL –∑–∞–ø—Ä–æ—Å
    let sql = `SELECT * FROM ${this.table}`;

    if (this.conditions.length &gt; 0) {
      sql += ` WHERE ${this.conditions.join(' AND ')}`;
    }

    if (this.orderField) {
      sql += ` ORDER BY ${this.orderField}`;
    }

    if (this.limitValue !== null) {
      sql += ` LIMIT ${this.limitValue}`;
    }

    // –ò–º–∏—Ç–∞—Ü–∏—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞ –∫ –ë–î
    setTimeout(() =&gt; {
      console.log('–í—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è SQL:', sql);

      // –ò–º–∏—Ç–∞—Ü–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ –∏–∑ –ë–î
      const result = [
        { id: 1, name: 'Alice', age: 30 },
        { id: 2, name: 'Bob', age: 25 }
      ];

      onFulfilled(result);
    }, 100);
  }
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Query Builder
(async () =&gt; {
  const result = await new Query()
    .from('users')
    .where('age &gt; 18')
    .order('name')
    .limit(10);

  console.log('–†–µ–∑—É–ª—å—Ç–∞—Ç:', result);
})();

// –í—ã–≤–æ–¥:
// –í—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è SQL: SELECT * FROM users WHERE age &gt; 18 ORDER BY name LIMIT 10
// –†–µ–∑—É–ª—å—Ç–∞—Ç: [
//   { id: 1, name: 'Alice', age: 30 },
//   { id: 2, name: 'Bob', age: 25 }
// ]
</code></pre>
<p><strong>–í–∞–∂–Ω—ã–µ –º–æ–º–µ–Ω—Ç—ã:</strong></p>
<ul>
<li>–ú–µ—Ç–æ–¥—ã <code>from</code>, <code>where</code>, <code>order</code>, <code>limit</code> –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç <code>this</code> –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏ fluent API</li>
<li>–ú–µ—Ç–æ–¥ <code>then</code> –¥–µ–ª–∞–µ—Ç –æ–±—ä–µ–∫—Ç thenable, –ø–æ–∑–≤–æ–ª—è—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –µ–≥–æ —Å <code>await</code></li>
<li>SQL –∑–∞–ø—Ä–æ—Å —Å–æ–±–∏—Ä–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –≤—ã–∑–æ–≤–µ <code>then</code> (–ª–µ–Ω–∏–≤–æ–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏–µ)</li>
<li>–õ–µ–≥–∫–æ —Ä–∞—Å—à–∏—Ä–∏—Ç—å –¥–æ —Ä–µ–∞–ª—å–Ω–æ–≥–æ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö</li>
</ul>
<h3 id="–†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è-–≤–µ—Ä—Å–∏—è-—Å-—Ä–µ–∞–ª—å–Ω—ã–º-–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ–º-–∫-–ë–î"><a class="header" href="#–†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è-–≤–µ—Ä—Å–∏—è-—Å-—Ä–µ–∞–ª—å–Ω—ã–º-–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ–º-–∫-–ë–î">–†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è —Å —Ä–µ–∞–ª—å–Ω—ã–º –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ–º –∫ –ë–î</a></h3>
<pre><code class="language-javascript">class DatabaseQuery {
  constructor(db) {
    this.db = db; // –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –ë–î
    this.table = '';
    this.conditions = [];
    this.orderField = '';
    this.limitValue = null;
  }

  from(tableName) {
    this.table = tableName;
    return this;
  }

  where(condition) {
    this.conditions.push(condition);
    return this;
  }

  order(field) {
    this.orderField = field;
    return this;
  }

  limit(count) {
    this.limitValue = count;
    return this;
  }

  then(onFulfilled, onRejected) {
    // –§–æ—Ä–º–∏—Ä—É–µ–º SQL
    let sql = `SELECT * FROM ${this.table}`;

    if (this.conditions.length &gt; 0) {
      sql += ` WHERE ${this.conditions.join(' AND ')}`;
    }

    if (this.orderField) {
      sql += ` ORDER BY ${this.orderField}`;
    }

    if (this.limitValue !== null) {
      sql += ` LIMIT ${this.limitValue}`;
    }

    // –í—ã–ø–æ–ª–Ω—è–µ–º —Ä–µ–∞–ª—å–Ω—ã–π –∑–∞–ø—Ä–æ—Å –∫ –ë–î
    this.db.query(sql, (error, results) =&gt; {
      if (error) {
        if (onRejected) {
          onRejected(error);
        }
      } else {
        onFulfilled(results);
      }
    });
  }
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å —Ä–µ–∞–ª—å–Ω–æ–π –ë–î
// const db = require('mysql').createConnection({...});
// const result = await new DatabaseQuery(db)
//   .from('users')
//   .where('active = 1')
//   .order('created_at DESC')
//   .limit(20);
</code></pre>
<hr />
<h2 id="–°—Ä–∞–≤–Ω–µ–Ω–∏–µ-thenable-–∏-promise"><a class="header" href="#–°—Ä–∞–≤–Ω–µ–Ω–∏–µ-thenable-–∏-promise">–°—Ä–∞–≤–Ω–µ–Ω–∏–µ Thenable –∏ Promise</a></h2>
<div class="table-wrapper"><table><thead><tr><th>–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞</th><th>Thenable</th><th>Promise</th></tr></thead><tbody>
<tr><td>–ú–Ω–æ–≥–æ–∫—Ä–∞—Ç–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ</td><td>–î–∞, –∫–∞–∂–¥—ã–π await –∑–∞–ø—É—Å–∫–∞–µ—Ç –∑–∞–Ω–æ–≤–æ</td><td>–ù–µ—Ç, —Ä–µ–∑–æ–ª–≤–∏—Ç—Å—è —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —Ä–∞–∑</td></tr>
<tr><td>–ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π API</td><td>–¢–æ–ª—å–∫–æ –º–µ—Ç–æ–¥ <code>then</code></td><td>then, catch, finally + —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ –º–µ—Ç–æ–¥—ã</td></tr>
<tr><td>–°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å async/await</td><td>–ü–æ–ª–Ω–∞—è</td><td>–ü–æ–ª–Ω–∞—è</td></tr>
<tr><td>–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫</td><td>–ß–µ—Ä–µ–∑ –≤—Ç–æ—Ä–æ–π –∞—Ä–≥—É–º–µ–Ω—Ç <code>then</code></td><td>–ß–µ—Ä–µ–∑ <code>catch</code> –∏–ª–∏ –≤—Ç–æ—Ä–æ–π –∞—Ä–≥—É–º–µ–Ω—Ç <code>then</code></td></tr>
<tr><td>–°—Ç–∞–Ω–¥–∞—Ä—Ç–∏–∑–∞—Ü–∏—è</td><td>–ù–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω</td><td>–ß–∞—Å—Ç—å —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏ ES6+</td></tr>
<tr><td>–°–ª–æ–∂–Ω–æ—Å—Ç—å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏</td><td>–ü—Ä–æ—Å—Ç–∞—è</td><td>–ë–æ–ª–µ–µ —Å–ª–æ–∂–Ω–∞—è (state machine)</td></tr>
<tr><td>–¶–µ–ø–æ—á–∫–∏ –≤—ã–∑–æ–≤–æ–≤</td><td>–¢—Ä–µ–±—É–µ—Ç —Ä—É—á–Ω–æ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏</td><td>–í—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞</td></tr>
</tbody></table>
</div>
<hr />
<h2 id="–ö–æ–≥–¥–∞-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å-thenable"><a class="header" href="#–ö–æ–≥–¥–∞-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å-thenable">–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Thenable</a></h2>
<h3 id="–ü–æ–¥—Ö–æ–¥—è—â–∏–µ-—Å—Ü–µ–Ω–∞—Ä–∏–∏"><a class="header" href="#–ü–æ–¥—Ö–æ–¥—è—â–∏–µ-—Å—Ü–µ–Ω–∞—Ä–∏–∏">–ü–æ–¥—Ö–æ–¥—è—â–∏–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏:</a></h3>
<ol>
<li><strong>Query Builders</strong> ‚Äî —Å–æ–∑–¥–∞–Ω–∏–µ fluent API –¥–ª—è –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤</li>
<li><strong>–õ–µ–Ω–∏–≤—ã–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è</strong> ‚Äî –æ—Ç–ª–æ–∂–µ–Ω–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–π</li>
<li><strong>–ò—Ç–µ—Ä–∞—Ç–æ—Ä—ã</strong> ‚Äî –º–Ω–æ–≥–æ–∫—Ä–∞—Ç–Ω–æ–µ –ø–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö</li>
<li><strong>–û–±–µ—Ä—Ç–∫–∏ –¥–ª—è legacy API</strong> ‚Äî –∞–¥–∞–ø—Ç–∞—Ü–∏—è callback-based –∫–æ–¥–∞</li>
<li><strong>–ö–∞—Å—Ç–æ–º–Ω—ã–µ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–∏</strong> ‚Äî —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∫–æ–Ω—Ç—Ä–∞–∫—Ç—ã</li>
</ol>
<h3 id="–ö–æ–≥–¥–∞-–ª—É—á—à–µ-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å-promise"><a class="header" href="#–ö–æ–≥–¥–∞-–ª—É—á—à–µ-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å-promise">–ö–æ–≥–¥–∞ –ª—É—á—à–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Promise:</a></h3>
<ol>
<li>–û–ø–µ—Ä–∞—Ü–∏—è –¥–æ–ª–∂–Ω–∞ –≤—ã–ø–æ–ª–Ω–∏—Ç—å—Å—è —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —Ä–∞–∑</li>
<li>–ù—É–∂–Ω–∞ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ —á–µ—Ä–µ–∑ <code>catch</code></li>
<li>–¢—Ä–µ–±—É—é—Ç—Å—è –º–µ—Ç–æ–¥—ã <code>Promise.all</code>, <code>Promise.race</code>, –∏ —Ç.–¥.</li>
<li>–í–∞–∂–Ω–∞ —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å –∏ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∏–∑–∞—Ü–∏—è</li>
</ol>
<hr />
<h2 id="–ö–ª—é—á–µ–≤—ã–µ-–≤—ã–≤–æ–¥—ã-11"><a class="header" href="#–ö–ª—é—á–µ–≤—ã–µ-–≤—ã–≤–æ–¥—ã-11">–ö–ª—é—á–µ–≤—ã–µ –≤—ã–≤–æ–¥—ã</a></h2>
<ol>
<li>
<p><strong>Thenable ‚Äî —ç—Ç–æ –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –∫–æ–Ω—Ç—Ä–∞–∫—Ç</strong>: –ª—é–±–æ–π –æ–±—ä–µ–∫—Ç —Å –º–µ—Ç–æ–¥–æ–º <code>then</code> –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è —Å async/await</p>
</li>
<li>
<p><strong>–ú–Ω–æ–≥–æ–∫—Ä–∞—Ç–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ</strong>: –≤ –æ—Ç–ª–∏—á–∏–µ –æ—Ç Promise, thenable –º–æ–∂–µ—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å—Å—è –º–Ω–æ–≥–æ–∫—Ä–∞—Ç–Ω–æ</p>
</li>
<li>
<p><strong>–ì–∏–±–∫–æ—Å—Ç—å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏</strong>: –º–æ–∂–Ω–æ —Å–æ–∑–¥–∞–≤–∞—Ç—å –∫–∞–∫ –ø—Ä–æ—Å—Ç—ã–µ –æ–±—ä–µ–∫—Ç—ã, —Ç–∞–∫ –∏ —Å–ª–æ–∂–Ω—ã–µ –∫–ª–∞—Å—Å—ã</p>
</li>
<li>
<p><strong>–ß–µ–π–Ω–∏–Ω–≥</strong>: –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ –≤–æ–∑–≤—Ä–∞—Ç <code>this</code> –∏–ª–∏ —Å–æ–∑–¥–∞–Ω–∏–µ —Ü–µ–ø–æ—á–∫–∏ –æ–±—ä–µ–∫—Ç–æ–≤</p>
</li>
<li>
<p><strong>–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫</strong>: —á–µ—Ä–µ–∑ –≤—Ç–æ—Ä–æ–π –∞—Ä–≥—É–º–µ–Ω—Ç <code>then(onFulfilled, onRejected)</code></p>
</li>
<li>
<p><strong>–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ</strong>: query builders, –æ–±–µ—Ä—Ç–∫–∏ –¥–ª—è callback API, –ª–µ–Ω–∏–≤—ã–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è</p>
</li>
<li>
<p><strong>–ò—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–π –∫–æ–Ω—Ç–µ–∫—Å—Ç</strong>: thenable –ø—Ä–µ–¥—à–µ—Å—Ç–≤–æ–≤–∞–ª Promise –∏ –æ—Å—Ç–∞–µ—Ç—Å—è –ø–æ–ª–µ–∑–Ω—ã–º –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–º</p>
</li>
</ol>
<hr />
<h2 id="–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ-—Ä–µ—Å—É—Ä—Å—ã-2"><a class="header" href="#–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ-—Ä–µ—Å—É—Ä—Å—ã-2">–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã</a></h2>
<p><strong>–°–≤—è–∑–∞–Ω–Ω—ã–µ —Ç–µ–º—ã –¥–ª—è –∏–∑—É—á–µ–Ω–∏—è:</strong></p>
<ul>
<li>Promise API –∏ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ</li>
<li>Async/await —Å–∏–Ω—Ç–∞–∫—Å–∏—Å</li>
<li>–ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä—ã –∏ –∏—Ç–µ—Ä–∞—Ç–æ—Ä—ã</li>
<li>–ü–∞—Ç—Ç–µ—Ä–Ω Builder</li>
<li>Fluent Interface</li>
<li>–û–±—Ä–∞–±–æ—Ç–∫–∞ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç–∏ –≤ JavaScript</li>
</ul>
<p><strong>–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –∑–∞–¥–∞–Ω–∏—è:</strong></p>
<ol>
<li>–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å thenable –¥–ª—è HTTP –∑–∞–ø—Ä–æ—Å–æ–≤</li>
<li>–°–æ–∑–¥–∞—Ç—å query builder –¥–ª—è –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Ç–∏–ø–æ–≤ –ë–î</li>
<li>–ù–∞–ø–∏—Å–∞—Ç—å thenable-–æ–±–µ—Ä—Ç–∫—É –¥–ª—è —Å–æ–±—ã—Ç–∏–π–Ω–æ–π –º–æ–¥–µ–ª–∏</li>
<li>–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Å–∏—Å—Ç–µ–º—É middleware –Ω–∞ –æ—Å–Ω–æ–≤–µ thenable</li>
<li>–°–æ–∑–¥–∞—Ç—å –ª–µ–Ω–∏–≤—ã–π –≤—ã—á–∏—Å–ª–∏—Ç–µ–ª—å –≤—ã—Ä–∞–∂–µ–Ω–∏–π —Å thenable –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º</li>
</ol>
<div style="break-before: page; page-break-before: always;"></div><h1 id="–ò—Ç–µ—Ä–∞—Ç–æ—Ä—ã-–∏-–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ-–ò—Ç–µ—Ä–∞—Ç–æ—Ä—ã-–≤-javascript"><a class="header" href="#–ò—Ç–µ—Ä–∞—Ç–æ—Ä—ã-–∏-–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ-–ò—Ç–µ—Ä–∞—Ç–æ—Ä—ã-–≤-javascript">–ò—Ç–µ—Ä–∞—Ç–æ—Ä—ã –∏ –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ –ò—Ç–µ—Ä–∞—Ç–æ—Ä—ã –≤ JavaScript</a></h1>
<h2 id="–û–±–∑–æ—Ä-2"><a class="header" href="#–û–±–∑–æ—Ä-2">–û–±–∑–æ—Ä</a></h2>
<p>–≠—Ç–∞ –ª–µ–∫—Ü–∏—è –æ—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–∞–ª—å–Ω—ã–µ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏ –∏—Ç–µ—Ä–∞—Ç–æ—Ä–æ–≤ –≤ JavaScript - –∫–∞–∫ —Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö, —Ç–∞–∫ –∏ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö. –ú—ã —Ä–∞—Å—Å–º–æ—Ç—Ä–∏–º –∫–æ–Ω—Ç—Ä–∞–∫—Ç—ã Iterator –∏ Iterable, –Ω–∞—É—á–∏–º—Å—è —Å–æ–∑–¥–∞–≤–∞—Ç—å —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–µ –∏—Ç–µ—Ä–∞—Ç–æ—Ä—ã —Ä–∞–∑–ª–∏—á–Ω—ã–º–∏ —Å–ø–æ—Å–æ–±–∞–º–∏, –∏ –ø–æ–π–º–µ–º, –∫–∞–∫ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä—ã —É–ø—Ä–æ—â–∞—é—Ç —Ä–∞–±–æ—Ç—É —Å –∏—Ç–µ—Ä–∏—Ä—É–µ–º—ã–º–∏ –æ–±—ä–µ–∫—Ç–∞–º–∏.</p>
<hr />
<h2 id="–ß–∞—Å—Ç—å-1-–°–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ-–ò—Ç–µ—Ä–∞—Ç–æ—Ä—ã"><a class="header" href="#–ß–∞—Å—Ç—å-1-–°–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ-–ò—Ç–µ—Ä–∞—Ç–æ—Ä—ã">–ß–∞—Å—Ç—å 1: –°–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ –ò—Ç–µ—Ä–∞—Ç–æ—Ä—ã</a></h2>
<h3 id="11-–ö–æ–Ω—Ç—Ä–∞–∫—Ç-iterator"><a class="header" href="#11-–ö–æ–Ω—Ç—Ä–∞–∫—Ç-iterator">1.1 –ö–æ–Ω—Ç—Ä–∞–∫—Ç Iterator</a></h3>
<p><strong>Iterator</strong> - —ç—Ç–æ –∫–æ–Ω—Ç—Ä–∞–∫—Ç (—Å–æ–≥–ª–∞—à–µ–Ω–∏–µ), –∫–æ—Ç–æ—Ä—ã–π –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç, –∫–∞–∫ –æ–±—ä–µ–∫—Ç –¥–æ–ª–∂–µ–Ω –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—Ç—å –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫ —Å–≤–æ–∏–º —ç–ª–µ–º–µ–Ω—Ç–∞–º.</p>
<h4 id="–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è-–∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞-iterator"><a class="header" href="#–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è-–∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞-iterator">–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞ Iterator:</a></h4>
<p>–û–±—ä–µ–∫—Ç —è–≤–ª—è–µ—Ç—Å—è –∏—Ç–µ—Ä–∞—Ç–æ—Ä–æ–º, –µ—Å–ª–∏ —É –Ω–µ–≥–æ –µ—Å—Ç—å:</p>
<ul>
<li><strong>–ú–µ—Ç–æ–¥ <code>next()</code></strong> - –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–ª–µ–¥—É—é—â–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –≤ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏</li>
<li>–ú–µ—Ç–æ–¥ <code>next()</code> –¥–æ–ª–∂–µ–Ω –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å –æ–±—ä–µ–∫—Ç —Å–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π:
<ul>
<li><code>value</code> - —Ç–µ–∫—É—â–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ</li>
<li><code>done</code> - –±—É–ª–µ–≤–æ –∑–Ω–∞—á–µ–Ω–∏–µ (<code>true</code> –∫–æ–≥–¥–∞ –∏—Ç–µ—Ä–∞—Ü–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∞, <code>false</code> –≤ –ø—Ä–æ—Ç–∏–≤–Ω–æ–º —Å–ª—É—á–∞–µ)</li>
</ul>
</li>
</ul>
<h4 id="–ü—Ä–∏–º–µ—Ä-1-–ü—Ä–æ—Å—Ç–µ–π—à–∏–π-iterator-–ª–∏—Ç–µ—Ä–∞–ª-–æ–±—ä–µ–∫—Ç–∞"><a class="header" href="#–ü—Ä–∏–º–µ—Ä-1-–ü—Ä–æ—Å—Ç–µ–π—à–∏–π-iterator-–ª–∏—Ç–µ—Ä–∞–ª-–æ–±—ä–µ–∫—Ç–∞">–ü—Ä–∏–º–µ—Ä 1: –ü—Ä–æ—Å—Ç–µ–π—à–∏–π Iterator (–ª–∏—Ç–µ—Ä–∞–ª –æ–±—ä–µ–∫—Ç–∞)</a></h4>
<pre><code class="language-javascript">// –°–æ–∑–¥–∞–µ–º –ø—Ä–æ—Å—Ç–æ–π –∏—Ç–µ—Ä–∞—Ç–æ—Ä –≤—Ä—É—á–Ω—É—é
const iterator = {
  current: 0,

  next() {
    // –í–æ–∑–≤—Ä–∞—â–∞–µ–º –æ–±—ä–µ–∫—Ç —Å value –∏ done
    if (this.current &lt; 3) {
      return {
        value: this.current++,
        done: false
      };
    }
    return {
      value: undefined,
      done: true
    };
  }
};

// –ò—Å–ø–æ–ª—å–∑—É–µ–º –∏—Ç–µ—Ä–∞—Ç–æ—Ä
console.log(iterator.next()); // { value: 0, done: false }
console.log(iterator.next()); // { value: 1, done: false }
console.log(iterator.next()); // { value: 2, done: false }
console.log(iterator.next()); // { value: undefined, done: true }
</code></pre>
<p><strong>–ö–ª—é—á–µ–≤–æ–π –º–æ–º–µ–Ω—Ç</strong>: –ö–æ–≥–¥–∞ <code>done: true</code>, –∑–Ω–∞—á–µ–Ω–∏–µ <code>value</code> –¥–æ–ª–∂–Ω–æ –∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è - –∏—Ç–µ—Ä–∞—Ü–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∞.</p>
<hr />
<h3 id="12-–ö–æ–Ω—Ç—Ä–∞–∫—Ç-iterable"><a class="header" href="#12-–ö–æ–Ω—Ç—Ä–∞–∫—Ç-iterable">1.2 –ö–æ–Ω—Ç—Ä–∞–∫—Ç Iterable</a></h3>
<p><strong>Iterable</strong> - —ç—Ç–æ –±–æ–ª–µ–µ —Å–ª–æ–∂–Ω—ã–π –∫–æ–Ω—Ç—Ä–∞–∫—Ç, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∑–≤–æ–ª—è–µ—Ç –æ–±—ä–µ–∫—Ç—É –±—ã—Ç—å –∏—Ç–µ—Ä–∏—Ä—É–µ–º—ã–º —Å –ø–æ–º–æ—â—å—é —Ü–∏–∫–ª–æ–≤ <code>for...of</code> –∏ spread-–æ–ø–µ—Ä–∞—Ç–æ—Ä–∞.</p>
<h4 id="–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è-–∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞-iterable"><a class="header" href="#–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è-–∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞-iterable">–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞ Iterable:</a></h4>
<p>–û–±—ä–µ–∫—Ç —è–≤–ª—è–µ—Ç—Å—è –∏—Ç–µ—Ä–∏—Ä—É–µ–º—ã–º (iterable), –µ—Å–ª–∏ —É –Ω–µ–≥–æ –µ—Å—Ç—å:</p>
<ul>
<li><strong>–ú–µ—Ç–æ–¥ —Å –∏–º–µ–Ω–µ–º <code>Symbol.iterator</code></strong> - —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π —Å–∏–º–≤–æ–ª—å–Ω—ã–π –∫–ª—é—á</li>
<li>–≠—Ç–æ—Ç –º–µ—Ç–æ–¥ –¥–æ–ª–∂–µ–Ω –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å <strong>Iterator</strong> (–æ–±—ä–µ–∫—Ç —Å –º–µ—Ç–æ–¥–æ–º <code>next()</code>)</li>
</ul>
<h4 id="–ü—Ä–∏–º–µ—Ä-2-iterable-–æ–±—ä–µ–∫—Ç-–ª–∏—Ç–µ—Ä–∞–ª"><a class="header" href="#–ü—Ä–∏–º–µ—Ä-2-iterable-–æ–±—ä–µ–∫—Ç-–ª–∏—Ç–µ—Ä–∞–ª">–ü—Ä–∏–º–µ—Ä 2: Iterable –æ–±—ä–µ–∫—Ç (–ª–∏—Ç–µ—Ä–∞–ª)</a></h4>
<pre><code class="language-javascript">// –°–æ–∑–¥–∞–µ–º iterable –æ–±—ä–µ–∫—Ç
const iterable = {
  // –ú–µ—Ç–æ–¥ Symbol.iterator –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç iterator
  [Symbol.iterator]() {
    let current = 0;

    // –í–æ–∑–≤—Ä–∞—â–∞–µ–º iterator
    return {
      next() {
        if (current &lt; 3) {
          return {
            value: current++,
            done: false
          };
        }
        return {
          value: undefined,
          done: true
        };
      }
    };
  }
};

// –°–ø–æ—Å–æ–± 1: –ü–æ–ª—É—á–∞–µ–º iterator –≤—Ä—É—á–Ω—É—é
const iter = iterable[Symbol.iterator]();
console.log(iter.next()); // { value: 0, done: false }
console.log(iter.next()); // { value: 1, done: false }
console.log(iter.next()); // { value: 2, done: false }
console.log(iter.next()); // { value: undefined, done: true }

// –°–ø–æ—Å–æ–± 2: –ò—Å–ø–æ–ª—å–∑—É–µ–º —Ü–∏–∫–ª for...of
for (const value of iterable) {
  console.log(value); // 0, 1, 2
}

// –°–ø–æ—Å–æ–± 3: –ò—Å–ø–æ–ª—å–∑—É–µ–º spread –æ–ø–µ—Ä–∞—Ç–æ—Ä
const array = [...iterable];
console.log(array); // [0, 1, 2]
</code></pre>
<p><strong>–í–∞–∂–Ω–æ</strong>:</p>
<ul>
<li>–ú–µ—Ç–æ–¥ <code>Symbol.iterator</code> —Å–æ–∑–¥–∞–µ—Ç <strong>–Ω–æ–≤—ã–π</strong> iterator –ø—Ä–∏ –∫–∞–∂–¥–æ–º –≤—ã–∑–æ–≤–µ</li>
<li><code>for...of</code> –∏ spread-–æ–ø–µ—Ä–∞—Ç–æ—Ä —Ä–∞–±–æ—Ç–∞—é—Ç —Ç–æ–ª—å–∫–æ —Å <strong>iterable</strong> –æ–±—ä–µ–∫—Ç–∞–º–∏</li>
<li>–ó–Ω–∞—á–µ–Ω–∏—è —Å <code>done: true</code> –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏–≥–Ω–æ—Ä–∏—Ä—É—é—Ç—Å—è</li>
</ul>
<hr />
<h3 id="13-iterable-–∫–ª–∞—Å—Å-—Å-–∑–∞–º—ã–∫–∞–Ω–∏—è–º–∏"><a class="header" href="#13-iterable-–∫–ª–∞—Å—Å-—Å-–∑–∞–º—ã–∫–∞–Ω–∏—è–º–∏">1.3 Iterable –∫–ª–∞—Å—Å —Å –∑–∞–º—ã–∫–∞–Ω–∏—è–º–∏</a></h3>
<p>–õ–∏—Ç–µ—Ä–∞–ª—ã –æ–±—ä–µ–∫—Ç–æ–≤ –Ω–µ—É–¥–æ–±–Ω—ã –¥–ª—è –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è. –î–∞–≤–∞–π—Ç–µ —Å–æ–∑–¥–∞–¥–∏–º –∫–ª–∞—Å—Å.</p>
<h4 id="–ü—Ä–∏–º–µ—Ä-3-–ö–ª–∞—Å—Å-counter-–∫–∞–∫-iterable"><a class="header" href="#–ü—Ä–∏–º–µ—Ä-3-–ö–ª–∞—Å—Å-counter-–∫–∞–∫-iterable">–ü—Ä–∏–º–µ—Ä 3: –ö–ª–∞—Å—Å Counter –∫–∞–∫ Iterable</a></h4>
<pre><code class="language-javascript">class Counter {
  constructor(begin, end, step = 1) {
    this.begin = begin;
    this.end = end;
    this.step = step;
  }

  // –î–µ–ª–∞–µ–º –∫–ª–∞—Å—Å iterable
  [Symbol.iterator]() {
    // –°–æ—Ö—Ä–∞–Ω—è–µ–º —Ç–µ–∫—É—â–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è begin –∏ end
    // –Ω–∞ —Å–ª—É—á–∞–π, –µ—Å–ª–∏ –æ–Ω–∏ –∏–∑–º–µ–Ω—è—Ç—Å—è –≤–æ –≤—Ä–µ–º—è –∏—Ç–µ—Ä–∞—Ü–∏–∏
    let current = this.begin;
    const end = this.end;
    const step = this.step;

    // –í–æ–∑–≤—Ä–∞—â–∞–µ–º iterator
    return {
      next() {
        if (current &lt; end) {
          const value = current;
          current += step;
          return { value, done: false };
        }
        return { value: undefined, done: true };
      }
    };
  }
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∫–ª–∞—Å—Å–∞
const counter = new Counter(0, 3);

// –°–ø–æ—Å–æ–± 1: –ü–æ–ª—É—á–∞–µ–º iterator –≤—Ä—É—á–Ω—É—é
const iterator = counter[Symbol.iterator]();
console.log(iterator.next()); // { value: 0, done: false }
console.log(iterator.next()); // { value: 1, done: false }
console.log(iterator.next()); // { value: 2, done: false }
console.log(iterator.next()); // { value: undefined, done: true }

// –°–ø–æ—Å–æ–± 2: for...of
for (const num of counter) {
  console.log(num); // 0, 1, 2
}

// –°–ø–æ—Å–æ–± 3: spread –æ–ø–µ—Ä–∞—Ç–æ—Ä
const numbers = [...counter];
console.log(numbers); // [0, 1, 2]
</code></pre>
<p><strong>–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –∫–ª–∞—Å—Å–∞</strong>:</p>
<ul>
<li>–ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–π –∫–æ–¥</li>
<li>–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è</li>
<li>–ò–Ω–∫–∞–ø—Å—É–ª—è—Ü–∏—è –ª–æ–≥–∏–∫–∏</li>
<li>–ü–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä</li>
</ul>
<p><strong>–¢–µ—Ö–Ω–∏–∫–∞ –∑–∞–º—ã–∫–∞–Ω–∏—è</strong>: –ú—ã —Å–æ—Ö—Ä–∞–Ω—è–µ–º <code>begin</code> –∏ <code>end</code> –≤ –ª–æ–∫–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ <code>Symbol.iterator</code>, —á—Ç–æ–±—ã –∑–∞—â–∏—Ç–∏—Ç—å—Å—è –æ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤–æ –≤—Ä–µ–º—è –∏—Ç–µ—Ä–∞—Ü–∏–∏.</p>
<hr />
<h3 id="14-–í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ-iterable-–æ–±—ä–µ–∫—Ç—ã"><a class="header" href="#14-–í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ-iterable-–æ–±—ä–µ–∫—Ç—ã">1.4 –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ Iterable –æ–±—ä–µ–∫—Ç—ã</a></h3>
<p>–ú–Ω–æ–≥–∏–µ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ —Ç–∏–ø—ã JavaScript —É–∂–µ —Ä–µ–∞–ª–∏–∑—É—é—Ç –∫–æ–Ω—Ç—Ä–∞–∫—Ç Iterable.</p>
<h4 id="–ü—Ä–∏–º–µ—Ä-4-–ú–∞—Å—Å–∏–≤—ã-–∫–∞–∫-iterable"><a class="header" href="#–ü—Ä–∏–º–µ—Ä-4-–ú–∞—Å—Å–∏–≤—ã-–∫–∞–∫-iterable">–ü—Ä–∏–º–µ—Ä 4: –ú–∞—Å—Å–∏–≤—ã –∫–∞–∫ Iterable</a></h4>
<pre><code class="language-javascript">const array = [0, 1, 2];

// –ú–∞—Å—Å–∏–≤ —É–∂–µ —è–≤–ª—è–µ—Ç—Å—è iterable!
// –£ –Ω–µ–≥–æ –µ—Å—Ç—å Symbol.iterator

// –°–ø–æ—Å–æ–± 1: –ü–æ–ª—É—á–∞–µ–º iterator –≤—Ä—É—á–Ω—É—é
const iterator = array[Symbol.iterator]();
console.log(iterator.next()); // { value: 0, done: false }
console.log(iterator.next()); // { value: 1, done: false }
console.log(iterator.next()); // { value: 2, done: false }
console.log(iterator.next()); // { value: undefined, done: true }

// –°–ø–æ—Å–æ–± 2: for...of —Ä–∞–±–æ—Ç–∞–µ—Ç!
for (const item of array) {
  console.log(item); // 0, 1, 2
}

// –°–ø–æ—Å–æ–± 3: spread –æ–ø–µ—Ä–∞—Ç–æ—Ä —Ä–∞–±–æ—Ç–∞–µ—Ç!
const copy = [...array];
console.log(copy); // [0, 1, 2]
</code></pre>
<p><strong>–û—Ç–∫—Ä–æ–≤–µ–Ω–∏–µ</strong>: –¢–µ–ø–µ—Ä—å –ø–æ–Ω—è—Ç–Ω–æ, –ø–æ—á–µ–º—É <code>for...of</code> –∏ spread-–æ–ø–µ—Ä–∞—Ç–æ—Ä —Ä–∞–±–æ—Ç–∞—é—Ç —Å –º–∞—Å—Å–∏–≤–∞–º–∏ - –æ–Ω–∏ —Ä–µ–∞–ª–∏–∑—É—é—Ç –∫–æ–Ω—Ç—Ä–∞–∫—Ç Iterable —á–µ—Ä–µ–∑ <code>Symbol.iterator</code>!</p>
<p><strong>–î—Ä—É–≥–∏–µ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ Iterable</strong>:</p>
<ul>
<li><code>String</code> - –∏—Ç–µ—Ä–∞—Ü–∏—è –ø–æ —Å–∏–º–≤–æ–ª–∞–º</li>
<li><code>Set</code> - –∏—Ç–µ—Ä–∞—Ü–∏—è –ø–æ –∑–Ω–∞—á–µ–Ω–∏—è–º</li>
<li><code>Map</code> - –∏—Ç–µ—Ä–∞—Ü–∏—è –ø–æ –ø–∞—Ä–∞–º [key, value]</li>
<li><code>arguments</code> - –∏—Ç–µ—Ä–∞—Ü–∏—è –ø–æ –∞—Ä–≥—É–º–µ–Ω—Ç–∞–º —Ñ—É–Ω–∫—Ü–∏–∏</li>
<li>Typed Arrays (Uint8Array –∏ —Ç.–¥.)</li>
</ul>
<hr />
<h3 id="15-–ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä—ã---—Å–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–∏–π-—Å–∞—Ö–∞—Ä-–¥–ª—è-iterable"><a class="header" href="#15-–ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä—ã---—Å–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–∏–π-—Å–∞—Ö–∞—Ä-–¥–ª—è-iterable">1.5 –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä—ã - —Å–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–∏–π —Å–∞—Ö–∞—Ä –¥–ª—è Iterable</a></h3>
<p>–°–æ–∑–¥–∞–Ω–∏–µ –∏—Ç–µ—Ä–∞—Ç–æ—Ä–æ–≤ –≤—Ä—É—á–Ω—É—é —Ç—Ä–µ–±—É–µ—Ç –º–Ω–æ–≥–æ –∫–æ–¥–∞. <strong>–ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä—ã</strong> - —ç—Ç–æ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏, –∫–æ—Ç–æ—Ä—ã–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞—é—Ç iterable –æ–±—ä–µ–∫—Ç—ã.</p>
<h4 id="–°–∏–Ω—Ç–∞–∫—Å–∏—Å-–≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∞"><a class="header" href="#–°–∏–Ω—Ç–∞–∫—Å–∏—Å-–≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∞">–°–∏–Ω—Ç–∞–∫—Å–∏—Å –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∞:</a></h4>
<pre><code class="language-javascript">function* generatorName() {
  yield value1;
  yield value2;
  // ...
}
</code></pre>
<ul>
<li><code>function*</code> - –æ–±—ä—è–≤–ª–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏-–≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∞ (—Å–æ –∑–≤–µ–∑–¥–æ—á–∫–æ–π)</li>
<li><code>yield</code> - –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ –∏ –ø—Ä–∏–æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ</li>
<li>–ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç iterable –æ–±—ä–µ–∫—Ç</li>
</ul>
<h4 id="–ü—Ä–∏–º–µ—Ä-5-–ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä-–≤–º–µ—Å—Ç–æ-–∫–ª–∞—Å—Å–∞"><a class="header" href="#–ü—Ä–∏–º–µ—Ä-5-–ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä-–≤–º–µ—Å—Ç–æ-–∫–ª–∞—Å—Å–∞">–ü—Ä–∏–º–µ—Ä 5: –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –≤–º–µ—Å—Ç–æ –∫–ª–∞—Å—Å–∞</a></h4>
<pre><code class="language-javascript">// –ò–º–ø–µ—Ä–∞—Ç–∏–≤–Ω—ã–π –ø–æ–¥—Ö–æ–¥ —Å –∫–ª–∞—Å—Å–æ–º (22 —Å—Ç—Ä–æ–∫–∏ –∫–æ–¥–∞)
class Counter {
  constructor(begin, end, step = 1) {
    this.begin = begin;
    this.end = end;
    this.step = step;
  }

  [Symbol.iterator]() {
    let current = this.begin;
    const end = this.end;
    const step = this.step;

    return {
      next() {
        if (current &lt; end) {
          const value = current;
          current += step;
          return { value, done: false };
        }
        return { value: undefined, done: true };
      }
    };
  }
}

// VS

// –î–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω—ã–π –ø–æ–¥—Ö–æ–¥ —Å –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–æ–º (9 —Å—Ç—Ä–æ–∫ –∫–æ–¥–∞)
function* counter(begin, end, step = 1) {
  for (let i = begin; i &lt; end; i += step) {
    yield i;
  }
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –æ–¥–∏–Ω–∞–∫–æ–≤–æ–µ!
const gen = counter(0, 3);

// –°–ø–æ—Å–æ–± 1: –í—Ä—É—á–Ω—É—é
console.log(gen.next()); // { value: 0, done: false }
console.log(gen.next()); // { value: 1, done: false }
console.log(gen.next()); // { value: 2, done: false }
console.log(gen.next()); // { value: undefined, done: true }

// –°–ø–æ—Å–æ–± 2: for...of
for (const num of counter(0, 3)) {
  console.log(num); // 0, 1, 2
}

// –°–ø–æ—Å–æ–± 3: spread
const numbers = [...counter(0, 3)];
console.log(numbers); // [0, 1, 2]
</code></pre>
<p><strong>–ö–ª—é—á–µ–≤–æ–µ –æ—Ç–ª–∏—á–∏–µ</strong>:</p>
<ul>
<li><strong>–ò–º–ø–µ—Ä–∞—Ç–∏–≤–Ω—ã–π</strong> (–∫–ª–∞—Å—Å): –º—ã —Å–∞–º–∏ —Å–æ–∑–¥–∞–µ–º –æ–±—ä–µ–∫—Ç, –º–µ—Ç–æ–¥ <code>next()</code>, —É–ø—Ä–∞–≤–ª—è–µ–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º</li>
<li><strong>–î–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω—ã–π</strong> (–≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä): –º—ã –æ–ø–∏—Å—ã–≤–∞–µ–º –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∑–Ω–∞—á–µ–Ω–∏–π, JavaScript —Å–æ–∑–¥–∞–µ—Ç –∏—Ç–µ—Ä–∞—Ç–æ—Ä –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏</li>
</ul>
<hr />
<h3 id="16-–î–µ–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ-–≤-–≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∞—Ö-yield"><a class="header" href="#16-–î–µ–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ-–≤-–≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∞—Ö-yield">1.6 –î–µ–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∞—Ö (yield*)</a></h3>
<p>–ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä—ã –º–æ–≥—É—Ç –¥–µ–ª–µ–≥–∏—Ä–æ–≤–∞—Ç—å –∏—Ç–µ—Ä–∞—Ü–∏—é –¥—Ä—É–≥–∏–º iterable –æ–±—ä–µ–∫—Ç–∞–º —Å –ø–æ–º–æ—â—å—é <code>yield*</code>.</p>
<h4 id="–ü—Ä–∏–º–µ—Ä-6-–î–µ–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ-–º–∞—Å—Å–∏–≤—É"><a class="header" href="#–ü—Ä–∏–º–µ—Ä-6-–î–µ–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ-–º–∞—Å—Å–∏–≤—É">–ü—Ä–∏–º–µ—Ä 6: –î–µ–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –º–∞—Å—Å–∏–≤—É</a></h4>
<pre><code class="language-javascript">// –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä, –∫–æ—Ç–æ—Ä—ã–π –¥–µ–ª–µ–≥–∏—Ä—É–µ—Ç –∏—Ç–µ—Ä–∞—Ü–∏—é –º–∞—Å—Å–∏–≤—É
function* gen() {
  yield* [0, 1, 2]; // yield* –¥–µ–ª–µ–≥–∏—Ä—É–µ—Ç –º–∞—Å—Å–∏–≤—É
}

const iterator = gen();

// –°–ø–æ—Å–æ–± 1: –í—Ä—É—á–Ω—É—é
console.log(iterator.next()); // { value: 0, done: false }
console.log(iterator.next()); // { value: 1, done: false }
console.log(iterator.next()); // { value: 2, done: false }
console.log(iterator.next()); // { value: undefined, done: true }

// –°–ø–æ—Å–æ–± 2: for...of
for (const value of gen()) {
  console.log(value); // 0, 1, 2
}

// –°–ø–æ—Å–æ–± 3: spread
const array = [...gen()];
console.log(array); // [0, 1, 2]
</code></pre>
<p><strong>–ß—Ç–æ –¥–µ–ª–∞–µ—Ç <code>yield*</code></strong>:</p>
<ul>
<li>–ë–µ—Ä–µ—Ç iterable –æ–±—ä–µ–∫—Ç (–º–∞—Å—Å–∏–≤, –¥—Ä—É–≥–æ–π –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä, —Å—Ç—Ä–æ–∫—É –∏ —Ç.–¥.)</li>
<li>–ü—Ä–æ—Ö–æ–¥–∏—Ç –ø–æ –≤—Å–µ–º –µ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è–º</li>
<li>–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∫–∞–∂–¥–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ —á–µ—Ä–µ–∑ <code>yield</code></li>
<li>–≠—Ç–æ –∫—Ä–∞—Ç–∫–∞—è –∑–∞–ø–∏—Å—å –¥–ª—è —Ü–∏–∫–ª–∞:
<pre><code class="language-javascript">// yield* [0, 1, 2] —ç–∫–≤–∏–≤–∞–ª–µ–Ω—Ç–Ω–æ:
for (const value of [0, 1, 2]) {
  yield value;
}
</code></pre>
</li>
</ul>
<hr />
<h2 id="–ß–∞—Å—Ç—å-2-–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ-–ò—Ç–µ—Ä–∞—Ç–æ—Ä—ã"><a class="header" href="#–ß–∞—Å—Ç—å-2-–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ-–ò—Ç–µ—Ä–∞—Ç–æ—Ä—ã">–ß–∞—Å—Ç—å 2: –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ –ò—Ç–µ—Ä–∞—Ç–æ—Ä—ã</a></h2>
<h3 id="21-–ö–æ–Ω—Ç—Ä–∞–∫—Ç-async-iterator"><a class="header" href="#21-–ö–æ–Ω—Ç—Ä–∞–∫—Ç-async-iterator">2.1 –ö–æ–Ω—Ç—Ä–∞–∫—Ç Async Iterator</a></h3>
<p><strong>Async Iterator</strong> - —ç—Ç–æ –∏—Ç–µ—Ä–∞—Ç–æ—Ä, –∫–æ—Ç–æ—Ä—ã–π —Ä–∞–±–æ—Ç–∞–µ—Ç —Å –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–º–∏ –æ–ø–µ—Ä–∞—Ü–∏—è–º–∏ (Promise).</p>
<h4 id="–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è-–∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞-async-iterator"><a class="header" href="#–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è-–∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞-async-iterator">–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞ Async Iterator:</a></h4>
<p>–û–±—ä–µ–∫—Ç —è–≤–ª—è–µ—Ç—Å—è async iterator, –µ—Å–ª–∏ —É –Ω–µ–≥–æ –µ—Å—Ç—å:</p>
<ul>
<li><strong>–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –º–µ—Ç–æ–¥ <code>next()</code></strong> (–æ–±—ä—è–≤–ª–µ–Ω–Ω—ã–π —Å <code>async</code> –∏–ª–∏ –≤–æ–∑–≤—Ä–∞—â–∞—é—â–∏–π Promise)</li>
<li>–ú–µ—Ç–æ–¥ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç <strong>Promise</strong>, –∫–æ—Ç–æ—Ä—ã–π —Ä–∞–∑—Ä–µ—à–∞–µ—Ç—Å—è –æ–±—ä–µ–∫—Ç–æ–º —Å –ø–æ–ª—è–º–∏:
<ul>
<li><code>value</code> - —Ç–µ–∫—É—â–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ</li>
<li><code>done</code> - –±—É–ª–µ–≤–æ –∑–Ω–∞—á–µ–Ω–∏–µ</li>
</ul>
</li>
</ul>
<h4 id="–ü—Ä–∏–º–µ—Ä-7-–ü—Ä–æ—Å—Ç–µ–π—à–∏–π-async-iterator"><a class="header" href="#–ü—Ä–∏–º–µ—Ä-7-–ü—Ä–æ—Å—Ç–µ–π—à–∏–π-async-iterator">–ü—Ä–∏–º–µ—Ä 7: –ü—Ä–æ—Å—Ç–µ–π—à–∏–π Async Iterator</a></h4>
<pre><code class="language-javascript">// Async Iterator –≤—Ä—É—á–Ω—É—é
const asyncIterator = {
  current: 0,

  // –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –º–µ—Ç–æ–¥ next
  async next() {
    if (this.current &lt; 3) {
      return {
        value: this.current++,
        done: false
      };
    }
    return {
      value: undefined,
      done: true
    };
  }
};

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
async function run() {
  console.log(await asyncIterator.next());
  // Promise { value: 0, done: false }

  console.log(await asyncIterator.next());
  // Promise { value: 1, done: false }

  console.log(await asyncIterator.next());
  // Promise { value: 2, done: false }

  console.log(await asyncIterator.next());
  // Promise { value: undefined, done: true }
}

run();
</code></pre>
<p><strong>–ö–ª—é—á–µ–≤–æ–µ –æ—Ç–ª–∏—á–∏–µ –æ—Ç —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–≥–æ</strong>: –ú–µ—Ç–æ–¥ <code>next()</code> –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç <strong>Promise</strong>, –∞ –Ω–µ –æ–±—ã—á–Ω—ã–π –æ–±—ä–µ–∫—Ç.</p>
<hr />
<h3 id="22-–ö–æ–Ω—Ç—Ä–∞–∫—Ç-async-iterable"><a class="header" href="#22-–ö–æ–Ω—Ç—Ä–∞–∫—Ç-async-iterable">2.2 –ö–æ–Ω—Ç—Ä–∞–∫—Ç Async Iterable</a></h3>
<p><strong>Async Iterable</strong> - —ç—Ç–æ –æ–±—ä–µ–∫—Ç, –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–Ω–æ –∏—Ç–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ.</p>
<h4 id="–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è-–∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞-async-iterable"><a class="header" href="#–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è-–∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞-async-iterable">–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞ Async Iterable:</a></h4>
<p>–û–±—ä–µ–∫—Ç —è–≤–ª—è–µ—Ç—Å—è async iterable, –µ—Å–ª–∏ —É –Ω–µ–≥–æ –µ—Å—Ç—å:</p>
<ul>
<li><strong>–ú–µ—Ç–æ–¥ <code>Symbol.asyncIterator</code></strong> - —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π —Å–∏–º–≤–æ–ª—å–Ω—ã–π –∫–ª—é—á –¥–ª—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–π –∏—Ç–µ—Ä–∞—Ü–∏–∏</li>
<li>–≠—Ç–æ—Ç –º–µ—Ç–æ–¥ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç <strong>Async Iterator</strong> (–æ–±—ä–µ–∫—Ç —Å async –º–µ—Ç–æ–¥–æ–º <code>next()</code>)</li>
</ul>
<h4 id="–ü—Ä–∏–º–µ—Ä-8-async-iterable-–æ–±—ä–µ–∫—Ç"><a class="header" href="#–ü—Ä–∏–º–µ—Ä-8-async-iterable-–æ–±—ä–µ–∫—Ç">–ü—Ä–∏–º–µ—Ä 8: Async Iterable –æ–±—ä–µ–∫—Ç</a></h4>
<pre><code class="language-javascript">// Async Iterable –æ–±—ä–µ–∫—Ç
const asyncIterable = {
  [Symbol.asyncIterator]() {
    let current = 0;

    // –í–æ–∑–≤—Ä–∞—â–∞–µ–º async iterator
    return {
      async next() {
        // –ú–æ–∂–µ–º –¥–µ–ª–∞—Ç—å –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –∑–¥–µ—Å—å
        // –ù–∞–ø—Ä–∏–º–µ—Ä, –∑–∞–ø—Ä–æ—Å—ã –∫ API, —á—Ç–µ–Ω–∏–µ —Ñ–∞–π–ª–æ–≤ –∏ —Ç.–¥.

        if (current &lt; 3) {
          return {
            value: current++,
            done: false
          };
        }
        return {
          value: undefined,
          done: true
        };
      }
    };
  }
};

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
async function run() {
  // –°–ø–æ—Å–æ–± 1: –í—Ä—É—á–Ω—É—é
  const iter = asyncIterable[Symbol.asyncIterator]();
  console.log(await iter.next()); // { value: 0, done: false }
  console.log(await iter.next()); // { value: 1, done: false }
  console.log(await iter.next()); // { value: 2, done: false }
  console.log(await iter.next()); // { value: undefined, done: true }

  // –°–ø–æ—Å–æ–± 2: for await...of (—Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π —Ü–∏–∫–ª –¥–ª—è async iterable)
  for await (const value of asyncIterable) {
    console.log(value); // 0, 1, 2
  }
}

run();
</code></pre>
<p><strong>–í–∞–∂–Ω–æ</strong>:</p>
<ul>
<li>–î–ª—è async iterable –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è <code>for await...of</code> (–Ω–µ –ø—Ä–æ—Å—Ç–æ <code>for...of</code>)</li>
<li>Spread-–æ–ø–µ—Ä–∞—Ç–æ—Ä <strong>–ù–ï —Ä–∞–±–æ—Ç–∞–µ—Ç</strong> —Å async iterable</li>
<li>–ö–∞–∂–¥–∞—è –∏—Ç–µ—Ä–∞—Ü–∏—è –æ–∂–∏–¥–∞–µ—Ç —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è Promise</li>
</ul>
<hr />
<h3 id="23-async-iterable-–∫–ª–∞—Å—Å"><a class="header" href="#23-async-iterable-–∫–ª–∞—Å—Å">2.3 Async Iterable –∫–ª–∞—Å—Å</a></h3>
<p>–°–æ–∑–¥–∞–¥–∏–º –∫–ª–∞—Å—Å –¥–ª—è —É–¥–æ–±–Ω–æ–≥–æ –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è.</p>
<h4 id="–ü—Ä–∏–º–µ—Ä-9-–ö–ª–∞—Å—Å-asynccounter"><a class="header" href="#–ü—Ä–∏–º–µ—Ä-9-–ö–ª–∞—Å—Å-asynccounter">–ü—Ä–∏–º–µ—Ä 9: –ö–ª–∞—Å—Å AsyncCounter</a></h4>
<pre><code class="language-javascript">class AsyncCounter {
  constructor(begin, end, step = 1) {
    this.begin = begin;
    this.end = end;
    this.step = step;
  }

  // –î–µ–ª–∞–µ–º –∫–ª–∞—Å—Å async iterable
  [Symbol.asyncIterator]() {
    let current = this.begin;
    const end = this.end;
    const step = this.step;

    return {
      async next() {
        // –ó–¥–µ—Å—å –º–æ–≥—É—Ç –±—ã—Ç—å –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏
        // –ù–∞–ø—Ä–∏–º–µ—Ä, await fetch(), await fs.readFile() –∏ —Ç.–¥.

        if (current &lt; end) {
          const value = current;
          current += step;
          return { value, done: false };
        }
        return { value: undefined, done: true };
      }
    };
  }
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
async function run() {
  const counter = new AsyncCounter(0, 3);

  // –°–ø–æ—Å–æ–± 1: –í—Ä—É—á–Ω—É—é
  const iterator = counter[Symbol.asyncIterator]();
  console.log(await iterator.next()); // { value: 0, done: false }
  console.log(await iterator.next()); // { value: 1, done: false }
  console.log(await iterator.next()); // { value: 2, done: false }

  // –°–ø–æ—Å–æ–± 2: for await...of
  for await (const num of counter) {
    console.log(num); // 0, 1, 2
  }

  // –°–ø–æ—Å–æ–± 3: Spread –ù–ï —Ä–∞–±–æ—Ç–∞–µ—Ç —Å async iterable!
  // const arr = [...counter]; // –û–®–ò–ë–ö–ê!
}

run();
</code></pre>
<p><strong>–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ</strong>: Async iterable –∏–¥–µ–∞–ª—å–Ω–æ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è:</p>
<ul>
<li>–ß—Ç–µ–Ω–∏—è –±–æ–ª—å—à–∏—Ö —Ñ–∞–π–ª–æ–≤ –ø–æ —á–∞—Å—Ç—è–º</li>
<li>–ü–æ–ª—É—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –∏–∑ API —Å –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π</li>
<li>–û–±—Ä–∞–±–æ—Ç–∫–∏ –ø–æ—Ç–æ–∫–æ–≤ –¥–∞–Ω–Ω—ã—Ö (streams)</li>
<li>–õ—é–±—ã—Ö –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω—ã—Ö –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π</li>
</ul>
<hr />
<h3 id="24-async-–≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä—ã"><a class="header" href="#24-async-–≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä—ã">2.4 Async –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä—ã</a></h3>
<p>–ö–∞–∫ –∏ —Å —Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–º–∏ –∏—Ç–µ—Ä–∞—Ç–æ—Ä–∞–º–∏, —Å–æ–∑–¥–∞–Ω–∏–µ async iterable –≤—Ä—É—á–Ω—É—é —Ç—Ä–µ–±—É–µ—Ç –º–Ω–æ–≥–æ –∫–æ–¥–∞. <strong>Async –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä—ã</strong> —Ä–µ—à–∞—é—Ç —ç—Ç—É –ø—Ä–æ–±–ª–µ–º—É.</p>
<h4 id="–°–∏–Ω—Ç–∞–∫—Å–∏—Å-async-–≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∞"><a class="header" href="#–°–∏–Ω—Ç–∞–∫—Å–∏—Å-async-–≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∞">–°–∏–Ω—Ç–∞–∫—Å–∏—Å async –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∞:</a></h4>
<pre><code class="language-javascript">async function* asyncGeneratorName() {
  yield value1;
  yield value2;
  // ...
}
</code></pre>
<ul>
<li><code>async function*</code> - –æ–±—ä—è–≤–ª–µ–Ω–∏–µ async –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∞ (async + –∑–≤–µ–∑–¥–æ—á–∫–∞)</li>
<li><code>yield</code> - –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ —á–µ—Ä–µ–∑ Promise</li>
<li>–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç async iterable –æ–±—ä–µ–∫—Ç</li>
</ul>
<h4 id="–ü—Ä–∏–º–µ—Ä-10-async-–≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä-–≤–º–µ—Å—Ç–æ-–∫–ª–∞—Å—Å–∞"><a class="header" href="#–ü—Ä–∏–º–µ—Ä-10-async-–≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä-–≤–º–µ—Å—Ç–æ-–∫–ª–∞—Å—Å–∞">–ü—Ä–∏–º–µ—Ä 10: Async –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä –≤–º–µ—Å—Ç–æ –∫–ª–∞—Å—Å–∞</a></h4>
<pre><code class="language-javascript">// –° –∫–ª–∞—Å—Å–æ–º (–º–Ω–æ–≥–æ –∫–æ–¥–∞)
class AsyncCounter {
  constructor(begin, end, step = 1) {
    this.begin = begin;
    this.end = end;
    this.step = step;
  }

  [Symbol.asyncIterator]() {
    let current = this.begin;
    const end = this.end;
    const step = this.step;

    return {
      async next() {
        if (current &lt; end) {
          const value = current;
          current += step;
          return { value, done: false };
        }
        return { value: undefined, done: true };
      }
    };
  }
}

// VS

// –° async –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–æ–º (–∫–æ–º–ø–∞–∫—Ç–Ω–æ!)
async function* asyncCounter(begin, end, step = 1) {
  for (let i = begin; i &lt; end; i += step) {
    // –ó–¥–µ—Å—å –º–æ–∂–Ω–æ –¥–µ–ª–∞—Ç—å await –æ–ø–µ—Ä–∞—Ü–∏–∏
    // await someAsyncOperation();
    yield i;
  }
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –æ–¥–∏–Ω–∞–∫–æ–≤–æ–µ
async function run() {
  // –°–ø–æ—Å–æ–± 1: –í—Ä—É—á–Ω—É—é
  const gen = asyncCounter(0, 3);
  console.log(await gen.next()); // { value: 0, done: false }
  console.log(await gen.next()); // { value: 1, done: false }
  console.log(await gen.next()); // { value: 2, done: false }

  // –°–ø–æ—Å–æ–± 2: for await...of
  for await (const num of asyncCounter(0, 3)) {
    console.log(num); // 0, 1, 2
  }

  // –°–ø–æ—Å–æ–± 3: Promise.all –¥–ª—è –º–∞—Å—Å–∏–≤–∞
  const gen2 = asyncCounter(0, 4);
  const promises = [];
  for (let i = 0; i &lt; 4; i++) {
    promises.push(gen2.next());
  }
  const results = await Promise.all(promises);
  console.log(results);
  // [
  //   { value: 0, done: false },
  //   { value: 1, done: false },
  //   { value: 2, done: false },
  //   { value: 3, done: false }
  // ]
}

run();
</code></pre>
<p><strong>–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ async –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∞</strong>:</p>
<ul>
<li>–õ–∞–∫–æ–Ω–∏—á–Ω—ã–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å</li>
<li>–ï—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–∞—è —Ä–∞–±–æ—Ç–∞ —Å <code>await</code> –≤–Ω—É—Ç—Ä–∏</li>
<li>–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ async iterable</li>
<li>–î–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω—ã–π —Å—Ç–∏–ª—å</li>
</ul>
<hr />
<h3 id="25-–î–µ–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ-–≤-async-–≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∞—Ö-yield"><a class="header" href="#25-–î–µ–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ-–≤-async-–≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∞—Ö-yield">2.5 –î–µ–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ async –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∞—Ö (yield*)</a></h3>
<p>Async –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä—ã —Ç–æ–∂–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç –¥–µ–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ <code>yield*</code>.</p>
<h4 id="–ü—Ä–∏–º–µ—Ä-11-async-–¥–µ–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ-–º–∞—Å—Å–∏–≤—É"><a class="header" href="#–ü—Ä–∏–º–µ—Ä-11-async-–¥–µ–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ-–º–∞—Å—Å–∏–≤—É">–ü—Ä–∏–º–µ—Ä 11: Async –¥–µ–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –º–∞—Å—Å–∏–≤—É</a></h4>
<pre><code class="language-javascript">// Async –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä —Å –¥–µ–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ–º
async function* asyncGen() {
  // yield* —Ä–∞–±–æ—Ç–∞–µ—Ç —Å –ª—é–±—ã–º iterable
  // –∑–Ω–∞—á–µ–Ω–∏—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–æ—Ä–∞—á–∏–≤–∞—é—Ç—Å—è –≤ Promise
  yield* [0, 1, 2];
}

async function run() {
  // –°–ø–æ—Å–æ–± 1: –í—Ä—É—á–Ω—É—é
  const iterator = asyncGen();
  console.log(await iterator.next()); // { value: 0, done: false }
  console.log(await iterator.next()); // { value: 1, done: false }
  console.log(await iterator.next()); // { value: 2, done: false }

  // –°–ø–æ—Å–æ–± 2: for await...of
  for await (const value of asyncGen()) {
    console.log(value); // 0, 1, 2
  }

  // –°–ø–æ—Å–æ–± 3: Promise.all
  const gen = asyncGen();
  const promises = [
    gen.next(),
    gen.next(),
    gen.next()
  ];
  const results = await Promise.all(promises);
  console.log(results);
}

run();
</code></pre>
<p><strong>–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç</strong>:</p>
<ul>
<li><code>yield* [0, 1, 2]</code> –±–µ—Ä–µ—Ç –æ–±—ã—á–Ω—ã–π –º–∞—Å—Å–∏–≤ (—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π iterable)</li>
<li>–ö–∞–∂–¥–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–æ—Ä–∞—á–∏–≤–∞–µ—Ç—Å—è –≤ Promise</li>
<li>–ü–æ–ª—É—á–∞–µ—Ç—Å—è async –∏—Ç–µ—Ä–∞—Ü–∏—è –ø–æ —Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–º –¥–∞–Ω–Ω—ã–º</li>
</ul>
<hr />
<h2 id="–°—Ä–∞–≤–Ω–∏—Ç–µ–ª—å–Ω–∞—è-—Ç–∞–±–ª–∏—Ü–∞-2"><a class="header" href="#–°—Ä–∞–≤–Ω–∏—Ç–µ–ª—å–Ω–∞—è-—Ç–∞–±–ª–∏—Ü–∞-2">–°—Ä–∞–≤–Ω–∏—Ç–µ–ª—å–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞</a></h2>
<div class="table-wrapper"><table><thead><tr><th>–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞</th><th>–°–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π Iterator</th><th>Async Iterator</th></tr></thead><tbody>
<tr><td><strong>–ú–µ—Ç–æ–¥ next()</strong></td><td>–û–±—ã—á–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è</td><td><code>async</code> —Ñ—É–Ω–∫—Ü–∏—è</td></tr>
<tr><td><strong>–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç</strong></td><td><code>{ value, done }</code></td><td><code>Promise&lt;{ value, done }&gt;</code></td></tr>
<tr><td><strong>–°–∏–º–≤–æ–ª</strong></td><td><code>Symbol.iterator</code></td><td><code>Symbol.asyncIterator</code></td></tr>
<tr><td><strong>–¶–∏–∫–ª</strong></td><td><code>for...of</code></td><td><code>for await...of</code></td></tr>
<tr><td><strong>Spread –æ–ø–µ—Ä–∞—Ç–æ—Ä</strong></td><td>‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç</td><td>‚ùå –ù–µ —Ä–∞–±–æ—Ç–∞–µ—Ç</td></tr>
<tr><td><strong>–ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä</strong></td><td><code>function*</code></td><td><code>async function*</code></td></tr>
<tr><td><strong>yield</strong></td><td>–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ</td><td>–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç Promise</td></tr>
<tr><td><strong>–î–µ–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ</strong></td><td><code>yield*</code></td><td><code>yield*</code></td></tr>
<tr><td><strong>–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ</strong></td><td>–°–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ</td><td>–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏</td></tr>
</tbody></table>
</div>
<hr />
<h2 id="–ö–ª—é—á–µ–≤—ã–µ-–º–æ–º–µ–Ω—Ç—ã"><a class="header" href="#–ö–ª—é—á–µ–≤—ã–µ-–º–æ–º–µ–Ω—Ç—ã">–ö–ª—é—á–µ–≤—ã–µ –º–æ–º–µ–Ω—Ç—ã</a></h2>
<h3 id="–ö–æ–Ω—Ç—Ä–∞–∫—Ç—ã"><a class="header" href="#–ö–æ–Ω—Ç—Ä–∞–∫—Ç—ã">–ö–æ–Ω—Ç—Ä–∞–∫—Ç—ã</a></h3>
<ol>
<li><strong>Iterator</strong> = –æ–±—ä–µ–∫—Ç —Å –º–µ—Ç–æ–¥–æ–º <code>next()</code> ‚Üí <code>{ value, done }</code></li>
<li><strong>Iterable</strong> = –æ–±—ä–µ–∫—Ç —Å –º–µ—Ç–æ–¥–æ–º <code>[Symbol.iterator]()</code> ‚Üí Iterator</li>
<li><strong>Async Iterator</strong> = –æ–±—ä–µ–∫—Ç —Å <code>async next()</code> ‚Üí <code>Promise&lt;{ value, done }&gt;</code></li>
<li><strong>Async Iterable</strong> = –æ–±—ä–µ–∫—Ç —Å <code>[Symbol.asyncIterator]()</code> ‚Üí Async Iterator</li>
</ol>
<h3 id="–°–ø–æ—Å–æ–±—ã-—Å–æ–∑–¥–∞–Ω–∏—è"><a class="header" href="#–°–ø–æ—Å–æ–±—ã-—Å–æ–∑–¥–∞–Ω–∏—è">–°–ø–æ—Å–æ–±—ã —Å–æ–∑–¥–∞–Ω–∏—è</a></h3>
<p><strong>–°–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ –∏—Ç–µ—Ä–∞—Ç–æ—Ä—ã:</strong></p>
<ol>
<li>–í—Ä—É—á–Ω—É—é —á–µ—Ä–µ–∑ –ª–∏—Ç–µ—Ä–∞–ª—ã –æ–±—ä–µ–∫—Ç–æ–≤</li>
<li>–ß–µ—Ä–µ–∑ –∫–ª–∞—Å—Å—ã —Å <code>[Symbol.iterator]()</code></li>
<li>–ß–µ—Ä–µ–∑ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä—ã <code>function*</code></li>
</ol>
<p><strong>–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ –∏—Ç–µ—Ä–∞—Ç–æ—Ä—ã:</strong></p>
<ol>
<li>–í—Ä—É—á–Ω—É—é —á–µ—Ä–µ–∑ –ª–∏—Ç–µ—Ä–∞–ª—ã —Å <code>async next()</code></li>
<li>–ß–µ—Ä–µ–∑ –∫–ª–∞—Å—Å—ã —Å <code>[Symbol.asyncIterator]()</code></li>
<li>–ß–µ—Ä–µ–∑ async –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä—ã <code>async function*</code></li>
</ol>
<h3 id="–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ-2"><a class="header" href="#–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ-2">–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ</a></h3>
<p><strong>–°–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ:</strong></p>
<ul>
<li><code>iterator.next()</code> - —Ä—É—á–Ω–æ–µ –ø–æ–ª—É—á–µ–Ω–∏–µ</li>
<li><code>for...of</code> - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∏—Ç–µ—Ä–∞—Ü–∏—è</li>
<li><code>[...iterable]</code> - spread –≤ –º–∞—Å—Å–∏–≤</li>
</ul>
<p><strong>–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ:</strong></p>
<ul>
<li><code>await iterator.next()</code> - —Ä—É—á–Ω–æ–µ –ø–æ–ª—É—á–µ–Ω–∏–µ</li>
<li><code>for await...of</code> - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∏—Ç–µ—Ä–∞—Ü–∏—è</li>
<li>Spread <strong>–Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è</strong></li>
</ul>
<hr />
<h2 id="–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ-–ø—Ä–∏–º–µ—Ä—ã-–ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è"><a class="header" href="#–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ-–ø—Ä–∏–º–µ—Ä—ã-–ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è">–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–∏–º–µ—Ä—ã –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è</a></h2>
<h3 id="–ü—Ä–∏–º–µ—Ä-–ß—Ç–µ–Ω–∏–µ-–±–æ–ª—å—à–∏—Ö-—Ñ–∞–π–ª–æ–≤-–ø–æ—Å—Ç—Ä–æ—á–Ω–æ"><a class="header" href="#–ü—Ä–∏–º–µ—Ä-–ß—Ç–µ–Ω–∏–µ-–±–æ–ª—å—à–∏—Ö-—Ñ–∞–π–ª–æ–≤-–ø–æ—Å—Ç—Ä–æ—á–Ω–æ">–ü—Ä–∏–º–µ—Ä: –ß—Ç–µ–Ω–∏–µ –±–æ–ª—å—à–∏—Ö —Ñ–∞–π–ª–æ–≤ –ø–æ—Å—Ç—Ä–æ—á–Ω–æ</a></h3>
<pre><code class="language-javascript">// Async –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä –¥–ª—è —á—Ç–µ–Ω–∏—è —Ñ–∞–π–ª–∞ –ø–æ—Å—Ç—Ä–æ—á–Ω–æ
async function* readLines(filePath) {
  const fs = require('fs').promises;
  const fileHandle = await fs.open(filePath, 'r');

  try {
    let buffer = '';
    const chunk = Buffer.alloc(1024);

    while (true) {
      const { bytesRead } = await fileHandle.read(chunk, 0, 1024);
      if (bytesRead === 0) break;

      buffer += chunk.toString('utf8', 0, bytesRead);
      const lines = buffer.split('\n');
      buffer = lines.pop(); // –ü–æ—Å–ª–µ–¥–Ω—è—è –Ω–µ–ø–æ–ª–Ω–∞—è —Å—Ç—Ä–æ–∫–∞

      for (const line of lines) {
        yield line;
      }
    }

    if (buffer.length &gt; 0) {
      yield buffer;
    }
  } finally {
    await fileHandle.close();
  }
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
async function processFile() {
  for await (const line of readLines('huge-file.txt')) {
    console.log('Line:', line);
    // –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º –∫–∞–∂–¥—É—é —Å—Ç—Ä–æ–∫—É –ø–æ –º–µ—Ä–µ —á—Ç–µ–Ω–∏—è
    // –ù–µ –∑–∞–≥—Ä—É–∂–∞–µ–º –≤–µ—Å—å —Ñ–∞–π–ª –≤ –ø–∞–º—è—Ç—å!
  }
}
</code></pre>
<h3 id="–ü—Ä–∏–º–µ—Ä-–ü–∞–≥–∏–Ω–∞—Ü–∏—è-api"><a class="header" href="#–ü—Ä–∏–º–µ—Ä-–ü–∞–≥–∏–Ω–∞—Ü–∏—è-api">–ü—Ä–∏–º–µ—Ä: –ü–∞–≥–∏–Ω–∞—Ü–∏—è API</a></h3>
<pre><code class="language-javascript">// Async –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –≤—Å–µ—Ö —Å—Ç—Ä–∞–Ω–∏—Ü API
async function* fetchAllPages(baseUrl) {
  let page = 1;

  while (true) {
    const response = await fetch(`${baseUrl}?page=${page}`);
    const data = await response.json();

    // –û—Ç–¥–∞–µ–º —Ç–µ–∫—É—â—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É
    yield data.items;

    // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –µ—Å—Ç—å –ª–∏ –µ—â–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
    if (!data.hasNextPage) break;
    page++;
  }
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
async function loadAllData() {
  for await (const pageItems of fetchAllPages('/api/users')) {
    console.log('Page items:', pageItems);
    // –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º –∫–∞–∂–¥—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É –ø–æ –º–µ—Ä–µ –∑–∞–≥—Ä—É–∑–∫–∏
  }
}
</code></pre>
<h3 id="–ü—Ä–∏–º–µ—Ä-–ë–µ—Å–∫–æ–Ω–µ—á–Ω–∞—è-–ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å"><a class="header" href="#–ü—Ä–∏–º–µ—Ä-–ë–µ—Å–∫–æ–Ω–µ—á–Ω–∞—è-–ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å">–ü—Ä–∏–º–µ—Ä: –ë–µ—Å–∫–æ–Ω–µ—á–Ω–∞—è –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å</a></h3>
<pre><code class="language-javascript">// –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –±–µ—Å–∫–æ–Ω–µ—á–Ω–æ–π –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ —á–∏—Å–µ–ª –§–∏–±–æ–Ω–∞—á—á–∏
function* fibonacci() {
  let a = 0, b = 1;

  while (true) {
    yield a;
    [a, b] = [b, a + b];
  }
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ–º
function* take(iterable, limit) {
  let count = 0;
  for (const value of iterable) {
    if (count &gt;= limit) break;
    yield value;
    count++;
  }
}

// –ü–æ–ª—É—á–∞–µ–º –ø–µ—Ä–≤—ã–µ 10 —á–∏—Å–µ–ª –§–∏–±–æ–Ω–∞—á—á–∏
const first10 = [...take(fibonacci(), 10)];
console.log(first10);
// [0, 1, 1, 2, 3, 5, 8, 13, 21, 34]
</code></pre>
<hr />
<h2 id="–†–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–Ω—ã–µ-–æ—à–∏–±–∫–∏-–∏-–∫–∞–∫-–∏—Ö-–∏–∑–±–µ–∂–∞—Ç—å"><a class="header" href="#–†–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–Ω—ã–µ-–æ—à–∏–±–∫–∏-–∏-–∫–∞–∫-–∏—Ö-–∏–∑–±–µ–∂–∞—Ç—å">–†–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–Ω—ã–µ –æ—à–∏–±–∫–∏ –∏ –∫–∞–∫ –∏—Ö –∏–∑–±–µ–∂–∞—Ç—å</a></h2>
<h3 id="–û—à–∏–±–∫–∞-1-–ü–æ–ø—ã—Ç–∫–∞-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å-spread-—Å-async-iterable"><a class="header" href="#–û—à–∏–±–∫–∞-1-–ü–æ–ø—ã—Ç–∫–∞-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å-spread-—Å-async-iterable">–û—à–∏–±–∫–∞ 1: –ü–æ–ø—ã—Ç–∫–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å spread —Å async iterable</a></h3>
<pre><code class="language-javascript">async function* asyncGen() {
  yield 1;
  yield 2;
}

// ‚ùå –û–®–ò–ë–ö–ê: Spread –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å async iterable
// const arr = [...asyncGen()];

// ‚úÖ –ü–†–ê–í–ò–õ–¨–ù–û: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ for await...of
async function collectToArray() {
  const arr = [];
  for await (const value of asyncGen()) {
    arr.push(value);
  }
  return arr;
}
</code></pre>
<h3 id="–û—à–∏–±–∫–∞-2-–ó–∞–±—ã—Ç—å-await-–≤-async-–≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–µ"><a class="header" href="#–û—à–∏–±–∫–∞-2-–ó–∞–±—ã—Ç—å-await-–≤-async-–≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–µ">–û—à–∏–±–∫–∞ 2: –ó–∞–±—ã—Ç—å await –≤ async –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–µ</a></h3>
<pre><code class="language-javascript">async function* fetchData() {
  // ‚ùå –û–®–ò–ë–ö–ê: –ó–∞–±—ã–ª–∏ await
  const data = fetch('/api/data'); // Promise!
  yield data; // –í–µ—Ä–Ω–µ—Ç Promise, –∞ –Ω–µ –¥–∞–Ω–Ω—ã–µ

  // ‚úÖ –ü–†–ê–í–ò–õ–¨–ù–û
  const data2 = await fetch('/api/data');
  yield data2;
}
</code></pre>
<h3 id="–û—à–∏–±–∫–∞-3-–ù–µ-–ø—Ä–æ–≤–µ—Ä—è—Ç—å-done-–ø—Ä–∏-—Ä—É—á–Ω–æ–º-–≤—ã–∑–æ–≤–µ-next"><a class="header" href="#–û—à–∏–±–∫–∞-3-–ù–µ-–ø—Ä–æ–≤–µ—Ä—è—Ç—å-done-–ø—Ä–∏-—Ä—É—á–Ω–æ–º-–≤—ã–∑–æ–≤–µ-next">–û—à–∏–±–∫–∞ 3: –ù–µ –ø—Ä–æ–≤–µ—Ä—è—Ç—å done –ø—Ä–∏ —Ä—É—á–Ω–æ–º –≤—ã–∑–æ–≤–µ next()</a></h3>
<pre><code class="language-javascript">const iterator = [1, 2, 3][Symbol.iterator]();

// ‚ùå –û–®–ò–ë–ö–ê: –ù–µ –ø—Ä–æ–≤–µ—Ä—è–µ–º done
console.log(iterator.next().value); // 1
console.log(iterator.next().value); // 2
console.log(iterator.next().value); // 3
console.log(iterator.next().value); // undefined (–¥–æ–ª–∂–Ω—ã –±—ã–ª–∏ –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å—Å—è!)

// ‚úÖ –ü–†–ê–í–ò–õ–¨–ù–û
let result;
while (!(result = iterator.next()).done) {
  console.log(result.value);
}
</code></pre>
<h3 id="–û—à–∏–±–∫–∞-4-–ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ-–∏—Ç–µ—Ä–∞—Ç–æ—Ä–∞"><a class="header" href="#–û—à–∏–±–∫–∞-4-–ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ-–∏—Ç–µ—Ä–∞—Ç–æ—Ä–∞">–û—à–∏–±–∫–∞ 4: –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∏—Ç–µ—Ä–∞—Ç–æ—Ä–∞</a></h3>
<pre><code class="language-javascript">function* gen() {
  yield 1;
  yield 2;
}

const iterator = gen();

// –ü–µ—Ä–≤—ã–π –ø—Ä–æ—Ö–æ–¥
for (const value of iterator) {
  console.log(value); // 1, 2
}

// ‚ùå –í—Ç–æ—Ä–æ–π –ø—Ä–æ—Ö–æ–¥ –Ω–µ —Å—Ä–∞–±–æ—Ç–∞–µ—Ç - –∏—Ç–µ—Ä–∞—Ç–æ—Ä –∏—Å—á–µ—Ä–ø–∞–Ω!
for (const value of iterator) {
  console.log(value); // –ù–∏—á–µ–≥–æ –Ω–µ –≤—ã–≤–µ–¥–µ—Ç
}

// ‚úÖ –ü–†–ê–í–ò–õ–¨–ù–û: –°–æ–∑–¥–∞–≤–∞–π—Ç–µ –Ω–æ–≤—ã–π –∏—Ç–µ—Ä–∞—Ç–æ—Ä
for (const value of gen()) {
  console.log(value); // 1, 2
}
</code></pre>
<hr />
<h2 id="–†–µ–∑—é–º–µ"><a class="header" href="#–†–µ–∑—é–º–µ">–†–µ–∑—é–º–µ</a></h2>
<h3 id="–ß—Ç–æ-–º—ã-–∏–∑—É—á–∏–ª–∏-1"><a class="header" href="#–ß—Ç–æ-–º—ã-–∏–∑—É—á–∏–ª–∏-1">–ß—Ç–æ –º—ã –∏–∑—É—á–∏–ª–∏:</a></h3>
<ol>
<li><strong>–ö–æ–Ω—Ç—Ä–∞–∫—Ç—ã Iterator –∏ Iterable</strong> - —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–∞–ª—å–Ω—ã–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –¥–ª—è –∏—Ç–µ—Ä–∞—Ü–∏–∏</li>
<li><strong>–†—É—á–Ω–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –∏—Ç–µ—Ä–∞—Ç–æ—Ä–æ–≤</strong> - —á–µ—Ä–µ–∑ –ª–∏—Ç–µ—Ä–∞–ª—ã –∏ –∫–ª–∞—Å—Å—ã</li>
<li><strong>–ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä—ã (<code>function*</code>)</strong> - —Å–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–∏–π —Å–∞—Ö–∞—Ä –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è iterable</li>
<li><strong>Async Iterator –∏ Async Iterable</strong> - –¥–ª—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π</li>
<li><strong>Async –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä—ã (<code>async function*</code>)</strong> - —É–ø—Ä–æ—â–µ–Ω–Ω–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ async iterable</li>
<li><strong>–î–µ–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ (<code>yield*</code>)</strong> - –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –¥—Ä—É–≥–∏—Ö iterable</li>
<li><strong><code>for...of</code> –∏ <code>for await...of</code></strong> - —Ü–∏–∫–ª—ã –¥–ª—è –∏—Ç–µ—Ä–∞—Ü–∏–∏</li>
<li><strong>Spread –æ–ø–µ—Ä–∞—Ç–æ—Ä</strong> - —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ —Å —Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–º–∏ iterable</li>
</ol>
<h3 id="–ü–æ—á–µ–º—É-—ç—Ç–æ-–≤–∞–∂–Ω–æ-2"><a class="header" href="#–ü–æ—á–µ–º—É-—ç—Ç–æ-–≤–∞–∂–Ω–æ-2">–ü–æ—á–µ–º—É —ç—Ç–æ –≤–∞–∂–Ω–æ:</a></h3>
<ul>
<li><strong>–ï–¥–∏–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å</strong> –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—è–º–∏</li>
<li><strong>–õ–µ–Ω–∏–≤—ã–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è</strong> - –¥–∞–Ω–Ω—ã–µ –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è –ø–æ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—é</li>
<li><strong>–ü–∞–º—è—Ç—å —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å</strong> - –Ω–µ –Ω—É–∂–Ω–æ –∑–∞–≥—Ä—É–∂–∞—Ç—å –≤—Å–µ –¥–∞–Ω–Ω—ã–µ —Å—Ä–∞–∑—É</li>
<li><strong>–ö–æ–º–ø–æ–∑–∏—Ü–∏—è</strong> - –º–æ–∂–Ω–æ –∫–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞—Ç—å –∏—Ç–µ—Ä–∞—Ç–æ—Ä—ã</li>
<li><strong>–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç—å</strong> - –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–∞—è —Ä–∞–±–æ—Ç–∞ —Å async –æ–ø–µ—Ä–∞—Ü–∏—è–º–∏</li>
</ul>
<h3 id="–ö–æ–≥–¥–∞-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å-3"><a class="header" href="#–ö–æ–≥–¥–∞-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å-3">–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:</a></h3>
<p><strong>–°–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ –∏—Ç–µ—Ä–∞—Ç–æ—Ä—ã:</strong></p>
<ul>
<li>–û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–æ–ª–ª–µ–∫—Ü–∏–π –¥–∞–Ω–Ω—ã—Ö</li>
<li>–ú–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏</li>
<li>–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–æ–º–±–∏–Ω–∞—Ü–∏–π/–ø–µ—Ä–µ—Å—Ç–∞–Ω–æ–≤–æ–∫</li>
<li>–û–±—Ö–æ–¥ —Å—Ç—Ä—É–∫—Ç—É—Ä –¥–∞–Ω–Ω—ã—Ö (–¥–µ—Ä–µ–≤—å—è, –≥—Ä–∞—Ñ—ã)</li>
</ul>
<p><strong>–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ –∏—Ç–µ—Ä–∞—Ç–æ—Ä—ã:</strong></p>
<ul>
<li>–ß—Ç–µ–Ω–∏–µ –±–æ–ª—å—à–∏—Ö —Ñ–∞–π–ª–æ–≤</li>
<li>–†–∞–±–æ—Ç–∞ —Å API (–ø–∞–≥–∏–Ω–∞—Ü–∏—è)</li>
<li>–û–±—Ä–∞–±–æ—Ç–∫–∞ –ø–æ—Ç–æ–∫–æ–≤ –¥–∞–Ω–Ω—ã—Ö</li>
<li>–ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω—ã–µ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏</li>
</ul>
<hr />
<h2 id="–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ-–º–∞—Ç–µ—Ä–∏–∞–ª—ã-–¥–ª—è-–∏–∑—É—á–µ–Ω–∏—è"><a class="header" href="#–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ-–º–∞—Ç–µ—Ä–∏–∞–ª—ã-–¥–ª—è-–∏–∑—É—á–µ–Ω–∏—è">–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã –¥–ª—è –∏–∑—É—á–µ–Ω–∏—è</a></h2>
<h3 id="–°–≤—è–∑–∞–Ω–Ω—ã–µ-—Ç–µ–º—ã"><a class="header" href="#–°–≤—è–∑–∞–Ω–Ω—ã–µ-—Ç–µ–º—ã">–°–≤—è–∑–∞–Ω–Ω—ã–µ —Ç–µ–º—ã:</a></h3>
<ol>
<li><strong>Iterator Helpers</strong> (ES2024) - –º–µ—Ç–æ–¥—ã <code>.map()</code>, <code>.filter()</code>, <code>.take()</code> –¥–ª—è –∏—Ç–µ—Ä–∞—Ç–æ—Ä–æ–≤</li>
<li><strong>Observable</strong> - —Ä–µ–∞–∫—Ç–∏–≤–Ω—ã–µ –ø–æ—Ç–æ–∫–∏ –¥–∞–Ω–Ω—ã—Ö (RxJS)</li>
<li><strong>Streams API</strong> - —Ä–∞–±–æ—Ç–∞ —Å –ø–æ—Ç–æ–∫–∞–º–∏ –¥–∞–Ω–Ω—ã—Ö –≤ –±—Ä–∞—É–∑–µ—Ä–µ</li>
<li><strong>Node.js Streams</strong> - –ø–æ—Ç–æ–∫–∏ –≤ Node.js</li>
<li><strong>Transducers</strong> - –∫–æ–º–ø–æ–∑–∏—Ä—É–µ–º—ã–µ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö</li>
</ol>
<h3 id="–°–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏"><a class="header" href="#–°–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏">–°–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏:</a></h3>
<ul>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Iteration_protocols">Iteration protocols (MDN)</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Generator">Generators (MDN)</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/for-await...of">for await...of (MDN)</a></li>
</ul>
<hr />
<p><strong>–ö–æ–Ω–µ—Ü –∫–æ–Ω—Å–ø–µ–∫—Ç–∞ –ª–µ–∫—Ü–∏–∏</strong></p>
<p><em>–£–¥–∞—á–∏ –≤ –∏–∑—É—á–µ–Ω–∏–∏ –∏—Ç–µ—Ä–∞—Ç–æ—Ä–æ–≤ –∏ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–æ–≤! –ü—Ä–∞–∫—Ç–∏–∫—É–π—Ç–µ—Å—å –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã—Ö –∑–∞–¥–∞—á–∞—Ö –¥–ª—è –∑–∞–∫—Ä–µ–ø–ª–µ–Ω–∏—è –º–∞—Ç–µ—Ä–∏–∞–ª–∞.</em></p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="promise-–∫–æ–Ω—Ç—Ä–∞–∫—Ç-–≤-javascript--–ü–æ–ª–Ω—ã–π-–∫–æ–Ω—Å–ø–µ–∫—Ç"><a class="header" href="#promise-–∫–æ–Ω—Ç—Ä–∞–∫—Ç-–≤-javascript--–ü–æ–ª–Ω—ã–π-–∫–æ–Ω—Å–ø–µ–∫—Ç">Promise –∫–æ–Ω—Ç—Ä–∞–∫—Ç –≤ JavaScript ‚Äî –ü–æ–ª–Ω—ã–π –∫–æ–Ω—Å–ø–µ–∫—Ç</a></h1>
<h2 id="–û–≥–ª–∞–≤–ª–µ–Ω–∏–µ-1"><a class="header" href="#–û–≥–ª–∞–≤–ª–µ–Ω–∏–µ-1">–û–≥–ª–∞–≤–ª–µ–Ω–∏–µ</a></h2>
<ol>
<li><a href="week2/promise-contract-lecture-notes.html#%D0%B2%D0%B2%D0%B5%D0%B4%D0%B5%D0%BD%D0%B8%D0%B5-%D0%B2-promise">–í–≤–µ–¥–µ–Ω–∏–µ –≤ Promise</a></li>
<li><a href="week2/promise-contract-lecture-notes.html#%D0%BA%D0%BE%D0%BD%D1%81%D1%82%D1%80%D1%83%D0%BA%D1%82%D0%BE%D1%80-promise">–ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä Promise</a></li>
<li><a href="week2/promise-contract-lecture-notes.html#%D1%81%D0%BE%D1%81%D1%82%D0%BE%D1%8F%D0%BD%D0%B8%D1%8F-promise">–°–æ—Å—Ç–æ—è–Ω–∏—è Promise</a></li>
<li><a href="week2/promise-contract-lecture-notes.html#%D0%BC%D0%B5%D1%82%D0%BE%D0%B4%D1%8B-%D1%8D%D0%BA%D0%B7%D0%B5%D0%BC%D0%BF%D0%BB%D1%8F%D1%80%D0%B0-promise">–ú–µ—Ç–æ–¥—ã —ç–∫–∑–µ–º–ø–ª—è—Ä–∞ Promise</a></li>
<li><a href="week2/promise-contract-lecture-notes.html#%D1%86%D0%B5%D0%BF%D0%BE%D1%87%D0%BA%D0%B8-promise-promise-chaining">–¶–µ–ø–æ—á–∫–∏ Promise (Promise Chaining)</a></li>
<li><a href="week2/promise-contract-lecture-notes.html#%D0%BF%D1%80%D0%B0%D0%BA%D1%82%D0%B8%D1%87%D0%B5%D1%81%D0%BA%D0%BE%D0%B5-%D0%BF%D1%80%D0%B8%D0%BC%D0%B5%D0%BD%D0%B5%D0%BD%D0%B8%D0%B5-%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D0%B0-%D1%81-%D1%84%D0%B0%D0%B9%D0%BB%D0%B0%D0%BC%D0%B8">–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ: —Ä–∞–±–æ—Ç–∞ —Å —Ñ–∞–π–ª–∞–º–∏</a></li>
<li><a href="week2/promise-contract-lecture-notes.html#%D1%81%D1%82%D0%B0%D1%82%D0%B8%D1%87%D0%B5%D1%81%D0%BA%D0%B8%D0%B5-%D0%BC%D0%B5%D1%82%D0%BE%D0%B4%D1%8B-%D0%BA%D0%BB%D0%B0%D1%81%D1%81%D0%B0-promise">–°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ –º–µ—Ç–æ–¥—ã –∫–ª–∞—Å—Å–∞ Promise</a></li>
<li><a href="week2/promise-contract-lecture-notes.html#%D0%BE%D0%B1%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D0%BA%D0%B0-%D0%BE%D1%88%D0%B8%D0%B1%D0%BE%D0%BA">–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫</a></li>
<li><a href="week2/promise-contract-lecture-notes.html#best-practices-%D0%B8-%D0%B2%D0%B0%D0%B6%D0%BD%D1%8B%D0%B5-%D0%BC%D0%BE%D0%BC%D0%B5%D0%BD%D1%82%D1%8B">Best Practices –∏ –≤–∞–∂–Ω—ã–µ –º–æ–º–µ–Ω—Ç—ã</a></li>
</ol>
<hr />
<h2 id="–í–≤–µ–¥–µ–Ω–∏–µ-–≤-promise"><a class="header" href="#–í–≤–µ–¥–µ–Ω–∏–µ-–≤-promise">–í–≤–µ–¥–µ–Ω–∏–µ –≤ Promise</a></h2>
<p><strong>Promise (–ø—Ä–æ–º–∏—Å)</strong> ‚Äî —ç—Ç–æ –æ–±—ä–µ–∫—Ç, –∫–æ—Ç–æ—Ä—ã–π —Å–∏–º–≤–æ–ª–∏–∑–∏—Ä—É–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç –æ—Ç–ª–æ–∂–µ–Ω–Ω–æ–π (–∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–π) –æ–ø–µ—Ä–∞—Ü–∏–∏. –ü—Ä–æ–º–∏—Å –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å–æ –∑–Ω–∞—á–µ–Ω–∏–µ–º, –∫–æ—Ç–æ—Ä–æ–µ –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ –≤ –±—É–¥—É—â–µ–º.</p>
<h3 id="–û—Å–Ω–æ–≤–Ω—ã–µ-—Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏"><a class="header" href="#–û—Å–Ω–æ–≤–Ω—ã–µ-—Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏">–û—Å–Ω–æ–≤–Ω—ã–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏:</a></h3>
<ul>
<li>–ü—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–π –æ–ø–µ—Ä–∞—Ü–∏–∏</li>
<li>–ò–º–µ–µ—Ç –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ –º–µ—Ç–æ–¥—ã –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤</li>
<li>–ü–æ–∑–≤–æ–ª—è–µ—Ç –∏–∑–±–µ–∂–∞—Ç—å "callback hell" (–∞–¥ –∫–æ–ª–±—ç–∫–æ–≤)</li>
<li>–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Ü–µ–ø–æ—á–Ω—ã–µ –≤—ã–∑–æ–≤—ã (chaining)</li>
</ul>
<hr />
<h2 id="–ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä-promise"><a class="header" href="#–ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä-promise">–ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä Promise</a></h2>
<h3 id="–°–∏–Ω—Ç–∞–∫—Å–∏—Å-–∏-—Ä–∞–±–æ—Ç–∞-–∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞"><a class="header" href="#–°–∏–Ω—Ç–∞–∫—Å–∏—Å-–∏-—Ä–∞–±–æ—Ç–∞-–∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞">–°–∏–Ω—Ç–∞–∫—Å–∏—Å –∏ —Ä–∞–±–æ—Ç–∞ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞</a></h3>
<p>–ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä Promise –ø—Ä–∏–Ω–∏–º–∞–µ—Ç —Ñ—É–Ω–∫—Ü–∏—é —Å –¥–≤—É–º—è –∞—Ä–≥—É–º–µ–Ω—Ç–∞–º–∏: <strong>resolve</strong> –∏ <strong>reject</strong>. –≠—Ç–æ —Ç–∞–∫ –Ω–∞–∑—ã–≤–∞–µ–º—ã–π <strong>"–æ—Ç–∫—Ä—ã—Ç—ã–π –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä"</strong> (revealing constructor pattern).</p>
<pre><code class="language-javascript">const promise = new Promise((resolve, reject) =&gt; {
  // –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è
  // –í—ã–∑–æ–≤–∏—Ç–µ resolve(value) –ø—Ä–∏ —É—Å–ø–µ—Ö–µ
  // –í—ã–∑–æ–≤–∏—Ç–µ reject(error) –ø—Ä–∏ –æ—à–∏–±–∫–µ
});
</code></pre>
<h3 id="–ü—Ä–∏–º–µ—Ä-—Å-—É—Å–ø–µ—à–Ω—ã–º-–≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ–º"><a class="header" href="#–ü—Ä–∏–º–µ—Ä-—Å-—É—Å–ø–µ—à–Ω—ã–º-–≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ–º">–ü—Ä–∏–º–µ—Ä —Å —É—Å–ø–µ—à–Ω—ã–º –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ–º</a></h3>
<pre><code class="language-javascript">const successPromise = new Promise((resolve, reject) =&gt; {
  // –ö–æ–≥–¥–∞ –ø—Ä–æ–º–∏—Å –≥–æ—Ç–æ–≤ "—Ä–∞–∑–≤–∏—Ç—å—Å—è" (–ø–µ—Ä–µ–π—Ç–∏ –≤ —Ñ–∏–Ω–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ),
  // –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –æ–¥–Ω–∞ –∏–∑ —Ñ—É–Ω–∫—Ü–∏–π: resolve –∏–ª–∏ reject
  resolve(100);
});

// –ü—Ä–æ—Å–º–æ—Ç—Ä –ø—Ä–æ–º–∏—Å–∞ –≤ –∫–æ–Ω—Å–æ–ª–∏
console.dir(successPromise);
// Promise { &lt;fulfilled&gt;: 100 }
</code></pre>
<p><strong>–í–∞–∂–Ω–æ:</strong> –ó–Ω–∞—á–µ–Ω–∏–µ <code>100</code> –ø–æ–ø–∞–¥–µ—Ç –≤ –ø—Ä–æ–º–∏—Å –∫–∞–∫ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –µ–≥–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∏ –±—É–¥–µ—Ç –≤ –Ω–µ–º —Ö—Ä–∞–Ω–∏—Ç—å—Å—è.</p>
<h3 id="–ü—Ä–∏–º–µ—Ä-—Å-–æ—Ç–ª–æ–∂–µ–Ω–Ω—ã–º-–≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ–º"><a class="header" href="#–ü—Ä–∏–º–µ—Ä-—Å-–æ—Ç–ª–æ–∂–µ–Ω–Ω—ã–º-–≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ–º">–ü—Ä–∏–º–µ—Ä —Å –æ—Ç–ª–æ–∂–µ–Ω–Ω—ã–º –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ–º</a></h3>
<pre><code class="language-javascript">const delayedPromise = new Promise((resolve, reject) =&gt; {
  setTimeout(() =&gt; {
    resolve(100);
  }, 1000);
});
</code></pre>
<h3 id="–ü—Ä–∏–º–µ—Ä-—Å-–æ—à–∏–±–∫–æ–π"><a class="header" href="#–ü—Ä–∏–º–µ—Ä-—Å-–æ—à–∏–±–∫–æ–π">–ü—Ä–∏–º–µ—Ä —Å –æ—à–∏–±–∫–æ–π</a></h3>
<pre><code class="language-javascript">const errorPromise = new Promise((resolve, reject) =&gt; {
  // –í reject –º–æ–∂–Ω–æ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å –ª—é–±–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ (value)
  reject(new Error('–ß—Ç–æ-—Ç–æ –ø–æ—à–ª–æ –Ω–µ —Ç–∞–∫'));

  // –ò–ª–∏ –¥–∞–∂–µ –ø—Ä–æ—Å—Ç–æ —á–∏—Å–ª–æ
  // reject(200);

  // –ò–ª–∏ undefined
  // reject();
});
</code></pre>
<p><strong>–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:</strong> –í <code>reject</code> –º–æ–∂–Ω–æ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å –Ω–µ —Ç–æ–ª—å–∫–æ –æ–±—ä–µ–∫—Ç—ã Error, –Ω–æ –∏ –ª—é–±—ã–µ –¥—Ä—É–≥–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è, –≤–∫–ª—é—á–∞—è <code>undefined</code>. –≠—Ç–æ –Ω–µ —Å—á–∏—Ç–∞–µ—Ç—Å—è –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–º.</p>
<h3 id="–ù–µ–º–µ–¥–ª–µ–Ω–Ω–æ–µ-—Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ-–ø—Ä–æ–º–∏—Å–∞"><a class="header" href="#–ù–µ–º–µ–¥–ª–µ–Ω–Ω–æ–µ-—Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ-–ø—Ä–æ–º–∏—Å–∞">–ù–µ–º–µ–¥–ª–µ–Ω–Ω–æ–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ –ø—Ä–æ–º–∏—Å–∞</a></h3>
<pre><code class="language-javascript">const immediatePromise = new Promise((resolve) =&gt; {
  resolve('–ì–æ—Ç–æ–≤–æ!');
});

console.log(immediatePromise);
// Promise { &lt;fulfilled&gt;: '–ì–æ—Ç–æ–≤–æ!' }
</code></pre>
<hr />
<h2 id="–°–æ—Å—Ç–æ—è–Ω–∏—è-promise"><a class="header" href="#–°–æ—Å—Ç–æ—è–Ω–∏—è-promise">–°–æ—Å—Ç–æ—è–Ω–∏—è Promise</a></h2>
<p>–ü—Ä–æ–º–∏—Å –º–æ–∂–µ—Ç –Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è –≤ –æ–¥–Ω–æ–º –∏–∑ <strong>—Ç—Ä–µ—Ö —Å–æ—Å—Ç–æ—è–Ω–∏–π</strong>:</p>
<h3 id="1-pending-–æ–∂–∏–¥–∞–Ω–∏–µ"><a class="header" href="#1-pending-–æ–∂–∏–¥–∞–Ω–∏–µ">1. <strong>Pending (–æ–∂–∏–¥–∞–Ω–∏–µ)</strong></a></h3>
<pre><code class="language-javascript">const pendingPromise = new Promise((resolve, reject) =&gt; {
  // –ü—Ä–æ–º–∏—Å —Å–æ–∑–¥–∞–Ω, –Ω–æ resolve/reject –µ—â–µ –Ω–µ –≤—ã–∑–≤–∞–Ω—ã
});

console.dir(pendingPromise);
// Promise { &lt;pending&gt; }
</code></pre>
<h3 id="2-fulfilled-–≤—ã–ø–æ–ª–Ω–µ–Ω-—É—Å–ø–µ—à–Ω–æ"><a class="header" href="#2-fulfilled-–≤—ã–ø–æ–ª–Ω–µ–Ω-—É—Å–ø–µ—à–Ω–æ">2. <strong>Fulfilled (–≤—ã–ø–æ–ª–Ω–µ–Ω —É—Å–ø–µ—à–Ω–æ)</strong></a></h3>
<pre><code class="language-javascript">const fulfilledPromise = new Promise((resolve) =&gt; {
  resolve('–£—Å–ø–µ—Ö!');
});

console.dir(fulfilledPromise);
// Promise { &lt;fulfilled&gt;: '–£—Å–ø–µ—Ö!' }
</code></pre>
<h3 id="3-rejected-–æ—Ç–∫–ª–æ–Ω–µ–Ω-—Å-–æ—à–∏–±–∫–æ–π"><a class="header" href="#3-rejected-–æ—Ç–∫–ª–æ–Ω–µ–Ω-—Å-–æ—à–∏–±–∫–æ–π">3. <strong>Rejected (–æ—Ç–∫–ª–æ–Ω–µ–Ω —Å –æ—à–∏–±–∫–æ–π)</strong></a></h3>
<pre><code class="language-javascript">const rejectedPromise = new Promise((resolve, reject) =&gt; {
  reject(new Error('–û—à–∏–±–∫–∞!'));
});

console.dir(rejectedPromise);
// Promise { &lt;rejected&gt;: Error: –û—à–∏–±–∫–∞! }
</code></pre>
<h3 id="–î–∏–∞–≥—Ä–∞–º–º–∞-–ø–µ—Ä–µ—Ö–æ–¥–æ–≤-—Å–æ—Å—Ç–æ—è–Ω–∏–π"><a class="header" href="#–î–∏–∞–≥—Ä–∞–º–º–∞-–ø–µ—Ä–µ—Ö–æ–¥–æ–≤-—Å–æ—Å—Ç–æ—è–Ω–∏–π">–î–∏–∞–≥—Ä–∞–º–º–∞ –ø–µ—Ä–µ—Ö–æ–¥–æ–≤ —Å–æ—Å—Ç–æ—è–Ω–∏–π</a></h3>
<pre><code>        ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
        ‚îÇ   Pending   ‚îÇ (–Ω–∞—á–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ)
        ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
               ‚îÇ
       ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
       ‚îÇ                ‚îÇ
       ‚ñº                ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê      ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇFulfilled ‚îÇ      ‚îÇ Rejected ‚îÇ
‚îÇ(—É—Å–ø–µ—Ö)   ‚îÇ      ‚îÇ (–æ—à–∏–±–∫–∞) ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò      ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
</code></pre>
<p><strong>–í–∞–∂–Ω–æ:</strong> –ü–æ—Å–ª–µ —Ç–æ–≥–æ –∫–∞–∫ –ø—Ä–æ–º–∏—Å –ø–µ—Ä–µ—à–µ–ª –≤ —Å–æ—Å—Ç–æ—è–Ω–∏–µ <code>fulfilled</code> –∏–ª–∏ <code>rejected</code>, –æ–Ω –±–æ–ª—å—à–µ –Ω–µ –º–æ–∂–µ—Ç –∏–∑–º–µ–Ω–∏—Ç—å —Å–≤–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ.</p>
<hr />
<h2 id="–ú–µ—Ç–æ–¥—ã-—ç–∫–∑–µ–º–ø–ª—è—Ä–∞-promise"><a class="header" href="#–ú–µ—Ç–æ–¥—ã-—ç–∫–∑–µ–º–ø–ª—è—Ä–∞-promise">–ú–µ—Ç–æ–¥—ã —ç–∫–∑–µ–º–ø–ª—è—Ä–∞ Promise</a></h2>
<h3 id="–ú–µ—Ç–æ–¥-then"><a class="header" href="#–ú–µ—Ç–æ–¥-then">–ú–µ—Ç–æ–¥ <code>.then()</code></a></h3>
<p>–ú–µ—Ç–æ–¥ <code>.then()</code> –ø—Ä–∏–Ω–∏–º–∞–µ—Ç <strong>–¥–≤–∞ –∞—Ä–≥—É–º–µ–Ω—Ç–∞</strong> ‚Äî –¥–≤–µ —Ñ—É–Ω–∫—Ü–∏–∏:</p>
<ul>
<li>–ü–µ—Ä–≤–∞—è —Ñ—É–Ω–∫—Ü–∏—è –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —É—Å–ø–µ—à–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ (resolve)</li>
<li>–í—Ç–æ—Ä–∞—è —Ñ—É–Ω–∫—Ü–∏—è –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –æ—à–∏–±–∫—É (reject) ‚Äî –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–∞</li>
</ul>
<pre><code class="language-javascript">const promise = new Promise((resolve, reject) =&gt; {
  resolve(100);
});

promise.then(
  (value) =&gt; {
    console.log('–£—Å–ø–µ—Ö:', value); // –£—Å–ø–µ—Ö: 100
  },
  (error) =&gt; {
    console.error('–û—à–∏–±–∫–∞:', error);
  }
);
</code></pre>
<h3 id="–ü–æ–ª—É—á–µ–Ω–∏–µ-–∑–Ω–∞—á–µ–Ω–∏—è-–∏–∑-–ø—Ä–æ–º–∏—Å–∞"><a class="header" href="#–ü–æ–ª—É—á–µ–Ω–∏–µ-–∑–Ω–∞—á–µ–Ω–∏—è-–∏–∑-–ø—Ä–æ–º–∏—Å–∞">–ü–æ–ª—É—á–µ–Ω–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è –∏–∑ –ø—Ä–æ–º–∏—Å–∞</a></h3>
<pre><code class="language-javascript">const promise = Promise.resolve('–î–∞–Ω–Ω—ã–µ');

// –í–Ω—É—Ç—Ä–µ–Ω–Ω–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –ø—Ä–æ–º–∏—Å–∞ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ –Ω–∞–ø—Ä—è–º—É—é
console.log(promise); // Promise { &lt;fulfilled&gt;: '–î–∞–Ω–Ω—ã–µ' }

// –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π —Å–ø–æ—Å–æ–± –ø–æ–ª—É—á–µ–Ω–∏—è –∑–Ω–∞—á–µ–Ω–∏—è
promise.then((data) =&gt; {
  console.log(data); // –î–∞–Ω–Ω—ã–µ
});

// –ú–æ–∂–Ω–æ –ø–µ—Ä–µ–¥–∞—Ç—å console.log –Ω–∞–ø—Ä—è–º—É—é
promise.then(console.log); // –î–∞–Ω–Ω—ã–µ
</code></pre>
<p><strong>–í–∞–∂–Ω—ã–π –º–æ–º–µ–Ω—Ç:</strong> –£ –ø—Ä–æ–º–∏—Å–∞ –Ω–µ—Ç –ø—É–±–ª–∏—á–Ω–æ–≥–æ —Å–≤–æ–π—Å—Ç–≤–∞ –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ –∑–Ω–∞—á–µ–Ω–∏—é. –ö–æ–Ω—Å–æ–ª—å "–º–∞–≥–∏—á–µ—Å–∫–∏–º –æ–±—Ä–∞–∑–æ–º" –¥–æ–±—ã–≤–∞–µ—Ç —ç—Ç–æ –∑–Ω–∞—á–µ–Ω–∏–µ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏, –Ω–æ –ø—Ä–æ–≥—Ä–∞–º–º–Ω–æ –ø–æ–ª—É—á–∏—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ –º–æ–∂–Ω–æ —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ <code>.then()</code>.</p>
<h3 id="–ú–µ—Ç–æ–¥-catch"><a class="header" href="#–ú–µ—Ç–æ–¥-catch">–ú–µ—Ç–æ–¥ <code>.catch()</code></a></h3>
<p>–ú–µ—Ç–æ–¥ <code>.catch()</code> –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫. –û–Ω —ç–∫–≤–∏–≤–∞–ª–µ–Ω—Ç–µ–Ω <code>.then(null, errorHandler)</code>.</p>
<pre><code class="language-javascript">const errorPromise = new Promise((resolve, reject) =&gt; {
  reject(new Error('–ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞'));
});

errorPromise.catch((error) =&gt; {
  console.error('–ü–æ–π–º–∞–ª–∏ –æ—à–∏–±–∫—É:', error);
});

// –≠—Ç–æ —Ç–æ –∂–µ —Å–∞–º–æ–µ, —á—Ç–æ:
errorPromise.then(null, (error) =&gt; {
  console.error('–ü–æ–π–º–∞–ª–∏ –æ—à–∏–±–∫—É:', error);
});
</code></pre>
<h3 id="–ú–µ—Ç–æ–¥-finally"><a class="header" href="#–ú–µ—Ç–æ–¥-finally">–ú–µ—Ç–æ–¥ <code>.finally()</code></a></h3>
<p>–ú–µ—Ç–æ–¥ <code>.finally()</code> –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è <strong>–≤—Å–µ–≥–¥–∞</strong>, –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç —Ç–æ–≥–æ, –≤—ã–ø–æ–ª–Ω–∏–ª—Å—è –ø—Ä–æ–º–∏—Å —É—Å–ø–µ—à–Ω–æ –∏–ª–∏ —Å –æ—à–∏–±–∫–æ–π.</p>
<pre><code class="language-javascript">fetchData()
  .then((data) =&gt; {
    console.log('–î–∞–Ω–Ω—ã–µ –ø–æ–ª—É—á–µ–Ω—ã:', data);
  })
  .catch((error) =&gt; {
    console.error('–û—à–∏–±–∫–∞:', error);
  })
  .finally(() =&gt; {
    console.log('–û–ø–µ—Ä–∞—Ü–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∞');
    // –ó–¥–µ—Å—å –º–æ–∂–Ω–æ –æ—Å–≤–æ–±–æ–¥–∏—Ç—å —Ä–µ—Å—É—Ä—Å—ã:
    // - –∑–∞–∫—Ä—ã—Ç—å —Ñ–∞–π–ª–æ–≤—ã–µ –¥–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä—ã
    // - –æ—Å–≤–æ–±–æ–¥–∏—Ç—å –ø–∞–º—è—Ç—å
    // - —Å–∫—Ä—ã—Ç—å –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –∑–∞–≥—Ä—É–∑–∫–∏
  });
</code></pre>
<h3 id="–î–≤–∞-–∞—Ä–≥—É–º–µ–Ω—Ç–∞-–≤-then-vs-catch"><a class="header" href="#–î–≤–∞-–∞—Ä–≥—É–º–µ–Ω—Ç–∞-–≤-then-vs-catch">–î–≤–∞ –∞—Ä–≥—É–º–µ–Ω—Ç–∞ –≤ .then() vs .catch()</a></h3>
<pre><code class="language-javascript">const promise = Promise.reject('–û—à–∏–±–∫–∞!');

// –í–∞—Ä–∏–∞–Ω—Ç 1: –í—Ç–æ—Ä–æ–π –∞—Ä–≥—É–º–µ–Ω—Ç –≤ then
promise.then(
  (value) =&gt; console.log('–£—Å–ø–µ—Ö:', value),
  (error) =&gt; console.error('–û—à–∏–±–∫–∞ –≤ then:', error) // –°—é–¥–∞ –ø–æ–ø–∞–¥–µ—Ç
);

// –í–∞—Ä–∏–∞–Ω—Ç 2: –û—Ç–¥–µ–ª—å–Ω—ã–π catch
promise
  .then((value) =&gt; console.log('–£—Å–ø–µ—Ö:', value))
  .catch((error) =&gt; console.error('–û—à–∏–±–∫–∞ –≤ catch:', error)); // –ò —Å—é–¥–∞ –ø–æ–ø–∞–¥–µ—Ç
</code></pre>
<p><strong>–í–∞–∂–Ω–æ–µ –æ—Ç–ª–∏—á–∏–µ:</strong> –ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –æ–±–∞ –ø–æ–¥—Ö–æ–¥–∞ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ, –æ—à–∏–±–∫–∞ –ø–æ–ø–∞–¥–µ—Ç –≤–æ <strong>–≤—Ç–æ—Ä–æ–π –∞—Ä–≥—É–º–µ–Ω—Ç <code>.then()</code></strong>, –∞ <code>.catch()</code> –µ–µ –Ω–µ –ø–æ–ª—É—á–∏—Ç. –û–¥–Ω–∞–∫–æ –µ—Å–ª–∏ –æ—à–∏–±–∫–∞ –≤–æ–∑–Ω–∏–∫–Ω–µ—Ç <strong>–≤–Ω—É—Ç—Ä–∏ –ø–µ—Ä–≤–æ–≥–æ –∞—Ä–≥—É–º–µ–Ω—Ç–∞</strong> <code>.then()</code>, –æ–Ω–∞ –ø–æ–ø–∞–¥–µ—Ç –≤ <code>.catch()</code>.</p>
<pre><code class="language-javascript">const promise = Promise.resolve('OK');

promise
  .then(
    (value) =&gt; {
      console.log(value);
      throw new Error('–û—à–∏–±–∫–∞ –≤–Ω—É—Ç—Ä–∏ then!');
    },
    (error) =&gt; {
      console.log('–í—Ç–æ—Ä–æ–π –∞—Ä–≥—É–º–µ–Ω—Ç then:', error); // –ù–µ –≤—ã–ø–æ–ª–Ω–∏—Ç—Å—è
    }
  )
  .catch((error) =&gt; {
    console.error('Catch –ø–µ—Ä–µ—Ö–≤–∞—Ç–∏–ª:', error); // –°—é–¥–∞ –ø–æ–ø–∞–¥–µ—Ç –æ—à–∏–±–∫–∞ –∏–∑ then
  });
</code></pre>
<hr />
<h2 id="–¶–µ–ø–æ—á–∫–∏-promise-promise-chaining"><a class="header" href="#–¶–µ–ø–æ—á–∫–∏-promise-promise-chaining">–¶–µ–ø–æ—á–∫–∏ Promise (Promise Chaining)</a></h2>
<p>–û–¥–Ω–∞ –∏–∑ —Å–∞–º—ã—Ö –º–æ—â–Ω—ã—Ö –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π –ø—Ä–æ–º–∏—Å–æ–≤ ‚Äî <strong>—Ü–µ–ø–æ—á–Ω—ã–µ –≤—ã–∑–æ–≤—ã</strong>. –ö–∞–∂–¥—ã–π <code>.then()</code> –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –Ω–æ–≤—ã–π –ø—Ä–æ–º–∏—Å.</p>
<h3 id="–ë–∞–∑–æ–≤–∞—è-—Ü–µ–ø–æ—á–∫–∞"><a class="header" href="#–ë–∞–∑–æ–≤–∞—è-—Ü–µ–ø–æ—á–∫–∞">–ë–∞–∑–æ–≤–∞—è —Ü–µ–ø–æ—á–∫–∞</a></h3>
<pre><code class="language-javascript">Promise.resolve(5)
  .then((value) =&gt; {
    console.log('–ü–µ—Ä–≤—ã–π then:', value); // 5
    return value * 2;
  })
  .then((value) =&gt; {
    console.log('–í—Ç–æ—Ä–æ–π then:', value); // 10
    return value * 2;
  })
  .then((value) =&gt; {
    console.log('–¢—Ä–µ—Ç–∏–π then:', value); // 20
  });
</code></pre>
<h3 id="–¶–µ–ø–æ—á–∫–∞-—Å-–æ–±—Ä–∞–±–æ—Ç–∫–æ–π-–æ—à–∏–±–æ–∫"><a class="header" href="#–¶–µ–ø–æ—á–∫–∞-—Å-–æ–±—Ä–∞–±–æ—Ç–∫–æ–π-–æ—à–∏–±–æ–∫">–¶–µ–ø–æ—á–∫–∞ —Å –æ–±—Ä–∞–±–æ—Ç–∫–æ–π –æ—à–∏–±–æ–∫</a></h3>
<pre><code class="language-javascript">Promise.resolve(100)
  .then((value) =&gt; {
    console.log('–®–∞–≥ 1:', value);
    if (value &gt; 50) {
      throw new Error('–ó–Ω–∞—á–µ–Ω–∏–µ —Å–ª–∏—à–∫–æ–º –±–æ–ª—å—à–æ–µ!');
    }
    return value * 2;
  })
  .then((value) =&gt; {
    console.log('–®–∞–≥ 2:', value); // –ù–µ –≤—ã–ø–æ–ª–Ω–∏—Ç—Å—è
  })
  .catch((error) =&gt; {
    console.error('–û—à–∏–±–∫–∞ –ø–µ—Ä–µ—Ö–≤–∞—á–µ–Ω–∞:', error);
    return 0; // –ú–æ–∂–Ω–æ –≤–µ—Ä–Ω—É—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ –¥–ª—è –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏—è —Ü–µ–ø–æ—á–∫–∏
  })
  .then((value) =&gt; {
    console.log('–ü—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ –ø–æ—Å–ª–µ –æ—à–∏–±–∫–∏:', value); // 0
  });
</code></pre>
<h3 id="–¶–µ–ø–æ—á–∫–∞-catch"><a class="header" href="#–¶–µ–ø–æ—á–∫–∞-catch">–¶–µ–ø–æ—á–∫–∞ .catch()</a></h3>
<pre><code class="language-javascript">Promise.reject('–ü–µ—Ä–≤–∞—è –æ—à–∏–±–∫–∞')
  .catch((error) =&gt; {
    console.error('–ü–µ—Ä–≤—ã–π catch:', error);
    throw new Error('–í—Ç–æ—Ä–∞—è –æ—à–∏–±–∫–∞'); // –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º –Ω–æ–≤—É—é –æ—à–∏–±–∫—É
  })
  .catch((error) =&gt; {
    console.error('–í—Ç–æ—Ä–æ–π catch:', error); // –õ–æ–≤–∏—Ç –æ—à–∏–±–∫—É –∏–∑ –ø–µ—Ä–≤–æ–≥–æ catch
  });
</code></pre>
<h3 id="–ù–µ—Å–∫–æ–ª—å–∫–æ-then-–ø–æ—Å–ª–µ-catch"><a class="header" href="#–ù–µ—Å–∫–æ–ª—å–∫–æ-then-–ø–æ—Å–ª–µ-catch">–ù–µ—Å–∫–æ–ª—å–∫–æ .then() –ø–æ—Å–ª–µ .catch()</a></h3>
<pre><code class="language-javascript">fetchData()
  .then(processData)
  .catch(handleError)
  .then(continueProcessing)  // –í—ã–ø–æ–ª–Ω–∏—Ç—Å—è –¥–∞–∂–µ –ø–æ—Å–ª–µ catch
  .catch(handleFinalError);  // –õ–æ–≤–∏—Ç –æ—à–∏–±–∫–∏ –∏–∑ continueProcessing
</code></pre>
<hr />
<h2 id="–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ-–ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ-—Ä–∞–±–æ—Ç–∞-—Å-—Ñ–∞–π–ª–∞–º–∏"><a class="header" href="#–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ-–ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ-—Ä–∞–±–æ—Ç–∞-—Å-—Ñ–∞–π–ª–∞–º–∏">–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ: —Ä–∞–±–æ—Ç–∞ —Å —Ñ–∞–π–ª–∞–º–∏</a></h2>
<h3 id="–ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ-callback-—Ñ—É–Ω–∫—Ü–∏–∏-–≤-–ø—Ä–æ–º–∏—Å"><a class="header" href="#–ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ-callback-—Ñ—É–Ω–∫—Ü–∏–∏-–≤-–ø—Ä–æ–º–∏—Å">–ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ callback-—Ñ—É–Ω–∫—Ü–∏–∏ –≤ –ø—Ä–æ–º–∏—Å</a></h3>
<p>–ü—Ä–æ–º–∏—Å—ã –æ—Ç–ª–∏—á–Ω–æ –ø–æ–¥—Ö–æ–¥—è—Ç –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–º–∏ –æ–ø–µ—Ä–∞—Ü–∏—è–º–∏: —Ç–∞–π–º–µ—Ä–∞–º–∏, —Å–µ—Ç–µ–≤—ã–º–∏ –∑–∞–ø—Ä–æ—Å–∞–º–∏, –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ–º —Å —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º–æ–π, –ø—Ä–æ—Ü–µ—Å—Å–∞–º–∏ –∏ –ø–æ—Ç–æ–∫–∞–º–∏.</p>
<h4 id="–ò—Å—Ö–æ–¥–Ω–∞—è-—Ñ—É–Ω–∫—Ü–∏—è-—Å-callback"><a class="header" href="#–ò—Å—Ö–æ–¥–Ω–∞—è-—Ñ—É–Ω–∫—Ü–∏—è-—Å-callback">–ò—Å—Ö–æ–¥–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è —Å callback</a></h4>
<pre><code class="language-javascript">const fs = require('fs');

// Callback-—Å—Ç–∏–ª—å
fs.readFile('file.txt', 'utf8', (err, data) =&gt; {
  if (err) {
    console.error('–û—à–∏–±–∫–∞ —á—Ç–µ–Ω–∏—è:', err);
    return;
  }
  console.log('–°–æ–¥–µ—Ä–∂–∏–º–æ–µ:', data);
});
</code></pre>
<h4 id="–û–±–µ—Ä—Ç–∫–∞-–≤-–ø—Ä–æ–º–∏—Å"><a class="header" href="#–û–±–µ—Ä—Ç–∫–∞-–≤-–ø—Ä–æ–º–∏—Å">–û–±–µ—Ä—Ç–∫–∞ –≤ –ø—Ä–æ–º–∏—Å</a></h4>
<pre><code class="language-javascript">const fs = require('fs');

// –°–æ–∑–¥–∞–µ–º —Ñ—É–Ω–∫—Ü–∏—é, –≤–æ–∑–≤—Ä–∞—â–∞—é—â—É—é –ø—Ä–æ–º–∏—Å
const readFilePromise = (filename, encoding) =&gt; {
  return new Promise((resolve, reject) =&gt; {
    fs.readFile(filename, encoding, (err, data) =&gt; {
      if (err) {
        reject(err); // –ü—Ä–∏ –æ—à–∏–±–∫–µ –≤—ã–∑—ã–≤–∞–µ–º reject
        return;
      }
      // –ü—Ä–∏ —É—Å–ø–µ—Ö–µ –ø—Ä–µ–æ–±—Ä–∞–∑—É–µ–º –¥–∞–Ω–Ω—ã–µ –∏ –≤—ã–∑—ã–≤–∞–µ–º resolve
      resolve(data.toString());
    });
  });
};

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
readFilePromise('file.txt', 'utf8')
  .then((data) =&gt; {
    console.log('–§–∞–π–ª –ø—Ä–æ—á–∏—Ç–∞–Ω:', data);
  })
  .catch((error) =&gt; {
    console.error('–û—à–∏–±–∫–∞ —á—Ç–µ–Ω–∏—è —Ñ–∞–π–ª–∞:', error);
  });
</code></pre>
<h3 id="–í—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è-–ø–æ–¥–¥–µ—Ä–∂–∫–∞-–ø—Ä–æ–º–∏—Å–æ–≤-–≤-nodejs"><a class="header" href="#–í—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è-–ø–æ–¥–¥–µ—Ä–∂–∫–∞-–ø—Ä–æ–º–∏—Å–æ–≤-–≤-nodejs">–í—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –ø—Ä–æ–º–∏—Å–æ–≤ –≤ Node.js</a></h3>
<pre><code class="language-javascript">const fs = require('fs').promises;
// –∏–ª–∏
const fs = require('fs/promises');

// –¢–µ–ø–µ—Ä—å readFile –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø—Ä–æ–º–∏—Å
fs.readFile('file.txt', 'utf8')
  .then((data) =&gt; {
    console.log(data);
  })
  .catch((error) =&gt; {
    console.error(error);
  });
</code></pre>
<h3 id="–ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ–µ-—á—Ç–µ–Ω–∏–µ-–Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö-—Ñ–∞–π–ª–æ–≤"><a class="header" href="#–ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ–µ-—á—Ç–µ–Ω–∏–µ-–Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö-—Ñ–∞–π–ª–æ–≤">–ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ–µ —á—Ç–µ–Ω–∏–µ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Ñ–∞–π–ª–æ–≤</a></h3>
<pre><code class="language-javascript">const fs = require('fs').promises;

// –ß–∏—Ç–∞–µ–º —Ñ–∞–π–ª—ã –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ
fs.readFile('file1.txt', 'utf8')
  .then((data1) =&gt; {
    console.log('–§–∞–π–ª 1:', data1);
    // –í–æ–∑–≤—Ä–∞—â–∞–µ–º –ø—Ä–æ–º–∏—Å –¥–ª—è —á—Ç–µ–Ω–∏—è –≤—Ç–æ—Ä–æ–≥–æ —Ñ–∞–π–ª–∞
    return fs.readFile('file2.txt', 'utf8');
  })
  .then((data2) =&gt; {
    console.log('–§–∞–π–ª 2:', data2);
    return fs.readFile('file3.txt', 'utf8');
  })
  .then((data3) =&gt; {
    console.log('–§–∞–π–ª 3:', data3);
  })
  .catch((error) =&gt; {
    console.error('–û—à–∏–±–∫–∞ –ø—Ä–∏ —á—Ç–µ–Ω–∏–∏ —Ñ–∞–π–ª–æ–≤:', error);
  });
</code></pre>
<p><strong>–ü—Ä–æ–±–ª–µ–º–∞:</strong> –ü—Ä–∏ —Ç–∞–∫–æ–º –ø–æ–¥—Ö–æ–¥–µ –≤—Å–µ –æ—à–∏–±–∫–∏ –ø–æ–ø–∞–¥—É—Ç –≤ –æ–¥–∏–Ω <code>.catch()</code>, –∏ –º—ã –Ω–µ —Å–º–æ–∂–µ–º —Ç–æ—á–Ω–æ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å, –Ω–∞ –∫–∞–∫–æ–º —Ñ–∞–π–ª–µ –ø—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞.</p>
<h3 id="–û–±—Ä–∞–±–æ—Ç–∫–∞-–æ—à–∏–±–æ–∫-–¥–ª—è-–∫–∞–∂–¥–æ–≥–æ-—Ñ–∞–π–ª–∞-–æ—Ç–¥–µ–ª—å–Ω–æ"><a class="header" href="#–û–±—Ä–∞–±–æ—Ç–∫–∞-–æ—à–∏–±–æ–∫-–¥–ª—è-–∫–∞–∂–¥–æ–≥–æ-—Ñ–∞–π–ª–∞-–æ—Ç–¥–µ–ª—å–Ω–æ">–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ñ–∞–π–ª–∞ –æ—Ç–¥–µ–ª—å–Ω–æ</a></h3>
<pre><code class="language-javascript">const fs = require('fs').promises;

fs.readFile('file1.txt', 'utf8')
  .then(
    (data) =&gt; {
      console.log('–§–∞–π–ª 1:', data);
      return fs.readFile('file2.txt', 'utf8');
    },
    (err1) =&gt; {
      console.error('–û—à–∏–±–∫–∞ —á—Ç–µ–Ω–∏—è file1.txt:', err1);
      // –ú–æ–∂–Ω–æ –≤–µ—Ä–Ω—É—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –∏–ª–∏ –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å —Ü–µ–ø–æ—á–∫—É
      throw err1; // –ò–ª–∏ –ø—Ä–æ–±—Ä–æ—Å–∏—Ç—å –æ—à–∏–±–∫—É –¥–∞–ª—å—à–µ
    }
  )
  .then(
    (data) =&gt; {
      console.log('–§–∞–π–ª 2:', data);
      return fs.readFile('file3.txt', 'utf8');
    },
    (err2) =&gt; {
      console.error('–û—à–∏–±–∫–∞ —á—Ç–µ–Ω–∏—è file2.txt:', err2);
    }
  )
  .then(
    (data) =&gt; {
      console.log('–§–∞–π–ª 3:', data);
    },
    (err3) =&gt; {
      console.error('–û—à–∏–±–∫–∞ —á—Ç–µ–Ω–∏—è file3.txt:', err3);
    }
  );
</code></pre>
<p><strong>–í–∞–∂–Ω–æ –ø–æ–Ω–∏–º–∞—Ç—å:</strong> –í —Ü–µ–ø–æ—á–∫–µ –ø—Ä–æ–º–∏—Å–æ–≤ –æ—à–∏–±–∫–∞ –æ—Ç –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –ø—Ä–æ–º–∏—Å–∞ –ø–æ–ø–∞–¥–∞–µ—Ç –≤ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –æ—à–∏–±–æ–∫ (–≤—Ç–æ—Ä–æ–π –∞—Ä–≥—É–º–µ–Ω—Ç <code>.then()</code> –∏–ª–∏ <code>.catch()</code>), –∫–æ—Ç–æ—Ä—ã–π –∏–¥–µ—Ç –Ω–µ–ø–æ—Å—Ä–µ–¥—Å—Ç–≤–µ–Ω–Ω–æ –ø–æ—Å–ª–µ —ç—Ç–æ–≥–æ –ø—Ä–æ–º–∏—Å–∞.</p>
<hr />
<h2 id="–°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ-–º–µ—Ç–æ–¥—ã-–∫–ª–∞—Å—Å–∞-promise"><a class="header" href="#–°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ-–º–µ—Ç–æ–¥—ã-–∫–ª–∞—Å—Å–∞-promise">–°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ –º–µ—Ç–æ–¥—ã –∫–ª–∞—Å—Å–∞ Promise</a></h2>
<h3 id="promiseresolve"><a class="header" href="#promiseresolve">Promise.resolve()</a></h3>
<p>–°–æ–∑–¥–∞–µ—Ç –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ —Ä–∞–∑—Ä–µ—à–µ–Ω–Ω—ã–π –ø—Ä–æ–º–∏—Å —Å —É–∫–∞–∑–∞–Ω–Ω—ã–º –∑–Ω–∞—á–µ–Ω–∏–µ–º.</p>
<pre><code class="language-javascript">const promise1 = Promise.resolve(42);

promise1.then((value) =&gt; {
  console.log(value); // 42
});

// –≠–∫–≤–∏–≤–∞–ª–µ–Ω—Ç–Ω–æ:
const promise2 = new Promise((resolve) =&gt; {
  resolve(42);
});
</code></pre>
<h3 id="promisereject"><a class="header" href="#promisereject">Promise.reject()</a></h3>
<p>–°–æ–∑–¥–∞–µ—Ç –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ –æ—Ç–∫–ª–æ–Ω–µ–Ω–Ω—ã–π –ø—Ä–æ–º–∏—Å —Å —É–∫–∞–∑–∞–Ω–Ω–æ–π –æ—à–∏–±–∫–æ–π.</p>
<pre><code class="language-javascript">const errorPromise = Promise.reject(new Error('–ß—Ç–æ-—Ç–æ –ø–æ—à–ª–æ –Ω–µ —Ç–∞–∫'));

errorPromise.catch((error) =&gt; {
  console.error(error); // Error: –ß—Ç–æ-—Ç–æ –ø–æ—à–ª–æ –Ω–µ —Ç–∞–∫
});

// –≠–∫–≤–∏–≤–∞–ª–µ–Ω—Ç–Ω–æ:
const errorPromise2 = new Promise((resolve, reject) =&gt; {
  reject(new Error('–ß—Ç–æ-—Ç–æ –ø–æ—à–ª–æ –Ω–µ —Ç–∞–∫'));
});
</code></pre>
<h3 id="promiseall"><a class="header" href="#promiseall">Promise.all()</a></h3>
<p>–û–∂–∏–¥–∞–µ—Ç –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è <strong>–≤—Å–µ—Ö</strong> –ø—Ä–æ–º–∏—Å–æ–≤ –≤ –º–∞—Å—Å–∏–≤–µ. –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –º–∞—Å—Å–∏–≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –≤ —Ç–æ–º –∂–µ –ø–æ—Ä—è–¥–∫–µ, —á—Ç–æ –∏ –≤—Ö–æ–¥–Ω—ã–µ –ø—Ä–æ–º–∏—Å—ã.</p>
<pre><code class="language-javascript">const promise1 = fetch('http://localhost:1000/person');
const promise2 = fetch('http://localhost:1000/company');
const promise3 = fetch('http://localhost:1000/city');

Promise.all([promise1, promise2, promise3])
  .then((values) =&gt; {
    console.log('–í—Å–µ –∑–∞–ø—Ä–æ—Å—ã –≤—ã–ø–æ–ª–Ω–µ–Ω—ã:', values);
    // values - —ç—Ç–æ –º–∞—Å—Å–∏–≤ [response1, response2, response3]
    // –ü–æ—Ä—è–¥–æ–∫ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –ø–æ—Ä—è–¥–∫—É –ø—Ä–æ–º–∏—Å–æ–≤ –≤ –º–∞—Å—Å–∏–≤–µ
    const [personData, companyData, cityData] = values;
  })
  .catch((error) =&gt; {
    console.error('–û—à–∏–±–∫–∞ –≤ –æ–¥–Ω–æ–º –∏–∑ –∑–∞–ø—Ä–æ—Å–æ–≤:', error);
    // –ï—Å–ª–∏ —Ö–æ—Ç—å –æ–¥–∏–Ω –ø—Ä–æ–º–∏—Å –æ—Ç–∫–ª–æ–Ω–µ–Ω, –≤–µ—Å—å Promise.all –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è —Å –æ—à–∏–±–∫–æ–π
  });
</code></pre>
<p><strong>–í–∞–∂–Ω—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ Promise.all():</strong></p>
<ul>
<li>–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –º–∞—Å—Å–∏–≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –≤ —Ç–æ–º –∂–µ –ø–æ—Ä—è–¥–∫–µ, —á—Ç–æ –∏ –ø—Ä–æ–º–∏—Å—ã</li>
<li>–ï—Å–ª–∏ <strong>—Ö–æ—Ç—è –±—ã –æ–¥–∏–Ω</strong> –ø—Ä–æ–º–∏—Å –æ—Ç–∫–ª–æ–Ω–µ–Ω, –≤–µ—Å—å <code>Promise.all()</code> –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è —Å –æ—à–∏–±–∫–æ–π</li>
<li>–ù–µ–≤–æ–∑–º–æ–∂–Ω–æ —Ç–æ—á–Ω–æ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å, –∫–∞–∫–æ–π –∏–º–µ–Ω–Ω–æ –ø—Ä–æ–º–∏—Å –≤—ã–∑–≤–∞–ª –æ—à–∏–±–∫—É</li>
<li>–í—Å–µ –ø—Ä–æ–º–∏—Å—ã –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è <strong>–ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ</strong></li>
</ul>
<h3 id="promiseallsettled"><a class="header" href="#promiseallsettled">Promise.allSettled()</a></h3>
<p>–ñ–¥–µ—Ç –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è <strong>–≤—Å–µ—Ö</strong> –ø—Ä–æ–º–∏—Å–æ–≤ (—É—Å–ø–µ—à–Ω—ã—Ö –∏–ª–∏ –Ω–µ—Ç) –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –º–∞—Å—Å–∏–≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ —Å—Ç–∞—Ç—É—Å–µ –∫–∞–∂–¥–æ–≥–æ.</p>
<pre><code class="language-javascript">const promise1 = fetch('http://localhost:1000/person');
const promise2 = fetch('http://localhost:1000/company');
const promise3 = fetch('http://localhost:1000/city');

Promise.allSettled([promise1, promise2, promise3])
  .then((results) =&gt; {
    console.log('–í—Å–µ –ø—Ä–æ–º–∏—Å—ã –∑–∞–≤–µ—Ä—à–µ–Ω—ã:', results);

    results.forEach((result, index) =&gt; {
      if (result.status === 'fulfilled') {
        console.log(`–ü—Ä–æ–º–∏—Å ${index} —É—Å–ø–µ—à–µ–Ω:`, result.value);
      } else {
        console.log(`–ü—Ä–æ–º–∏—Å ${index} –æ—Ç–∫–ª–æ–Ω–µ–Ω:`, result.reason);
      }
    });
  });

// –ü—Ä–∏–º–µ—Ä —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞:
// [
//   { status: 'fulfilled', value: Response {...} },
//   { status: 'rejected', reason: Error: Network error },
//   { status: 'fulfilled', value: Response {...} }
// ]
</code></pre>
<p><strong>–°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞:</strong></p>
<pre><code class="language-javascript">// –î–ª—è —É—Å–ø–µ—à–Ω–æ–≥–æ –ø—Ä–æ–º–∏—Å–∞:
{ status: 'fulfilled', value: /* —Ä–µ–∑—É–ª—å—Ç–∞—Ç */ }

// –î–ª—è –æ—Ç–∫–ª–æ–Ω–µ–Ω–Ω–æ–≥–æ –ø—Ä–æ–º–∏—Å–∞:
{ status: 'rejected', reason: /* –æ—à–∏–±–∫–∞ */ }
</code></pre>
<p><strong>–û—Ç–ª–∏—á–∏—è –æ—Ç Promise.all():</strong></p>
<ul>
<li>–ù–µ –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è –ø—Ä–∏ –ø–µ—Ä–≤–æ–π –æ—à–∏–±–∫–µ</li>
<li>–í—Å–µ–≥–¥–∞ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è —É—Å–ø–µ—à–Ω–æ (–ø–æ–ø–∞–¥–∞–µ—Ç –≤ <code>.then()</code>, –∞ –Ω–µ –≤ <code>.catch()</code>)</li>
<li>–ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –ø–æ–¥—Ä–æ–±–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –∫–∞–∂–¥–æ–º –ø—Ä–æ–º–∏—Å–µ</li>
<li>–ò–¥–µ–∞–ª–µ–Ω –¥–ª—è —Å–∏—Ç—É–∞—Ü–∏–π, –∫–æ–≥–¥–∞ –Ω—É–∂–Ω—ã —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π, –¥–∞–∂–µ –µ—Å–ª–∏ –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –Ω–µ —É–¥–∞–ª–∏—Å—å</li>
</ul>
<h3 id="promiserace"><a class="header" href="#promiserace">Promise.race()</a></h3>
<p>–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç <strong>–ø–µ—Ä–≤–æ–≥–æ –∑–∞–≤–µ—Ä—à–µ–Ω–Ω–æ–≥–æ</strong> –ø—Ä–æ–º–∏—Å–∞ (—É—Å–ø–µ—à–Ω–æ–≥–æ –∏–ª–∏ —Å –æ—à–∏–±–∫–æ–π).</p>
<pre><code class="language-javascript">const promise1 = fetch('http://api1.example.com/currency');
const promise2 = fetch('http://api2.example.com/currency');
const promise3 = fetch('http://api3.example.com/currency');

Promise.race([promise1, promise2, promise3])
  .then((result) =&gt; {
    console.log('–ü–µ—Ä–≤—ã–π –æ—Ç–≤–µ—Ç–∏–≤—à–∏–π —Å–µ—Ä–≤–µ—Ä:', result);
  })
  .catch((error) =&gt; {
    console.error('–ü–µ—Ä–≤—ã–π –ø—Ä–æ–º–∏—Å –∑–∞–≤–µ—Ä—à–∏–ª—Å—è —Å –æ—à–∏–±–∫–æ–π:', error);
  });
</code></pre>
<p><strong>–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ Promise.race():</strong></p>
<ul>
<li>–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç –ø–µ—Ä–≤–æ–≥–æ <strong>–ª—é–±–æ–≥–æ</strong> –∑–∞–≤–µ—Ä—à–µ–Ω–Ω–æ–≥–æ –ø—Ä–æ–º–∏—Å–∞</li>
<li>–ï—Å–ª–∏ –ø–µ—Ä–≤—ã–π –ø—Ä–æ–º–∏—Å –æ—Ç–∫–ª–æ–Ω–µ–Ω, –≤–µ—Å—å <code>Promise.race()</code> –æ—Ç–∫–ª–æ–Ω—è–µ—Ç—Å—è</li>
<li>–ü–æ–ª–µ–∑–Ω–æ –¥–ª—è —Ç–∞–π–º–∞—É—Ç–æ–≤ –∏–ª–∏ –≤—ã–±–æ—Ä–∞ —Å–∞–º–æ–≥–æ –±—ã—Å—Ç—Ä–æ–≥–æ –∏—Å—Ç–æ—á–Ω–∏–∫–∞ –¥–∞–Ω–Ω—ã—Ö</li>
</ul>
<h4 id="–ü—Ä–∏–º–µ—Ä-—Å-—Ç–∞–π–º–∞—É—Ç–æ–º"><a class="header" href="#–ü—Ä–∏–º–µ—Ä-—Å-—Ç–∞–π–º–∞—É—Ç–æ–º">–ü—Ä–∏–º–µ—Ä —Å —Ç–∞–π–º–∞—É—Ç–æ–º:</a></h4>
<pre><code class="language-javascript">const dataFetch = fetch('http://slow-api.example.com/data');
const timeout = new Promise((_, reject) =&gt; {
  setTimeout(() =&gt; reject(new Error('Timeout')), 5000);
});

Promise.race([dataFetch, timeout])
  .then((data) =&gt; console.log('–î–∞–Ω–Ω—ã–µ –ø–æ–ª—É—á–µ–Ω—ã:', data))
  .catch((error) =&gt; console.error('–û—à–∏–±–∫–∞ –∏–ª–∏ —Ç–∞–π–º–∞—É—Ç:', error));
</code></pre>
<h3 id="promiseany"><a class="header" href="#promiseany">Promise.any()</a></h3>
<p>–û–∂–∏–¥–∞–µ—Ç <strong>–ø–µ—Ä–≤–æ–≥–æ —É—Å–ø–µ—à–Ω–æ–≥–æ</strong> –ø—Ä–æ–º–∏—Å–∞. –ò–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç –æ—Ç–∫–ª–æ–Ω–µ–Ω–Ω—ã–µ –ø—Ä–æ–º–∏—Å—ã –¥–æ —Ç–µ—Ö –ø–æ—Ä, –ø–æ–∫–∞ –Ω–µ –Ω–∞–π–¥–µ—Ç —É—Å–ø–µ—à–Ω—ã–π.</p>
<pre><code class="language-javascript">const promise1 = fetch('http://api1.example.com/currency'); // –ú–æ–∂–µ—Ç —É–ø–∞—Å—Ç—å
const promise2 = fetch('http://api2.example.com/currency'); // –ú–æ–∂–µ—Ç —É–ø–∞—Å—Ç—å
const promise3 = fetch('http://api3.example.com/currency'); // –ú–æ–∂–µ—Ç —É–ø–∞—Å—Ç—å

Promise.any([promise1, promise2, promise3])
  .then((result) =&gt; {
    console.log('–ü–µ—Ä–≤—ã–π —É—Å–ø–µ—à–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:', result);
  })
  .catch((error) =&gt; {
    console.error('–í—Å–µ –ø—Ä–æ–º–∏—Å—ã –æ—Ç–∫–ª–æ–Ω–µ–Ω—ã:', error);
    // AggregateError: All promises were rejected
  });
</code></pre>
<p><strong>–ö–ª—é—á–µ–≤—ã–µ –æ—Ç–ª–∏—á–∏—è Promise.any() –æ—Ç Promise.race():</strong></p>
<div class="table-wrapper"><table><thead><tr><th>–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞</th><th>Promise.race()</th><th>Promise.any()</th></tr></thead><tbody>
<tr><td>–ß—Ç–æ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç</td><td>–ü–µ—Ä–≤—ã–π <strong>–ª—é–±–æ–π</strong> —Ä–µ–∑—É–ª—å—Ç–∞—Ç</td><td>–ü–µ—Ä–≤—ã–π <strong>—É—Å–ø–µ—à–Ω—ã–π</strong> —Ä–µ–∑—É–ª—å—Ç–∞—Ç</td></tr>
<tr><td>–ü—Ä–∏ –ø–µ—Ä–≤–æ–π –æ—à–∏–±–∫–µ</td><td>–û—Ç–∫–ª–æ–Ω—è–µ—Ç—Å—è —Å—Ä–∞–∑—É</td><td>–ü—Ä–æ–¥–æ–ª–∂–∞–µ—Ç –∂–¥–∞—Ç—å —É—Å–ø–µ—à–Ω—ã—Ö</td></tr>
<tr><td>–ö–æ–≥–¥–∞ –æ—Ç–∫–ª–æ–Ω—è–µ—Ç—Å—è</td><td>–ü—Ä–∏ –ø–µ—Ä–≤–æ–º –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏–∏</td><td>–ö–æ–≥–¥–∞ <strong>–≤—Å–µ</strong> –ø—Ä–æ–º–∏—Å—ã –æ—Ç–∫–ª–æ–Ω–µ–Ω—ã</td></tr>
<tr><td>–¢–∏–ø –æ—à–∏–±–∫–∏</td><td>–û—à–∏–±–∫–∞ –æ—Ç –ø—Ä–æ–º–∏—Å–∞</td><td>AggregateError</td></tr>
</tbody></table>
</div>
<p><strong>–ü—Ä–∏–º–µ—Ä —Å—Ä–∞–≤–Ω–µ–Ω–∏—è:</strong></p>
<pre><code class="language-javascript">const fast_fail = Promise.reject('–ë—ã—Å—Ç—Ä–∞—è –æ—à–∏–±–∫–∞');
const slow_success = new Promise((resolve) =&gt; {
  setTimeout(() =&gt; resolve('–ú–µ–¥–ª–µ–Ω–Ω—ã–π —É—Å–ø–µ—Ö'), 1000);
});

// Promise.race() - –≤–µ—Ä–Ω–µ—Ç –æ—à–∏–±–∫—É —Å—Ä–∞–∑—É
Promise.race([fast_fail, slow_success])
  .then((result) =&gt; console.log('Race —É—Å–ø–µ—Ö:', result))
  .catch((error) =&gt; console.error('Race –æ—à–∏–±–∫–∞:', error));
  // –í—ã–≤–æ–¥: Race –æ—à–∏–±–∫–∞: –ë—ã—Å—Ç—Ä–∞—è –æ—à–∏–±–∫–∞

// Promise.any() - –¥–æ–∂–¥–µ—Ç—Å—è —É—Å–ø–µ—à–Ω–æ–≥–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞
Promise.any([fast_fail, slow_success])
  .then((result) =&gt; console.log('Any —É—Å–ø–µ—Ö:', result))
  .catch((error) =&gt; console.error('Any –æ—à–∏–±–∫–∞:', error));
  // –í—ã–≤–æ–¥ (—á–µ—Ä–µ–∑ 1 —Å–µ–∫): Any —É—Å–ø–µ—Ö: –ú–µ–¥–ª–µ–Ω–Ω—ã–π —É—Å–ø–µ—Ö
</code></pre>
<p><strong>–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ Promise.any():</strong></p>
<ul>
<li>–ó–∞–ø—Ä–æ—Å—ã –∫ –Ω–µ—Å–∫–æ–ª—å–∫–∏–º –∑–µ—Ä–∫–∞–ª–∞–º API</li>
<li>–ü–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –∏–∑ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ (–∫—É—Ä—Å –≤–∞–ª—é—Ç, –ø–æ–≥–æ–¥–∞)</li>
<li>Fallback —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ –ø—Ä–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞</li>
</ul>
<hr />
<h2 id="–û–±—Ä–∞–±–æ—Ç–∫–∞-–æ—à–∏–±–æ–∫"><a class="header" href="#–û–±—Ä–∞–±–æ—Ç–∫–∞-–æ—à–∏–±–æ–∫">–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫</a></h2>
<h3 id="–¶–µ–ø–æ—á–∫–∞-–æ–±—Ä–∞–±–æ—Ç–∫–∏-–æ—à–∏–±–æ–∫"><a class="header" href="#–¶–µ–ø–æ—á–∫–∞-–æ–±—Ä–∞–±–æ—Ç–∫–∏-–æ—à–∏–±–æ–∫">–¶–µ–ø–æ—á–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫</a></h3>
<pre><code class="language-javascript">Promise.resolve('–ù–∞—á–∞–ª–æ')
  .then((value) =&gt; {
    console.log(value);
    throw new Error('–û—à–∏–±–∫–∞ –≤ –ø–µ—Ä–≤–æ–º then');
  })
  .catch((error) =&gt; {
    console.error('–ü–µ—Ä–≤—ã–π catch:', error);
    return '–í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ';
  })
  .then((value) =&gt; {
    console.log('–ü–æ—Å–ª–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è:', value);
    throw new Error('–í—Ç–æ—Ä–∞—è –æ—à–∏–±–∫–∞');
  })
  .catch((error) =&gt; {
    console.error('–í—Ç–æ—Ä–æ–π catch:', error);
  });
</code></pre>
<h3 id="–ü—Ä–æ–±—Ä–æ—Å-–æ—à–∏–±–æ–∫"><a class="header" href="#–ü—Ä–æ–±—Ä–æ—Å-–æ—à–∏–±–æ–∫">–ü—Ä–æ–±—Ä–æ—Å –æ—à–∏–±–æ–∫</a></h3>
<pre><code class="language-javascript">fetchUser(userId)
  .then((user) =&gt; {
    if (!user.active) {
      throw new Error('–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ–∞–∫—Ç–∏–≤–µ–Ω');
    }
    return user;
  })
  .then((user) =&gt; fetchUserPosts(user.id))
  .catch((error) =&gt; {
    // –û–±—Ä–∞–±–æ—Ç–∫–∞ –∏ –ø–æ–≤—Ç–æ—Ä–Ω—ã–π –ø—Ä–æ–±—Ä–æ—Å
    console.error('–û—à–∏–±–∫–∞:', error);
    throw error; // –ü—Ä–æ–±—Ä–æ—Å –æ—à–∏–±–∫–∏ –¥–∞–ª—å—à–µ –ø–æ —Ü–µ–ø–æ—á–∫–µ
  })
  .then((posts) =&gt; {
    // –ù–µ –≤—ã–ø–æ–ª–Ω–∏—Ç—Å—è –∏–∑-–∑–∞ –æ—à–∏–±–∫–∏ –≤—ã—à–µ
    console.log('–ü–æ—Å—Ç—ã:', posts);
  })
  .catch((error) =&gt; {
    // –§–∏–Ω–∞–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–∫–∏
    console.error('–§–∏–Ω–∞–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞:', error);
  });
</code></pre>
<h3 id="–ü–æ—Ç–æ–∫-—É–ø—Ä–∞–≤–ª–µ–Ω–∏—è-–≤-–ø—Ä–æ–º–∏—Å–∞—Ö"><a class="header" href="#–ü–æ—Ç–æ–∫-—É–ø—Ä–∞–≤–ª–µ–Ω–∏—è-–≤-–ø—Ä–æ–º–∏—Å–∞—Ö">–ü–æ—Ç–æ–∫ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤ –ø—Ä–æ–º–∏—Å–∞—Ö</a></h3>
<pre><code class="language-javascript">// –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –ø–æ—Ç–æ–∫–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
Promise.resolve('–°—Ç–∞—Ä—Ç')
  .then(onSuccess1, onError1)  // ‚Üê –£—Å–ø–µ—Ö –∏–¥–µ—Ç —Å—é–¥–∞
  .then(onSuccess2, onError2)  // ‚Üê –†–µ–∑—É–ª—å—Ç–∞—Ç onSuccess1 –∏–ª–∏ onError1
  .catch(onError3)             // ‚Üê –û—à–∏–±–∫–∏ –∏–∑ onSuccess2
  .finally(cleanup);           // ‚Üê –í—ã–ø–æ–ª–Ω–∏—Ç—Å—è –≤—Å–µ–≥–¥–∞
</code></pre>
<p><strong>–í–∞–∂–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞:</strong></p>
<ol>
<li>–û—à–∏–±–∫–∞ –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è –≤ –±–ª–∏–∂–∞–π—à–∏–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –æ—à–∏–±–æ–∫ (–≤—Ç–æ—Ä–æ–π –∞—Ä–≥—É–º–µ–Ω—Ç <code>.then()</code> –∏–ª–∏ <code>.catch()</code>)</li>
<li>–ï—Å–ª–∏ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞ –æ—à–∏–±–æ–∫ –Ω–µ—Ç, –æ—à–∏–±–∫–∞ –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è –¥–∞–ª—å—à–µ –ø–æ —Ü–µ–ø–æ—á–∫–µ</li>
<li>–í–æ–∑–≤—Ä–∞—Ç –∑–Ω–∞—á–µ–Ω–∏—è –∏–∑ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞ –æ—à–∏–±–æ–∫ "–≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç" –ø—Ä–æ–º–∏—Å (–¥–∞–ª—å—à–µ –∏–¥—É—Ç —É—Å–ø–µ—à–Ω—ã–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏)</li>
<li>–ü–æ–≤—Ç–æ—Ä–Ω—ã–π <code>throw</code> –≤ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–µ –æ—à–∏–±–æ–∫ –ø–µ—Ä–µ–¥–∞–µ—Ç –æ—à–∏–±–∫—É –¥–∞–ª—å—à–µ</li>
</ol>
<hr />
<h2 id="best-practices-–∏-–≤–∞–∂–Ω—ã–µ-–º–æ–º–µ–Ω—Ç—ã"><a class="header" href="#best-practices-–∏-–≤–∞–∂–Ω—ã–µ-–º–æ–º–µ–Ω—Ç—ã">Best Practices –∏ –≤–∞–∂–Ω—ã–µ –º–æ–º–µ–Ω—Ç—ã</a></h2>
<h3 id="1-–í—Å–µ–≥–¥–∞-–æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–π—Ç–µ-–æ—à–∏–±–∫–∏"><a class="header" href="#1-–í—Å–µ–≥–¥–∞-–æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–π—Ç–µ-–æ—à–∏–±–∫–∏">1. –í—Å–µ–≥–¥–∞ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–π—Ç–µ –æ—à–∏–±–∫–∏</a></h3>
<pre><code class="language-javascript">// –ü–ª–æ—Ö–æ - –Ω–µ–æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω–æ–µ –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏–µ –ø—Ä–æ–º–∏—Å–∞
fetchData().then(processData);

// –•–æ—Ä–æ—à–æ
fetchData()
  .then(processData)
  .catch(handleError);
</code></pre>
<h3 id="2-–í–æ–∑–≤—Ä–∞—â–∞–π—Ç–µ-–ø—Ä–æ–º–∏—Å—ã-–∏–∑-then"><a class="header" href="#2-–í–æ–∑–≤—Ä–∞—â–∞–π—Ç–µ-–ø—Ä–æ–º–∏—Å—ã-–∏–∑-then">2. –í–æ–∑–≤—Ä–∞—â–∞–π—Ç–µ –ø—Ä–æ–º–∏—Å—ã –∏–∑ .then()</a></h3>
<pre><code class="language-javascript">// –ü–ª–æ—Ö–æ - –≤–ª–æ–∂–µ–Ω–Ω—ã–µ –ø—Ä–æ–º–∏—Å—ã
fetchUser().then((user) =&gt; {
  fetchPosts(user.id).then((posts) =&gt; {
    console.log(posts);
  });
});

// –•–æ—Ä–æ—à–æ - —Ü–µ–ø–æ—á–∫–∞
fetchUser()
  .then((user) =&gt; fetchPosts(user.id))
  .then((posts) =&gt; console.log(posts))
  .catch(handleError);
</code></pre>
<h3 id="3-–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ-promiseall-–¥–ª—è-–ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã—Ö-–æ–ø–µ—Ä–∞—Ü–∏–π"><a class="header" href="#3-–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ-promiseall-–¥–ª—è-–ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã—Ö-–æ–ø–µ—Ä–∞—Ü–∏–π">3. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Promise.all() –¥–ª—è –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π</a></h3>
<pre><code class="language-javascript">// –ü–ª–æ—Ö–æ - –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ (–º–µ–¥–ª–µ–Ω–Ω–æ)
fetchUser()
  .then((user) =&gt; fetchPosts())
  .then((posts) =&gt; fetchComments());

// –•–æ—Ä–æ—à–æ - –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ (–±—ã—Å—Ç—Ä–æ)
Promise.all([
  fetchUser(),
  fetchPosts(),
  fetchComments()
]).then(([user, posts, comments]) =&gt; {
  console.log(user, posts, comments);
});
</code></pre>
<h3 id="4-–ù–µ-–∑–∞–±—ã–≤–∞–π—Ç–µ-–ø—Ä–æ-finally"><a class="header" href="#4-–ù–µ-–∑–∞–±—ã–≤–∞–π—Ç–µ-–ø—Ä–æ-finally">4. –ù–µ –∑–∞–±—ã–≤–∞–π—Ç–µ –ø—Ä–æ .finally()</a></h3>
<pre><code class="language-javascript">showLoader();

fetchData()
  .then(processData)
  .catch(handleError)
  .finally(() =&gt; {
    hideLoader(); // –í—ã–ø–æ–ª–Ω–∏—Ç—Å—è –≤—Å–µ–≥–¥–∞
  });
</code></pre>
<h3 id="5-–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ-–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π-—Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π-–º–µ—Ç–æ–¥"><a class="header" href="#5-–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ-–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π-—Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π-–º–µ—Ç–æ–¥">5. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π –º–µ—Ç–æ–¥</a></h3>
<pre><code class="language-javascript">// –ö–æ–≥–¥–∞ –Ω—É–∂–Ω—ã –í–°–ï —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –∏ –∫—Ä–∏—Ç–∏—á–Ω–∞ –ª—é–±–∞—è –æ—à–∏–±–∫–∞
Promise.all([...]);

// –ö–æ–≥–¥–∞ –Ω—É–∂–Ω—ã –≤—Å–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã, –Ω–æ –æ—à–∏–±–∫–∏ –Ω–µ –∫—Ä–∏—Ç–∏—á–Ω—ã
Promise.allSettled([...]);

// –ö–æ–≥–¥–∞ –Ω—É–∂–µ–Ω –ø–µ—Ä–≤—ã–π –õ–Æ–ë–û–ô —Ä–µ–∑—É–ª—å—Ç–∞—Ç
Promise.race([...]);

// –ö–æ–≥–¥–∞ –Ω—É–∂–µ–Ω –ø–µ—Ä–≤—ã–π –£–°–ü–ï–®–ù–´–ô —Ä–µ–∑—É–ª—å—Ç–∞—Ç
Promise.any([...]);
</code></pre>
<h3 id="6-–ò–∑–±–µ–≥–∞–π—Ç–µ-–∑–∞–≥–ª—É—à–µ–∫-–≤-reject"><a class="header" href="#6-–ò–∑–±–µ–≥–∞–π—Ç–µ-–∑–∞–≥–ª—É—à–µ–∫-–≤-reject">6. –ò–∑–±–µ–≥–∞–π—Ç–µ "–∑–∞–≥–ª—É—à–µ–∫" –≤ reject</a></h3>
<pre><code class="language-javascript">// –ü–ª–æ—Ö–æ
new Promise((resolve, reject) =&gt; {
  if (error) reject(); // undefined
});

// –•–æ—Ä–æ—à–æ
new Promise((resolve, reject) =&gt; {
  if (error) reject(new Error('–û–ø–∏—Å–∞–Ω–∏–µ –æ—à–∏–±–∫–∏'));
});
</code></pre>
<h3 id="7-–ü–æ–Ω–∏–º–∞–π—Ç–µ-—Ä–∞–∑–Ω–∏—Ü—É-–º–µ–∂–¥—É-–≤—Ç–æ—Ä—ã–º-–∞—Ä–≥—É–º–µ–Ω—Ç–æ–º-then-–∏-catch"><a class="header" href="#7-–ü–æ–Ω–∏–º–∞–π—Ç–µ-—Ä–∞–∑–Ω–∏—Ü—É-–º–µ–∂–¥—É-–≤—Ç–æ—Ä—ã–º-–∞—Ä–≥—É–º–µ–Ω—Ç–æ–º-then-–∏-catch">7. –ü–æ–Ω–∏–º–∞–π—Ç–µ —Ä–∞–∑–Ω–∏—Ü—É –º–µ–∂–¥—É –≤—Ç–æ—Ä—ã–º –∞—Ä–≥—É–º–µ–Ω—Ç–æ–º .then() –∏ .catch()</a></h3>
<pre><code class="language-javascript">promise
  .then(
    onSuccess,
    onError1  // –ù–µ –ø–æ–π–º–∞–µ—Ç –æ—à–∏–±–∫–∏ –∏–∑ onSuccess
  )
  .catch(onError2); // –ü–æ–π–º–∞–µ—Ç –æ—à–∏–±–∫–∏ –∏–∑ onSuccess

// –ü—Ä–µ–¥–ø–æ—á—Ç–∏—Ç–µ–ª—å–Ω–µ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å .catch() –¥–ª—è –ª—É—á—à–µ–π —á–∏—Ç–∞–µ–º–æ—Å—Ç–∏
promise
  .then(onSuccess)
  .catch(onError);
</code></pre>
<h3 id="8-–ú–æ–∂–Ω–æ-–ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å-—Ñ—É–Ω–∫—Ü–∏–∏-–Ω–∞–ø—Ä—è–º—É—é"><a class="header" href="#8-–ú–æ–∂–Ω–æ-–ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å-—Ñ—É–Ω–∫—Ü–∏–∏-–Ω–∞–ø—Ä—è–º—É—é">8. –ú–æ–∂–Ω–æ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏–∏ –Ω–∞–ø—Ä—è–º—É—é</a></h3>
<pre><code class="language-javascript">// –≠—Ç–∏ –≤–∞—Ä–∏–∞–Ω—Ç—ã —ç–∫–≤–∏–≤–∞–ª–µ–Ω—Ç–Ω—ã:
promise.then((x) =&gt; console.log(x));
promise.then(console.log);

// –î–ª—è –æ—à–∏–±–æ–∫:
promise.catch((err) =&gt; console.error(err));
promise.catch(console.error);
</code></pre>
<hr />
<h2 id="–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ-–ø—Ä–∏–º–µ—Ä—ã-–∏-–ø–∞—Ç—Ç–µ—Ä–Ω—ã"><a class="header" href="#–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ-–ø—Ä–∏–º–µ—Ä—ã-–∏-–ø–∞—Ç—Ç–µ—Ä–Ω—ã">–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø—Ä–∏–º–µ—Ä—ã –∏ –ø–∞—Ç—Ç–µ—Ä–Ω—ã</a></h2>
<h3 id="–ü–∞—Ç—Ç–µ—Ä–Ω-retry-–ø–æ–≤—Ç–æ—Ä–Ω–∞—è-–ø–æ–ø—ã—Ç–∫–∞"><a class="header" href="#–ü–∞—Ç—Ç–µ—Ä–Ω-retry-–ø–æ–≤—Ç–æ—Ä–Ω–∞—è-–ø–æ–ø—ã—Ç–∫–∞">–ü–∞—Ç—Ç–µ—Ä–Ω: Retry (–ø–æ–≤—Ç–æ—Ä–Ω–∞—è –ø–æ–ø—ã—Ç–∫–∞)</a></h3>
<pre><code class="language-javascript">function fetchWithRetry(url, retries = 3) {
  return fetch(url).catch((error) =&gt; {
    if (retries &gt; 0) {
      console.log(`–û—Å—Ç–∞–ª–æ—Å—å –ø–æ–ø—ã—Ç–æ–∫: ${retries}`);
      return fetchWithRetry(url, retries - 1);
    }
    throw error;
  });
}

fetchWithRetry('http://unstable-api.com/data')
  .then((data) =&gt; console.log('–î–∞–Ω–Ω—ã–µ:', data))
  .catch((error) =&gt; console.error('–ù–µ —É–¥–∞–ª–æ—Å—å –ø–æ–ª—É—á–∏—Ç—å –¥–∞–Ω–Ω—ã–µ:', error));
</code></pre>
<h3 id="–ü–∞—Ç—Ç–µ—Ä–Ω-–ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ–µ-–≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ-–∏–∑-–º–∞—Å—Å–∏–≤–∞"><a class="header" href="#–ü–∞—Ç—Ç–µ—Ä–Ω-–ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ–µ-–≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ-–∏–∑-–º–∞—Å—Å–∏–≤–∞">–ü–∞—Ç—Ç–µ—Ä–Ω: –ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∏–∑ –º–∞—Å—Å–∏–≤–∞</a></h3>
<pre><code class="language-javascript">const files = ['file1.txt', 'file2.txt', 'file3.txt'];

// –ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ–µ —á—Ç–µ–Ω–∏–µ —Ñ–∞–π–ª–æ–≤
files.reduce((promise, file) =&gt; {
  return promise.then((results) =&gt; {
    return fs.readFile(file, 'utf8').then((data) =&gt; {
      results.push(data);
      return results;
    });
  });
}, Promise.resolve([])).then((allData) =&gt; {
  console.log('–í—Å–µ —Ñ–∞–π–ª—ã –ø—Ä–æ—á–∏—Ç–∞–Ω—ã:', allData);
});
</code></pre>
<h3 id="–ü–∞—Ç—Ç–µ—Ä–Ω-–ü—Ä–æ–º–∏—Å–∏—Ñ–∏–∫–∞—Ü–∏—è-callback-—Ñ—É–Ω–∫—Ü–∏–π"><a class="header" href="#–ü–∞—Ç—Ç–µ—Ä–Ω-–ü—Ä–æ–º–∏—Å–∏—Ñ–∏–∫–∞—Ü–∏—è-callback-—Ñ—É–Ω–∫—Ü–∏–π">–ü–∞—Ç—Ç–µ—Ä–Ω: –ü—Ä–æ–º–∏—Å–∏—Ñ–∏–∫–∞—Ü–∏—è callback-—Ñ—É–Ω–∫—Ü–∏–π</a></h3>
<pre><code class="language-javascript">// –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –ø—Ä–æ–º–∏—Å–∏—Ñ–∏–∫–∞—Ü–∏–∏
function promisify(fn) {
  return function (...args) {
    return new Promise((resolve, reject) =&gt; {
      fn(...args, (err, result) =&gt; {
        if (err) reject(err);
        else resolve(result);
      });
    });
  };
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
const fs = require('fs');
const readFilePromise = promisify(fs.readFile);

readFilePromise('file.txt', 'utf8')
  .then(console.log)
  .catch(console.error);
</code></pre>
<hr />
<h2 id="–ö–ª—é—á–µ–≤—ã–µ-–≤—ã–≤–æ–¥—ã-12"><a class="header" href="#–ö–ª—é—á–µ–≤—ã–µ-–≤—ã–≤–æ–¥—ã-12">–ö–ª—é—á–µ–≤—ã–µ –≤—ã–≤–æ–¥—ã</a></h2>
<ol>
<li><strong>Promise</strong> ‚Äî —ç—Ç–æ –æ–±—ä–µ–∫—Ç –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–º–∏ –æ–ø–µ—Ä–∞—Ü–∏—è–º–∏</li>
<li>–ü—Ä–æ–º–∏—Å –∏–º–µ–µ—Ç <strong>—Ç—Ä–∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è</strong>: pending, fulfilled, rejected</li>
<li><strong>–ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä</strong> –ø—Ä–∏–Ω–∏–º–∞–µ—Ç —Ñ—É–Ω–∫—Ü–∏—é —Å <code>resolve</code> –∏ <code>reject</code></li>
<li><strong>–ú–µ—Ç–æ–¥—ã —ç–∫–∑–µ–º–ø–ª—è—Ä–∞</strong>: <code>.then()</code>, <code>.catch()</code>, <code>.finally()</code></li>
<li><strong>–°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ –º–µ—Ç–æ–¥—ã</strong>: <code>.resolve()</code>, <code>.reject()</code>, <code>.all()</code>, <code>.allSettled()</code>, <code>.race()</code>, <code>.any()</code></li>
<li>–ü—Ä–æ–º–∏—Å—ã –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç <strong>—Ü–µ–ø–æ—á–∫–∏ –≤—ã–∑–æ–≤–æ–≤</strong> –¥–ª—è –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π</li>
<li>–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –∏–¥–µ—Ç –ø–æ —Ü–µ–ø–æ—á–∫–µ –¥–æ –±–ª–∏–∂–∞–π—à–µ–≥–æ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞</li>
<li>–í—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ <code>.catch()</code> –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫</li>
<li>–í—ã–±–∏—Ä–∞–π—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π –º–µ—Ç–æ–¥ –¥–ª—è –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π</li>
</ol>
<hr />
<h2 id="–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ-–∑–∞–¥–∞–Ω–∏—è-–¥–ª—è-–∑–∞–∫—Ä–µ–ø–ª–µ–Ω–∏—è"><a class="header" href="#–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ-–∑–∞–¥–∞–Ω–∏—è-–¥–ª—è-–∑–∞–∫—Ä–µ–ø–ª–µ–Ω–∏—è">–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –∑–∞–¥–∞–Ω–∏—è –¥–ª—è –∑–∞–∫—Ä–µ–ø–ª–µ–Ω–∏—è</a></h2>
<h3 id="–ó–∞–¥–∞–Ω–∏–µ-1-–ë–∞–∑–æ–≤–∞—è-—Ä–∞–±–æ—Ç–∞-—Å-–ø—Ä–æ–º–∏—Å–∞–º–∏"><a class="header" href="#–ó–∞–¥–∞–Ω–∏–µ-1-–ë–∞–∑–æ–≤–∞—è-—Ä–∞–±–æ—Ç–∞-—Å-–ø—Ä–æ–º–∏—Å–∞–º–∏">–ó–∞–¥–∞–Ω–∏–µ 1: –ë–∞–∑–æ–≤–∞—è —Ä–∞–±–æ—Ç–∞ —Å –ø—Ä–æ–º–∏—Å–∞–º–∏</a></h3>
<p>–°–æ–∑–¥–∞–π—Ç–µ –ø—Ä–æ–º–∏—Å, –∫–æ—Ç–æ—Ä—ã–π —Ä–∞–∑—Ä–µ—à–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ 2 —Å–µ–∫—É–Ω–¥—ã —Å–æ –∑–Ω–∞—á–µ–Ω–∏–µ–º "–ì–æ—Ç–æ–≤–æ" –∏ –æ–±—Ä–∞–±–æ—Ç–∞–π—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç.</p>
<h3 id="–ó–∞–¥–∞–Ω–∏–µ-2-–¶–µ–ø–æ—á–∫–∞-–ø—Ä–æ–º–∏—Å–æ–≤"><a class="header" href="#–ó–∞–¥–∞–Ω–∏–µ-2-–¶–µ–ø–æ—á–∫–∞-–ø—Ä–æ–º–∏—Å–æ–≤">–ó–∞–¥–∞–Ω–∏–µ 2: –¶–µ–ø–æ—á–∫–∞ –ø—Ä–æ–º–∏—Å–æ–≤</a></h3>
<p>–°–æ–∑–¥–∞–π—Ç–µ —Ü–µ–ø–æ—á–∫—É –∏–∑ —Ç—Ä–µ—Ö –ø—Ä–æ–º–∏—Å–æ–≤, –≥–¥–µ –∫–∞–∂–¥—ã–π —É–º–Ω–æ–∂–∞–µ—Ç –ø—Ä–µ–¥—ã–¥—É—â–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –Ω–∞ 2, –Ω–∞—á–∏–Ω–∞—è —Å 5.</p>
<h3 id="–ó–∞–¥–∞–Ω–∏–µ-3-–û–±—Ä–∞–±–æ—Ç–∫–∞-–æ—à–∏–±–æ–∫"><a class="header" href="#–ó–∞–¥–∞–Ω–∏–µ-3-–û–±—Ä–∞–±–æ—Ç–∫–∞-–æ—à–∏–±–æ–∫">–ó–∞–¥–∞–Ω–∏–µ 3: –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫</a></h3>
<p>–°–æ–∑–¥–∞–π—Ç–µ –ø—Ä–æ–º–∏—Å, –∫–æ—Ç–æ—Ä—ã–π —Å–ª—É—á–∞–π–Ω—ã–º –æ–±—Ä–∞–∑–æ–º —Ä–∞–∑—Ä–µ—à–∞–µ—Ç—Å—è –∏–ª–∏ –æ—Ç–∫–ª–æ–Ω—è–µ—Ç—Å—è, –∏ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –æ–±—Ä–∞–±–æ—Ç–∞–π—Ç–µ –æ–±–∞ —Å–ª—É—á–∞—è.</p>
<h3 id="–ó–∞–¥–∞–Ω–∏–µ-4-promiseall"><a class="header" href="#–ó–∞–¥–∞–Ω–∏–µ-4-promiseall">–ó–∞–¥–∞–Ω–∏–µ 4: Promise.all()</a></h3>
<p>–°–æ–∑–¥–∞–π—Ç–µ —Ç—Ä–∏ –ø—Ä–æ–º–∏—Å–∞ —Å —Ä–∞–∑–Ω—ã–º –≤—Ä–µ–º–µ–Ω–µ–º –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∏ –¥–æ–∂–¥–∏—Ç–µ—Å—å –∏—Ö –≤—Å–µ—Ö —Å –ø–æ–º–æ—â—å—é <code>Promise.all()</code>.</p>
<h3 id="–ó–∞–¥–∞–Ω–∏–µ-5-–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∞—è-–∑–∞–¥–∞—á–∞"><a class="header" href="#–ó–∞–¥–∞–Ω–∏–µ-5-–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∞—è-–∑–∞–¥–∞—á–∞">–ó–∞–¥–∞–Ω–∏–µ 5: –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∞—è –∑–∞–¥–∞—á–∞</a></h3>
<p>–ü—Ä–æ–º–∏—Å–∏—Ñ–∏—Ü–∏—Ä—É–π—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é <code>setTimeout</code> –∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –µ–µ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–¥–µ—Ä–∂–µ–∫ –≤ —Ü–µ–ø–æ—á–∫–µ –æ–ø–µ—Ä–∞—Ü–∏–π.</p>
<hr />
<h2 id="–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ-—Ä–µ—Å—É—Ä—Å—ã-3"><a class="header" href="#–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ-—Ä–µ—Å—É—Ä—Å—ã-3">–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã</a></h2>
<ul>
<li><a href="https://developer.mozilla.org/ru/docs/Web/JavaScript/Reference/Global_Objects/Promise">MDN: Promise</a></li>
<li><a href="https://promisesaplus.com/">Promises/A+ —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è</a></li>
<li><a href="https://nodejs.org/api/util.html#utilpromisifyoriginal">Node.js: –ü—Ä–æ–º–∏—Å–∏—Ñ–∏–∫–∞—Ü–∏—è</a></li>
<li><a href="https://learn.javascript.ru/promise">JavaScript.info: –ü—Ä–æ–º–∏—Å—ã</a></li>
</ul>
<hr />
<p><strong>–ö–æ–Ω–µ—Ü –∫–æ–Ω—Å–ø–µ–∫—Ç–∞</strong></p>
<p><em>–ö–æ–Ω—Å–ø–µ–∫—Ç —Å–æ–∑–¥–∞–Ω –Ω–∞ –æ—Å–Ω–æ–≤–µ –ª–µ–∫—Ü–∏–∏ "Promise contract in JavaScript ‚Äî Async 2024"</em></p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="–Ø–≤–Ω–æ–µ-—É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ-—Ä–µ—Å—É—Ä—Å–∞–º–∏-–ø—Ä–∏-–ø–æ–º–æ—â–∏-using-–∏-symboldispose-–≤-javascript-typescript-nodejs"><a class="header" href="#–Ø–≤–Ω–æ–µ-—É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ-—Ä–µ—Å—É—Ä—Å–∞–º–∏-–ø—Ä–∏-–ø–æ–º–æ—â–∏-using-–∏-symboldispose-–≤-javascript-typescript-nodejs">–Ø–≤–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–∞–º–∏ –ø—Ä–∏ –ø–æ–º–æ—â–∏ Using –∏ Symbol.dispose –≤ JavaScript, TypeScript, Node.js</a></h1>
<h2 id="–û–±–∑–æ—Ä-3"><a class="header" href="#–û–±–∑–æ—Ä-3">–û–±–∑–æ—Ä</a></h2>
<p>–î–∞–Ω–Ω–∞—è –ª–µ–∫—Ü–∏—è –ø–æ—Å–≤—è—â–µ–Ω–∞ –Ω–æ–≤—ã–º –º–µ—Ö–∞–Ω–∏–∑–º–∞–º —è–≤–Ω–æ–≥–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ä–µ—Å—É—Ä—Å–∞–º–∏ –≤ JavaScript –∏ TypeScript. –û—Å–Ω–æ–≤–Ω—ã–µ —Ç–µ–º—ã –≤–∫–ª—é—á–∞—é—Ç:</p>
<ul>
<li>–ù–æ–≤—ã–µ —Å–∏–º–≤–æ–ª—ã <code>Symbol.dispose</code> –∏ <code>Symbol.asyncDispose</code></li>
<li>–ö–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ <code>using</code> –∏ <code>await using</code></li>
<li>–°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å —Ç—Ä–∞–¥–∏—Ü–∏–æ–Ω–Ω—ã–º–∏ –ø–æ–¥—Ö–æ–¥–∞–º–∏ (try/finally, Finalization Registry)</li>
<li>–°–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–µ –∏ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–µ –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤</li>
<li>–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–∏–º–µ—Ä—ã –∏ –≤–ª–æ–∂–µ–Ω–Ω—ã–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç—ã</li>
</ul>
<hr />
<h2 id="–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ-1"><a class="header" href="#–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ-1">–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ</a></h2>
<ol>
<li><a href="week2/%D0%BA%D0%BE%D0%BD%D1%81%D0%BF%D0%B5%D0%BA%D1%82-using-dispose.html#%D0%B2%D0%B2%D0%B5%D0%B4%D0%B5%D0%BD%D0%B8%D0%B5-%D0%B7%D0%B0%D1%87%D0%B5%D0%BC-%D0%BD%D1%83%D0%B6%D0%BD%D0%BE-%D1%83%D0%BF%D1%80%D0%B0%D0%B2%D0%BB%D0%B5%D0%BD%D0%B8%D0%B5-%D1%80%D0%B5%D1%81%D1%83%D1%80%D1%81%D0%B0%D0%BC%D0%B8">–í–≤–µ–¥–µ–Ω–∏–µ: –∑–∞—á–µ–º –Ω—É–∂–Ω–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–∞–º–∏</a></li>
<li><a href="week2/%D0%BA%D0%BE%D0%BD%D1%81%D0%BF%D0%B5%D0%BA%D1%82-using-dispose.html#%D1%82%D1%80%D0%B0%D0%B4%D0%B8%D1%86%D0%B8%D0%BE%D0%BD%D0%BD%D1%8B%D0%B9-%D0%BF%D0%BE%D0%B4%D1%85%D0%BE%D0%B4-tryfinally">–¢—Ä–∞–¥–∏—Ü–∏–æ–Ω–Ω—ã–π –ø–æ–¥—Ö–æ–¥: try/finally</a></li>
<li><a href="week2/%D0%BA%D0%BE%D0%BD%D1%81%D0%BF%D0%B5%D0%BA%D1%82-using-dispose.html#finalization-registry">Finalization Registry</a></li>
<li><a href="week2/%D0%BA%D0%BE%D0%BD%D1%81%D0%BF%D0%B5%D0%BA%D1%82-using-dispose.html#%D0%BD%D0%BE%D0%B2%D1%8B%D0%B9-%D0%BF%D0%BE%D0%B4%D1%85%D0%BE%D0%B4-using-%D0%B8-symboldispose">–ù–æ–≤—ã–π –ø–æ–¥—Ö–æ–¥: using –∏ Symbol.dispose</a></li>
<li><a href="week2/%D0%BA%D0%BE%D0%BD%D1%81%D0%BF%D0%B5%D0%BA%D1%82-using-dispose.html#%D0%B0%D1%81%D0%B8%D0%BD%D1%85%D1%80%D0%BE%D0%BD%D0%BD%D0%BE%D0%B5-%D0%BE%D1%81%D0%B2%D0%BE%D0%B1%D0%BE%D0%B6%D0%B4%D0%B5%D0%BD%D0%B8%D0%B5-await-using">–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–µ –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏–µ: await using</a></li>
<li><a href="week2/%D0%BA%D0%BE%D0%BD%D1%81%D0%BF%D0%B5%D0%BA%D1%82-using-dispose.html#%D1%80%D0%B0%D0%B7%D0%BB%D0%B8%D1%87%D0%B8%D1%8F-%D0%BC%D0%B5%D0%B6%D0%B4%D1%83-%D1%81%D0%B8%D0%BD%D1%85%D1%80%D0%BE%D0%BD%D0%BD%D1%8B%D0%BC-%D0%B8-%D0%B0%D1%81%D0%B8%D0%BD%D1%85%D1%80%D0%BE%D0%BD%D0%BD%D1%8B%D0%BC-dispose">–†–∞–∑–ª–∏—á–∏—è –º–µ–∂–¥—É —Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–º –∏ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–º dispose</a></li>
<li><a href="week2/%D0%BA%D0%BE%D0%BD%D1%81%D0%BF%D0%B5%D0%BA%D1%82-using-dispose.html#%D0%B2%D0%BB%D0%BE%D0%B6%D0%B5%D0%BD%D0%BD%D1%8B%D0%B5-%D0%BA%D0%BE%D0%BD%D1%82%D0%B5%D0%BA%D1%81%D1%82%D1%8B">–í–ª–æ–∂–µ–Ω–Ω—ã–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç—ã</a></li>
<li><a href="week2/%D0%BA%D0%BE%D0%BD%D1%81%D0%BF%D0%B5%D0%BA%D1%82-using-dispose.html#%D0%BF%D0%BE%D1%80%D1%8F%D0%B4%D0%BE%D0%BA-%D0%B2%D1%8B%D0%B7%D0%BE%D0%B2%D0%B0-dispose">–ü–æ—Ä—è–¥–æ–∫ –≤—ã–∑–æ–≤–∞ dispose</a></li>
<li><a href="week2/%D0%BA%D0%BE%D0%BD%D1%81%D0%BF%D0%B5%D0%BA%D1%82-using-dispose.html#%D1%80%D0%B5%D0%B7%D1%8E%D0%BC%D0%B5">–†–µ–∑—é–º–µ</a></li>
</ol>
<hr />
<h2 id="–í–≤–µ–¥–µ–Ω–∏–µ-–∑–∞—á–µ–º-–Ω—É–∂–Ω–æ-—É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ-—Ä–µ—Å—É—Ä—Å–∞–º–∏"><a class="header" href="#–í–≤–µ–¥–µ–Ω–∏–µ-–∑–∞—á–µ–º-–Ω—É–∂–Ω–æ-—É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ-—Ä–µ—Å—É—Ä—Å–∞–º–∏">–í–≤–µ–¥–µ–Ω–∏–µ: –∑–∞—á–µ–º –Ω—É–∂–Ω–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–∞–º–∏</a></h2>
<h3 id="–ü—Ä–æ–±–ª–µ–º–∞—Ç–∏–∫–∞"><a class="header" href="#–ü—Ä–æ–±–ª–µ–º–∞—Ç–∏–∫–∞">–ü—Ä–æ–±–ª–µ–º–∞—Ç–∏–∫–∞</a></h3>
<p>–ü—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å —Ä–µ—Å—É—Ä—Å–∞–º–∏ (—Ñ–∞–π–ª—ã, —Å–µ—Ç–µ–≤—ã–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è, –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö) –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –æ–±–µ—Å–ø–µ—á–∏—Ç—å –∏—Ö –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏–µ:</p>
<ul>
<li>–ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—Ç–∏—Ç—å —É—Ç–µ—á–∫–∏ –ø–∞–º—è—Ç–∏</li>
<li>–ó–∞–∫—Ä—ã—Ç—å —Ñ–∞–π–ª–æ–≤—ã–µ –¥–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä—ã</li>
<li>–û—Å–≤–æ–±–æ–¥–∏—Ç—å —Å–∏—Å—Ç–µ–º–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã</li>
<li>–û–±—Ä–∞–±–æ—Ç–∞—Ç—å –æ—à–∏–±–∫–∏ –ø—Ä–∏ –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏–∏</li>
</ul>
<p><strong>–ö–ª—é—á–µ–≤–æ–π –º–æ–º–µ–Ω—Ç</strong>: —Ä–µ—Å—É—Ä—Å –Ω—É–∂–Ω–æ –æ—Å–≤–æ–±–æ–¥–∏—Ç—å –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç —Ç–æ–≥–æ, –±—ã–ª–∞ –ª–∏ –æ—à–∏–±–∫–∞ –≤–æ –≤—Ä–µ–º—è –µ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è.</p>
<hr />
<h2 id="–¢—Ä–∞–¥–∏—Ü–∏–æ–Ω–Ω—ã–π-–ø–æ–¥—Ö–æ–¥-tryfinally"><a class="header" href="#–¢—Ä–∞–¥–∏—Ü–∏–æ–Ω–Ω—ã–π-–ø–æ–¥—Ö–æ–¥-tryfinally">–¢—Ä–∞–¥–∏—Ü–∏–æ–Ω–Ω—ã–π –ø–æ–¥—Ö–æ–¥: try/finally</a></h2>
<h3 id="–ü—Ä–∏–º–µ—Ä-—Ä–∞–±–æ—Ç–∞-—Å-–ª–æ–≥–µ—Ä–æ–º-—á–µ—Ä–µ–∑-tryfinally"><a class="header" href="#–ü—Ä–∏–º–µ—Ä-—Ä–∞–±–æ—Ç–∞-—Å-–ª–æ–≥–µ—Ä–æ–º-—á–µ—Ä–µ–∑-tryfinally">–ü—Ä–∏–º–µ—Ä: —Ä–∞–±–æ—Ç–∞ —Å –ª–æ–≥–µ—Ä–æ–º —á–µ—Ä–µ–∑ try/finally</a></h3>
<pre><code class="language-javascript">async function usingSection() {
  let logger = null;

  try {
    // –°–æ–∑–¥–∞–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–∞ (–º–æ–∂–µ—Ç –≤—ã–±—Ä–æ—Å–∏—Ç—å –æ—à–∏–±–∫—É)
    logger = await new Logger('./app.log');

    // –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–∞ (–º–æ–∂–µ—Ç –≤—ã–±—Ä–æ—Å–∏—Ç—å –æ—à–∏–±–∫—É)
    await logger.write('Starting application...');
    await logger.write('Processing data...');

  } catch (error) {
    console.error('Error occurred:', error);

  } finally {
    // –û–±—è–∑–∞—Ç–µ–ª—å–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞ —Ä–µ—Å—É—Ä—Å–∞
    if (logger) {
      await logger.close();
      console.log('Logger closed in finally block');
    }
  }
}
</code></pre>
<h3 id="–ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏-—Ç—Ä–∞–¥–∏—Ü–∏–æ–Ω–Ω–æ–≥–æ-–ø–æ–¥—Ö–æ–¥–∞"><a class="header" href="#–ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏-—Ç—Ä–∞–¥–∏—Ü–∏–æ–Ω–Ω–æ–≥–æ-–ø–æ–¥—Ö–æ–¥–∞">–ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏ —Ç—Ä–∞–¥–∏—Ü–∏–æ–Ω–Ω–æ–≥–æ –ø–æ–¥—Ö–æ–¥–∞</a></h3>
<ol>
<li><strong>–ì—Ä–æ–º–æ–∑–¥–∫–æ—Å—Ç—å</strong>: —Ç—Ä–µ–±—É–µ—Ç—Å—è —è–≤–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è —Ä–µ—Å—É—Ä—Å–∞</li>
<li><strong>–î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞</strong>: –ª–æ–≥–∏–∫–∞ –æ—á–∏—Å—Ç–∫–∏ –ø–æ–≤—Ç–æ—Ä—è–µ—Ç—Å—è –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ä–µ—Å—É—Ä—Å–∞</li>
<li><strong>–°–ª–æ–∂–Ω–æ—Å—Ç—å</strong>: –ø—Ä–∏ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö —Ä–µ—Å—É—Ä—Å–∞—Ö –∫–æ–¥ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è —Ç—Ä—É–¥–Ω–æ—á–∏—Ç–∞–µ–º—ã–º</li>
<li><strong>–û—à–∏–±–∫–∏</strong>: –ª–µ–≥–∫–æ –∑–∞–±—ã—Ç—å –¥–æ–±–∞–≤–∏—Ç—å finally –∏–ª–∏ –ø—Ä–æ–≤–µ—Ä–∫—É –Ω–∞ null</li>
</ol>
<p><strong>–ü—Ä–∏–º–µ—Ä –ø—Ä–æ–±–ª–µ–º—ã —Å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ —Ä–µ—Å—É—Ä—Å–∞–º–∏:</strong></p>
<pre><code class="language-javascript">async function multipleResources() {
  let connection = null;
  let file = null;
  let cache = null;

  try {
    connection = await openDatabase();
    file = await openFile('./data.txt');
    cache = await createCache();

    // –†–∞–±–æ—Ç–∞ —Å —Ä–µ—Å—É—Ä—Å–∞–º–∏...

  } finally {
    // –ù—É–∂–Ω–æ –∑–∞–∫—Ä—ã—Ç—å –≤—Å–µ —Ä–µ—Å—É—Ä—Å—ã –≤ –æ–±—Ä–∞—Ç–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ
    if (cache) await cache.flush();
    if (file) await file.close();
    if (connection) await connection.close();
  }
}
</code></pre>
<hr />
<h2 id="finalization-registry"><a class="header" href="#finalization-registry">Finalization Registry</a></h2>
<h3 id="–ö–æ–Ω—Ü–µ–ø—Ü–∏—è"><a class="header" href="#–ö–æ–Ω—Ü–µ–ø—Ü–∏—è">–ö–æ–Ω—Ü–µ–ø—Ü–∏—è</a></h3>
<p><code>FinalizationRegistry</code> ‚Äî —ç—Ç–æ –º–µ—Ö–∞–Ω–∏–∑–º, –ø–æ–∑–≤–æ–ª—è—é—â–∏–π –≤—ã–ø–æ–ª–Ω–∏—Ç—å –∫–æ–¥ –ø—Ä–∏ —Å–±–æ—Ä–∫–µ –º—É—Å–æ—Ä–∞, –∫–æ–≥–¥–∞ –Ω–∞ –æ–±—ä–µ–∫—Ç –±–æ–ª—å—à–µ –Ω–µ—Ç —Å—Å—ã–ª–æ–∫.</p>
<h3 id="–ü—Ä–∏–º–µ—Ä-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è"><a class="header" href="#–ü—Ä–∏–º–µ—Ä-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è">–ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è</a></h3>
<pre><code class="language-javascript">// –°–æ–∑–¥–∞–Ω–∏–µ –≥–ª–æ–±–∞–ª—å–Ω–æ–≥–æ —Ä–µ–µ—Å—Ç—Ä–∞ —Ñ–∏–Ω–∞–ª–∏–∑–∞—Ü–∏–∏
const registry = new FinalizationRegistry((resource) =&gt; {
  console.log('Finalization callback triggered');
  if (resource &amp;&amp; resource.close) {
    resource.close();
    console.log('File closed by FinalizationRegistry');
  }
});

class Logger {
  #handle;

  constructor(path) {
    this.#handle = fs.openSync(path, 'a');

    // –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —Ä–µ—Å—É—Ä—Å–∞ –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –æ—á–∏—Å—Ç–∫–∏
    registry.register(
      this,           // –û–±—ä–µ–∫—Ç, –∑–∞ –∫–æ—Ç–æ—Ä—ã–º —Å–ª–µ–¥–∏–º
      this.#handle    // –î–∞–Ω–Ω—ã–µ –¥–ª—è callback
    );
  }

  write(message) {
    fs.writeSync(this.#handle, message + '\n');
  }
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
function example() {
  const logger = new Logger('./app.log');
  logger.write('Message');
  // logger –≤—ã—Ö–æ–¥–∏—Ç –∏–∑ –æ–±–ª–∞—Å—Ç–∏ –≤–∏–¥–∏–º–æ—Å—Ç–∏
}

example();

// –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω—ã–π –≤—ã–∑–æ–≤ —Å–±–æ—Ä—â–∏–∫–∞ –º—É—Å–æ—Ä–∞ (—Ç–æ–ª—å–∫–æ —Å —Ñ–ª–∞–≥–æ–º --expose-gc)
if (global.gc) {
  global.gc();
}
</code></pre>
<h3 id="–ó–∞–ø—É—Å–∫-—Å-—Ñ–ª–∞–≥–æ–º-expose-gc"><a class="header" href="#–ó–∞–ø—É—Å–∫-—Å-—Ñ–ª–∞–≥–æ–º-expose-gc">–ó–∞–ø—É—Å–∫ —Å —Ñ–ª–∞–≥–æ–º expose-gc</a></h3>
<pre><code class="language-bash"># –î–ª—è –∑–∞–ø—É—Å–∫–∞ —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é —Ä—É—á–Ω–æ–≥–æ –≤—ã–∑–æ–≤–∞ GC
node --expose-gc example1-finalization.js
</code></pre>
<h3 id="–ü—Ä–æ–±–ª–µ–º—ã-finalizationregistry"><a class="header" href="#–ü—Ä–æ–±–ª–µ–º—ã-finalizationregistry">–ü—Ä–æ–±–ª–µ–º—ã FinalizationRegistry</a></h3>
<ol>
<li><strong>–ù–µ–ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–æ—Å—Ç—å</strong>: –Ω–µ–ª—å–∑—è —Ç–æ—á–Ω–æ –∑–Ω–∞—Ç—å, –∫–æ–≥–¥–∞ –≤—ã–∑–æ–≤–µ—Ç—Å—è callback</li>
<li><strong>–ó–∞–¥–µ—Ä–∂–∫–∏</strong>: GC –º–æ–∂–µ—Ç –Ω–µ –∑–∞–ø—É—Å—Ç–∏—Ç—å—Å—è –¥–æ–ª–≥–æ–µ –≤—Ä–µ–º—è</li>
<li><strong>–ù–µ—Ç –≥–∞—Ä–∞–Ω—Ç–∏–π</strong>: callback –º–æ–∂–µ—Ç –≤–æ–æ–±—â–µ –Ω–µ –≤—ã–∑–≤–∞—Ç—å—Å—è</li>
<li><strong>–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –æ—Ç –ø–∞–º—è—Ç–∏</strong>: –ø–æ–∫–∞ –µ—Å—Ç—å —Å–≤–æ–±–æ–¥–Ω–∞—è –ø–∞–º—è—Ç—å, GC –Ω–µ —Ç–æ—Ä–æ–ø–∏—Ç—Å—è</li>
<li><strong>–°—Ç–∞—Ä—ã–µ –æ–±—ä–µ–∫—Ç—ã</strong>: –æ–±—ä–µ–∫—Ç—ã –≤ old generation —Å–æ–±–∏—Ä–∞—é—Ç—Å—è —Ä–µ–¥–∫–æ</li>
</ol>
<p><strong>–í–∞–∂–Ω–æ</strong>: FinalizationRegistry –ù–ï –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö —Ä–µ—Å—É—Ä—Å–æ–≤ (—Ñ–∞–π–ª—ã, —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è), –∫–æ—Ç–æ—Ä—ã–µ –Ω—É–∂–Ω–æ –∑–∞–∫—Ä—ã—Ç—å –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ.</p>
<hr />
<h2 id="–ù–æ–≤—ã–π-–ø–æ–¥—Ö–æ–¥-using-–∏-symboldispose"><a class="header" href="#–ù–æ–≤—ã–π-–ø–æ–¥—Ö–æ–¥-using-–∏-symboldispose">–ù–æ–≤—ã–π –ø–æ–¥—Ö–æ–¥: using –∏ Symbol.dispose</a></h2>
<h3 id="–û—Å–Ω–æ–≤–Ω–∞—è-–∏–¥–µ—è-2"><a class="header" href="#–û—Å–Ω–æ–≤–Ω–∞—è-–∏–¥–µ—è-2">–û—Å–Ω–æ–≤–Ω–∞—è –∏–¥–µ—è</a></h3>
<p>–ö–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏—è <code>using</code> –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤—ã–∑—ã–≤–∞–µ—Ç –º–µ—Ç–æ–¥ <code>Symbol.dispose</code> –ø—Ä–∏ –≤—ã—Ö–æ–¥–µ –∏–∑ –±–ª–æ–∫–∞ –≤–∏–¥–∏–º–æ—Å—Ç–∏, –≥–¥–µ –æ–±—ä—è–≤–ª–µ–Ω–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è.</p>
<h3 id="–ë–∞–∑–æ–≤—ã–π-–ø—Ä–∏–º–µ—Ä"><a class="header" href="#–ë–∞–∑–æ–≤—ã–π-–ø—Ä–∏–º–µ—Ä">–ë–∞–∑–æ–≤—ã–π –ø—Ä–∏–º–µ—Ä</a></h3>
<pre><code class="language-javascript">class Logger {
  #handle;

  constructor(path) {
    this.#handle = fs.openSync(path, 'a');
    console.log(`Logger created for ${path}`);
  }

  write(message) {
    fs.writeSync(this.#handle, message + '\n');
  }

  // –ú–µ—Ç–æ–¥ –¥–ª—è —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–≥–æ –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏—è —Ä–µ—Å—É—Ä—Å–∞
  [Symbol.dispose]() {
    console.log('Disposing logger (sync)');
    if (this.#handle) {
      fs.closeSync(this.#handle);
      console.log('File closed');
    }
  }
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å using
function main() {
  using logger = new Logger('./app.log');

  logger.write('Application started');
  logger.write('Processing...');

  // –ü—Ä–∏ –≤—ã—Ö–æ–¥–µ –∏–∑ —Ñ—É–Ω–∫—Ü–∏–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤—ã–∑–æ–≤–µ—Ç—Å—è logger[Symbol.dispose]()
}

main();
console.log('After main completed');
</code></pre>
<h3 id="–ö–∞–∫-—ç—Ç–æ-—Ä–∞–±–æ—Ç–∞–µ—Ç"><a class="header" href="#–ö–∞–∫-—ç—Ç–æ-—Ä–∞–±–æ—Ç–∞–µ—Ç">–ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç</a></h3>
<ol>
<li><strong>–û–±—ä—è–≤–ª–µ–Ω–∏–µ</strong>: <code>using logger = new Logger(...)</code> —Å–æ–∑–¥–∞–µ—Ç —Ä–µ—Å—É—Ä—Å</li>
<li><strong>–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ</strong>: —Ä–∞–±–æ—Ç–∞–µ–º —Å —Ä–µ—Å—É—Ä—Å–æ–º –≤ –ø—Ä–µ–¥–µ–ª–∞—Ö –±–ª–æ–∫–∞</li>
<li><strong>–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—á–∏—Å—Ç–∫–∞</strong>: –ø—Ä–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–∏ –∑–∞–∫—Ä—ã–≤–∞—é—â–µ–π —Å–∫–æ–±–∫–∏ <code>}</code> –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è <code>logger[Symbol.dispose]()</code></li>
<li><strong>–ì–∞—Ä–∞–Ω—Ç–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è</strong>: dispose –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –¥–∞–∂–µ –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö</li>
</ol>
<h3 id="–≠–∫–≤–∏–≤–∞–ª–µ–Ω—Ç–Ω—ã–π-–∫–æ–¥-–±–µ–∑-using"><a class="header" href="#–≠–∫–≤–∏–≤–∞–ª–µ–Ω—Ç–Ω—ã–π-–∫–æ–¥-–±–µ–∑-using">–≠–∫–≤–∏–≤–∞–ª–µ–Ω—Ç–Ω—ã–π –∫–æ–¥ –±–µ–∑ using</a></h3>
<pre><code class="language-javascript">function main() {
  const logger = new Logger('./app.log');

  try {
    logger.write('Application started');
    logger.write('Processing...');
  } finally {
    logger[Symbol.dispose]();
  }
}
</code></pre>
<h3 id="–ö–ª—é—á–µ–≤—ã–µ-–æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏-using"><a class="header" href="#–ö–ª—é—á–µ–≤—ã–µ-–æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏-using">–ö–ª—é—á–µ–≤—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ using</a></h3>
<p><strong>1. –ü—Ä–∏–≤—è–∑–∫–∞ –∫ –æ–±–ª–∞—Å—Ç–∏ –≤–∏–¥–∏–º–æ—Å—Ç–∏</strong></p>
<pre><code class="language-javascript">function example() {
  using resource = createResource();

  // resource –¥–æ—Å—Ç—É–ø–µ–Ω –∑–¥–µ—Å—å
  console.log('Using resource');

} // &lt;-- resource[Symbol.dispose]() –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –ó–î–ï–°–¨
</code></pre>
<p><strong>2. –†–∞–±–æ—Ç–∞ —Å –±–ª–æ–∫–∞–º–∏</strong></p>
<pre><code class="language-javascript">function blockScopes() {
  console.log('Start');

  {
    using temp = createTempResource();
    console.log('Inside block');
  } // temp.dispose() –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –∑–¥–µ—Å—å

  console.log('After block');
}
</code></pre>
<p><strong>3. –ü–µ—Ä–µ–¥–∞—á–∞ —Å—Å—ã–ª–∫–∏ –Ω–µ –≤–ª–∏—è–µ—Ç –Ω–∞ dispose</strong></p>
<pre><code class="language-javascript">let externalRef;

function example() {
  using resource = createResource();
  externalRef = resource; // –°–æ—Ö—Ä–∞–Ω–∏–ª–∏ —Å—Å—ã–ª–∫—É –≤–æ –≤–Ω–µ—à–Ω–µ–π –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π

} // resource[Symbol.dispose]() –í–°–Å –†–ê–í–ù–û –≤—ã–∑–æ–≤–µ—Ç—Å—è –∑–¥–µ—Å—å!

// externalRef —Ç–µ–ø–µ—Ä—å —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ "disposed" –æ–±—ä–µ–∫—Ç
</code></pre>
<p><strong>–í–∞–∂–Ω–æ–µ –æ—Ç–ª–∏—á–∏–µ –æ—Ç Finalization Registry</strong>: <code>using</code> –æ—Å–≤–æ–±–æ–∂–¥–∞–µ—Ç —Ä–µ—Å—É—Ä—Å –ø—Ä–∏ –≤—ã—Ö–æ–¥–µ –∏–∑ –±–ª–æ–∫–∞, –∞ –Ω–µ –ø—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ —Å—Å—ã–ª–æ–∫!</p>
<hr />
<h2 id="–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–µ-–æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏–µ-await-using"><a class="header" href="#–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–µ-–æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏–µ-await-using">–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–µ –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏–µ: await using</a></h2>
<h3 id="symbolasyncdispose"><a class="header" href="#symbolasyncdispose">Symbol.asyncDispose</a></h3>
<p>–î–ª—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–π –æ—á–∏—Å—Ç–∫–∏ —Ä–µ—Å—É—Ä—Å–æ–≤ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è <code>Symbol.asyncDispose</code> –≤ –∫–æ–º–±–∏–Ω–∞—Ü–∏–∏ —Å <code>await using</code>.</p>
<h3 id="–ü—Ä–∏–º–µ—Ä-—Å-–∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–º-dispose"><a class="header" href="#–ü—Ä–∏–º–µ—Ä-—Å-–∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–º-dispose">–ü—Ä–∏–º–µ—Ä —Å –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–º dispose</a></h3>
<pre><code class="language-javascript">class AsyncLogger {
  #handle;
  #buffer = [];

  constructor(path) {
    this.#handle = fs.openSync(path, 'a');
    console.log(`AsyncLogger created`);
  }

  write(message) {
    this.#buffer.push(message);
  }

  // –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –º–µ—Ç–æ–¥ –æ—á–∏—Å—Ç–∫–∏
  async [Symbol.asyncDispose]() {
    console.log('Disposing logger (async)');

    // –®–∞–≥ 1: –°–±—Ä–æ—Å–∏—Ç—å –±—É—Ñ–µ—Ä –≤ —Ñ–∞–π–ª
    for (const msg of this.#buffer) {
      fs.writeSync(this.#handle, msg + '\n');
    }

    // –®–∞–≥ 2: –ó–∞–∫—Ä—ã—Ç—å —Ñ–∞–π–ª
    fs.closeSync(this.#handle);

    // –®–∞–≥ 3: –û—Ç–ø—Ä–∞–≤–∏—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ (–∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è)
    await this.sendNotification();

    console.log('Async disposal completed');
  }

  async sendNotification() {
    return new Promise(resolve =&gt; {
      setTimeout(() =&gt; {
        console.log('Notification sent');
        resolve();
      }, 100);
    });
  }
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å await using
async function main() {
  await using logger = new AsyncLogger('./app.log');

  logger.write('Message 1');
  logger.write('Message 2');

  // –ü—Ä–∏ –≤—ã—Ö–æ–¥–µ –∂–¥–µ–º –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è logger[Symbol.asyncDispose]()
}

await main();
console.log('Auto dispose completed');
</code></pre>
<h3 id="–ó–∞—á–µ–º-–Ω—É–∂–µ–Ω-–∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π-dispose"><a class="header" href="#–ó–∞—á–µ–º-–Ω—É–∂–µ–Ω-–∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π-dispose">–ó–∞—á–µ–º –Ω—É–∂–µ–Ω –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π dispose?</a></h3>
<p>–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π dispose –ø–æ–∑–≤–æ–ª—è–µ—Ç:</p>
<ol>
<li><strong>–°–±—Ä–æ—Å–∏—Ç—å –∫—ç—à</strong> –≤ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ</li>
<li><strong>–û—Ç–ø—Ä–∞–≤–∏—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è</strong> –æ –∑–∞–∫—Ä—ã—Ç–∏–∏ —Ä–µ—Å—É—Ä—Å–∞</li>
<li><strong>–î–æ–∂–¥–∞—Ç—å—Å—è –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è</strong> —Ñ–æ–Ω–æ–≤—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π</li>
<li><strong>–ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ –∑–∞–∫—Ä—ã—Ç—å</strong> —Å–µ—Ç–µ–≤—ã–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è</li>
<li><strong>–ó–∞–ø—É—Å—Ç–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏</strong> –ª–æ–≥–æ–≤ –∏–ª–∏ –º–µ—Ç—Ä–∏–∫</li>
</ol>
<h3 id="–ü—Ä–∏–º–µ—Ä-—Å–æ-—Å–ª–æ–∂–Ω–æ–π-–∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–π-–ª–æ–≥–∏–∫–æ–π"><a class="header" href="#–ü—Ä–∏–º–µ—Ä-—Å–æ-—Å–ª–æ–∂–Ω–æ–π-–∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–π-–ª–æ–≥–∏–∫–æ–π">–ü—Ä–∏–º–µ—Ä —Å–æ —Å–ª–æ–∂–Ω–æ–π –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–π –ª–æ–≥–∏–∫–æ–π</a></h3>
<pre><code class="language-javascript">class DatabaseConnection {
  #connection;

  async [Symbol.asyncDispose]() {
    console.log('Starting database cleanup...');

    // 1. –ó–∞–≤–µ—Ä—à–∏—Ç—å –∞–∫—Ç–∏–≤–Ω—ã–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
    await this.#connection.commitPendingTransactions();

    // 2. –°–±—Ä–æ—Å–∏—Ç—å –∫—ç—à
    await this.#connection.flushCache();

    // 3. –ó–∞–∫—Ä—ã—Ç—å —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ
    await this.#connection.close();

    // 4. –£–≤–µ–¥–æ–º–∏—Ç—å monitoring —Å–∏—Å—Ç–µ–º—É
    await this.notifyMonitoring('connection_closed');

    console.log('Database cleanup completed');
  }
}
</code></pre>
<hr />
<h2 id="–†–∞–∑–ª–∏—á–∏—è-–º–µ–∂–¥—É-—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–º-–∏-–∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–º-dispose"><a class="header" href="#–†–∞–∑–ª–∏—á–∏—è-–º–µ–∂–¥—É-—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–º-–∏-–∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–º-dispose">–†–∞–∑–ª–∏—á–∏—è –º–µ–∂–¥—É —Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–º –∏ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–º dispose</a></h2>
<h3 id="–¢–∞–±–ª–∏—Ü–∞-–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–æ–≤"><a class="header" href="#–¢–∞–±–ª–∏—Ü–∞-–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–æ–≤">–¢–∞–±–ª–∏—Ü–∞ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–æ–≤</a></h3>
<div class="table-wrapper"><table><thead><tr><th>–ö–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏—è</th><th>–ï—Å—Ç—å Symbol.asyncDispose</th><th>–ù–µ—Ç Symbol.asyncDispose</th></tr></thead><tbody>
<tr><td><code>await using</code></td><td>–í—ã–∑—ã–≤–∞–µ—Ç—Å—è <code>Symbol.asyncDispose</code></td><td>–í—ã–∑—ã–≤–∞–µ—Ç—Å—è <code>Symbol.dispose</code></td></tr>
<tr><td><code>using</code></td><td>–í—ã–∑—ã–≤–∞–µ—Ç—Å—è <code>Symbol.dispose</code></td><td>–í—ã–∑—ã–≤–∞–µ—Ç—Å—è <code>Symbol.dispose</code></td></tr>
</tbody></table>
</div>
<h3 id="–ü—Ä–∞–≤–∏–ª–∞-–≤—ã–±–æ—Ä–∞-–º–µ—Ç–æ–¥–∞-dispose"><a class="header" href="#–ü—Ä–∞–≤–∏–ª–∞-–≤—ã–±–æ—Ä–∞-–º–µ—Ç–æ–¥–∞-dispose">–ü—Ä–∞–≤–∏–ª–∞ –≤—ã–±–æ—Ä–∞ –º–µ—Ç–æ–¥–∞ dispose</a></h3>
<p><strong>–ü—Ä–∞–≤–∏–ª–æ 1</strong>: <code>await using</code> –ø—Ä–µ–¥–ø–æ—á–∏—Ç–∞–µ—Ç –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –º–µ—Ç–æ–¥</p>
<pre><code class="language-javascript">class Resource {
  [Symbol.dispose]() {
    console.log('Sync dispose');
  }

  async [Symbol.asyncDispose]() {
    console.log('Async dispose');
  }
}

async function test() {
  await using r = new Resource();
} // –í—ã–∑–æ–≤–µ—Ç—Å—è: Async dispose
</code></pre>
<p><strong>–ü—Ä–∞–≤–∏–ª–æ 2</strong>: <code>using</code> –≤—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –º–µ—Ç–æ–¥</p>
<pre><code class="language-javascript">async function test() {
  using r = new Resource(); // –î–∞–∂–µ –µ—Å–ª–∏ –µ—Å—Ç—å asyncDispose
} // –í—ã–∑–æ–≤–µ—Ç—Å—è: Sync dispose
</code></pre>
<p><strong>–ü—Ä–∞–≤–∏–ª–æ 3</strong>: –ï—Å–ª–∏ –Ω—É–∂–Ω–æ–≥–æ –º–µ—Ç–æ–¥–∞ –Ω–µ—Ç ‚Äî –æ—à–∏–±–∫–∞</p>
<pre><code class="language-javascript">class NoDispose {
  // –ù–µ—Ç –Ω–∏ Symbol.dispose, –Ω–∏ Symbol.asyncDispose
}

async function test() {
  await using r = new NoDispose();
  // TypeError: Cannot find Symbol.dispose method
}
</code></pre>
<h3 id="–ü—Ä–∏–º–µ—Ä-–ø—Ä–æ–≤–µ—Ä–∫–∞-–≤—Å–µ—Ö-–∫–æ–º–±–∏–Ω–∞—Ü–∏–π"><a class="header" href="#–ü—Ä–∏–º–µ—Ä-–ø—Ä–æ–≤–µ—Ä–∫–∞-–≤—Å–µ—Ö-–∫–æ–º–±–∏–Ω–∞—Ü–∏–π">–ü—Ä–∏–º–µ—Ä: –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤—Å–µ—Ö –∫–æ–º–±–∏–Ω–∞—Ü–∏–π</a></h3>
<pre><code class="language-javascript">// –ü—Ä–∏–º–µ—Ä 1: –û–±–∞ –º–µ—Ç–æ–¥–∞ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω—ã, await using
class BothMethods {
  [Symbol.dispose]() {
    console.log('Sync dispose');
  }

  async [Symbol.asyncDispose]() {
    console.log('Async dispose');
  }
}

async function example1() {
  await using r = new BothMethods();
}
// –í—ã–≤–æ–¥: Async dispose

// –ü—Ä–∏–º–µ—Ä 2: –û–±–∞ –º–µ—Ç–æ–¥–∞ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω—ã, using
function example2() {
  using r = new BothMethods();
}
// –í—ã–≤–æ–¥: Sync dispose

// –ü—Ä–∏–º–µ—Ä 3: –¢–æ–ª—å–∫–æ sync dispose, await using
class OnlySync {
  [Symbol.dispose]() {
    console.log('Sync dispose');
  }
}

async function example3() {
  await using r = new OnlySync();
}
// –í—ã–≤–æ–¥: Sync dispose (–æ—Ç–∫–∞—Ç –∫ —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–º—É)

// –ü—Ä–∏–º–µ—Ä 4: –¢–æ–ª—å–∫–æ async dispose, using
class OnlyAsync {
  async [Symbol.asyncDispose]() {
    console.log('Async dispose');
  }
}

function example4() {
  using r = new OnlyAsync();
  // –û–®–ò–ë–ö–ê: –Ω–µ –Ω–∞–π–¥–µ–Ω Symbol.dispose
}
</code></pre>
<hr />
<h2 id="–ü–æ—Ä—è–¥–æ–∫-–≤—ã–∑–æ–≤–∞-dispose"><a class="header" href="#–ü–æ—Ä—è–¥–æ–∫-–≤—ã–∑–æ–≤–∞-dispose">–ü–æ—Ä—è–¥–æ–∫ –≤—ã–∑–æ–≤–∞ dispose</a></h2>
<h3 id="–í–∞–∂–Ω–∞—è-–æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç—å-—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–≥–æ-dispose-—Å-await-–≤–Ω—É—Ç—Ä–∏"><a class="header" href="#–í–∞–∂–Ω–∞—è-–æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç—å-—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–≥–æ-dispose-—Å-await-–≤–Ω—É—Ç—Ä–∏">–í–∞–∂–Ω–∞—è –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç—å —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–≥–æ dispose —Å await –≤–Ω—É—Ç—Ä–∏</a></h3>
<p>–ï—Å–ª–∏ –≤ —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–º <code>Symbol.dispose</code> –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è <code>await</code>, –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —Ä–∞–∑—Ä—ã–≤–∞–µ—Ç—Å—è!</p>
<h4 id="–ü—Ä–∏–º–µ—Ä-4-–†–∞–∑—Ä—ã–≤-–≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è"><a class="header" href="#–ü—Ä–∏–º–µ—Ä-4-–†–∞–∑—Ä—ã–≤-–≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è">–ü—Ä–∏–º–µ—Ä 4: –†–∞–∑—Ä—ã–≤ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è</a></h4>
<pre><code class="language-javascript">class Logger {
  [Symbol.dispose]() {
    console.log('Dispose: before await');

    await new Promise(resolve =&gt; setTimeout(resolve, 100));

    console.log('Dispose: after await');
  }
}

function main() {
  using logger = new Logger();
  console.log('Inside main');
}

main();
console.log('Auto dispose');
</code></pre>
<p><strong>–í—ã–≤–æ–¥:</strong></p>
<pre><code>Inside main
Dispose: before await
Auto dispose              &lt;-- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–µ—Ä–µ–¥–∞–ª–æ—Å—å —Å—é–¥–∞!
Dispose: after await      &lt;-- –ê —ç—Ç–æ –≤—ã–ø–æ–ª–Ω–∏—Ç—Å—è –ø–æ–∑–∂–µ
</code></pre>
<p><strong>–û–±—ä—è—Å–Ω–µ–Ω–∏–µ</strong>: –°–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π dispose —Å <code>await</code> —Ä–∞–∑—Ä—ã–≤–∞–µ—Ç—Å—è –Ω–∞ –¥–≤–µ —á–∞—Å—Ç–∏. –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è –¥–∞–ª—å—à–µ –ø–æ—Å–ª–µ –ø–µ—Ä–≤–æ–≥–æ <code>await</code>, –Ω–µ –¥–æ–∂–∏–¥–∞—è—Å—å –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è dispose.</p>
<h4 id="–ü—Ä–∏–º–µ—Ä-5-–ü—Ä–∞–≤–∏–ª—å–Ω—ã–π-–∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π-dispose"><a class="header" href="#–ü—Ä–∏–º–µ—Ä-5-–ü—Ä–∞–≤–∏–ª—å–Ω—ã–π-–∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π-dispose">–ü—Ä–∏–º–µ—Ä 5: –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π dispose</a></h4>
<pre><code class="language-javascript">class Logger {
  async [Symbol.asyncDispose]() {
    console.log('Async dispose: before await');

    await new Promise(resolve =&gt; setTimeout(resolve, 100));

    console.log('Async dispose: after await');
  }
}

async function main() {
  await using logger = new Logger();
  console.log('Inside main');
}

await main();
console.log('Auto dispose');
</code></pre>
<p><strong>–í—ã–≤–æ–¥:</strong></p>
<pre><code>Inside main
Async dispose: before await
Async dispose: after await    &lt;-- –ü–æ–ª–Ω–æ—Å—Ç—å—é –≤—ã–ø–æ–ª–Ω–∏–ª—Å—è
Auto dispose                   &lt;-- –¢–æ–ª—å–∫–æ –ø–æ—Ç–æ–º —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–µ—Ä–µ–¥–∞–ª–æ—Å—å
</code></pre>
<p><strong>–í—ã–≤–æ–¥</strong>: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ <code>Symbol.asyncDispose</code> —Å <code>await using</code>, –µ—Å–ª–∏ –≤–Ω—É—Ç—Ä–∏ dispose –µ—Å—Ç—å –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏!</p>
<hr />
<h2 id="–í–ª–æ–∂–µ–Ω–Ω—ã–µ-–∫–æ–Ω—Ç–µ–∫—Å—Ç—ã"><a class="header" href="#–í–ª–æ–∂–µ–Ω–Ω—ã–µ-–∫–æ–Ω—Ç–µ–∫—Å—Ç—ã">–í–ª–æ–∂–µ–Ω–Ω—ã–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç—ã</a></h2>
<h3 id="–ü–æ—Ä—è–¥–æ–∫-–æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏—è-lifo-last-in-first-out"><a class="header" href="#–ü–æ—Ä—è–¥–æ–∫-–æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏—è-lifo-last-in-first-out">–ü–æ—Ä—è–¥–æ–∫ –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏—è: LIFO (Last In, First Out)</a></h3>
<p>–†–µ—Å—É—Ä—Å—ã –æ—Å–≤–æ–±–æ–∂–¥–∞—é—Ç—Å—è –≤ –ø–æ—Ä—è–¥–∫–µ —Å—Ç–µ–∫–∞ ‚Äî –ø–æ—Å–ª–µ–¥–Ω–∏–π —Å–æ–∑–¥–∞–Ω–Ω—ã–π –æ—Å–≤–æ–±–æ–∂–¥–∞–µ—Ç—Å—è –ø–µ—Ä–≤—ã–º.</p>
<h3 id="–ü—Ä–∏–º–µ—Ä-—Å-–≤–ª–æ–∂–µ–Ω–Ω—ã–º–∏-–±–ª–æ–∫–∞–º–∏"><a class="header" href="#–ü—Ä–∏–º–µ—Ä-—Å-–≤–ª–æ–∂–µ–Ω–Ω—ã–º–∏-–±–ª–æ–∫–∞–º–∏">–ü—Ä–∏–º–µ—Ä —Å –≤–ª–æ–∂–µ–Ω–Ω—ã–º–∏ –±–ª–æ–∫–∞–º–∏</a></h3>
<pre><code class="language-javascript">function createDisposable(id) {
  console.log(`Creating ${id}`);
  return {
    [Symbol.dispose]() {
      console.log(`Disposing ${id}`);
    }
  };
}

function nestedExample() {
  console.log('=== Start ===');

  using a = createDisposable('A');
  using b = createDisposable('B');

  {
    using c = createDisposable('C');
    using d = createDisposable('D');
    console.log('Inside inner block');
  } // &lt;-- D –∏ C –æ—Å–≤–æ–±–æ–∂–¥–∞—é—Ç—Å—è –∑–¥–µ—Å—å

  console.log('Back to outer block');

  using e = createDisposable('E');

  console.log('=== End ===');
} // &lt;-- E, B –∏ A –æ—Å–≤–æ–±–æ–∂–¥–∞—é—Ç—Å—è –∑–¥–µ—Å—å

nestedExample();
</code></pre>
<p><strong>–í—ã–≤–æ–¥:</strong></p>
<pre><code>=== Start ===
Creating A
Creating B
Creating C
Creating D
Inside inner block
Disposing D       &lt;-- –ü–æ—Å–ª–µ–¥–Ω–∏–π —Å–æ–∑–¥–∞–Ω–Ω—ã–π –≤ –±–ª–æ–∫–µ
Disposing C       &lt;-- –ü–µ—Ä–≤—ã–π —Å–æ–∑–¥–∞–Ω–Ω—ã–π –≤ –±–ª–æ–∫–µ
Back to outer block
Creating E
=== End ===
Disposing E       &lt;-- –ü–æ—Å–ª–µ–¥–Ω–∏–π –≤ —Ñ—É–Ω–∫—Ü–∏–∏
Disposing B       &lt;-- –í—Ç–æ—Ä–æ–π –≤ —Ñ—É–Ω–∫—Ü–∏–∏
Disposing A       &lt;-- –ü–µ—Ä–≤—ã–π –≤ —Ñ—É–Ω–∫—Ü–∏–∏
</code></pre>
<h3 id="–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π-–ø—Ä–∏–º–µ—Ä-—Å-–≤–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç—å—é"><a class="header" href="#–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π-–ø—Ä–∏–º–µ—Ä-—Å-–≤–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç—å—é">–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –ø—Ä–∏–º–µ—Ä —Å –≤–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç—å—é</a></h3>
<pre><code class="language-javascript">function loggy(id) {
  console.log(`Constructing ${id}`);
  return {
    async [Symbol.asyncDispose]() {
      console.log(`Disposing (async) ${id}`);
      await new Promise(resolve =&gt; setTimeout(resolve, 100));
    }
  };
}

async function func() {
  await using a = loggy('a');
  await using b = loggy('b');

  {
    await using c = loggy('c');
    await using d = loggy('d');
  } // c –∏ d —É—Ç–∏–ª–∏–∑–∏—Ä—É—é—Ç—Å—è –∑–¥–µ—Å—å

  await using e = loggy('e');

  return;

  // –ù–µ–¥–æ—Å—Ç–∏–∂–∏–º—ã–π –∫–æ–¥
  await using f = loggy('f'); // –ù–ï —Å–æ–∑–¥–∞—Å—Ç—Å—è, –ù–ï —É—Ç–∏–ª–∏–∑–∏—Ä—É–µ—Ç—Å—è
}

await func();
</code></pre>
<p><strong>–í—ã–≤–æ–¥:</strong></p>
<pre><code>Constructing a
Constructing b
Constructing c
Constructing d
Disposing (async) d
Disposing (async) c
Constructing e
Disposing (async) e
Disposing (async) b
Disposing (async) a
</code></pre>
<h3 id="–í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è-–ø–æ—Ä—è–¥–∫–∞"><a class="header" href="#–í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è-–ø–æ—Ä—è–¥–∫–∞">–í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –ø–æ—Ä—è–¥–∫–∞</a></h3>
<pre><code>–§—É–Ω–∫—Ü–∏—è func():
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ await using a                       ‚îÇ ‚Üê –°–æ–∑–¥–∞–Ω –ø–µ—Ä–≤—ã–º
‚îÇ await using b                       ‚îÇ ‚Üê –°–æ–∑–¥–∞–Ω –≤—Ç–æ—Ä—ã–º
‚îÇ                                     ‚îÇ
‚îÇ ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îÇ
‚îÇ ‚îÇ –í–ª–æ–∂–µ–Ω–Ω—ã–π –±–ª–æ–∫:             ‚îÇ    ‚îÇ
‚îÇ ‚îÇ await using c               ‚îÇ    ‚îÇ ‚Üê –°–æ–∑–¥–∞–Ω —Ç—Ä–µ—Ç—å–∏–º
‚îÇ ‚îÇ await using d               ‚îÇ    ‚îÇ ‚Üê –°–æ–∑–¥–∞–Ω —á–µ—Ç–≤–µ—Ä—Ç—ã–º
‚îÇ ‚îÇ                             ‚îÇ    ‚îÇ
‚îÇ ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îÇ
‚îÇ   ‚Üë Dispose d (4)                   ‚îÇ
‚îÇ   ‚Üë Dispose c (3)                   ‚îÇ
‚îÇ                                     ‚îÇ
‚îÇ await using e                       ‚îÇ ‚Üê –°–æ–∑–¥–∞–Ω –ø—è—Ç—ã–º
‚îÇ                                     ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
  ‚Üë Dispose e (5)
  ‚Üë Dispose b (2)
  ‚Üë Dispose a (1)
</code></pre>
<h3 id="–ü–µ—Ä–µ–∫—Ä—ã—Ç–∏–µ-–∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–æ–≤-shadowing"><a class="header" href="#–ü–µ—Ä–µ–∫—Ä—ã—Ç–∏–µ-–∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–æ–≤-shadowing">–ü–µ—Ä–µ–∫—Ä—ã—Ç–∏–µ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–æ–≤ (shadowing)</a></h3>
<pre><code class="language-javascript">function shadowingExample() {
  using console = createDisposable('outer console');

  {
    using console = createDisposable('inner console');
    // –ó–¥–µ—Å—å –¥–æ—Å—Ç—É–ø–µ–Ω inner console
  } // inner console –æ—Å–≤–æ–±–æ–∂–¥–∞–µ—Ç—Å—è

  // –ó–¥–µ—Å—å —Å–Ω–æ–≤–∞ –¥–æ—Å—Ç—É–ø–µ–Ω outer console
} // outer console –æ—Å–≤–æ–±–æ–∂–¥–∞–µ—Ç—Å—è
</code></pre>
<hr />
<h2 id="–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ-—Å—Ü–µ–Ω–∞—Ä–∏–∏-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è"><a class="header" href="#–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ-—Å—Ü–µ–Ω–∞—Ä–∏–∏-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è">–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è</a></h2>
<h3 id="–°—Ü–µ–Ω–∞—Ä–∏–π-1-–†–∞–±–æ—Ç–∞-—Å-—Ñ–∞–π–ª–∞–º–∏"><a class="header" href="#–°—Ü–µ–Ω–∞—Ä–∏–π-1-–†–∞–±–æ—Ç–∞-—Å-—Ñ–∞–π–ª–∞–º–∏">–°—Ü–µ–Ω–∞—Ä–∏–π 1: –†–∞–±–æ—Ç–∞ —Å —Ñ–∞–π–ª–∞–º–∏</a></h3>
<pre><code class="language-javascript">class TempFile {
  #path;
  #handle;

  constructor(path) {
    this.#path = path;
    this.#handle = fs.openSync(path, 'w+');
    console.log(`Opened temp file: ${path}`);
  }

  write(data) {
    fs.writeSync(this.#handle, data);
  }

  read() {
    const stats = fs.fstatSync(this.#handle);
    const buffer = Buffer.alloc(stats.size);
    fs.readSync(this.#handle, buffer, 0, stats.size, 0);
    return buffer.toString();
  }

  [Symbol.dispose]() {
    fs.closeSync(this.#handle);
    fs.unlinkSync(this.#path);
    console.log(`Deleted temp file: ${this.#path}`);
  }
}

function processTempData() {
  using tempFile = new TempFile('./temp_data.tmp');

  tempFile.write('Important data');
  const content = tempFile.read();
  console.log('Content:', content);

  // –§–∞–π–ª –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É–¥–∞–ª–∏—Ç—Å—è –ø—Ä–∏ –≤—ã—Ö–æ–¥–µ
}
</code></pre>
<h3 id="–°—Ü–µ–Ω–∞—Ä–∏–π-2-–¢—Ä–∞—Å—Å–∏—Ä–æ–≤–∫–∞-–≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è"><a class="header" href="#–°—Ü–µ–Ω–∞—Ä–∏–π-2-–¢—Ä–∞—Å—Å–∏—Ä–æ–≤–∫–∞-–≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è">–°—Ü–µ–Ω–∞—Ä–∏–π 2: –¢—Ä–∞—Å—Å–∏—Ä–æ–≤–∫–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è</a></h3>
<pre><code class="language-javascript">class TraceActivity {
  #name;
  #startTime;

  constructor(name) {
    this.#name = name;
    this.#startTime = Date.now();
    console.log(`‚Üí Entering: ${name}`);
  }

  [Symbol.dispose]() {
    const duration = Date.now() - this.#startTime;
    console.log(`‚Üê Exiting: ${this.#name} (${duration}ms)`);
  }
}

function businessLogic() {
  using _trace = new TraceActivity('businessLogic');

  // –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞
  for (let i = 0; i &lt; 1000000; i++) {
    Math.sqrt(i);
  }
}

businessLogic();
// –í—ã–≤–æ–¥:
// ‚Üí Entering: businessLogic
// ‚Üê Exiting: businessLogic (15ms)
</code></pre>
<h3 id="–°—Ü–µ–Ω–∞—Ä–∏–π-3-–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ-—Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è–º–∏"><a class="header" href="#–°—Ü–µ–Ω–∞—Ä–∏–π-3-–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ-—Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è–º–∏">–°—Ü–µ–Ω–∞—Ä–∏–π 3: –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è–º–∏</a></h3>
<pre><code class="language-javascript">class Transaction {
  #db;
  #committed = false;

  constructor(db) {
    this.#db = db;
    this.#db.begin();
    console.log('Transaction started');
  }

  commit() {
    this.#db.commit();
    this.#committed = true;
    console.log('Transaction committed');
  }

  [Symbol.dispose]() {
    if (!this.#committed) {
      this.#db.rollback();
      console.log('Transaction rolled back');
    }
  }
}

function updateDatabase(db) {
  using transaction = new Transaction(db);

  db.update('users', { name: 'John' });
  db.update('orders', { status: 'completed' });

  // –ï—Å–ª–∏ –æ—à–∏–±–∫–∞ ‚Äî –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π rollback
  if (someCondition()) {
    transaction.commit();
  }
  // –ò–Ω–∞—á–µ ‚Äî rollback –ø—Ä–∏ –≤—ã—Ö–æ–¥–µ
}
</code></pre>
<h3 id="–°—Ü–µ–Ω–∞—Ä–∏–π-4-–ë–ª–æ–∫–∏—Ä–æ–≤–∫–∏-–∏-–º—å—é—Ç–µ–∫—Å—ã"><a class="header" href="#–°—Ü–µ–Ω–∞—Ä–∏–π-4-–ë–ª–æ–∫–∏—Ä–æ–≤–∫–∏-–∏-–º—å—é—Ç–µ–∫—Å—ã">–°—Ü–µ–Ω–∞—Ä–∏–π 4: –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∏ –∏ –º—å—é—Ç–µ–∫—Å—ã</a></h3>
<pre><code class="language-javascript">class Lock {
  #resource;

  constructor(resource) {
    this.#resource = resource;
    resource.acquire();
    console.log('Lock acquired');
  }

  [Symbol.dispose]() {
    this.#resource.release();
    console.log('Lock released');
  }
}

function criticalSection(resource) {
  using lock = new Lock(resource);

  // –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è —Å–µ–∫—Ü–∏—è ‚Äî —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω –ø–æ—Ç–æ–∫ –º–æ–∂–µ—Ç –±—ã—Ç—å –∑–¥–µ—Å—å
  modifySharedData();

  // –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Å–≤–æ–±–æ–¥–∏—Ç—Å—è
}
</code></pre>
<hr />
<h2 id="reference-counting-–ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ"><a class="header" href="#reference-counting-–ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ">Reference Counting (–ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ)</a></h2>
<p>–õ–µ–∫—Ç–æ—Ä —É–ø–æ–º–∏–Ω–∞–µ—Ç, —á—Ç–æ <code>using</code> <strong>–Ω–µ —Ä–µ–∞–ª–∏–∑—É–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–¥—Å—á–µ—Ç —Å—Å—ã–ª–æ–∫</strong> (reference counting), –∫–∞–∫ –≤ –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö –¥—Ä—É–≥–∏—Ö —è–∑—ã–∫–∞—Ö.</p>
<h3 id="–ß—Ç–æ-—ç—Ç–æ-–∑–Ω–∞—á–∏—Ç"><a class="header" href="#–ß—Ç–æ-—ç—Ç–æ-–∑–Ω–∞—á–∏—Ç">–ß—Ç–æ —ç—Ç–æ –∑–Ω–∞—á–∏—Ç?</a></h3>
<pre><code class="language-javascript">let externalRef;

function example() {
  using resource = createResource();
  externalRef = resource; // –°–æ–∑–¥–∞–ª–∏ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—É—é —Å—Å—ã–ª–∫—É

} // resource.dispose() –≤—ã–∑–æ–≤–µ—Ç—Å—è, –¥–∞–∂–µ –µ—Å–ª–∏ externalRef –µ—â–µ –∂–∏–≤–∞!

// externalRef —Ç–µ–ø–µ—Ä—å —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ "–º–µ—Ä—Ç–≤—ã–π" –æ–±—ä–µ–∫—Ç
</code></pre>
<p><strong>–ü–ª–∞–Ω—ã</strong>: –õ–µ–∫—Ç–æ—Ä –æ–±–µ—â–∞–µ—Ç –æ—Ç–¥–µ–ª—å–Ω—É—é –ª–µ–∫—Ü–∏—é –æ —Ç–æ–º, –∫–∞–∫ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å reference counting –ø–æ–≤–µ—Ä—Ö <code>using</code>.</p>
<hr />
<h2 id="–°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å-–∏-–ø–æ–ª–∏—Ñ–∏–ª–ª—ã"><a class="header" href="#–°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å-–∏-–ø–æ–ª–∏—Ñ–∏–ª–ª—ã">–°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å –∏ –ø–æ–ª–∏—Ñ–∏–ª–ª—ã</a></h2>
<h3 id="–ü—Ä–æ–≤–µ—Ä–∫–∞-–ø–æ–¥–¥–µ—Ä–∂–∫–∏"><a class="header" href="#–ü—Ä–æ–≤–µ—Ä–∫–∞-–ø–æ–¥–¥–µ—Ä–∂–∫–∏">–ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∏</a></h3>
<pre><code class="language-javascript">// –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è Symbol.dispose
if (typeof Symbol.dispose === 'undefined') {
  // –ü–æ–ª–∏—Ñ–∏–ª–ª
  Symbol.dispose = Symbol('Symbol.dispose');
}

if (typeof Symbol.asyncDispose === 'undefined') {
  Symbol.asyncDispose = Symbol('Symbol.asyncDispose');
}
</code></pre>
<h3 id="–ü–æ–ª–∏—Ñ–∏–ª–ª-–æ—Ç-typescript"><a class="header" href="#–ü–æ–ª–∏—Ñ–∏–ª–ª-–æ—Ç-typescript">–ü–æ–ª–∏—Ñ–∏–ª–ª –æ—Ç TypeScript</a></h3>
<p>TypeScript –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –ø–æ–ª–∏—Ñ–∏–ª–ª—ã –¥–ª—è –æ–∫—Ä—É–∂–µ–Ω–∏–π –±–µ–∑ –Ω–∞—Ç–∏–≤–Ω–æ–π –ø–æ–¥–¥–µ—Ä–∂–∫–∏:</p>
<pre><code class="language-typescript">Symbol.dispose ??= Symbol("Symbol.dispose");
Symbol.asyncDispose ??= Symbol("Symbol.asyncDispose");
</code></pre>
<h3 id="–ü–æ–¥–¥–µ—Ä–∂–∫–∞-–≤-—Ä–∞–Ω—Ç–∞–π–º–∞—Ö"><a class="header" href="#–ü–æ–¥–¥–µ—Ä–∂–∫–∞-–≤-—Ä–∞–Ω—Ç–∞–π–º–∞—Ö">–ü–æ–¥–¥–µ—Ä–∂–∫–∞ –≤ —Ä–∞–Ω—Ç–∞–π–º–∞—Ö</a></h3>
<p>–ù–∞ –º–æ–º–µ–Ω—Ç –∑–∞–ø–∏—Å–∏ –ª–µ–∫—Ü–∏–∏ (—É–ø–æ–º–∏–Ω–∞–µ—Ç—Å—è –≤ –∫–æ–Ω—Ü–µ):</p>
<ul>
<li><strong>Node.js 24</strong>: –ü–æ–ª–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ ‚úÖ</li>
<li><strong>Chrome/Chromium</strong>: –ü–æ–ª–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ ‚úÖ</li>
<li><strong>TypeScript 5.2+</strong>: –ü–æ–ª–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ ‚úÖ</li>
</ul>
<hr />
<h2 id="–û–±—Ä–∞–±–æ—Ç–∫–∞-–æ—à–∏–±–æ–∫-1"><a class="header" href="#–û–±—Ä–∞–±–æ—Ç–∫–∞-–æ—à–∏–±–æ–∫-1">–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫</a></h2>
<h3 id="suppressederror"><a class="header" href="#suppressederror">SuppressedError</a></h3>
<p>–ï—Å–ª–∏ –æ—à–∏–±–∫–∞ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –∏ –≤ –æ—Å–Ω–æ–≤–Ω–æ–º –∫–æ–¥–µ, –∏ –≤ <code>dispose</code>, —Å–æ–∑–¥–∞–µ—Ç—Å—è —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π <code>SuppressedError</code>:</p>
<pre><code class="language-javascript">class ErrorThrower {
  [Symbol.dispose]() {
    throw new Error('Error in dispose');
  }
}

function test() {
  using resource = new ErrorThrower();
  throw new Error('Error in main code');
}

try {
  test();
} catch (e) {
  console.log(e.name);              // SuppressedError
  console.log(e.message);           // An error was suppressed during disposal
  console.log(e.error.message);     // Error in dispose
  console.log(e.suppressed.message); // Error in main code
}
</code></pre>
<h3 id="–ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ-–æ—à–∏–±–∫–∏-dispose"><a class="header" href="#–ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ-–æ—à–∏–±–∫–∏-dispose">–ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –æ—à–∏–±–∫–∏ dispose</a></h3>
<pre><code class="language-javascript">function multipleErrors() {
  using a = { [Symbol.dispose]() { throw new Error('A failed'); } };
  using b = { [Symbol.dispose]() { throw new Error('B failed'); } };
}

try {
  multipleErrors();
} catch (e) {
  // –û–±–µ –æ—à–∏–±–∫–∏ –±—É–¥—É—Ç —Å–æ–±—Ä–∞–Ω—ã –≤ —Ü–µ–ø–æ—á–∫—É SuppressedError
}
</code></pre>
<hr />
<h2 id="–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ-–≤-—Ü–∏–∫–ª–∞—Ö"><a class="header" href="#–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ-–≤-—Ü–∏–∫–ª–∞—Ö">–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ —Ü–∏–∫–ª–∞—Ö</a></h2>
<h3 id="for-loop"><a class="header" href="#for-loop">For loop</a></h3>
<pre><code class="language-javascript">function processFiles(files) {
  for (using file = openFile(files[0]); file.hasNext(); file.next()) {
    console.log(file.read());
  } // file –∑–∞–∫—Ä—ã–≤–∞–µ—Ç—Å—è –ø–æ—Å–ª–µ —Ü–∏–∫–ª–∞
}
</code></pre>
<h3 id="forof-loop"><a class="header" href="#forof-loop">For...of loop</a></h3>
<pre><code class="language-javascript">function* createResources() {
  yield new Resource('A');
  yield new Resource('B');
  yield new Resource('C');
}

function processResources() {
  for (using resource of createResources()) {
    console.log(resource.use());
    // –ö–∞–∂–¥—ã–π resource –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Å–≤–æ–±–æ–∂–¥–∞–µ—Ç—Å—è –ø–æ—Å–ª–µ –∏—Ç–µ—Ä–∞—Ü–∏–∏
  }
}
</code></pre>
<hr />
<h2 id="–†–µ–∑—é–º–µ-1"><a class="header" href="#–†–µ–∑—é–º–µ-1">–†–µ–∑—é–º–µ</a></h2>
<h3 id="–û—Å–Ω–æ–≤–Ω—ã–µ-–∫–æ–Ω—Ü–µ–ø—Ü–∏–∏"><a class="header" href="#–û—Å–Ω–æ–≤–Ω—ã–µ-–∫–æ–Ω—Ü–µ–ø—Ü–∏–∏">–û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏</a></h3>
<ol>
<li>
<p><strong><code>using</code> –æ–±—ä—è–≤–ª–µ–Ω–∏–µ</strong></p>
<ul>
<li>–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤—ã–∑—ã–≤–∞–µ—Ç <code>Symbol.dispose</code> –ø—Ä–∏ –≤—ã—Ö–æ–¥–µ –∏–∑ –±–ª–æ–∫–∞</li>
<li>–†–∞–±–æ—Ç–∞–µ—Ç —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ</li>
<li>–ì–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–∞ –¥–∞–∂–µ –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö</li>
</ul>
</li>
<li>
<p><strong><code>await using</code> –æ–±—ä—è–≤–ª–µ–Ω–∏–µ</strong></p>
<ul>
<li>–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤—ã–∑—ã–≤–∞–µ—Ç <code>Symbol.asyncDispose</code> –ø—Ä–∏ –≤—ã—Ö–æ–¥–µ –∏–∑ –±–ª–æ–∫–∞</li>
<li>–û–∂–∏–¥–∞–µ—Ç –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–π –æ—á–∏—Å—Ç–∫–∏</li>
<li>–û—Ç–∫–∞—Ç—ã–≤–∞–µ—Ç—Å—è –∫ <code>Symbol.dispose</code>, –µ—Å–ª–∏ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–≥–æ –º–µ—Ç–æ–¥–∞ –Ω–µ—Ç</li>
</ul>
</li>
<li>
<p><strong>–ü–æ—Ä—è–¥–æ–∫ –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏—è</strong></p>
<ul>
<li>LIFO (Last In, First Out) ‚Äî —Å—Ç–µ–∫–æ–≤—ã–π –ø–æ—Ä—è–¥–æ–∫</li>
<li>–í–ª–æ–∂–µ–Ω–Ω—ã–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç—ã –æ—Å–≤–æ–±–æ–∂–¥–∞—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ</li>
</ul>
</li>
<li>
<p><strong>–û—Ç–ª–∏—á–∏—è –æ—Ç –¥—Ä—É–≥–∏—Ö –ø–æ–¥—Ö–æ–¥–æ–≤</strong></p>
<ul>
<li><strong>vs try/finally</strong>: –ú–µ–Ω—å—à–µ –∫–æ–¥–∞, –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—á–∏—Å—Ç–∫–∞</li>
<li><strong>vs FinalizationRegistry</strong>: –î–µ—Ç–µ—Ä–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –≤—Ä–µ–º—è –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏—è</li>
<li><strong>vs GC</strong>: –Ø–≤–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å, –Ω–µ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —Å–±–æ—Ä—â–∏–∫–∞ –º—É—Å–æ—Ä–∞</li>
</ul>
</li>
</ol>
<h3 id="–ö–æ–≥–¥–∞-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å-4"><a class="header" href="#–ö–æ–≥–¥–∞-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å-4">–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å</a></h3>
<p>‚úÖ <strong>–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ <code>using</code>:</strong></p>
<ul>
<li>–§–∞–π–ª–æ–≤—ã–µ –¥–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä—ã</li>
<li>–°–µ—Ç–µ–≤—ã–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è</li>
<li>–ë–ª–æ–∫–∏—Ä–æ–≤–∫–∏ –∏ –º—å—é—Ç–µ–∫—Å—ã</li>
<li>–í—Ä–µ–º–µ–Ω–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã</li>
<li>–¢—Ä–∞—Å—Å–∏—Ä–æ–≤–∫–∞ –∏ –ø—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏–µ</li>
</ul>
<p>‚úÖ <strong>–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ <code>await using</code>:</strong></p>
<ul>
<li>–ö–æ–≥–¥–∞ –Ω—É–∂–Ω–æ –¥–æ–∂–¥–∞—Ç—å—Å—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–π –æ—á–∏—Å—Ç–∫–∏</li>
<li>–°–±—Ä–æ—Å –∫—ç—à–∞ –≤ –ë–î</li>
<li>–û—Ç–ø—Ä–∞–≤–∫–∞ –º–µ—Ç—Ä–∏–∫</li>
<li>–ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –∑–∞–∫—Ä—ã—Ç–∏–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π</li>
</ul>
<p>‚ùå <strong>–ù–µ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –¥–ª—è:</strong></p>
<ul>
<li>–û–±—ã—á–Ω—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤ –±–µ–∑ –≤–Ω–µ—à–Ω–∏—Ö —Ä–µ—Å—É—Ä—Å–æ–≤</li>
<li>–û–±—ä–µ–∫—Ç–æ–≤, —É–ø—Ä–∞–≤–ª—è–µ–º—ã—Ö GC</li>
<li>–°–∏—Ç—É–∞—Ü–∏–π, –≥–¥–µ –Ω—É–∂–µ–Ω reference counting (—Ç—Ä–µ–±—É–µ—Ç –¥–æ–ø. –æ–±–µ—Ä—Ç–∫–∏)</li>
</ul>
<h3 id="–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞-2"><a class="header" href="#–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞-2">–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞</a></h3>
<ul>
<li><strong>–ß–∏—Ç–∞–µ–º–æ—Å—Ç—å</strong>: –ú–µ–Ω—å—à–µ boilerplate –∫–æ–¥–∞</li>
<li><strong>–ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å</strong>: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—á–∏—Å—Ç–∫–∞ –¥–∞–∂–µ –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö</li>
<li><strong>–ü—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–æ—Å—Ç—å</strong>: –î–µ—Ç–µ—Ä–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –≤—Ä–µ–º—è –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏—è</li>
<li><strong>–ö–æ–º–ø–æ–∑–∏—Ä—É–µ–º–æ—Å—Ç—å</strong>: –õ–µ–≥–∫–æ —Ä–∞–±–æ—Ç–∞—Ç—å —Å –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–º–∏ —Ä–µ—Å—É—Ä—Å–∞–º–∏</li>
</ul>
<h3 id="–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è"><a class="header" href="#–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è">–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è</a></h3>
<ul>
<li>–ù–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ reference counting</li>
<li>–¢—Ä–µ–±—É–µ—Ç —è–≤–Ω–æ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ <code>Symbol.dispose</code> / <code>Symbol.asyncDispose</code></li>
<li>–û—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ –Ω–æ–≤–∞—è –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å (Node.js 24+, —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ –±—Ä–∞—É–∑–µ—Ä—ã)</li>
</ul>
<h3 id="–î–∞–ª—å–Ω–µ–π—à–µ–µ-–∏–∑—É—á–µ–Ω–∏–µ-2"><a class="header" href="#–î–∞–ª—å–Ω–µ–π—à–µ–µ-–∏–∑—É—á–µ–Ω–∏–µ-2">–î–∞–ª—å–Ω–µ–π—à–µ–µ –∏–∑—É—á–µ–Ω–∏–µ</a></h3>
<p>–õ–µ–∫—Ç–æ—Ä –æ–±–µ—â–∞–µ—Ç —Å–ª–µ–¥—É—é—â–∏–µ —Ç–µ–º—ã:</p>
<ol>
<li><strong>Reference Counting</strong> ‚Äî —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –ø–æ–¥—Å—á–µ—Ç–∞ —Å—Å—ã–ª–æ–∫ –ø–æ–≤–µ—Ä—Ö <code>using</code></li>
<li><strong>–†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã</strong> ‚Äî —Å–ª–æ–∂–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è</li>
<li><strong>–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∞–º–∏</strong> ‚Äî –ø—Ä–∏–º–µ—Ä—ã –∏–∑ —Ä–µ–∞–ª—å–Ω—ã—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤</li>
</ol>
<hr />
<h2 id="–ü–æ–ª–µ–∑–Ω—ã–µ-—Å—Å—ã–ª–∫–∏-1"><a class="header" href="#–ü–æ–ª–µ–∑–Ω—ã–µ-—Å—Å—ã–ª–∫–∏-1">–ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏</a></h2>
<h3 id="–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è"><a class="header" href="#–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è">–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è</a></h3>
<ul>
<li><a href="https://www.typescriptlang.org/docs/handbook/release-notes/typescript-5-2.html">TypeScript 5.2 Release Notes - using</a></li>
<li><a href="https://github.com/tc39/proposal-explicit-resource-management">ECMAScript Explicit Resource Management Proposal</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/FinalizationRegistry">MDN: FinalizationRegistry</a></li>
</ul>
<h3 id="–§–ª–∞–≥–∏-–¥–ª—è-–∑–∞–ø—É—Å–∫–∞-–ø—Ä–∏–º–µ—Ä–æ–≤"><a class="header" href="#–§–ª–∞–≥–∏-–¥–ª—è-–∑–∞–ø—É—Å–∫–∞-–ø—Ä–∏–º–µ—Ä–æ–≤">–§–ª–∞–≥–∏ –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –ø—Ä–∏–º–µ—Ä–æ–≤</a></h3>
<pre><code class="language-bash"># –í–∫–ª—é—á–∏—Ç—å —Ä—É—á–Ω–æ–π –≤—ã–∑–æ–≤ Garbage Collection
node --expose-gc script.js

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤–µ—Ä—Å–∏—é Node.js
node --version  # –î–æ–ª–∂–Ω–∞ –±—ã—Ç—å 24+
</code></pre>
<h3 id="–¢–∏–ø—ã-typescript"><a class="header" href="#–¢–∏–ø—ã-typescript">–¢–∏–ø—ã TypeScript</a></h3>
<pre><code class="language-typescript">interface Disposable {
  [Symbol.dispose](): void;
}

interface AsyncDisposable {
  [Symbol.asyncDispose](): void | Promise&lt;void&gt;;
}
</code></pre>
<hr />
<h2 id="–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ-–∑–∞–¥–∞–Ω–∏—è"><a class="header" href="#–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ-–∑–∞–¥–∞–Ω–∏—è">–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –∑–∞–¥–∞–Ω–∏—è</a></h2>
<h3 id="–ó–∞–¥–∞–Ω–∏–µ-1-–ë–∞–∑–æ–≤–æ–µ-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ"><a class="header" href="#–ó–∞–¥–∞–Ω–∏–µ-1-–ë–∞–∑–æ–≤–æ–µ-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ">–ó–∞–¥–∞–Ω–∏–µ 1: –ë–∞–∑–æ–≤–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ</a></h3>
<p>–°–æ–∑–¥–∞–π—Ç–µ –∫–ª–∞—Å—Å <code>DatabaseConnection</code> —Å –º–µ—Ç–æ–¥–æ–º <code>Symbol.dispose</code>, –∫–æ—Ç–æ—Ä—ã–π –ª–æ–≥–∏—Ä—É–µ—Ç –∑–∞–∫—Ä—ã—Ç–∏–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è.</p>
<h3 id="–ó–∞–¥–∞–Ω–∏–µ-2-–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è-–æ—á–∏—Å—Ç–∫–∞"><a class="header" href="#–ó–∞–¥–∞–Ω–∏–µ-2-–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è-–æ—á–∏—Å—Ç–∫–∞">–ó–∞–¥–∞–Ω–∏–µ 2: –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞</a></h3>
<p>–†–µ–∞–ª–∏–∑—É–π—Ç–µ –∫–ª–∞—Å—Å <code>CachedLogger</code>, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–∏ dispose:</p>
<ol>
<li>–°–±—Ä–∞—Å—ã–≤–∞–µ—Ç –±—É—Ñ–µ—Ä –≤ —Ñ–∞–π–ª</li>
<li>–ó–∞–∫—Ä—ã–≤–∞–µ—Ç —Ñ–∞–π–ª</li>
<li>–û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –º–µ—Ç—Ä–∏–∫–∏ (–∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ)</li>
</ol>
<h3 id="–ó–∞–¥–∞–Ω–∏–µ-3-–í–ª–æ–∂–µ–Ω–Ω—ã–µ-–∫–æ–Ω—Ç–µ–∫—Å—Ç—ã"><a class="header" href="#–ó–∞–¥–∞–Ω–∏–µ-3-–í–ª–æ–∂–µ–Ω–Ω—ã–µ-–∫–æ–Ω—Ç–µ–∫—Å—Ç—ã">–ó–∞–¥–∞–Ω–∏–µ 3: –í–ª–æ–∂–µ–Ω–Ω—ã–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç—ã</a></h3>
<p>–ù–∞–ø–∏—à–∏—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é —Å –≤–ª–æ–∂–µ–Ω–Ω—ã–º–∏ <code>using</code> –±–ª–æ–∫–∞–º–∏ –∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ—Ä—è–¥–æ–∫ –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏—è.</p>
<h3 id="–ó–∞–¥–∞–Ω–∏–µ-4-–û–±—Ä–∞–±–æ—Ç–∫–∞-–æ—à–∏–±–æ–∫"><a class="header" href="#–ó–∞–¥–∞–Ω–∏–µ-4-–û–±—Ä–∞–±–æ—Ç–∫–∞-–æ—à–∏–±–æ–∫">–ó–∞–¥–∞–Ω–∏–µ 4: –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫</a></h3>
<p>–°–æ–∑–¥–∞–π—Ç–µ –∫–ª–∞—Å—Å, –∫–æ—Ç–æ—Ä—ã–π –≤—ã–±—Ä–∞—Å—ã–≤–∞–µ—Ç –æ—à–∏–±–∫—É –≤ <code>dispose</code>, –∏ –æ–±—Ä–∞–±–æ—Ç–∞–π—Ç–µ <code>SuppressedError</code>.</p>
<hr />
<h2 id="–ó–∞–∫–ª—é—á–µ–Ω–∏–µ-6"><a class="header" href="#–ó–∞–∫–ª—é—á–µ–Ω–∏–µ-6">–ó–∞–∫–ª—é—á–µ–Ω–∏–µ</a></h2>
<p>–ú–µ—Ö–∞–Ω–∏–∑–º —è–≤–Ω–æ–≥–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ä–µ—Å—É—Ä—Å–∞–º–∏ —á–µ—Ä–µ–∑ <code>using</code> –∏ <code>Symbol.dispose</code> ‚Äî —ç—Ç–æ –º–æ—â–Ω–æ–µ –¥–æ–ø–æ–ª–Ω–µ–Ω–∏–µ –∫ JavaScript/TypeScript, –∫–æ—Ç–æ—Ä–æ–µ:</p>
<ul>
<li>–î–µ–ª–∞–µ—Ç –∫–æ–¥ —á–∏—â–µ –∏ –±–µ–∑–æ–ø–∞—Å–Ω–µ–µ</li>
<li>–ì–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤</li>
<li>–£–ø—Ä–æ—â–∞–µ—Ç —Ä–∞–±–æ—Ç—É —Å–æ —Å–ª–æ–∂–Ω—ã–º–∏ —Å—Ü–µ–Ω–∞—Ä–∏—è–º–∏</li>
<li>–ü—Ä–∏–±–ª–∏–∂–∞–µ—Ç JavaScript –∫ —è–∑—ã–∫–∞–º —Å RAII (Resource Acquisition Is Initialization)</li>
</ul>
<p>–ù–∞—á–∏–Ω–∞–π—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —ç—Ç—É –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –≤ –Ω–æ–≤—ã—Ö –ø—Ä–æ–µ–∫—Ç–∞—Ö —É–∂–µ —Å–µ–π—á–∞—Å!</p>
<hr />
<p><strong>–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è –∫–æ–Ω—Å–ø–µ–∫—Ç–∞</strong>: 2025-12-09
<strong>–í–µ—Ä—Å–∏—è Node.js</strong>: 24+
<strong>–í–µ—Ä—Å–∏—è TypeScript</strong>: 5.2+</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="–ü–æ–¥—Å—á–µ—Ç-—Å—Å—ã–ª–æ–∫-–Ω–∞-—Ä–µ—Å—É—Ä—Å-–ø—Ä–∏-–ø–æ–º–æ—â–∏-using-–∏-disposable-–≤-javascript"><a class="header" href="#–ü–æ–¥—Å—á–µ—Ç-—Å—Å—ã–ª–æ–∫-–Ω–∞-—Ä–µ—Å—É—Ä—Å-–ø—Ä–∏-–ø–æ–º–æ—â–∏-using-–∏-disposable-–≤-javascript">–ü–æ–¥—Å—á–µ—Ç —Å—Å—ã–ª–æ–∫ –Ω–∞ —Ä–µ—Å—É—Ä—Å –ø—Ä–∏ –ø–æ–º–æ—â–∏ Using –∏ Disposable –≤ JavaScript</a></h1>
<h2 id="–û–±–∑–æ—Ä-4"><a class="header" href="#–û–±–∑–æ—Ä-4">–û–±–∑–æ—Ä</a></h2>
<p>–î–∞–Ω–Ω–∞—è –ª–µ–∫—Ü–∏—è –ø–æ—Å–≤—è—â–µ–Ω–∞ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –ø–∞—Ç—Ç–µ—Ä–Ω–∞ Reference Counter (—Å—á–µ—Ç—á–∏–∫ —Å—Å—ã–ª–æ–∫) —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –Ω–æ–≤—ã—Ö –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π JavaScript ‚Äî <code>using</code> –∏ <code>disposable</code>. –≠—Ç–∏ –º–µ—Ö–∞–Ω–∏–∑–º—ã –ø–æ—è–≤–∏–ª–∏—Å—å –Ω–µ–¥–∞–≤–Ω–æ (Node.js v24, —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ –≤–µ—Ä—Å–∏–∏ Chrome) –∏ –ø–æ–∑–≤–æ–ª—è—é—Ç —É–ø—Ä–∞–≤–ª—è—Ç—å –∂–∏–∑–Ω–µ–Ω–Ω—ã–º —Ü–∏–∫–ª–æ–º —Ä–µ—Å—É—Ä—Å–æ–≤ –±–æ–ª–µ–µ —è–≤–Ω–æ –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ, —á–µ–º —Ç—Ä–∞–¥–∏—Ü–∏–æ–Ω–Ω—ã–µ –ø–æ–¥—Ö–æ–¥—ã.</p>
<p><strong>–û—Å–Ω–æ–≤–Ω—ã–µ —Ç–µ–º—ã:</strong></p>
<ul>
<li>Explicit Resource Management (—è–≤–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–∞–º–∏)</li>
<li>–†–µ–∞–ª–∏–∑–∞—Ü–∏—è Reference Counter –Ω–∞ –±–∞–∑–µ <code>using</code> –∏ <code>disposable</code></li>
<li>–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤ –ø—Ä–∏ –≤—ã—Ö–æ–¥–µ –∏–∑ –±–ª–æ–∫–∞</li>
<li>–°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å –ø–æ–¥—Ö–æ–¥–æ–º –Ω–∞ –±–∞–∑–µ Finalization Registry</li>
<li>–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–∏–º–µ—Ä—ã —Å —Ñ–∞–π–ª–æ–≤—ã–º–∏ –¥–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä–∞–º–∏ –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ–º</li>
</ul>
<hr />
<h2 id="–í–≤–µ–¥–µ–Ω–∏–µ-–≤-explicit-resource-management"><a class="header" href="#–í–≤–µ–¥–µ–Ω–∏–µ-–≤-explicit-resource-management">–í–≤–µ–¥–µ–Ω–∏–µ –≤ Explicit Resource Management</a></h2>
<h3 id="–ß—Ç–æ-—Ç–∞–∫–æ–µ-explicit-resource-management"><a class="header" href="#–ß—Ç–æ-—Ç–∞–∫–æ–µ-explicit-resource-management">–ß—Ç–æ —Ç–∞–∫–æ–µ Explicit Resource Management?</a></h3>
<p><strong>Explicit Resource Management</strong> ‚Äî —ç—Ç–æ –ø–∞—Ç—Ç–µ—Ä–Ω —è–≤–Ω–æ–≥–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ä–µ—Å—É—Ä—Å–∞–º–∏, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∑–≤–æ–ª—è–µ—Ç –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤ (—Ñ–∞–π–ª—ã, —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è, –ø–∞–º—è—Ç—å) –ø—Ä–∏ –≤—ã—Ö–æ–¥–µ –∏–∑ –æ–±–ª–∞—Å—Ç–∏ –≤–∏–¥–∏–º–æ—Å—Ç–∏.</p>
<h3 id="–ö–ª—é—á–µ–≤—ã–µ-–∫–æ–Ω—Ü–µ–ø—Ü–∏–∏"><a class="header" href="#–ö–ª—é—á–µ–≤—ã–µ-–∫–æ–Ω—Ü–µ–ø—Ü–∏–∏">–ö–ª—é—á–µ–≤—ã–µ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏</a></h3>
<p><strong><code>using</code> declaration</strong> ‚Äî —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ–µ –æ–±—ä—è–≤–ª–µ–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π, –∫–æ—Ç–æ—Ä–æ–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤—ã–∑—ã–≤–∞–µ—Ç –º–µ—Ç–æ–¥ <code>Symbol.dispose</code> –ø—Ä–∏ –≤—ã—Ö–æ–¥–µ –∏–∑ –±–ª–æ–∫–∞.</p>
<p><strong><code>Symbol.dispose</code></strong> ‚Äî —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π —Å–∏–º–≤–æ–ª, –æ–ø—Ä–µ–¥–µ–ª—è—é—â–∏–π –º–µ—Ç–æ–¥ –æ—á–∏—Å—Ç–∫–∏ —Ä–µ—Å—É—Ä—Å–∞.</p>
<p><strong>Disposable –æ–±—ä–µ–∫—Ç</strong> ‚Äî –æ–±—ä–µ–∫—Ç, –∏–º–µ—é—â–∏–π –º–µ—Ç–æ–¥ <code>[Symbol.dispose]()</code>, –∫–æ—Ç–æ—Ä—ã–π –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.</p>
<h4 id="–ë–∞–∑–æ–≤—ã–π-–ø—Ä–∏–º–µ—Ä-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è-1"><a class="header" href="#–ë–∞–∑–æ–≤—ã–π-–ø—Ä–∏–º–µ—Ä-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è-1">–ë–∞–∑–æ–≤—ã–π –ø—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è</a></h4>
<pre><code class="language-javascript">// –û–±—ä–µ–∫—Ç —Å –º–µ—Ç–æ–¥–æ–º dispose
const resource = {
  value: 'some data',
  [Symbol.dispose]() {
    console.log('Resource disposed');
    // –ó–¥–µ—Å—å –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –æ—á–∏—Å—Ç–∫–∞ —Ä–µ—Å—É—Ä—Å–∞
  }
};

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ using
{
  using myResource = resource;
  console.log(myResource.value); // 'some data'
  // –ü—Ä–∏ –≤—ã—Ö–æ–¥–µ –∏–∑ –±–ª–æ–∫–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤—ã–∑–æ–≤–µ—Ç—Å—è resource[Symbol.dispose]()
}
// –í—ã–≤–æ–¥: 'Resource disposed'
</code></pre>
<p><strong>–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:</strong></p>
<ul>
<li>–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤</li>
<li>–ó–∞—â–∏—Ç–∞ –æ—Ç —É—Ç–µ—á–µ–∫ –ø–∞–º—è—Ç–∏</li>
<li>–†–∞–±–æ—Ç–∞–µ—Ç –¥–∞–∂–µ –ø—Ä–∏ –≤—ã–±—Ä–æ—Å–µ –∏—Å–∫–ª—é—á–µ–Ω–∏–π</li>
<li>–ë–æ–ª–µ–µ –∫–æ—Ä–æ—Ç–∫–∏–π –∏ –ø–æ–Ω—è—Ç–Ω—ã–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å –ø–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏—é —Å <code>try...finally</code></li>
</ul>
<hr />
<h2 id="reference-counter-–ë–∞–∑–æ–≤–∞—è-—Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è"><a class="header" href="#reference-counter-–ë–∞–∑–æ–≤–∞—è-—Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è">Reference Counter: –ë–∞–∑–æ–≤–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è</a></h2>
<h3 id="–ö–æ–Ω—Ü–µ–ø—Ü–∏—è-reference-counter"><a class="header" href="#–ö–æ–Ω—Ü–µ–ø—Ü–∏—è-reference-counter">–ö–æ–Ω—Ü–µ–ø—Ü–∏—è Reference Counter</a></h3>
<p><strong>Reference Counter (—Å—á–µ—Ç—á–∏–∫ —Å—Å—ã–ª–æ–∫)</strong> ‚Äî –ø–∞—Ç—Ç–µ—Ä–Ω, –∫–æ—Ç–æ—Ä—ã–π –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∞–∫—Ç–∏–≤–Ω—ã—Ö —Å—Å—ã–ª–æ–∫ –Ω–∞ —Ä–µ—Å—É—Ä—Å –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Å–≤–æ–±–æ–∂–¥–∞–µ—Ç —Ä–µ—Å—É—Ä—Å, –∫–æ–≥–¥–∞ —Å—á–µ—Ç—á–∏–∫ –¥–æ—Å—Ç–∏–≥–∞–µ—Ç –Ω—É–ª—è.</p>
<h3 id="–°—Ç—Ä—É–∫—Ç—É—Ä–∞-reference-counter"><a class="header" href="#–°—Ç—Ä—É–∫—Ç—É—Ä–∞-reference-counter">–°—Ç—Ä—É–∫—Ç—É—Ä–∞ Reference Counter</a></h3>
<pre><code class="language-javascript">class ReferenceCounter {
  #resource = null;      // –°–∞–º —Ä–µ—Å—É—Ä—Å (–Ω–∞–ø—Ä–∏–º–µ—Ä, –∫–æ–Ω—Å–æ–ª—å)
  #context = null;       // –ö–æ–Ω—Ç–µ–∫—Å—Ç —Å –¥–∞–Ω–Ω—ã–º–∏ –¥–ª—è —Ñ–∏–Ω–∞–ª–∏–∑–∞—Ü–∏–∏
  #counter = 0;          // –°—á–µ—Ç—á–∏–∫ –∞–∫—Ç–∏–≤–Ω—ã—Ö —Å—Å—ã–ª–æ–∫
  #create = null;        // –§—É–Ω–∫—Ü–∏—è —Å–æ–∑–¥–∞–Ω–∏—è —Ä–µ—Å—É—Ä—Å–∞
  #dispose = null;       // –§—É–Ω–∫—Ü–∏—è –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏—è —Ä–µ—Å—É—Ä—Å–∞

  constructor(create, dispose) {
    this.#create = create;
    this.#dispose = dispose;
  }

  // –ú–µ—Ç–æ–¥—ã –±—É–¥—É—Ç —Ä–∞—Å—Å–º–æ—Ç—Ä–µ–Ω—ã –Ω–∏–∂–µ
}
</code></pre>
<p><strong>–ü–æ–ª—è –∫–ª–∞—Å—Å–∞:</strong></p>
<ul>
<li><code>#resource</code> ‚Äî —Ö—Ä–∞–Ω–∏—Ç —Å–æ–∑–¥–∞–Ω–Ω—ã–π —ç–∫–∑–µ–º–ø–ª—è—Ä —Ä–µ—Å—É—Ä—Å–∞</li>
<li><code>#context</code> ‚Äî –∫–æ–Ω—Ç–µ–∫—Å—Ç —Å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Ñ–∞–π–ª–æ–≤—ã–π –¥–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä)</li>
<li><code>#counter</code> ‚Äî —Ç–µ–∫—É—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∞–∫—Ç–∏–≤–Ω—ã—Ö —Å—Å—ã–ª–æ–∫</li>
<li><code>#create</code> ‚Äî —Ñ—É–Ω–∫—Ü–∏—è-—Ñ–∞–±—Ä–∏–∫–∞ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Ä–µ—Å—É—Ä—Å–∞</li>
<li><code>#dispose</code> ‚Äî —Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏—è —Ä–µ—Å—É—Ä—Å–∞</li>
</ul>
<hr />
<h2 id="–ü—Ä–∏–º–µ—Ä-7-–ü—Ä–æ—Å—Ç–æ–π-reference-counter-–¥–ª—è-–ª–æ–≥–µ—Ä–∞"><a class="header" href="#–ü—Ä–∏–º–µ—Ä-7-–ü—Ä–æ—Å—Ç–æ–π-reference-counter-–¥–ª—è-–ª–æ–≥–µ—Ä–∞">–ü—Ä–∏–º–µ—Ä 7: –ü—Ä–æ—Å—Ç–æ–π Reference Counter –¥–ª—è –ª–æ–≥–µ—Ä–∞</a></h2>
<h3 id="–ü–æ—Å—Ç–∞–Ω–æ–≤–∫–∞-–∑–∞–¥–∞—á–∏"><a class="header" href="#–ü–æ—Å—Ç–∞–Ω–æ–≤–∫–∞-–∑–∞–¥–∞—á–∏">–ü–æ—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–¥–∞—á–∏</a></h3>
<p>–°–æ–∑–¥–∞—Ç—å –ª–æ–≥–µ—Ä, –∫–æ—Ç–æ—Ä—ã–π:</p>
<ol>
<li>–ó–∞–ø–∏—Å—ã–≤–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –≤ —Ñ–∞–π–ª</li>
<li>–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç —Ñ–∞–π–ª –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏</li>
<li>–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–∫—Ä—ã–≤–∞–µ—Ç —Ñ–∞–π–ª, –∫–æ–≥–¥–∞ –≤—Å–µ –±–ª–æ–∫–∏ –∑–∞–≤–µ—Ä—à–µ–Ω—ã</li>
<li>–ò—Å–ø–æ–ª—å–∑—É–µ—Ç Reference Counter –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –∞–∫—Ç–∏–≤–Ω—ã—Ö –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–π</li>
</ol>
<h3 id="–†–µ–∞–ª–∏–∑–∞—Ü–∏—è-—Å–æ–∑–¥–∞–Ω–∏—è-–ª–æ–≥–µ—Ä–∞"><a class="header" href="#–†–µ–∞–ª–∏–∑–∞—Ü–∏—è-—Å–æ–∑–¥–∞–Ω–∏—è-–ª–æ–≥–µ—Ä–∞">–†–µ–∞–ª–∏–∑–∞—Ü–∏—è —Å–æ–∑–¥–∞–Ω–∏—è –ª–æ–≥–µ—Ä–∞</a></h3>
<pre><code class="language-javascript">import { open } from 'node:fs';
import { Console } from 'node:console';

// –§—É–Ω–∫—Ü–∏—è —Å–æ–∑–¥–∞–Ω–∏—è —ç–∫–∑–µ–º–ø–ª—è—Ä–∞ –ª–æ–≥–µ—Ä–∞
const createLogger = () =&gt; {
  // –û—Ç–∫—Ä—ã–≤–∞–µ–º —Ñ–∞–π–ª –¥–ª—è –∑–∞–ø–∏—Å–∏
  const fd = open('output.log', 'w');

  // –°–æ–∑–¥–∞–µ–º –ø–æ—Ç–æ–∫ –¥–ª—è –∑–∞–ø–∏—Å–∏
  const stream = fs.createWriteStream(null, { fd });

  // –°–æ–∑–¥–∞–µ–º –∫–æ–Ω—Å–æ–ª—å, –∫–æ—Ç–æ—Ä–∞—è –ø–∏—à–µ—Ç –≤ –ø–æ—Ç–æ–∫
  const console = new Console(stream);

  // –í–æ–∑–≤—Ä–∞—â–∞–µ–º —Ä–µ—Å—É—Ä—Å –∏ –∫–æ–Ω—Ç–µ–∫—Å—Ç
  return {
    resource: console,    // –°–∞–º–∞ –∫–æ–Ω—Å–æ–ª—å –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
    context: { fd }       // –§–∞–π–ª–æ–≤—ã–π –¥–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä –¥–ª—è –∑–∞–∫—Ä—ã—Ç–∏—è
  };
};

// –§—É–Ω–∫—Ü–∏—è —Ñ–∏–Ω–∞–ª–∏–∑–∞—Ü–∏–∏ (–æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏—è) –ª–æ–≥–µ—Ä–∞
const disposeLogger = (context) =&gt; {
  // –ó–∞–∫—Ä—ã–≤–∞–µ–º —Ñ–∞–π–ª–æ–≤—ã–π –¥–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä –∏–∑ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞
  context.fd.close();
};

// –°–æ–∑–¥–∞–µ–º Reference Counter –¥–ª—è –ª–æ–≥–µ—Ä–∞
const logger = new ReferenceCounter(createLogger, disposeLogger);
</code></pre>
<p><strong>–í–∞–∂–Ω—ã–µ –º–æ–º–µ–Ω—Ç—ã:</strong></p>
<ul>
<li>–§—É–Ω–∫—Ü–∏—è <code>createLogger</code> –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ–±—ä–µ–∫—Ç —Å –¥–≤—É–º—è –ø–æ–ª—è–º–∏: <code>resource</code> –∏ <code>context</code></li>
<li><code>resource</code> ‚Äî —ç—Ç–æ —Ç–æ, —á—Ç–æ –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –≤ –∫–æ–¥–µ (–∫–æ–Ω—Å–æ–ª—å)</li>
<li><code>context</code> ‚Äî —ç—Ç–æ –¥–∞–Ω–Ω—ã–µ –¥–ª—è —Ñ–∏–Ω–∞–ª–∏–∑–∞—Ü–∏–∏ (—Ñ–∞–π–ª–æ–≤—ã–π –¥–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä)</li>
<li>Reference Counter —É–Ω–∏–≤–µ—Ä—Å–∞–ª–µ–Ω ‚Äî –æ–Ω –Ω–µ –ø—Ä–∏–≤—è–∑–∞–Ω –∫ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–º—É —Ç–∏–ø—É —Ä–µ—Å—É—Ä—Å–∞</li>
</ul>
<h3 id="–ú–µ—Ç–æ–¥-use--—Å–æ–∑–¥–∞–Ω–∏–µ-disposable"><a class="header" href="#–ú–µ—Ç–æ–¥-use--—Å–æ–∑–¥–∞–Ω–∏–µ-disposable">–ú–µ—Ç–æ–¥ use() ‚Äî —Å–æ–∑–¥–∞–Ω–∏–µ Disposable</a></h3>
<pre><code class="language-javascript">class ReferenceCounter {
  // ... –ø—Ä–µ–¥—ã–¥—É—â–∏–π –∫–æ–¥ ...

  use() {
    // –£–≤–µ–ª–∏—á–∏–≤–∞–µ–º —Å—á–µ—Ç—á–∏–∫ —Å—Å—ã–ª–æ–∫
    this.#counter++;

    // –ë–µ—Ä–µ–º —Ä–µ—Å—É—Ä—Å (–∫–æ–Ω—Å–æ–ª—å)
    const resource = this.#resource;

    // –°–æ–∑–¥–∞–µ–º –Ω–æ–≤—ã–π –æ–±—ä–µ–∫—Ç, –Ω–∞—Å–ª–µ–¥—É—é—â–∏–π –æ—Ç —Ä–µ—Å—É—Ä—Å–∞
    const disposable = Object.create(resource);

    // –î–æ–±–∞–≤–ª—è–µ–º –º–µ—Ç–æ–¥ dispose
    disposable[Symbol.dispose] = () =&gt; {
      // –£–º–µ–Ω—å—à–∞–µ–º —Å—á–µ—Ç—á–∏–∫ –ø—Ä–∏ –≤—ã—Ö–æ–¥–µ –∏–∑ –±–ª–æ–∫–∞
      this.#counter--;

      // –ï—Å–ª–∏ —Å—á–µ—Ç—á–∏–∫ –¥–æ—Å—Ç–∏–≥ –Ω—É–ª—è
      if (this.#counter === 0) {
        // –í—ã–∑—ã–≤–∞–µ–º —Ñ—É–Ω–∫—Ü–∏—é –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏—è —Ä–µ—Å—É—Ä—Å–∞
        this.#dispose(this.#context);

        // –û—á–∏—â–∞–µ–º —Å—Å—ã–ª–∫–∏
        this.#resource = null;
        this.#context = null;
      }
    };

    // –í–æ–∑–≤—Ä–∞—â–∞–µ–º disposable –æ–±—ä–µ–∫—Ç
    return disposable;
  }
}
</code></pre>
<p><strong>–ú–µ—Ö–∞–Ω–∏–∑–º —Ä–∞–±–æ—Ç—ã <code>use()</code>:</strong></p>
<ol>
<li><strong>–ò–Ω–∫—Ä–µ–º–µ–Ω—Ç —Å—á–µ—Ç—á–∏–∫–∞:</strong> –ø—Ä–∏ –∫–∞–∂–¥–æ–º –≤—ã–∑–æ–≤–µ <code>use()</code> —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç—Å—è <code>#counter</code></li>
<li><strong>–°–æ–∑–¥–∞–Ω–∏–µ disposable:</strong> —Å–æ–∑–¥–∞–µ—Ç—Å—è –Ω–æ–≤—ã–π –æ–±—ä–µ–∫—Ç —Å –ø—Ä–æ—Ç–æ—Ç–∏–ø–Ω–æ–π —Å—Å—ã–ª–∫–æ–π –Ω–∞ —Ä–µ—Å—É—Ä—Å</li>
<li><strong>–î–æ–±–∞–≤–ª–µ–Ω–∏–µ <code>Symbol.dispose</code>:</strong> –≤ –æ–±—ä–µ–∫—Ç –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –º–µ—Ç–æ–¥ –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –æ—á–∏—Å—Ç–∫–∏</li>
<li><strong>–î–µ–∫—Ä–µ–º–µ–Ω—Ç –ø—Ä–∏ dispose:</strong> –∫–æ–≥–¥–∞ –±–ª–æ–∫ <code>using</code> –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è, —Å—á–µ—Ç—á–∏–∫ —É–º–µ–Ω—å—à–∞–µ—Ç—Å—è</li>
<li><strong>–§–∏–Ω–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –Ω—É–ª–µ:</strong> –∫–æ–≥–¥–∞ —Å—á–µ—Ç—á–∏–∫ –¥–æ—Å—Ç–∏–≥–∞–µ—Ç 0, –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è —Ñ—É–Ω–∫—Ü–∏—è –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏—è</li>
</ol>
<h3 id="–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ-–≤-–∫–æ–¥–µ"><a class="header" href="#–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ-–≤-–∫–æ–¥–µ">–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ –∫–æ–¥–µ</a></h3>
<pre><code class="language-javascript">async function main() {
  // –ë–ª–æ–∫ 0: –ø–µ—Ä–≤–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ª–æ–≥–µ—Ä–∞
  {
    using console0 = logger.use();
    console0.log('log 0');

    // –ë–ª–æ–∫ 1: –≤–ª–æ–∂–µ–Ω–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
    {
      using console1 = logger.use();
      console1.log('log 1');

      // –ë–ª–æ–∫ 2: –µ—â–µ –±–æ–ª–µ–µ –≤–ª–æ–∂–µ–Ω–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
      {
        using console2 = logger.use();
        console2.log('log 2');

        // –°–æ—Ö—Ä–∞–Ω—è–µ–º —Å—Å—ã–ª–∫—É –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤–Ω–µ –±–ª–æ–∫–∞
        rf3 = console2;
      } // dispose –¥–ª—è console2 - —Å—á–µ—Ç—á–∏–∫: 3 -&gt; 2
    } // dispose –¥–ª—è console1 - —Å—á–µ—Ç—á–∏–∫: 2 -&gt; 1
  } // dispose –¥–ª—è console0 - —Å—á–µ—Ç—á–∏–∫: 1 -&gt; 0, –≤—ã–∑–æ–≤ disposeLogger

  // –ë–ª–æ–∫ 3: –ø–æ–ø—ã—Ç–∫–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —É—Ç–µ–∫—à—É—é —Å—Å—ã–ª–∫—É
  {
    using rf4 = rf3; // –≠—Ç–æ —Ç–∞ –∂–µ —Å—Å—ã–ª–∫–∞, –Ω–æ —Ä–µ—Å—É—Ä—Å —É–∂–µ –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω
    rf4.log('log 3'); // –ó–∞–ø–∏—Å—å –ù–ï –ø—Ä–æ–∏–∑–æ–π–¥–µ—Ç - —Ñ–∞–π–ª –∑–∞–∫—Ä—ã—Ç!
  }
}

const rf4 = await main();
console.log('After main');
rf4.log('log 4'); // –¢–æ–∂–µ –ù–ï –∑–∞–ø–∏—à–µ—Ç—Å—è - —Ä–µ—Å—É—Ä—Å –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω
</code></pre>
<p><strong>–ü–æ—à–∞–≥–æ–≤–∞—è —Ç—Ä–∞—Å—Å–∏—Ä–æ–≤–∫–∞:</strong></p>
<pre><code>1. –û—Ç–∫—Ä—ã—Ç–∏–µ —Ñ–∞–π–ª–∞:
   - createLogger –≤—ã–∑–≤–∞–Ω
   - fd –æ—Ç–∫—Ä—ã—Ç, stream —Å–æ–∑–¥–∞–Ω, console —Å–æ–∑–¥–∞–Ω
   - counter = 0

2. –í—Ö–æ–¥ –≤ –±–ª–æ–∫ 0:
   - use() –≤—ã–∑–≤–∞–Ω
   - counter = 1
   - console0.log('log 0') ‚Üí –∑–∞–ø–∏—Å—å –≤ —Ñ–∞–π–ª ‚úì

3. –í—Ö–æ–¥ –≤ –±–ª–æ–∫ 1:
   - use() –≤—ã–∑–≤–∞–Ω
   - counter = 2
   - console1.log('log 1') ‚Üí –∑–∞–ø–∏—Å—å –≤ —Ñ–∞–π–ª ‚úì

4. –í—Ö–æ–¥ –≤ –±–ª–æ–∫ 2:
   - use() –≤—ã–∑–≤–∞–Ω
   - counter = 3
   - console2.log('log 2') ‚Üí –∑–∞–ø–∏—Å—å –≤ —Ñ–∞–π–ª ‚úì
   - rf3 = console2 (—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å—Å—ã–ª–∫–∏)

5. –í—ã—Ö–æ–¥ –∏–∑ –±–ª–æ–∫–∞ 2:
   - Symbol.dispose –≤—ã–∑–≤–∞–Ω –¥–ª—è console2
   - counter = 2

6. –í—ã—Ö–æ–¥ –∏–∑ –±–ª–æ–∫–∞ 1:
   - Symbol.dispose –≤—ã–∑–≤–∞–Ω –¥–ª—è console1
   - counter = 1

7. –í—ã—Ö–æ–¥ –∏–∑ –±–ª–æ–∫–∞ 0:
   - Symbol.dispose –≤—ã–∑–≤–∞–Ω –¥–ª—è console0
   - counter = 0
   - disposeLogger –≤—ã–∑–≤–∞–Ω
   - fd.close() - –§–ê–ô–õ –ó–ê–ö–†–´–¢
   - resource = null, context = null

8. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ rf3/rf4:
   - –°—Å—ã–ª–∫–∞ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç, –Ω–æ —Ä–µ—Å—É—Ä—Å —É–∂–µ –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω
   - –ü–æ–ø—ã—Ç–∫–∏ –∑–∞–ø–∏—Å–∏ –Ω–µ –¥–∞–¥—É—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞
</code></pre>
<h3 id="–†–µ–∑—É–ª—å—Ç–∞—Ç-–≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è"><a class="header" href="#–†–µ–∑—É–ª—å—Ç–∞—Ç-–≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è">–†–µ–∑—É–ª—å—Ç–∞—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è</a></h3>
<p><strong>–í—ã–≤–æ–¥ –≤ –∫–æ–Ω—Å–æ–ª—å:</strong></p>
<pre><code>open
use (counter: 1)
dispose (counter: 0)
use (counter: 1)
use (counter: 2)
dispose (counter: 1)
dispose (counter: 0)
close
After main
</code></pre>
<p><strong>–°–æ–¥–µ—Ä–∂–∏–º–æ–µ output.log:</strong></p>
<pre><code>log 0
log 1
log 2
</code></pre>
<p><strong>–ß—Ç–æ –ù–ï –∑–∞–ø–∏—Å–∞–ª–æ—Å—å:</strong></p>
<ul>
<li><code>log 3</code> ‚Äî —Ä–µ—Å—É—Ä—Å —É–∂–µ –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω</li>
<li><code>log 4</code> ‚Äî —Ä–µ—Å—É—Ä—Å —É–∂–µ –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω</li>
</ul>
<hr />
<h2 id="–ü—Ä–∏–º–µ—Ä-8-reference-counter-—Å-–∫–æ–ª–ª–µ–∫—Ü–∏–µ–π-—Ñ–∞–π–ª–æ–≤"><a class="header" href="#–ü—Ä–∏–º–µ—Ä-8-reference-counter-—Å-–∫–æ–ª–ª–µ–∫—Ü–∏–µ–π-—Ñ–∞–π–ª–æ–≤">–ü—Ä–∏–º–µ—Ä 8: Reference Counter —Å –∫–æ–ª–ª–µ–∫—Ü–∏–µ–π —Ñ–∞–π–ª–æ–≤</a></h2>
<h3 id="–ü–æ—Å—Ç–∞–Ω–æ–≤–∫–∞-–∑–∞–¥–∞—á–∏-1"><a class="header" href="#–ü–æ—Å—Ç–∞–Ω–æ–≤–∫–∞-–∑–∞–¥–∞—á–∏-1">–ü–æ—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–¥–∞—á–∏</a></h3>
<p>–°–æ–∑–¥–∞—Ç—å –ª–æ–≥–µ—Ä, –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å —Å <strong>–Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ —Ñ–∞–π–ª–∞–º–∏ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ</strong>, –≥–¥–µ:</p>
<ul>
<li>–î–ª—è –∫–∞–∂–¥–æ–≥–æ —Ñ–∞–π–ª–∞ –≤–µ–¥–µ—Ç—Å—è —Å–≤–æ–π —Å—á–µ—Ç—á–∏–∫ —Å—Å—ã–ª–æ–∫</li>
<li>–§–∞–π–ª –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —Ä–∞–∑ –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –æ–±—Ä–∞—â–µ–Ω–∏–∏</li>
<li>–§–∞–π–ª –∑–∞–∫—Ä—ã–≤–∞–µ—Ç—Å—è, –∫–æ–≥–¥–∞ –µ–≥–æ —Å—á–µ—Ç—á–∏–∫ –¥–æ—Å—Ç–∏–≥–∞–µ—Ç –Ω—É–ª—è</li>
<li>–†–∞–∑–Ω—ã–µ –±–ª–æ–∫–∏ –º–æ–≥—É—Ç –ø–∏—Å–∞—Ç—å –≤ —Ä–∞–∑–Ω—ã–µ —Ñ–∞–π–ª—ã</li>
</ul>
<h3 id="–°—Ç—Ä—É–∫—Ç—É—Ä–∞-–¥–∞–Ω–Ω—ã—Ö-–¥–ª—è-–∫–æ–ª–ª–µ–∫—Ü–∏–∏-—Ñ–∞–π–ª–æ–≤"><a class="header" href="#–°—Ç—Ä—É–∫—Ç—É—Ä–∞-–¥–∞–Ω–Ω—ã—Ö-–¥–ª—è-–∫–æ–ª–ª–µ–∫—Ü–∏–∏-—Ñ–∞–π–ª–æ–≤">–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –∫–æ–ª–ª–µ–∫—Ü–∏–∏ —Ñ–∞–π–ª–æ–≤</a></h3>
<pre><code class="language-javascript">class MultiFileLogger {
  // –ö–æ–ª–ª–µ–∫—Ü–∏—è –æ—Ç–∫—Ä—ã—Ç—ã—Ö —Ñ–∞–π–ª–æ–≤
  // –ö–ª—é—á: –∏–º—è —Ñ–∞–π–ª–∞ (—Å—Ç—Ä–æ–∫–∞)
  // –ó–Ω–∞—á–µ–Ω–∏–µ: –æ–±—ä–µ–∫—Ç —Å –ø–æ–ª—è–º–∏ { counter, fd, console }
  #files = new Map();

  constructor() {
    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—É—Å—Ç–æ–π –∫–æ–ª–ª–µ–∫—Ü–∏–∏
  }
}
</code></pre>
<p><strong>–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∑–∞–ø–∏—Å–∏ –≤ –∫–æ–ª–ª–µ–∫—Ü–∏–∏:</strong></p>
<pre><code class="language-javascript">{
  'output.log': {
    counter: 2,           // –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∞–∫—Ç–∏–≤–Ω—ã—Ö –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–π
    fd: &lt;FileDescriptor&gt;, // –§–∞–π–ª–æ–≤—ã–π –¥–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä
    console: &lt;Console&gt;    // –≠–∫–∑–µ–º–ø–ª—è—Ä –∫–æ–Ω—Å–æ–ª–∏ –¥–ª—è –∑–∞–ø–∏—Å–∏
  },
  'output3.log': {
    counter: 1,
    fd: &lt;FileDescriptor&gt;,
    console: &lt;Console&gt;
  }
}
</code></pre>
<h3 id="–ú–µ—Ç–æ–¥-open--–æ—Ç–∫—Ä—ã—Ç–∏–µ-—Ñ–∞–π–ª–∞"><a class="header" href="#–ú–µ—Ç–æ–¥-open--–æ—Ç–∫—Ä—ã—Ç–∏–µ-—Ñ–∞–π–ª–∞">–ú–µ—Ç–æ–¥ open() ‚Äî –æ—Ç–∫—Ä—ã—Ç–∏–µ —Ñ–∞–π–ª–∞</a></h3>
<pre><code class="language-javascript">class MultiFileLogger {
  #files = new Map();

  open(fileName) {
    // –û—Ç–∫—Ä—ã–≤–∞–µ–º —Ñ–∞–π–ª –¥–ª—è –∑–∞–ø–∏—Å–∏
    const fd = fs.openSync(fileName, 'w');

    // –°–æ–∑–¥–∞–µ–º –ø–æ—Ç–æ–∫ –∑–∞–ø–∏—Å–∏
    const stream = fs.createWriteStream(null, { fd });

    // –°–æ–∑–¥–∞–µ–º –∫–æ–Ω—Å–æ–ª—å –¥–ª—è —ç—Ç–æ–≥–æ –ø–æ—Ç–æ–∫–∞
    const console = new Console(stream);

    // –í–æ–∑–≤—Ä–∞—â–∞–µ–º —Å—Ç—Ä—É–∫—Ç—É—Ä—É –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –≤ –∫–æ–ª–ª–µ–∫—Ü–∏—é
    return {
      counter: 0,  // –ù–∞—á–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ —Å—á–µ—Ç—á–∏–∫–∞
      fd,          // –§–∞–π–ª–æ–≤—ã–π –¥–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä
      console      // –ö–æ–Ω—Å–æ–ª—å –¥–ª—è –∑–∞–ø–∏—Å–∏
    };
  }
}
</code></pre>
<h3 id="–ú–µ—Ç–æ–¥-use--–ø–æ–ª—É—á–µ–Ω–∏–µ-disposable-–¥–ª—è-—Ñ–∞–π–ª–∞"><a class="header" href="#–ú–µ—Ç–æ–¥-use--–ø–æ–ª—É—á–µ–Ω–∏–µ-disposable-–¥–ª—è-—Ñ–∞–π–ª–∞">–ú–µ—Ç–æ–¥ use() ‚Äî –ø–æ–ª—É—á–µ–Ω–∏–µ disposable –¥–ª—è —Ñ–∞–π–ª–∞</a></h3>
<pre><code class="language-javascript">class MultiFileLogger {
  #files = new Map();

  use(fileName) {
    // –ü—ã—Ç–∞–µ–º—Å—è –Ω–∞–π—Ç–∏ —Ñ–∞–π–ª –≤ –∫–æ–ª–ª–µ–∫—Ü–∏–∏
    let instance = this.#files.get(fileName);

    // –ï—Å–ª–∏ —Ñ–∞–π–ª –µ—â–µ –Ω–µ –æ—Ç–∫—Ä—ã—Ç
    if (!instance) {
      // –û—Ç–∫—Ä—ã–≤–∞–µ–º —Ñ–∞–π–ª –∏ –ø–æ–ª—É—á–∞–µ–º —Å—Ç—Ä—É–∫—Ç—É—Ä—É
      instance = this.open(fileName);

      // –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤ –∫–æ–ª–ª–µ–∫—Ü–∏—é
      this.#files.set(fileName, instance);
    }

    // –£–≤–µ–ª–∏—á–∏–≤–∞–µ–º —Å—á–µ—Ç—á–∏–∫ –¥–ª—è —ç—Ç–æ–≥–æ —Ñ–∞–π–ª–∞
    instance.counter++;

    // –°–æ–∑–¥–∞–µ–º disposable –æ–±—ä–µ–∫—Ç –Ω–∞ –±–∞–∑–µ –∫–æ–Ω—Å–æ–ª–∏
    const disposable = Object.create(instance.console);

    // –î–æ–±–∞–≤–ª—è–µ–º –º–µ—Ç–æ–¥ dispose
    disposable[Symbol.dispose] = () =&gt; {
      // –£–º–µ–Ω—å—à–∞–µ–º —Å—á–µ—Ç—á–∏–∫
      instance.counter--;

      // –ï—Å–ª–∏ —Å—á–µ—Ç—á–∏–∫ –¥–æ—Å—Ç–∏–≥ –Ω—É–ª—è
      if (instance.counter === 0) {
        // –ó–∞–∫—Ä—ã–≤–∞–µ–º —Ñ–∞–π–ª
        instance.fd.close();

        // –£–¥–∞–ª—è–µ–º –∏–∑ –∫–æ–ª–ª–µ–∫—Ü–∏–∏
        this.#files.delete(fileName);
      }
    };

    // –í–æ–∑–≤—Ä–∞—â–∞–µ–º disposable
    return disposable;
  }
}

// –°–æ–∑–¥–∞–µ–º —ç–∫–∑–µ–º–ø–ª—è—Ä –ª–æ–≥–µ—Ä–∞
const logger = new MultiFileLogger();
</code></pre>
<p><strong>–õ–æ–≥–∏–∫–∞ —Ä–∞–±–æ—Ç—ã <code>use(fileName)</code>:</strong></p>
<ol>
<li><strong>–ü–æ–∏—Å–∫ –≤ –∫–æ–ª–ª–µ–∫—Ü–∏–∏:</strong> –ø—Ä–æ–≤–µ—Ä—è–µ–º, –æ—Ç–∫—Ä—ã—Ç –ª–∏ —É–∂–µ —ç—Ç–æ—Ç —Ñ–∞–π–ª</li>
<li><strong>–õ–µ–Ω–∏–≤–æ–µ –æ—Ç–∫—Ä—ã—Ç–∏–µ:</strong> –µ—Å–ª–∏ —Ñ–∞–π–ª–∞ –Ω–µ—Ç, –æ—Ç–∫—Ä—ã–≤–∞–µ–º –µ–≥–æ –∏ –¥–æ–±–∞–≤–ª—è–µ–º –≤ –∫–æ–ª–ª–µ–∫—Ü–∏—é</li>
<li><strong>–ò–Ω–∫—Ä–µ–º–µ–Ω—Ç —Å—á–µ—Ç—á–∏–∫–∞:</strong> —É–≤–µ–ª–∏—á–∏–≤–∞–µ–º —Å—á–µ—Ç—á–∏–∫ –¥–ª—è –¥–∞–Ω–Ω–æ–≥–æ —Ñ–∞–π–ª–∞</li>
<li><strong>–°–æ–∑–¥–∞–Ω–∏–µ disposable:</strong> —Å–æ–∑–¥–∞–µ–º –æ–±—ä–µ–∫—Ç —Å –º–µ—Ç–æ–¥–æ–º <code>Symbol.dispose</code></li>
<li><strong>–ó–∞–∫—Ä—ã—Ç–∏–µ –ø—Ä–∏ –Ω—É–ª–µ:</strong> –∫–æ–≥–¥–∞ —Å—á–µ—Ç—á–∏–∫ —Ñ–∞–π–ª–∞ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è 0, —Ñ–∞–π–ª –∑–∞–∫—Ä—ã–≤–∞–µ—Ç—Å—è –∏ —É–¥–∞–ª—è–µ—Ç—Å—è –∏–∑ –∫–æ–ª–ª–µ–∫—Ü–∏–∏</li>
</ol>
<h3 id="–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ-—Å-–Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏-—Ñ–∞–π–ª–∞–º–∏"><a class="header" href="#–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ-—Å-–Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏-—Ñ–∞–π–ª–∞–º–∏">–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ —Ñ–∞–π–ª–∞–º–∏</a></h3>
<pre><code class="language-javascript">async function main() {
  // –ë–ª–æ–∫ 0: —Ä–∞–±–æ—Ç–∞ —Å output.log
  {
    using c0 = logger.use('output.log');
    c0.log('log 0');  // –§–∞–π–ª –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è, counter = 1

    // –ë–ª–æ–∫ 1: –≤–ª–æ–∂–µ–Ω–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ç–æ–≥–æ –∂–µ —Ñ–∞–π–ª–∞
    {
      using c1 = logger.use('output.log');
      c1.log('log 1');  // –§–∞–π–ª —É–∂–µ –æ—Ç–∫—Ä—ã—Ç, counter = 2

      // –ë–ª–æ–∫ 2: –µ—â–µ –±–æ–ª–µ–µ –≤–ª–æ–∂–µ–Ω–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
      {
        using c2 = logger.use('output.log');
        c2.log('log 2');  // counter = 3

        // –ë–ª–æ–∫ 3: —Ä–∞–±–æ—Ç–∞ —Å –î–†–£–ì–ò–ú —Ñ–∞–π–ª–æ–º
        {
          using c3 = logger.use('output3.log');
          c3.log('log 3');  // –ù–æ–≤—ã–π —Ñ–∞–π–ª –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è, –µ–≥–æ counter = 1
        } // dispose c3: output3.log counter = 0, —Ñ–∞–π–ª –∑–∞–∫—Ä—ã–≤–∞–µ—Ç—Å—è

        // –°–æ—Ö—Ä–∞–Ω—è–µ–º —Å—Å—ã–ª–∫—É –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏ —É—Ç–µ—á–∫–∏
        rf = c2;
      } // dispose c2: output.log counter = 2
    } // dispose c1: output.log counter = 1
  } // dispose c0: output.log counter = 0, —Ñ–∞–π–ª –∑–∞–∫—Ä—ã–≤–∞–µ—Ç—Å—è

  // –í–æ–∑–≤—Ä–∞—â–∞–µ–º —É—Ç–µ–∫—à—É—é —Å—Å—ã–ª–∫—É
  return rf;
}

// –ë–ª–æ–∫ 4: –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —É—Ç–µ–∫—à–µ–π —Å—Å—ã–ª–∫–∏
{
  const f1 = await main();
  using c4 = f1;
  c4.log('log 4');  // –ù–ï –∑–∞–ø–∏—à–µ—Ç—Å—è - —Ñ–∞–π–ª —É–∂–µ –∑–∞–∫—Ä—ã—Ç!
}

// –ë–ª–æ–∫ 5: –ø–æ–ø—ã—Ç–∫–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –±–ª–æ–∫–∞ 4
{
  using c5 = f1;
  c5.log('log 5');  // –ù–ï –∑–∞–ø–∏—à–µ—Ç—Å—è - —Ñ–∞–π–ª –∑–∞–∫—Ä—ã—Ç!
}
</code></pre>
<h3 id="–ü–æ—à–∞–≥–æ–≤–∞—è-—Ç—Ä–∞—Å—Å–∏—Ä–æ–≤–∫–∞-–≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è"><a class="header" href="#–ü–æ—à–∞–≥–æ–≤–∞—è-—Ç—Ä–∞—Å—Å–∏—Ä–æ–≤–∫–∞-–≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è">–ü–æ—à–∞–≥–æ–≤–∞—è —Ç—Ä–∞—Å—Å–∏—Ä–æ–≤–∫–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è</a></h3>
<pre><code>=== –ù–∞—á–∞–ª–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è ===

1. –í—Ö–æ–¥ –≤ –±–ª–æ–∫ 0:
   logger.use('output.log')
   - –§–∞–π–ª –Ω–µ –Ω–∞–π–¥–µ–Ω –≤ –∫–æ–ª–ª–µ–∫—Ü–∏–∏
   - open('output.log') –≤—ã–∑–≤–∞–Ω
   - files.set('output.log', { counter: 0, fd, console })
   - counter –¥–ª—è output.log = 1
   - c0.log('log 0') ‚Üí –∑–∞–ø–∏—Å—å –≤ output.log ‚úì

2. –í—Ö–æ–¥ –≤ –±–ª–æ–∫ 1:
   logger.use('output.log')
   - –§–∞–π–ª –Ω–∞–π–¥–µ–Ω –≤ –∫–æ–ª–ª–µ–∫—Ü–∏–∏
   - counter –¥–ª—è output.log = 2
   - c1.log('log 1') ‚Üí –∑–∞–ø–∏—Å—å –≤ output.log ‚úì

3. –í—Ö–æ–¥ –≤ –±–ª–æ–∫ 2:
   logger.use('output.log')
   - –§–∞–π–ª –Ω–∞–π–¥–µ–Ω –≤ –∫–æ–ª–ª–µ–∫—Ü–∏–∏
   - counter –¥–ª—è output.log = 3
   - c2.log('log 2') ‚Üí –∑–∞–ø–∏—Å—å –≤ output.log ‚úì
   - rf = c2 (—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å—Å—ã–ª–∫–∏)

4. –í—Ö–æ–¥ –≤ –±–ª–æ–∫ 3:
   logger.use('output3.log')
   - –§–∞–π–ª –Ω–µ –Ω–∞–π–¥–µ–Ω –≤ –∫–æ–ª–ª–µ–∫—Ü–∏–∏
   - open('output3.log') –≤—ã–∑–≤–∞–Ω
   - files.set('output3.log', { counter: 0, fd, console })
   - counter –¥–ª—è output3.log = 1
   - c3.log('log 3') ‚Üí –∑–∞–ø–∏—Å—å –≤ output3.log ‚úì

5. –í—ã—Ö–æ–¥ –∏–∑ –±–ª–æ–∫–∞ 3:
   - Symbol.dispose –¥–ª—è c3
   - counter –¥–ª—è output3.log = 0
   - fd.close() –¥–ª—è output3.log
   - files.delete('output3.log')
   - output3.log –ó–ê–ö–†–´–¢ ‚úì

6. –í—ã—Ö–æ–¥ –∏–∑ –±–ª–æ–∫–∞ 2:
   - Symbol.dispose –¥–ª—è c2
   - counter –¥–ª—è output.log = 2

7. –í—ã—Ö–æ–¥ –∏–∑ –±–ª–æ–∫–∞ 1:
   - Symbol.dispose –¥–ª—è c1
   - counter –¥–ª—è output.log = 1

8. –í—ã—Ö–æ–¥ –∏–∑ –±–ª–æ–∫–∞ 0:
   - Symbol.dispose –¥–ª—è c0
   - counter –¥–ª—è output.log = 0
   - fd.close() –¥–ª—è output.log
   - files.delete('output.log')
   - output.log –ó–ê–ö–†–´–¢ ‚úì

9. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ –±–ª–æ–∫–µ 4:
   - f1 = rf (—É—Ç–µ–∫—à–∞—è —Å—Å—ã–ª–∫–∞)
   - c4.log('log 4') ‚Üí –ù–ï –∑–∞–ø–∏—à–µ—Ç—Å—è (—Ñ–∞–π–ª –∑–∞–∫—Ä—ã—Ç) ‚úó

10. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ –±–ª–æ–∫–µ 5:
    - c5.log('log 5') ‚Üí –ù–ï –∑–∞–ø–∏—à–µ—Ç—Å—è (—Ñ–∞–π–ª –∑–∞–∫—Ä—ã—Ç) ‚úó
</code></pre>
<h3 id="–†–µ–∑—É–ª—å—Ç–∞—Ç—ã-–≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è"><a class="header" href="#–†–µ–∑—É–ª—å—Ç–∞—Ç—ã-–≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è">–†–µ–∑—É–ª—å—Ç–∞—Ç—ã –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è</a></h3>
<p><strong>–í—ã–≤–æ–¥ –≤ –∫–æ–Ω—Å–æ–ª—å:</strong></p>
<pre><code>open output.log
use output.log (counter: 1)
use output.log (counter: 2)
use output.log (counter: 3)
open output3.log
use output3.log (counter: 1)
dispose output3.log (counter: 0)
close output3.log
dispose output.log (counter: 2)
dispose output.log (counter: 1)
dispose output.log (counter: 0)
close output.log
After main
</code></pre>
<p><strong>–°–æ–¥–µ—Ä–∂–∏–º–æ–µ output.log:</strong></p>
<pre><code>log 0
log 1
log 2
</code></pre>
<p><strong>–°–æ–¥–µ—Ä–∂–∏–º–æ–µ output3.log:</strong></p>
<pre><code>log 3
</code></pre>
<p><strong>–ß—Ç–æ –ù–ï –∑–∞–ø–∏—Å–∞–ª–æ—Å—å:</strong></p>
<ul>
<li><code>log 4</code> ‚Äî output.log —É–∂–µ –∑–∞–∫—Ä—ã—Ç</li>
<li><code>log 5</code> ‚Äî output.log —É–∂–µ –∑–∞–∫—Ä—ã—Ç</li>
</ul>
<hr />
<h2 id="–°—Ä–∞–≤–Ω–µ–Ω–∏–µ-–ø–æ–¥—Ö–æ–¥–æ–≤-finalization-registry-vs-usingdisposable"><a class="header" href="#–°—Ä–∞–≤–Ω–µ–Ω–∏–µ-–ø–æ–¥—Ö–æ–¥–æ–≤-finalization-registry-vs-usingdisposable">–°—Ä–∞–≤–Ω–µ–Ω–∏–µ –ø–æ–¥—Ö–æ–¥–æ–≤: Finalization Registry vs Using/Disposable</a></h2>
<h3 id="finalization-registry-1"><a class="header" href="#finalization-registry-1">Finalization Registry</a></h3>
<p><strong>–ü—Ä–∏–Ω—Ü–∏–ø —Ä–∞–±–æ—Ç—ã:</strong></p>
<ul>
<li>–†–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç callback –¥–ª—è –≤—ã–∑–æ–≤–∞ –ø—Ä–∏ —Å–±–æ—Ä–∫–µ –º—É—Å–æ—Ä–∞</li>
<li>–ó–∞–≤–∏—Å–∏—Ç –æ—Ç —Ä–∞–±–æ—Ç—ã Garbage Collector</li>
<li>–ù–µ–¥–µ—Ç–µ—Ä–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è</li>
</ul>
<h4 id="–ü—Ä–∏–º–µ—Ä-—Å-finalization-registry"><a class="header" href="#–ü—Ä–∏–º–µ—Ä-—Å-finalization-registry">–ü—Ä–∏–º–µ—Ä —Å Finalization Registry</a></h4>
<pre><code class="language-javascript">// –°–æ–∑–¥–∞–µ–º registry –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏—è —Ä–µ—Å—É—Ä—Å–æ–≤
const registry = new FinalizationRegistry((context) =&gt; {
  // –≠—Ç–æ—Ç callback –≤—ã–∑–æ–≤–µ—Ç—Å—è –∫–æ–≥–¥–∞-—Ç–æ –≤ –±—É–¥—É—â–µ–º
  console.log('Finalization:', context.name);
  context.fd.close();
});

class LoggerWithRegistry {
  constructor(fileName) {
    const fd = fs.openSync(fileName, 'w');
    const stream = fs.createWriteStream(null, { fd });
    this.console = new Console(stream);

    // –†–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ–º –¥–ª—è —Ñ–∏–Ω–∞–ª–∏–∑–∞—Ü–∏–∏
    registry.register(this, { name: fileName, fd });
  }
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
{
  const logger = new LoggerWithRegistry('output.log');
  logger.console.log('Hello');
  // logger –≤—ã—Ö–æ–¥–∏—Ç –∏–∑ –æ–±–ª–∞—Å—Ç–∏ –≤–∏–¥–∏–º–æ—Å—Ç–∏
}

// –§–∞–π–ª –º–æ–∂–µ—Ç –∑–∞–∫—Ä—ã—Ç—å—Å—è —á–µ—Ä–µ–∑ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–µ–∫—É–Ω–¥ (–∏–ª–∏ –º–∏–Ω—É—Ç, –∏–ª–∏ –Ω–∏–∫–æ–≥–¥–∞)
// –í –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ç–æ–≥–æ, –∫–æ–≥–¥–∞ –∑–∞–ø—É—Å—Ç–∏—Ç—Å—è GC
</code></pre>
<p><strong>–ü—Ä–æ–±–ª–µ–º—ã Finalization Registry:</strong></p>
<ol>
<li>
<p><strong>–ù–µ–¥–µ—Ç–µ—Ä–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω–æ—Å—Ç—å:</strong></p>
<pre><code class="language-javascript">{
  const logger = new LoggerWithRegistry('output.log');
  logger.console.log('Message');
}

// –§–∞–π–ª –º–æ–∂–µ—Ç –æ—Å—Ç–∞—Ç—å—Å—è –æ—Ç–∫—Ä—ã—Ç—ã–º –Ω–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ –¥–æ–ª–≥–æ
fs.readFileSync('output.log'); // –ú–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ –≥–æ—Ç–æ–≤!
</code></pre>
</li>
<li>
<p><strong>–ú–æ–∂–µ—Ç –Ω–µ –≤—ã–∑–≤–∞—Ç—å—Å—è –≤–æ–æ–±—â–µ:</strong></p>
<pre><code class="language-javascript">{
  const logger = new LoggerWithRegistry('output.log');
  logger.console.log('Message');
}

// –ï—Å–ª–∏ –ø—Ä–æ–≥—Ä–∞–º–º–∞ –∑–∞–≤–µ—Ä—à–∏—Ç—Å—è –¥–æ GC
process.exit(0); // –§–∞–π–ª –º–æ–∂–µ—Ç –æ—Å—Ç–∞—Ç—å—Å—è –Ω–µ–∑–∞–∫—Ä—ã—Ç—ã–º!
</code></pre>
</li>
<li>
<p><strong>–ù–µ–≤–æ–∑–º–æ–∂–Ω–æ –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä–æ–≤–∞—Ç—å –º–æ–º–µ–Ω—Ç –æ—á–∏—Å—Ç–∫–∏:</strong></p>
<pre><code class="language-javascript">for (let i = 0; i &lt; 1000; i++) {
  const logger = new LoggerWithRegistry(`file${i}.log`);
  logger.console.log(`Message ${i}`);
}

// –í—Å–µ 1000 —Ñ–∞–π–ª–æ–≤ –º–æ–≥—É—Ç –æ—Å—Ç–∞–≤–∞—Ç—å—Å—è –æ—Ç–∫—Ä—ã—Ç—ã–º–∏!
// –î–æ—Å—Ç–∏–∂–µ–Ω–∏–µ –ª–∏–º–∏—Ç–∞ —Ñ–∞–π–ª–æ–≤—ã—Ö –¥–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä–æ–≤
</code></pre>
</li>
</ol>
<h3 id="usingdisposable"><a class="header" href="#usingdisposable">Using/Disposable</a></h3>
<p><strong>–ü—Ä–∏–Ω—Ü–∏–ø —Ä–∞–±–æ—Ç—ã:</strong></p>
<ul>
<li>–î–µ—Ç–µ—Ä–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤</li>
<li>–í—ã–∑—ã–≤–∞–µ—Ç—Å—è —Å—Ä–∞–∑—É –ø—Ä–∏ –≤—ã—Ö–æ–¥–µ –∏–∑ –±–ª–æ–∫–∞</li>
<li>–†–∞–±–æ—Ç–∞–µ—Ç –¥–∞–∂–µ –ø—Ä–∏ –∏—Å–∫–ª—é—á–µ–Ω–∏—è—Ö</li>
</ul>
<h4 id="–ü—Ä–∏–º–µ—Ä-—Å-usingdisposable"><a class="header" href="#–ü—Ä–∏–º–µ—Ä-—Å-usingdisposable">–ü—Ä–∏–º–µ—Ä —Å Using/Disposable</a></h4>
<pre><code class="language-javascript">class LoggerWithDisposable {
  #fd = null;

  constructor(fileName) {
    this.#fd = fs.openSync(fileName, 'w');
    const stream = fs.createWriteStream(null, { fd: this.#fd });
    this.console = new Console(stream);
  }

  [Symbol.dispose]() {
    // –í—ã–∑–æ–≤–µ—Ç—Å—è –ì–ê–†–ê–ù–¢–ò–†–û–í–ê–ù–ù–û –ø—Ä–∏ –≤—ã—Ö–æ–¥–µ –∏–∑ –±–ª–æ–∫–∞
    console.log('Disposing logger');
    this.#fd.close();
  }
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
{
  using logger = new LoggerWithDisposable('output.log');
  logger.console.log('Hello');
} // –§–∞–π–ª –∑–∞–∫—Ä—ã–≤–∞–µ—Ç—Å—è –°–†–ê–ó–£ –ò –ì–ê–†–ê–ù–¢–ò–†–û–í–ê–ù–ù–û
</code></pre>
<p><strong>–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ Using/Disposable:</strong></p>
<ol>
<li>
<p><strong>–î–µ—Ç–µ—Ä–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω–æ—Å—Ç—å:</strong></p>
<pre><code class="language-javascript">{
  using logger = new LoggerWithDisposable('output.log');
  logger.console.log('Message');
} // –§–∞–π–ª –∑–∞–∫—Ä—ã—Ç –ü–†–Ø–ú–û –ó–î–ï–°–¨

// –§–∞–π–ª —Ç–æ—á–Ω–æ –∑–∞–∫—Ä—ã—Ç
fs.readFileSync('output.log'); // –í—Å–µ–≥–¥–∞ –≥–æ—Ç–æ–≤ –¥–ª—è —á—Ç–µ–Ω–∏—è
</code></pre>
</li>
<li>
<p><strong>–†–∞–±–æ—Ç–∞–µ—Ç —Å –∏—Å–∫–ª—é—á–µ–Ω–∏—è–º–∏:</strong></p>
<pre><code class="language-javascript">try {
  using logger = new LoggerWithDisposable('output.log');
  logger.console.log('Message');
  throw new Error('Something went wrong');
} catch (err) {
  // Symbol.dispose –í–°–Å –†–ê–í–ù–û –≤—ã–∑–æ–≤–µ—Ç—Å—è
  // –§–∞–π–ª —Ç–æ—á–Ω–æ –∑–∞–∫—Ä—ã—Ç
}
</code></pre>
</li>
<li>
<p><strong>–ö–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ–º–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–∞–º–∏:</strong></p>
<pre><code class="language-javascript">for (let i = 0; i &lt; 1000; i++) {
  using logger = new LoggerWithDisposable(`file${i}.log`);
  logger.console.log(`Message ${i}`);
  // –§–∞–π–ª –∑–∞–∫—Ä—ã–≤–∞–µ—Ç—Å—è –Ω–∞ –∫–∞–∂–¥–æ–π –∏—Ç–µ—Ä–∞—Ü–∏–∏
} // –ú–∞–∫—Å–∏–º—É–º 1 –æ—Ç–∫—Ä—ã—Ç—ã–π —Ñ–∞–π–ª –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ
</code></pre>
</li>
</ol>
<h3 id="–°—Ä–∞–≤–Ω–∏—Ç–µ–ª—å–Ω–∞—è-—Ç–∞–±–ª–∏—Ü–∞-3"><a class="header" href="#–°—Ä–∞–≤–Ω–∏—Ç–µ–ª—å–Ω–∞—è-—Ç–∞–±–ª–∏—Ü–∞-3">–°—Ä–∞–≤–Ω–∏—Ç–µ–ª—å–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞</a></h3>
<div class="table-wrapper"><table><thead><tr><th>–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞</th><th>Finalization Registry</th><th>Using/Disposable</th></tr></thead><tbody>
<tr><td><strong>–í—Ä–µ–º—è –≤—ã–∑–æ–≤–∞</strong></td><td>–ù–µ–¥–µ—Ç–µ—Ä–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ (–∑–∞–≤–∏—Å–∏—Ç –æ—Ç GC)</td><td>–î–µ—Ç–µ—Ä–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ (—Å—Ä–∞–∑—É –ø—Ä–∏ –≤—ã—Ö–æ–¥–µ –∏–∑ –±–ª–æ–∫–∞)</td></tr>
<tr><td><strong>–ì–∞—Ä–∞–Ω—Ç–∏—è –≤—ã–∑–æ–≤–∞</strong></td><td>–ú–æ–∂–µ—Ç –Ω–µ –≤—ã–∑–≤–∞—Ç—å—Å—è</td><td>–ì–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è</td></tr>
<tr><td><strong>–†–∞–±–æ—Ç–∞ —Å –∏—Å–∫–ª—é—á–µ–Ω–∏—è–º–∏</strong></td><td>–ú–æ–∂–µ—Ç –Ω–µ —Å—Ä–∞–±–æ—Ç–∞—Ç—å –ø—Ä–∏ —Ä–∞–Ω–Ω–∏—Ö –≤—ã—Ö–æ–¥–∞—Ö</td><td>–†–∞–±–æ—Ç–∞–µ—Ç –≤—Å–µ–≥–¥–∞ (–∫–∞–∫ <code>finally</code>)</td></tr>
<tr><td><strong>–ü—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–æ—Å—Ç—å</strong></td><td>–ù–∏–∑–∫–∞—è</td><td>–í—ã—Å–æ–∫–∞—è</td></tr>
<tr><td><strong>–°–∏–Ω—Ç–∞–∫—Å–∏—Å</strong></td><td>–ú–Ω–æ–≥–æ—Å–ª–æ–≤–Ω—ã–π</td><td>–ö—Ä–∞—Ç–∫–∏–π (<code>using</code>)</td></tr>
<tr><td><strong>–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ</strong></td><td>–¢–æ–ª—å–∫–æ –¥–ª—è –Ω–µ–∫—Ä–∏—Ç–∏—á–Ω—ã—Ö —Å–ª—É—á–∞–µ–≤</td><td>–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ä–µ—Å—É—Ä—Å–∞–º–∏</td></tr>
<tr><td><strong>–ó–∞–¥–µ—Ä–∂–∫–∞ –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏—è</strong></td><td>–û—Ç —Å–µ–∫—É–Ω–¥ –¥–æ –±–µ—Å–∫–æ–Ω–µ—á–Ω–æ—Å—Ç–∏</td><td>–ú–≥–Ω–æ–≤–µ–Ω–Ω–æ</td></tr>
<tr><td><strong>–ö–æ–Ω—Ç—Ä–æ–ª—å –ø–∞–º—è—Ç–∏</strong></td><td>–°–ª–∞–±—ã–π</td><td>–ü–æ–ª–Ω—ã–π</td></tr>
</tbody></table>
</div>
<h3 id="–ö–æ–≥–¥–∞-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å-–∫–∞–∂–¥—ã–π-–ø–æ–¥—Ö–æ–¥"><a class="header" href="#–ö–æ–≥–¥–∞-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å-–∫–∞–∂–¥—ã–π-–ø–æ–¥—Ö–æ–¥">–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–∞–∂–¥—ã–π –ø–æ–¥—Ö–æ–¥</a></h3>
<p><strong>Finalization Registry:</strong></p>
<ul>
<li>–ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ, –≥–¥–µ –≤–∞–∂–Ω–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å</li>
<li>–û—á–∏—Å—Ç–∫–∞ –Ω–µ–∫—Ä–∏—Ç–∏—á–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö</li>
<li>–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –ø–æ–¥—Å—Ç—Ä–∞—Ö–æ–≤–∫–∞ (–Ω–æ –Ω–µ –æ—Å–Ω–æ–≤–Ω–æ–π –º–µ—Ö–∞–Ω–∏–∑–º)</li>
</ul>
<pre><code class="language-javascript">// –ü—Ä–∏–º–µ—Ä: –∫–µ—à —Å –∞–≤—Ç–æ–æ—á–∏—Å—Ç–∫–æ–π
const cache = new Map();
const registry = new FinalizationRegistry((key) =&gt; {
  cache.delete(key);
});

function cacheValue(key, value) {
  cache.set(key, value);
  registry.register(value, key);
}
</code></pre>
<p><strong>Using/Disposable:</strong></p>
<ul>
<li>–§–∞–π–ª–æ–≤—ã–µ –¥–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä—ã</li>
<li>–°–µ—Ç–µ–≤—ã–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è</li>
<li>–ë–ª–æ–∫–∏—Ä–æ–≤–∫–∏ –∏ –º—å—é—Ç–µ–∫—Å—ã</li>
<li>–¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö</li>
<li>–õ—é–±—ã–µ –∫—Ä–∏—Ç–∏—á–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã, —Ç—Ä–µ–±—É—é—â–∏–µ —Å–≤–æ–µ–≤—Ä–µ–º–µ–Ω–Ω–æ–≥–æ –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏—è</li>
</ul>
<pre><code class="language-javascript">// –ü—Ä–∏–º–µ—Ä: —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
async function updateUser(userId, data) {
  using transaction = await db.beginTransaction();
  try {
    await transaction.update('users', { id: userId }, data);
    await transaction.commit();
  } catch (err) {
    // transaction.dispose() –≤—ã–∑–æ–≤–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
    // –∏ —Å–¥–µ–ª–∞–µ—Ç rollback
  }
}
</code></pre>
<hr />
<h2 id="–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞-–∏-–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è-reference-counter"><a class="header" href="#–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞-–∏-–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è-reference-counter">–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è Reference Counter</a></h2>
<h3 id="–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞-3"><a class="header" href="#–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞-3">–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞</a></h3>
<h4 id="1-–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ-—É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ-–∂–∏–∑–Ω–µ–Ω–Ω—ã–º-—Ü–∏–∫–ª–æ–º"><a class="header" href="#1-–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ-—É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ-–∂–∏–∑–Ω–µ–Ω–Ω—ã–º-—Ü–∏–∫–ª–æ–º">1. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∂–∏–∑–Ω–µ–Ω–Ω—ã–º —Ü–∏–∫–ª–æ–º</a></h4>
<pre><code class="language-javascript">// –ë–ï–ó Reference Counter - —Ä—É—á–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
function withoutRefCounter() {
  const fd = fs.openSync('file.log', 'w');
  const stream = fs.createWriteStream(null, { fd });
  const logger = new Console(stream);

  try {
    logger.log('Message 1');

    try {
      logger.log('Message 2');
      // ... –≤–ª–æ–∂–µ–Ω–Ω–∞—è –ª–æ–≥–∏–∫–∞
    } finally {
      // –ù—É–∂–Ω–æ –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å –≤—Ä—É—á–Ω—É—é
    }

    logger.log('Message 3');
  } finally {
    // –ó–∞–∫—Ä—ã–≤–∞–µ–º —Ç–æ–ª—å–∫–æ –∑–¥–µ—Å—å
    fd.close();
  }
}

// –° Reference Counter - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
function withRefCounter() {
  {
    using logger1 = logger.use('file.log');
    logger1.log('Message 1');

    {
      using logger2 = logger.use('file.log');
      logger2.log('Message 2');
    } // –°—á–µ—Ç—á–∏–∫ —É–º–µ–Ω—å—à–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

    logger1.log('Message 3');
  } // –§–∞–π–ª –∑–∞–∫—Ä—ã–≤–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
}
</code></pre>
<h4 id="2-–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å-–ø—Ä–∏-–∏—Å–∫–ª—é—á–µ–Ω–∏—è—Ö"><a class="header" href="#2-–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å-–ø—Ä–∏-–∏—Å–∫–ª—é—á–µ–Ω–∏—è—Ö">2. –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –ø—Ä–∏ –∏—Å–∫–ª—é—á–µ–Ω–∏—è—Ö</a></h4>
<pre><code class="language-javascript">// –î–∞–∂–µ –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö —Ä–µ—Å—É—Ä—Å—ã –æ—Å–≤–æ–±–æ–∂–¥–∞—é—Ç—Å—è
async function processLogs() {
  {
    using logger = logger.use('output.log');
    logger.log('Start processing');

    // –ú–æ–∂–µ—Ç –≤—ã–±—Ä–æ—Å–∏—Ç—å –æ—à–∏–±–∫—É
    await riskyOperation();

    logger.log('End processing');
  } // dispose –≤—ã–∑–æ–≤–µ—Ç—Å—è –î–ê–ñ–ï –µ—Å–ª–∏ riskyOperation –±—Ä–æ—Å–∏—Ç –æ—à–∏–±–∫—É
}
</code></pre>
<h4 id="3-–ó–∞—â–∏—Ç–∞-–æ—Ç-—É—Ç–µ—á–µ–∫-—Ä–µ—Å—É—Ä—Å–æ–≤"><a class="header" href="#3-–ó–∞—â–∏—Ç–∞-–æ—Ç-—É—Ç–µ—á–µ–∫-—Ä–µ—Å—É—Ä—Å–æ–≤">3. –ó–∞—â–∏—Ç–∞ –æ—Ç —É—Ç–µ—á–µ–∫ —Ä–µ—Å—É—Ä—Å–æ–≤</a></h4>
<pre><code class="language-javascript">// –ù–µ–≤–æ–∑–º–æ–∂–Ω–æ –∑–∞–±—ã—Ç—å –∑–∞–∫—Ä—ã—Ç—å —Ä–µ—Å—É—Ä—Å
function safeResourceUsage() {
  {
    using logger = logger.use('file.log');
    logger.log('Message');

    // –î–∞–∂–µ –µ—Å–ª–∏ –∑–∞–±—ã–ª–∏ –≤—Ä—É—á–Ω—É—é –∑–∞–∫—Ä—ã—Ç—å - –Ω–µ –ø—Ä–æ–±–ª–µ–º–∞
    // return; // –†–∞–Ω–Ω–∏–π –≤—ã—Ö–æ–¥ - dispose –≤—Å—ë —Ä–∞–≤–Ω–æ –≤—ã–∑–æ–≤–µ—Ç—Å—è
  }
}
</code></pre>
<h3 id="–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è-–∏-–ø—Ä–æ–±–ª–µ–º—ã"><a class="header" href="#–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è-–∏-–ø—Ä–æ–±–ª–µ–º—ã">–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –∏ –ø—Ä–æ–±–ª–µ–º—ã</a></h3>
<h4 id="1-–£—Ç–µ—á—à–∏–µ-—Å—Å—ã–ª–∫–∏-–Ω–µ-—Ä–∞–±–æ—Ç–∞—é—Ç"><a class="header" href="#1-–£—Ç–µ—á—à–∏–µ-—Å—Å—ã–ª–∫–∏-–Ω–µ-—Ä–∞–±–æ—Ç–∞—é—Ç">1. –£—Ç–µ—á—à–∏–µ —Å—Å—ã–ª–∫–∏ –Ω–µ —Ä–∞–±–æ—Ç–∞—é—Ç</a></h4>
<pre><code class="language-javascript">let leakedReference;

{
  using logger = logger.use('file.log');
  logger.log('Message');
  leakedReference = logger; // –°–æ—Ö—Ä–∞–Ω—è–µ–º —Å—Å—ã–ª–∫—É
} // –§–∞–π–ª –∑–∞–∫—Ä—ã–≤–∞–µ—Ç—Å—è, —Å—á–µ—Ç—á–∏–∫ = 0

// –°—Å—ã–ª–∫–∞ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç, –Ω–æ –±–µ—Å–ø–æ–ª–µ–∑–Ω–∞
leakedReference.log('This will not work'); // –§–∞–π–ª —É–∂–µ –∑–∞–∫—Ä—ã—Ç!
</code></pre>
<p><strong>–†–µ—à–µ–Ω–∏–µ:</strong> –Ω–µ —Å–æ—Ö—Ä–∞–Ω—è—Ç—å —Å—Å—ã–ª–∫–∏ –Ω–∞ disposable –æ–±—ä–µ–∫—Ç—ã –≤–Ω–µ –±–ª–æ–∫–∞ <code>using</code>.</p>
<h4 id="2-–ù–µ-—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è-–¥–ª—è-–ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞-–ø–æ–∫–∞"><a class="header" href="#2-–ù–µ-—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è-–¥–ª—è-–ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞-–ø–æ–∫–∞">2. –ù–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞ (–ø–æ–∫–∞)</a></h4>
<pre><code class="language-javascript">// –≠—Ç–æ –ø—Ä–æ—Ç–æ—Ç–∏–ø, –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ
// –ù—É–∂–Ω–æ –±–æ–ª—å—à–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –¥–æ—Ä–∞–±–æ—Ç–∫–∏
const logger = new ReferenceCounter(/* ... */);

// TODO:
// - –û–±—Ä–∞–±–æ—Ç–∫–∞ race conditions
// - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ async dispose
// - –ë–æ–ª–µ–µ –Ω–∞–¥–µ–∂–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
// - –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ edge cases
</code></pre>
<h4 id="3-–ù–µ–æ–±—Ö–æ–¥–∏–º–∞-–ø–æ–¥–¥–µ—Ä–∂–∫–∞-–±—Ä–∞—É–∑–µ—Ä–æ–ºnodejs"><a class="header" href="#3-–ù–µ–æ–±—Ö–æ–¥–∏–º–∞-–ø–æ–¥–¥–µ—Ä–∂–∫–∞-–±—Ä–∞—É–∑–µ—Ä–æ–ºnodejs">3. –ù–µ–æ–±—Ö–æ–¥–∏–º–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –±—Ä–∞—É–∑–µ—Ä–æ–º/Node.js</a></h4>
<pre><code class="language-javascript">// –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∏
if (typeof Symbol.dispose === 'undefined') {
  console.error('Using/Disposable not supported!');
  // –ù—É–∂–µ–Ω fallback –∏–ª–∏ polyfill
}
</code></pre>
<hr />
<h2 id="–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ-—Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏-3"><a class="header" href="#–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ-—Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏-3">–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏</a></h2>
<h3 id="1-–°—Ç—Ä—É–∫—Ç—É—Ä–∞-–ø—Ä–æ–µ–∫—Ç–∞-—Å-reference-counter"><a class="header" href="#1-–°—Ç—Ä—É–∫—Ç—É—Ä–∞-–ø—Ä–æ–µ–∫—Ç–∞-—Å-reference-counter">1. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞ —Å Reference Counter</a></h3>
<pre><code class="language-javascript">// logger.js - –º–æ–¥—É–ª—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
import { ReferenceCounter } from './reference-counter.js';

export const logger = new ReferenceCounter(
  // –°–æ–∑–¥–∞–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–∞
  () =&gt; {
    const fd = fs.openSync('app.log', 'a');
    const stream = fs.createWriteStream(null, { fd });
    const console = new Console(stream);
    return { resource: console, context: { fd } };
  },
  // –û—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–∞
  (context) =&gt; {
    context.fd.close();
  }
);

// app.js - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
import { logger } from './logger.js';

export async function processRequest(request) {
  using log = logger.use();
  log.log('Request started:', request.id);

  try {
    await handleRequest(request);
    log.log('Request completed:', request.id);
  } catch (err) {
    log.error('Request failed:', err);
    throw err;
  }
  // dispose –≤—ã–∑–æ–≤–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
}
</code></pre>
<h3 id="2-–ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ-—Ä–µ—Å—É—Ä—Å—ã"><a class="header" href="#2-–ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ-—Ä–µ—Å—É—Ä—Å—ã">2. –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã</a></h3>
<pre><code class="language-javascript">// –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ —Ä–µ—Å—É—Ä—Å–∞–º–∏ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ
async function complexOperation() {
  using dbConnection = connectionPool.use();
  using fileLogger = logger.use('operation.log');
  using lockHandle = lockManager.use('operation-lock');

  // –í—Å–µ —Ç—Ä–∏ —Ä–µ—Å—É—Ä—Å–∞ –±—É–¥—É—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω—ã
  await performOperation(dbConnection, fileLogger);

} // dispose –≤—ã–∑–æ–≤–µ—Ç—Å—è –¥–ª—è –≤—Å–µ—Ö —Ç—Ä–µ—Ö —Ä–µ—Å—É—Ä—Å–æ–≤
</code></pre>
<h3 id="3-–ü—Ä–∞–≤–∏–ª—å–Ω–∞—è-–æ–±—Ä–∞–±–æ—Ç–∫–∞-–æ—à–∏–±–æ–∫"><a class="header" href="#3-–ü—Ä–∞–≤–∏–ª—å–Ω–∞—è-–æ–±—Ä–∞–±–æ—Ç–∫–∞-–æ—à–∏–±–æ–∫">3. –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫</a></h3>
<pre><code class="language-javascript">class ReferenceCounter {
  use() {
    this.#counter++;
    const resource = this.#resource;
    const disposable = Object.create(resource);

    disposable[Symbol.dispose] = () =&gt; {
      this.#counter--;

      if (this.#counter === 0) {
        try {
          // –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º –æ—à–∏–±–∫–∏ –ø—Ä–∏ dispose
          this.#dispose(this.#context);
        } catch (err) {
          // –õ–æ–≥–∏—Ä—É–µ–º, –Ω–æ –Ω–µ –ø—Ä–æ–±—Ä–∞—Å—ã–≤–∞–µ–º
          console.error('Error during dispose:', err);
        } finally {
          // –í—Å–µ–≥–¥–∞ –æ—á–∏—â–∞–µ–º —Å—Å—ã–ª–∫–∏
          this.#resource = null;
          this.#context = null;
        }
      }
    };

    return disposable;
  }
}
</code></pre>
<h3 id="4-–ü–∞—Ç—Ç–µ—Ä–Ω-–¥–ª—è-–ª–µ–Ω–∏–≤–æ–π-–∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏"><a class="header" href="#4-–ü–∞—Ç—Ç–µ—Ä–Ω-–¥–ª—è-–ª–µ–Ω–∏–≤–æ–π-–∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏">4. –ü–∞—Ç—Ç–µ—Ä–Ω –¥–ª—è –ª–µ–Ω–∏–≤–æ–π –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏</a></h3>
<pre><code class="language-javascript">class ReferenceCounter {
  #initialized = false;

  use() {
    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏
    if (!this.#initialized) {
      const { resource, context } = this.#create();
      this.#resource = resource;
      this.#context = context;
      this.#initialized = true;
    }

    this.#counter++;
    // ... –æ—Å—Ç–∞–ª—å–Ω–æ–π –∫–æ–¥
  }
}
</code></pre>
<hr />
<h2 id="–î–∏–∞–≥—Ä–∞–º–º–∞-–∂–∏–∑–Ω–µ–Ω–Ω–æ–≥–æ-—Ü–∏–∫–ª–∞-reference-counter"><a class="header" href="#–î–∏–∞–≥—Ä–∞–º–º–∞-–∂–∏–∑–Ω–µ–Ω–Ω–æ–≥–æ-—Ü–∏–∫–ª–∞-reference-counter">–î–∏–∞–≥—Ä–∞–º–º–∞ –∂–∏–∑–Ω–µ–Ω–Ω–æ–≥–æ —Ü–∏–∫–ª–∞ Reference Counter</a></h2>
<pre><code>–°–æ—Å—Ç–æ—è–Ω–∏–µ —Å—á–µ—Ç—á–∏–∫–∞ –¥–ª—è output.log:

–ë–ª–æ–∫ 0 –Ω–∞—á–∞–ª–æ:  counter = 1  [FILE OPENED]
‚îÇ
‚îú‚îÄ‚îÄ –ë–ª–æ–∫ 1 –Ω–∞—á–∞–ª–æ:  counter = 2
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ –ë–ª–æ–∫ 2 –Ω–∞—á–∞–ª–æ:  counter = 3
‚îÇ   ‚îÇ   ‚îÇ
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ –ë–ª–æ–∫ 2 –∫–æ–Ω–µ—Ü:  counter = 2  [dispose –≤—ã–∑–≤–∞–Ω]
‚îÇ   ‚îÇ
‚îÇ   ‚îî‚îÄ‚îÄ –ë–ª–æ–∫ 1 –∫–æ–Ω–µ—Ü:  counter = 1  [dispose –≤—ã–∑–≤–∞–Ω]
‚îÇ
‚îî‚îÄ‚îÄ –ë–ª–æ–∫ 0 –∫–æ–Ω–µ—Ü:  counter = 0  [FILE CLOSED, dispose –≤—ã–∑–≤–∞–Ω]


–°–æ—Å—Ç–æ—è–Ω–∏–µ —Å—á–µ—Ç—á–∏–∫–∞ –¥–ª—è output3.log:

–ë–ª–æ–∫ 3 –Ω–∞—á–∞–ª–æ:  counter = 1  [FILE OPENED]
‚îÇ
‚îî‚îÄ‚îÄ –ë–ª–æ–∫ 3 –∫–æ–Ω–µ—Ü:  counter = 0  [FILE CLOSED, dispose –≤—ã–∑–≤–∞–Ω]
</code></pre>
<hr />
<h2 id="–ü–æ–ª–Ω—ã–π-–∫–æ–¥-—Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏-reference-counter"><a class="header" href="#–ü–æ–ª–Ω—ã–π-–∫–æ–¥-—Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏-reference-counter">–ü–æ–ª–Ω—ã–π –∫–æ–¥ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ Reference Counter</a></h2>
<h3 id="reference-counterjs"><a class="header" href="#reference-counterjs">reference-counter.js</a></h3>
<pre><code class="language-javascript">/**
 * Reference Counter –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∂–∏–∑–Ω–µ–Ω–Ω—ã–º —Ü–∏–∫–ª–æ–º —Ä–µ—Å—É—Ä—Å–æ–≤
 * –Ω–∞ –æ—Å–Ω–æ–≤–µ –º–µ—Ö–∞–Ω–∏–∑–º–∞ using/disposable
 */
export class ReferenceCounter {
  // –ü—Ä–∏–≤–∞—Ç–Ω—ã–µ –ø–æ–ª—è
  #resource = null;   // –°–∞–º —Ä–µ—Å—É—Ä—Å (–æ–±—ä–µ–∫—Ç –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è)
  #context = null;    // –ö–æ–Ω—Ç–µ–∫—Å—Ç —Å –¥–∞–Ω–Ω—ã–º–∏ –¥–ª—è —Ñ–∏–Ω–∞–ª–∏–∑–∞—Ü–∏–∏
  #counter = 0;       // –°—á–µ—Ç—á–∏–∫ –∞–∫—Ç–∏–≤–Ω—ã—Ö —Å—Å—ã–ª–æ–∫
  #create = null;     // –§—É–Ω–∫—Ü–∏—è —Å–æ–∑–¥–∞–Ω–∏—è —Ä–µ—Å—É—Ä—Å–∞
  #dispose = null;    // –§—É–Ω–∫—Ü–∏—è –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏—è —Ä–µ—Å—É—Ä—Å–∞

  /**
   * @param {Function} create - –§—É–Ω–∫—Ü–∏—è —Å–æ–∑–¥–∞–Ω–∏—è —Ä–µ—Å—É—Ä—Å–∞
   *   –î–æ–ª–∂–Ω–∞ –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å { resource, context }
   * @param {Function} dispose - –§—É–Ω–∫—Ü–∏—è –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏—è —Ä–µ—Å—É—Ä—Å–∞
   *   –ü—Ä–∏–Ω–∏–º–∞–µ—Ç context –≤ –∫–∞—á–µ—Å—Ç–≤–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞
   */
  constructor(create, dispose) {
    this.#create = create;
    this.#dispose = dispose;
  }

  /**
   * –°–æ–∑–¥–∞–µ—Ç disposable –æ–±—ä–µ–∫—Ç –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Å using
   * @returns {Object} Disposable –æ–±—ä–µ–∫—Ç —Å –º–µ—Ç–æ–¥–æ–º Symbol.dispose
   */
  use() {
    // –õ–µ–Ω–∏–≤–∞—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏
    if (this.#resource === null) {
      const { resource, context } = this.#create();
      this.#resource = resource;
      this.#context = context;
    }

    // –£–≤–µ–ª–∏—á–∏–≤–∞–µ–º —Å—á–µ—Ç—á–∏–∫ —Å—Å—ã–ª–æ–∫
    this.#counter++;
    console.log(`use (counter: ${this.#counter})`);

    // –°–æ–∑–¥–∞–µ–º –Ω–æ–≤—ã–π –æ–±—ä–µ–∫—Ç, –Ω–∞—Å–ª–µ–¥—É—é—â–∏–π –æ—Ç —Ä–µ—Å—É—Ä—Å–∞
    const disposable = Object.create(this.#resource);

    // –î–æ–±–∞–≤–ª—è–µ–º –º–µ—Ç–æ–¥ dispose
    disposable[Symbol.dispose] = () =&gt; {
      // –£–º–µ–Ω—å—à–∞–µ–º —Å—á–µ—Ç—á–∏–∫
      this.#counter--;
      console.log(`dispose (counter: ${this.#counter})`);

      // –ï—Å–ª–∏ —Å—á–µ—Ç—á–∏–∫ –¥–æ—Å—Ç–∏–≥ –Ω—É–ª—è - –æ—Å–≤–æ–±–æ–∂–¥–∞–µ–º —Ä–µ—Å—É—Ä—Å
      if (this.#counter === 0) {
        try {
          this.#dispose(this.#context);
          console.log('close');
        } catch (err) {
          console.error('Error during dispose:', err);
        } finally {
          this.#resource = null;
          this.#context = null;
        }
      }
    };

    return disposable;
  }
}
</code></pre>
<h3 id="multi-file-loggerjs"><a class="header" href="#multi-file-loggerjs">multi-file-logger.js</a></h3>
<pre><code class="language-javascript">import fs from 'node:fs';
import { Console } from 'node:console';

/**
 * –õ–æ–≥–µ—Ä —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Ñ–∞–π–ª–æ–≤
 * –∏ reference counting –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ñ–∞–π–ª–∞
 */
export class MultiFileLogger {
  // –ö–æ–ª–ª–µ–∫—Ü–∏—è –æ—Ç–∫—Ä—ã—Ç—ã—Ö —Ñ–∞–π–ª–æ–≤
  // Map&lt;fileName, { counter, fd, console }&gt;
  #files = new Map();

  /**
   * –û—Ç–∫—Ä—ã–≤–∞–µ—Ç —Ñ–∞–π–ª –∏ —Å–æ–∑–¥–∞–µ—Ç –∫–æ–Ω—Å–æ–ª—å –¥–ª—è –∑–∞–ø–∏—Å–∏
   * @param {string} fileName - –ò–º—è —Ñ–∞–π–ª–∞
   * @returns {Object} –°—Ç—Ä—É–∫—Ç—É—Ä–∞ { counter, fd, console }
   */
  open(fileName) {
    console.log(`open ${fileName}`);

    // –û—Ç–∫—Ä—ã–≤–∞–µ–º —Ñ–∞–π–ª –¥–ª—è –∑–∞–ø–∏—Å–∏
    const fd = fs.openSync(fileName, 'w');

    // –°–æ–∑–¥–∞–µ–º –ø–æ—Ç–æ–∫ –∑–∞–ø–∏—Å–∏
    const stream = fs.createWriteStream(null, { fd });

    // –°–æ–∑–¥–∞–µ–º –∫–æ–Ω—Å–æ–ª—å –¥–ª—è —ç—Ç–æ–≥–æ –ø–æ—Ç–æ–∫–∞
    const console = new Console(stream);

    // –í–æ–∑–≤—Ä–∞—â–∞–µ–º —Å—Ç—Ä—É–∫—Ç—É—Ä—É
    return {
      counter: 0,
      fd,
      console
    };
  }

  /**
   * –ü–æ–ª—É—á–∞–µ—Ç disposable –¥–ª—è –∑–∞–ø–∏—Å–∏ –≤ —Ñ–∞–π–ª
   * @param {string} fileName - –ò–º—è —Ñ–∞–π–ª–∞
   * @returns {Object} Disposable –æ–±—ä–µ–∫—Ç –∫–æ–Ω—Å–æ–ª–∏
   */
  use(fileName) {
    // –ò—â–µ–º —Ñ–∞–π–ª –≤ –∫–æ–ª–ª–µ–∫—Ü–∏–∏
    let instance = this.#files.get(fileName);

    // –ï—Å–ª–∏ —Ñ–∞–π–ª –Ω–µ –æ—Ç–∫—Ä—ã—Ç - –æ—Ç–∫—Ä—ã–≤–∞–µ–º
    if (!instance) {
      instance = this.open(fileName);
      this.#files.set(fileName, instance);
    }

    // –£–≤–µ–ª–∏—á–∏–≤–∞–µ–º —Å—á–µ—Ç—á–∏–∫
    instance.counter++;
    console.log(`use ${fileName} (counter: ${instance.counter})`);

    // –°–æ–∑–¥–∞–µ–º disposable
    const disposable = Object.create(instance.console);

    // –î–æ–±–∞–≤–ª—è–µ–º –º–µ—Ç–æ–¥ dispose
    disposable[Symbol.dispose] = () =&gt; {
      instance.counter--;
      console.log(`dispose ${fileName} (counter: ${instance.counter})`);

      // –ï—Å–ª–∏ —Å—á–µ—Ç—á–∏–∫ –¥–æ—Å—Ç–∏–≥ –Ω—É–ª—è - –∑–∞–∫—Ä—ã–≤–∞–µ–º —Ñ–∞–π–ª
      if (instance.counter === 0) {
        instance.fd.close();
        this.#files.delete(fileName);
        console.log(`close ${fileName}`);
      }
    };

    return disposable;
  }
}
</code></pre>
<h3 id="example-7js"><a class="header" href="#example-7js">example-7.js</a></h3>
<pre><code class="language-javascript">import fs from 'node:fs';
import { Console } from 'node:console';
import { ReferenceCounter } from './reference-counter.js';

// –°–æ–∑–¥–∞–Ω–∏–µ –ª–æ–≥–µ—Ä–∞
const logger = new ReferenceCounter(
  // –§—É–Ω–∫—Ü–∏—è —Å–æ–∑–¥–∞–Ω–∏—è
  () =&gt; {
    console.log('open');
    const fd = fs.openSync('output.log', 'w');
    const stream = fs.createWriteStream(null, { fd });
    const console = new Console(stream);
    return { resource: console, context: { fd } };
  },
  // –§—É–Ω–∫—Ü–∏—è –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏—è
  (context) =&gt; {
    context.fd.close();
  }
);

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
async function main() {
  let rf3;

  // –ë–ª–æ–∫ 0
  {
    using console0 = logger.use();
    console0.log('log 0');

    // –ë–ª–æ–∫ 1
    {
      using console1 = logger.use();
      console1.log('log 1');

      // –ë–ª–æ–∫ 2
      {
        using console2 = logger.use();
        console2.log('log 2');
        rf3 = console2; // –°–æ—Ö—Ä–∞–Ω—è–µ–º —Å—Å—ã–ª–∫—É
      }
    }
  }

  // –ë–ª–æ–∫ 3 - —É—Ç–µ–∫—à–∞—è —Å—Å—ã–ª–∫–∞
  {
    using rf4 = rf3;
    rf4.log('log 3'); // –ù–µ –∑–∞–ø–∏—à–µ—Ç—Å—è
  }

  return rf3;
}

const rf4 = await main();
console.log('After main');
rf4.log('log 4'); // –ù–µ –∑–∞–ø–∏—à–µ—Ç—Å—è
</code></pre>
<h3 id="example-8js"><a class="header" href="#example-8js">example-8.js</a></h3>
<pre><code class="language-javascript">import { MultiFileLogger } from './multi-file-logger.js';

const logger = new MultiFileLogger();

async function main() {
  let rf;

  // –ë–ª–æ–∫ 0
  {
    using c0 = logger.use('output.log');
    c0.log('log 0');

    // –ë–ª–æ–∫ 1
    {
      using c1 = logger.use('output.log');
      c1.log('log 1');

      // –ë–ª–æ–∫ 2
      {
        using c2 = logger.use('output.log');
        c2.log('log 2');

        // –ë–ª–æ–∫ 3 - –¥—Ä—É–≥–æ–π —Ñ–∞–π–ª
        {
          using c3 = logger.use('output3.log');
          c3.log('log 3');
        }

        rf = c2;
      }
    }
  }

  return rf;
}

// –ë–ª–æ–∫ 4
{
  const f1 = await main();
  using c4 = f1;
  c4.log('log 4'); // –ù–µ –∑–∞–ø–∏—à–µ—Ç—Å—è
}

console.log('After main');

// –ë–ª–æ–∫ 5
{
  using c5 = f1;
  c5.log('log 5'); // –ù–µ –∑–∞–ø–∏—à–µ—Ç—Å—è
}
</code></pre>
<hr />
<h2 id="–ö–ª—é—á–µ–≤—ã–µ-–≤—ã–≤–æ–¥—ã-13"><a class="header" href="#–ö–ª—é—á–µ–≤—ã–µ-–≤—ã–≤–æ–¥—ã-13">–ö–ª—é—á–µ–≤—ã–µ –≤—ã–≤–æ–¥—ã</a></h2>
<h3 id="1-reference-counter-—Ä–µ—à–∞–µ—Ç-–≤–∞–∂–Ω—ã–µ-–ø—Ä–æ–±–ª–µ–º—ã"><a class="header" href="#1-reference-counter-—Ä–µ—à–∞–µ—Ç-–≤–∞–∂–Ω—ã–µ-–ø—Ä–æ–±–ª–µ–º—ã">1. Reference Counter —Ä–µ—à–∞–µ—Ç –≤–∞–∂–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã</a></h3>
<p>‚úì <strong>–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–∞–º–∏:</strong> –Ω–µ –Ω—É–∂–Ω–æ –≤—Ä—É—á–Ω—É—é –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å –æ—Ç–∫—Ä—ã—Ç–∏–µ/–∑–∞–∫—Ä—ã—Ç–∏–µ
‚úì <strong>–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –ø—Ä–∏ –∏—Å–∫–ª—é—á–µ–Ω–∏—è—Ö:</strong> —Ä–µ—Å—É—Ä—Å—ã –æ—Å–≤–æ–±–æ–∂–¥–∞—é—Ç—Å—è –¥–∞–∂–µ –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö
‚úì <strong>–ó–∞—â–∏—Ç–∞ –æ—Ç —É—Ç–µ—á–µ–∫:</strong> –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ –∑–∞–±—ã—Ç—å –∑–∞–∫—Ä—ã—Ç—å —Ä–µ—Å—É—Ä—Å
‚úì <strong>–î–µ—Ç–µ—Ä–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω–æ—Å—Ç—å:</strong> —Ä–µ—Å—É—Ä—Å—ã –æ—Å–≤–æ–±–æ–∂–¥–∞—é—Ç—Å—è —Å—Ä–∞–∑—É, –∞ –Ω–µ –∫–æ–≥–¥–∞-–Ω–∏–±—É–¥—å</p>
<h3 id="2-usingdisposable-vs-finalization-registry"><a class="header" href="#2-usingdisposable-vs-finalization-registry">2. Using/Disposable vs Finalization Registry</a></h3>
<div class="table-wrapper"><table><thead><tr><th>Using/Disposable</th><th>Finalization Registry</th></tr></thead><tbody>
<tr><td>–î–µ—Ç–µ—Ä–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏–µ</td><td>–ù–µ–¥–µ—Ç–µ—Ä–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ</td></tr>
<tr><td>–ì–∞—Ä–∞–Ω—Ç–∏—è –≤—ã–∑–æ–≤–∞</td><td>–ú–æ–∂–µ—Ç –Ω–µ –≤—ã–∑–≤–∞—Ç—å—Å—è</td></tr>
<tr><td>–ú–≥–Ω–æ–≤–µ–Ω–Ω–æ–µ –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏–µ</td><td>–ó–∞–¥–µ—Ä–∂–∫–∞ –¥–æ GC</td></tr>
<tr><td>–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö —Ä–µ—Å—É—Ä—Å–æ–≤</td><td>–¢–æ–ª—å–∫–æ –¥–ª—è –Ω–µ–∫—Ä–∏—Ç–∏—á–Ω—ã—Ö —Å–ª—É—á–∞–µ–≤</td></tr>
</tbody></table>
</div>
<h3 id="3-–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ-—Å–æ–≤–µ—Ç—ã"><a class="header" href="#3-–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ-—Å–æ–≤–µ—Ç—ã">3. –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ —Å–æ–≤–µ—Ç—ã</a></h3>
<p><strong>–î–µ–ª–∞–π—Ç–µ:</strong></p>
<ul>
<li>–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ <code>using</code> –¥–ª—è —Ñ–∞–π–ª–æ–≤, —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π, —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π</li>
<li>–û–±—Ä–∞–±–∞—Ç—ã–≤–∞–π—Ç–µ –æ—à–∏–±–∫–∏ –≤ –º–µ—Ç–æ–¥–µ <code>dispose</code></li>
<li>–ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ –ø–æ–¥–¥–µ—Ä–∂–∫—É <code>Symbol.dispose</code> –≤ —Ü–µ–ª–µ–≤–æ–π —Å—Ä–µ–¥–µ</li>
</ul>
<p><strong>–ù–µ –¥–µ–ª–∞–π—Ç–µ:</strong></p>
<ul>
<li>–ù–µ —Å–æ—Ö—Ä–∞–Ω—è–π—Ç–µ —Å—Å—ã–ª–∫–∏ –Ω–∞ disposable –æ–±—ä–µ–∫—Ç—ã –≤–Ω–µ –±–ª–æ–∫–∞ <code>using</code></li>
<li>–ù–µ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç–µ–∫—É—â—É—é —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é Reference Counter –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ (–ø–æ–∫–∞ —ç—Ç–æ –ø—Ä–æ—Ç–æ—Ç–∏–ø)</li>
<li>–ù–µ –ø–æ–ª–∞–≥–∞–π—Ç–µ—Å—å –Ω–∞ Finalization Registry –¥–ª—è –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö —Ä–µ—Å—É—Ä—Å–æ–≤</li>
</ul>
<h3 id="4-–°—Ç–∞—Ç—É—Å-—Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏"><a class="header" href="#4-–°—Ç–∞—Ç—É—Å-—Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏">4. –°—Ç–∞—Ç—É—Å —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏</a></h3>
<p>‚ö†Ô∏è <strong>–¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å:</strong> –ü—Ä–æ—Ç–æ—Ç–∏–ø, —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞–ª—å–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è</p>
<p><strong>–î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å:</strong></p>
<ul>
<li>Node.js v24+</li>
<li>–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ –≤–µ—Ä—Å–∏–∏ Chrome</li>
<li>–¢—Ä–µ–±—É–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–æ–¥–¥–µ—Ä–∂–∫–∏</li>
</ul>
<p><strong>–ë—É–¥—É—â–µ–µ:</strong></p>
<ul>
<li>–î–æ—Ä–∞–±–æ—Ç–∫–∞ –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ</li>
<li>–í–æ–∑–º–æ–∂–Ω–æ–µ –≤–∫–ª—é—á–µ–Ω–∏–µ –≤ Metarhia technology stack</li>
<li>–°–æ–∑–¥–∞–Ω–∏–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ —Å –≥–æ—Ç–æ–≤—ã–º–∏ –∫–ª–∞—Å—Å–∞–º–∏</li>
</ul>
<hr />
<h2 id="–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ-–º–∞—Ç–µ—Ä–∏–∞–ª—ã"><a class="header" href="#–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ-–º–∞—Ç–µ—Ä–∏–∞–ª—ã">–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã</a></h2>
<h3 id="–ü–æ–ª–µ–∑–Ω—ã–µ-—Å—Å—ã–ª–∫–∏-2"><a class="header" href="#–ü–æ–ª–µ–∑–Ω—ã–µ-—Å—Å—ã–ª–∫–∏-2">–ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏</a></h3>
<ul>
<li><a href="https://github.com/tc39/proposal-explicit-resource-management">TC39 Proposal: Explicit Resource Management</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Symbol/dispose">MDN: Symbol.dispose</a></li>
<li>–ò—Å—Ö–æ–¥–Ω–∏–∫–∏ –ø—Ä–∏–º–µ—Ä–æ–≤ –ø–æ–¥ –≤–∏–¥–µ–æ –ª–µ–∫—Ü–∏–∏</li>
</ul>
<h3 id="–°–≤—è–∑–∞–Ω–Ω—ã–µ-—Ç–µ–º—ã-–¥–ª—è-–∏–∑—É—á–µ–Ω–∏—è"><a class="header" href="#–°–≤—è–∑–∞–Ω–Ω—ã–µ-—Ç–µ–º—ã-–¥–ª—è-–∏–∑—É—á–µ–Ω–∏—è">–°–≤—è–∑–∞–Ω–Ω—ã–µ —Ç–µ–º—ã –¥–ª—è –∏–∑—É—á–µ–Ω–∏—è</a></h3>
<ol>
<li><strong>Finalization Registry</strong> - –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π –ø–æ–¥—Ö–æ–¥ –∫ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—é —Ä–µ—Å—É—Ä—Å–∞–º–∏</li>
<li><strong>WeakRef –∏ WeakMap</strong> - —Å–ª–∞–±—ã–µ —Å—Å—ã–ª–∫–∏ –≤ JavaScript</li>
<li><strong>Try...finally</strong> - –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π –ø–æ–¥—Ö–æ–¥ –∫ –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏—é —Ä–µ—Å—É—Ä—Å–æ–≤</li>
<li><strong>RAII (Resource Acquisition Is Initialization)</strong> - –ø–∞—Ç—Ç–µ—Ä–Ω –∏–∑ C++, –≤–¥–æ—Ö–Ω–æ–≤–∏–≤—à–∏–π using/disposable</li>
<li><strong>Async Disposable</strong> - –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è disposable (Symbol.asyncDispose)</li>
</ol>
<h3 id="–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ-–∑–∞–¥–∞–Ω–∏—è-1"><a class="header" href="#–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ-–∑–∞–¥–∞–Ω–∏—è-1">–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –∑–∞–¥–∞–Ω–∏—è</a></h3>
<ol>
<li>–†–µ–∞–ª–∏–∑—É–π—Ç–µ Reference Counter –¥–ª—è –ø—É–ª–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö</li>
<li>–°–æ–∑–¥–∞–π—Ç–µ —Å–∏—Å—Ç–µ–º—É –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫ (locks) —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏–µ–º</li>
<li>–†–µ–∞–ª–∏–∑—É–π—Ç–µ —Ñ–∞–π–ª–æ–≤—ã–π –∫–µ—à —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –æ—á–∏—Å—Ç–∫–æ–π</li>
<li>–î–æ–±–∞–≤—å—Ç–µ –ø–æ–¥–¥–µ—Ä–∂–∫—É async dispose –¥–ª—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö —Ä–µ—Å—É—Ä—Å–æ–≤</li>
</ol>
<hr />
<h2 id="–ó–∞–∫–ª—é—á–µ–Ω–∏–µ-7"><a class="header" href="#–ó–∞–∫–ª—é—á–µ–Ω–∏–µ-7">–ó–∞–∫–ª—é—á–µ–Ω–∏–µ</a></h2>
<p>–ú–µ—Ö–∞–Ω–∏–∑–º <strong>using/disposable</strong> –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π –º–æ—â–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∂–∏–∑–Ω–µ–Ω–Ω—ã–º —Ü–∏–∫–ª–æ–º —Ä–µ—Å—É—Ä—Å–æ–≤ –≤ JavaScript. –í —Å–æ—á–µ—Ç–∞–Ω–∏–∏ —Å –ø–∞—Ç—Ç–µ—Ä–Ω–æ–º <strong>Reference Counter</strong>, –æ–Ω –ø–æ–∑–≤–æ–ª—è–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å –Ω–∞–¥–µ–∂–Ω—ã–µ –∏ –±–µ–∑–æ–ø–∞—Å–Ω—ã–µ –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–∏ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Ñ–∞–π–ª–∞–º–∏, —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è–º–∏ –∏ –¥—Ä—É–≥–∏–º–∏ –∫—Ä–∏—Ç–∏—á–Ω—ã–º–∏ —Ä–µ—Å—É—Ä—Å–∞–º–∏.</p>
<p><strong>–û—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –ø–æ–¥—Ö–æ–¥–∞:</strong></p>
<ul>
<li>–î–µ—Ç–µ—Ä–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤</li>
<li>–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∑–∞—â–∏—Ç–∞ –æ—Ç —É—Ç–µ—á–µ–∫</li>
<li>–ö—Ä–∞—Ç–∫–∏–π –∏ –ø–æ–Ω—è—Ç–Ω—ã–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å</li>
<li>–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –ø—Ä–∏ –∏—Å–∫–ª—é—á–µ–Ω–∏—è—Ö</li>
</ul>
<p><strong>–¢–µ–∫—É—â–∏–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è:</strong></p>
<ul>
<li>–û—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ –Ω–æ–≤–∞—è —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—è</li>
<li>–¢—Ä–µ–±—É–µ—Ç –ø–æ–¥–¥–µ—Ä–∂–∫–∏ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –≤–µ—Ä—Å–∏–π –ø–ª–∞—Ç—Ñ–æ—Ä–º</li>
<li>–ü—Ä–æ—Ç–æ—Ç–∏–ø–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è Reference Counter –Ω–µ –≥–æ—Ç–æ–≤–∞ –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞</li>
</ul>
<p>–°–ª–µ–¥–∏—Ç–µ –∑–∞ —Ä–∞–∑–≤–∏—Ç–∏–µ–º —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ –∏ —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ —Å –ø—Ä–∏–º–µ—Ä–∞–º–∏, —á—Ç–æ–±—ã –±—ã—Ç—å –≥–æ—Ç–æ–≤—ã–º–∏ –∫ –µ–µ —à–∏—Ä–æ–∫–æ–º—É –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—é –≤ –±—É–¥—É—â–µ–º!</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="week-3---instantiation---creational-patterns-and-techniques"><a class="header" href="#week-3---instantiation---creational-patterns-and-techniques">Week 3 - Instantiation - Creational Patterns and Techniques</a></h1>
<ul>
<li><a href="week3/grasp-information-expert-lecture-notes.html">Information Expert, Creator, Polymorphism</a></li>
<li><a href="week3/solid-isp-interface-segregation-principle-lecture-notes.html">SOLID - Interface Segregation Principle (ISP)</a></li>
<li><a href="week3/object-pool-factory-lecture-notes.html">Instantiation - Constructor, Factory Method, Object Pool</a></li>
<li><a href="week3/decomposition-aggregation-composition-lecture-notes.html">Decomposition, Instantiation, Encapsulation, Aggregation, Composition, Association, Delegation</a></li>
<li><a href="week3/builder-pattern-lecture-notes.html">Builder</a></li>
<li><a href="week3/prototype-pattern-lecture-notes.html">Prototype</a></li>
<li><a href="week3/singleton-pattern-lecture-notes.html">Singleton</a></li>
<li><a href="week3/flyweight-pattern-lecture-notes.html">Flyweight</a></li>
<li><a href="week3/revealing-constructor-pattern-lecture-notes.html">–ü–∞—Ç—Ç–µ—Ä–Ω Revealing Constructor - –æ—Ç–∫—Ä—ã—Ç—ã–π –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="grasp-–ü—Ä–∏–Ω—Ü–∏–ø-–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã–π-—ç–∫—Å–ø–µ—Ä—Ç-information-expert"><a class="header" href="#grasp-–ü—Ä–∏–Ω—Ü–∏–ø-–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã–π-—ç–∫—Å–ø–µ—Ä—Ç-information-expert">GRASP: –ü—Ä–∏–Ω—Ü–∏–ø "–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã–π —ç–∫—Å–ø–µ—Ä—Ç" (Information Expert)</a></h1>
<h2 id="–û–±–∑–æ—Ä-5"><a class="header" href="#–û–±–∑–æ—Ä-5">–û–±–∑–æ—Ä</a></h2>
<p>–î–∞–Ω–Ω–∞—è –ª–µ–∫—Ü–∏—è –ø–æ—Å–≤—è—â–µ–Ω–∞ –¥–µ—Ç–∞–ª—å–Ω–æ–º—É –∏–∑—É—á–µ–Ω–∏—é –ø—Ä–∏–Ω—Ü–∏–ø–∞ <strong>Information Expert</strong> (–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã–π —ç–∫—Å–ø–µ—Ä—Ç) –∏–∑ –Ω–∞–±–æ—Ä–∞ –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤ GRASP (General Responsibility Assignment Software Patterns), –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –¥–ª—è JavaScript –∏ Node.js. –ü—Ä–∏–Ω—Ü–∏–ø –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç, –∫–∞–∫–æ–º—É –æ–±—ä–µ–∫—Ç—É –∏–ª–∏ –º–æ–¥—É–ª—é —Å–ª–µ–¥—É–µ—Ç –Ω–∞–∑–Ω–∞—á–∏—Ç—å –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—É—é –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å, –æ—Å–Ω–æ–≤—ã–≤–∞—è—Å—å –Ω–∞ —Ç–æ–º, —É –∫–æ–≥–æ –µ—Å—Ç—å –Ω–µ–æ–±—Ö–æ–¥–∏–º–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–¥–∞—á–∏.</p>
<hr />
<h2 id="–û—Å–Ω–æ–≤–Ω—ã–µ-–∫–æ–Ω—Ü–µ–ø—Ü–∏–∏-1"><a class="header" href="#–û—Å–Ω–æ–≤–Ω—ã–µ-–∫–æ–Ω—Ü–µ–ø—Ü–∏–∏-1">–û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏</a></h2>
<h3 id="–ß—Ç–æ-—Ç–∞–∫–æ–µ-–ø—Ä–∏–Ω—Ü–∏–ø-–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã–π-—ç–∫—Å–ø–µ—Ä—Ç"><a class="header" href="#–ß—Ç–æ-—Ç–∞–∫–æ–µ-–ø—Ä–∏–Ω—Ü–∏–ø-–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã–π-—ç–∫—Å–ø–µ—Ä—Ç">–ß—Ç–æ —Ç–∞–∫–æ–µ –ø—Ä–∏–Ω—Ü–∏–ø "–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã–π —ç–∫—Å–ø–µ—Ä—Ç"?</a></h3>
<p><strong>–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã–π —ç–∫—Å–ø–µ—Ä—Ç</strong> ‚Äî —ç—Ç–æ —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–∞–ª—å–Ω—ã–π –ø—Ä–∏–Ω—Ü–∏–ø —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ –≤ –æ–±—ä–µ–∫—Ç–Ω–æ-–æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–º –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏. –°—É—Ç—å –ø—Ä–∏–Ω—Ü–∏–ø–∞:</p>
<blockquote>
<p><strong>–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –Ω–∞–∑–Ω–∞—á–µ–Ω–∞ —Ç–æ–º—É –æ–±—ä–µ–∫—Ç—É –∏–ª–∏ –º–æ–¥—É–ª—é, –∫–æ—Ç–æ—Ä—ã–π –æ–±–ª–∞–¥–∞–µ—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —ç—Ç–æ–π –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏.</strong></p>
</blockquote>
<h3 id="–ö–ª—é—á–µ–≤—ã–µ-–ø–æ–ª–æ–∂–µ–Ω–∏—è-–ø—Ä–∏–Ω—Ü–∏–ø–∞"><a class="header" href="#–ö–ª—é—á–µ–≤—ã–µ-–ø–æ–ª–æ–∂–µ–Ω–∏—è-–ø—Ä–∏–Ω—Ü–∏–ø–∞">–ö–ª—é—á–µ–≤—ã–µ –ø–æ–ª–æ–∂–µ–Ω–∏—è –ø—Ä–∏–Ω—Ü–∏–ø–∞</a></h3>
<ol>
<li>
<p><strong>–ò–Ω–∫–∞–ø—Å—É–ª—è—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö</strong>: –û–±—ä–µ–∫—Ç –¥–æ–ª–∂–µ–Ω —É–ø—Ä–∞–≤–ª—è—Ç—å —Å–≤–æ–∏–º–∏ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏ –∏ –Ω–µ –ø–æ–∑–≤–æ–ª—è—Ç—å –≤–Ω–µ—à–Ω–µ–º—É –∫–æ–¥—É "–ª–µ–∑—Ç—å" –≤ —Å–≤–æ–∏ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–æ—Å—Ç–∏.</p>
</li>
<li>
<p><strong>–°–æ–∫—Ä—ã—Ç–∏–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏</strong>: –í–Ω—É—Ç—Ä–µ–Ω–Ω—è—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å —Å–∫—Ä—ã—Ç–∞ –æ—Ç –≤–Ω–µ—à–Ω–µ–≥–æ –º–∏—Ä–∞ —á–µ—Ä–µ–∑ –ø—É–±–ª–∏—á–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å.</p>
</li>
<li>
<p><strong>–ö–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö</strong>: –û–±—ä–µ–∫—Ç —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ—Å—Ç—å —Å–≤–æ–∏—Ö –¥–∞–Ω–Ω—ã—Ö.</p>
</li>
<li>
<p><strong>–ù–µ–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤</strong>: –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –Ω–µ –¥–æ–ª–∂–Ω—ã –≤–ª–∏—è—Ç—å –Ω–∞ –≤–Ω–µ—à–Ω–∏–π –∫–æ–¥, –∏—Å–ø–æ–ª—å–∑—É—é—â–∏–π –æ–±—ä–µ–∫—Ç.</p>
</li>
</ol>
<hr />
<h2 id="–ü—Ä–∏–º–µ—Ä-1-–ù–∞—Ä—É—à–µ–Ω–∏–µ-–ø—Ä–∏–Ω—Ü–∏–ø–∞-—Å–æ-—Å–≤—è–∑–∞–Ω–Ω—ã–º-—Å–ø–∏—Å–∫–æ–º"><a class="header" href="#–ü—Ä–∏–º–µ—Ä-1-–ù–∞—Ä—É—à–µ–Ω–∏–µ-–ø—Ä–∏–Ω—Ü–∏–ø–∞-—Å–æ-—Å–≤—è–∑–∞–Ω–Ω—ã–º-—Å–ø–∏—Å–∫–æ–º">–ü—Ä–∏–º–µ—Ä 1: –ù–∞—Ä—É—à–µ–Ω–∏–µ –ø—Ä–∏–Ω—Ü–∏–ø–∞ —Å–æ —Å–≤—è–∑–∞–Ω–Ω—ã–º —Å–ø–∏—Å–∫–æ–º</a></h2>
<h3 id="–ü—Ä–æ–±–ª–µ–º–∞-–î–æ—Å—Ç—É–ø-–∫-–≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–π-—Å—Ç—Ä—É–∫—Ç—É—Ä–µ-–¥–∞–Ω–Ω—ã—Ö"><a class="header" href="#–ü—Ä–æ–±–ª–µ–º–∞-–î–æ—Å—Ç—É–ø-–∫-–≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–π-—Å—Ç—Ä—É–∫—Ç—É—Ä–µ-–¥–∞–Ω–Ω—ã—Ö">–ü—Ä–æ–±–ª–µ–º–∞: –î–æ—Å—Ç—É–ø –∫ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–µ –¥–∞–Ω–Ω—ã—Ö</a></h3>
<p>–†–∞—Å—Å–º–æ—Ç—Ä–∏–º –ø—Ä–æ—Å—Ç–æ–π —Å–≤—è–∑–∞–Ω–Ω—ã–π —Å–ø–∏—Å–æ–∫ —Å –º–µ—Ç–æ–¥–∞–º–∏ <code>push</code> –∏ <code>pop</code>:</p>
<pre><code class="language-javascript">class LinkedList {
  constructor() {
    this.first = null; // –ü–µ—Ä–≤—ã–π —ç–ª–µ–º–µ–Ω—Ç —Å–ø–∏—Å–∫–∞
    this.length = 0;   // –î–ª–∏–Ω–∞ —Å–ø–∏—Å–∫–∞
  }

  push(value) {
    // –í–Ω—É—Ç—Ä–µ–Ω–Ω—è—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —ç–ª–µ–º–µ–Ω—Ç–∞
    // (–¥–µ—Ç–∞–ª–∏ –æ–ø—É—â–µ–Ω—ã –¥–ª—è –∫—Ä–∞—Ç–∫–æ—Å—Ç–∏)
  }

  pop() {
    // –í–Ω—É—Ç—Ä–µ–Ω–Ω—è—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –∏–∑–≤–ª–µ—á–µ–Ω–∏—è —ç–ª–µ–º–µ–Ω—Ç–∞
    // (–¥–µ—Ç–∞–ª–∏ –æ–ø—É—â–µ–Ω—ã –¥–ª—è –∫—Ä–∞—Ç–∫–æ—Å—Ç–∏)
  }
}
</code></pre>
<h3 id="–ü—Ä–∞–≤–∏–ª—å–Ω–æ–µ-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ-–±–µ–∑-–Ω–∞—Ä—É—à–µ–Ω–∏—è-–ø—Ä–∏–Ω—Ü–∏–ø–∞"><a class="header" href="#–ü—Ä–∞–≤–∏–ª—å–Ω–æ–µ-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ-–±–µ–∑-–Ω–∞—Ä—É—à–µ–Ω–∏—è-–ø—Ä–∏–Ω—Ü–∏–ø–∞">–ü—Ä–∞–≤–∏–ª—å–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ (–±–µ–∑ –Ω–∞—Ä—É—à–µ–Ω–∏—è –ø—Ä–∏–Ω—Ü–∏–ø–∞)</a></h3>
<pre><code class="language-javascript">const list = new LinkedList();

// –ò—Å–ø–æ–ª—å–∑—É–µ–º —Ç–æ–ª—å–∫–æ –ø—É–±–ª–∏—á–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
list.push(1);
list.push(2);
list.push(3);

console.log(list.pop()); // 3
console.log(list.pop()); // 2
console.log(list.pop()); // 1

// –†–µ–∑—É–ª—å—Ç–∞—Ç: –≤—Å–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
</code></pre>
<h3 id="–ù–∞—Ä—É—à–µ–Ω–∏–µ-–ø—Ä–∏–Ω—Ü–∏–ø–∞-information-expert"><a class="header" href="#–ù–∞—Ä—É—à–µ–Ω–∏–µ-–ø—Ä–∏–Ω—Ü–∏–ø–∞-information-expert">–ù–∞—Ä—É—à–µ–Ω–∏–µ –ø—Ä–∏–Ω—Ü–∏–ø–∞ Information Expert</a></h3>
<pre><code class="language-javascript">const list = new LinkedList();
list.push(1);
list.push(2);
list.push(3);

// –ù–ê–†–£–®–ï–ù–ò–ï: –ª–µ–∑–µ–º –≤–æ –≤–Ω—É—Ç—Ä–µ–Ω–Ω—é—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É!
list.last.prev.prev = list.last;

// –†–µ–∑—É–ª—å—Ç–∞—Ç: –Ω–∞—Ä—É—à–µ–Ω–∞ –≤–Ω—É—Ç—Ä–µ–Ω–Ω—è—è –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å —Å–ø–∏—Å–∫–∞
console.log(list.pop()); // 2
console.log(list.pop()); // 2 (–¥—É–±–ª–∏—Ä—É–µ—Ç—Å—è!)
console.log(list.pop()); // ...–Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ
</code></pre>
<p><strong>–ü—Ä–æ–±–ª–µ–º–∞</strong>: –ü—Ä—è–º–æ–µ –æ–±—Ä–∞—â–µ–Ω–∏–µ –∫ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–º –ø–æ–ª—è–º (<code>list.last.prev.prev</code>) –Ω–∞—Ä—É—à–∞–µ—Ç —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç—å –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö, —á—Ç–æ –ø—Ä–∏–≤–æ–¥–∏—Ç –∫ –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π —Ä–∞–±–æ—Ç–µ –º–µ—Ç–æ–¥–æ–≤ —Å–ø–∏—Å–∫–∞.</p>
<hr />
<h2 id="–ü—Ä–∏–º–µ—Ä-2-–ò–µ—Ä–∞—Ä—Ö–∏—è-–ø–æ–∫—É–ø–æ–∫-–∏-–ø—Ä–æ–¥—É–∫—Ç–æ–≤-composite-pattern"><a class="header" href="#–ü—Ä–∏–º–µ—Ä-2-–ò–µ—Ä–∞—Ä—Ö–∏—è-–ø–æ–∫—É–ø–æ–∫-–∏-–ø—Ä–æ–¥—É–∫—Ç–æ–≤-composite-pattern">–ü—Ä–∏–º–µ—Ä 2: –ò–µ—Ä–∞—Ä—Ö–∏—è –ø–æ–∫—É–ø–æ–∫ –∏ –ø—Ä–æ–¥—É–∫—Ç–æ–≤ (Composite Pattern)</a></h2>
<h3 id="–ü–æ—Å—Ç–∞–Ω–æ–≤–∫–∞-–∑–∞–¥–∞—á–∏-2"><a class="header" href="#–ü–æ—Å—Ç–∞–Ω–æ–≤–∫–∞-–∑–∞–¥–∞—á–∏-2">–ü–æ—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–¥–∞—á–∏</a></h3>
<p>–ù–µ–æ–±—Ö–æ–¥–∏–º–æ —Å–æ–∑–¥–∞—Ç—å —Å–∏—Å—Ç–µ–º—É –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ–∫—É–ø–∫–∞–º–∏, –≥–¥–µ:</p>
<ul>
<li>–ï—Å—Ç—å –æ—Ç–¥–µ–ª—å–Ω—ã–µ <strong>–ø—Ä–æ–¥—É–∫—Ç—ã</strong> (Product) —Å —Ü–µ–Ω–æ–π</li>
<li>–ï—Å—Ç—å <strong>–ø–æ–∫—É–ø–∫–∏</strong> (Purchase), –∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥—É—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å –∫–∞–∫ –ø—Ä–æ–¥—É–∫—Ç—ã, —Ç–∞–∫ –∏ –¥—Ä—É–≥–∏–µ –ø–æ–∫—É–ø–∫–∏</li>
<li>–ù—É–∂–Ω–æ –≤—ã—á–∏—Å–ª—è—Ç—å –æ–±—â—É—é —Å—Ç–æ–∏–º–æ—Å—Ç—å –Ω–∞ –ª—é–±–æ–º —É—Ä–æ–≤–Ω–µ –∏–µ—Ä–∞—Ä—Ö–∏–∏</li>
</ul>
<h3 id="–†–µ–∞–ª–∏–∑–∞—Ü–∏—è-–∫–ª–∞—Å—Å–∞-product"><a class="header" href="#–†–µ–∞–ª–∏–∑–∞—Ü–∏—è-–∫–ª–∞—Å—Å–∞-product">–†–µ–∞–ª–∏–∑–∞—Ü–∏—è –∫–ª–∞—Å—Å–∞ Product</a></h3>
<pre><code class="language-javascript">class Product {
  constructor(name, price) {
    this.name = name;
    this.productPrice = price; // –í–Ω—É—Ç—Ä–µ–Ω–Ω–µ–µ –ø–æ–ª–µ –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è —Ü–µ–Ω—ã
  }

  // –ì–µ—Ç—Ç–µ—Ä –¥–ª—è –µ–¥–∏–Ω–æ–æ–±—Ä–∞–∑–Ω–æ–≥–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
  get price() {
    return this.productPrice;
  }
}
</code></pre>
<p><strong>–û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ</strong>:</p>
<ul>
<li>–•–æ—Ç—è –º–æ–∂–Ω–æ –±—ã–ª–æ –Ω–∞–ø—Ä—è–º—É—é –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å <code>this.price</code>, –º—ã —Å–æ–∑–¥–∞–µ–º –≥–µ—Ç—Ç–µ—Ä –¥–ª—è –µ–¥–∏–Ω–æ–æ–±—Ä–∞–∑–∏—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ —Å –∫–ª–∞—Å—Å–æ–º <code>Purchase</code>.</li>
<li>–ü—Ä–æ–¥—É–∫—Ç —Å–∞–º –∑–Ω–∞–µ—Ç —Å–≤–æ—é —Ü–µ–Ω—É –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –µ—ë —á–µ—Ä–µ–∑ –ø—É–±–ª–∏—á–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å.</li>
</ul>
<h3 id="–†–µ–∞–ª–∏–∑–∞—Ü–∏—è-–∫–ª–∞—Å—Å–∞-purchase"><a class="header" href="#–†–µ–∞–ª–∏–∑–∞—Ü–∏—è-–∫–ª–∞—Å—Å–∞-purchase">–†–µ–∞–ª–∏–∑–∞—Ü–∏—è –∫–ª–∞—Å—Å–∞ Purchase</a></h3>
<pre><code class="language-javascript">class Purchase {
  constructor(name, ...items) {
    this.name = name;
    this.items = items; // –ö–æ–ª–ª–µ–∫—Ü–∏—è –ø—Ä–æ–¥—É–∫—Ç–æ–≤ –∏/–∏–ª–∏ –¥—Ä—É–≥–∏—Ö –ø–æ–∫—É–ø–æ–∫
  }

  // –ì–µ—Ç—Ç–µ—Ä –≤—ã—á–∏—Å–ª—è–µ—Ç –æ–±—â—É—é —Å—Ç–æ–∏–º–æ—Å—Ç—å, –ø—Ä–æ—Ö–æ–¥—è –ø–æ –∫–æ–ª–ª–µ–∫—Ü–∏–∏
  get price() {
    let total = 0;
    for (const item of this.items) {
      total += item.price; // –í—ã–∑—ã–≤–∞–µ–º .price —É –∫–∞–∂–¥–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞
    }
    return total;
  }
}
</code></pre>
<p><strong>–ö–ª—é—á–µ–≤—ã–µ –º–æ–º–µ–Ω—Ç—ã</strong>:</p>
<ul>
<li><code>Purchase</code> –Ω–µ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç, —á—Ç–æ –∏–º–µ–Ω–Ω–æ –ª–µ–∂–∏—Ç –≤ –∫–æ–ª–ª–µ–∫—Ü–∏–∏ ‚Äî <code>Product</code> –∏–ª–∏ –¥—Ä—É–≥–æ–π <code>Purchase</code>.</li>
<li>–ë–ª–∞–≥–æ–¥–∞—Ä—è –µ–¥–∏–Ω–æ–º—É –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É (–≥–µ—Ç—Ç–µ—Ä <code>price</code>), –∫–æ–¥ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–æ–ª–∏–º–æ—Ä—Ñ–Ω–æ.</li>
<li>–í–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç—å –º–æ–∂–µ—Ç –±—ã—Ç—å –ª—é–±–æ–π: –ø–æ–∫—É–ø–∫–∞ –≤–Ω—É—Ç—Ä–∏ –ø–æ–∫—É–ø–∫–∏ –≤–Ω—É—Ç—Ä–∏ –ø–æ–∫—É–ø–∫–∏.</li>
</ul>
<h3 id="–ü—Ä–∏–º–µ—Ä-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è-1"><a class="header" href="#–ü—Ä–∏–º–µ—Ä-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è-1">–ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è</a></h3>
<pre><code class="language-javascript">// –°–æ–∑–¥–∞–µ–º –æ—Ç–¥–µ–ª—å–Ω—ã–µ –ø—Ä–æ–¥—É–∫—Ç—ã
const laptop = new Product('Laptop', 1000);
const mouse = new Product('Mouse', 50);
const keyboard = new Product('Keyboard', 150);

// –ì—Ä—É–ø–ø–∏—Ä—É–µ–º –≤ –ø–æ–∫—É–ø–∫—É "–≠–ª–µ–∫—Ç—Ä–æ–Ω–∏–∫–∞"
const electronics = new Purchase('Electronics', laptop, mouse, keyboard);

// –°–æ–∑–¥–∞–µ–º –µ—â–µ –ø—Ä–æ–¥—É–∫—Ç—ã
const bag = new Product('Bag', 80);
const mousepad = new Product('Mousepad', 20);

// –ì—Ä—É–ø–ø–∏—Ä—É–µ–º –≤ –ø–æ–∫—É–ø–∫—É "–¢–µ–∫—Å—Ç–∏–ª—å"
const textile = new Purchase('Textile', bag, mousepad);

// –°–æ–∑–¥–∞–µ–º –æ–±—â—É—é –ø–æ–∫—É–ø–∫—É "–†–∞–±–æ—á–∏–π –Ω–∞–±–æ—Ä"
const workSet = new Purchase('Work Set', electronics, textile);

// –ú–æ–∂–µ–º –ø–æ–ª—É—á–∏—Ç—å —Ü–µ–Ω—É –Ω–∞ –ª—é–±–æ–º —É—Ä–æ–≤–Ω–µ
console.log('Electronics:', electronics.price);  // 1200
console.log('Textile:', textile.price);          // 100
console.log('Total:', workSet.price);            // 1300
</code></pre>
<h3 id="–í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è-–∏–µ—Ä–∞—Ä—Ö–∏–∏"><a class="header" href="#–í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è-–∏–µ—Ä–∞—Ä—Ö–∏–∏">–í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –∏–µ—Ä–∞—Ä—Ö–∏–∏</a></h3>
<pre><code>Work Set (1300)
‚îú‚îÄ‚îÄ Electronics (1200)
‚îÇ   ‚îú‚îÄ‚îÄ Laptop (1000)
‚îÇ   ‚îú‚îÄ‚îÄ Mouse (50)
‚îÇ   ‚îî‚îÄ‚îÄ Keyboard (150)
‚îî‚îÄ‚îÄ Textile (100)
    ‚îú‚îÄ‚îÄ Bag (80)
    ‚îî‚îÄ‚îÄ Mousepad (20)
</code></pre>
<h3 id="–ü–æ—á–µ–º—É-—ç—Ç–æ-—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç-–ø—Ä–∏–Ω—Ü–∏–ø—É-information-expert"><a class="header" href="#–ü–æ—á–µ–º—É-—ç—Ç–æ-—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç-–ø—Ä–∏–Ω—Ü–∏–ø—É-information-expert">–ü–æ—á–µ–º—É —ç—Ç–æ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –ø—Ä–∏–Ω—Ü–∏–ø—É Information Expert?</a></h3>
<ol>
<li><strong>Product</strong> —Å–∞–º –∑–Ω–∞–µ—Ç —Å–≤–æ—é —Ü–µ–Ω—É –∏ –Ω–µ —Ç—Ä–µ–±—É–µ—Ç –æ—Ç –¥—Ä—É–≥–∏—Ö –æ–±—ä–µ–∫—Ç–æ–≤ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —ç—Ç–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π.</li>
<li><strong>Purchase</strong> —Å–∞–º –∑–Ω–∞–µ—Ç —Å–≤–æ–∏ —ç–ª–µ–º–µ–Ω—Ç—ã –∏ —É–º–µ–µ—Ç –≤—ã—á–∏—Å–ª—è—Ç—å –æ–±—â—É—é —Å—Ç–æ–∏–º–æ—Å—Ç—å, –Ω–µ —Ä–∞—Å–∫—Ä—ã–≤–∞—è –¥–µ—Ç–∞–ª–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏.</li>
<li>–ù–µ—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –≤–æ –≤–Ω–µ—à–Ω–µ–º –∫–æ–¥–µ –ø—Ä–æ–≤–µ—Ä—è—Ç—å —Ç–∏–ø—ã —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –∏–ª–∏ –æ–±—Ä–∞—â–∞—Ç—å—Å—è –∫ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–º –ø–æ–ª—è–º.</li>
<li>–ö–∞–∂–¥—ã–π –æ–±—ä–µ–∫—Ç —è–≤–ª—è–µ—Ç—Å—è <strong>—ç–∫—Å–ø–µ—Ä—Ç–æ–º</strong> –ø–æ —Å–≤–æ–∏–º —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–º –¥–∞–Ω–Ω—ã–º.</li>
</ol>
<h3 id="–†–∞—Å—à–∏—Ä—è–µ–º–æ—Å—Ç—å-–∏-–≥–∏–±–∫–æ—Å—Ç—å"><a class="header" href="#–†–∞—Å—à–∏—Ä—è–µ–º–æ—Å—Ç—å-–∏-–≥–∏–±–∫–æ—Å—Ç—å">–†–∞—Å—à–∏—Ä—è–µ–º–æ—Å—Ç—å –∏ –≥–∏–±–∫–æ—Å—Ç—å</a></h3>
<p>–ë–ª–∞–≥–æ–¥–∞—Ä—è —Å–æ–±–ª—é–¥–µ–Ω–∏—é –ø—Ä–∏–Ω—Ü–∏–ø–∞, –º–æ–∂–Ω–æ –ª–µ–≥–∫–æ —Ä–∞—Å—à–∏—Ä—è—Ç—å —Å–∏—Å—Ç–µ–º—É:</p>
<pre><code class="language-javascript">// –ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å —Å–ø–µ—Ü–∏–∞–ª—å–Ω—É—é –ª–æ–≥–∏–∫—É –≤—ã—á–∏—Å–ª–µ–Ω–∏—è —Ü–µ–Ω—ã
class DiscountProduct extends Product {
  constructor(name, price, discount) {
    super(name, price);
    this.discount = discount;
  }

  get price() {
    // –ü–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è–µ–º –≤—ã—á–∏—Å–ª–µ–Ω–∏–µ —Ü–µ–Ω—ã —Å —É—á–µ—Ç–æ–º —Å–∫–∏–¥–∫–∏
    return this.productPrice * (1 - this.discount);
  }
}

// –ú–æ–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ —Ç–∏–ø—ã –ø–æ–∫—É–ø–æ–∫
class SpecialOfferPurchase extends Purchase {
  get price() {
    // –ü—Ä–∏–º–µ–Ω—è–µ–º —Å–ø–µ—Ü–∏–∞–ª—å–Ω—É—é —Å–∫–∏–¥–∫—É –∫–æ –≤—Å–µ–π –ø–æ–∫—É–ø–∫–µ
    const basePrice = super.price;
    return basePrice * 0.9; // 10% —Å–∫–∏–¥–∫–∞
  }
}
</code></pre>
<h3 id="–ö–æ–Ω—Ç—Ä–∞–∫—Ç-–∏-—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ"><a class="header" href="#–ö–æ–Ω—Ç—Ä–∞–∫—Ç-–∏-—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ">–ö–æ–Ω—Ç—Ä–∞–∫—Ç –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ</a></h3>
<p>–í JavaScript –Ω–µ—Ç —è–≤–Ω—ã—Ö –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤, –ø–æ—ç—Ç–æ–º—É –∫–æ–Ω—Ç—Ä–∞–∫—Ç (–æ–¥–∏–Ω–∞–∫–æ–≤—ã–π –≥–µ—Ç—Ç–µ—Ä <code>price</code>) –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è:</p>
<ol>
<li><strong>–°–∏–ª–æ–π –≤–æ–ª–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤</strong> ‚Äî —Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ —Å–æ–≥–ª–∞—à–µ–Ω–∏—è–º</li>
<li><strong>–¢–µ—Å—Ç–∞–º–∏</strong> ‚Äî –ø—Ä–æ–≤–µ—Ä–∫–∞ –æ–∂–∏–¥–∞–µ–º–æ–≥–æ –ø–æ–≤–µ–¥–µ–Ω–∏—è</li>
</ol>
<pre><code class="language-javascript">// –ü—Ä–∏–º–µ—Ä —Ç–µ—Å—Ç–∞
const total = workSet.price;
console.assert(total === 1300, 'Total price should be 1300');

// –ï—Å–ª–∏ –≥–¥–µ-—Ç–æ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ –≤—ã—á–∏—Å–ª–µ–Ω–∞ —Ü–µ–Ω–∞ ‚Äî —Ç–µ—Å—Ç –Ω–µ –ø—Ä–æ–π–¥–µ—Ç
</code></pre>
<hr />
<h2 id="–ü—Ä–∏–º–µ—Ä-3-–¶–∏–∫–ª–∏—á–µ—Å–∫–∏–π-–±—É—Ñ–µ—Ä-ring-buffer"><a class="header" href="#–ü—Ä–∏–º–µ—Ä-3-–¶–∏–∫–ª–∏—á–µ—Å–∫–∏–π-–±—É—Ñ–µ—Ä-ring-buffer">–ü—Ä–∏–º–µ—Ä 3: –¶–∏–∫–ª–∏—á–µ—Å–∫–∏–π –±—É—Ñ–µ—Ä (Ring Buffer)</a></h2>
<h3 id="–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ"><a class="header" href="#–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ">–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ</a></h3>
<p>–¶–∏–∫–ª–∏—á–µ—Å–∫–∏–π –±—É—Ñ–µ—Ä ‚Äî —ç—Ç–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ —Ä–∞–∑–º–µ—Ä–∞, –∫–æ—Ç–æ—Ä–∞—è –ø—Ä–∏ –ø–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω–∏–∏ –Ω–∞—á–∏–Ω–∞–µ—Ç –ø–µ—Ä–µ–∑–∞–ø–∏—Å—ã–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ —Å –Ω–∞—á–∞–ª–∞.</p>
<h3 id="–†–µ–∞–ª–∏–∑–∞—Ü–∏—è-–Ω–∞-–æ—Å–Ω–æ–≤–µ-buffer-nodejs"><a class="header" href="#–†–µ–∞–ª–∏–∑–∞—Ü–∏—è-–Ω–∞-–æ—Å–Ω–æ–≤–µ-buffer-nodejs">–†–µ–∞–ª–∏–∑–∞—Ü–∏—è –Ω–∞ –æ—Å–Ω–æ–≤–µ Buffer (Node.js)</a></h3>
<pre><code class="language-javascript">class RingBuffer {
  constructor(size) {
    this.buffer = Buffer.alloc(size); // –í—ã–¥–µ–ª—è–µ–º –±—É—Ñ–µ—Ä –∑–∞–¥–∞–Ω–Ω–æ–≥–æ —Ä–∞–∑–º–µ—Ä–∞
    this.offset = 0;                   // –¢–µ–∫—É—â–µ–µ —Å–º–µ—â–µ–Ω–∏–µ –¥–ª—è –∑–∞–ø–∏—Å–∏
    this.size = size;                  // –†–∞–∑–º–µ—Ä –±—É—Ñ–µ—Ä–∞ (–¥—É–±–ª–∏—Ä—É–µ–º –¥–ª—è —É–¥–æ–±—Å—Ç–≤–∞)
  }

  write(str) {
    // –ü–æ–ª—É—á–∞–µ–º –¥–ª–∏–Ω—É —Å—Ç—Ä–æ–∫–∏ –≤ –±–∞–π—Ç–∞—Ö
    const len = Buffer.byteLength(str, 'utf8');

    // –í—ã—á–∏—Å–ª—è–µ–º, —Å–∫–æ–ª—å–∫–æ –±–∞–π—Ç–æ–≤ –≤–ª–µ–∑–µ—Ç –¥–æ –∫–æ–Ω—Ü–∞ –±—É—Ñ–µ—Ä–∞
    const restBuffer = this.size - this.offset;

    if (len &lt; restBuffer) {
      // –°—Ç—Ä–æ–∫–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é –ø–æ–º–µ—â–∞–µ—Ç—Å—è –≤ –æ—Å—Ç–∞–≤—à–µ–µ—Å—è –º–µ—Å—Ç–æ
      this.buffer.write(str, this.offset, 'utf8');
      this.offset += len;
    } else {
      // –°—Ç—Ä–æ–∫–∞ –Ω–µ –ø–æ–º–µ—â–∞–µ—Ç—Å—è, –Ω—É–∂–Ω–æ —Ä–∞–∑–¥–µ–ª–∏—Ç—å –Ω–∞ –¥–≤–µ —á–∞—Å—Ç–∏

      // –ü–µ—Ä–≤–∞—è —á–∞—Å—Ç—å: –∑–∞–ø–∏—Å—ã–≤–∞–µ–º –¥–æ –∫–æ–Ω—Ü–∞ –±—É—Ñ–µ—Ä–∞
      const firstPart = str.slice(0, restBuffer);
      this.buffer.write(firstPart, this.offset, 'utf8');

      // –í—Ç–æ—Ä–∞—è —á–∞—Å—Ç—å: –∑–∞–ø–∏—Å—ã–≤–∞–µ–º —Å –Ω–∞—á–∞–ª–∞ –±—É—Ñ–µ—Ä–∞ (—Ä–µ–∫—É—Ä—Å–∏–≤–Ω–æ)
      this.offset = 0;
      const secondPart = str.slice(restBuffer);
      this.write(secondPart); // –†–µ–∫—É—Ä—Å–∏–≤–Ω—ã–π –≤—ã–∑–æ–≤
    }
  }

  // –ú–µ—Ç–æ–¥ –¥–ª—è —á—Ç–µ–Ω–∏—è –≤—Å–µ–≥–æ —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ –±—É—Ñ–µ—Ä–∞
  toString() {
    return this.buffer.toString('utf8');
  }
}
</code></pre>
<h3 id="–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è-–≤–µ—Ä—Å–∏—è-–∏—Å–ø–æ–ª—å–∑—É–µ—Ç-bufferwrite"><a class="header" href="#–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è-–≤–µ—Ä—Å–∏—è-–∏—Å–ø–æ–ª—å–∑—É–µ—Ç-bufferwrite">–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç Buffer.write)</a></h3>
<pre><code class="language-javascript">class RingBuffer {
  constructor(size) {
    this.buffer = Buffer.alloc(size);
    this.offset = 0;
    this.size = size;
  }

  write(str) {
    const len = Buffer.byteLength(str, 'utf8');
    const restBuffer = this.size - this.offset;

    if (len &lt; restBuffer) {
      // –ò—Å–ø–æ–ª—å–∑—É–µ–º –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –º–µ—Ç–æ–¥ buffer.write() - –±–æ–ª–µ–µ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ
      this.buffer.write(str, this.offset, 'utf8');
      this.offset += len;
    } else {
      // –ó–∞–ø–∏—Å—ã–≤–∞–µ–º –ø–µ—Ä–≤—É—é —á–∞—Å—Ç—å
      const firstPart = str.slice(0, restBuffer);
      this.buffer.write(firstPart, this.offset, 'utf8');

      // –ó–∞–ø–∏—Å—ã–≤–∞–µ–º –≤—Ç–æ—Ä—É—é —á–∞—Å—Ç—å —Å –Ω–∞—á–∞–ª–∞
      this.offset = 0;
      const secondPart = str.slice(restBuffer);
      this.write(secondPart);
    }
  }

  toString() {
    return this.buffer.toString('utf8');
  }
}
</code></pre>
<p><strong>–≠–≤–æ–ª—é—Ü–∏—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏</strong>:</p>
<ul>
<li>–ü–µ—Ä–≤–∞—è –≤–µ—Ä—Å–∏—è: –ø–æ–±–∞–π—Ç–æ–≤–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ —Ü–∏–∫–ª–µ (–º–µ–¥–ª–µ–Ω–Ω–æ)</li>
<li>–í—Ç–æ—Ä–∞—è –≤–µ—Ä—Å–∏—è: –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ <code>buffer.write()</code> (–±—ã—Å—Ç—Ä–æ)</li>
<li><strong>–í–∞–∂–Ω–æ</strong>: –í–Ω–µ—à–Ω–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –æ—Å—Ç–∞–ª—Å—è –Ω–µ–∏–∑–º–µ–Ω–Ω—ã–º!</li>
</ul>
<h3 id="–ü—Ä–∏–º–µ—Ä-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è-2"><a class="header" href="#–ü—Ä–∏–º–µ—Ä-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è-2">–ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è</a></h3>
<pre><code class="language-javascript">const ring = new RingBuffer(10);

ring.write('1');
ring.write('2');
ring.write('3');
ring.write('4567890a');

console.log(ring.toString()); // "a234567890"
</code></pre>
<p><strong>–ß—Ç–æ –ø—Ä–æ–∏–∑–æ—à–ª–æ</strong>:</p>
<ol>
<li>–ó–∞–ø–∏—Å–∞–ª–∏ <code>'1'</code> (offset = 1)</li>
<li>–ó–∞–ø–∏—Å–∞–ª–∏ <code>'2'</code> (offset = 2)</li>
<li>–ó–∞–ø–∏—Å–∞–ª–∏ <code>'3'</code> (offset = 3)</li>
<li>–ó–∞–ø–∏—Å–∞–ª–∏ <code>'4567890a'</code> ‚Äî —Å—Ç—Ä–æ–∫–∞ –∏–∑ 8 —Å–∏–º–≤–æ–ª–æ–≤:
<ul>
<li>–í –±—É—Ñ–µ—Ä–µ 7 —Å–≤–æ–±–æ–¥–Ω—ã—Ö –º–µ—Å—Ç (10 - 3)</li>
<li><code>'4567890'</code> –∑–∞–ø–∏—Å–∞–ª–æ—Å—å –≤ –ø–æ–∑–∏—Ü–∏–∏ 3-9</li>
<li><code>'a'</code> –∑–∞–ø–∏—Å–∞–ª–æ—Å—å –≤ –ø–æ–∑–∏—Ü–∏—é 0, –ø–µ—Ä–µ–∑–∞–ø–∏—Å–∞–≤ <code>'1'</code></li>
</ul>
</li>
<li>–†–µ–∑—É–ª—å—Ç–∞—Ç: <code>"a234567890"</code></li>
</ol>
<h3 id="–ü—Ä–∞–≤–∏–ª—å–Ω–æ–µ-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ-—Å–æ–±–ª—é–¥–µ–Ω–∏–µ-information-expert"><a class="header" href="#–ü—Ä–∞–≤–∏–ª—å–Ω–æ–µ-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ-—Å–æ–±–ª—é–¥–µ–Ω–∏–µ-information-expert">–ü—Ä–∞–≤–∏–ª—å–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ (—Å–æ–±–ª—é–¥–µ–Ω–∏–µ Information Expert)</a></h3>
<pre><code class="language-javascript">// –ü–†–ê–í–ò–õ–¨–ù–û: –∏—Å–ø–æ–ª—å–∑—É–µ–º –ø—É–±–ª–∏—á–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
const content = ring.toString();
console.log(content);
</code></pre>
<h3 id="–ù–∞—Ä—É—à–µ–Ω–∏–µ-–ø—Ä–∏–Ω—Ü–∏–ø–∞"><a class="header" href="#–ù–∞—Ä—É—à–µ–Ω–∏–µ-–ø—Ä–∏–Ω—Ü–∏–ø–∞">–ù–∞—Ä—É—à–µ–Ω–∏–µ –ø—Ä–∏–Ω—Ü–∏–ø–∞</a></h3>
<pre><code class="language-javascript">// –ù–ï–ü–†–ê–í–ò–õ–¨–ù–û: –ª–µ–∑–µ–º –≤–æ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π –±—É—Ñ–µ—Ä –Ω–∞–ø—Ä—è–º—É—é
ring.buffer.write('b', 0, 'utf8');
console.log(ring.buffer.toString('utf8')); // –ù–∞—Ä—É—à–∏–ª–∏ –∏–Ω–∫–∞–ø—Å—É–ª—è—Ü–∏—é!
</code></pre>
<p><strong>–ü—Ä–æ–±–ª–µ–º–∞</strong>: –ü—Ä—è–º–æ–µ –æ–±—Ä–∞—â–µ–Ω–∏–µ –∫ <code>ring.buffer</code> –æ–±—Ö–æ–¥–∏—Ç –ª–æ–≥–∏–∫—É —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–º–µ—â–µ–Ω–∏–µ–º (<code>offset</code>), —á—Ç–æ –º–æ–∂–µ—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–º—É —Å–æ—Å—Ç–æ—è–Ω–∏—é –æ–±—ä–µ–∫—Ç–∞.</p>
<h3 id="–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω–∞—è-–≤–µ—Ä—Å–∏—è-—Å-–º–µ—Ç–æ–¥–æ–º-tostring"><a class="header" href="#–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω–∞—è-–≤–µ—Ä—Å–∏—è-—Å-–º–µ—Ç–æ–¥–æ–º-tostring">–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è —Å –º–µ—Ç–æ–¥–æ–º toString()</a></h3>
<pre><code class="language-javascript">class RingBuffer {
  constructor(size) {
    this.buffer = Buffer.alloc(size);
    this.offset = 0;
    this.size = size;
  }

  write(str) {
    const len = Buffer.byteLength(str, 'utf8');
    const restBuffer = this.size - this.offset;

    if (len &lt; restBuffer) {
      this.buffer.write(str, this.offset, 'utf8');
      this.offset += len;
    } else {
      const firstPart = str.slice(0, restBuffer);
      this.buffer.write(firstPart, this.offset, 'utf8');
      this.offset = 0;
      const secondPart = str.slice(restBuffer);
      this.write(secondPart);
    }
  }

  // –î–æ–±–∞–≤–∏–ª–∏ –º–µ—Ç–æ–¥ –¥–ª—è —á—Ç–µ–Ω–∏—è ‚Äî –∏–Ω–∫–∞–ø—Å—É–ª–∏—Ä—É–µ–º –¥–æ—Å—Ç—É–ø –∫ buffer
  toString() {
    return this.buffer.toString('utf8');
  }
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
const ring = new RingBuffer(10);
ring.write('1');
ring.write('2');
ring.write('3');
ring.write('4567890ab');

// –ü—Ä–∞–≤–∏–ª—å–Ω–æ: –∏—Å–ø–æ–ª—å–∑—É–µ–º –ø—É–±–ª–∏—á–Ω—ã–π –º–µ—Ç–æ–¥
console.log(ring.toString()); // "ab34567890"
</code></pre>
<hr />
<h2 id="–ü—Ä–∏–º–µ—Ä-4-–ü—Ä–æ—Ü–µ–¥—É—Ä–Ω—ã–π-–ø–æ–¥—Ö–æ–¥-—Å-–º–æ–¥—É–ª—è–º–∏"><a class="header" href="#–ü—Ä–∏–º–µ—Ä-4-–ü—Ä–æ—Ü–µ–¥—É—Ä–Ω—ã–π-–ø–æ–¥—Ö–æ–¥-—Å-–º–æ–¥—É–ª—è–º–∏">–ü—Ä–∏–º–µ—Ä 4: –ü—Ä–æ—Ü–µ–¥—É—Ä–Ω—ã–π –ø–æ–¥—Ö–æ–¥ —Å –º–æ–¥—É–ª—è–º–∏</a></h2>
<h3 id="–û—Ç-–û–û–ü-–∫-–ø—Ä–æ—Ü–µ–¥—É—Ä–Ω–æ–º—É-–ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—é"><a class="header" href="#–û—Ç-–û–û–ü-–∫-–ø—Ä–æ—Ü–µ–¥—É—Ä–Ω–æ–º—É-–ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—é">–û—Ç –û–û–ü –∫ –ø—Ä–æ—Ü–µ–¥—É—Ä–Ω–æ–º—É –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—é</a></h3>
<p>–ü—Ä–∏–Ω—Ü–∏–ø Information Expert –ø—Ä–∏–º–µ–Ω–∏–º –Ω–µ —Ç–æ–ª—å–∫–æ –∫ –∫–ª–∞—Å—Å–∞–º, –Ω–æ –∏ –∫ <strong>–º–æ–¥—É–ª—è–º</strong>. –†–∞—Å—Å–º–æ—Ç—Ä–∏–º –ø—Ä–æ—Ü–µ–¥—É—Ä–Ω—É—é –≤–µ—Ä—Å–∏—é —Ü–∏–∫–ª–∏—á–µ—Å–∫–æ–≥–æ –±—É—Ñ–µ—Ä–∞.</p>
<h3 id="–ú–æ–¥—É–ª—å-ringjs-–ø—Ä–æ—Ü–µ–¥—É—Ä–Ω—ã–π-—Å—Ç–∏–ª—å"><a class="header" href="#–ú–æ–¥—É–ª—å-ringjs-–ø—Ä–æ—Ü–µ–¥—É—Ä–Ω—ã–π-—Å—Ç–∏–ª—å">–ú–æ–¥—É–ª—å ring.js (–ø—Ä–æ—Ü–µ–¥—É—Ä–Ω—ã–π —Å—Ç–∏–ª—å)</a></h3>
<pre><code class="language-javascript">// ring.js - –º–æ–¥—É–ª—å –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Ü–∏–∫–ª–∏—á–µ—Å–∫–∏–º –±—É—Ñ–µ—Ä–æ–º

/**
 * –°–æ–∑–¥–∞–µ—Ç —Ü–∏–∫–ª–∏—á–µ—Å–∫–∏–π –±—É—Ñ–µ—Ä –∑–∞–¥–∞–Ω–Ω–æ–≥–æ —Ä–∞–∑–º–µ—Ä–∞
 * @param {number} size - —Ä–∞–∑–º–µ—Ä –±—É—Ñ–µ—Ä–∞ –≤ –±–∞–π—Ç–∞—Ö
 * @returns {Object} –æ–±—ä–µ–∫—Ç —Å –ø–æ–ª—è–º–∏ buffer, offset, size
 */
const alloc = (size) =&gt; ({
  buffer: Buffer.alloc(size),
  offset: 0,
  size
});

/**
 * –ó–∞–ø–∏—Å—ã–≤–∞–µ—Ç —Å—Ç—Ä–æ–∫—É –≤ —Ü–∏–∫–ª–∏—á–µ—Å–∫–∏–π –±—É—Ñ–µ—Ä
 * @param {Object} buf - –æ–±—ä–µ–∫—Ç –±—É—Ñ–µ—Ä–∞, —Å–æ–∑–¥–∞–Ω–Ω—ã–π —á–µ—Ä–µ–∑ alloc()
 * @param {string} str - —Å—Ç—Ä–æ–∫–∞ –¥–ª—è –∑–∞–ø–∏—Å–∏
 */
const write = (buf, str) =&gt; {
  const len = Buffer.byteLength(str, 'utf8');
  const restBuffer = buf.size - buf.offset;

  if (len &lt; restBuffer) {
    buf.buffer.write(str, buf.offset, 'utf8');
    buf.offset += len;
  } else {
    const firstPart = str.slice(0, restBuffer);
    buf.buffer.write(firstPart, buf.offset, 'utf8');
    buf.offset = 0;
    const secondPart = str.slice(restBuffer);
    write(buf, secondPart); // –†–µ–∫—É—Ä—Å–∏–≤–Ω—ã–π –≤—ã–∑–æ–≤
  }
};

/**
 * –ß–∏—Ç–∞–µ—Ç —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –±—É—Ñ–µ—Ä–∞ –∫–∞–∫ —Å—Ç—Ä–æ–∫—É
 * @param {Object} buf - –æ–±—ä–µ–∫—Ç –±—É—Ñ–µ—Ä–∞
 * @returns {string} —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –±—É—Ñ–µ—Ä–∞ –≤ –≤–∏–¥–µ —Å—Ç—Ä–æ–∫–∏
 */
const read = (buf) =&gt; {
  return buf.buffer.toString('utf8');
};

// –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–µ–º –ø—É–±–ª–∏—á–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –º–æ–¥—É–ª—è
module.exports = { alloc, write, read };
</code></pre>
<h3 id="–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ-–º–æ–¥—É–ª—è"><a class="header" href="#–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ-–º–æ–¥—É–ª—è">–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –º–æ–¥—É–ª—è</a></h3>
<pre><code class="language-javascript">// main.js
const ring = require('./ring');

// –°–æ–∑–¥–∞–µ–º –±—É—Ñ–µ—Ä
const buf = ring.alloc(10);

// –ó–∞–ø–∏—Å—ã–≤–∞–µ–º –¥–∞–Ω–Ω—ã–µ
ring.write(buf, '1');
ring.write(buf, '2');
ring.write(buf, '3');
ring.write(buf, '4567890a');

// –ß–∏—Ç–∞–µ–º —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ
console.log(ring.read(buf)); // "a234567890"

// –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∑–∞–ø–∏—Å–∏
ring.write(buf, 'b');
console.log(ring.read(buf)); // "ab34567890"

ring.write(buf, '***');
console.log(ring.read(buf)); // "***4567***"
// (–∑–≤–µ–∑–¥–æ—á–∫–∏ –ø–µ—Ä–µ–∑–∞–ø–∏—Å–∞–ª–∏ —á–∞—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö —Ü–∏–∫–ª–∏—á–µ—Å–∫–∏)
</code></pre>
<h3 id="–ü–æ—á–µ–º—É-—ç—Ç–æ-information-expert-–Ω–∞-—É—Ä–æ–≤–Ω–µ-–º–æ–¥—É–ª—è"><a class="header" href="#–ü–æ—á–µ–º—É-—ç—Ç–æ-information-expert-–Ω–∞-—É—Ä–æ–≤–Ω–µ-–º–æ–¥—É–ª—è">–ü–æ—á–µ–º—É —ç—Ç–æ Information Expert –Ω–∞ —É—Ä–æ–≤–Ω–µ –º–æ–¥—É–ª—è?</a></h3>
<ol>
<li>
<p><strong>–ú–æ–¥—É–ª—å –∏–Ω–∫–∞–ø—Å—É–ª–∏—Ä—É–µ—Ç –ª–æ–≥–∏–∫—É</strong>: –í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Ü–∏–∫–ª–∏—á–µ—Å–∫–∏–º –±—É—Ñ–µ—Ä–æ–º –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ.</p>
</li>
<li>
<p><strong>–ï–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π —ç–∫—Å–ø–µ—Ä—Ç</strong>: –¢–æ–ª—å–∫–æ –º–æ–¥—É–ª—å <code>ring</code> –∑–Ω–∞–µ—Ç, –∫–∞–∫ –ø—Ä–∞–≤–∏–ª—å–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å —Å –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π –±—É—Ñ–µ—Ä–∞.</p>
</li>
<li>
<p><strong>–ü—É–±–ª–∏—á–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å</strong>: <code>alloc</code>, <code>write</code>, <code>read</code> ‚Äî —ç—Ç–æ –∫–æ–Ω—Ç—Ä–∞–∫—Ç –º–æ–¥—É–ª—è, –∫–æ—Ç–æ—Ä—ã–π –Ω–µ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏.</p>
</li>
<li>
<p><strong>–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏</strong>: –í–Ω—É—Ç—Ä–µ–Ω–Ω—é—é –ª–æ–≥–∏–∫—É –º–æ–∂–Ω–æ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞.</p>
</li>
</ol>
<h3 id="–°—Ä–∞–≤–Ω–µ–Ω–∏–µ-–û–û–ü-vs-–ü—Ä–æ—Ü–µ–¥—É—Ä–Ω—ã–π-—Å—Ç–∏–ª—å"><a class="header" href="#–°—Ä–∞–≤–Ω–µ–Ω–∏–µ-–û–û–ü-vs-–ü—Ä–æ—Ü–µ–¥—É—Ä–Ω—ã–π-—Å—Ç–∏–ª—å">–°—Ä–∞–≤–Ω–µ–Ω–∏–µ: –û–û–ü vs –ü—Ä–æ—Ü–µ–¥—É—Ä–Ω—ã–π —Å—Ç–∏–ª—å</a></h3>
<div class="table-wrapper"><table><thead><tr><th>–ê—Å–ø–µ–∫—Ç</th><th>–û–û–ü (–∫–ª–∞—Å—Å RingBuffer)</th><th>–ü—Ä–æ—Ü–µ–¥—É—Ä–Ω—ã–π (–º–æ–¥—É–ª—å ring)</th></tr></thead><tbody>
<tr><td>–°–æ–∑–¥–∞–Ω–∏–µ</td><td><code>new RingBuffer(10)</code></td><td><code>ring.alloc(10)</code></td></tr>
<tr><td>–ó–∞–ø–∏—Å—å</td><td><code>buf.write('text')</code></td><td><code>ring.write(buf, 'text')</code></td></tr>
<tr><td>–ß—Ç–µ–Ω–∏–µ</td><td><code>buf.toString()</code></td><td><code>ring.read(buf)</code></td></tr>
<tr><td>–î–æ—Å—Ç—É–ø –∫ –¥–∞–Ω–Ω—ã–º</td><td><code>this.buffer</code></td><td>–ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è –∫–∞–∫ –∞—Ä–≥—É–º–µ–Ω—Ç</td></tr>
<tr><td>–ò–Ω–∫–∞–ø—Å—É–ª—è—Ü–∏—è</td><td>–ß–µ—Ä–µ–∑ –ø—Ä–∏–≤–∞—Ç–Ω—ã–µ –ø–æ–ª—è/–º–µ—Ç–æ–¥—ã</td><td>–ß–µ—Ä–µ–∑ –º–æ–¥—É–ª—å –∏ –µ–≥–æ —ç–∫—Å–ø–æ—Ä—Ç</td></tr>
</tbody></table>
</div>
<p><strong>–í—ã–≤–æ–¥</strong>: –ü—Ä–∏–Ω—Ü–∏–ø Information Expert —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ –æ–±–æ–∏—Ö —Å—Ç–∏–ª—è—Ö –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è!</p>
<hr />
<h2 id="–ö–ª—é—á–µ–≤—ã–µ-–≤—ã–≤–æ–¥—ã-14"><a class="header" href="#–ö–ª—é—á–µ–≤—ã–µ-–≤—ã–≤–æ–¥—ã-14">–ö–ª—é—á–µ–≤—ã–µ –≤—ã–≤–æ–¥—ã</a></h2>
<h3 id="1-–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ-–æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏"><a class="header" href="#1-–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ-–æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏">1. –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏</a></h3>
<p><strong>–ü—Ä–∏–Ω—Ü–∏–ø</strong>: –ù–∞–∑–Ω–∞—á–∞–π—Ç–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å –æ–±—ä–µ–∫—Ç—É (–º–æ–¥—É–ª—é), –∫–æ—Ç–æ—Ä—ã–π –≤–ª–∞–¥–µ–µ—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π.</p>
<pre><code class="language-javascript">// –ü–õ–û–•–û: –≤–Ω–µ—à–Ω–∏–π –∫–æ–¥ –∑–Ω–∞–µ—Ç –æ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–µ
function calculateTotal(purchase) {
  let total = 0;
  for (const item of purchase.items) {
    if (item instanceof Product) {
      total += item.productPrice; // –õ–µ–∑–µ–º –≤ –ø—Ä–∏–≤–∞—Ç–Ω–æ–µ –ø–æ–ª–µ
    } else if (item instanceof Purchase) {
      total += calculateTotal(item); // –†–µ–∫—É—Ä—Å–∏—è
    }
  }
  return total;
}

// –•–û–†–û–®–û: –æ–±—ä–µ–∫—Ç —Å–∞–º –∑–Ω–∞–µ—Ç, –∫–∞–∫ –≤—ã—á–∏—Å–ª–∏—Ç—å —Å–≤–æ—é —Ü–µ–Ω—É
class Purchase {
  get price() {
    return this.items.reduce((sum, item) =&gt; sum + item.price, 0);
  }
}
</code></pre>
<h3 id="2-–ò–Ω–∫–∞–ø—Å—É–ª—è—Ü–∏—è-–∑–∞—â–∏—â–∞–µ—Ç-–æ—Ç-–æ—à–∏–±–æ–∫"><a class="header" href="#2-–ò–Ω–∫–∞–ø—Å—É–ª—è—Ü–∏—è-–∑–∞—â–∏—â–∞–µ—Ç-–æ—Ç-–æ—à–∏–±–æ–∫">2. –ò–Ω–∫–∞–ø—Å—É–ª—è—Ü–∏—è –∑–∞—â–∏—â–∞–µ—Ç –æ—Ç –æ—à–∏–±–æ–∫</a></h3>
<p>–ù–∞—Ä—É—à–µ–Ω–∏–µ –∏–Ω–∫–∞–ø—Å—É–ª—è—Ü–∏–∏ –ø—Ä–∏–≤–æ–¥–∏—Ç –∫:</p>
<ul>
<li>–ù–∞—Ä—É—à–µ–Ω–∏—é –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç–∏ –¥–∞–Ω–Ω—ã—Ö</li>
<li>–•—Ä—É–ø–∫–æ–º—É –∫–æ–¥—É (–∏–∑–º–µ–Ω–µ–Ω–∏—è –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –ª–æ–º–∞—é—Ç –≤–Ω–µ—à–Ω–∏–π –∫–æ–¥)</li>
<li>–°–ª–æ–∂–Ω–æ—Å—Ç–∏ –≤ –ø–æ–¥–¥–µ—Ä–∂–∫–µ –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏</li>
</ul>
<h3 id="3-–ï–¥–∏–Ω—ã–π-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å-–¥–ª—è-—Ä–∞–∑–Ω—ã—Ö-—Ç–∏–ø–æ–≤"><a class="header" href="#3-–ï–¥–∏–Ω—ã–π-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å-–¥–ª—è-—Ä–∞–∑–Ω—ã—Ö-—Ç–∏–ø–æ–≤">3. –ï–¥–∏–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–æ–≤</a></h3>
<p>–ë–ª–∞–≥–æ–¥–∞—Ä—è –µ–¥–∏–Ω–æ–º—É –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É (–Ω–∞–ø—Ä–∏–º–µ—Ä, –≥–µ—Ç—Ç–µ—Ä <code>price</code>), –∫–æ–¥ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–æ–ª–∏–º–æ—Ä—Ñ–Ω–æ:</p>
<pre><code class="language-javascript">// –ù–µ –≤–∞–∂–Ω–æ, Product —ç—Ç–æ –∏–ª–∏ Purchase ‚Äî –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –æ–¥–∏–Ω–∞–∫–æ–≤—ã–π
items.forEach(item =&gt; console.log(item.price));
</code></pre>
<h3 id="4-–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ-–≤–º–µ—Å—Ç–æ-—è–≤–Ω—ã—Ö-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤"><a class="header" href="#4-–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ-–≤–º–µ—Å—Ç–æ-—è–≤–Ω—ã—Ö-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤">4. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤–º–µ—Å—Ç–æ —è–≤–Ω—ã—Ö –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤</a></h3>
<p>–í JavaScript –Ω–µ—Ç –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã—Ö –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤, –ø–æ—ç—Ç–æ–º—É –∫–æ–Ω—Ç—Ä–∞–∫—Ç—ã –æ–±–µ—Å–ø–µ—á–∏–≤–∞—é—Ç—Å—è —á–µ—Ä–µ–∑:</p>
<ul>
<li><strong>–°–æ–≥–ª–∞—à–µ–Ω–∏—è</strong> (naming conventions)</li>
<li><strong>–¢–µ—Å—Ç—ã</strong> (–ø—Ä–æ–≤–µ—Ä–∫–∞ –æ–∂–∏–¥–∞–µ–º–æ–≥–æ –ø–æ–≤–µ–¥–µ–Ω–∏—è)</li>
<li><strong>–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é</strong> (JSDoc, –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏)</li>
</ul>
<pre><code class="language-javascript">/**
 * –ö–æ–Ω—Ç—Ä–∞–∫—Ç: –≤—Å–µ —ç–ª–µ–º–µ–Ω—Ç—ã –¥–æ–ª–∂–Ω—ã –∏–º–µ—Ç—å –≥–µ—Ç—Ç–µ—Ä price
 * @interface PricedItem
 * @property {number} price - —Ü–µ–Ω–∞ —ç–ª–µ–º–µ–Ω—Ç–∞
 */
</code></pre>
<h3 id="5-–ì–∏–±–∫–æ—Å—Ç—å-–∏-—Ä–∞—Å—à–∏—Ä—è–µ–º–æ—Å—Ç—å"><a class="header" href="#5-–ì–∏–±–∫–æ—Å—Ç—å-–∏-—Ä–∞—Å—à–∏—Ä—è–µ–º–æ—Å—Ç—å">5. –ì–∏–±–∫–æ—Å—Ç—å –∏ —Ä–∞—Å—à–∏—Ä—è–µ–º–æ—Å—Ç—å</a></h3>
<p>–ü—Ä–∞–≤–∏–ª—å–Ω–æ–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –ø—Ä–∏–Ω—Ü–∏–ø–∞ –ø–æ–∑–≤–æ–ª—è–µ—Ç:</p>
<ul>
<li>–ú–µ–Ω—è—Ç—å –≤–Ω—É—Ç—Ä–µ–Ω–Ω—é—é —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞</li>
<li>–õ–µ–≥–∫–æ –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ —Ç–∏–ø—ã –æ–±—ä–µ–∫—Ç–æ–≤</li>
<li>–ú–∏–Ω–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Å–≤—è–∑–∞–Ω–Ω–æ—Å—Ç—å –º–µ–∂–¥—É –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏</li>
</ul>
<h3 id="6-–ü—Ä–∏–º–µ–Ω–∏–º–æ—Å—Ç—å-–Ω–∞-—Ä–∞–∑–Ω—ã—Ö-—É—Ä–æ–≤–Ω—è—Ö"><a class="header" href="#6-–ü—Ä–∏–º–µ–Ω–∏–º–æ—Å—Ç—å-–Ω–∞-—Ä–∞–∑–Ω—ã—Ö-—É—Ä–æ–≤–Ω—è—Ö">6. –ü—Ä–∏–º–µ–Ω–∏–º–æ—Å—Ç—å –Ω–∞ —Ä–∞–∑–Ω—ã—Ö —É—Ä–æ–≤–Ω—è—Ö</a></h3>
<p>Information Expert —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ —É—Ä–æ–≤–Ω–µ:</p>
<ul>
<li><strong>–ö–ª–∞—Å—Å–æ–≤ –∏ –æ–±—ä–µ–∫—Ç–æ–≤</strong> (–û–û–ü)</li>
<li><strong>–ú–æ–¥—É–ª–µ–π</strong> (–ø—Ä–æ—Ü–µ–¥—É—Ä–Ω–æ–µ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ)</li>
<li><strong>–ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–æ–≤</strong> (–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞)</li>
</ul>
<hr />
<h2 id="–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ-—Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏-4"><a class="header" href="#–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ-—Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏-4">–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏</a></h2>
<h3 id="-–ü—Ä–∞–≤–∏–ª—å–Ω–æ"><a class="header" href="#-–ü—Ä–∞–≤–∏–ª—å–Ω–æ">‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ</a></h3>
<pre><code class="language-javascript">// 1. –û–±—ä–µ–∫—Ç —É–ø—Ä–∞–≤–ª—è–µ—Ç —Å–≤–æ–∏–º–∏ –¥–∞–Ω–Ω—ã–º–∏
class User {
  constructor(name, age) {
    this._name = name;
    this._age = age;
  }

  get isAdult() {
    return this._age &gt;= 18; // –°–∞–º –∑–Ω–∞–µ—Ç, –∫–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å
  }
}

// 2. –ò—Å–ø–æ–ª—å–∑—É–µ–º –ø—É–±–ª–∏—á–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
const user = new User('Alice', 25);
console.log(user.isAdult); // true

// 3. –ú–æ–¥—É–ª—å –∏–Ω–∫–∞–ø—Å—É–ª–∏—Ä—É–µ—Ç –ª–æ–≥–∏–∫—É
const dateUtils = {
  parse: (str) =&gt; { /* ... */ },
  format: (date) =&gt; { /* ... */ }
};
</code></pre>
<h3 id="-–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ"><a class="header" href="#-–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ">‚ùå –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ</a></h3>
<pre><code class="language-javascript">// 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤ –≤–Ω–µ—à–Ω–µ–º –∫–æ–¥–µ
function checkAdult(user) {
  return user._age &gt;= 18; // –õ–µ–∑–µ–º –≤ –ø—Ä–∏–≤–∞—Ç–Ω–æ–µ –ø–æ–ª–µ!
}

// 2. –ü—Ä—è–º–æ–π –¥–æ—Å—Ç—É–ø –∫ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–º –¥–∞–Ω–Ω—ã–º
list.first.next.next = null; // –ù–∞—Ä—É—à–∞–µ–º –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å!

// 3. –û–±—Ö–æ–¥ –∏–Ω–∫–∞–ø—Å—É–ª—è—Ü–∏–∏
ring.buffer.write('x', 0); // –ú–∏–Ω—É–µ–º –ª–æ–≥–∏–∫—É ring.write()
</code></pre>
<h3 id="–ö–æ–Ω—Ç—Ä–æ–ª—å–Ω—ã–µ-–≤–æ–ø—Ä–æ—Å—ã-–ø—Ä–∏-–ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏"><a class="header" href="#–ö–æ–Ω—Ç—Ä–æ–ª—å–Ω—ã–µ-–≤–æ–ø—Ä–æ—Å—ã-–ø—Ä–∏-–ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏">–ö–æ–Ω—Ç—Ä–æ–ª—å–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã –ø—Ä–∏ –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏</a></h3>
<p>–ó–∞–¥–∞–≤–∞–π—Ç–µ —Å–µ–±–µ —ç—Ç–∏ –≤–æ–ø—Ä–æ—Å—ã –ø—Ä–∏ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–∏ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏:</p>
<ol>
<li><strong>–ö—Ç–æ –≤–ª–∞–¥–µ–µ—Ç –¥–∞–Ω–Ω—ã–º–∏?</strong> ‚Üí –û–Ω –¥–æ–ª–∂–µ–Ω —É–ø—Ä–∞–≤–ª—è—Ç—å –∏–º–∏</li>
<li><strong>–ö–æ–º—É –Ω—É–∂–Ω–∞ —ç—Ç–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è?</strong> ‚Üí –î–∞–Ω–Ω—ã–µ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —Ä—è–¥–æ–º</li>
<li><strong>–ú–æ–∂–µ—Ç –ª–∏ –∫—Ç–æ-—Ç–æ —Å–Ω–∞—Ä—É–∂–∏ –Ω–∞—Ä—É—à–∏—Ç—å –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å?</strong> ‚Üí –ù—É–∂–Ω–∞ –∏–Ω–∫–∞–ø—Å—É–ª—è—Ü–∏—è</li>
<li><strong>–ú–æ–∂–Ω–æ –ª–∏ –∏–∑–º–µ–Ω–∏—Ç—å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é, –Ω–µ —Ç—Ä–æ–≥–∞—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å?</strong> ‚Üí –•–æ—Ä–æ—à–∞—è –∏–Ω–∫–∞–ø—Å—É–ª—è—Ü–∏—è</li>
</ol>
<hr />
<h2 id="–°–≤—è–∑—å-—Å-–¥—Ä—É–≥–∏–º–∏-–ø—Ä–∏–Ω—Ü–∏–ø–∞–º–∏"><a class="header" href="#–°–≤—è–∑—å-—Å-–¥—Ä—É–≥–∏–º–∏-–ø—Ä–∏–Ω—Ü–∏–ø–∞–º–∏">–°–≤—è–∑—å —Å –¥—Ä—É–≥–∏–º–∏ –ø—Ä–∏–Ω—Ü–∏–ø–∞–º–∏</a></h2>
<h3 id="information-expert-–∏-solid"><a class="header" href="#information-expert-–∏-solid">Information Expert –∏ SOLID</a></h3>
<ul>
<li><strong>Single Responsibility</strong>: Information Expert –ø–æ–º–æ–≥–∞–µ—Ç –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—É—é –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å –æ–±—ä–µ–∫—Ç–∞</li>
<li><strong>Open/Closed</strong>: –ò–Ω–∫–∞–ø—Å—É–ª—è—Ü–∏—è –ø–æ–∑–≤–æ–ª—è–µ—Ç —Ä–∞—Å—à–∏—Ä—è—Ç—å –ø–æ–≤–µ–¥–µ–Ω–∏–µ –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ –∫–æ–¥–∞</li>
<li><strong>Liskov Substitution</strong>: –ï–¥–∏–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –≤–∑–∞–∏–º–æ–∑–∞–º–µ–Ω—è–µ–º–æ—Å—Ç—å –æ–±—ä–µ–∫—Ç–æ–≤</li>
</ul>
<h3 id="information-expert-–∏-–¥—Ä—É–≥–∏–µ-grasp-–ø–∞—Ç—Ç–µ—Ä–Ω—ã"><a class="header" href="#information-expert-–∏-–¥—Ä—É–≥–∏–µ-grasp-–ø–∞—Ç—Ç–µ—Ä–Ω—ã">Information Expert –∏ –¥—Ä—É–≥–∏–µ GRASP-–ø–∞—Ç—Ç–µ—Ä–Ω—ã</a></h3>
<ul>
<li><strong>Low Coupling</strong>: –ò–Ω–∫–∞–ø—Å—É–ª—è—Ü–∏—è —Å–Ω–∏–∂–∞–µ—Ç —Å–≤—è–∑–∞–Ω–Ω–æ—Å—Ç—å –º–µ–∂–¥—É –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏</li>
<li><strong>High Cohesion</strong>: –î–∞–Ω–Ω—ã–µ –∏ –æ–ø–µ—Ä–∞—Ü–∏–∏ –Ω–∞–¥ –Ω–∏–º–∏ –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ</li>
<li><strong>Creator</strong>: –¢–æ—Ç, –∫—Ç–æ —Å–æ–∑–¥–∞–µ—Ç –æ–±—ä–µ–∫—Ç, —á–∞—Å—Ç–æ —è–≤–ª—è–µ—Ç—Å—è Information Expert –ø–æ –µ–≥–æ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏</li>
</ul>
<hr />
<h2 id="–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ-–º–∞—Ç–µ—Ä–∏–∞–ª—ã-1"><a class="header" href="#–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ-–º–∞—Ç–µ—Ä–∏–∞–ª—ã-1">–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã</a></h2>
<h3 id="–ü–æ–ª–µ–∑–Ω—ã–µ-—Å—Å—ã–ª–∫–∏-3"><a class="header" href="#–ü–æ–ª–µ–∑–Ω—ã–µ-—Å—Å—ã–ª–∫–∏-3">–ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏</a></h3>
<ul>
<li>–†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π —Å –ø—Ä–∏–º–µ—Ä–∞–º–∏: <a href="https://github.com/HowProgrammingWorks/InformationExpert">github.com/HowProgrammingWorks/InformationExpert</a></li>
<li>–ò—Å—Ç–æ—Ä–∏—è –∫–æ–º–º–∏—Ç–æ–≤ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —ç–≤–æ–ª—é—Ü–∏—é —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —Ü–∏–∫–ª–∏—á–µ—Å–∫–æ–≥–æ –±—É—Ñ–µ—Ä–∞</li>
</ul>
<h3 id="–°–ª–µ–¥—É—é—â–∏–µ-—Ç–µ–º—ã-grasp"><a class="header" href="#–°–ª–µ–¥—É—é—â–∏–µ-—Ç–µ–º—ã-grasp">–°–ª–µ–¥—É—é—â–∏–µ —Ç–µ–º—ã GRASP</a></h3>
<p>–ü–æ—Å–ª–µ –∏–∑—É—á–µ–Ω–∏—è Information Expert —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –ø–µ—Ä–µ–π—Ç–∏ –∫ –¥—Ä—É–≥–∏–º GRASP-–ø–∞—Ç—Ç–µ—Ä–Ω–∞–º:</p>
<ul>
<li><strong>Creator</strong> (–°–æ–∑–¥–∞—Ç–µ–ª—å)</li>
<li><strong>Controller</strong> (–ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä)</li>
<li><strong>Low Coupling</strong> (–°–ª–∞–±–∞—è —Å–≤—è–∑–∞–Ω–Ω–æ—Å—Ç—å)</li>
<li><strong>High Cohesion</strong> (–í—ã—Å–æ–∫–∞—è —Å–≤—è–∑–Ω–æ—Å—Ç—å)</li>
<li><strong>Polymorphism</strong> (–ü–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º)</li>
<li><strong>Pure Fabrication</strong> (–ß–∏—Å—Ç–∞—è –≤—ã–¥—É–º–∫–∞)</li>
<li><strong>Indirection</strong> (–ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ)</li>
<li><strong>Protected Variations</strong> (–ó–∞—â–∏—Ç–∞ –æ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–π)</li>
</ul>
<hr />
<h2 id="–ó–∞–∫–ª—é—á–µ–Ω–∏–µ-8"><a class="header" href="#–ó–∞–∫–ª—é—á–µ–Ω–∏–µ-8">–ó–∞–∫–ª—é—á–µ–Ω–∏–µ</a></h2>
<p><strong>–ü—Ä–∏–Ω—Ü–∏–ø Information Expert</strong> ‚Äî —ç—Ç–æ —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–∞–ª—å–Ω—ã–π –ø–∞—Ç—Ç–µ—Ä–Ω, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–º–æ–≥–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—è—Ç—å –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å –≤ –ø—Ä–æ–≥—Ä–∞–º–º–Ω—ã—Ö —Å–∏—Å—Ç–µ–º–∞—Ö. –°–ª–µ–¥–æ–≤–∞–Ω–∏–µ —ç—Ç–æ–º—É –ø—Ä–∏–Ω—Ü–∏–ø—É –ø—Ä–∏–≤–æ–¥–∏—Ç –∫ —Å–æ–∑–¥–∞–Ω–∏—é:</p>
<ul>
<li>üéØ <strong>–°–ª–∞–±–æ—Å–≤—è–∑–∞–Ω–Ω–æ–≥–æ –∫–æ–¥–∞</strong> ‚Äî –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã –¥—Ä—É–≥ –æ—Ç –¥—Ä—É–≥–∞</li>
<li>üîí <strong>–ù–∞–¥–µ–∂–Ω–æ–π –∏–Ω–∫–∞–ø—Å—É–ª—è—Ü–∏–∏</strong> ‚Äî –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ –¥–∞–Ω–Ω—ã–µ –∑–∞—â–∏—â–µ–Ω—ã –æ—Ç –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è</li>
<li>üîß <strong>–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º–æ–≥–æ –∫–æ–¥–∞</strong> ‚Äî –∏–∑–º–µ–Ω–µ–Ω–∏—è –ª–æ–∫–∞–ª–∏–∑–æ–≤–∞–Ω—ã –≤–Ω—É—Ç—Ä–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤</li>
<li>üß™ <strong>–¢–µ—Å—Ç–∏—Ä—É–µ–º–æ–≥–æ –∫–æ–¥–∞</strong> ‚Äî –ø—É–±–ª–∏—á–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –ª–µ–≥–∫–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å</li>
<li>üìà <strong>–†–∞—Å—à–∏—Ä—è–µ–º–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã</strong> ‚Äî –Ω–æ–≤—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ</li>
</ul>
<p>–ü—Ä–∏–º–µ–Ω—è–π—Ç–µ Information Expert –Ω–∞ –≤—Å–µ—Ö —É—Ä–æ–≤–Ω—è—Ö: –æ—Ç –æ—Ç–¥–µ–ª—å–Ω—ã—Ö –∫–ª–∞—Å—Å–æ–≤ –¥–æ –º–æ–¥—É–ª–µ–π –∏ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–æ–≤. –ü–æ–º–Ω–∏—Ç–µ –≥–ª–∞–≤–Ω–æ–µ –ø—Ä–∞–≤–∏–ª–æ: <strong>–æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∏—Ç —Ç–æ–º—É, –∫—Ç–æ –≤–ª–∞–¥–µ–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π</strong>.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="solid-isp--–ü—Ä–∏–Ω—Ü–∏–ø-—Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤-interface-segregation-principle-–¥–ª—è-javascript"><a class="header" href="#solid-isp--–ü—Ä–∏–Ω—Ü–∏–ø-—Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤-interface-segregation-principle-–¥–ª—è-javascript">SOLID: ISP ‚Äî –ü—Ä–∏–Ω—Ü–∏–ø —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤ (Interface Segregation Principle) –¥–ª—è JavaScript</a></h1>
<h2 id="–û–±–∑–æ—Ä-6"><a class="header" href="#–û–±–∑–æ—Ä-6">–û–±–∑–æ—Ä</a></h2>
<p>–ü—Ä–∏–Ω—Ü–∏–ø —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤ (Interface Segregation Principle, ISP) ‚Äî –æ–¥–∏–Ω –∏–∑ –ø—è—Ç–∏ –ø—Ä–∏–Ω—Ü–∏–ø–æ–≤ SOLID, —Å—Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –†–æ–±–µ—Ä—Ç–æ–º –ú–∞—Ä—Ç–∏–Ω–æ–º. –≠—Ç–æ—Ç –ø—Ä–∏–Ω—Ü–∏–ø –≥–ª–∞—Å–∏—Ç, —á—Ç–æ <strong>–∫–ª–∏–µ–Ω—Ç—ã –Ω–µ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –∑–∞—Å—Ç–∞–≤–ª–µ–Ω—ã –∑–∞–≤–∏—Å–µ—Ç—å –æ—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –æ–Ω–∏ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç</strong>. –î—Ä—É–≥–∏–º–∏ —Å–ª–æ–≤–∞–º–∏, –ª—É—á—à–µ –∏–º–µ—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —É–∑–∫–æ—Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤, —á–µ–º –æ–¥–∏–Ω —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π.</p>
<hr />
<h2 id="–û—Å–Ω–æ–≤–Ω–∞—è-—Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–∫–∞-–ø—Ä–∏–Ω—Ü–∏–ø–∞"><a class="header" href="#–û—Å–Ω–æ–≤–Ω–∞—è-—Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–∫–∞-–ø—Ä–∏–Ω—Ü–∏–ø–∞">–û—Å–Ω–æ–≤–Ω–∞—è —Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–∫–∞ –ø—Ä–∏–Ω—Ü–∏–ø–∞</a></h2>
<blockquote>
<p><strong>"–ö–ª–∏–µ–Ω—Ç—ã –Ω–µ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –∑–∞—Å—Ç–∞–≤–ª–µ–Ω—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –±–æ–ª—å—à–∏–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –∏ –±–æ–ª–µ–µ —à–∏—Ä–æ–∫–∏–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã, —á–µ–º –∏–º –Ω—É–∂–Ω–æ"</strong></p>
<p>‚Äî –†–æ–±–µ—Ä—Ç –ú–∞—Ä—Ç–∏–Ω</p>
</blockquote>
<h3 id="–ß—Ç–æ-—Ç–∞–∫–æ–µ-–∫–ª–∏–µ–Ω—Ç—ã"><a class="header" href="#–ß—Ç–æ-—Ç–∞–∫–æ–µ-–∫–ª–∏–µ–Ω—Ç—ã">–ß—Ç–æ —Ç–∞–∫–æ–µ "–∫–ª–∏–µ–Ω—Ç—ã"?</a></h3>
<p><strong>–ö–ª–∏–µ–Ω—Ç—ã</strong> ‚Äî —ç—Ç–æ —Ç–æ—Ç –∫–æ–¥, –∫–æ—Ç–æ—Ä—ã–π –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –Ω–∞—à–∏ –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–∏ –∏ –∫–ª–∞—Å—Å—ã. –ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π –∫–æ–¥ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —Å–≤—è–∑–∞–Ω –Ω–µ —Å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–º –∫–ª–∞—Å—Å–æ–º, –∞ —Å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º, —á—Ç–æ–±—ã –∫–æ–Ω–∫—Ä–µ—Ç–Ω—É—é —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é –º–æ–∂–Ω–æ –±—ã–ª–æ –ª–µ–≥–∫–æ –∑–∞–º–µ–Ω–∏—Ç—å.</p>
<hr />
<h2 id="–°—É—Ç—å-–ø—Ä–∏–Ω—Ü–∏–ø–∞-6"><a class="header" href="#–°—É—Ç—å-–ø—Ä–∏–Ω—Ü–∏–ø–∞-6">–°—É—Ç—å –ø—Ä–∏–Ω—Ü–∏–ø–∞</a></h2>
<h3 id="–û—Å–Ω–æ–≤–Ω—ã–µ-–∏–¥–µ–∏"><a class="header" href="#–û—Å–Ω–æ–≤–Ω—ã–µ-–∏–¥–µ–∏">–û—Å–Ω–æ–≤–Ω—ã–µ –∏–¥–µ–∏</a></h3>
<ol>
<li><strong>–†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤</strong> ‚Äî –Ω—É–∂–Ω–æ —Ä–∞–∑–¥–µ–ª–∏—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∫–ª–∞—Å—Å–∞ –Ω–∞ –Ω–µ—Å–∫–æ–ª—å–∫–æ –±–æ–ª–µ–µ —É–∑–∫–∏—Ö –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤</li>
<li><strong>–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã</strong> ‚Äî –∫–ª–∏–µ–Ω—Ç—Å–∫–∏–π –∫–æ–¥ –¥–æ–ª–∂–µ–Ω —Ä–∞–±–æ—Ç–∞—Ç—å —Å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞–º–∏, –∞ –Ω–µ —Å –∫–ª–∞—Å—Å–∞–º–∏ –Ω–∞–ø—Ä—è–º—É—é</li>
<li><strong>–ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å</strong> ‚Äî –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ –Ω–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –±–æ–ª—å—à–µ —Å–≤–æ–π—Å—Ç–≤ –∏ –º–µ—Ç–æ–¥–æ–≤, —á–µ–º –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –∫–ª–∏–µ–Ω—Ç—É</li>
</ol>
<h3 id="–ü–æ–∏—Å–∫-–±–∞–ª–∞–Ω—Å–∞"><a class="header" href="#–ü–æ–∏—Å–∫-–±–∞–ª–∞–Ω—Å–∞">–ü–æ–∏—Å–∫ –±–∞–ª–∞–Ω—Å–∞</a></h3>
<p>–ü—Ä–∏ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤ –≤–∞–∂–Ω–æ <strong>–Ω–∞–π—Ç–∏ –±–∞–ª–∞–Ω—Å</strong>:</p>
<ul>
<li>–ù–µ –Ω—É–∂–Ω–æ —Å–æ–∑–¥–∞–≤–∞—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Å–≤–æ–π—Å—Ç–≤–∞</li>
<li>–ù–µ –Ω—É–∂–Ω–æ –ø–ª–æ–¥–∏—Ç—å –æ–≥—Ä–æ–º–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤</li>
<li>–ò–Ω—Ç—É–∏—Ç–∏–≤–Ω–æ –æ–ø—Ä–µ–¥–µ–ª—è–π—Ç–µ —Ä–∞–∑—É–º–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤</li>
<li>–≠—Ç–æ –ø—Ä–∏—Ö–æ–¥–∏—Ç —Å –ø—Ä–∞–∫—Ç–∏–∫–æ–π –∏ –æ–ø—ã—Ç–æ–º</li>
</ul>
<p><strong>–í–∞–∂–Ω–æ</strong>: –ö–æ–≥–¥–∞ –∫–ª–∞—Å—Å –∏–º–ø–ª–µ–º–µ–Ω—Ç–∏—Ä—É–µ—Ç –º–Ω–æ–∂–µ—Å—Ç–≤–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤, –Ω—É–∂–Ω–æ —Å–ª–µ–¥–∏—Ç—å –∑–∞ —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ—Å—Ç—å—é —Ç–∏–ø–æ–≤ –≤–æ –≤—Å–µ—Ö –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞—Ö. –≠—Ç–æ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è —Ä–∞–±–æ—Ç–∞, –Ω–æ –æ–Ω–∞ –æ–∫—É–ø–∞–µ—Ç—Å—è –≥–∏–±–∫–æ—Å—Ç—å—é –∫–æ–¥–∞.</p>
<hr />
<h2 id="–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞-isp"><a class="header" href="#–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞-isp">–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ ISP</a></h2>
<h3 id="1-–°–Ω–∏–∂–µ–Ω–∏–µ-–∑–∞—Ü–µ–ø–ª–µ–Ω–∏—è-coupling"><a class="header" href="#1-–°–Ω–∏–∂–µ–Ω–∏–µ-–∑–∞—Ü–µ–ø–ª–µ–Ω–∏—è-coupling">1. –°–Ω–∏–∂–µ–Ω–∏–µ –∑–∞—Ü–µ–ø–ª–µ–Ω–∏—è (coupling)</a></h3>
<p>ISP —Å–Ω–∏–∂–∞–µ—Ç –∑–∞—Ü–µ–ø–ª–µ–Ω–∏–µ –≤ –∫–æ–¥–µ, –¥–µ–ª–∞—è –µ–≥–æ –±–æ–ª–µ–µ –º–æ–¥—É–ª—å–Ω—ã–º –∏ –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã–º.</p>
<h3 id="2-–ü–æ–≤—ã—à–µ–Ω–∏–µ-–≥–∏–±–∫–æ—Å—Ç–∏"><a class="header" href="#2-–ü–æ–≤—ã—à–µ–Ω–∏–µ-–≥–∏–±–∫–æ—Å—Ç–∏">2. –ü–æ–≤—ã—à–µ–Ω–∏–µ –≥–∏–±–∫–æ—Å—Ç–∏</a></h3>
<p>–ö–æ–¥ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –±–æ–ª–µ–µ –≥–∏–±–∫–∏–º –∑–∞ —Å—á—ë—Ç –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –ø–æ–¥–º–µ–Ω—ã —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–π.</p>
<h3 id="3-–û—Ç–∫—Ä—ã—Ç–∏–µ-–¥–≤–µ—Ä–µ–π-–¥–ª—è-–ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤"><a class="header" href="#3-–û—Ç–∫—Ä—ã—Ç–∏–µ-–¥–≤–µ—Ä–µ–π-–¥–ª—è-–ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤">3. –û—Ç–∫—Ä—ã—Ç–∏–µ –¥–≤–µ—Ä–µ–π –¥–ª—è –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤</a></h3>
<p>–ü—Ä–∏–Ω—Ü–∏–ø –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –¥–ª—è:</p>
<ul>
<li><strong>–í–Ω–µ–¥—Ä–µ–Ω–∏—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π</strong> (Dependency Injection)</li>
<li><strong>–ü–∞—Ç—Ç–µ—Ä–Ω–∞ –°—Ç—Ä–∞—Ç–µ–≥–∏—è</strong> (Strategy Pattern)</li>
<li><strong>–ü–∞—Ç—Ç–µ—Ä–Ω–∞ –û—Ç–∫—Ä—ã—Ç—ã–π –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä</strong> (Revealing Constructor Pattern)</li>
</ul>
<h3 id="4-–°—Ç—Ä—É–∫—Ç—É—Ä–Ω–∞—è-—Ç–∏–ø–∏–∑–∞—Ü–∏—è-–≤-javascript"><a class="header" href="#4-–°—Ç—Ä—É–∫—Ç—É—Ä–Ω–∞—è-—Ç–∏–ø–∏–∑–∞—Ü–∏—è-–≤-javascript">4. –°—Ç—Ä—É–∫—Ç—É—Ä–Ω–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è –≤ JavaScript</a></h3>
<p>–í JavaScript –∏ TypeScript –¥–µ–π—Å—Ç–≤—É–µ—Ç <strong>—Å—Ç—Ä—É–∫—Ç—É—Ä–Ω–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è</strong> (duck typing):</p>
<ul>
<li>–ù–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ —è–≤–Ω–æ –ø–∏—Å–∞—Ç—å <code>implements</code> –≤ –∫–æ–¥–µ</li>
<li>–ï—Å–ª–∏ –æ–±—ä–µ–∫—Ç –∏–º–µ–µ—Ç –Ω—É–∂–Ω—ã–µ –º–µ—Ç–æ–¥—ã –∏ –ø–æ–ª—è, —Å–æ–≤–ø–∞–¥–∞—é—â–∏–µ –ø–æ —Å–∏–≥–Ω–∞—Ç—É—Ä–µ —Å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º, —Ç–æ –æ–Ω –º–æ–∂–µ—Ç –±—ã—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω –≤–º–µ—Å—Ç–æ —ç—Ç–æ–≥–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞</li>
<li>–≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –≥–∏–±–∫–æ –ø–æ–¥–º–µ–Ω—è—Ç—å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏</li>
</ul>
<h3 id="5-–°–Ω–∏–∂–µ–Ω–∏–µ-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏-–æ—Ç-–∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö-–∫–ª–∞—Å—Å–æ–≤"><a class="header" href="#5-–°–Ω–∏–∂–µ–Ω–∏–µ-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏-–æ—Ç-–∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö-–∫–ª–∞—Å—Å–æ–≤">5. –°–Ω–∏–∂–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö –∫–ª–∞—Å—Å–æ–≤</a></h3>
<p>–í–º–µ—Å—Ç–æ —Ç–æ–≥–æ —á—Ç–æ–±—ã:</p>
<ul>
<li>–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å <code>require</code> –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö –∫–ª–∞—Å—Å–æ–≤</li>
<li>–°–æ–∑–¥–∞–≤–∞—Ç—å –∏–Ω—Å—Ç–∞–Ω—Å—ã –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö –∫–ª–∞—Å—Å–æ–≤ –≤–Ω—É—Ç—Ä–∏ –∫–æ–¥–∞</li>
</ul>
<p>–ú—ã –ø–æ–ª—É—á–∞–µ–º –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ <strong>–∏–∑–≤–Ω–µ</strong>, —á—Ç–æ —Å–Ω–∏–∂–∞–µ—Ç –∑–∞—Ü–µ–ø–ª–µ–Ω–∏–µ –≤–æ –≤—Å—ë–º –ø—Ä–æ–≥—Ä–∞–º–º–Ω–æ–º –∫–æ–¥–µ.</p>
<hr />
<h2 id="–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–π-–ø—Ä–∏–º–µ—Ä-–°–∏—Å—Ç–µ–º–∞-–æ—Ç–ø—Ä–∞–≤–∫–∏-email"><a class="header" href="#–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–π-–ø—Ä–∏–º–µ—Ä-–°–∏—Å—Ç–µ–º–∞-–æ—Ç–ø—Ä–∞–≤–∫–∏-email">–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–π –ø—Ä–∏–º–µ—Ä: –°–∏—Å—Ç–µ–º–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ email</a></h2>
<h3 id="–ü—Ä–æ–±–ª–µ–º–∞-–ù–∞—Ä—É—à–µ–Ω–∏–µ-srp-–∏-isp"><a class="header" href="#–ü—Ä–æ–±–ª–µ–º–∞-–ù–∞—Ä—É—à–µ–Ω–∏–µ-srp-–∏-isp">–ü—Ä–æ–±–ª–µ–º–∞: –ù–∞—Ä—É—à–µ–Ω–∏–µ SRP –∏ ISP</a></h3>
<p>–†–∞—Å—Å–º–æ—Ç—Ä–∏–º –∫–ª–∞—Å—Å <code>Message</code>, –∫–æ—Ç–æ—Ä—ã–π –Ω–∞—Ä—É—à–∞–µ—Ç –∫–∞–∫ –ø—Ä–∏–Ω—Ü–∏–ø –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–π –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ (SRP), —Ç–∞–∫ –∏ –ø—Ä–∏–Ω—Ü–∏–ø —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤ (ISP):</p>
<pre><code class="language-javascript">// ‚ùå –ü–ª–æ—Ö–æ–π –ø—Ä–∏–º–µ—Ä - –≤—Å—ë –≤ –æ–¥–Ω–æ–º –∫–ª–∞—Å—Å–µ
class Message {
  constructor(text) {
    this.text = text;
  }

  attach(file) {
    // –ü—Ä–∏–∫—Ä–µ–ø–ª–µ–Ω–∏–µ —Ñ–∞–π–ª–∞
  }

  send() {
    // –û—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏—è
  }

  logWarning(message) {
    // –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–π
  }
}
</code></pre>
<p><strong>–ü—Ä–æ–±–ª–µ–º—ã —ç—Ç–æ–≥–æ –ø–æ–¥—Ö–æ–¥–∞</strong>:</p>
<ol>
<li>–ö–ª–∞—Å—Å –∏–º–µ–µ—Ç —Å–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–µ–π (—Ä–∞–±–æ—Ç–∞ —Å —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏, –≤–ª–æ–∂–µ–Ω–∏—è–º–∏, –æ—Ç–ø—Ä–∞–≤–∫–æ–π, –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ–º)</li>
<li>–ö–ª–∏–µ–Ω—Ç—ã –≤—ã–Ω—É–∂–¥–µ–Ω—ã –∑–∞–≤–∏—Å–µ—Ç—å –æ—Ç –≤—Å–µ—Ö –º–µ—Ç–æ–¥–æ–≤, –¥–∞–∂–µ –µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç —Ç–æ–ª—å–∫–æ –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ</li>
<li>–ù–∞—Ä—É—à–∞–µ—Ç—Å—è –ø—Ä–∏–Ω—Ü–∏–ø –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–π –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ (SRP)</li>
</ol>
<hr />
<h2 id="–†–µ—à–µ–Ω–∏–µ-–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ-isp"><a class="header" href="#–†–µ—à–µ–Ω–∏–µ-–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ-isp">–†–µ—à–µ–Ω–∏–µ: –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ ISP</a></h2>
<h3 id="–®–∞–≥-1-–î–µ–∫–æ–º–ø–æ–∑–∏—Ü–∏—è-–Ω–∞-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã"><a class="header" href="#–®–∞–≥-1-–î–µ–∫–æ–º–ø–æ–∑–∏—Ü–∏—è-–Ω–∞-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã">–®–∞–≥ 1: –î–µ–∫–æ–º–ø–æ–∑–∏—Ü–∏—è –Ω–∞ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã</a></h3>
<p>–†–∞–∑–¥–µ–ª–∏–º —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –Ω–∞ –º–∏–Ω–∏–º—É–º <strong>—Ç—Ä–∏ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞</strong>:</p>
<ol>
<li><strong>–†–∞–±–æ—Ç–∞ —Å —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏</strong> (messages)</li>
<li><strong>–†–∞–±–æ—Ç–∞ —Å –≤–ª–æ–∂–µ–Ω–∏—è–º–∏</strong> (attachments)</li>
<li><strong>–û—Ç–ø—Ä–∞–≤–∫–∞</strong> (sending)</li>
<li><strong>–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ</strong> (–æ—Ç–¥–µ–ª—å–Ω–∞—è –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å, –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –≤—ã–Ω–µ—Å–µ–Ω–∞)</li>
</ol>
<h3 id="–®–∞–≥-2-–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤"><a class="header" href="#–®–∞–≥-2-–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤">–®–∞–≥ 2: –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤</a></h3>
<p>–°–æ–∑–¥–∞–¥–∏–º –Ω–µ—Å–∫–æ–ª—å–∫–æ —É–∑–∫–∏—Ö –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤:</p>
<pre><code class="language-typescript">// types.d.ts - —Ñ–∞–π–ª —Å –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è–º–∏ —Ç–∏–ø–æ–≤

// –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è —Ñ–∞–π–ª–∞ (–±–∞–∑–æ–≤—ã–π)
interface IFile {
  fileName: string;
}

// –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –¥–∞–Ω–Ω—ã—Ö —Å readable stream
interface IData extends IFile {
  readable: NodeJS.ReadableStream;
}

// –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –≤–ª–æ–∂–µ–Ω–∏—è
interface IAttachment extends IFile {
  readable: NodeJS.ReadableStream;
}
</code></pre>
<p><strong>–í–∞–∂–Ω–æ–µ –Ω–∞–±–ª—é–¥–µ–Ω–∏–µ</strong>: –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã <code>IFile</code>, <code>IData</code> –∏ <code>IAttachment</code> –ø–æ—Ö–æ–∂–∏, –Ω–æ —Å–ª—É–∂–∞—Ç —Ä–∞–∑–Ω—ã–º —Ü–µ–ª—è–º:</p>
<ul>
<li><code>IFile</code> ‚Äî –±–∞–∑–æ–≤—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Ñ–∞–π–ª–∞–º–∏</li>
<li><code>IData</code> ‚Äî –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ø–æ—Ç–æ–∫–∞–º–∏ –¥–∞–Ω–Ω—ã—Ö</li>
<li><code>IAttachment</code> ‚Äî –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –≤–ª–æ–∂–µ–Ω–∏—è–º–∏</li>
</ul>
<p>–ë–ª–∞–≥–æ–¥–∞—Ä—è —Å—Ç—Ä—É–∫—Ç—É—Ä–Ω–æ–π —Ç–∏–ø–∏–∑–∞—Ü–∏–∏ –≤ JavaScript/TypeScript, <strong>–Ω–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ —è–≤–Ω–æ —É–∫–∞–∑—ã–≤–∞—Ç—å –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ</strong> –º–µ–∂–¥—É –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞–º–∏ (—Ö–æ—Ç—è –º–æ–∂–Ω–æ –±—ã–ª–æ –Ω–∞–ø–∏—Å–∞—Ç—å <code>IAttachment extends IFile</code>).</p>
<h3 id="–®–∞–≥-3-–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å-–¥–ª—è-—Å–æ–æ–±—â–µ–Ω–∏—è"><a class="header" href="#–®–∞–≥-3-–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å-–¥–ª—è-—Å–æ–æ–±—â–µ–Ω–∏—è">–®–∞–≥ 3: –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è —Å–æ–æ–±—â–µ–Ω–∏—è</a></h3>
<pre><code class="language-typescript">// –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è —Å–æ–æ–±—â–µ–Ω–∏—è
interface IMessage {
  from: string;
  to: string;
  text: string;
  files: IFile[];  // –°—Å—ã–ª–∞–µ—Ç—Å—è –Ω–∞ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å, –Ω–µ –Ω–∞ –∫–ª–∞—Å—Å!

  attach(file: IAttachment): Promise&lt;void&gt;;  // –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –º–µ—Ç–æ–¥
}
</code></pre>
<p><strong>–ö–ª—é—á–µ–≤—ã–µ –º–æ–º–µ–Ω—Ç—ã</strong>:</p>
<ul>
<li><code>files</code> ‚Äî —ç—Ç–æ –º–∞—Å—Å–∏–≤ <code>IFile[]</code>, –∞ –Ω–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö –∫–ª–∞—Å—Å–æ–≤</li>
<li><code>attach</code> –ø—Ä–∏–Ω–∏–º–∞–µ—Ç <code>IAttachment</code>, —á—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å –ª—é–±—É—é —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é</li>
<li>–ú–µ—Ç–æ–¥ <code>attach</code> –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç <code>Promise&lt;void&gt;</code>, —Ç–∞–∫ –∫–∞–∫ –æ–ø–µ—Ä–∞—Ü–∏—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è</li>
</ul>
<h3 id="–®–∞–≥-4-–í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω–∞—è-—Ñ—É–Ω–∫—Ü–∏—è"><a class="header" href="#–®–∞–≥-4-–í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω–∞—è-—Ñ—É–Ω–∫—Ü–∏—è">–®–∞–≥ 4: –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è</a></h3>
<pre><code class="language-typescript">// –§—É–Ω–∫—Ü–∏—è –æ—Ç–ø—Ä–∞–≤–∫–∏ (–≤—ã–Ω–µ—Å–µ–Ω–∞ –æ—Ç–¥–µ–ª—å–Ω–æ)
function send(message: IMessage): void {
  // –õ–æ–≥–∏–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏
}

// –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏
function canAttach(files: IFile[]): boolean {
  // –ü—Ä–æ–≤–µ—Ä—è–µ—Ç, —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –ª–∏ –º–∞—Å—Å–∏–≤ —Ñ–∞–π–ª–æ–≤
  // –í—Å–µ —Ñ–∞–π–ª—ã –≤ –º–∞—Å—Å–∏–≤–µ –¥–æ–ª–∂–Ω—ã –∏–º–ø–ª–µ–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å IFile
  return Array.isArray(files) &amp;&amp;
         files.every(file =&gt; 'fileName' in file);
}
</code></pre>
<hr />
<h2 id="–†–µ–∞–ª–∏–∑–∞—Ü–∏—è-–∫–ª–∞—Å—Å–æ–≤"><a class="header" href="#–†–µ–∞–ª–∏–∑–∞—Ü–∏—è-–∫–ª–∞—Å—Å–æ–≤">–†–µ–∞–ª–∏–∑–∞—Ü–∏—è –∫–ª–∞—Å—Å–æ–≤</a></h2>
<h3 id="–ö–ª–∞—Å—Å-attachment"><a class="header" href="#–ö–ª–∞—Å—Å-attachment">–ö–ª–∞—Å—Å Attachment</a></h3>
<pre><code class="language-javascript">// attachment.js
class Attachment {
  constructor(fileName, readable) {
    this.fileName = fileName;
    this.readable = readable;
  }
}

module.exports = { Attachment };
</code></pre>
<p><strong>–í–∞–∂–Ω–æ</strong>: –ö–ª–∞—Å—Å <code>Attachment</code> –∏–º–ø–ª–µ–º–µ–Ω—Ç–∏—Ä—É–µ—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å <code>IAttachment</code>, –Ω–æ —è–≤–Ω–æ —ç—Ç–æ –Ω–µ —É–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –≤ JavaScript. TypeScript –ø—Ä–æ–≤–µ—Ä–∏—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏, –µ—Å–ª–∏ —É–∫–∞–∑–∞—Ç—å:</p>
<pre><code class="language-typescript">class Attachment implements IAttachment {
  fileName: string;
  readable: NodeJS.ReadableStream;

  constructor(fileName: string, readable: NodeJS.ReadableStream) {
    this.fileName = fileName;
    this.readable = readable;
  }
}
</code></pre>
<h3 id="–ö–ª–∞—Å—Å-message"><a class="header" href="#–ö–ª–∞—Å—Å-message">–ö–ª–∞—Å—Å Message</a></h3>
<pre><code class="language-javascript">// message.js
class Message {
  constructor(from, to, text) {
    this.from = from;
    this.to = to;
    this.text = text;
    this.files = [];  // –ú–∞—Å—Å–∏–≤ IFile[]
  }

  async attach(file) {  // file: IAttachment
    // file –º–æ–∂–µ—Ç –±—ã—Ç—å —ç–∫–∑–µ–º–ø–ª—è—Ä–æ–º –ª—é–±–æ–≥–æ –∫–ª–∞—Å—Å–∞,
    // –∫–æ—Ç–æ—Ä—ã–π –∏–º–ø–ª–µ–º–µ–Ω—Ç–∏—Ä—É–µ—Ç IAttachment
    this.files.push(file);
  }
}

module.exports = { Message };
</code></pre>
<p><strong>–ö–ª—é—á–µ–≤–æ–µ –Ω–∞–±–ª—é–¥–µ–Ω–∏–µ</strong>: –ö–ª–∞—Å—Å <code>Message</code> <strong>–Ω–µ –∑–Ω–∞–µ—Ç</strong> –æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–º –∫–ª–∞—Å—Å–µ <code>Attachment</code>. –û–Ω –∑–Ω–∞–µ—Ç —Ç–æ–ª—å–∫–æ –æ–± –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ <code>IAttachment</code>. –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å –≤ <code>attach()</code> –ª—é–±—É—é —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é, —Å–æ–≤–º–µ—Å—Ç–∏–º—É—é —Å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º.</p>
<hr />
<h2 id="–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ-–≤-–∫–ª–∏–µ–Ω—Ç—Å–∫–æ–º-–∫–æ–¥–µ"><a class="header" href="#–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ-–≤-–∫–ª–∏–µ–Ω—Ç—Å–∫–æ–º-–∫–æ–¥–µ">–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–º –∫–æ–¥–µ</a></h2>
<pre><code class="language-javascript">// usage.js
const { console } = require('./logger');
const { Attachment, Message, send, canAttach } = require('./delivery');

// –°–æ–∑–¥–∞—ë–º —Å–æ–æ–±—â–µ–Ω–∏–µ
const message = new Message(
  'marcus@aurelius.com',      // from
  'lucius@verus.com',         // to
  'What do we have in common?'  // text
);

// –°–æ–∑–¥–∞—ë–º –≤–ª–æ–∂–µ–Ω–∏–µ
const attachment = new Attachment(
  'photo.jpg',
  someReadableStream
);

// –ü—Ä–∏–∫—Ä–µ–ø–ª—è–µ–º —Ñ–∞–π–ª –∫ —Å–æ–æ–±—â–µ–Ω–∏—é
await message.attach(attachment);

// –û—Ç–ø—Ä–∞–≤–ª—è–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ
send(message);
</code></pre>
<hr />
<h2 id="–ì–∏–±–∫–æ—Å—Ç—å-—á–µ—Ä–µ–∑-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã"><a class="header" href="#–ì–∏–±–∫–æ—Å—Ç—å-—á–µ—Ä–µ–∑-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã">–ì–∏–±–∫–æ—Å—Ç—å —á–µ—Ä–µ–∑ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã</a></h2>
<h3 id="–†–∞–±–æ—Ç–∞-—Å-—Ä–∞–∑–Ω—ã–º–∏-—Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è–º–∏"><a class="header" href="#–†–∞–±–æ—Ç–∞-—Å-—Ä–∞–∑–Ω—ã–º–∏-—Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è–º–∏">–†–∞–±–æ—Ç–∞ —Å —Ä–∞–∑–Ω—ã–º–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è–º–∏</a></h3>
<p>–ë–ª–∞–≥–æ–¥–∞—Ä—è ISP –º—ã –º–æ–∂–µ–º —Ä–∞–±–æ—Ç–∞—Ç—å —Å —Ä–∞–∑–Ω—ã–º–∏ —Ç–∏–ø–∞–º–∏ –æ–±—ä–µ–∫—Ç–æ–≤ —á–µ—Ä–µ–∑ –æ–¥–∏–Ω –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å:</p>
<pre><code class="language-javascript">// –¢—Ä–∏ —Ä–∞–∑–Ω—ã—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–∞ –¥–∞–Ω–Ω—ã—Ö
const file1 = message.files[0];  // –≠–∫–∑–µ–º–ø–ª—è—Ä –∫–ª–∞—Å—Å–∞ Attachment

const file2 = new Attachment('document.pdf', anotherStream);

const file3 = {
  fileName: 'unknown.txt'  // –ü—Ä–æ—Å—Ç–æ–π –æ–±—ä–µ–∫—Ç, —Å–æ–≤–º–µ—Å—Ç–∏–º—ã–π —Å IFile
};

// –í—Å–µ —Ç—Ä–∏ –æ–±—ä–µ–∫—Ç–∞ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —á–µ—Ä–µ–∑ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å IFile
const files = [file1, file2, file3];

// –ü—Ä–æ–≤–µ—Ä—è–µ–º, –º–æ–∂–Ω–æ –ª–∏ –ø—Ä–∏–∫—Ä–µ–ø–∏—Ç—å –≤—Å–µ —Ñ–∞–π–ª—ã
if (canAttach(files)) {
  console.log('All files are valid');
}
</code></pre>
<p><strong>–ü–æ—á–µ–º—É —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç?</strong></p>
<p>–§—É–Ω–∫—Ü–∏—è <code>canAttach</code> –æ–∂–∏–¥–∞–µ—Ç –º–∞—Å—Å–∏–≤ <code>IFile[]</code>. –í—Å–µ —Ç—Ä–∏ –æ–±—ä–µ–∫—Ç–∞ (<code>file1</code>, <code>file2</code>, <code>file3</code>) —É–¥–æ–≤–ª–µ—Ç–≤–æ—Ä—è—é—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É <code>IFile</code> (–∏–º–µ—é—Ç –ø–æ–ª–µ <code>fileName</code>), –ø–æ—ç—Ç–æ–º—É –∏—Ö –º–æ–∂–Ω–æ –ø–µ—Ä–µ–¥–∞—Ç—å –≤ —Ñ—É–Ω–∫—Ü–∏—é.</p>
<h3 id="–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ-—Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏-attachment"><a class="header" href="#–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ-—Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏-attachment">–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ Attachment</a></h3>
<p>–ë–ª–∞–≥–æ–¥–∞—Ä—è —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—é —á–µ—Ä–µ–∑ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã, –º—ã –º–æ–∂–µ–º —Å–æ–∑–¥–∞—Ç—å —Ä–∞–∑–Ω—ã–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –≤–ª–æ–∂–µ–Ω–∏–π:</p>
<pre><code class="language-javascript">// –í–ª–æ–∂–µ–Ω–∏–µ –∏–∑ —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã
class FileSystemAttachment implements IAttachment {
  constructor(filePath) {
    this.fileName = path.basename(filePath);
    this.readable = fs.createReadStream(filePath);
  }
}

// –í–ª–æ–∂–µ–Ω–∏–µ –∏–∑ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
class DatabaseAttachment implements IAttachment {
  constructor(fileName, blobId) {
    this.fileName = fileName;
    this.readable = database.getBlobStream(blobId);
  }
}

// –í–ª–æ–∂–µ–Ω–∏–µ –∏–∑ –ø–∞–º—è—Ç–∏
class MemoryAttachment implements IAttachment {
  constructor(fileName, buffer) {
    this.fileName = fileName;
    this.readable = bufferToStream(buffer);
  }
}
</code></pre>
<p>–í—Å–µ —ç—Ç–∏ –∫–ª–∞—Å—Å—ã –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤–∑–∞–∏–º–æ–∑–∞–º–µ–Ω—è–µ–º–æ, —Ç–∞–∫ –∫–∞–∫ –æ–Ω–∏ –∏–º–ø–ª–µ–º–µ–Ω—Ç–∏—Ä—É—é—Ç –æ–¥–∏–Ω –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å <code>IAttachment</code>.</p>
<hr />
<h2 id="–ò–∑–æ–ª—è—Ü–∏—è-–∫–ª–∞—Å—Å–æ–≤-—á–µ—Ä–µ–∑-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã"><a class="header" href="#–ò–∑–æ–ª—è—Ü–∏—è-–∫–ª–∞—Å—Å–æ–≤-—á–µ—Ä–µ–∑-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã">–ò–∑–æ–ª—è—Ü–∏—è –∫–ª–∞—Å—Å–æ–≤ —á–µ—Ä–µ–∑ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã</a></h2>
<h3 id="–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞-–∏–∑–æ–ª—è—Ü–∏–∏"><a class="header" href="#–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞-–∏–∑–æ–ª—è—Ü–∏–∏">–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –∏–∑–æ–ª—è—Ü–∏–∏</a></h3>
<p>–ö–ª–∞—Å—Å—ã <strong>–Ω–µ –∑–Ω–∞—é—Ç –¥—Ä—É–≥ –æ –¥—Ä—É–≥–µ –Ω–∞–ø—Ä—è–º—É—é</strong>:</p>
<ul>
<li><code>Message</code> –Ω–µ –∑–Ω–∞–µ—Ç –æ –∫–ª–∞—Å—Å–µ <code>Attachment</code></li>
<li><code>Message</code> –∑–Ω–∞–µ—Ç —Ç–æ–ª—å–∫–æ –æ–± –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ <code>IAttachment</code></li>
<li>–≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç —Ä–∞–∑–º–µ—â–∞—Ç—å –∫–ª–∞—Å—Å—ã –≤ —Ä–∞–∑–Ω—ã—Ö –º–æ–¥—É–ª—è—Ö</li>
<li>–ú–æ–∂–Ω–æ –ø–æ–¥—Å—Ç–∞–≤–ª—è—Ç—å –ª—é–±—ã–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏, —Å–æ–≤–º–µ—Å—Ç–∏–º—ã–µ –ø–æ –∫–æ–Ω—Ç—Ä–∞–∫—Ç—É</li>
</ul>
<h3 id="–ü—Ä–∏–º–µ—Ä-—Å—Ç—Ä—É–∫—Ç—É—Ä—ã-–º–æ–¥—É–ª–µ–π"><a class="header" href="#–ü—Ä–∏–º–µ—Ä-—Å—Ç—Ä—É–∫—Ç—É—Ä—ã-–º–æ–¥—É–ª–µ–π">–ü—Ä–∏–º–µ—Ä —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –º–æ–¥—É–ª–µ–π</a></h3>
<pre><code>project/
‚îú‚îÄ‚îÄ types.d.ts          # –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤
‚îú‚îÄ‚îÄ message.js          # –ö–ª–∞—Å—Å Message
‚îú‚îÄ‚îÄ attachment.js       # –ö–ª–∞—Å—Å Attachment
‚îú‚îÄ‚îÄ send.js             # –§—É–Ω–∫—Ü–∏—è send
‚îî‚îÄ‚îÄ usage.js            # –ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π –∫–æ–¥
</code></pre>
<p>–•–æ—Ç—è –≤ –ø—Ä–∏–º–µ—Ä–µ –∏–∑ –ª–µ–∫—Ü–∏–∏ –≤—Å–µ –∫–ª–∞—Å—Å—ã –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ –æ–¥–Ω–æ–º —Ñ–∞–π–ª–µ, –≤ —Ä–µ–∞–ª—å–Ω–æ–º –ø—Ä–æ–µ–∫—Ç–µ –∏—Ö –º–æ–∂–Ω–æ —Ä–∞–∑–Ω–µ—Å—Ç–∏ –ø–æ –æ—Ç–¥–µ–ª—å–Ω—ã–º –º–æ–¥—É–ª—è–º.</p>
<hr />
<h2 id="isp-–≤-javascript-–±–µ–∑-typescript"><a class="header" href="#isp-–≤-javascript-–±–µ–∑-typescript">ISP –≤ JavaScript –±–µ–∑ TypeScript</a></h2>
<h3 id="–ú–æ–∂–Ω–æ-–ª–∏-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å-isp-–±–µ–∑-—è–≤–Ω—ã—Ö-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤"><a class="header" href="#–ú–æ–∂–Ω–æ-–ª–∏-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å-isp-–±–µ–∑-—è–≤–Ω—ã—Ö-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤">–ú–æ–∂–Ω–æ –ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å ISP –±–µ–∑ —è–≤–Ω—ã—Ö –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤?</a></h3>
<p><strong>–î–∞!</strong> –ü—Ä–∏–Ω—Ü–∏–ø —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤ –º–æ–∂–Ω–æ –ø—Ä–∏–º–µ–Ω—è—Ç—å –≤ —á–∏—Å—Ç–æ–º JavaScript, –¥–∞–∂–µ –µ—Å–ª–∏ –≤ —è–∑—ã–∫–µ –Ω–µ—Ç –≤—Å—Ç—Ä–æ–µ–Ω–Ω–æ–π –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤.</p>
<h3 id="–ü–æ–¥—Ö–æ–¥-—á–µ—Ä–µ–∑-dts-—Ñ–∞–π–ª—ã"><a class="header" href="#–ü–æ–¥—Ö–æ–¥-—á–µ—Ä–µ–∑-dts-—Ñ–∞–π–ª—ã">–ü–æ–¥—Ö–æ–¥ —á–µ—Ä–µ–∑ DTS-—Ñ–∞–π–ª—ã</a></h3>
<p>–í –ø—Ä–∏–º–µ—Ä–µ –∏–∑ –ª–µ–∫—Ü–∏–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è <strong>–≥–∏–±—Ä–∏–¥–Ω—ã–π –ø–æ–¥—Ö–æ–¥</strong>:</p>
<ol>
<li>–ö–æ–¥ –Ω–∞–ø–∏—Å–∞–Ω –Ω–∞ <strong>—á–∏—Å—Ç–æ–º JavaScript</strong> (<code>.js</code> —Ñ–∞–π–ª—ã)</li>
<li>–†—è–¥–æ–º –ª–µ–∂–∞—Ç <strong>—Ñ–∞–π–ª—ã –¥–µ–∫–ª–∞—Ä–∞—Ü–∏–π —Ç–∏–ø–æ–≤</strong> (<code>.d.ts</code> —Ñ–∞–π–ª—ã)</li>
<li>TypeScript –Ω–∞—Å—Ç—Ä–æ–µ–Ω –Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫—É JS-—Ñ–∞–π–ª–æ–≤ –Ω–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Ç–∏–ø–∞–º</li>
</ol>
<p><strong>–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ —ç—Ç–æ–≥–æ –ø–æ–¥—Ö–æ–¥–∞</strong>:</p>
<ul>
<li>–ö–æ–¥ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –∫–∞–∫ –æ–±—ã—á–Ω—ã–π JavaScript</li>
<li>TypeScript –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å —Ç–∏–ø–æ–≤ –Ω–∞ —ç—Ç–∞–ø–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏</li>
<li>–ù–µ –Ω—É–∂–Ω–∞ –∫–æ–º–ø–∏–ª—è—Ü–∏—è TypeScript –≤ runtime</li>
<li>–†–∞–∑–¥–µ–ª–µ–Ω—ã —Ç–∏–ø—ã –∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è</li>
</ul>
<h3 id="–ù–∞—Å—Ç—Ä–æ–π–∫–∞-–ø—Ä–æ–≤–µ—Ä–∫–∏-—Ç–∏–ø–æ–≤"><a class="header" href="#–ù–∞—Å—Ç—Ä–æ–π–∫–∞-–ø—Ä–æ–≤–µ—Ä–∫–∏-—Ç–∏–ø–æ–≤">–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ç–∏–ø–æ–≤</a></h3>
<pre><code class="language-json">// tsconfig.json
{
  "compilerOptions": {
    "checkJs": true,           // –ü—Ä–æ–≤–µ—Ä—è—Ç—å JS-—Ñ–∞–π–ª—ã
    "allowJs": true,           // –†–∞–∑—Ä–µ—à–∏—Ç—å JS-—Ñ–∞–π–ª—ã
    "noEmit": true,            // –ù–µ –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –≤—ã—Ö–æ–¥–Ω—ã–µ —Ñ–∞–π–ª—ã
    "strict": true
  }
}
</code></pre>
<h3 id="–ö–æ–Ω—Ü–µ–ø—Ç—É–∞–ª—å–Ω–æ–µ-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤"><a class="header" href="#–ö–æ–Ω—Ü–µ–ø—Ç—É–∞–ª—å–Ω–æ–µ-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤">–ö–æ–Ω—Ü–µ–ø—Ç—É–∞–ª—å–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤</a></h3>
<p>–î–∞–∂–µ –±–µ–∑ —è–≤–Ω—ã—Ö –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤, –∫–æ–¥ –º–æ–∂–Ω–æ –ø–∏—Å–∞—Ç—å <strong>—Ç–∞–∫, –∫–∞–∫ –±—É–¥—Ç–æ –æ–Ω–∏ –µ—Å—Ç—å</strong>:</p>
<ul>
<li>–ü—Ä–µ–¥—Å—Ç–∞–≤–ª—è–π—Ç–µ —Å–µ–±–µ –∫–æ–Ω—Ç—Ä–∞–∫—Ç—ã –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤ –º—ã—Å–ª–µ–Ω–Ω–æ</li>
<li>–ü—Ä–æ–µ–∫—Ç–∏—Ä—É–π—Ç–µ –∫–ª–∞—Å—Å—ã —Ç–∞–∫, —á—Ç–æ–±—ã –æ–Ω–∏ –∑–∞–≤–∏—Å–µ–ª–∏ –æ—Ç –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–π, –∞ –Ω–µ –æ—Ç –∫–æ–Ω–∫—Ä–µ—Ç–∏–∫–∏</li>
<li>–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ duck typing –¥–ª—è –ø–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º–∞</li>
</ul>
<pre><code class="language-javascript">// –ö–æ–¥ —Ä–∞–±–æ—Ç–∞–µ—Ç –∏ –±–µ–∑ —Ç–∏–ø–æ–≤ –±–ª–∞–≥–æ–¥–∞—Ä—è duck typing
const message = new Message('from', 'to', 'text');
const file = { fileName: 'test.txt' };  // –ü–æ–¥—Ö–æ–¥–∏—Ç –ø–æ–¥ "–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å" IFile
message.files.push(file);  // –†–∞–±–æ—Ç–∞–µ—Ç!
</code></pre>
<hr />
<h2 id="–ö–ª—é—á–µ–≤—ã–µ-–≤—ã–≤–æ–¥—ã-15"><a class="header" href="#–ö–ª—é—á–µ–≤—ã–µ-–≤—ã–≤–æ–¥—ã-15">–ö–ª—é—á–µ–≤—ã–µ –≤—ã–≤–æ–¥—ã</a></h2>
<h3 id="1-–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤-–≤-isp"><a class="header" href="#1-–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤-–≤-isp">1. –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤ –≤ ISP</a></h3>
<p>–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –Ω—É–∂–Ω—ã –¥–ª—è:</p>
<ul>
<li><strong>–ù–∞–≥–ª—è–¥–Ω–æ—Å—Ç–∏</strong> ‚Äî —è–≤–Ω–æ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç –∫–æ–Ω—Ç—Ä–∞–∫—Ç—ã</li>
<li><strong>–ü—Ä–æ–≤–µ—Ä–∫–∏</strong> ‚Äî –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è —Ç–∏–ø–æ–≤</li>
<li><strong>–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏</strong> ‚Äî —Å–ª—É–∂–∞—Ç –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–µ–π –∫ –∫–æ–¥—É</li>
</ul>
<h3 id="2-–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã-vs-–ö–ª–∞—Å—Å—ã"><a class="header" href="#2-–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã-vs-–ö–ª–∞—Å—Å—ã">2. –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã vs –ö–ª–∞—Å—Å—ã</a></h3>
<p><strong>–í—Å–µ–≥–¥–∞ —Å—Å—ã–ª–∞–π—Ç–µ—Å—å –Ω–∞ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã, –∞ –Ω–µ –Ω–∞ –∫–ª–∞—Å—Å—ã</strong>:</p>
<pre><code class="language-typescript">// ‚ùå –ü–ª–æ—Ö–æ - –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –æ—Ç –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –∫–ª–∞—Å—Å–∞
class EmailSender {
  private attachment: Attachment;  // –ü—Ä–∏–≤—è–∑–∫–∞ –∫ –∫–ª–∞—Å—Å—É
}

// ‚úÖ –•–æ—Ä–æ—à–æ - –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –æ—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
class EmailSender {
  private attachment: IAttachment;  // –ü—Ä–∏–≤—è–∑–∫–∞ –∫ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É
}
</code></pre>
<h3 id="3-–ü—Ä–∏–º–µ–Ω–∏–º–æ—Å—Ç—å-–≤-–ª—é–±–æ–º-—è–∑—ã–∫–µ"><a class="header" href="#3-–ü—Ä–∏–º–µ–Ω–∏–º–æ—Å—Ç—å-–≤-–ª—é–±–æ–º-—è–∑—ã–∫–µ">3. –ü—Ä–∏–º–µ–Ω–∏–º–æ—Å—Ç—å –≤ –ª—é–±–æ–º —è–∑—ã–∫–µ</a></h3>
<p>–ü—Ä–∏–Ω—Ü–∏–ø ISP –ø—Ä–∏–º–µ–Ω–∏–º –¥–∞–∂–µ –≤ —è–∑—ã–∫–∞—Ö –±–µ–∑ –≤—Å—Ç—Ä–æ–µ–Ω–Ω–æ–π –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤:</p>
<ul>
<li>JavaScript (—Å TypeScript –∏–ª–∏ –±–µ–∑)</li>
<li>Python (—á–µ—Ä–µ–∑ ABC –∏–ª–∏ duck typing)</li>
<li>Ruby (—á–µ—Ä–µ–∑ duck typing)</li>
</ul>
<h3 id="4-–ë–∞–ª–∞–Ω—Å-–º–µ–∂–¥—É-–≥–∏–±–∫–æ—Å—Ç—å—é-–∏-—Å–ª–æ–∂–Ω–æ—Å—Ç—å—é"><a class="header" href="#4-–ë–∞–ª–∞–Ω—Å-–º–µ–∂–¥—É-–≥–∏–±–∫–æ—Å—Ç—å—é-–∏-—Å–ª–æ–∂–Ω–æ—Å—Ç—å—é">4. –ë–∞–ª–∞–Ω—Å –º–µ–∂–¥—É –≥–∏–±–∫–æ—Å—Ç—å—é –∏ —Å–ª–æ–∂–Ω–æ—Å—Ç—å—é</a></h3>
<p>ISP —Ç—Ä–µ–±—É–µ—Ç:</p>
<ul>
<li><strong>–ë–æ–ª—å—à–µ –∫–æ–¥–∞</strong> ‚Äî –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –∏ –ø—Ä–æ–≤–µ—Ä–∫–∏</li>
<li><strong>–ë–æ–ª—å—à–µ —Ä–∞–±–æ—Ç—ã</strong> ‚Äî —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏–µ —Ç–∏–ø–æ–≤ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö</li>
<li><strong>–ù–æ –¥–∞—ë—Ç</strong> ‚Äî –≥–∏–±–∫–æ—Å—Ç—å, —Ç–µ—Å—Ç–∏—Ä—É–µ–º–æ—Å—Ç—å, –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø–æ–¥–º–µ–Ω—ã —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–π</li>
</ul>
<p><strong>–í–∞–∂–Ω–æ</strong>: –≠—Ç–æ—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π –∫–æ–¥ (—Ç–∏–ø—ã, –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã) <strong>–Ω–µ –∏—Å–ø–æ–ª–Ω—è–µ—Ç—Å—è –≤ runtime</strong>, –ø–æ—ç—Ç–æ–º—É –Ω–µ –≤–ª–∏—è–µ—Ç –Ω–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å.</p>
<hr />
<h2 id="–°–≤—è–∑—å-isp-—Å-–¥—Ä—É–≥–∏–º–∏-–ø—Ä–∏–Ω—Ü–∏–ø–∞–º–∏-solid"><a class="header" href="#–°–≤—è–∑—å-isp-—Å-–¥—Ä—É–≥–∏–º–∏-–ø—Ä–∏–Ω—Ü–∏–ø–∞–º–∏-solid">–°–≤—è–∑—å ISP —Å –¥—Ä—É–≥–∏–º–∏ –ø—Ä–∏–Ω—Ü–∏–ø–∞–º–∏ SOLID</a></h2>
<h3 id="single-responsibility-principle-srp"><a class="header" href="#single-responsibility-principle-srp">Single Responsibility Principle (SRP)</a></h3>
<p>ISP –¥–æ–ø–æ–ª–Ω—è–µ—Ç SRP:</p>
<ul>
<li>SRP —Ç—Ä–µ–±—É–µ—Ç —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è –∫–ª–∞—Å—Å–æ–≤ –ø–æ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—è–º</li>
<li>ISP —Ç—Ä–µ–±—É–µ—Ç —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤ –¥–ª—è –∫–∞–∂–¥–æ–π –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏</li>
</ul>
<h3 id="dependency-inversion-principle-dip"><a class="header" href="#dependency-inversion-principle-dip">Dependency Inversion Principle (DIP)</a></h3>
<p>ISP —Å–æ–∑–¥–∞—ë—Ç –æ—Å–Ω–æ–≤—É –¥–ª—è DIP:</p>
<ul>
<li>ISP –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–∏ (–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã)</li>
<li>DIP —Ç—Ä–µ–±—É–µ—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–π, –∞ –Ω–µ –æ—Ç –∫–æ–Ω–∫—Ä–µ—Ç–∏–∫–∏</li>
<li>–í–º–µ—Å—Ç–µ –æ–Ω–∏ —Å–Ω–∏–∂–∞—é—Ç –∑–∞—Ü–µ–ø–ª–µ–Ω–∏–µ –≤ –∫–æ–¥–µ</li>
</ul>
<h3 id="openclosed-principle-ocp"><a class="header" href="#openclosed-principle-ocp">Open/Closed Principle (OCP)</a></h3>
<p>ISP –ø–æ–º–æ–≥–∞–µ—Ç —Å–æ–±–ª—é–¥–∞—Ç—å OCP:</p>
<ul>
<li>–ù–æ–≤—ã–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–ª—è—Ç—å –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ –∫–æ–¥–∞</li>
<li>–î–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –Ω—É–∂–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å</li>
</ul>
<hr />
<h2 id="–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ-—Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏-5"><a class="header" href="#–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ-—Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏-5">–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏</a></h2>
<h3 id="1-–ù–∞—á–∏–Ω–∞–π—Ç–µ-—Å-–ø—Ä–æ—Å—Ç–æ–≥–æ"><a class="header" href="#1-–ù–∞—á–∏–Ω–∞–π—Ç–µ-—Å-–ø—Ä–æ—Å—Ç–æ–≥–æ">1. –ù–∞—á–∏–Ω–∞–π—Ç–µ —Å –ø—Ä–æ—Å—Ç–æ–≥–æ</a></h3>
<p>–ù–µ —Å–æ–∑–¥–∞–≤–∞–π—Ç–µ —Å—Ä–∞–∑—É –º–Ω–æ–≥–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤. –î–æ–±–∞–≤–ª—è–π—Ç–µ –∏—Ö –ø–æ –º–µ—Ä–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏.</p>
<h3 id="2-–ì—Ä—É–ø–ø–∏—Ä—É–π—Ç–µ-—Å–≤—è–∑–∞–Ω–Ω—ã–µ-–º–µ—Ç–æ–¥—ã"><a class="header" href="#2-–ì—Ä—É–ø–ø–∏—Ä—É–π—Ç–µ-—Å–≤—è–∑–∞–Ω–Ω—ã–µ-–º–µ—Ç–æ–¥—ã">2. –ì—Ä—É–ø–ø–∏—Ä—É–π—Ç–µ —Å–≤—è–∑–∞–Ω–Ω—ã–µ –º–µ—Ç–æ–¥—ã</a></h3>
<p>–û–±—ä–µ–¥–∏–Ω—è–π—Ç–µ –≤ –æ–¥–∏–Ω –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –º–µ—Ç–æ–¥—ã, –∫–æ—Ç–æ—Ä—ã–µ –ª–æ–≥–∏—á–µ—Å–∫–∏ —Å–≤—è–∑–∞–Ω—ã –∏ —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤–º–µ—Å—Ç–µ.</p>
<h3 id="3-–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ-–ø—Ä–µ—Ñ–∏–∫—Å—ã"><a class="header" href="#3-–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ-–ø—Ä–µ—Ñ–∏–∫—Å—ã">3. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø—Ä–µ—Ñ–∏–∫—Å—ã</a></h3>
<p>–ù–∞–∑—ã–≤–∞–π—Ç–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã —Å –ø—Ä–µ—Ñ–∏–∫—Å–æ–º <code>I</code> (–Ω–∞–ø—Ä–∏–º–µ—Ä, <code>IMessage</code>, <code>IFile</code>) –¥–ª—è —è—Å–Ω–æ—Å—Ç–∏.</p>
<h3 id="4-–ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ-–Ω–∞-–ø—Ä–∞–∫—Ç–∏–∫–µ"><a class="header" href="#4-–ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ-–Ω–∞-–ø—Ä–∞–∫—Ç–∏–∫–µ">4. –ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ –Ω–∞ –ø—Ä–∞–∫—Ç–∏–∫–µ</a></h3>
<p>–õ—É—á—à–∏–π —Å–ø–æ—Å–æ–± –Ω–∞—É—á–∏—Ç—å—Å—è –±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤ ‚Äî –ø—Ä–∞–∫—Ç–∏–∫–∞ –∏ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ —Ä–µ–∞–ª—å–Ω–æ–≥–æ –∫–æ–¥–∞.</p>
<h3 id="5-–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ-–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã"><a class="header" href="#5-–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ-–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã">5. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã</a></h3>
<ul>
<li><strong>TypeScript</strong> ‚Äî –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ç–∏–ø–æ–≤</li>
<li><strong>ESLint</strong> ‚Äî –¥–ª—è —Å–æ–±–ª—é–¥–µ–Ω–∏—è code style</li>
<li><strong>–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ç–µ—Å—Ç—ã</strong> ‚Äî –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç–∏ –ø–æ–¥–º–µ–Ω—ã —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–π</li>
</ul>
<hr />
<h2 id="–†–µ–∑—é–º–µ-2"><a class="header" href="#–†–µ–∑—é–º–µ-2">–†–µ–∑—é–º–µ</a></h2>
<p><strong>–ü—Ä–∏–Ω—Ü–∏–ø —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤ (ISP)</strong> ‚Äî –º–æ—â–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –≥–∏–±–∫–æ–≥–æ, —Å–ª–∞–±–æ —Å–≤—è–∑–∞–Ω–Ω–æ–≥–æ –∫–æ–¥–∞:</p>
<ul>
<li>‚úÖ –†–∞–∑–¥–µ–ª—è–π—Ç–µ –±–æ–ª—å—à–∏–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –Ω–∞ –º–∞–ª–µ–Ω—å–∫–∏–µ, —É–∑–∫–æ—Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ</li>
<li>‚úÖ –ö–ª–∏–µ–Ω—Ç—ã –¥–æ–ª–∂–Ω—ã –∑–∞–≤–∏—Å–µ—Ç—å —Ç–æ–ª—å–∫–æ –æ—Ç —Ç–µ—Ö –º–µ—Ç–æ–¥–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –æ–Ω–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç</li>
<li>‚úÖ –°—Å—ã–ª–∞–π—Ç–µ—Å—å –Ω–∞ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã, –∞ –Ω–µ –Ω–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –∫–ª–∞—Å—Å—ã</li>
<li>‚úÖ –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å—Ç—Ä—É–∫—Ç—É—Ä–Ω—É—é —Ç–∏–ø–∏–∑–∞—Ü–∏—é JavaScript/TypeScript –¥–ª—è –≥–∏–±–∫–æ—Å—Ç–∏</li>
<li>‚úÖ ISP –ø—Ä–∏–º–µ–Ω–∏–º –¥–∞–∂–µ –±–µ–∑ —è–≤–Ω–æ–π –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤ –≤ —è–∑—ã–∫–µ</li>
<li>‚úÖ –ù–∞—Ö–æ–¥–∏—Ç–µ –±–∞–ª–∞–Ω—Å –º–µ–∂–¥—É –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤ –∏ —Å–ª–æ–∂–Ω–æ—Å—Ç—å—é</li>
</ul>
<p><strong>–ì–ª–∞–≤–Ω—ã–π –ø—Ä–∏–Ω—Ü–∏–ø</strong>: –ö–æ–¥ –¥–æ–ª–∂–µ–Ω –∑–∞–≤–∏—Å–µ—Ç—å –æ—Ç –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–π (–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤), –∞ –Ω–µ –æ—Ç –¥–µ—Ç–∞–ª–µ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ (–∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö –∫–ª–∞—Å—Å–æ–≤). –≠—Ç–æ –¥–µ–ª–∞–µ—Ç —Å–∏—Å—Ç–µ–º—É –≥–∏–±–∫–æ–π, —Ç–µ—Å—Ç–∏—Ä—É–µ–º–æ–π –∏ –≥–æ—Ç–æ–≤–æ–π –∫ –∏–∑–º–µ–Ω–µ–Ω–∏—è–º.</p>
<hr />
<h2 id="–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ-–º–∞—Ç–µ—Ä–∏–∞–ª—ã-2"><a class="header" href="#–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ-–º–∞—Ç–µ—Ä–∏–∞–ª—ã-2">–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã</a></h2>
<ul>
<li>–ò—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥ –ø—Ä–∏–º–µ—Ä–∞ –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ —Å—Å—ã–ª–∫–µ –ø–æ–¥ –≤–∏–¥–µ–æ –ª–µ–∫—Ü–∏–∏</li>
<li>–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∏–∑—É—á–∏—Ç—å –æ—Å—Ç–∞–ª—å–Ω—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã SOLID –¥–ª—è –ø–æ–ª–Ω–æ–≥–æ –ø–æ–Ω–∏–º–∞–Ω–∏—è</li>
<li>–ü—Ä–∞–∫—Ç–∏–∫—É–π—Ç–µ—Å—å –≤ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ –∫–æ–¥–∞ —Å –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ–º ISP</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="–ü–∞—Ç—Ç–µ—Ä–Ω—ã-–∏–Ω—Å—Ç–∞–Ω—Ü–∏—Ä–æ–≤–∞–Ω–∏—è-–ü—É–ª-–æ–±—ä–µ–∫—Ç–æ–≤-–∏-–§–∞–±—Ä–∏–∫–∞"><a class="header" href="#–ü–∞—Ç—Ç–µ—Ä–Ω—ã-–∏–Ω—Å—Ç–∞–Ω—Ü–∏—Ä–æ–≤–∞–Ω–∏—è-–ü—É–ª-–æ–±—ä–µ–∫—Ç–æ–≤-–∏-–§–∞–±—Ä–∏–∫–∞">–ü–∞—Ç—Ç–µ—Ä–Ω—ã –∏–Ω—Å—Ç–∞–Ω—Ü–∏—Ä–æ–≤–∞–Ω–∏—è: –ü—É–ª –æ–±—ä–µ–∫—Ç–æ–≤ –∏ –§–∞–±—Ä–∏–∫–∞</a></h1>
<h2 id="–û–±–∑–æ—Ä-–ª–µ–∫—Ü–∏–∏-1"><a class="header" href="#–û–±–∑–æ—Ä-–ª–µ–∫—Ü–∏–∏-1">–û–±–∑–æ—Ä –ª–µ–∫—Ü–∏–∏</a></h2>
<p>–í —ç—Ç–æ–π –ª–µ–∫—Ü–∏–∏ —Ä–∞—Å—Å–º–∞—Ç—Ä–∏–≤–∞—é—Ç—Å—è —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–∞–ª—å–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã –∏–Ω—Å—Ç–∞–Ω—Ü–∏—Ä–æ–≤–∞–Ω–∏—è –æ–±—ä–µ–∫—Ç–æ–≤ –≤ JavaScript/TypeScript: –ø–∞—Ç—Ç–µ—Ä–Ω <strong>–§–∞–±—Ä–∏–∫–∞ (Factory)</strong> –∏ <strong>–ü—É–ª –æ–±—ä–µ–∫—Ç–æ–≤ (Object Pool)</strong>. –ò–∑—É—á–∞—é—Ç—Å—è —Ä–∞–∑–ª–∏—á–Ω—ã–µ —Å–ø–æ—Å–æ–±—ã —Å–æ–∑–¥–∞–Ω–∏—è —ç–∫–∑–µ–º–ø–ª—è—Ä–æ–≤ –æ–±—ä–µ–∫—Ç–æ–≤, –æ—Ç –ø—Ä–æ—Å—Ç—ã—Ö –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–æ–≤ –¥–æ —Å–ª–æ–∂–Ω—ã—Ö –ø—É–ª–æ–≤ —Å –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–º —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º —Ä–µ—Å—É—Ä—Å–∞–º–∏.</p>
<hr />
<h2 id="1-–û—Å–Ω–æ–≤—ã-–∏–Ω—Å—Ç–∞–Ω—Ü–∏—Ä–æ–≤–∞–Ω–∏—è-–æ–±—ä–µ–∫—Ç–æ–≤"><a class="header" href="#1-–û—Å–Ω–æ–≤—ã-–∏–Ω—Å—Ç–∞–Ω—Ü–∏—Ä–æ–≤–∞–Ω–∏—è-–æ–±—ä–µ–∫—Ç–æ–≤">1. –û—Å–Ω–æ–≤—ã –∏–Ω—Å—Ç–∞–Ω—Ü–∏—Ä–æ–≤–∞–Ω–∏—è –æ–±—ä–µ–∫—Ç–æ–≤</a></h2>
<h3 id="11-–ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä-–∫–ª–∞—Å—Å–∞"><a class="header" href="#11-–ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä-–∫–ª–∞—Å—Å–∞">1.1 –ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –∫–ª–∞—Å—Å–∞</a></h3>
<p>–°–∞–º—ã–π –±–∞–∑–æ–≤—ã–π —Å–ø–æ—Å–æ–± —Å–æ–∑–¥–∞–Ω–∏—è —ç–∫–∑–µ–º–ø–ª—è—Ä–æ–≤ - —á–µ—Ä–µ–∑ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –∫–ª–∞—Å—Å–∞ —Å –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–º <code>new</code>.</p>
<h4 id="–ü—Ä–∏–º–µ—Ä-–ü—Ä–æ—Å—Ç–æ–π-–∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä"><a class="header" href="#–ü—Ä–∏–º–µ—Ä-–ü—Ä–æ—Å—Ç–æ–π-–∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä">–ü—Ä–∏–º–µ—Ä: –ü—Ä–æ—Å—Ç–æ–π –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä</a></h4>
<pre><code class="language-javascript">class Connection {
  constructor(url) {
    this.url = url;
  }
}

// –°–æ–∑–¥–∞–Ω–∏–µ —ç–∫–∑–µ–º–ø–ª—è—Ä–∞ —á–µ—Ä–µ–∑ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä
const conn = new Connection('http://example.com');
</code></pre>
<p><strong>–ö–ª—é—á–µ–≤–∞—è –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç—å</strong>: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞ <code>new</code> —Å–æ–∑–¥–∞—ë—Ç –Ω–æ–≤—ã–π —ç–∫–∑–µ–º–ø–ª—è—Ä –∫–ª–∞—Å—Å–∞.</p>
<hr />
<h2 id="2-–ü–∞—Ç—Ç–µ—Ä–Ω-–§–∞–±—Ä–∏–∫–∞-factory"><a class="header" href="#2-–ü–∞—Ç—Ç–µ—Ä–Ω-–§–∞–±—Ä–∏–∫–∞-factory">2. –ü–∞—Ç—Ç–µ—Ä–Ω –§–∞–±—Ä–∏–∫–∞ (Factory)</a></h2>
<h3 id="21-–ß—Ç–æ-—Ç–∞–∫–æ–µ-–§–∞–±—Ä–∏–∫–∞"><a class="header" href="#21-–ß—Ç–æ-—Ç–∞–∫–æ–µ-–§–∞–±—Ä–∏–∫–∞">2.1 –ß—Ç–æ —Ç–∞–∫–æ–µ –§–∞–±—Ä–∏–∫–∞?</a></h3>
<p><strong>–§–∞–±—Ä–∏–∫–∞</strong> - —ç—Ç–æ –ª—é–±–∞—è —Ñ—É–Ω–∫—Ü–∏—è –∏–ª–∏ –º–µ—Ç–æ–¥, –∫–æ—Ç–æ—Ä–∞—è –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —ç–∫–∑–µ–º–ø–ª—è—Ä –æ–±—ä–µ–∫—Ç–∞. –í JavaScript —Ñ–∞–±—Ä–∏–∫–∏ –º–æ–≥—É—Ç –ø—Ä–∏–Ω–∏–º–∞—Ç—å —Ä–∞–∑–ª–∏—á–Ω—ã–µ —Ñ–æ—Ä–º—ã:</p>
<ul>
<li>–û–±—ã—á–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏, –≤–æ–∑–≤—Ä–∞—â–∞—é—â–∏–µ –ª–∏—Ç–µ—Ä–∞–ª—ã –æ–±—ä–µ–∫—Ç–æ–≤</li>
<li>–°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ –º–µ—Ç–æ–¥—ã –∫–ª–∞—Å—Å–∞</li>
<li>–§—É–Ω–∫—Ü–∏–∏, –∏—Å–ø–æ–ª—å–∑—É—é—â–∏–µ –º–µ—Ç–∞–ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ</li>
<li>–§—É–Ω–∫—Ü–∏–∏ —Å –∑–∞–º—ã–∫–∞–Ω–∏—è–º–∏</li>
</ul>
<h3 id="22-–í–∏–¥—ã-—Ñ–∞–±—Ä–∏–∫-–≤-javascript"><a class="header" href="#22-–í–∏–¥—ã-—Ñ–∞–±—Ä–∏–∫-–≤-javascript">2.2 –í–∏–¥—ã —Ñ–∞–±—Ä–∏–∫ –≤ JavaScript</a></h3>
<h4 id="221-–í–æ–∑–≤—Ä–∞—â–µ–Ω–∏–µ-–ª–∏—Ç–µ—Ä–∞–ª–æ–≤-–æ–±—ä–µ–∫—Ç–æ–≤"><a class="header" href="#221-–í–æ–∑–≤—Ä–∞—â–µ–Ω–∏–µ-–ª–∏—Ç–µ—Ä–∞–ª–æ–≤-–æ–±—ä–µ–∫—Ç–æ–≤">2.2.1 –í–æ–∑–≤—Ä–∞—â–µ–Ω–∏–µ –ª–∏—Ç–µ—Ä–∞–ª–æ–≤ –æ–±—ä–µ–∫—Ç–æ–≤</a></h4>
<pre><code class="language-javascript">// –ü—Ä–æ—Å—Ç–∞—è —Ñ–∞–±—Ä–∏–∫–∞, –≤–æ–∑–≤—Ä–∞—â–∞—é—â–∞—è –æ–±—ä–µ–∫—Ç–Ω—ã–π –ª–∏—Ç–µ—Ä–∞–ª
function createUser(name, age) {
  return {
    name,
    age,
    greet() {
      console.log(`–ü—Ä–∏–≤–µ—Ç, —è ${this.name}`);
    }
  };
}

const user = createUser('–ò–≤–∞–Ω', 25);
</code></pre>
<h4 id="222-–°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π-–º–µ—Ç–æ–¥-–∫–ª–∞—Å—Å–∞"><a class="header" href="#222-–°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π-–º–µ—Ç–æ–¥-–∫–ª–∞—Å—Å–∞">2.2.2 –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π –º–µ—Ç–æ–¥ –∫–ª–∞—Å—Å–∞</a></h4>
<pre><code class="language-javascript">class Connection {
  constructor(url) {
    this.url = url;
  }

  // –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π –º–µ—Ç–æ–¥-—Ñ–∞–±—Ä–∏–∫–∞
  static create(url) {
    return new Connection(url);
  }
}

const conn = Connection.create('http://example.com');
</code></pre>
<p><strong>–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞</strong>:</p>
<ul>
<li>–ò–Ω–∫–∞–ø—Å—É–ª—è—Ü–∏—è –ª–æ–≥–∏–∫–∏ —Å–æ–∑–¥–∞–Ω–∏—è</li>
<li>–ß–∏—Å—Ç—ã–π –∏ –ø–æ–Ω—è—Ç–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å</li>
<li>–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π –ª–æ–≥–∏–∫–∏ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏</li>
</ul>
<h4 id="223-–§–∞–±—Ä–∏–∫–∞-—á–µ—Ä–µ–∑-–º–µ—Ç–∞–ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ"><a class="header" href="#223-–§–∞–±—Ä–∏–∫–∞-—á–µ—Ä–µ–∑-–º–µ—Ç–∞–ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ">2.2.3 –§–∞–±—Ä–∏–∫–∞ —á–µ—Ä–µ–∑ –º–µ—Ç–∞–ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ</a></h4>
<p>–§–∞–±—Ä–∏–∫–∏ –º–æ–≥—É—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å –æ–±—ä–µ–∫—Ç—ã –∏—Å–ø–æ–ª—å–∑—É—è:</p>
<ul>
<li><code>Object.setPrototypeOf()</code></li>
<li><code>Object.defineProperties()</code></li>
<li>Mixins (–ø—Ä–∏–º–µ—Å–∏)</li>
<li>–ü—Ä–æ—Ç–æ—Ç–∏–ø–Ω–æ–µ –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ</li>
</ul>
<pre><code class="language-javascript">// –ü—Ä–∏–º–µ—Ä —Å –º–µ—Ç–∞–ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ–º
function createConfigurable(data) {
  const obj = {};
  Object.defineProperties(obj, {
    value: {
      value: data,
      writable: false,
      enumerable: true
    }
  });
  return obj;
}
</code></pre>
<p><strong>–í–∞–∂–Ω–æ</strong>: –í –ø—Ä–∏–∫–ª–∞–¥–Ω–æ–º –∫–æ–¥–µ –∂–µ–ª–∞—Ç–µ–ª—å–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –±–æ–ª–µ–µ –ø—Ä–æ—Å—Ç—ã–µ —Ñ–∞–±—Ä–∏–∫–∏. –ú–µ—Ç–∞–ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–æ–ø—É—Å—Ç–∏–º–æ –≤ –ø–ª–∞—Ç—Ñ–æ—Ä–º–µ–Ω–Ω–æ–º –∫–æ–¥–µ.</p>
<h3 id="23-–£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–∞—è-—Ñ–∞–±—Ä–∏–∫–∞-–≤—ã—Å—à–µ–≥–æ-–ø–æ—Ä—è–¥–∫–∞"><a class="header" href="#23-–£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–∞—è-—Ñ–∞–±—Ä–∏–∫–∞-–≤—ã—Å—à–µ–≥–æ-–ø–æ—Ä—è–¥–∫–∞">2.3 –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–∞—è —Ñ–∞–±—Ä–∏–∫–∞ –≤—ã—Å—à–µ–≥–æ –ø–æ—Ä—è–¥–∫–∞</a></h3>
<p>–ú–æ–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é, –∫–æ—Ç–æ—Ä–∞—è –ø—Ä–µ–≤—Ä–∞—â–∞–µ—Ç –ª—é–±–æ–π –∫–ª–∞—Å—Å –≤ —Ñ–∞–±—Ä–∏–∫—É.</p>
<h4 id="–ü—Ä–∏–º–µ—Ä-–§—É–Ω–∫—Ü–∏—è-factory"><a class="header" href="#–ü—Ä–∏–º–µ—Ä-–§—É–Ω–∫—Ü–∏—è-factory">–ü—Ä–∏–º–µ—Ä: –§—É–Ω–∫—Ü–∏—è <code>factory</code></a></h4>
<pre><code class="language-javascript">// –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–∞—è —Ñ–∞–±—Ä–∏–∫–∞ –¥–ª—è –ª—é–±–æ–≥–æ –∫–ª–∞—Å—Å–∞
const factory = (Class) =&gt; (...args) =&gt; new Class(...args);

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
class Point {
  constructor(x, y) {
    this.x = x;
    this.y = y;
  }
}

// –°–æ–∑–¥–∞—ë–º —Ñ–∞–±—Ä–∏–∫—É –¥–ª—è –∫–ª–∞—Å—Å–∞ Point
const createPoint = factory(Point);

// –ò—Å–ø–æ–ª—å–∑—É–µ–º —Ñ–∞–±—Ä–∏–∫—É
const p1 = createPoint(10, 20);
const p2 = createPoint(30, 40);
</code></pre>
<p><strong>–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏</strong>:</p>
<ul>
<li>–ò—Å–ø–æ–ª—å–∑—É–µ—Ç –∑–∞–º—ã–∫–∞–Ω–∏–µ –¥–ª—è –∑–∞—Ö–≤–∞—Ç–∞ –∫–ª–∞—Å—Å–∞</li>
<li>–ü—Ä–∏–º–µ–Ω–∏–º–∞ –∫ –ª—é–±–æ–º—É –∫–ª–∞—Å—Å—É</li>
<li>–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å—Ç—Ä–µ–ª–æ—á–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é, —Å–æ–∑–¥–∞—é—â—É—é —ç–∫–∑–µ–º–ø–ª—è—Ä—ã</li>
<li>–û—á–µ–Ω—å —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π –ø–æ–¥—Ö–æ–¥</li>
</ul>
<hr />
<h2 id="3-–ü–∞—Ç—Ç–µ—Ä–Ω-–ü—É–ª-–æ–±—ä–µ–∫—Ç–æ–≤-object-pool"><a class="header" href="#3-–ü–∞—Ç—Ç–µ—Ä–Ω-–ü—É–ª-–æ–±—ä–µ–∫—Ç–æ–≤-object-pool">3. –ü–∞—Ç—Ç–µ—Ä–Ω –ü—É–ª –æ–±—ä–µ–∫—Ç–æ–≤ (Object Pool)</a></h2>
<h3 id="31-–ö–æ–Ω—Ü–µ–ø—Ü–∏—è-–ø—É–ª–∞-–æ–±—ä–µ–∫—Ç–æ–≤"><a class="header" href="#31-–ö–æ–Ω—Ü–µ–ø—Ü–∏—è-–ø—É–ª–∞-–æ–±—ä–µ–∫—Ç–æ–≤">3.1 –ö–æ–Ω—Ü–µ–ø—Ü–∏—è –ø—É–ª–∞ –æ–±—ä–µ–∫—Ç–æ–≤</a></h3>
<p><strong>–ü—É–ª –æ–±—ä–µ–∫—Ç–æ–≤</strong> - —ç—Ç–æ –ø–∞—Ç—Ç–µ—Ä–Ω, –∫–æ—Ç–æ—Ä—ã–π:</p>
<ol>
<li>–ó–∞—Ä–∞–Ω–µ–µ —Å–æ–∑–¥–∞—ë—Ç –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —ç–∫–∑–µ–º–ø–ª—è—Ä–æ–≤</li>
<li>–•—Ä–∞–Ω–∏—Ç –∏—Ö –≤ –∫–æ–ª–ª–µ–∫—Ü–∏–∏</li>
<li>–í—ã–¥–∞—ë—Ç —ç–∫–∑–µ–º–ø–ª—è—Ä—ã –ø–æ –º–µ—Ä–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏</li>
<li>–ü—Ä–∏–Ω–∏–º–∞–µ—Ç –æ–±—Ä–∞—Ç–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω—ã–µ —ç–∫–∑–µ–º–ø–ª—è—Ä—ã –¥–ª—è –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è</li>
</ol>
<p><strong>–¶–µ–ª—å</strong>: –≠–∫–æ–Ω–æ–º–∏—è –≤—Ä–µ–º–µ–Ω–∏ –Ω–∞ —Å–æ–∑–¥–∞–Ω–∏–∏ –Ω–æ–≤—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤ –∏ –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö.</p>
<h3 id="32-–ü—Ä–æ—Å—Ç–µ–π—à–∏–π-–ø—É–ª-–æ–±—ä–µ–∫—Ç–æ–≤"><a class="header" href="#32-–ü—Ä–æ—Å—Ç–µ–π—à–∏–π-–ø—É–ª-–æ–±—ä–µ–∫—Ç–æ–≤">3.2 –ü—Ä–æ—Å—Ç–µ–π—à–∏–π –ø—É–ª –æ–±—ä–µ–∫—Ç–æ–≤</a></h3>
<h4 id="–ü—Ä–∏–º–µ—Ä-–ë–∞–∑–æ–≤–∞—è-—Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è-–ø—É–ª–∞"><a class="header" href="#–ü—Ä–∏–º–µ—Ä-–ë–∞–∑–æ–≤–∞—è-—Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è-–ø—É–ª–∞">–ü—Ä–∏–º–µ—Ä: –ë–∞–∑–æ–≤–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –ø—É–ª–∞</a></h4>
<pre><code class="language-javascript">// –ü—Ä–æ—Å—Ç–µ–π—à–∏–π –ø—É–ª –æ–±—ä–µ–∫—Ç–æ–≤
const pool = (factory) =&gt; {
  const items = [];

  // –ó–∞–ø–æ–ª–Ω—è–µ–º –ø—É–ª –Ω–∞—á–∞–ª—å–Ω—ã–º–∏ —ç–∫–∑–µ–º–ø–ª—è—Ä–∞–º–∏
  for (let i = 0; i &lt; 10; i++) {
    items.push(factory());
  }

  // –í–æ–∑–≤—Ä–∞—â–∞–µ–º —Ñ—É–Ω–∫—Ü–∏—é –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è/–≤–æ–∑–≤—Ä–∞—Ç–∞ —ç–∫–∑–µ–º–ø–ª—è—Ä–æ–≤
  return (item) =&gt; {
    if (item) {
      // –í–æ–∑–≤—Ä–∞—Ç —ç–∫–∑–µ–º–ø–ª—è—Ä–∞ –≤ –ø—É–ª
      items.push(item);
      console.log(`–í–æ–∑–≤—Ä–∞—â—ë–Ω –≤ –ø—É–ª. –†–∞–∑–º–µ—Ä: ${items.length}`);
    } else {
      // –ü–æ–ª—É—á–µ–Ω–∏–µ —ç–∫–∑–µ–º–ø–ª—è—Ä–∞ –∏–∑ –ø—É–ª–∞
      const instance = items.pop();
      console.log(`–ü–æ–ª—É—á–µ–Ω –∏–∑ –ø—É–ª–∞. –û—Å—Ç–∞–ª–æ—Å—å: ${items.length}`);
      return instance;
    }
  };
};

// –§–∞–±—Ä–∏–∫–∞ –¥–ª—è –º–∞—Å—Å–∏–≤–æ–≤
const createArray = () =&gt; new Array(1000).fill(0);

// –°–æ–∑–¥–∞—ë–º –ø—É–ª –º–∞—Å—Å–∏–≤–æ–≤
const arrayPool = pool(createArray);

// –ü–æ–ª—É—á–∞–µ–º –º–∞—Å—Å–∏–≤ –∏–∑ –ø—É–ª–∞
const arr1 = arrayPool();
console.log(arr1.reduce((a, b) =&gt; a + b, 0)); // 0

// –í–æ–∑–≤—Ä–∞—â–∞–µ–º –º–∞—Å—Å–∏–≤ –æ–±—Ä–∞—Ç–Ω–æ
arrayPool(arr1);

// –ü–æ–ª—É—á–∞–µ–º —Å–Ω–æ–≤–∞ (–±—É–¥–µ—Ç —Ç–æ—Ç –∂–µ —Å–∞–º—ã–π –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω—ã–π)
const arr2 = arrayPool();
</code></pre>
<p><strong>–ö–ª—é—á–µ–≤—ã–µ –º–æ–º–µ–Ω—Ç—ã</strong>:</p>
<ul>
<li>–û–¥–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∏ –≤–æ–∑–≤—Ä–∞—Ç–∞</li>
<li>–ï—Å–ª–∏ –ø–µ—Ä–µ–¥–∞–Ω –∞—Ä–≥—É–º–µ–Ω—Ç - –≤–æ–∑–≤—Ä–∞—Ç –≤ –ø—É–ª</li>
<li>–ï—Å–ª–∏ –±–µ–∑ –∞—Ä–≥—É–º–µ–Ω—Ç–∞ - –ø–æ–ª—É—á–µ–Ω–∏–µ –∏–∑ –ø—É–ª–∞</li>
<li>–ò—Å–ø–æ–ª—å–∑—É–µ—Ç <code>pop()</code> –∏ <code>push()</code> –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –º–∞—Å—Å–∏–≤–æ–º</li>
</ul>
<h3 id="33-–ü—É–ª-—Å-—Ñ–∞–±—Ä–∏–∫–æ–π-–¥–ª—è-–∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ-—Ç–∏–ø–∞"><a class="header" href="#33-–ü—É–ª-—Å-—Ñ–∞–±—Ä–∏–∫–æ–π-–¥–ª—è-–∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ-—Ç–∏–ø–∞">3.3 –ü—É–ª —Å —Ñ–∞–±—Ä–∏–∫–æ–π –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Ç–∏–ø–∞</a></h3>
<h4 id="–ü—Ä–∏–º–µ—Ä-–ü—É–ª-–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π-connection-pool"><a class="header" href="#–ü—Ä–∏–º–µ—Ä-–ü—É–ª-–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π-connection-pool">–ü—Ä–∏–º–µ—Ä: –ü—É–ª –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π (Connection Pool)</a></h4>
<pre><code class="language-javascript">// –ö–ª–∞—Å—Å Connection
class Connection {
  constructor(index) {
    this.url = `http://example.com/db${index}`;
  }
}

// –§–∞–±—Ä–∏–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π —Å —Å—á—ë—Ç—á–∏–∫–æ–º
class Factory {
  constructor() {
    this.index = 0;
  }

  create() {
    this.index++;
    return new Connection(this.index);
  }
}

// –°–æ–∑–¥–∞—ë–º –ø—É–ª
const factory = new Factory();
const connectionPool = pool(() =&gt; factory.create());

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
const conn1 = connectionPool();
console.log(conn1.url); // http://example.com/db1

const conn2 = connectionPool();
console.log(conn2.url); // http://example.com/db2

// –í–æ–∑–≤—Ä–∞—â–∞–µ–º –≤ –ø—É–ª
connectionPool(conn1);
connectionPool(conn2);
</code></pre>
<h3 id="34-–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–∞—è-—Ñ–∞–±—Ä–∏–∫–∞-—Å-–∑–∞–º—ã–∫–∞–Ω–∏–µ–º"><a class="header" href="#34-–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–∞—è-—Ñ–∞–±—Ä–∏–∫–∞-—Å-–∑–∞–º—ã–∫–∞–Ω–∏–µ–º">3.4 –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–∞—è —Ñ–∞–±—Ä–∏–∫–∞ —Å –∑–∞–º—ã–∫–∞–Ω–∏–µ–º</a></h3>
<p>–í–º–µ—Å—Ç–æ –∫–ª–∞—Å—Å–∞ —Ñ–∞–±—Ä–∏–∫–∏ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∑–∞–º—ã–∫–∞–Ω–∏–µ —Å IIFE (Immediately Invoked Function Expression).</p>
<h4 id="–ü—Ä–∏–º–µ—Ä-–§–∞–±—Ä–∏–∫–∞-–Ω–∞-–∑–∞–º—ã–∫–∞–Ω–∏—è—Ö"><a class="header" href="#–ü—Ä–∏–º–µ—Ä-–§–∞–±—Ä–∏–∫–∞-–Ω–∞-–∑–∞–º—ã–∫–∞–Ω–∏—è—Ö">–ü—Ä–∏–º–µ—Ä: –§–∞–±—Ä–∏–∫–∞ –Ω–∞ –∑–∞–º—ã–∫–∞–Ω–∏—è—Ö</a></h4>
<pre><code class="language-javascript">// –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–∞—è —Ñ–∞–±—Ä–∏–∫–∞ —á–µ—Ä–µ–∑ –∑–∞–º—ã–∫–∞–Ω–∏–µ
const alternativeFactory = (() =&gt; {
  let index = 0;

  return () =&gt; {
    index++;
    return new Connection(index);
  };
})();

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
const conn = alternativeFactory();
console.log(conn.url); // http://example.com/db1
</code></pre>
<p><strong>–°—Ä–∞–≤–Ω–µ–Ω–∏–µ –ø–æ–¥—Ö–æ–¥–æ–≤</strong>:</p>
<ul>
<li><strong>–ö–ª–∞—Å—Å</strong>: –ë–æ–ª–µ–µ —è–≤–Ω—ã–π –∏ –ø–æ–Ω—è—Ç–Ω—ã–π –∫–æ–¥</li>
<li><strong>–ó–∞–º—ã–∫–∞–Ω–∏–µ</strong>: –ë–æ–ª–µ–µ –∫–æ—Ä–æ—Ç–∫–∏–π, –Ω–æ –º–æ–∂–µ—Ç –±—ã—Ç—å –∑–∞–ø—É—Ç–∞–Ω–Ω—ã–º</li>
<li><strong>–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –ø–æ–¥—Ö–æ–¥</strong>: –•—Ä–∞–Ω–∏—Ç –º—É—Ç–∞–±–µ–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –≤ –∑–∞–º—ã–∫–∞–Ω–∏–∏ (–Ω–µ —á–∏—Å—Ç–æ–µ –§–ü)</li>
</ul>
<p><strong>–í–∞–∂–Ω–æ</strong>: –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç—ã —Å–∫–∞–∂—É—Ç, —á—Ç–æ —Ö—Ä–∞–Ω–µ–Ω–∏–µ –º—É—Ç–∞–±–µ–ª—å–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π –≤ –∑–∞–º—ã–∫–∞–Ω–∏–∏ - —ç—Ç–æ –Ω–µ –Ω–∞—Å—Ç–æ—è—â–µ–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ, –∏ –±—É–¥—É—Ç –ø—Ä–∞–≤—ã. –≠—Ç–æ –ø—Ä–æ—Å—Ç–æ —Å–ø–æ—Å–æ–± —Å–æ–∑–¥–∞—Ç—å –∫–æ–Ω—Ç–µ–∫—Å—Ç —Å –º—É—Ç–∏—Ä—É–µ–º—ã–º –∑–∞–º—ã–∫–∞–Ω–∏–µ–º.</p>
<h3 id="35-–ü—É–ª-—Å-–∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–π-—Ñ–∞–±—Ä–∏–∫–æ–π"><a class="header" href="#35-–ü—É–ª-—Å-–∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–π-—Ñ–∞–±—Ä–∏–∫–æ–π">3.5 –ü—É–ª —Å –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–π —Ñ–∞–±—Ä–∏–∫–æ–π</a></h3>
<p>–§–∞–±—Ä–∏–∫—É –º–æ–∂–Ω–æ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –ø—Ä—è–º–æ –≤ –∫–ª–∞—Å—Å –∫–∞–∫ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π –º–µ—Ç–æ–¥.</p>
<h4 id="–ü—Ä–∏–º–µ—Ä-–ö–ª–∞—Å—Å-—Å-–≤—Å—Ç—Ä–æ–µ–Ω–Ω–æ–π-—Ñ–∞–±—Ä–∏–∫–æ–π"><a class="header" href="#–ü—Ä–∏–º–µ—Ä-–ö–ª–∞—Å—Å-—Å-–≤—Å—Ç—Ä–æ–µ–Ω–Ω–æ–π-—Ñ–∞–±—Ä–∏–∫–æ–π">–ü—Ä–∏–º–µ—Ä: –ö–ª–∞—Å—Å —Å –≤—Å—Ç—Ä–æ–µ–Ω–Ω–æ–π —Ñ–∞–±—Ä–∏–∫–æ–π</a></h4>
<pre><code class="language-javascript">class Connection {
  static index = 0;

  constructor(index) {
    this.url = `http://example.com/db${index}`;
  }

  // –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π –º–µ—Ç–æ–¥-—Ñ–∞–±—Ä–∏–∫–∞
  static create() {
    Connection.index++;
    return new Connection(Connection.index);
  }
}

// –ü—É–ª —Å –ø—Ä–∏–≤—è–∑–∫–æ–π –∫ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–º—É –∫–ª–∞—Å—Å—É
const poolForConnection = () =&gt; {
  const items = [];

  // –ó–∞–ø–æ–ª–Ω—è–µ–º –ø—É–ª –∏—Å–ø–æ–ª—å–∑—É—è —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π –º–µ—Ç–æ–¥
  for (let i = 0; i &lt; 10; i++) {
    items.push(Connection.create());
  }

  return (item) =&gt; {
    if (item) {
      items.push(item);
    } else {
      return items.pop();
    }
  };
};

const pool = poolForConnection();
const conn = pool();
console.log(conn.url); // http://example.com/db1
</code></pre>
<p><strong>–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç—å</strong>: –≠—Ç–æ—Ç –ø—É–ª –º–µ–Ω–µ–µ —É–Ω–∏–≤–µ—Ä—Å–∞–ª–µ–Ω, —Ç–∞–∫ –∫–∞–∫ –∂—ë—Å—Ç–∫–æ –ø—Ä–∏–≤—è–∑–∞–Ω –∫ –∫–ª–∞—Å—Å—É <code>Connection</code>.</p>
<hr />
<h2 id="4-–ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ-–≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏-–ø—É–ª–æ–≤"><a class="header" href="#4-–ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ-–≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏-–ø—É–ª–æ–≤">4. –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –ø—É–ª–æ–≤</a></h2>
<h3 id="41-–ü—É–ª-—Å-–¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–º-—Å–æ–∑–¥–∞–Ω–∏–µ–º"><a class="header" href="#41-–ü—É–ª-—Å-–¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–º-—Å–æ–∑–¥–∞–Ω–∏–µ–º">4.1 –ü—É–ª —Å –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–º —Å–æ–∑–¥–∞–Ω–∏–µ–º</a></h3>
<p>–ï—Å–ª–∏ –ø—É–ª –∏—Å—á–µ—Ä–ø–∞–Ω, –º–æ–∂–Ω–æ —Å–æ–∑–¥–∞–≤–∞—Ç—å –Ω–æ–≤—ã–µ —ç–∫–∑–µ–º–ø–ª—è—Ä—ã —á–µ—Ä–µ–∑ —Ñ–∞–±—Ä–∏–∫—É.</p>
<h4 id="–ü—Ä–∏–º–µ—Ä-–ü—É–ª-—Å-–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º-—Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ–º"><a class="header" href="#–ü—Ä–∏–º–µ—Ä-–ü—É–ª-—Å-–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º-—Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ–º">–ü—Ä–∏–º–µ—Ä: –ü—É–ª —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ–º</a></h4>
<pre><code class="language-javascript">const poolWithFactory = (factory, initialSize = 10) =&gt; {
  const items = [];

  // –ù–∞—á–∞–ª—å–Ω–æ–µ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ
  for (let i = 0; i &lt; initialSize; i++) {
    items.push(factory());
  }

  return (item) =&gt; {
    if (item) {
      // –í–æ–∑–≤—Ä–∞—Ç –≤ –ø—É–ª
      items.push(item);
      console.log(`Returned. Size: ${items.length}`);
    } else {
      // –ü–æ–ª—É—á–µ–Ω–∏–µ –∏–ª–∏ —Å–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ
      const instance = items.pop() || factory();
      console.log(`Retrieved. Remaining: ${items.length}`);
      return instance;
    }
  };
};

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
const createBuffer = () =&gt; new Uint32Array(1024);
const bufferPool = poolWithFactory(createBuffer, 5);

// –ó–∞–±–∏—Ä–∞–µ–º –±–æ–ª—å—à–µ, —á–µ–º –±—ã–ª–æ –∏–∑–Ω–∞—á–∞–ª—å–Ω–æ
for (let i = 0; i &lt; 10; i++) {
  const buffer = bufferPool();
  console.log(`Buffer ${i + 1}`);
}
</code></pre>
<p><strong>–õ–æ–≥–∏–∫–∞</strong>:</p>
<ul>
<li><code>items.pop()</code> –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —ç–∫–∑–µ–º–ø–ª—è—Ä –∏–∑ –ø—É–ª–∞</li>
<li>–ï—Å–ª–∏ –ø—É–ª –ø—É—Å—Ç (<code>pop()</code> –≤–µ—Ä–Ω—ë—Ç <code>undefined</code>), —Å–æ–∑–¥–∞—ë—Ç—Å—è –Ω–æ–≤—ã–π —á–µ—Ä–µ–∑ <code>factory()</code></li>
<li>–û–ø–µ—Ä–∞—Ç–æ—Ä <code>||</code> –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç fallback –Ω–∞ —Å–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ</li>
</ul>
<h3 id="42-–ü—É–ª-—Å-–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è–º–∏-—Ä–∞–∑–º–µ—Ä–∞"><a class="header" href="#42-–ü—É–ª-—Å-–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è–º–∏-—Ä–∞–∑–º–µ—Ä–∞">4.2 –ü—É–ª —Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è–º–∏ —Ä–∞–∑–º–µ—Ä–∞</a></h3>
<p>–†–µ–∞–ª—å–Ω—ã–µ –ø—É–ª—ã –¥–æ–ª–∂–Ω—ã –∏–º–µ—Ç—å —Ç—Ä–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ —Ä–∞–∑–º–µ—Ä–∞:</p>
<ol>
<li><strong>–ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä (min)</strong> - –º–µ–Ω—å—à–µ –∫–æ—Ç–æ—Ä–æ–≥–æ –Ω–µ–ª—å–∑—è –æ–ø—É—Å–∫–∞—Ç—å—Å—è</li>
<li><strong>–ù–æ—Ä–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä (normal)</strong> - —Ä–∞–∑–º–µ—Ä –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –ø—É–ª–∞</li>
<li><strong>–ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä (max)</strong> - –≤—ã—à–µ –∫–æ—Ç–æ—Ä–æ–≥–æ –Ω–µ–ª—å–∑—è –ø–æ–¥–Ω–∏–º–∞—Ç—å—Å—è</li>
</ol>
<h4 id="–ü—Ä–∏–º–µ—Ä-–ü—É–ª-—Å-—Ç—Ä–æ–π–Ω—ã–º-–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ–º-—Ä–∞–∑–º–µ—Ä–∞"><a class="header" href="#–ü—Ä–∏–º–µ—Ä-–ü—É–ª-—Å-—Ç—Ä–æ–π–Ω—ã–º-–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ–º-—Ä–∞–∑–º–µ—Ä–∞">–ü—Ä–∏–º–µ—Ä: –ü—É–ª —Å —Ç—Ä–æ–π–Ω—ã–º –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ–º —Ä–∞–∑–º–µ—Ä–∞</a></h4>
<pre><code class="language-javascript">const poolWithLimits = (factory, min = 5, normal = 10, max = 15) =&gt; {
  const items = [];

  // –ó–∞–ø–æ–ª–Ω—è–µ–º –¥–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ–≥–æ —Ä–∞–∑–º–µ—Ä–∞
  for (let i = 0; i &lt; normal; i++) {
    items.push(factory());
  }

  return (item) =&gt; {
    if (item) {
      // –í–æ–∑–≤—Ä–∞—Ç –≤ –ø—É–ª, –Ω–æ –Ω–µ –ø—Ä–µ–≤—ã—à–∞–µ–º –º–∞–∫—Å–∏–º—É–º
      if (items.length &lt; max) {
        items.push(item);
        console.log(`Returned. Size: ${items.length}`);
      } else {
        console.log(`Pool full (max: ${max}). Item discarded.`);
      }
    } else {
      // –ü–æ–ª—É—á–µ–Ω–∏–µ –∏–∑ –ø—É–ª–∞
      if (items.length &gt; 0) {
        return items.pop();
      } else if (items.length === 0) {
        // –°–æ–∑–¥–∞—ë–º –Ω–æ–≤—ã–π, –µ—Å–ª–∏ –ø—É–ª –ø—É—Å—Ç, –Ω–æ —Å–ª–µ–¥–∏–º –∑–∞ –ª–∏–º–∏—Ç–∞–º–∏
        console.log('Pool empty, creating new instance');
        return factory();
      } else {
        // –ü—É–ª –∏—Å—á–µ—Ä–ø–∞–Ω –∏ –¥–æ—Å—Ç–∏–≥ –º–∞–∫—Å–∏–º—É–º–∞
        console.log('Pool exhausted, no instances available');
        return undefined;
      }
    }
  };
};

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å —Ç–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏ –º–∞—Å—Å–∏–≤–∞–º–∏
const createTypedArray = () =&gt; new Uint32Array(4096); // 4KB –±—É—Ñ–µ—Ä

const pool = poolWithLimits(createTypedArray, 5, 10, 15);

// –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
for (let i = 0; i &lt; 20; i++) {
  const buffer = pool();
  console.log(`Iteration ${i}, buffer:`, buffer ? 'received' : 'null');
}
</code></pre>
<p><strong>–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ</strong>:</p>
<ul>
<li><strong>–ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π</strong>: –ì–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, —á—Ç–æ –≤—Å–µ–≥–¥–∞ –µ—Å—Ç—å –≥–æ—Ç–æ–≤—ã–µ —ç–∫–∑–µ–º–ø–ª—è—Ä—ã</li>
<li><strong>–ù–æ—Ä–º–∞–ª—å–Ω—ã–π</strong>: –û–ø—Ç–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –¥–ª—è –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–∞ —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤</li>
<li><strong>–ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π</strong>: –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç –Ω–µ–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–π —Ä–æ—Å—Ç –∏ –ø–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω–∏–µ –ø–∞–º—è—Ç–∏</li>
</ul>
<h3 id="43-–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–π-–ø—Ä–∏–º–µ—Ä-–ü—É–ª-–±—É—Ñ–µ—Ä–æ–≤"><a class="header" href="#43-–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–π-–ø—Ä–∏–º–µ—Ä-–ü—É–ª-–±—É—Ñ–µ—Ä–æ–≤">4.3 –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–π –ø—Ä–∏–º–µ—Ä: –ü—É–ª –±—É—Ñ–µ—Ä–æ–≤</a></h3>
<h4 id="–ü—Ä–∏–º–µ—Ä-–ü—É–ª-–¥–ª—è-–ø–µ—Ä–µ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏—è-–¥–∞–Ω–Ω—ã—Ö"><a class="header" href="#–ü—Ä–∏–º–µ—Ä-–ü—É–ª-–¥–ª—è-–ø–µ—Ä–µ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏—è-–¥–∞–Ω–Ω—ã—Ö">–ü—Ä–∏–º–µ—Ä: –ü—É–ª –¥–ª—è –ø–µ—Ä–µ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö</a></h4>
<pre><code class="language-javascript">// –§–∞–±—Ä–∏–∫–∞ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –±—É—Ñ–µ—Ä–æ–≤ —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ —Ä–∞–∑–º–µ—Ä–∞
const createBuffer = () =&gt; new Uint32Array(4096); // 16KB –±—É—Ñ–µ—Ä (4096 * 4 –±–∞–π—Ç–∞)

// –°–æ–∑–¥–∞—ë–º –ø—É–ª –∏–∑ 10 –±—É—Ñ–µ—Ä–æ–≤
const bufferPool = poolWithLimits(createBuffer, 5, 10, 20);

// –°–∏–º—É–ª—è—Ü–∏—è –ø–µ—Ä–µ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏—è –≤–∏–¥–µ–æ/–∫—Ä–∏–ø—Ç–æ –¥–∞–Ω–Ω—ã—Ö
function processData(data) {
  const buffer = bufferPool(); // –ü–æ–ª—É—á–∞–µ–º –±—É—Ñ–µ—Ä

  if (!buffer) {
    throw new Error('No buffers available');
  }

  try {
    // –ò—Å–ø–æ–ª—å–∑—É–µ–º –±—É—Ñ–µ—Ä –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏
    buffer.set(data);
    // ... –æ–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö ...
    return buffer;
  } finally {
    // –í–æ–∑–≤—Ä–∞—â–∞–µ–º –±—É—Ñ–µ—Ä –≤ –ø—É–ª
    bufferPool(buffer);
  }
}

// –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
const testData = new Uint32Array(100).fill(42);
const result = processData(testData);
</code></pre>
<p><strong>–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –ø—É–ª–æ–≤ –±—É—Ñ–µ—Ä–æ–≤</strong>:</p>
<ul>
<li>–ü–µ—Ä–µ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤–∏–¥–µ–æ</li>
<li>–ö—Ä–∏–ø—Ç–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏</li>
<li>–û–±—Ä–∞–±–æ—Ç–∫–∞ –±–æ–ª—å—à–∏—Ö —Ñ–∞–π–ª–æ–≤</li>
<li>–†–∞–±–æ—Ç–∞ —Å —Å–µ—Ç–µ–≤—ã–º–∏ –ø–∞–∫–µ—Ç–∞–º–∏</li>
</ul>
<hr />
<h2 id="5-–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ-–ø—É–ª—ã"><a class="header" href="#5-–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ-–ø—É–ª—ã">5. –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ –ø—É–ª—ã</a></h2>
<h3 id="51-–ó–∞—á–µ–º-–Ω—É–∂–Ω—ã-–∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ-–ø—É–ª—ã"><a class="header" href="#51-–ó–∞—á–µ–º-–Ω—É–∂–Ω—ã-–∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ-–ø—É–ª—ã">5.1 –ó–∞—á–µ–º –Ω—É–∂–Ω—ã –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ –ø—É–ª—ã?</a></h3>
<p><strong>–ü—Ä–æ–±–ª–µ–º–∞ —Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö –ø—É–ª–æ–≤</strong>: –ï—Å–ª–∏ –ø—É–ª –∏—Å—á–µ—Ä–ø–∞–Ω, –∫–ª–∏–µ–Ω—Ç –ª–∏–±–æ –ø–æ–ª—É—á–∞–µ—Ç <code>undefined</code>, –ª–∏–±–æ —Å–æ–∑–¥–∞—ë—Ç—Å—è –Ω–æ–≤—ã–π —ç–∫–∑–µ–º–ø–ª—è—Ä, —á—Ç–æ –º–æ–∂–µ—Ç –Ω–∞—Ä—É—à–∏—Ç—å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è.</p>
<p><strong>–†–µ—à–µ–Ω–∏–µ</strong>: –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –ø—É–ª –ø–æ–∑–≤–æ–ª—è–µ—Ç –∫–ª–∏–µ–Ω—Ç—É <strong>–∂–¥–∞—Ç—å</strong>, –ø–æ–∫–∞ –∫—Ç–æ-—Ç–æ –≤–µ—Ä–Ω—ë—Ç —ç–∫–∑–µ–º–ø–ª—è—Ä –≤ –ø—É–ª.</p>
<h3 id="52-–ö–æ–Ω—Ü–µ–ø—Ü–∏—è-–∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–≥–æ-–ø—É–ª–∞"><a class="header" href="#52-–ö–æ–Ω—Ü–µ–ø—Ü–∏—è-–∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–≥–æ-–ø—É–ª–∞">5.2 –ö–æ–Ω—Ü–µ–ø—Ü–∏—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–≥–æ –ø—É–ª–∞</a></h3>
<p>–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –ø—É–ª:</p>
<ol>
<li>–ü—Ä–∏–Ω–∏–º–∞–µ—Ç –∑–∞–ø—Ä–æ—Å—ã –Ω–∞ –ø–æ–ª—É—á–µ–Ω–∏–µ —ç–∫–∑–µ–º–ø–ª—è—Ä–∞</li>
<li>–ï—Å–ª–∏ –ø—É–ª –ø—É—Å—Ç, –∑–∞–ø—Ä–æ—Å –ø–æ–º–µ—â–∞–µ—Ç—Å—è –≤ –æ—á–µ—Ä–µ–¥—å –æ–∂–∏–¥–∞–Ω–∏—è</li>
<li>–ö–æ–≥–¥–∞ –∫—Ç–æ-—Ç–æ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —ç–∫–∑–µ–º–ø–ª—è—Ä, –æ–Ω –ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è –ø–µ—Ä–≤–æ–º—É –æ–∂–∏–¥–∞—é—â–µ–º—É</li>
<li>–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Ç–∞–π–º–∞—É—Ç—ã –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è –±–µ—Å–∫–æ–Ω–µ—á–Ω–æ–≥–æ –æ–∂–∏–¥–∞–Ω–∏—è</li>
</ol>
<h4 id="–ö–æ–Ω—Ü–µ–ø—Ç—É–∞–ª—å–Ω–∞—è-—Å—Ö–µ–º–∞"><a class="header" href="#–ö–æ–Ω—Ü–µ–ø—Ç—É–∞–ª—å–Ω–∞—è-—Å—Ö–µ–º–∞">–ö–æ–Ω—Ü–µ–ø—Ç—É–∞–ª—å–Ω–∞—è —Å—Ö–µ–º–∞</a></h4>
<pre><code class="language-javascript">// –ü—Å–µ–≤–¥–æ–∫–æ–¥ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–≥–æ –ø—É–ª–∞
const asyncPool = (factory, size) =&gt; {
  const items = [];
  const waitQueue = []; // –û—á–µ—Ä–µ–¥—å –æ–∂–∏–¥–∞—é—â–∏—Ö –∑–∞–ø—Ä–æ—Å–æ–≤

  // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
  for (let i = 0; i &lt; size; i++) {
    items.push(factory());
  }

  return {
    // –ü–æ–ª—É—á–µ–Ω–∏–µ —Å –æ–∂–∏–¥–∞–Ω–∏–µ–º
    async acquire(timeout = 5000) {
      if (items.length &gt; 0) {
        return items.pop();
      }

      // –°–æ–∑–¥–∞—ë–º –ø—Ä–æ–º–∏—Å –¥–ª—è –æ–∂–∏–¥–∞–Ω–∏—è
      return new Promise((resolve, reject) =&gt; {
        const timer = setTimeout(() =&gt; {
          reject(new Error('Timeout waiting for pool item'));
        }, timeout);

        waitQueue.push({ resolve, reject, timer });
      });
    },

    // –í–æ–∑–≤—Ä–∞—Ç –≤ –ø—É–ª
    release(item) {
      if (waitQueue.length &gt; 0) {
        // –ï—Å—Ç—å –æ–∂–∏–¥–∞—é—â–∏–µ - –æ—Ç–¥–∞—ë–º –∏–º —Å—Ä–∞–∑—É
        const { resolve, timer } = waitQueue.shift();
        clearTimeout(timer);
        resolve(item);
      } else {
        // –ù–∏–∫—Ç–æ –Ω–µ –∂–¥—ë—Ç - –≤–æ–∑–≤—Ä–∞—â–∞–µ–º –≤ –ø—É–ª
        items.push(item);
      }
    }
  };
};
</code></pre>
<h3 id="53-–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ-–∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–≥–æ-–ø—É–ª–∞"><a class="header" href="#53-–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ-–∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–≥–æ-–ø—É–ª–∞">5.3 –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–≥–æ –ø—É–ª–∞</a></h3>
<pre><code class="language-javascript">// –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
const connPool = asyncPool(() =&gt; new Connection(), 5);

async function doWork() {
  const conn = await connPool.acquire(); // –ñ–¥—ë–º, –µ—Å–ª–∏ –Ω—É–∂–Ω–æ

  try {
    // –†–∞–±–æ—Ç–∞–µ–º —Å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ–º
    await conn.query('SELECT * FROM users');
  } finally {
    // –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û –≤–æ–∑–≤—Ä–∞—â–∞–µ–º –≤ –ø—É–ª
    connPool.release(conn);
  }
}

// –ó–∞–ø—É—Å–∫ –º–Ω–æ–∂–µ—Å—Ç–≤–∞ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
for (let i = 0; i &lt; 20; i++) {
  doWork().catch(console.error);
}
</code></pre>
<h3 id="54-–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞-–∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö-–ø—É–ª–æ–≤"><a class="header" href="#54-–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞-–∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö-–ø—É–ª–æ–≤">5.4 –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö –ø—É–ª–æ–≤</a></h3>
<ol>
<li><strong>–ö–æ–Ω—Ç—Ä–æ–ª—å —Ä–µ—Å—É—Ä—Å–æ–≤</strong>: –ù–µ –ø—Ä–µ–≤—ã—à–∞–µ—Ç—Å—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä –ø—É–ª–∞</li>
<li><strong>–≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ</strong>: –í—Å–µ —ç–∫–∑–µ–º–ø–ª—è—Ä—ã –ø–æ—Å—Ç–æ—è–Ω–Ω–æ –≤ —Ä–∞–±–æ—Ç–µ</li>
<li><strong>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞–≥—Ä—É–∑–∫–æ–π</strong>: –ï—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–æ–µ throttling —á–µ—Ä–µ–∑ –æ–∂–∏–¥–∞–Ω–∏–µ</li>
<li><strong>–ü—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–æ—Å—Ç—å</strong>: –ì–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏—è –ø–∞–º—è—Ç–∏</li>
</ol>
<p><strong>–í–∞–∂–Ω–æ</strong>: –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ –ø—É–ª—ã —Ä–∞—Å—Å–º–∞—Ç—Ä–∏–≤–∞—é—Ç—Å—è –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–π –ª–µ–∫—Ü–∏–∏ –±–æ–ª–µ–µ –ø–æ–¥—Ä–æ–±–Ω–æ.</p>
<hr />
<h2 id="6-–ö–ª—é—á–µ–≤—ã–µ-–∫–æ–Ω—Ü–µ–ø—Ü–∏–∏-–∏-best-practices"><a class="header" href="#6-–ö–ª—é—á–µ–≤—ã–µ-–∫–æ–Ω—Ü–µ–ø—Ü–∏–∏-–∏-best-practices">6. –ö–ª—é—á–µ–≤—ã–µ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏ –∏ best practices</a></h2>
<h3 id="61-–ö–æ–≥–¥–∞-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å-–ø–∞—Ç—Ç–µ—Ä–Ω-–§–∞–±—Ä–∏–∫–∞"><a class="header" href="#61-–ö–æ–≥–¥–∞-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å-–ø–∞—Ç—Ç–µ—Ä–Ω-–§–∞–±—Ä–∏–∫–∞">6.1 –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–∞—Ç—Ç–µ—Ä–Ω –§–∞–±—Ä–∏–∫–∞?</a></h3>
<p>‚úÖ <strong>–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –§–∞–±—Ä–∏–∫—É –∫–æ–≥–¥–∞</strong>:</p>
<ul>
<li>–õ–æ–≥–∏–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è –æ–±—ä–µ–∫—Ç–∞ —Å–ª–æ–∂–Ω–∞—è</li>
<li>–ù—É–∂–Ω–æ —Å–∫—Ä—ã—Ç—å –¥–µ—Ç–∞–ª–∏ –∫–æ–Ω—Å—Ç—Ä—É–∏—Ä–æ–≤–∞–Ω–∏—è</li>
<li>–°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —É—Å–ª–æ–≤–∏–π –∏–ª–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏</li>
<li>–¢—Ä–µ–±—É–µ—Ç—Å—è —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ–∑–¥–∞–Ω–∏–µ–º</li>
</ul>
<p>‚ùå <strong>–ù–µ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –§–∞–±—Ä–∏–∫—É –∫–æ–≥–¥–∞</strong>:</p>
<ul>
<li>–°–æ–∑–¥–∞–Ω–∏–µ –æ–±—ä–µ–∫—Ç–∞ —Ç—Ä–∏–≤–∏–∞–ª—å–Ω–æ (–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ <code>new</code>)</li>
<li>–≠—Ç–æ –¥–æ–±–∞–≤–ª—è–µ—Ç –Ω–µ–Ω—É–∂–Ω—É—é —Å–ª–æ–∂–Ω–æ—Å—Ç—å</li>
</ul>
<h3 id="62-–ö–æ–≥–¥–∞-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å-–ø–∞—Ç—Ç–µ—Ä–Ω-–ü—É–ª-–æ–±—ä–µ–∫—Ç–æ–≤"><a class="header" href="#62-–ö–æ–≥–¥–∞-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å-–ø–∞—Ç—Ç–µ—Ä–Ω-–ü—É–ª-–æ–±—ä–µ–∫—Ç–æ–≤">6.2 –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–∞—Ç—Ç–µ—Ä–Ω –ü—É–ª –æ–±—ä–µ–∫—Ç–æ–≤?</a></h3>
<p>‚úÖ <strong>–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ü—É–ª –∫–æ–≥–¥–∞</strong>:</p>
<ul>
<li>–°–æ–∑–¥–∞–Ω–∏–µ –æ–±—ä–µ–∫—Ç–æ–≤ –¥–æ—Ä–æ–≥–æ–µ (–ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –ë–î, –±—É—Ñ–µ—Ä—ã)</li>
<li>–û–±—ä–µ–∫—Ç—ã —á–∞—Å—Ç–æ —Å–æ–∑–¥–∞—é—Ç—Å—è –∏ —É–Ω–∏—á—Ç–æ–∂–∞—é—Ç—Å—è</li>
<li>–ù—É–∂–Ω–æ –æ–≥—Ä–∞–Ω–∏—á–∏—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —ç–∫–∑–µ–º–ø–ª—è—Ä–æ–≤</li>
<li>–í–∞–∂–Ω–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∏ —ç–∫–æ–Ω–æ–º–∏—è –ø–∞–º—è—Ç–∏</li>
</ul>
<p>‚ùå <strong>–ù–µ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ü—É–ª –∫–æ–≥–¥–∞</strong>:</p>
<ul>
<li>–û–±—ä–µ–∫—Ç—ã –ª—ë–≥–∫–∏–µ –∏ –±—ã—Å—Ç—Ä–æ —Å–æ–∑–¥–∞—é—Ç—Å—è</li>
<li>–û–±—ä–µ–∫—Ç—ã –∏–º–µ—é—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ —Å–ª–æ–∂–Ω–æ —Å–±—Ä–∞—Å—ã–≤–∞—Ç—å</li>
<li>–î–æ–±–∞–≤–ª—è–µ—Ç –±–æ–ª—å—à–µ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏, —á–µ–º –ø–æ–ª—å–∑—ã</li>
</ul>
<h3 id="63-–û–±—â–∏–µ-—Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏"><a class="header" href="#63-–û–±—â–∏–µ-—Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏">6.3 –û–±—â–∏–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏</a></h3>
<ol>
<li><strong>–ü—Ä–æ—Å—Ç–æ—Ç–∞ –≤ –ø—Ä–∏–∫–ª–∞–¥–Ω–æ–º –∫–æ–¥–µ</strong>: –ò–∑–±–µ–≥–∞–π—Ç–µ –º–µ—Ç–∞–ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è –∏ —Å–ª–æ–∂–Ω–æ–π –º–∞–≥–∏–∏</li>
<li><strong>–ü–ª–∞—Ç—Ñ–æ—Ä–º–µ–Ω–Ω—ã–π vs –ø—Ä–∏–∫–ª–∞–¥–Ω–æ–π</strong>: –°–ª–æ–∂–Ω—ã–µ —Ç–µ—Ö–Ω–∏–∫–∏ –¥–æ–ø—É—Å—Ç–∏–º—ã –≤ –±–∏–±–ª–∏–æ—Ç–µ–∫–∞—Ö, –Ω–æ –Ω–µ –≤ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–µ</li>
<li><strong>–ò–º–µ–Ω–æ–≤–∞–Ω–∏–µ</strong>: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–æ–Ω—è—Ç–Ω—ã–µ –∏–º–µ–Ω–∞ (<code>poolOfConnections</code>, <code>createUser</code>)</li>
<li><strong>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–∞–º–∏</strong>: –í—Å–µ–≥–¥–∞ –≤–æ–∑–≤—Ä–∞—â–∞–π—Ç–µ –æ–±—ä–µ–∫—Ç—ã –≤ –ø—É–ª –ø–æ—Å–ª–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è</li>
<li><strong>–¢–∞–π–º–∞—É—Ç—ã</strong>: –î–æ–±–∞–≤–ª—è–π—Ç–µ —Ç–∞–π–º–∞—É—Ç—ã –≤ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö –ø—É–ª–∞—Ö</li>
<li><strong>–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ</strong>: –ü—É–ª—ã —Ç—Ä–µ–±—É—é—Ç —Ç—â–∞—Ç–µ–ª—å–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è edge cases</li>
</ol>
<hr />
<h2 id="7-–°—Ä–∞–≤–Ω–µ–Ω–∏–µ-–ø–æ–¥—Ö–æ–¥–æ–≤-–∫-–∏–Ω—Å—Ç–∞–Ω—Ü–∏—Ä–æ–≤–∞–Ω–∏—é"><a class="header" href="#7-–°—Ä–∞–≤–Ω–µ–Ω–∏–µ-–ø–æ–¥—Ö–æ–¥–æ–≤-–∫-–∏–Ω—Å—Ç–∞–Ω—Ü–∏—Ä–æ–≤–∞–Ω–∏—é">7. –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –ø–æ–¥—Ö–æ–¥–æ–≤ –∫ –∏–Ω—Å—Ç–∞–Ω—Ü–∏—Ä–æ–≤–∞–Ω–∏—é</a></h2>
<div class="table-wrapper"><table><thead><tr><th>–ü–æ–¥—Ö–æ–¥</th><th>–ü—Ä–æ—Å—Ç–æ—Ç–∞</th><th>–ì–∏–±–∫–æ—Å—Ç—å</th><th>–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å</th><th>–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ</th></tr></thead><tbody>
<tr><td><strong>–ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä</strong></td><td>‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</td><td>‚≠ê‚≠ê</td><td>‚≠ê‚≠ê‚≠ê</td><td>–ü—Ä–æ—Å—Ç—ã–µ –æ–±—ä–µ–∫—Ç—ã</td></tr>
<tr><td><strong>–§–∞–±—Ä–∏–∫–∞-—Ñ—É–Ω–∫—Ü–∏—è</strong></td><td>‚≠ê‚≠ê‚≠ê‚≠ê</td><td>‚≠ê‚≠ê‚≠ê‚≠ê</td><td>‚≠ê‚≠ê‚≠ê</td><td>–°–ª–æ–∂–Ω–∞—è –ª–æ–≥–∏–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è</td></tr>
<tr><td><strong>–°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π –º–µ—Ç–æ–¥</strong></td><td>‚≠ê‚≠ê‚≠ê‚≠ê</td><td>‚≠ê‚≠ê‚≠ê</td><td>‚≠ê‚≠ê‚≠ê</td><td>–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä—ã</td></tr>
<tr><td><strong>–ü—É–ª –æ–±—ä–µ–∫—Ç–æ–≤</strong></td><td>‚≠ê‚≠ê</td><td>‚≠ê‚≠ê‚≠ê‚≠ê</td><td>‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</td><td>–î–æ—Ä–æ–≥–∏–µ —Ä–µ—Å—É—Ä—Å—ã</td></tr>
<tr><td><strong>–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –ø—É–ª</strong></td><td>‚≠ê</td><td>‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</td><td>‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</td><td>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω–æ—Å—Ç—å—é</td></tr>
</tbody></table>
</div>
<hr />
<h2 id="8-–ò—Ç–æ–≥–∏-–∏-–≤—ã–≤–æ–¥—ã"><a class="header" href="#8-–ò—Ç–æ–≥–∏-–∏-–≤—ã–≤–æ–¥—ã">8. –ò—Ç–æ–≥–∏ –∏ –≤—ã–≤–æ–¥—ã</a></h2>
<h3 id="–û—Å–Ω–æ–≤–Ω—ã–µ-takeaways"><a class="header" href="#–û—Å–Ω–æ–≤–Ω—ã–µ-takeaways">–û—Å–Ω–æ–≤–Ω—ã–µ takeaways:</a></h3>
<ol>
<li><strong>–ò–Ω—Å—Ç–∞–Ω—Ü–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞</strong>, –Ω–æ –Ω–µ –∑–∞–∫–∞–Ω—á–∏–≤–∞–µ—Ç—Å—è –∏–º</li>
<li><strong>–§–∞–±—Ä–∏–∫–∏</strong> –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—é—Ç –≥–∏–±–∫–æ—Å—Ç—å –≤ —Å–æ–∑–¥–∞–Ω–∏–∏ –æ–±—ä–µ–∫—Ç–æ–≤ —Ä–∞–∑–ª–∏—á–Ω—ã–º–∏ —Å–ø–æ—Å–æ–±–∞–º–∏</li>
<li><strong>–£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–∞—è —Ñ–∞–±—Ä–∏–∫–∞</strong> <code>factory(Class)</code> –º–æ–∂–µ—Ç –ø—Ä–µ–≤—Ä–∞—Ç–∏—Ç—å –ª—é–±–æ–π –∫–ª–∞—Å—Å –≤ —Ñ–∞–±—Ä–∏—á–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é</li>
<li><strong>–ü—É–ª –æ–±—ä–µ–∫—Ç–æ–≤</strong> —ç–∫–æ–Ω–æ–º–∏—Ç –≤—Ä–µ–º—è –∏ —Ä–µ—Å—É—Ä—Å—ã —á–µ—Ä–µ–∑ –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ</li>
<li><strong>–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –ø—É–ª–∞</strong> (min, normal, max) –∫—Ä–∏—Ç–∏—á–Ω—ã –¥–ª—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ä–µ—Å—É—Ä—Å–∞–º–∏</li>
<li><strong>–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ –ø—É–ª—ã</strong> —Ä–µ—à–∞—é—Ç –ø—Ä–æ–±–ª–µ–º—É –æ–∂–∏–¥–∞–Ω–∏—è –∏ –∫–æ–Ω—Ç—Ä–æ–ª—è –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω–æ—Å—Ç–∏</li>
<li><strong>–ü—Ä–æ—Å—Ç–æ—Ç–∞ –≤–∞–∂–Ω–µ–µ –∏–∑–æ—â—Ä—ë–Ω–Ω–æ—Å—Ç–∏</strong> –≤ –ø—Ä–∏–∫–ª–∞–¥–Ω–æ–º –∫–æ–¥–µ</li>
</ol>
<h3 id="–ß—Ç–æ-–¥–∞–ª—å—à–µ-1"><a class="header" href="#–ß—Ç–æ-–¥–∞–ª—å—à–µ-1">–ß—Ç–æ –¥–∞–ª—å—à–µ?</a></h3>
<ul>
<li>–ò–∑—É—á–∏—Ç–µ <strong>–∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ –ø—É–ª—ã</strong> –≤ —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ–π –ª–µ–∫—Ü–∏–∏</li>
<li>–†–∞—Å—Å–º–æ—Ç—Ä–∏—Ç–µ –ø—Ä–∏–º–µ—Ä—ã –ø—É–ª–æ–≤ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π –∫ –ë–î</li>
<li>–ò–∑—É—á–∏—Ç–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∂–∏–∑–Ω–µ–Ω–Ω—ã–º —Ü–∏–∫–ª–æ–º –æ–±—ä–µ–∫—Ç–æ–≤</li>
<li>–ü–æ–∑–Ω–∞–∫–æ–º—å—Ç–µ—Å—å —Å disposable-–ø–∞—Ç—Ç–µ—Ä–Ω–∞–º–∏ –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –æ—á–∏—Å—Ç–∫–∏ —Ä–µ—Å—É—Ä—Å–æ–≤</li>
</ul>
<hr />
<h2 id="9-–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ-–ø—Ä–∏–º–µ—Ä—ã"><a class="header" href="#9-–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ-–ø—Ä–∏–º–µ—Ä—ã">9. –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø—Ä–∏–º–µ—Ä—ã</a></h2>
<h3 id="–ü—Ä–∏–º–µ—Ä-–ü–æ–ª–Ω–∞—è-—Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è-–ø—Ä–æ–¥–≤–∏–Ω—É—Ç–æ–≥–æ-–ø—É–ª–∞"><a class="header" href="#–ü—Ä–∏–º–µ—Ä-–ü–æ–ª–Ω–∞—è-—Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è-–ø—Ä–æ–¥–≤–∏–Ω—É—Ç–æ–≥–æ-–ø—É–ª–∞">–ü—Ä–∏–º–µ—Ä: –ü–æ–ª–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–æ–¥–≤–∏–Ω—É—Ç–æ–≥–æ –ø—É–ª–∞</a></h3>
<pre><code class="language-javascript">class AdvancedPool {
  constructor(factory, options = {}) {
    this.factory = factory;
    this.min = options.min || 5;
    this.normal = options.normal || 10;
    this.max = options.max || 15;
    this.items = [];
    this.allocated = 0;

    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
    this._initialize();
  }

  _initialize() {
    for (let i = 0; i &lt; this.normal; i++) {
      this.items.push(this.factory());
    }
  }

  acquire() {
    if (this.items.length &gt; 0) {
      this.allocated++;
      return this.items.pop();
    }

    if (this.allocated &lt; this.max) {
      this.allocated++;
      console.log(`Creating new instance. Total allocated: ${this.allocated}`);
      return this.factory();
    }

    throw new Error(`Pool exhausted. Max limit (${this.max}) reached.`);
  }

  release(item) {
    this.allocated--;

    if (this.items.length &lt; this.max) {
      this.items.push(item);
    } else {
      console.log('Pool at max capacity, discarding item');
    }
  }

  get size() {
    return this.items.length;
  }

  get totalAllocated() {
    return this.allocated;
  }
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
const pool = new AdvancedPool(
  () =&gt; new Uint32Array(1024),
  { min: 5, normal: 10, max: 20 }
);

const items = [];

// –ó–∞–±–∏—Ä–∞–µ–º –±–æ–ª—å—à–µ –º–∞–∫—Å–∏–º—É–º–∞
try {
  for (let i = 0; i &lt; 25; i++) {
    items.push(pool.acquire());
  }
} catch (e) {
  console.error(e.message); // Pool exhausted
}

// –í–æ–∑–≤—Ä–∞—â–∞–µ–º
items.forEach(item =&gt; pool.release(item));
console.log(`Pool size after release: ${pool.size}`);
</code></pre>
<h3 id="–ü—Ä–∏–º–µ—Ä-–§–∞–±—Ä–∏–∫–∞-—Å-–≤–∞–ª–∏–¥–∞—Ü–∏–µ–π"><a class="header" href="#–ü—Ä–∏–º–µ—Ä-–§–∞–±—Ä–∏–∫–∞-—Å-–≤–∞–ª–∏–¥–∞—Ü–∏–µ–π">–ü—Ä–∏–º–µ—Ä: –§–∞–±—Ä–∏–∫–∞ —Å –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π</a></h3>
<pre><code class="language-javascript">class UserFactory {
  static create(userData) {
    // –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
    if (!userData.email || !userData.name) {
      throw new Error('Email and name are required');
    }

    // –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è
    const normalizedData = {
      email: userData.email.toLowerCase().trim(),
      name: userData.name.trim(),
      createdAt: new Date()
    };

    // –°–æ–∑–¥–∞–Ω–∏–µ —Å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π –ª–æ–≥–∏–∫–æ–π
    return new User(normalizedData);
  }
}

class User {
  constructor(data) {
    Object.assign(this, data);
  }
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
const user = UserFactory.create({
  email: '  JOHN@EXAMPLE.COM  ',
  name: '  John Doe  '
});

console.log(user.email); // john@example.com
console.log(user.name);  // John Doe
</code></pre>
<hr />
<h2 id="–ì–ª–æ—Å—Å–∞—Ä–∏–π-1"><a class="header" href="#–ì–ª–æ—Å—Å–∞—Ä–∏–π-1">–ì–ª–æ—Å—Å–∞—Ä–∏–π</a></h2>
<ul>
<li><strong>–ò–Ω—Å—Ç–∞–Ω—Ü–∏—Ä–æ–≤–∞–Ω–∏–µ (Instantiation)</strong> - –ø—Ä–æ—Ü–µ—Å—Å —Å–æ–∑–¥–∞–Ω–∏—è —ç–∫–∑–µ–º–ø–ª—è—Ä–∞ –æ–±—ä–µ–∫—Ç–∞</li>
<li><strong>–§–∞–±—Ä–∏–∫–∞ (Factory)</strong> - —Ñ—É–Ω–∫—Ü–∏—è –∏–ª–∏ –º–µ—Ç–æ–¥ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –æ–±—ä–µ–∫—Ç–æ–≤</li>
<li><strong>–ü—É–ª –æ–±—ä–µ–∫—Ç–æ–≤ (Object Pool)</strong> - –∫–æ–ª–ª–µ–∫—Ü–∏—è –≥–æ—Ç–æ–≤—ã—Ö —ç–∫–∑–µ–º–ø–ª—è—Ä–æ–≤ –¥–ª—è –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è</li>
<li><strong>–ó–∞–º—ã–∫–∞–Ω–∏–µ (Closure)</strong> - —Ñ—É–Ω–∫—Ü–∏—è, –∑–∞—Ö–≤–∞—Ç—ã–≤–∞—é—â–∞—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∏–∑ –≤–Ω–µ—à–Ω–µ–π –æ–±–ª–∞—Å—Ç–∏ –≤–∏–¥–∏–º–æ—Å—Ç–∏</li>
<li><strong>IIFE</strong> - Immediately Invoked Function Expression (–Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ –≤—ã–∑—ã–≤–∞–µ–º–∞—è —Ñ—É–Ω–∫—Ü–∏—è)</li>
<li><strong>–ú–µ—Ç–∞–ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ</strong> - —Ç–µ—Ö–Ω–∏–∫–∏ —Å–æ–∑–¥–∞–Ω–∏—è –æ–±—ä–µ–∫—Ç–æ–≤ —á–µ—Ä–µ–∑ –º–∞–Ω–∏–ø—É–ª—è—Ü–∏–∏ —Å –ø—Ä–æ—Ç–æ—Ç–∏–ø–∞–º–∏ –∏ –¥–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä–∞–º–∏</li>
<li><strong>Mixins (–ø—Ä–∏–º–µ—Å–∏)</strong> - —Å–ø–æ—Å–æ–± –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏ —á–µ—Ä–µ–∑ –∫–æ–º–ø–æ–∑–∏—Ü–∏—é</li>
</ul>
<hr />
<p><strong>–°–ª–µ–¥—É—é—â–∞—è –ª–µ–∫—Ü–∏—è</strong>: –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ –ø—É–ª—ã –æ–±—ä–µ–∫—Ç–æ–≤ —Å Promise –∏ async/await</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="–î–µ–∫–æ–º–ø–æ–∑–∏—Ü–∏—è-–ò–Ω—Å—Ç–∞–Ω—Ü–∏—Ä–æ–≤–∞–Ω–∏–µ-–ò–Ω–∫–∞–ø—Å—É–ª—è—Ü–∏—è-–ê–≥—Ä–µ–≥–∞—Ü–∏—è-–ö–æ–º–ø–æ–∑–∏—Ü–∏—è-–ê—Å—Å–æ—Ü–∏–∞—Ü–∏—è-–î–µ–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ"><a class="header" href="#–î–µ–∫–æ–º–ø–æ–∑–∏—Ü–∏—è-–ò–Ω—Å—Ç–∞–Ω—Ü–∏—Ä–æ–≤–∞–Ω–∏–µ-–ò–Ω–∫–∞–ø—Å—É–ª—è—Ü–∏—è-–ê–≥—Ä–µ–≥–∞—Ü–∏—è-–ö–æ–º–ø–æ–∑–∏—Ü–∏—è-–ê—Å—Å–æ—Ü–∏–∞—Ü–∏—è-–î–µ–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ">–î–µ–∫–æ–º–ø–æ–∑–∏—Ü–∏—è, –ò–Ω—Å—Ç–∞–Ω—Ü–∏—Ä–æ–≤–∞–Ω–∏–µ, –ò–Ω–∫–∞–ø—Å—É–ª—è—Ü–∏—è, –ê–≥—Ä–µ–≥–∞—Ü–∏—è, –ö–æ–º–ø–æ–∑–∏—Ü–∏—è, –ê—Å—Å–æ—Ü–∏–∞—Ü–∏—è, –î–µ–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ</a></h1>
<h2 id="–û–±–∑–æ—Ä-7"><a class="header" href="#–û–±–∑–æ—Ä-7">–û–±–∑–æ—Ä</a></h2>
<p>–≠—Ç–∞ –ª–µ–∫—Ü–∏—è –ø–æ—Å–≤—è—â–µ–Ω–∞ —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–∞–ª—å–Ω—ã–º –ø–æ–Ω—è—Ç–∏—è–º –æ–±—ä–µ–∫—Ç–Ω–æ-–æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ–º–æ–≥–∞—é—Ç —Ä–∞–∑–¥–µ–ª—è—Ç—å –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–∏ –Ω–∞ —á–∞—Å—Ç–∏, –¥–µ–ª–∞—è –∏—Ö –º–µ–Ω–µ–µ —Å–ª–æ–∂–Ω—ã–º–∏ –∏ –±–æ–ª–µ–µ –≥–∏–±–∫–∏–º–∏ –≤ –∫–æ–º–ø–æ–Ω–æ–≤–∫–µ. –ú—ã —Ä–∞—Å—Å–º–æ—Ç—Ä–∏–º —Ä–∞–∑–ª–∏—á–Ω—ã–µ —Å–ø–æ—Å–æ–±—ã —Å–≤—è–∑—ã–≤–∞–Ω–∏—è –æ–±—ä–µ–∫—Ç–æ–≤ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∏—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏, —á—Ç–æ —è–≤–ª—è–µ—Ç—Å—è –∫–ª—é—á–µ–≤—ã–º –Ω–∞–≤—ã–∫–æ–º –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º—ã—Ö –∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π.</p>
<p><strong>–û—Å–Ω–æ–≤–Ω—ã–µ —Ç–µ–º—ã:</strong></p>
<ul>
<li>–î–µ–∫–æ–º–ø–æ–∑–∏—Ü–∏—è —Å–ª–æ–∂–Ω—ã—Ö –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–π</li>
<li>–°–ø–æ—Å–æ–±—ã —Å–≤—è–∑—ã–≤–∞–Ω–∏—è –æ–±—ä–µ–∫—Ç–æ–≤ (–∞—Å—Å–æ—Ü–∏–∞—Ü–∏—è, –∞–≥—Ä–µ–≥–∞—Ü–∏—è, –∫–æ–º–ø–æ–∑–∏—Ü–∏—è)</li>
<li>–ò–Ω—Å—Ç–∞–Ω—Ü–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –≤–ª–∞–¥–µ–Ω–∏–µ –æ–±—ä–µ–∫—Ç–∞–º–∏</li>
<li>–î–µ–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏</li>
<li>–ò–Ω–∫–∞–ø—Å—É–ª—è—Ü–∏—è –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã</li>
</ul>
<hr />
<h2 id="1-–ò–Ω—Å—Ç–∞–Ω—Ü–∏—Ä–æ–≤–∞–Ω–∏–µ-–∏-–ê—Å—Å–æ—Ü–∏–∞—Ü–∏—è"><a class="header" href="#1-–ò–Ω—Å—Ç–∞–Ω—Ü–∏—Ä–æ–≤–∞–Ω–∏–µ-–∏-–ê—Å—Å–æ—Ü–∏–∞—Ü–∏—è">1. –ò–Ω—Å—Ç–∞–Ω—Ü–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –ê—Å—Å–æ—Ü–∏–∞—Ü–∏—è</a></h2>
<h3 id="–ö–æ–Ω—Ü–µ–ø—Ü–∏—è-1"><a class="header" href="#–ö–æ–Ω—Ü–µ–ø—Ü–∏—è-1">–ö–æ–Ω—Ü–µ–ø—Ü–∏—è</a></h3>
<p><strong>–ò–Ω—Å—Ç–∞–Ω—Ü–∏—Ä–æ–≤–∞–Ω–∏–µ</strong> ‚Äî —ç—Ç–æ –ø—Ä–æ—Ü–µ—Å—Å —Å–æ–∑–¥–∞–Ω–∏—è —ç–∫–∑–µ–º–ø–ª—è—Ä–æ–≤ –æ–±—ä–µ–∫—Ç–æ–≤ –∏–∑ –∫–ª–∞—Å—Å–æ–≤ –∏–ª–∏ —Ñ–∞–±—Ä–∏—á–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π. –ü—Ä–∏ –∏–Ω—Å—Ç–∞–Ω—Ü–∏—Ä–æ–≤–∞–Ω–∏–∏ –º—ã —Å–≤—è–∑—ã–≤–∞–µ–º —Ä–∞–∑–ª–∏—á–Ω—ã–µ –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–∏ –¥—Ä—É–≥ —Å –¥—Ä—É–≥–æ–º.</p>
<p><strong>–ê—Å—Å–æ—Ü–∏–∞—Ü–∏—è</strong> ‚Äî —ç—Ç–æ —Å–∞–º—ã–π —Å–ª–∞–±—ã–π —Ç–∏–ø —Å–≤—è–∑–∏ –º–µ–∂–¥—É –æ–±—ä–µ–∫—Ç–∞–º–∏, –∫–æ–≥–¥–∞ –æ–Ω–∏ –∑–Ω–∞—é—Ç –¥—Ä—É–≥ –æ –¥—Ä—É–≥–µ, –Ω–æ –Ω–µ –≤–ª–∞–¥–µ—é—Ç –¥—Ä—É–≥ –¥—Ä—É–≥–æ–º. –≠—Ç–æ –Ω–∞–∏–º–µ–Ω–µ–µ –∂–µ–ª–∞—Ç–µ–ª—å–Ω—ã–π —Å–ø–æ—Å–æ–± —Å–≤—è–∑—ã–≤–∞–Ω–∏—è –æ–±—ä–µ–∫—Ç–æ–≤.</p>
<h3 id="–ü—Ä–æ–±–ª–µ–º–∞-–≤–Ω–µ—à–Ω–µ–π-–∞—Å—Å–æ—Ü–∏–∞—Ü–∏–∏"><a class="header" href="#–ü—Ä–æ–±–ª–µ–º–∞-–≤–Ω–µ—à–Ω–µ–π-–∞—Å—Å–æ—Ü–∏–∞—Ü–∏–∏">–ü—Ä–æ–±–ª–µ–º–∞ –≤–Ω–µ—à–Ω–µ–π –∞—Å—Å–æ—Ü–∏–∞—Ü–∏–∏</a></h3>
<p>–ö–æ–≥–¥–∞ –º—ã —Å–≤—è–∑—ã–≤–∞–µ–º –æ–±—ä–µ–∫—Ç—ã –∏–∑–≤–Ω–µ, –º—ã —Å–æ–∑–¥–∞–µ–º –∂–µ—Å—Ç–∫—É—é —Å–≤—è–∑—å –∏ –Ω–∞—Ä—É—à–∞–µ–º –∏–Ω–∫–∞–ø—Å—É–ª—è—Ü–∏—é.</p>
<h4 id="–ü—Ä–∏–º–µ—Ä-–ü–ª–æ—Ö–∞—è-–ø—Ä–∞–∫—Ç–∏–∫–∞-–≤–Ω–µ—à–Ω—è—è-–∞—Å—Å–æ—Ü–∏–∞—Ü–∏—è"><a class="header" href="#–ü—Ä–∏–º–µ—Ä-–ü–ª–æ—Ö–∞—è-–ø—Ä–∞–∫—Ç–∏–∫–∞-–≤–Ω–µ—à–Ω—è—è-–∞—Å—Å–æ—Ü–∏–∞—Ü–∏—è">–ü—Ä–∏–º–µ—Ä: –ü–ª–æ—Ö–∞—è –ø—Ä–∞–∫—Ç–∏–∫–∞ (–≤–Ω–µ—à–Ω—è—è –∞—Å—Å–æ—Ü–∏–∞—Ü–∏—è)</a></h4>
<pre><code class="language-javascript">// –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫–ª–∞—Å—Å–∞ Logger
class Logger {
  constructor() {
    this.stream = null; // –°—Ç—Ä–∏–º –±—É–¥–µ—Ç –ø—Ä–∏—Å–≤–æ–µ–Ω –∏–∑–≤–Ω–µ
  }

  log(message) {
    if (this.stream) {
      this.stream.write(message + '\n');
    }
  }
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ - –ü–õ–û–•–û–ô –°–ü–û–°–û–ë
const fs = require('fs');
const logger = new Logger();

// –í–Ω–µ—à–Ω—è—è –∞—Å—Å–æ—Ü–∏–∞—Ü–∏—è - –ø—Ä–∏—Å–≤–∞–∏–≤–∞–Ω–∏–µ —Å–≤–æ–π—Å—Ç–≤–∞ –∏–∑–≤–Ω–µ
logger.stream = fs.createWriteStream('./app.log');

logger.log('–°–æ–æ–±—â–µ–Ω–∏–µ –≤ –ª–æ–≥');
</code></pre>
<p><strong>–ü—Ä–æ–±–ª–µ–º—ã —ç—Ç–æ–≥–æ –ø–æ–¥—Ö–æ–¥–∞:</strong></p>
<ul>
<li>–ù–∞—Ä—É—à–∞–µ—Ç—Å—è –∏–Ω–∫–∞–ø—Å—É–ª—è—Ü–∏—è ‚Äî –≤–Ω—É—Ç—Ä–µ–Ω–Ω—è—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ Logger –¥–æ—Å—Ç—É–ø–Ω–∞ –∏–∑–≤–Ω–µ</li>
<li>–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏–º–µ—Å—å (mixin), —á—Ç–æ —Å–æ–∑–¥–∞–µ—Ç –Ω–µ—è–≤–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏</li>
<li>–°–ª–æ–∂–Ω–æ –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä–æ–≤–∞—Ç—å –≤–∞–ª–∏–¥–Ω–æ—Å—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏—è –æ–±—ä–µ–∫—Ç–∞</li>
<li>–ù–µ—Ç –≥–∞—Ä–∞–Ω—Ç–∏–π, —á—Ç–æ stream –±—É–¥–µ—Ç —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ</li>
</ul>
<hr />
<h2 id="2-–ê–≥—Ä–µ–≥–∞—Ü–∏—è"><a class="header" href="#2-–ê–≥—Ä–µ–≥–∞—Ü–∏—è">2. –ê–≥—Ä–µ–≥–∞—Ü–∏—è</a></h2>
<h3 id="–ö–æ–Ω—Ü–µ–ø—Ü–∏—è-2"><a class="header" href="#–ö–æ–Ω—Ü–µ–ø—Ü–∏—è-2">–ö–æ–Ω—Ü–µ–ø—Ü–∏—è</a></h3>
<p><strong>–ê–≥—Ä–µ–≥–∞—Ü–∏—è</strong> ‚Äî —ç—Ç–æ —Å–ø–æ—Å–æ–± —Å–≤—è–∑—ã–≤–∞–Ω–∏—è –æ–±—ä–µ–∫—Ç–æ–≤, –ø—Ä–∏ –∫–æ—Ç–æ—Ä–æ–º –æ–¥–∏–Ω –æ–±—ä–µ–∫—Ç —Å–æ–¥–µ—Ä–∂–∏—Ç —Å—Å—ã–ª–∫—É –Ω–∞ –¥—Ä—É–≥–æ–π, –Ω–æ <strong>–Ω–µ –≤–ª–∞–¥–µ–µ—Ç</strong> –∏–º –∏ –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ –µ–≥–æ –∂–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª. –û–±—ä–µ–∫—Ç –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è –∏–∑–≤–Ω–µ (–æ–±—ã—á–Ω–æ —á–µ—Ä–µ–∑ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –∏–ª–∏ —Å–µ—Ç—Ç–µ—Ä) –∏ –º–æ–∂–µ—Ç —Å—É—â–µ—Å—Ç–≤–æ–≤–∞—Ç—å –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ.</p>
<h3 id="–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏-–∞–≥—Ä–µ–≥–∞—Ü–∏–∏"><a class="header" href="#–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏-–∞–≥—Ä–µ–≥–∞—Ü–∏–∏">–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ –∞–≥—Ä–µ–≥–∞—Ü–∏–∏</a></h3>
<ul>
<li>–û–±—ä–µ–∫—Ç –ø–æ–ª—É—á–∞–µ—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –∏–∑–≤–Ω–µ</li>
<li>–ù–µ –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ —Å–æ–∑–¥–∞–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏</li>
<li>–ù–µ –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ —É–Ω–∏—á—Ç–æ–∂–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏</li>
<li>–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –º–æ–∂–µ—Ç –±—ã—Ç—å —Ä–∞–∑–¥–µ–ª–µ–Ω–∞ –º–µ–∂–¥—É –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ –æ–±—ä–µ–∫—Ç–∞–º–∏</li>
<li>–û–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç —Å–ª–∞–±—É—é —Å–≤—è–∑–∞–Ω–Ω–æ—Å—Ç—å (loose coupling)</li>
</ul>
<h3 id="–ü—Ä–∏–º–µ—Ä-–ê–≥—Ä–µ–≥–∞—Ü–∏—è-—Å-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º-–∫–ª–∞—Å—Å–æ–≤"><a class="header" href="#–ü—Ä–∏–º–µ—Ä-–ê–≥—Ä–µ–≥–∞—Ü–∏—è-—Å-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º-–∫–ª–∞—Å—Å–æ–≤">–ü—Ä–∏–º–µ—Ä: –ê–≥—Ä–µ–≥–∞—Ü–∏—è —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –∫–ª–∞—Å—Å–æ–≤</a></h3>
<pre><code class="language-javascript">const fs = require('fs');

// Logger –ø–æ–ª—É—á–∞–µ—Ç stream –∏–∑–≤–Ω–µ –∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –µ–≥–æ
class Logger {
  constructor(stream) {
    this.stream = stream; // –°–æ—Ö—Ä–∞–Ω—è–µ–º —Å—Å—ã–ª–∫—É –Ω–∞ –ø–µ—Ä–µ–¥–∞–Ω–Ω—ã–π stream
  }

  log(message) {
    this.stream.write(message + '\n');
  }
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
const outputStream = fs.createWriteStream('./app.log');
const logger = new Logger(outputStream);

logger.log('–ü–µ—Ä–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ');
logger.log('–í—Ç–æ—Ä–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ');

// Logger –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ –∑–∞–∫—Ä—ã—Ç–∏–µ stream
// –≠—Ç–æ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å —Å–¥–µ–ª–∞–Ω–æ –≤–Ω–µ—à–Ω–∏–º –∫–æ–¥–æ–º
outputStream.end();
</code></pre>
<p><strong>–ö–ª—é—á–µ–≤—ã–µ –º–æ–º–µ–Ω—Ç—ã:</strong></p>
<ul>
<li><code>Logger</code> –∑–Ω–∞–µ—Ç –æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ <code>stream</code> (–º–µ—Ç–æ–¥—ã <code>write</code>, <code>end</code> –∏ —Ç.–¥.)</li>
<li><code>stream</code> –Ω–∏—á–µ–≥–æ –Ω–µ –∑–Ω–∞–µ—Ç –æ <code>Logger</code></li>
<li><code>Logger</code> <strong>–Ω–µ —è–≤–ª—è–µ—Ç—Å—è –≤–ª–∞–¥–µ–ª—å—Ü–µ–º</strong> stream</li>
<li>–í—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –∂–∏–∑–Ω–µ–Ω–Ω–æ–≥–æ —Ü–∏–∫–ª–∞ stream (–æ—Ç–∫—Ä—ã—Ç–∏–µ, –∑–∞–∫—Ä—ã—Ç–∏–µ, —É–¥–∞–ª–µ–Ω–∏–µ —Ñ–∞–π–ª–∞) –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –≤–Ω–µ—à–Ω–∏–º –∫–æ–¥–æ–º</li>
<li><code>Logger</code> –∏–º–µ–µ—Ç —Ç–æ–ª—å–∫–æ –æ–¥–Ω—É –æ–±—è–∑–∞–Ω–Ω–æ—Å—Ç—å ‚Äî –ø–∏—Å–∞—Ç—å –≤ –ø–µ—Ä–µ–¥–∞–Ω–Ω—ã–π stream</li>
</ul>
<h3 id="–ü—Ä–∏–º–µ—Ä-–ê–≥—Ä–µ–≥–∞—Ü–∏—è-—á–µ—Ä–µ–∑-–∑–∞–º—ã–∫–∞–Ω–∏–µ"><a class="header" href="#–ü—Ä–∏–º–µ—Ä-–ê–≥—Ä–µ–≥–∞—Ü–∏—è-—á–µ—Ä–µ–∑-–∑–∞–º—ã–∫–∞–Ω–∏–µ">–ü—Ä–∏–º–µ—Ä: –ê–≥—Ä–µ–≥–∞—Ü–∏—è —á–µ—Ä–µ–∑ –∑–∞–º—ã–∫–∞–Ω–∏–µ</a></h3>
<pre><code class="language-javascript">const fs = require('fs');

// –§–∞–±—Ä–∏—á–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è logger
function createLogger(stream) {
  // stream –ø–æ–ø–∞–¥–∞–µ—Ç –≤ –∑–∞–º—ã–∫–∞–Ω–∏–µ
  return {
    log(message) {
      stream.write(message + '\n');
    }
  };
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
const outputStream = fs.createWriteStream('./app.log');
const logger = createLogger(outputStream);

logger.log('–°–æ–æ–±—â–µ–Ω–∏–µ —á–µ—Ä–µ–∑ –∑–∞–º—ã–∫–∞–Ω–∏–µ');

// –ö–∞–∂–¥—ã–π –≤—ã–∑–æ–≤ createLogger —Å–æ–∑–¥–∞–µ—Ç –Ω–æ–≤—ã–π —ç–∫–∑–µ–º–ø–ª—è—Ä –æ–±—ä–µ–∫—Ç–∞,
// –∑–∞–º–∫–Ω—É—Ç—ã–π –Ω–∞ –ø–µ—Ä–µ–¥–∞–Ω–Ω—ã–π stream
const anotherLogger = createLogger(outputStream);
anotherLogger.log('–î—Ä—É–≥–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ');

outputStream.end();
</code></pre>
<p><strong>–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–≥–æ –ø–æ–¥—Ö–æ–¥–∞:</strong></p>
<ul>
<li>–ù–µ—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –≤ –∫–ª—é—á–µ–≤–æ–º —Å–ª–æ–≤–µ <code>class</code></li>
<li>Stream –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–æ —Å–∫—Ä—ã—Ç –≤ –∑–∞–º—ã–∫–∞–Ω–∏–∏</li>
<li>–ë–æ–ª–µ–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π —Å—Ç–∏–ª—å –∫–æ–¥–∞</li>
<li>–õ–µ–≥–∫–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å, –ø–µ—Ä–µ–¥–∞–≤–∞—è mock-–æ–±—ä–µ–∫—Ç—ã</li>
</ul>
<hr />
<h2 id="3-–ö–æ–º–ø–æ–∑–∏—Ü–∏—è"><a class="header" href="#3-–ö–æ–º–ø–æ–∑–∏—Ü–∏—è">3. –ö–æ–º–ø–æ–∑–∏—Ü–∏—è</a></h2>
<h3 id="–ö–æ–Ω—Ü–µ–ø—Ü–∏—è-3"><a class="header" href="#–ö–æ–Ω—Ü–µ–ø—Ü–∏—è-3">–ö–æ–Ω—Ü–µ–ø—Ü–∏—è</a></h3>
<p><strong>–ö–æ–º–ø–æ–∑–∏—Ü–∏—è</strong> ‚Äî —ç—Ç–æ —Å–ø–æ—Å–æ–± —Å–≤—è–∑—ã–≤–∞–Ω–∏—è –æ–±—ä–µ–∫—Ç–æ–≤, –ø—Ä–∏ –∫–æ—Ç–æ—Ä–æ–º –æ–¥–∏–Ω –æ–±—ä–µ–∫—Ç <strong>—Å–æ–∑–¥–∞–µ—Ç</strong> –∏ <strong>–≤–ª–∞–¥–µ–µ—Ç</strong> –¥—Ä—É–≥–∏–º –æ–±—ä–µ–∫—Ç–æ–º. –í–ª–∞–¥–µ–ª–µ—Ü –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ –ø–æ–ª–Ω—ã–π –∂–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª –≤–ª–æ–∂–µ–Ω–Ω–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞, –≤–∫–ª—é—á–∞—è –µ–≥–æ —Å–æ–∑–¥–∞–Ω–∏–µ –∏ —É–Ω–∏—á—Ç–æ–∂–µ–Ω–∏–µ.</p>
<h3 id="–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏-–∫–æ–º–ø–æ–∑–∏—Ü–∏–∏"><a class="header" href="#–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏-–∫–æ–º–ø–æ–∑–∏—Ü–∏–∏">–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ –∫–æ–º–ø–æ–∑–∏—Ü–∏–∏</a></h3>
<ul>
<li>–û–±—ä–µ–∫—Ç —Å–æ–∑–¥–∞–µ—Ç —Å–≤–æ–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –≤–Ω—É—Ç—Ä–∏ —Å–µ–±—è</li>
<li>–ü–æ–ª–Ω–æ—Å—Ç—å—é –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ –∂–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π</li>
<li>–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –Ω–µ –º–æ–∂–µ—Ç —Å—É—â–µ—Å—Ç–≤–æ–≤–∞—Ç—å –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç –≤–ª–∞–¥–µ–ª—å—Ü–∞</li>
<li>–û–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç —Å–∏–ª—å–Ω—É—é —Å–≤—è–∑–∞–Ω–Ω–æ—Å—Ç—å, –Ω–æ —É–ø—Ä–æ—â–∞–µ—Ç —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ</li>
</ul>
<h3 id="–ü—Ä–∏–º–µ—Ä-–ö–æ–º–ø–æ–∑–∏—Ü–∏—è-—Å-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º-–∫–ª–∞—Å—Å–æ–≤"><a class="header" href="#–ü—Ä–∏–º–µ—Ä-–ö–æ–º–ø–æ–∑–∏—Ü–∏—è-—Å-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º-–∫–ª–∞—Å—Å–æ–≤">–ü—Ä–∏–º–µ—Ä: –ö–æ–º–ø–æ–∑–∏—Ü–∏—è —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –∫–ª–∞—Å—Å–æ–≤</a></h3>
<pre><code class="language-javascript">const fs = require('fs');

class Logger {
  constructor(filename) {
    // Logger –°–ê–ú —Å–æ–∑–¥–∞–µ—Ç stream –≤–Ω—É—Ç—Ä–∏
    this.stream = fs.createWriteStream(filename);
    this.filename = filename;
  }

  log(message) {
    this.stream.write(message + '\n');
  }

  // Logger –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ —É–Ω–∏—á—Ç–æ–∂–µ–Ω–∏–µ stream
  close() {
    this.stream.end();
  }

  // –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –º–µ—Ç–æ–¥—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
  destroy() {
    this.close();
    fs.unlinkSync(this.filename); // –£–¥–∞–ª–µ–Ω–∏–µ —Ñ–∞–π–ª–∞
  }
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
const logger = new Logger('./app.log');
logger.log('–°–æ–æ–±—â–µ–Ω–∏–µ');
logger.log('–î—Ä—É–≥–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ');

// Logger –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ –∑–∞–∫—Ä—ã—Ç–∏–µ stream
logger.close();
</code></pre>
<p><strong>–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –∫–æ–º–ø–æ–∑–∏—Ü–∏–∏:</strong></p>
<ul>
<li>–ü–æ–ª–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å –Ω–∞–¥ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏</li>
<li>–ì–∞—Ä–∞–Ω—Ç–∏—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥–æ —Å–æ–∑–¥–∞–Ω–∏—è –∏ —É–Ω–∏—á—Ç–æ–∂–µ–Ω–∏—è</li>
<li>–£–ø—Ä–æ—â–µ–Ω–∏–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è ‚Äî –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –Ω–µ –Ω—É–∂–Ω–æ —Å–æ–∑–¥–∞–≤–∞—Ç—å stream</li>
</ul>
<p><strong>–ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏:</strong></p>
<ul>
<li>–ú–µ–Ω—å—à–∞—è –≥–∏–±–∫–æ—Å—Ç—å</li>
<li>–°–ª–æ–∂–Ω–µ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å (–Ω—É–∂–Ω–æ –º–æ–∫–∏—Ä–æ–≤–∞—Ç—å —Ñ–∞–π–ª–æ–≤—É—é —Å–∏—Å—Ç–µ–º—É)</li>
<li>–ñ–µ—Å—Ç–∫–∞—è —Å–≤—è–∑—å —Å –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–µ–π</li>
</ul>
<h3 id="–ü—Ä–∏–º–µ—Ä-–ö–æ–º–ø–æ–∑–∏—Ü–∏—è-—á–µ—Ä–µ–∑-–∑–∞–º—ã–∫–∞–Ω–∏–µ"><a class="header" href="#–ü—Ä–∏–º–µ—Ä-–ö–æ–º–ø–æ–∑–∏—Ü–∏—è-—á–µ—Ä–µ–∑-–∑–∞–º—ã–∫–∞–Ω–∏–µ">–ü—Ä–∏–º–µ—Ä: –ö–æ–º–ø–æ–∑–∏—Ü–∏—è —á–µ—Ä–µ–∑ –∑–∞–º—ã–∫–∞–Ω–∏–µ</a></h3>
<pre><code class="language-javascript">const fs = require('fs');

function createLogger(filename) {
  // Stream —Å–æ–∑–¥–∞–µ—Ç—Å—è –í–ù–£–¢–†–ò —Ñ—É–Ω–∫—Ü–∏–∏
  const stream = fs.createWriteStream(filename);

  // –í–æ–∑–≤—Ä–∞—â–∞–µ–º—ã–π –æ–±—ä–µ–∫—Ç –∑–∞–º–∫–Ω—É—Ç –Ω–∞ —ç—Ç–æ—Ç stream
  return {
    log(message) {
      stream.write(message + '\n');
    },

    close() {
      stream.end();
    }
  };
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
const logger = createLogger('./app.log');
logger.log('–°–æ–æ–±—â–µ–Ω–∏–µ —á–µ—Ä–µ–∑ –∫–æ–º–ø–æ–∑–∏—Ü–∏—é');
logger.close();
</code></pre>
<p><strong>–†–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É –∞–≥—Ä–µ–≥–∞—Ü–∏–µ–π –∏ –∫–æ–º–ø–æ–∑–∏—Ü–∏–µ–π —á–µ—Ä–µ–∑ –∑–∞–º—ã–∫–∞–Ω–∏—è:</strong></p>
<div class="table-wrapper"><table><thead><tr><th>–ê–≥—Ä–µ–≥–∞—Ü–∏—è</th><th>–ö–æ–º–ø–æ–∑–∏—Ü–∏—è</th></tr></thead><tbody>
<tr><td><code>createLogger(stream)</code> ‚Äî stream –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è</td><td><code>createLogger(filename)</code> ‚Äî stream —Å–æ–∑–¥–∞–µ—Ç—Å—è –≤–Ω—É—Ç—Ä–∏</td></tr>
<tr><td>–û–±—ä–µ–∫—Ç –Ω–µ –≤–ª–∞–¥–µ–µ—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å—é</td><td>–û–±—ä–µ–∫—Ç –≤–ª–∞–¥–µ–µ—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å—é</td></tr>
<tr><td>–ù–µ –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ —É–Ω–∏—á—Ç–æ–∂–µ–Ω–∏–µ</td><td>–û—Ç–≤–µ—á–∞–µ—Ç –∑–∞ —É–Ω–∏—á—Ç–æ–∂–µ–Ω–∏–µ</td></tr>
</tbody></table>
</div>
<hr />
<h2 id="4-–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è-–∫–æ–º–ø–æ–∑–∏—Ü–∏—è"><a class="header" href="#4-–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è-–∫–æ–º–ø–æ–∑–∏—Ü–∏—è">4. –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è –∫–æ–º–ø–æ–∑–∏—Ü–∏—è</a></h2>
<h3 id="–ö–æ–Ω—Ü–µ–ø—Ü–∏—è-4"><a class="header" href="#–ö–æ–Ω—Ü–µ–ø—Ü–∏—è-4">–ö–æ–Ω—Ü–µ–ø—Ü–∏—è</a></h3>
<p><strong>–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è –∫–æ–º–ø–æ–∑–∏—Ü–∏—è</strong> ‚Äî —ç—Ç–æ –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Ñ—É–Ω–∫—Ü–∏–π –≤ –æ–¥–Ω—É —Ü–µ–ø–æ—á–∫—É –æ–±—Ä–∞–±–æ—Ç–∫–∏ –¥–∞–Ω–Ω—ã—Ö. –≠—Ç–æ –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è –æ—Ç –∫–æ–º–ø–æ–∑–∏—Ü–∏–∏ –∫–ª–∞—Å—Å–æ–≤, –Ω–æ –º–æ–∂–µ—Ç —Å–æ—á–µ—Ç–∞—Ç—å—Å—è —Å –∞–≥—Ä–µ–≥–∞—Ü–∏–µ–π –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–π.</p>
<h3 id="–ü—Ä–∏–º–µ—Ä-–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è-–∫–æ–º–ø–æ–∑–∏—Ü–∏—è-—Å-–∞–≥—Ä–µ–≥–∞—Ü–∏–µ–π"><a class="header" href="#–ü—Ä–∏–º–µ—Ä-–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è-–∫–æ–º–ø–æ–∑–∏—Ü–∏—è-—Å-–∞–≥—Ä–µ–≥–∞—Ü–∏–µ–π">–ü—Ä–∏–º–µ—Ä: –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è –∫–æ–º–ø–æ–∑–∏—Ü–∏—è —Å –∞–≥—Ä–µ–≥–∞—Ü–∏–µ–π</a></h3>
<pre><code class="language-javascript">const fs = require('fs');

// –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è compose –¥–ª—è –∫–æ–º–ø–æ–∑–∏—Ü–∏–∏ —Ñ—É–Ω–∫—Ü–∏–π
const compose = (...fns) =&gt; (x) =&gt; fns.reduceRight((acc, fn) =&gt; fn(acc), x);

// –§—É–Ω–∫—Ü–∏—è —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
const formatMessage = (message) =&gt; {
  const timestamp = new Date().toISOString();
  return `[${timestamp}] ${message}`;
};

// –§—É–Ω–∫—Ü–∏—è –∑–∞–ø–∏—Å–∏ –≤ stream (–∫–∞—Ä—Ä–∏—Ä–æ–≤–∞–Ω–Ω–∞—è)
const writeToStream = (stream) =&gt; (message) =&gt; {
  stream.write(message + '\n');
  return message;
};

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ - –ê–ì–†–ï–ì–ê–¶–ò–Ø stream
const outputStream = fs.createWriteStream('./app.log');

// –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è –ö–û–ú–ü–û–ó–ò–¶–ò–Ø —Ñ—É–Ω–∫—Ü–∏–π + –ê–ì–†–ï–ì–ê–¶–ò–Ø stream
const log = compose(
  writeToStream(outputStream), // stream –ø–µ—Ä–µ–¥–∞–Ω –∏–∑–≤–Ω–µ (–∞–≥—Ä–µ–≥–∞—Ü–∏—è)
  formatMessage                 // —Å–Ω–∞—á–∞–ª–∞ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
);

// –ö–æ–º–ø–æ–∑–∏—Ü–∏—é –Ω—É–∂–Ω–æ —á–∏—Ç–∞—Ç—å —Å–ø—Ä–∞–≤–∞ –Ω–∞–ª–µ–≤–æ:
// 1. formatMessage - —Ñ–æ—Ä–º–∞—Ç–∏—Ä—É–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ
// 2. writeToStream - –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç –≤ stream

log('–¢–µ—Å—Ç–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ');
log('–î—Ä—É–≥–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ');

outputStream.end();
</code></pre>
<p><strong>–ö–ª—é—á–µ–≤—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:</strong></p>
<ul>
<li><strong>–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è –∫–æ–º–ø–æ–∑–∏—Ü–∏—è</strong> ‚Äî –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–π <code>formatMessage</code> –∏ <code>writeToStream</code></li>
<li><strong>–ê–≥—Ä–µ–≥–∞—Ü–∏—è –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–π</strong> ‚Äî stream –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è –∏–∑–≤–Ω–µ, –Ω–µ —Å–æ–∑–¥–∞–µ—Ç—Å—è –≤–Ω—É—Ç—Ä–∏</li>
<li>–†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏: —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –∑–∞–ø–∏—Å—å ‚Äî –æ—Ç–¥–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏</li>
<li>–ö–æ–º–ø–æ–∑–∏—Ü–∏—è —á–∏—Ç–∞–µ—Ç—Å—è —Å–ø—Ä–∞–≤–∞ –Ω–∞–ª–µ–≤–æ (–∏–ª–∏ —Å–Ω–∏–∑—É –≤–≤–µ—Ä—Ö)</li>
</ul>
<h3 id="–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–∞—è-—Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è-—Å-pipe"><a class="header" href="#–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–∞—è-—Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è-—Å-pipe">–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è —Å pipe</a></h3>
<pre><code class="language-javascript">// pipe —á–∏—Ç–∞–µ—Ç—Å—è —Å–ª–µ–≤–∞ –Ω–∞–ø—Ä–∞–≤–æ (–±–æ–ª–µ–µ –∏–Ω—Ç—É–∏—Ç–∏–≤–Ω–æ)
const pipe = (...fns) =&gt; (x) =&gt; fns.reduce((acc, fn) =&gt; fn(acc), x);

const log = pipe(
  formatMessage,                // —Å–Ω–∞—á–∞–ª–∞ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
  writeToStream(outputStream)   // –∑–∞—Ç–µ–º –∑–∞–ø–∏—Å—å
);

log('–°–æ–æ–±—â–µ–Ω–∏–µ —á–µ—Ä–µ–∑ pipe');
</code></pre>
<hr />
<h2 id="5-–ü–µ—Ä–µ—Ö–æ–¥-–æ—Ç-–Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è-–∫-–∫–æ–º–ø–æ–∑–∏—Ü–∏–∏"><a class="header" href="#5-–ü–µ—Ä–µ—Ö–æ–¥-–æ—Ç-–Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è-–∫-–∫–æ–º–ø–æ–∑–∏—Ü–∏–∏">5. –ü–µ—Ä–µ—Ö–æ–¥ –æ—Ç –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è –∫ –∫–æ–º–ø–æ–∑–∏—Ü–∏–∏</a></h2>
<h3 id="–ü—Ä–æ–±–ª–µ–º–∞-–Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è-1"><a class="header" href="#–ü—Ä–æ–±–ª–µ–º–∞-–Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è-1">–ü—Ä–æ–±–ª–µ–º–∞ –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è</a></h3>
<p>–ù–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ —Å–æ–∑–¥–∞–µ—Ç –∂–µ—Å—Ç–∫—É—é –∏–µ—Ä–∞—Ä—Ö–∏—é –∫–ª–∞—Å—Å–æ–≤, –∫–æ—Ç–æ—Ä–∞—è –º–æ–∂–µ—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫:</p>
<ul>
<li>–°–ª–æ–∂–Ω–æ—Å—Ç–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è –±–∞–∑–æ–≤—ã—Ö –∫–ª–∞—Å—Å–æ–≤</li>
<li>–ü—Ä–æ–±–ª–µ–º–∞–º –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è</li>
<li>–ñ–µ—Å—Ç–∫–æ–π —Å–≤—è–∑–∞–Ω–Ω–æ—Å—Ç–∏ –º–µ–∂–¥—É —Ä–æ–¥–∏—Ç–µ–ª–µ–º –∏ –ø–æ—Ç–æ–º–∫–æ–º</li>
<li>–°–ª–æ–∂–Ω–æ—Å—Ç–∏ –ø–æ–Ω–∏–º–∞–Ω–∏—è –≥–ª—É–±–æ–∫–∏—Ö –∏–µ—Ä–∞—Ä—Ö–∏–π</li>
</ul>
<h3 id="–ü—Ä–∏–º–µ—Ä-–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ-–Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è-–Ω–µ-—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è"><a class="header" href="#–ü—Ä–∏–º–µ—Ä-–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ-–Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è-–Ω–µ-—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è">–ü—Ä–∏–º–µ—Ä: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è (–Ω–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)</a></h3>
<pre><code class="language-javascript">const EventEmitter = require('events');

// Channel –Ω–∞—Å–ª–µ–¥—É–µ—Ç EventEmitter
class Channel extends EventEmitter {
  constructor(name) {
    super();
    this.name = name;
    this.messages = []; // –ò—Å—Ç–æ—Ä–∏—è —Å–æ–æ–±—â–µ–Ω–∏–π
  }

  send(message, author) {
    this.messages.push({ message, author, timestamp: Date.now() });
    this.emit('message', { channel: this.name, message, author });
  }
}

// Application —Ç–∞–∫–∂–µ –Ω–∞—Å–ª–µ–¥—É–µ—Ç EventEmitter
class Application extends EventEmitter {
  constructor() {
    super();
    this.channels = new Map(); // –ö–æ–ª–ª–µ–∫—Ü–∏—è –∫–∞–Ω–∞–ª–æ–≤
  }

  createChannel(name) {
    const channel = new Channel(name);
    this.channels.set(name, channel);

    // –≠–º–∏—Ç–∏–º —Å–æ–±—ã—Ç–∏–µ –Ω–∞ Application
    this.emit('channel:created', { name });

    return channel;
  }
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
const app = new Application();

app.on('channel:created', ({ name }) =&gt; {
  console.log(`–°–æ–∑–¥–∞–Ω –∫–∞–Ω–∞–ª: ${name}`);
});

const general = app.createChannel('general');

general.on('message', ({ channel, message, author }) =&gt; {
  console.log(`[${channel}] ${author}: ${message}`);
});

general.send('–ü—Ä–∏–≤–µ—Ç –≤—Å–µ–º!', 'Alice');
</code></pre>
<p><strong>–ü—Ä–æ–±–ª–µ–º—ã —ç—Ç–æ–≥–æ –ø–æ–¥—Ö–æ–¥–∞:</strong></p>
<ol>
<li><strong>–ñ–µ—Å—Ç–∫–∞—è —Å–≤—è–∑–∞–Ω–Ω–æ—Å—Ç—å:</strong> –ò <code>Channel</code>, –∏ <code>Application</code> –∂–µ—Å—Ç–∫–æ –ø—Ä–∏–≤—è–∑–∞–Ω—ã –∫ <code>EventEmitter</code></li>
<li><strong>–°–ª–æ–∂–Ω–æ—Å—Ç—å –∏–µ—Ä–∞—Ä—Ö–∏–∏:</strong> –ü—Ä–∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–∏ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏ –∏–µ—Ä–∞—Ä—Ö–∏—è —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –≥–ª—É–±–∂–µ</li>
<li><strong>–°–º–µ—à–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–µ–π:</strong> Channel –∑–∞–Ω–∏–º–∞–µ—Ç—Å—è –∏ —Ö—Ä–∞–Ω–µ–Ω–∏–µ–º —Å–æ–æ–±—â–µ–Ω–∏–π, –∏ —ç–º–∏—Ç—Ç–∏–Ω–≥–æ–º —Å–æ–±—ã—Ç–∏–π</li>
<li><strong>–°–ª–æ–∂–Ω–æ—Å—Ç—å —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:</strong> –¢—Ä—É–¥–Ω–æ –∏–∑–æ–ª–∏—Ä–æ–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å —Å–æ–±—ã—Ç–∏–π –æ—Ç –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏</li>
</ol>
<h3 id="–£–ª—É—á—à–µ–Ω–Ω—ã–π-–ø–æ–¥—Ö–æ–¥-–ö–æ–º–ø–æ–∑–∏—Ü–∏—è-–≤–º–µ—Å—Ç–æ-–Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è"><a class="header" href="#–£–ª—É—á—à–µ–Ω–Ω—ã–π-–ø–æ–¥—Ö–æ–¥-–ö–æ–º–ø–æ–∑–∏—Ü–∏—è-–≤–º–µ—Å—Ç–æ-–Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è">–£–ª—É—á—à–µ–Ω–Ω—ã–π –ø–æ–¥—Ö–æ–¥: –ö–æ–º–ø–æ–∑–∏—Ü–∏—è –≤–º–µ—Å—Ç–æ –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è</a></h3>
<pre><code class="language-javascript">const EventEmitter = require('events');

// Channel –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ö–û–ú–ü–û–ó–ò–¶–ò–Æ - —Å–æ–∑–¥–∞–µ—Ç —Å–≤–æ–π EventEmitter
class Channel {
  constructor(name) {
    this.name = name;
    this.messages = [];
    this.emitter = new EventEmitter(); // –ö–æ–º–ø–æ–∑–∏—Ü–∏—è!
  }

  // –î–µ–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –º–µ—Ç–æ–¥–æ–≤ EventEmitter
  on(event, handler) {
    this.emitter.on(event, handler);
  }

  emit(event, data) {
    this.emitter.emit(event, data);
  }

  send(message, author) {
    this.messages.push({ message, author, timestamp: Date.now() });
    this.emit('message', { channel: this.name, message, author });
  }
}

// Application —Ç–∞–∫–∂–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ö–û–ú–ü–û–ó–ò–¶–ò–Æ
class Application {
  constructor() {
    this.channels = new Map();
    this.emitter = new EventEmitter(); // –ö–æ–º–ø–æ–∑–∏—Ü–∏—è!
  }

  // –î–µ–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
  on(event, handler) {
    this.emitter.on(event, handler);
  }

  emit(event, data) {
    this.emitter.emit(event, data);
  }

  createChannel(name) {
    const channel = new Channel(name);
    this.channels.set(name, channel);
    this.emit('channel:created', { name });
    return channel;
  }
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ - –∏–¥–µ–Ω—Ç–∏—á–Ω–æ –ø—Ä–µ–¥—ã–¥—É—â–µ–º—É –ø—Ä–∏–º–µ—Ä—É
const app = new Application();
app.on('channel:created', ({ name }) =&gt; {
  console.log(`–°–æ–∑–¥–∞–Ω –∫–∞–Ω–∞–ª: ${name}`);
});

const general = app.createChannel('general');
general.on('message', ({ channel, message, author }) =&gt; {
  console.log(`[${channel}] ${author}: ${message}`);
});

general.send('–ü—Ä–∏–≤–µ—Ç —á–µ—Ä–µ–∑ –∫–æ–º–ø–æ–∑–∏—Ü–∏—é!', 'Bob');
</code></pre>
<p><strong>–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –∫–æ–º–ø–æ–∑–∏—Ü–∏–∏:</strong></p>
<ul>
<li><code>Channel</code> –∏ <code>Application</code> –Ω–µ –∑–∞–≤–∏—Å—è—Ç –æ—Ç –∏–µ—Ä–∞—Ä—Ö–∏–∏ <code>EventEmitter</code></li>
<li>–ß–µ—Ç–∫–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–µ–π</li>
<li>–ì–∏–±–∫–æ—Å—Ç—å: –º–æ–∂–Ω–æ –ª–µ–≥–∫–æ –∑–∞–º–µ–Ω–∏—Ç—å <code>EventEmitter</code> –Ω–∞ –¥—Ä—É–≥—É—é —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é</li>
<li>–õ—É—á—à–∞—è —Ç–µ—Å—Ç–∏—Ä—É–µ–º–æ—Å—Ç—å: –º–æ–∂–Ω–æ –º–æ–∫–∏—Ä–æ–≤–∞—Ç—å emitter</li>
</ul>
<hr />
<h2 id="6-–î–µ–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ"><a class="header" href="#6-–î–µ–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ">6. –î–µ–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ</a></h2>
<h3 id="–ö–æ–Ω—Ü–µ–ø—Ü–∏—è-5"><a class="header" href="#–ö–æ–Ω—Ü–µ–ø—Ü–∏—è-5">–ö–æ–Ω—Ü–µ–ø—Ü–∏—è</a></h3>
<p><strong>–î–µ–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ</strong> ‚Äî —ç—Ç–æ –ø–∞—Ç—Ç–µ—Ä–Ω, –ø—Ä–∏ –∫–æ—Ç–æ—Ä–æ–º –æ–±—ä–µ–∫—Ç –ø–µ—Ä–µ–¥–∞–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π –¥—Ä—É–≥–æ–º—É –æ–±—ä–µ–∫—Ç—É (–¥–µ–ª–µ–≥–∞—Ç—É), —Å–∫—Ä—ã–≤–∞—è –¥–µ—Ç–∞–ª–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –∑–∞ —Å–≤–æ–∏–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º.</p>
<h3 id="–ü—Ä–æ–±–ª–µ–º–∞-–ø—Ä—è–º–æ–≥–æ-–¥–æ—Å—Ç—É–ø–∞-–∫-–≤–Ω—É—Ç—Ä–µ–Ω–Ω–æ—Å—Ç—è–º"><a class="header" href="#–ü—Ä–æ–±–ª–µ–º–∞-–ø—Ä—è–º–æ–≥–æ-–¥–æ—Å—Ç—É–ø–∞-–∫-–≤–Ω—É—Ç—Ä–µ–Ω–Ω–æ—Å—Ç—è–º">–ü—Ä–æ–±–ª–µ–º–∞ –ø—Ä—è–º–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞ –∫ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–æ—Å—Ç—è–º</a></h3>
<pre><code class="language-javascript">// –ü–õ–û–•–û–ô –ü–†–ò–ú–ï–† - –ø—Ä—è–º–æ–π –¥–æ—Å—Ç—É–ø –∫ –≤–ª–æ–∂–µ–Ω–Ω—ã–º –æ–±—ä–µ–∫—Ç–∞–º
class Application {
  constructor() {
    this.channels = new Map();
    this.emitter = new EventEmitter();
  }

  createChannel(name) {
    const channel = new Channel(name);
    this.channels.set(name, channel);

    // –ü—Ä—è–º–æ–π –¥–æ—Å—Ç—É–ø –∫ –≤–ª–æ–∂–µ–Ω–Ω–æ–º—É –æ–±—ä–µ–∫—Ç—É - –ù–ï –†–ï–ö–û–ú–ï–ù–î–£–ï–¢–°–Ø
    this.emitter.emit('channel:created', { name });

    return channel;
  }
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ - –ª–∞–∑–∞–Ω–∏–µ –≤ "–∫–∏—à–∫–∏" –æ–±—ä–µ–∫—Ç–∞
const app = new Application();

// –ü–ª–æ—Ö–æ: –ø—Ä—è–º–æ–π –¥–æ—Å—Ç—É–ø –∫ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–º—É emitter
app.emitter.on('channel:created', (data) =&gt; {
  console.log('–ö–∞–Ω–∞–ª —Å–æ–∑–¥–∞–Ω:', data.name);
});
</code></pre>
<p><strong>–ü—Ä–æ–±–ª–µ–º—ã:</strong></p>
<ul>
<li>–ù–∞—Ä—É—à–µ–Ω–∏–µ –∏–Ω–∫–∞–ø—Å—É–ª—è—Ü–∏–∏</li>
<li>–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –∫–ª–∞—Å—Å–∞ –∑–∞–≤–∏—Å—è—Ç –æ—Ç –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã</li>
<li>–°–ª–æ–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å –≤–Ω—É—Ç—Ä–µ–Ω–Ω—é—é —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é –±–µ–∑ breaking changes</li>
<li>–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Å–ª—É—á–∞–π–Ω–æ–≥–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è</li>
</ul>
<h3 id="–ü—Ä–∞–≤–∏–ª—å–Ω–æ–µ-–¥–µ–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ"><a class="header" href="#–ü—Ä–∞–≤–∏–ª—å–Ω–æ–µ-–¥–µ–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ">–ü—Ä–∞–≤–∏–ª—å–Ω–æ–µ –¥–µ–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ</a></h3>
<pre><code class="language-javascript">class Application {
  constructor() {
    this.channels = new Map();
    this.emitter = new EventEmitter(); // –ü—Ä–∏–≤–∞—Ç–Ω–∞—è –¥–µ—Ç–∞–ª—å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏
  }

  // –î–ï–õ–ï–ì–ò–†–û–í–ê–ù–ò–ï - –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ–º –ø—É–±–ª–∏—á–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
  on(event, handler) {
    // –î–µ–ª–µ–≥–∏—Ä—É–µ–º –≤—ã–∑–æ–≤ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–º—É emitter
    this.emitter.on(event, handler);
  }

  emit(event, data) {
    // –î–µ–ª–µ–≥–∏—Ä—É–µ–º –≤—ã–∑–æ–≤ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–º—É emitter
    this.emitter.emit(event, data);
  }

  createChannel(name) {
    const channel = new Channel(name);
    this.channels.set(name, channel);

    // –ò—Å–ø–æ–ª—å–∑—É–µ–º –ø—É–±–ª–∏—á–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
    this.emit('channel:created', { name });

    return channel;
  }
}

// –ü–†–ê–í–ò–õ–¨–ù–û–ï –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
const app = new Application();

// –•–æ—Ä–æ—à–æ: –∏—Å–ø–æ–ª—å–∑—É–µ–º –¥–µ–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –º–µ—Ç–æ–¥
app.on('channel:created', (data) =&gt; {
  console.log('–ö–∞–Ω–∞–ª —Å–æ–∑–¥–∞–Ω:', data.name);
});
</code></pre>
<h3 id="–†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π-–ø—Ä–∏–º–µ—Ä-–¥–µ–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–∏—è-—Å-–∞–¥–∞–ø—Ç–∞—Ü–∏–µ–π-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞"><a class="header" href="#–†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π-–ø—Ä–∏–º–µ—Ä-–¥–µ–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–∏—è-—Å-–∞–¥–∞–ø—Ç–∞—Ü–∏–µ–π-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞">–†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π –ø—Ä–∏–º–µ—Ä –¥–µ–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–∏—è —Å –∞–¥–∞–ø—Ç–∞—Ü–∏–µ–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞</a></h3>
<pre><code class="language-javascript">class Application {
  constructor() {
    this.channels = new Map();
    this.emitter = new EventEmitter();
  }

  // –î–µ–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å –∞–¥–∞–ø—Ç–∞—Ü–∏–µ–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
  sendMessage(channelName, message, author) {
    const channel = this.channels.get(channelName);

    if (!channel) {
      throw new Error(`Channel ${channelName} not found`);
    }

    // –§–æ—Ä–º–∏—Ä—É–µ–º –¥–∞–Ω–Ω—ã–µ –¥–ª—è –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–≥–æ —Å–æ–±—ã—Ç–∏—è
    const eventData = {
      channel: channelName,
      message,
      author,
      timestamp: Date.now()
    };

    // –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤ –∏—Å—Ç–æ—Ä–∏—é –∫–∞–Ω–∞–ª–∞
    channel.send(message, author);

    // –≠–º–∏—Ç–∏–º —Å–æ–±—ã—Ç–∏–µ –Ω–∞ —É—Ä–æ–≤–Ω–µ Application
    // (–∞–¥–∞–ø—Ç–∏—Ä—É–µ–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å channel –¥–ª—è application)
    this.emitter.emit('message', eventData);
  }

  // –î–µ–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–¥–ø–∏—Å–∫–∏
  onMessage(handler) {
    this.emitter.on('message', handler);
  }

  createChannel(name) {
    const channel = new Channel(name);
    this.channels.set(name, channel);
    this.emitter.emit('channel:created', { name });
    return channel;
  }
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
const app = new Application();

// –ü–æ–¥–ø–∏—Å—ã–≤–∞–µ–º—Å—è —á–µ—Ä–µ–∑ –¥–µ–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –º–µ—Ç–æ–¥
app.onMessage(({ channel, message, author, timestamp }) =&gt; {
  const date = new Date(timestamp).toISOString();
  console.log(`[${date}] ${channel}/${author}: ${message}`);
});

app.createChannel('general');
app.sendMessage('general', '–ü—Ä–∏–≤–µ—Ç!', 'Alice');
</code></pre>
<p><strong>–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –¥–µ–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–∏—è:</strong></p>
<ul>
<li>–°–∫—Ä—ã—Ç–∞ –≤–Ω—É—Ç—Ä–µ–Ω–Ω—è—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è</li>
<li>–ú–æ–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å –≤–Ω—É—Ç—Ä–µ–Ω–Ω—é—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø—É–±–ª–∏—á–Ω–æ–≥–æ API</li>
<li>–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∞–¥–∞–ø—Ç–∞—Ü–∏–∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ (–∏–∑–º–µ–Ω–µ–Ω–∏–µ —Ñ–æ—Ä–º–∞—Ç–∞ –¥–∞–Ω–Ω—ã—Ö)</li>
<li>–¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å –Ω–∞–¥ –æ–ø–µ—Ä–∞—Ü–∏—è–º–∏</li>
</ul>
<hr />
<h2 id="7-–ö–æ–º–ø–æ–∑–∏—Ü–∏—è-—Å-–∞–≥—Ä–µ–≥–∞—Ü–∏–µ–π-–∏-–¥–µ–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ–º"><a class="header" href="#7-–ö–æ–º–ø–æ–∑–∏—Ü–∏—è-—Å-–∞–≥—Ä–µ–≥–∞—Ü–∏–µ–π-–∏-–¥–µ–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ–º">7. –ö–æ–º–ø–æ–∑–∏—Ü–∏—è —Å –∞–≥—Ä–µ–≥–∞—Ü–∏–µ–π –∏ –¥–µ–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ–º</a></h2>
<h3 id="–ö–æ–º–ø–ª–µ–∫—Å–Ω—ã–π-–ø—Ä–∏–º–µ—Ä"><a class="header" href="#–ö–æ–º–ø–ª–µ–∫—Å–Ω—ã–π-–ø—Ä–∏–º–µ—Ä">–ö–æ–º–ø–ª–µ–∫—Å–Ω—ã–π –ø—Ä–∏–º–µ—Ä</a></h3>
<pre><code class="language-javascript">const EventEmitter = require('events');

class Channel {
  constructor(app, name) {
    this.app = app;        // –ê–ì–†–ï–ì–ê–¶–ò–Ø - —Å—Å—ã–ª–∫–∞ –Ω–∞ Application
    this.name = name;
    this.messages = [];
    this.emitter = new EventEmitter(); // –ö–û–ú–ü–û–ó–ò–¶–ò–Ø - –≤–ª–∞–¥–µ–µ–º emitter
  }

  // –î–ï–õ–ï–ì–ò–†–û–í–ê–ù–ò–ï –º–µ—Ç–æ–¥–æ–≤ emitter
  on(event, handler) {
    this.emitter.on(event, handler);
  }

  send(message, author) {
    const messageData = {
      message,
      author,
      timestamp: Date.now()
    };

    // –°–æ—Ö—Ä–∞–Ω—è–µ–º –ª–æ–∫–∞–ª—å–Ω–æ
    this.messages.push(messageData);

    // –≠–º–∏—Ç–∏–º –ª–æ–∫–∞–ª—å–Ω–æ–µ —Å–æ–±—ã—Ç–∏–µ
    this.emitter.emit('message', messageData);

    // –î–ï–õ–ï–ì–ò–†–û–í–ê–ù–ò–ï –≥–ª–æ–±–∞–ª—å–Ω–æ–≥–æ —Å–æ–±—ã—Ç–∏—è –Ω–∞ Application
    this.app.emit('message', {
      channel: this.name,
      ...messageData
    });
  }

  getHistory() {
    return [...this.messages]; // –í–æ–∑–≤—Ä–∞—â–∞–µ–º –∫–æ–ø–∏—é –¥–ª—è –∏–º–º—É—Ç–∞–±–µ–ª—å–Ω–æ—Å—Ç–∏
  }
}

class Application {
  constructor() {
    this.channels = new Map();
    this.emitter = new EventEmitter(); // –ö–û–ú–ü–û–ó–ò–¶–ò–Ø
  }

  // –î–ï–õ–ï–ì–ò–†–û–í–ê–ù–ò–ï
  on(event, handler) {
    this.emitter.on(event, handler);
  }

  emit(event, data) {
    this.emitter.emit(event, data);
  }

  // –§–ê–ë–†–ò–ß–ù–´–ô –ú–ï–¢–û–î —Å –ø–µ—Ä–µ–¥–∞—á–µ–π –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
  createChannel(name) {
    // –ü–µ—Ä–µ–¥–∞–µ–º this –≤ Channel - –æ–Ω –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ê–ì–†–ï–ì–ê–¶–ò–Æ
    const channel = new Channel(this, name);
    this.channels.set(name, channel);

    this.emit('channel:created', { name });

    return channel;
  }

  // –ú–µ—Ç–æ–¥ –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥–æ —É–¥–∞–ª–µ–Ω–∏—è –∫–∞–Ω–∞–ª–∞
  removeChannel(name) {
    const channel = this.channels.get(name);

    if (channel) {
      // –û—á–∏—â–∞–µ–º —Å–ª—É—à–∞—Ç–µ–ª–µ–π (–ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ–º —É—Ç–µ—á–∫–∏ –ø–∞–º—è—Ç–∏)
      channel.emitter.removeAllListeners();
      this.channels.delete(name);
      this.emit('channel:removed', { name });
    }
  }

  getChannel(name) {
    return this.channels.get(name);
  }
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
const app = new Application();

// –ì–ª–æ–±–∞–ª—å–Ω–∞—è –ø–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ –≤—Å–µ —Å–æ–æ–±—â–µ–Ω–∏—è
app.on('message', ({ channel, message, author }) =&gt; {
  console.log(`[Global] ${channel}/${author}: ${message}`);
});

// –°–æ–∑–¥–∞–µ–º –∫–∞–Ω–∞–ª—ã
const general = app.createChannel('general');
const random = app.createChannel('random');

// –õ–æ–∫–∞–ª—å–Ω–∞—è –ø–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –∫–∞–Ω–∞–ª
general.on('message', ({ message, author }) =&gt; {
  console.log(`[General —Ç–æ–ª—å–∫–æ] ${author}: ${message}`);
});

// –û—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π
general.send('–ü—Ä–∏–≤–µ—Ç!', 'Alice');
random.send('–°–ª—É—á–∞–π–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ', 'Bob');

// –ü–æ–ª—É—á–µ–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–∏
console.log('–ò—Å—Ç–æ—Ä–∏—è general:', general.getHistory());

// –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ –∫–∞–Ω–∞–ª–∞
app.removeChannel('random');
</code></pre>
<p><strong>–ß—Ç–æ –∑–¥–µ—Å—å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è:</strong></p>
<ol>
<li>
<p><strong>–ö–æ–º–ø–æ–∑–∏—Ü–∏—è:</strong></p>
<ul>
<li><code>Application</code> –≤–ª–∞–¥–µ–µ—Ç <code>EventEmitter</code></li>
<li><code>Channel</code> –≤–ª–∞–¥–µ–µ—Ç —Å–≤–æ–∏–º <code>EventEmitter</code></li>
<li>–û–±–∞ –æ—Ç–≤–µ—á–∞—é—Ç –∑–∞ —Å–æ–∑–¥–∞–Ω–∏–µ –∏ —É–Ω–∏—á—Ç–æ–∂–µ–Ω–∏–µ</li>
</ul>
</li>
<li>
<p><strong>–ê–≥—Ä–µ–≥–∞—Ü–∏—è:</strong></p>
<ul>
<li><code>Channel</code> –ø–æ–ª—É—á–∞–µ—Ç —Å—Å—ã–ª–∫—É –Ω–∞ <code>Application</code></li>
<li>–ù–µ –≤–ª–∞–¥–µ–µ—Ç <code>Application</code></li>
<li>–ù–µ –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ –µ–≥–æ —É–Ω–∏—á—Ç–æ–∂–µ–Ω–∏–µ</li>
</ul>
</li>
<li>
<p><strong>–î–µ–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ:</strong></p>
<ul>
<li><code>Application.on()</code> –¥–µ–ª–µ–≥–∏—Ä—É–µ—Ç <code>emitter.on()</code></li>
<li><code>Application.emit()</code> –¥–µ–ª–µ–≥–∏—Ä—É–µ—Ç <code>emitter.emit()</code></li>
<li><code>Channel.send()</code> –¥–µ–ª–µ–≥–∏—Ä—É–µ—Ç —Å–æ–±—ã—Ç–∏–µ –Ω–∞ <code>Application</code></li>
</ul>
</li>
<li>
<p><strong>–ò–Ω–∫–∞–ø—Å—É–ª—è—Ü–∏—è:</strong></p>
<ul>
<li>–í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ <code>emitter</code> —Å–∫—Ä—ã—Ç—ã</li>
<li>–î–æ—Å—Ç—É–ø —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ –ø—É–±–ª–∏—á–Ω—ã–µ –º–µ—Ç–æ–¥—ã</li>
<li><code>getHistory()</code> –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∫–æ–ø–∏—é –º–∞—Å—Å–∏–≤–∞</li>
</ul>
</li>
<li>
<p><strong>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∂–∏–∑–Ω–µ–Ω–Ω—ã–º —Ü–∏–∫–ª–æ–º:</strong></p>
<ul>
<li><code>removeChannel()</code> –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ—á–∏—â–∞–µ—Ç —Ä–µ—Å—É—Ä—Å—ã</li>
<li>–ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç —É—Ç–µ—á–∫–∏ –ø–∞–º—è—Ç–∏</li>
</ul>
</li>
</ol>
<hr />
<h2 id="8-–°—Ä–∞–≤–Ω–µ–Ω–∏–µ-–ø–æ–¥—Ö–æ–¥–æ–≤"><a class="header" href="#8-–°—Ä–∞–≤–Ω–µ–Ω–∏–µ-–ø–æ–¥—Ö–æ–¥–æ–≤">8. –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –ø–æ–¥—Ö–æ–¥–æ–≤</a></h2>
<h3 id="–¢–∞–±–ª–∏—Ü–∞-–ù–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ-vs-–ö–æ–º–ø–æ–∑–∏—Ü–∏—è-vs-–ê–≥—Ä–µ–≥–∞—Ü–∏—è"><a class="header" href="#–¢–∞–±–ª–∏—Ü–∞-–ù–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ-vs-–ö–æ–º–ø–æ–∑–∏—Ü–∏—è-vs-–ê–≥—Ä–µ–≥–∞—Ü–∏—è">–¢–∞–±–ª–∏—Ü–∞: –ù–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ vs –ö–æ–º–ø–æ–∑–∏—Ü–∏—è vs –ê–≥—Ä–µ–≥–∞—Ü–∏—è</a></h3>
<div class="table-wrapper"><table><thead><tr><th>–ê—Å–ø–µ–∫—Ç</th><th>–ù–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ</th><th>–ö–æ–º–ø–æ–∑–∏—Ü–∏—è</th><th>–ê–≥—Ä–µ–≥–∞—Ü–∏—è</th></tr></thead><tbody>
<tr><td><strong>–°–≤—è–∑–∞–Ω–Ω–æ—Å—Ç—å</strong></td><td>–°–∏–ª—å–Ω–∞—è</td><td>–°—Ä–µ–¥–Ω—è—è</td><td>–°–ª–∞–±–∞—è</td></tr>
<tr><td><strong>–í–ª–∞–¥–µ–Ω–∏–µ</strong></td><td>–ù–µ—è–≤–Ω–æ–µ</td><td>–î–∞ (–≤–ª–∞–¥–µ–µ—Ç)</td><td>–ù–µ—Ç (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç)</td></tr>
<tr><td><strong>–ñ–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª</strong></td><td>–°–≤—è–∑–∞–Ω —Å —Ä–æ–¥–∏—Ç–µ–ª–µ–º</td><td>–ü–æ–ª–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å</td><td>–ù–µ–∑–∞–≤–∏—Å–∏–º—ã–π</td></tr>
<tr><td><strong>–ì–∏–±–∫–æ—Å—Ç—å</strong></td><td>–ù–∏–∑–∫–∞—è</td><td>–°—Ä–µ–¥–Ω—è—è</td><td>–í—ã—Å–æ–∫–∞—è</td></tr>
<tr><td><strong>–ü–æ–≤—Ç–æ—Ä–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ</strong></td><td>–°–ª–æ–∂–Ω–æ</td><td>–°—Ä–µ–¥–Ω–µ–µ</td><td>–õ–µ–≥–∫–æ</td></tr>
<tr><td><strong>–¢–µ—Å—Ç–∏—Ä—É–µ–º–æ—Å—Ç—å</strong></td><td>–°–ª–æ–∂–Ω–∞—è</td><td>–°—Ä–µ–¥–Ω—è—è</td><td>–õ–µ–≥–∫–∞—è</td></tr>
<tr><td><strong>–ò–∑–º–µ–Ω—è–µ–º–æ—Å—Ç—å</strong></td><td>–°–ª–æ–∂–Ω–∞—è</td><td>–°—Ä–µ–¥–Ω—è—è</td><td>–õ–µ–≥–∫–∞—è</td></tr>
</tbody></table>
</div>
<h3 id="–ö–æ–≥–¥–∞-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å-–∫–∞–∂–¥—ã–π-–ø–æ–¥—Ö–æ–¥-1"><a class="header" href="#–ö–æ–≥–¥–∞-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å-–∫–∞–∂–¥—ã–π-–ø–æ–¥—Ö–æ–¥-1">–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–∞–∂–¥—ã–π –ø–æ–¥—Ö–æ–¥</a></h3>
<h4 id="–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ-–ê–≥—Ä–µ–≥–∞—Ü–∏—é-–∫–æ–≥–¥–∞"><a class="header" href="#–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ-–ê–≥—Ä–µ–≥–∞—Ü–∏—é-–∫–æ–≥–¥–∞">–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ê–≥—Ä–µ–≥–∞—Ü–∏—é –∫–æ–≥–¥–∞:</a></h4>
<ul>
<li>–û–±—ä–µ–∫—Ç –¥–æ–ª–∂–µ–Ω —Ä–∞–±–æ—Ç–∞—Ç—å —Å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å—é, –Ω–æ –Ω–µ –≤–ª–∞–¥–µ—Ç—å –µ–π</li>
<li>–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç—å —Å–æ–∑–¥–∞–µ—Ç—Å—è –∏ —É–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –∏–∑–≤–Ω–µ</li>
<li>–ù—É–∂–Ω–∞ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –≥–∏–±–∫–æ—Å—Ç—å –∏ —Ç–µ—Å—Ç–∏—Ä—É–µ–º–æ—Å—Ç—å</li>
<li>–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –º–æ–∂–µ—Ç –±—ã—Ç—å —Ä–∞–∑–¥–µ–ª–µ–Ω–∞ –º–µ–∂–¥—É –æ–±—ä–µ–∫—Ç–∞–º–∏</li>
</ul>
<pre><code class="language-javascript">// –ü—Ä–∏–º–µ—Ä: Logger –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø–µ—Ä–µ–¥–∞–Ω–Ω—ã–π stream
const logger = new Logger(outputStream);
</code></pre>
<h4 id="–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ-–ö–æ–º–ø–æ–∑–∏—Ü–∏—é-–∫–æ–≥–¥–∞"><a class="header" href="#–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ-–ö–æ–º–ø–æ–∑–∏—Ü–∏—é-–∫–æ–≥–¥–∞">–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ö–æ–º–ø–æ–∑–∏—Ü–∏—é –∫–æ–≥–¥–∞:</a></h4>
<ul>
<li>–û–±—ä–µ–∫—Ç –¥–æ–ª–∂–µ–Ω –ø–æ–ª–Ω–æ—Å—Ç—å—é –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä–æ–≤–∞—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å</li>
<li>–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç—å —è–≤–ª—è–µ—Ç—Å—è —á–∞—Å—Ç—å—é –æ–±—ä–µ–∫—Ç–∞</li>
<li>–ù—É–∂–Ω–∞ –≥–∞—Ä–∞–Ω—Ç–∏—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥–æ —Å–æ–∑–¥–∞–Ω–∏—è –∏ —É–Ω–∏—á—Ç–æ–∂–µ–Ω–∏—è</li>
<li>–£–ø—Ä–æ—â–µ–Ω–∏–µ API –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π</li>
</ul>
<pre><code class="language-javascript">// –ü—Ä–∏–º–µ—Ä: Logger —Å–æ–∑–¥–∞–µ—Ç –∏ –≤–ª–∞–¥–µ–µ—Ç stream
const logger = new Logger('./app.log');
</code></pre>
<h4 id="–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ-–ù–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ-–∫–æ–≥–¥–∞"><a class="header" href="#–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ-–ù–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ-–∫–æ–≥–¥–∞">–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ù–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ –∫–æ–≥–¥–∞:</a></h4>
<ul>
<li>–ï—Å—Ç—å —á–µ—Ç–∫–æ–µ –æ—Ç–Ω–æ—à–µ–Ω–∏–µ "—è–≤–ª—è–µ—Ç—Å—è" (is-a)</li>
<li>–ë–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ —Å–ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω –¥–ª—è —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è</li>
<li>–ù–µ–æ–±—Ö–æ–¥–∏–º–æ –ø–æ–ª–∏–º–æ—Ä—Ñ–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ</li>
<li>–ò–µ—Ä–∞—Ä—Ö–∏—è –Ω–µ–≥–ª—É–±–æ–∫–∞—è (1-2 —É—Ä–æ–≤–Ω—è)</li>
</ul>
<pre><code class="language-javascript">// –ü—Ä–∏–º–µ—Ä: Stream –Ω–∞—Å–ª–µ–¥—É–µ—Ç EventEmitter
// –ø–æ—Ç–æ–º—É —á—Ç–æ Stream –Ø–í–õ–Ø–ï–¢–°–Ø EventEmitter
class ReadableStream extends EventEmitter {
  // ...
}
</code></pre>
<p><strong>–û–±—â–µ–µ –ø—Ä–∞–≤–∏–ª–æ:</strong> –ü—Ä–µ–¥–ø–æ—á–∏—Ç–∞–π—Ç–µ –∫–æ–º–ø–æ–∑–∏—Ü–∏—é –∏ –∞–≥—Ä–µ–≥–∞—Ü–∏—é –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏—é (Composition over Inheritance).</p>
<hr />
<h2 id="9-–ò–Ω–∫–∞–ø—Å—É–ª—è—Ü–∏—è-–∏-–∑–∞—â–∏—Ç–∞-–≤–Ω—É—Ç—Ä–µ–Ω–Ω–æ—Å—Ç–µ–π"><a class="header" href="#9-–ò–Ω–∫–∞–ø—Å—É–ª—è—Ü–∏—è-–∏-–∑–∞—â–∏—Ç–∞-–≤–Ω—É—Ç—Ä–µ–Ω–Ω–æ—Å—Ç–µ–π">9. –ò–Ω–∫–∞–ø—Å—É–ª—è—Ü–∏—è –∏ –∑–∞—â–∏—Ç–∞ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–æ—Å—Ç–µ–π</a></h2>
<h3 id="–ü—Ä–æ–±–ª–µ–º–∞-–î–æ—Å—Ç—É–ø-–∫-–≤–ª–æ–∂–µ–Ω–Ω—ã–º-–æ–±—ä–µ–∫—Ç–∞–º"><a class="header" href="#–ü—Ä–æ–±–ª–µ–º–∞-–î–æ—Å—Ç—É–ø-–∫-–≤–ª–æ–∂–µ–Ω–Ω—ã–º-–æ–±—ä–µ–∫—Ç–∞–º">–ü—Ä–æ–±–ª–µ–º–∞: –î–æ—Å—Ç—É–ø –∫ –≤–ª–æ–∂–µ–Ω–Ω—ã–º –æ–±—ä–µ–∫—Ç–∞–º</a></h3>
<pre><code class="language-javascript">// –ü–õ–û–•–û - —Ü–µ–ø–æ—á–∫–∞ —Ç–æ—á–µ–∫ —Ä–∞—Å–∫—Ä—ã–≤–∞–µ—Ç –≤–Ω—É—Ç—Ä–µ–Ω–Ω—é—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É
class Application {
  constructor() {
    this.state = {
      channels: new Map(),
      users: new Map()
    };
  }
}

const app = new Application();

// –ü–ª–æ—Ö–æ - –∑–Ω–∞–Ω–∏–µ –æ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–µ
app.state.channels.set('general', new Channel('general'));
app.state.users.set('user1', { name: 'Alice' });

// –û—á–µ–Ω—å –ø–ª–æ—Ö–æ - –≥–ª—É–±–æ–∫–∞—è –≤–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç—å
console.log(app.state.channels.get('general').messages[0].text);
</code></pre>
<p><strong>–ü—Ä–æ–±–ª–µ–º—ã:</strong></p>
<ul>
<li>–ö–ª–∏–µ–Ω—Ç –¥–æ–ª–∂–µ–Ω –∑–Ω–∞—Ç—å –≤–Ω—É—Ç—Ä–µ–Ω–Ω—é—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É</li>
<li>–ù–µ–≤–æ–∑–º–æ–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É –±–µ–∑ breaking changes</li>
<li>–ù–µ—Ç –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö</li>
<li>–õ–µ–≥–∫–æ —Å–æ–∑–¥–∞—Ç—å –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ</li>
</ul>
<h3 id="–†–µ—à–µ–Ω–∏–µ-–ò–Ω–∫–∞–ø—Å—É–ª—è—Ü–∏—è-—Å-–¥–µ–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ–º"><a class="header" href="#–†–µ—à–µ–Ω–∏–µ-–ò–Ω–∫–∞–ø—Å—É–ª—è—Ü–∏—è-—Å-–¥–µ–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ–º">–†–µ—à–µ–Ω–∏–µ: –ò–Ω–∫–∞–ø—Å—É–ª—è—Ü–∏—è —Å –¥–µ–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ–º</a></h3>
<pre><code class="language-javascript">class Application {
  constructor() {
    // –ü—Ä–∏–≤–∞—Ç–Ω—ã–µ –ø–æ–ª—è (convention —Å _)
    this._channels = new Map();
    this._users = new Map();
  }

  // –ü—É–±–ª–∏—á–Ω—ã–µ –º–µ—Ç–æ–¥—ã, —Å–∫—Ä—ã–≤–∞—é—â–∏–µ –≤–Ω—É—Ç—Ä–µ–Ω–Ω—é—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É
  addChannel(name) {
    if (this._channels.has(name)) {
      throw new Error(`Channel ${name} already exists`);
    }

    const channel = new Channel(this, name);
    this._channels.set(name, channel);
    return channel;
  }

  getChannel(name) {
    return this._channels.get(name);
  }

  hasChannel(name) {
    return this._channels.has(name);
  }

  removeChannel(name) {
    const channel = this._channels.get(name);
    if (channel) {
      channel.destroy(); // –ö–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞
      this._channels.delete(name);
    }
  }

  // –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π –±–µ–∑ —Ä–∞—Å–∫—Ä—ã—Ç–∏—è —Å—Ç—Ä—É–∫—Ç—É—Ä—ã
  getChannelMessages(channelName, limit = 10) {
    const channel = this._channels.get(channelName);

    if (!channel) {
      throw new Error(`Channel ${channelName} not found`);
    }

    // –í–æ–∑–≤—Ä–∞—â–∞–µ–º –∫–æ–ø–∏—é —Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ–º
    return channel.getHistory().slice(-limit);
  }

  // –ò—Ç–µ—Ä–∞—Ç–æ—Ä –¥–ª—è –∫–∞–Ω–∞–ª–æ–≤
  *channels() {
    yield* this._channels.values();
  }
}

// –ü–†–ê–í–ò–õ–¨–ù–û–ï –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
const app = new Application();

// –•–æ—Ä–æ—à–æ - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø—É–±–ª–∏—á–Ω–æ–≥–æ API
const general = app.addChannel('general');
general.send('–°–æ–æ–±—â–µ–Ω–∏–µ', 'Alice');

// –•–æ—Ä–æ—à–æ - –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ–º—ã–π –¥–æ—Å—Ç—É–ø –∫ –¥–∞–Ω–Ω—ã–º
const messages = app.getChannelMessages('general', 5);
console.log(messages);

// –•–æ—Ä–æ—à–æ - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∏—Ç–µ—Ä–∞—Ç–æ—Ä–∞
for (const channel of app.channels()) {
  console.log(channel.name);
}
</code></pre>
<h3 id="–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ-–ø—Ä–∏–≤–∞—Ç–Ω—ã—Ö-–ø–æ–ª–µ–π-—Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π-javascript"><a class="header" href="#–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ-–ø—Ä–∏–≤–∞—Ç–Ω—ã—Ö-–ø–æ–ª–µ–π-—Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π-javascript">–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø—Ä–∏–≤–∞—Ç–Ω—ã—Ö –ø–æ–ª–µ–π (—Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π JavaScript)</a></h3>
<pre><code class="language-javascript">class Application {
  // –ù–∞—Å—Ç–æ—è—â–∏–µ –ø—Ä–∏–≤–∞—Ç–Ω—ã–µ –ø–æ–ª—è (ES2022)
  #channels = new Map();
  #users = new Map();
  #emitter = new EventEmitter();

  addChannel(name) {
    if (this.#channels.has(name)) {
      throw new Error(`Channel ${name} already exists`);
    }

    const channel = new Channel(this, name);
    this.#channels.set(name, channel);
    this.#emitter.emit('channel:created', { name });
    return channel;
  }

  // –î–µ–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å –∫–æ–Ω—Ç—Ä–æ–ª–µ–º
  on(event, handler) {
    // –ú–æ–∂–µ–º –≤–∞–ª–∏–¥–∏—Ä–æ–≤–∞—Ç—å —Å–æ–±—ã—Ç–∏—è
    const allowedEvents = ['channel:created', 'channel:removed', 'message'];
    if (!allowedEvents.includes(event)) {
      throw new Error(`Unknown event: ${event}`);
    }

    this.#emitter.on(event, handler);
  }

  getChannel(name) {
    return this.#channels.get(name);
  }
}

// –ü–æ–ø—ã—Ç–∫–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ –ø—Ä–∏–≤–∞—Ç–Ω–æ–º—É –ø–æ–ª—é –≤—ã–∑–æ–≤–µ—Ç –æ—à–∏–±–∫—É
const app = new Application();
// app.#channels // SyntaxError: Private field '#channels' must be declared in an enclosing class
</code></pre>
<hr />
<h2 id="10-–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ-—Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏"><a class="header" href="#10-–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ-—Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏">10. –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏</a></h2>
<h3 id="–ß–µ–∫-–ª–∏—Å—Ç-–ø—Ä–∏-–ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏"><a class="header" href="#–ß–µ–∫-–ª–∏—Å—Ç-–ø—Ä–∏-–ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏">–ß–µ–∫-–ª–∏—Å—Ç –ø—Ä–∏ –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏</a></h3>
<ol>
<li>
<p><strong>–ò–∑–±–µ–≥–∞–π—Ç–µ –≤–Ω–µ—à–Ω–µ–π –∞—Å—Å–æ—Ü–∏–∞—Ü–∏–∏</strong></p>
<ul>
<li>–ù–µ –ø—Ä–∏—Å–≤–∞–∏–≤–∞–π—Ç–µ —Å–≤–æ–π—Å—Ç–≤–∞ –æ–±—ä–µ–∫—Ç–∞–º –∏–∑–≤–Ω–µ</li>
<li>–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä—ã, —Ñ–∞–±—Ä–∏–∫–∏ –∏–ª–∏ —Å–µ—Ç—Ç–µ—Ä—ã</li>
</ul>
</li>
<li>
<p><strong>–ü—Ä–µ–¥–ø–æ—á–∏—Ç–∞–π—Ç–µ –∞–≥—Ä–µ–≥–∞—Ü–∏—é –∏ –∫–æ–º–ø–æ–∑–∏—Ü–∏—é –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏—é</strong></p>
<ul>
<li>–ù–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ —Ç–æ–ª—å–∫–æ –¥–ª—è –æ—Ç–Ω–æ—à–µ–Ω–∏–π "—è–≤–ª—è–µ—Ç—Å—è"</li>
<li>–ö–æ–º–ø–æ–∑–∏—Ü–∏—è –¥–ª—è "—Å–æ–¥–µ—Ä–∂–∏—Ç" —Å –≤–ª–∞–¥–µ–Ω–∏–µ–º</li>
<li>–ê–≥—Ä–µ–≥–∞—Ü–∏—è –¥–ª—è "–∏—Å–ø–æ–ª—å–∑—É–µ—Ç" –±–µ–∑ –≤–ª–∞–¥–µ–Ω–∏—è</li>
</ul>
</li>
<li>
<p><strong>–°–∫—Ä—ã–≤–∞–π—Ç–µ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–æ—Å—Ç–∏</strong></p>
<ul>
<li>–ù–µ —Ä–∞—Å–∫—Ä—ã–≤–∞–π—Ç–µ –≤–Ω—É—Ç—Ä–µ–Ω–Ω—é—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É</li>
<li>–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø—Ä–∏–≤–∞—Ç–Ω—ã–µ –ø–æ–ª—è –∏–ª–∏ convention —Å <code>_</code></li>
<li>–ò–∑–±–µ–≥–∞–π—Ç–µ —Ü–µ–ø–æ—á–µ–∫ –≤—ã–∑–æ–≤–æ–≤ —á–µ—Ä–µ–∑ —Ç–æ—á–∫—É</li>
</ul>
</li>
<li>
<p><strong>–î–µ–ª–µ–≥–∏—Ä—É–π—Ç–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å</strong></p>
<ul>
<li>–°–æ–∑–¥–∞–≤–∞–π—Ç–µ –ø—É–±–ª–∏—á–Ω—ã–µ –º–µ—Ç–æ–¥—ã –≤–º–µ—Å—Ç–æ –ø—Ä—è–º–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞</li>
<li>–ê–¥–∞–ø—Ç–∏—Ä—É–π—Ç–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏</li>
<li>–í–∞–ª–∏–¥–∏—Ä—É–π—Ç–µ –¥–∞–Ω–Ω—ã–µ –≤ —Ç–æ—á–∫–µ –≤—Ö–æ–¥–∞</li>
</ul>
</li>
<li>
<p><strong>–£–ø—Ä–∞–≤–ª—è–π—Ç–µ –∂–∏–∑–Ω–µ–Ω–Ω—ã–º —Ü–∏–∫–ª–æ–º</strong></p>
<ul>
<li>–í–ª–∞–¥–µ–ª–µ—Ü –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ —É–Ω–∏—á—Ç–æ–∂–µ–Ω–∏–µ</li>
<li>–û—á–∏—â–∞–π—Ç–µ —Å–ª—É—à–∞—Ç–µ–ª–µ–π —Å–æ–±—ã—Ç–∏–π</li>
<li>–ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–π—Ç–µ —É—Ç–µ—á–∫–∏ –ø–∞–º—è—Ç–∏</li>
</ul>
</li>
</ol>
<h3 id="–ü—Ä–∏–º–µ—Ä-–ü–æ–ª–Ω—ã–π-—Ü–∏–∫–ª-–æ—Ç-–ø–ª–æ—Ö–æ–≥–æ-–∫-—Ö–æ—Ä–æ—à–µ–º—É-–∫–æ–¥—É"><a class="header" href="#–ü—Ä–∏–º–µ—Ä-–ü–æ–ª–Ω—ã–π-—Ü–∏–∫–ª-–æ—Ç-–ø–ª–æ—Ö–æ–≥–æ-–∫-—Ö–æ—Ä–æ—à–µ–º—É-–∫–æ–¥—É">–ü—Ä–∏–º–µ—Ä: –ü–æ–ª–Ω—ã–π —Ü–∏–∫–ª –æ—Ç –ø–ª–æ—Ö–æ–≥–æ –∫ —Ö–æ—Ä–æ—à–µ–º—É –∫–æ–¥—É</a></h3>
<h4 id="–ü–ª–æ—Ö–æ-–í–Ω–µ—à–Ω—è—è-–∞—Å—Å–æ—Ü–∏–∞—Ü–∏—è-–¥–æ—Å—Ç—É–ø-–∫-–≤–Ω—É—Ç—Ä–µ–Ω–Ω–æ—Å—Ç—è–º"><a class="header" href="#–ü–ª–æ—Ö–æ-–í–Ω–µ—à–Ω—è—è-–∞—Å—Å–æ—Ü–∏–∞—Ü–∏—è-–¥–æ—Å—Ç—É–ø-–∫-–≤–Ω—É—Ç—Ä–µ–Ω–Ω–æ—Å—Ç—è–º">–ü–ª–æ—Ö–æ: –í–Ω–µ—à–Ω—è—è –∞—Å—Å–æ—Ü–∏–∞—Ü–∏—è, –¥–æ—Å—Ç—É–ø –∫ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–æ—Å—Ç—è–º</a></h4>
<pre><code class="language-javascript">class Application {
  constructor() {
    this.channels = [];
    this.emitter = new EventEmitter();
  }
}

const app = new Application();
const channel = new Channel('general');

// –ü–ª–æ—Ö–æ - –≤–Ω–µ—à–Ω—è—è –∞—Å—Å–æ—Ü–∏–∞—Ü–∏—è
app.channels.push(channel);

// –ü–ª–æ—Ö–æ - –ø—Ä—è–º–æ–π –¥–æ—Å—Ç—É–ø
app.emitter.emit('channel:created', channel);

// –ü–ª–æ—Ö–æ - –ª–∞–∑–∞–Ω–∏–µ –≤ –∫–∏—à–∫–∏
app.channels[0].messages.push({ text: '–ü—Ä–∏–≤–µ—Ç' });
</code></pre>
<h4 id="–°—Ä–µ–¥–Ω–µ-–ú–µ—Ç–æ–¥—ã-–µ—Å—Ç—å-–Ω–æ-—Å–ª–∞–±–∞—è-–∏–Ω–∫–∞–ø—Å—É–ª—è—Ü–∏—è"><a class="header" href="#–°—Ä–µ–¥–Ω–µ-–ú–µ—Ç–æ–¥—ã-–µ—Å—Ç—å-–Ω–æ-—Å–ª–∞–±–∞—è-–∏–Ω–∫–∞–ø—Å—É–ª—è—Ü–∏—è">–°—Ä–µ–¥–Ω–µ: –ú–µ—Ç–æ–¥—ã –µ—Å—Ç—å, –Ω–æ —Å–ª–∞–±–∞—è –∏–Ω–∫–∞–ø—Å—É–ª—è—Ü–∏—è</a></h4>
<pre><code class="language-javascript">class Application {
  constructor() {
    this.channels = new Map();
    this.emitter = new EventEmitter();
  }

  addChannel(channel) {
    this.channels.set(channel.name, channel);
    this.emitter.emit('channel:created', channel);
  }
}

const app = new Application();

// –°—Ä–µ–¥–Ω–µ - –º–µ—Ç–æ–¥ –µ—Å—Ç—å, –Ω–æ —Å–æ–∑–¥–∞–Ω–∏–µ —Å–Ω–∞—Ä—É–∂–∏
const channel = new Channel('general');
app.addChannel(channel);

// –í—Å–µ –µ—â–µ –º–æ–∂–Ω–æ –ª–∞–∑–∏—Ç—å
app.channels.get('general').messages.push({ text: '–ü—Ä–∏–≤–µ—Ç' });
</code></pre>
<h4 id="–•–æ—Ä–æ—à–æ-–ü–æ–ª–Ω–∞—è-–∏–Ω–∫–∞–ø—Å—É–ª—è—Ü–∏—è-–¥–µ–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ-—É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ"><a class="header" href="#–•–æ—Ä–æ—à–æ-–ü–æ–ª–Ω–∞—è-–∏–Ω–∫–∞–ø—Å—É–ª—è—Ü–∏—è-–¥–µ–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ-—É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ">–•–æ—Ä–æ—à–æ: –ü–æ–ª–Ω–∞—è –∏–Ω–∫–∞–ø—Å—É–ª—è—Ü–∏—è, –¥–µ–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ, —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ</a></h4>
<pre><code class="language-javascript">class Channel {
  #messages = [];
  #emitter = new EventEmitter();

  constructor(app, name) {
    this.app = app;
    this.name = name;
  }

  on(event, handler) {
    this.#emitter.on(event, handler);
  }

  send(message, author) {
    const data = { message, author, timestamp: Date.now() };
    this.#messages.push(data);
    this.#emitter.emit('message', data);
    this.app.notifyMessage(this.name, data);
  }

  getHistory(limit = 100) {
    return this.#messages.slice(-limit).map(msg =&gt; ({ ...msg }));
  }

  destroy() {
    this.#emitter.removeAllListeners();
    this.#messages = [];
  }
}

class Application {
  #channels = new Map();
  #emitter = new EventEmitter();

  on(event, handler) {
    this.#emitter.on(event, handler);
  }

  createChannel(name) {
    if (this.#channels.has(name)) {
      throw new Error(`Channel ${name} already exists`);
    }

    const channel = new Channel(this, name);
    this.#channels.set(name, channel);
    this.#emitter.emit('channel:created', { name });
    return channel;
  }

  getChannel(name) {
    return this.#channels.get(name);
  }

  removeChannel(name) {
    const channel = this.#channels.get(name);
    if (channel) {
      channel.destroy();
      this.#channels.delete(name);
      this.#emitter.emit('channel:removed', { name });
    }
  }

  notifyMessage(channelName, messageData) {
    this.#emitter.emit('message', {
      channel: channelName,
      ...messageData
    });
  }

  *channels() {
    yield* this.#channels.values();
  }
}

// –ü–†–ê–í–ò–õ–¨–ù–û–ï –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
const app = new Application();

app.on('channel:created', ({ name }) =&gt; {
  console.log(`–ö–∞–Ω–∞–ª —Å–æ–∑–¥–∞–Ω: ${name}`);
});

app.on('message', ({ channel, message, author }) =&gt; {
  console.log(`[${channel}] ${author}: ${message}`);
});

const general = app.createChannel('general');
general.send('–ü—Ä–∏–≤–µ—Ç!', 'Alice');

const history = general.getHistory(10);
console.log('–ò—Å—Ç–æ—Ä–∏—è:', history);

app.removeChannel('general');
</code></pre>
<hr />
<h2 id="–†–µ–∑—é–º–µ-3"><a class="header" href="#–†–µ–∑—é–º–µ-3">–†–µ–∑—é–º–µ</a></h2>
<h3 id="–ö–ª—é—á–µ–≤—ã–µ-–ø–æ–Ω—è—Ç–∏—è"><a class="header" href="#–ö–ª—é—á–µ–≤—ã–µ-–ø–æ–Ω—è—Ç–∏—è">–ö–ª—é—á–µ–≤—ã–µ –ø–æ–Ω—è—Ç–∏—è</a></h3>
<ol>
<li>
<p><strong>–ò–Ω—Å—Ç–∞–Ω—Ü–∏—Ä–æ–≤–∞–Ω–∏–µ</strong> ‚Äî —Å–æ–∑–¥–∞–Ω–∏–µ —ç–∫–∑–µ–º–ø–ª—è—Ä–æ–≤ –∏ —Å–≤—è–∑—ã–≤–∞–Ω–∏–µ –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–π</p>
</li>
<li>
<p><strong>–ê—Å—Å–æ—Ü–∏–∞—Ü–∏—è</strong> ‚Äî —Å–ª–∞–±–∞—è —Å–≤—è–∑—å –æ–±—ä–µ–∫—Ç–æ–≤ (–∏–∑–±–µ–≥–∞—Ç—å –≤–Ω–µ—à–Ω–µ–π –∞—Å—Å–æ—Ü–∏–∞—Ü–∏–∏)</p>
</li>
<li>
<p><strong>–ê–≥—Ä–µ–≥–∞—Ü–∏—è</strong> ‚Äî –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –æ–±—ä–µ–∫—Ç–∞ –±–µ–∑ –≤–ª–∞–¥–µ–Ω–∏—è (–ø–µ—Ä–µ–¥–∞—á–∞ —á–µ—Ä–µ–∑ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä)</p>
<ul>
<li>–ù–µ –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ —Å–æ–∑–¥–∞–Ω–∏–µ</li>
<li>–ù–µ –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ —É–Ω–∏—á—Ç–æ–∂–µ–Ω–∏–µ</li>
<li>–í—ã—Å–æ–∫–∞—è –≥–∏–±–∫–æ—Å—Ç—å</li>
</ul>
</li>
<li>
<p><strong>–ö–æ–º–ø–æ–∑–∏—Ü–∏—è</strong> ‚Äî –≤–ª–∞–¥–µ–Ω–∏–µ –æ–±—ä–µ–∫—Ç–æ–º (—Å–æ–∑–¥–∞–Ω–∏–µ –≤–Ω—É—Ç—Ä–∏)</p>
<ul>
<li>–ü–æ–ª–Ω–∞—è –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å –∑–∞ –∂–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª</li>
<li>–°–∏–ª—å–Ω–∞—è —Å–≤—è–∑–∞–Ω–Ω–æ—Å—Ç—å, –Ω–æ —É–ø—Ä–æ—â–µ–Ω–∏–µ API</li>
<li>–ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏—Ö –¥–µ—Ç–∞–ª–µ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏</li>
</ul>
</li>
<li>
<p><strong>–î–µ–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ</strong> ‚Äî –ø–µ—Ä–µ–¥–∞—á–∞ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ —á–µ—Ä–µ–∑ –ø—É–±–ª–∏—á–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å</p>
<ul>
<li>–°–∫—Ä—ã–≤–∞–µ—Ç –≤–Ω—É—Ç—Ä–µ–Ω–Ω—é—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É</li>
<li>–ü–æ–∑–≤–æ–ª—è–µ—Ç –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã</li>
<li>–û–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –∏–Ω–∫–∞–ø—Å—É–ª—è—Ü–∏—é</li>
</ul>
</li>
<li>
<p><strong>–ò–Ω–∫–∞–ø—Å—É–ª—è—Ü–∏—è</strong> ‚Äî —Å–æ–∫—Ä—ã—Ç–∏–µ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏—Ö –¥–µ—Ç–∞–ª–µ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏</p>
<ul>
<li>–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø—Ä–∏–≤–∞—Ç–Ω—ã–µ –ø–æ–ª—è</li>
<li>–ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–π—Ç–µ –ø—É–±–ª–∏—á–Ω—ã–µ –º–µ—Ç–æ–¥—ã</li>
<li>–ò–∑–±–µ–≥–∞–π—Ç–µ —Ü–µ–ø–æ—á–µ–∫ –¥–æ—Å—Ç—É–ø–∞ —á–µ—Ä–µ–∑ —Ç–æ—á–∫—É</li>
</ul>
</li>
</ol>
<h3 id="–ü—Ä–∏–Ω—Ü–∏–ø—ã-–ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è"><a class="header" href="#–ü—Ä–∏–Ω—Ü–∏–ø—ã-–ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è">–ü—Ä–∏–Ω—Ü–∏–ø—ã –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è</a></h3>
<ul>
<li><strong>Composition over Inheritance</strong> ‚Äî –ø—Ä–µ–¥–ø–æ—á–∏—Ç–∞–π—Ç–µ –∫–æ–º–ø–æ–∑–∏—Ü–∏—é –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏—é</li>
<li><strong>Information Hiding</strong> ‚Äî —Å–∫—Ä—ã–≤–∞–π—Ç–µ –¥–µ—Ç–∞–ª–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏</li>
<li><strong>Separation of Concerns</strong> ‚Äî —Ä–∞–∑–¥–µ–ª—è–π—Ç–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏</li>
<li><strong>Loose Coupling</strong> ‚Äî —Å—Ç—Ä–µ–º–∏—Ç–µ—Å—å –∫ —Å–ª–∞–±–æ–π —Å–≤—è–∑–∞–Ω–Ω–æ—Å—Ç–∏</li>
<li><strong>Dependency Injection</strong> ‚Äî –ø–µ—Ä–µ–¥–∞–≤–∞–π—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∏–∑–≤–Ω–µ (–∞–≥—Ä–µ–≥–∞—Ü–∏—è)</li>
</ul>
<h3 id="–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ-—Å–æ–≤–µ—Ç—ã-1"><a class="header" href="#–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ-—Å–æ–≤–µ—Ç—ã-1">–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ —Å–æ–≤–µ—Ç—ã</a></h3>
<ol>
<li>–ù–∞—á–∏–Ω–∞–π—Ç–µ —Å –∞–≥—Ä–µ–≥–∞—Ü–∏–∏ ‚Äî —ç—Ç–æ –¥–∞–µ—Ç –º–∞–∫—Å–∏–º–∞–ª—å–Ω—É—é –≥–∏–±–∫–æ—Å—Ç—å</li>
<li>–ü–µ—Ä–µ—Ö–æ–¥–∏—Ç–µ –∫ –∫–æ–º–ø–æ–∑–∏—Ü–∏–∏, –∫–æ–≥–¥–∞ –Ω—É–∂–µ–Ω –∫–æ–Ω—Ç—Ä–æ–ª—å –∂–∏–∑–Ω–µ–Ω–Ω–æ–≥–æ —Ü–∏–∫–ª–∞</li>
<li>–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –¥–µ–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è —Å–∫—Ä—ã—Ç–∏—è –¥–µ—Ç–∞–ª–µ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏</li>
<li>–ò–∑–±–µ–≥–∞–π—Ç–µ –≥–ª—É–±–æ–∫–∏—Ö –∏–µ—Ä–∞—Ä—Ö–∏–π –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è (–±–æ–ª–µ–µ 2 —É—Ä–æ–≤–Ω–µ–π)</li>
<li>–í—Å–µ–≥–¥–∞ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–π—Ç–µ –º–µ—Ç–æ–¥—ã –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥–æ —É–Ω–∏—á—Ç–æ–∂–µ–Ω–∏—è –æ–±—ä–µ–∫—Ç–æ–≤</li>
<li>–ü–æ–º–Ω–∏—Ç–µ –æ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–∏ —É—Ç–µ—á–µ–∫ –ø–∞–º—è—Ç–∏ –ø—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å —Å–æ–±—ã—Ç–∏—è–º–∏</li>
</ol>
<hr />
<h2 id="–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ-—Ä–µ—Å—É—Ä—Å—ã-4"><a class="header" href="#–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ-—Ä–µ—Å—É—Ä—Å—ã-4">–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã</a></h2>
<h3 id="–°–≤—è–∑–∞–Ω–Ω—ã–µ-–ø–∞—Ç—Ç–µ—Ä–Ω—ã"><a class="header" href="#–°–≤—è–∑–∞–Ω–Ω—ã–µ-–ø–∞—Ç—Ç–µ—Ä–Ω—ã">–°–≤—è–∑–∞–Ω–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã</a></h3>
<ul>
<li><strong>Dependency Injection</strong> ‚Äî –ø–µ—Ä–µ–¥–∞—á–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –∏–∑–≤–Ω–µ</li>
<li><strong>Factory Pattern</strong> ‚Äî —Å–æ–∑–¥–∞–Ω–∏–µ –æ–±—ä–µ–∫—Ç–æ–≤ —á–µ—Ä–µ–∑ —Ñ–∞–±—Ä–∏—á–Ω—ã–µ –º–µ—Ç–æ–¥—ã</li>
<li><strong>Adapter Pattern</strong> ‚Äî –∞–¥–∞–ø—Ç–∞—Ü–∏—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤ –ø—Ä–∏ –¥–µ–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–∏–∏</li>
<li><strong>Facade Pattern</strong> ‚Äî —É–ø—Ä–æ—â–µ–Ω–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∫ —Å–ª–æ–∂–Ω–æ–π —Å–∏—Å—Ç–µ–º–µ</li>
<li><strong>Proxy Pattern</strong> ‚Äî –∫–æ–Ω—Ç—Ä–æ–ª—å –¥–æ—Å—Ç—É–ø–∞ –∫ –æ–±—ä–µ–∫—Ç—É</li>
</ul>
<h3 id="–ü—Ä–∏–Ω—Ü–∏–ø—ã-solid"><a class="header" href="#–ü—Ä–∏–Ω—Ü–∏–ø—ã-solid">–ü—Ä–∏–Ω—Ü–∏–ø—ã SOLID</a></h3>
<ul>
<li><strong>Single Responsibility</strong> ‚Äî –∫–ª–∞—Å—Å –¥–æ–ª–∂–µ–Ω –∏–º–µ—Ç—å –æ–¥–Ω—É –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å</li>
<li><strong>Open/Closed</strong> ‚Äî –æ—Ç–∫—Ä—ã—Ç –¥–ª—è —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è, –∑–∞–∫—Ä—ã—Ç –¥–ª—è –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏–∏</li>
<li><strong>Liskov Substitution</strong> ‚Äî –ø–æ–¥–∫–ª–∞—Å—Å—ã –¥–æ–ª–∂–Ω—ã –∑–∞–º–µ–Ω—è—Ç—å –±–∞–∑–æ–≤—ã–µ –∫–ª–∞—Å—Å—ã</li>
<li><strong>Interface Segregation</strong> ‚Äî –º–Ω–æ–≥–æ —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤ –ª—É—á—à–µ –æ–¥–Ω–æ–≥–æ –æ–±—â–µ–≥–æ</li>
<li><strong>Dependency Inversion</strong> ‚Äî –∑–∞–≤–∏—Å–µ—Ç—å –æ—Ç –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–π, –∞ –Ω–µ –æ—Ç –∫–æ–Ω–∫—Ä–µ—Ç–∏–∫–∏</li>
</ul>
<h3 id="–î–ª—è-–¥–∞–ª—å–Ω–µ–π—à–µ–≥–æ-–∏–∑—É—á–µ–Ω–∏—è"><a class="header" href="#–î–ª—è-–¥–∞–ª—å–Ω–µ–π—à–µ–≥–æ-–∏–∑—É—á–µ–Ω–∏—è">–î–ª—è –¥–∞–ª—å–Ω–µ–π—à–µ–≥–æ –∏–∑—É—á–µ–Ω–∏—è</a></h3>
<ul>
<li>Patterns of Enterprise Application Architecture (Martin Fowler)</li>
<li>Design Patterns: Elements of Reusable Object-Oriented Software (Gang of Four)</li>
<li>Clean Architecture (Robert Martin)</li>
<li>Domain-Driven Design (Eric Evans)</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="builder-pattern---lecture-notes"><a class="header" href="#builder-pattern---lecture-notes">Builder Pattern - Lecture Notes</a></h1>
<h2 id="overview"><a class="header" href="#overview">Overview</a></h2>
<p>The <strong>Builder Pattern</strong> is a creational design pattern from the Gang of Four (GoF) that separates the construction of complex objects from their representation. It allows you to construct complex objects step by step, providing flexibility in creating different representations of an object using the same construction process.</p>
<h3 id="main-purpose"><a class="header" href="#main-purpose">Main Purpose</a></h3>
<p>The Builder pattern addresses the problem of complex object instantiation by:</p>
<ul>
<li>Separating object construction logic from the domain model/class itself</li>
<li>Moving instantiation logic to a dedicated builder class</li>
<li>Providing a clean interface for object initialization and modification</li>
<li>Allowing different configurations and variations of object creation</li>
</ul>
<hr />
<h2 id="key-concepts"><a class="header" href="#key-concepts">Key Concepts</a></h2>
<h3 id="the-problem"><a class="header" href="#the-problem">The Problem</a></h3>
<p>When a constructor becomes too complex and we want to separate the instantiation logic from the domain model or class itself, we can extract this responsibility into a separate class that specializes in creating instances.</p>
<p><strong>Key insight</strong>: The Builder is a class dedicated to instantiating another class (or multiple classes).</p>
<h3 id="core-components"><a class="header" href="#core-components">Core Components</a></h3>
<p>The Builder pattern typically involves three main components:</p>
<ol>
<li><strong>Product</strong> - The complex object being built</li>
<li><strong>Builder</strong> - The class responsible for constructing the product</li>
<li><strong>Director</strong> (optional) - Controls the sequence of building steps</li>
</ol>
<p><strong>Important</strong>: The Director is not always required - it's an optional component that manages the order of construction steps.</p>
<hr />
<h2 id="advantages-of-the-builder-pattern"><a class="header" href="#advantages-of-the-builder-pattern">Advantages of the Builder Pattern</a></h2>
<h3 id="1-separation-of-responsibilities"><a class="header" href="#1-separation-of-responsibilities">1. Separation of Responsibilities</a></h3>
<p>The pattern achieves clear separation of concerns by isolating the construction logic from the business logic of the object being created.</p>
<h3 id="2-flexible-initialization"><a class="header" href="#2-flexible-initialization">2. Flexible Initialization</a></h3>
<p>Through different options and methods, you can create various initialization variants. The initialization process doesn't have to be linear - it can support multiple alternative configurations.</p>
<h3 id="3-complexity-hiding"><a class="header" href="#3-complexity-hiding">3. Complexity Hiding</a></h3>
<p>If complexity can be hidden and isolated behind the Builder pattern, this is actually beneficial:</p>
<ul>
<li>The complex code can be properly tested in isolation</li>
<li>The main codebase remains clean and simple</li>
<li>Code size increases, but complexity is encapsulated</li>
</ul>
<hr />
<h2 id="disadvantages-of-the-builder-pattern"><a class="header" href="#disadvantages-of-the-builder-pattern">Disadvantages of the Builder Pattern</a></h2>
<h3 id="1-increased-complexity"><a class="header" href="#1-increased-complexity">1. Increased Complexity</a></h3>
<p>Without the Builder pattern there's already complexity, but adding the pattern introduces additional structural complexity.</p>
<h3 id="2-code-size"><a class="header" href="#2-code-size">2. Code Size</a></h3>
<p>Additional classes need to be created (Director, Builder), which means more code to maintain.</p>
<p><strong>However</strong>: If complexity is properly hidden and isolated, and the code is well-tested, the increased code size becomes less of a concern. The benefits of encapsulation often outweigh the cost.</p>
<hr />
<h2 id="classic-implementation-example"><a class="header" href="#classic-implementation-example">Classic Implementation Example</a></h2>
<h3 id="product-class"><a class="header" href="#product-class">Product Class</a></h3>
<p>The product is the object we want to build. In this example, it has three fields:</p>
<pre><code class="language-javascript">class Product {
  constructor() {
    this.field1 = null;
    this.field2 = null;
    this.field3 = null;
  }
}
</code></pre>
<h3 id="abstract-builder"><a class="header" href="#abstract-builder">Abstract Builder</a></h3>
<p>The abstract builder defines the interface for all concrete builders. In classical implementation, it includes:</p>
<ul>
<li>A constructor that throws an exception (cannot be instantiated directly)</li>
<li>Step methods for building (step1, step2, step3)</li>
<li>CreateInstance method for creating the product instance</li>
<li>GetInstance method for retrieving the finished product</li>
</ul>
<pre><code class="language-javascript">class AbstractBuilder {
  constructor() {
    // Cannot be called directly - throws exception
    throw new Error('Abstract class cannot be instantiated');
  }

  step1() {
    throw new Error('Method must be implemented');
  }

  step2() {
    throw new Error('Method must be implemented');
  }

  step3() {
    throw new Error('Method must be implemented');
  }

  createInstance() {
    throw new Error('Method must be implemented');
  }

  getInstance() {
    throw new Error('Method must be implemented');
  }
}
</code></pre>
<h3 id="concrete-builder"><a class="header" href="#concrete-builder">Concrete Builder</a></h3>
<p>The concrete builder inherits from the abstract builder and implements all methods:</p>
<pre><code class="language-javascript">class ConcreteBuilder extends AbstractBuilder {
  constructor() {
    super(); // This won't throw because we're in subclass
    this.instance = null;
  }

  createInstance() {
    // Creates a new product instance
    this.instance = new Product();
    return this;
  }

  step1() {
    // Initialize field1
    this.instance.field1 = 'value1';
    return this;
  }

  step2() {
    // Initialize field2
    this.instance.field2 = 'value2';
    // Could also:
    // - Establish connections
    // - Set up timeouts
    // - Attach callbacks
    // - Any complex initialization
    return this;
  }

  step3() {
    // Initialize field3
    this.instance.field3 = 'value3';
    return this;
  }

  getInstance() {
    // Returns the finished product
    const result = this.instance;
    this.instance = null; // Reset for next build
    return result;
  }
}
</code></pre>
<h3 id="director"><a class="header" href="#director">Director</a></h3>
<p>The Director manages the sequence of building steps:</p>
<pre><code class="language-javascript">class Director {
  constructor(builder) {
    this.builder = builder;
  }

  create() {
    // Orchestrates the building process
    this.builder.createInstance();
    this.builder.step1();
    this.builder.step2();
    this.builder.step3();
    return this.builder.getInstance();
  }
}
</code></pre>
<h3 id="usage---classic-pattern"><a class="header" href="#usage---classic-pattern">Usage - Classic Pattern</a></h3>
<pre><code class="language-javascript">// Create a concrete builder
const builder = new ConcreteBuilder();

// Pass it to the director
const director = new Director(builder);

// Director executes all steps and returns the product
const product = director.create();

// All complexity is hidden during construction
</code></pre>
<p><strong>Note</strong>: While this follows the classical pattern from books (adapted from Java-style examples), JavaScript offers more flexible alternatives due to first-class functions.</p>
<hr />
<h2 id="modern-javascript-approach"><a class="header" href="#modern-javascript-approach">Modern JavaScript Approach</a></h2>
<h3 id="alternative-without-director"><a class="header" href="#alternative-without-director">Alternative Without Director</a></h3>
<p>In JavaScript, with first-class functions, we can simplify the pattern. Steps can be separate functions or procedures that are called sequentially, then combined in a factory function.</p>
<pre><code class="language-javascript">// Simple factory approach
function createProduct(config) {
  const product = new Product();

  // Apply configuration steps
  if (config.field1) product.field1 = config.field1;
  if (config.field2) product.field2 = config.field2;
  if (config.field3) product.field3 = config.field3;

  return product;
}
</code></pre>
<p>This is often simpler and more idiomatic in JavaScript than the full classical pattern.</p>
<hr />
<h2 id="practical-example-query-builder"><a class="header" href="#practical-example-query-builder">Practical Example: Query Builder</a></h2>
<p>A real-world example that demonstrates the Builder pattern is a SQL Query Builder. This example shows how to construct complex SQL queries step by step.</p>
<h3 id="querybuilder-class"><a class="header" href="#querybuilder-class">QueryBuilder Class</a></h3>
<pre><code class="language-javascript">class QueryBuilder {
  constructor(table) {
    // Initialize options object with table and empty clauses
    this.options = {
      table: table,
      fields: '*',
      where: '',
      order: '',
      limit: ''
    };
  }

  // Method to set WHERE clause
  where(conditions) {
    this.options.where = conditions;
    return this; // Return this for method chaining
  }

  // Method to set ORDER BY clause
  order(field) {
    this.options.order = field;
    return this; // Return this for method chaining
  }

  // Method to set LIMIT clause
  limit(count) {
    this.options.limit = count;
    return this; // Return this for method chaining
  }

  // Build and return the final SQL query
  then(resolve, reject) {
    // Extract all accumulated options
    const { table, fields, where, order, limit } = this.options;

    // Build query parts
    let query = `SELECT ${fields} FROM ${table}`;

    if (where) {
      query += ` WHERE ${where}`;
    }

    if (order) {
      query += ` ORDER BY ${order}`;
    }

    if (limit) {
      query += ` LIMIT ${limit}`;
    }

    // Return the complete query
    // In real implementation, this would execute the query
    resolve(query);
  }
}
</code></pre>
<h3 id="key-features"><a class="header" href="#key-features">Key Features</a></h3>
<p><strong>Method Chaining</strong>: Each method returns <code>this</code>, enabling fluent interface:</p>
<pre><code class="language-javascript">builder.where('country = "UA"').order('population').limit(10);
</code></pre>
<p><strong>Thenable Contract</strong>: The class implements a <code>then</code> method, making it compatible with async/await and Promise chains. This means you can use <code>await</code> before the constructor:</p>
<pre><code class="language-javascript">const result = await new QueryBuilder('cities')
  .where('country = "UA"')
  .order('population')
  .limit(10);
</code></pre>
<h3 id="usage-example---method-chaining"><a class="header" href="#usage-example---method-chaining">Usage Example - Method Chaining</a></h3>
<pre><code class="language-javascript">// Using method chaining syntax
const query = await new QueryBuilder('cities')
  .where('country = "UA" AND type = 1')
  .order('population')
  .limit(10);

// Query built:
// "SELECT * FROM cities WHERE country = "UA" AND type = 1 ORDER BY population LIMIT 10"
</code></pre>
<p><strong>Advantages of chaining</strong>:</p>
<ul>
<li>Clean, readable syntax</li>
<li>Each step is explicit</li>
<li>Flexible - can add or remove steps easily</li>
</ul>
<hr />
<h2 id="adding-a-director-to-query-builder"><a class="header" href="#adding-a-director-to-query-builder">Adding a Director to Query Builder</a></h2>
<p>While method chaining is convenient, sometimes we want to pass all options at once (e.g., when receiving JSON from frontend or reading from a file).</p>
<h3 id="director-for-batch-configuration"><a class="header" href="#director-for-batch-configuration">Director for Batch Configuration</a></h3>
<pre><code class="language-javascript">class QueryDirector {
  constructor(builder, options) {
    this.builder = builder;
    this.options = options;
  }

  build() {
    // Apply all options at once
    const { where, order, limit } = this.options;

    if (where) this.builder.where(where);
    if (order) this.builder.order(order);
    if (limit) this.builder.limit(limit);

    return this.builder;
  }
}
</code></pre>
<h3 id="usage-with-director"><a class="header" href="#usage-with-director">Usage with Director</a></h3>
<pre><code class="language-javascript">// Options object (could come from JSON, file, frontend, etc.)
const options = {
  where: 'country = "UA" AND type = 1',
  order: 'population',
  limit: 10
};

// Create builder
const builder = new QueryBuilder('cities');

// Use director to apply all options
const director = new QueryDirector(builder, options);
const query = await director.build();
</code></pre>
<p><strong>Benefits</strong>:</p>
<ul>
<li>Can work with configuration objects</li>
<li>Useful when options come from external sources (JSON, API, files)</li>
<li>Combines well with the chaining approach</li>
</ul>
<hr />
<h2 id="method-chaining-vs-object-configuration"><a class="header" href="#method-chaining-vs-object-configuration">Method Chaining vs Object Configuration</a></h2>
<h3 id="method-chaining-approach"><a class="header" href="#method-chaining-approach">Method Chaining Approach</a></h3>
<pre><code class="language-javascript">const result = await new QueryBuilder('cities')
  .where('country = "UA"')
  .order('population')
  .limit(10);
</code></pre>
<p><strong>Pros</strong>:</p>
<ul>
<li>Very readable and explicit</li>
<li>Fluent, natural syntax</li>
<li>Easy to see the construction steps</li>
</ul>
<p><strong>Cons</strong>:</p>
<ul>
<li>Not convenient when you already have an options object</li>
<li>Requires writing each method call separately</li>
</ul>
<h3 id="object-configuration-approach"><a class="header" href="#object-configuration-approach">Object Configuration Approach</a></h3>
<pre><code class="language-javascript">const options = {
  table: 'cities',
  where: 'country = "UA"',
  order: 'population',
  limit: 10
};

// Direct initialization or via Director
const result = await buildQuery(options);
</code></pre>
<p><strong>Pros</strong>:</p>
<ul>
<li>Options can come from external sources (JSON, files, frontend)</li>
<li>Easy to store and transmit configurations</li>
<li>More compact for complex configurations</li>
</ul>
<p><strong>Cons</strong>:</p>
<ul>
<li>Less explicit about the building process</li>
<li>Harder to see the construction steps</li>
</ul>
<h3 id="best-practice-support-both"><a class="header" href="#best-practice-support-both">Best Practice: Support Both</a></h3>
<p>A well-designed builder should support both approaches:</p>
<pre><code class="language-javascript">// Chaining when building step by step
const query1 = await new QueryBuilder('cities')
  .where('country = "UA"')
  .limit(10);

// Object when configuration is already available
const query2 = await new QueryBuilder('cities', options);
</code></pre>
<hr />
<h2 id="typescript-example-classic-builder-pattern"><a class="header" href="#typescript-example-classic-builder-pattern">TypeScript Example: Classic Builder Pattern</a></h2>
<p>Here's a comprehensive TypeScript implementation showing the full pattern:</p>
<pre><code class="language-typescript">// Product being built
class Product1 {
  public parts: string[] = [];

  public listParts(): void {
    console.log(`Product parts: ${this.parts.join(', ')}\n`);
  }
}

// Builder interface
interface Builder {
  producePartA(): void;
  producePartB(): void;
  producePartC(): void;
}

// Concrete builder implementation
class ConcreteBuilder1 implements Builder {
  private product: Product1;

  constructor() {
    this.reset();
  }

  public reset(): void {
    this.product = new Product1();
  }

  public producePartA(): void {
    this.product.parts.push('PartA1');
  }

  public producePartB(): void {
    this.product.parts.push('PartB1');
  }

  public producePartC(): void {
    this.product.parts.push('PartC1');
  }

  // Return the product and reset for next build
  public getProduct(): Product1 {
    const result = this.product;
    this.reset();
    return result;
  }
}

// Director class
class Director {
  private builder: Builder;

  public setBuilder(builder: Builder): void {
    this.builder = builder;
  }

  // Build minimal product
  public buildMinimalViableProduct(): void {
    this.builder.producePartA();
  }

  // Build full-featured product
  public buildFullFeaturedProduct(): void {
    this.builder.producePartA();
    this.builder.producePartB();
    this.builder.producePartC();
  }
}
</code></pre>
<h3 id="usage-examples"><a class="header" href="#usage-examples">Usage Examples</a></h3>
<pre><code class="language-typescript">// Setup
const director = new Director();
const builder = new ConcreteBuilder1();
director.setBuilder(builder);

// Build minimal product
console.log('Standard basic product:');
director.buildMinimalViableProduct();
builder.getProduct().listParts();
// Output: Product parts: PartA1

// Build full product
console.log('Standard full featured product:');
director.buildFullFeaturedProduct();
builder.getProduct().listParts();
// Output: Product parts: PartA1, PartB1, PartC1

// Custom product (without director)
console.log('Custom product:');
builder.producePartA();
builder.producePartC();
builder.getProduct().listParts();
// Output: Product parts: PartA1, PartC1
</code></pre>
<hr />
<h2 id="real-world-use-cases"><a class="header" href="#real-world-use-cases">Real-World Use Cases</a></h2>
<h3 id="1-http-request-builders"><a class="header" href="#1-http-request-builders">1. HTTP Request Builders</a></h3>
<pre><code class="language-javascript">const request = await new RequestBuilder('https://api.example.com')
  .method('POST')
  .header('Content-Type', 'application/json')
  .body({ user: 'John' })
  .timeout(5000);
</code></pre>
<h3 id="2-documentreport-builders"><a class="header" href="#2-documentreport-builders">2. Document/Report Builders</a></h3>
<pre><code class="language-javascript">const report = new ReportBuilder()
  .title('Monthly Sales Report')
  .section('Summary', summaryData)
  .section('Details', detailsData)
  .footer('Generated: ' + new Date())
  .build();
</code></pre>
<h3 id="3-configuration-builders"><a class="header" href="#3-configuration-builders">3. Configuration Builders</a></h3>
<pre><code class="language-javascript">const config = new ConfigBuilder()
  .database('localhost', 5432)
  .logging('debug')
  .timeout(30000)
  .retries(3)
  .build();
</code></pre>
<h3 id="4-ui-component-builders"><a class="header" href="#4-ui-component-builders">4. UI Component Builders</a></h3>
<pre><code class="language-javascript">const dialog = new DialogBuilder()
  .title('Confirm Action')
  .message('Are you sure?')
  .button('OK', handleOk)
  .button('Cancel', handleCancel)
  .show();
</code></pre>
<hr />
<h2 id="key-takeaways"><a class="header" href="#key-takeaways">Key Takeaways</a></h2>
<ol>
<li>
<p><strong>Purpose</strong>: The Builder pattern separates complex object construction from its representation</p>
</li>
<li>
<p><strong>When to Use</strong>:</p>
<ul>
<li>When constructors become too complex</li>
<li>When you need multiple ways to create an object</li>
<li>When object creation requires many steps</li>
<li>When you want to hide construction complexity</li>
</ul>
</li>
<li>
<p><strong>Components</strong>:</p>
<ul>
<li><strong>Product</strong>: The object being built</li>
<li><strong>Builder</strong>: Constructs the product step by step</li>
<li><strong>Director</strong> (optional): Controls the building sequence</li>
</ul>
</li>
<li>
<p><strong>Benefits</strong>:</p>
<ul>
<li>Encapsulates construction logic</li>
<li>Supports different representations</li>
<li>Provides control over construction process</li>
<li>Enables method chaining for fluent interfaces</li>
</ul>
</li>
<li>
<p><strong>JavaScript Considerations</strong>:</p>
<ul>
<li>First-class functions allow simpler alternatives</li>
<li>Method chaining (<code>return this</code>) creates fluent APIs</li>
<li>Thenable contract enables async/await compatibility</li>
<li>Can support both chaining and object configuration</li>
</ul>
</li>
<li>
<p><strong>Trade-offs</strong>:</p>
<ul>
<li>Increases code size with additional classes</li>
<li>May add complexity to simple cases</li>
<li>Worth it when construction logic is genuinely complex</li>
</ul>
</li>
</ol>
<hr />
<h2 id="common-patterns-with-builder"><a class="header" href="#common-patterns-with-builder">Common Patterns with Builder</a></h2>
<h3 id="fluent-interface-method-chaining"><a class="header" href="#fluent-interface-method-chaining">Fluent Interface (Method Chaining)</a></h3>
<p>Return <code>this</code> from each builder method to enable chaining:</p>
<pre><code class="language-javascript">class FluentBuilder {
  method1() {
    // ... do work
    return this; // Enable chaining
  }

  method2() {
    // ... do work
    return this; // Enable chaining
  }
}

// Usage
const result = new FluentBuilder()
  .method1()
  .method2();
</code></pre>
<h3 id="thenable-pattern"><a class="header" href="#thenable-pattern">Thenable Pattern</a></h3>
<p>Implement <code>then()</code> to make builder work with promises:</p>
<pre><code class="language-javascript">class ThenableBuilder {
  then(resolve, reject) {
    // Build and return final result
    const result = this.build();
    resolve(result);
  }
}

// Usage with await
const result = await new ThenableBuilder().option1().option2();
</code></pre>
<h3 id="reset-pattern"><a class="header" href="#reset-pattern">Reset Pattern</a></h3>
<p>Reset builder state after getting the product for reuse:</p>
<pre><code class="language-javascript">class ReusableBuilder {
  getProduct() {
    const result = this.product;
    this.reset(); // Clear state for next build
    return result;
  }

  reset() {
    this.product = new Product();
  }
}
</code></pre>
<hr />
<h2 id="comparison-with-other-patterns"><a class="header" href="#comparison-with-other-patterns">Comparison with Other Patterns</a></h2>
<h3 id="builder-vs-factory-method"><a class="header" href="#builder-vs-factory-method">Builder vs Factory Method</a></h3>
<ul>
<li><strong>Factory Method</strong>: Creates objects in one step</li>
<li><strong>Builder</strong>: Constructs objects step by step with configuration</li>
</ul>
<h3 id="builder-vs-abstract-factory"><a class="header" href="#builder-vs-abstract-factory">Builder vs Abstract Factory</a></h3>
<ul>
<li><strong>Abstract Factory</strong>: Creates families of related objects</li>
<li><strong>Builder</strong>: Constructs a single complex object with many options</li>
</ul>
<h3 id="builder-vs-prototype"><a class="header" href="#builder-vs-prototype">Builder vs Prototype</a></h3>
<ul>
<li><strong>Prototype</strong>: Clones existing objects</li>
<li><strong>Builder</strong>: Constructs new objects from scratch with specific configuration</li>
</ul>
<hr />
<h2 id="summary"><a class="header" href="#summary">Summary</a></h2>
<p>The Builder pattern is essential when dealing with complex object construction. While the classical implementation involves abstract builders and directors, modern JavaScript allows for more flexible and simpler approaches using:</p>
<ul>
<li>Method chaining for fluent APIs</li>
<li>First-class functions for step composition</li>
<li>Thenable contract for async compatibility</li>
<li>Hybrid approaches supporting both chaining and object configuration</li>
</ul>
<p>The key is to balance between following the pattern formally and adapting it to JavaScript's strengths, always keeping the code maintainable, testable, and easy to use.</p>
<p><strong>Remember</strong>: Use the Builder pattern when construction logic is genuinely complex. For simple cases, a regular constructor or factory function is often sufficient and more appropriate.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="–ü–∞—Ç—Ç–µ—Ä–Ω-–ü—Ä–æ—Ç–æ—Ç–∏–ø-prototype--gof-patterns"><a class="header" href="#–ü–∞—Ç—Ç–µ—Ä–Ω-–ü—Ä–æ—Ç–æ—Ç–∏–ø-prototype--gof-patterns">–ü–∞—Ç—Ç–µ—Ä–Ω ¬´–ü—Ä–æ—Ç–æ—Ç–∏–ø¬ª (Prototype) ‚Äî GoF Patterns</a></h1>
<h2 id="–û–±–∑–æ—Ä-8"><a class="header" href="#–û–±–∑–æ—Ä-8">–û–±–∑–æ—Ä</a></h2>
<p>–ü–∞—Ç—Ç–µ—Ä–Ω <strong>–ü—Ä–æ—Ç–æ—Ç–∏–ø</strong> (Prototype) ‚Äî —ç—Ç–æ –ø–æ—Ä–æ–∂–¥–∞—é—â–∏–π –ø–∞—Ç—Ç–µ—Ä–Ω –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏–∑ –∫–∞—Ç–∞–ª–æ–≥–∞ Gang of Four, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∑–≤–æ–ª—è–µ—Ç –∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –æ–±—ä–µ–∫—Ç—ã, –≤–∫–ª—é—á–∞—è —Ç–µ, —á—Ç–æ –∏–º–µ—é—Ç –ø—Ä–∏–≤–∞—Ç–Ω—ã–µ –ø–æ–ª—è –∏–ª–∏ —Å–∫—Ä—ã—Ç–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –≤ –∑–∞–º—ã–∫–∞–Ω–∏—è—Ö. –í –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ JavaScript –±–æ–ª–µ–µ —Ç–æ—á–Ω—ã–º –Ω–∞–∑–≤–∞–Ω–∏–µ–º –¥–ª—è —ç—Ç–æ–≥–æ –ø–∞—Ç—Ç–µ—Ä–Ω–∞ –±—ã–ª–æ –±—ã <strong>Clone</strong> (–∫–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ), –ø–æ—Å–∫–æ–ª—å–∫—É –µ–≥–æ –æ—Å–Ω–æ–≤–Ω–∞—è –∑–∞–¥–∞—á–∞ ‚Äî —Å–æ–∑–¥–∞–Ω–∏–µ –∫–æ–ø–∏–π –æ–±—ä–µ–∫—Ç–æ–≤.</p>
<blockquote>
<p><strong>–í–∞–∂–Ω–æ</strong>: –ù–µ –ø—É—Ç–∞–π—Ç–µ –ø–∞—Ç—Ç–µ—Ä–Ω Prototype —Å –ø—Ä–æ—Ç–æ—Ç–∏–ø–Ω—ã–º –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ–º JavaScript! –≠—Ç–æ —Å–æ–≤–µ—Ä—à–µ–Ω–Ω–æ —Ä–∞–∑–Ω—ã–µ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏. –ü–∞—Ç—Ç–µ—Ä–Ω GoF Prototype –∑–∞–Ω–∏–º–∞–µ—Ç—Å—è –∫–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ–º —ç–∫–∑–µ–º–ø–ª—è—Ä–æ–≤ –æ–±—ä–µ–∫—Ç–æ–≤, –∞ –Ω–µ –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ–º.</p>
</blockquote>
<hr />
<h2 id="–ü—Ä–æ–±–ª–µ–º–∞-4"><a class="header" href="#–ü—Ä–æ–±–ª–µ–º–∞-4">–ü—Ä–æ–±–ª–µ–º–∞</a></h2>
<p>–í JavaScript —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ —É—Ä–æ–≤–Ω–µ–π –ø—Ä–∏–≤–∞—Ç–Ω–æ—Å—Ç–∏ –¥–∞–Ω–Ω—ã—Ö:</p>
<ul>
<li><strong>–ü—Ä–∏–≤–∞—Ç–Ω—ã–µ –ø–æ–ª—è —á–µ—Ä–µ–∑ <code>#</code></strong> (—Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π —Å—Ç–∞–Ω–¥–∞—Ä—Ç)</li>
<li><strong>–ó–∞–º—ã–∫–∞–Ω–∏—è</strong> (—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –ø–æ–¥—Ö–æ–¥ –∫ –∏–Ω–∫–∞–ø—Å—É–ª—è—Ü–∏–∏)</li>
<li><strong>–£—Å–ª–æ–≤–Ω–æ –ø—Ä–∏–≤–∞—Ç–Ω—ã–µ –ø–æ–ª—è</strong> (—á–µ—Ä–µ–∑ –ø–æ–¥—á–µ—Ä–∫–∏–≤–∞–Ω–∏–µ <code>_field</code> –∏–ª–∏ –ø—Ä–æ—Å—Ç–æ —Å–æ–≥–ª–∞—à–µ–Ω–∏–µ)</li>
<li><strong>–í–Ω–µ—à–Ω–µ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è</strong> (Map, WeakMap, Symbol)</li>
</ul>
<p>–ü—Ä–∏ –∫–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–∏ –æ–±—ä–µ–∫—Ç–æ–≤ —Å–Ω–∞—Ä—É–∂–∏ –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫:</p>
<ul>
<li>–ü—Ä–∏–≤–∞—Ç–Ω—ã–º –ø–æ–ª—è–º (<code>#field</code>)</li>
<li>–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–º –≤ –∑–∞–º—ã–∫–∞–Ω–∏—è—Ö</li>
<li>–°–æ—Å—Ç–æ—è–Ω–∏—é, —Ö—Ä–∞–Ω—è—â–µ–º—É—Å—è –≤–æ –≤–Ω–µ—à–Ω–∏—Ö —Å—Ç—Ä—É–∫—Ç—É—Ä–∞—Ö –¥–∞–Ω–Ω—ã—Ö</li>
</ul>
<hr />
<h2 id="–†–µ—à–µ–Ω–∏–µ-5"><a class="header" href="#–†–µ—à–µ–Ω–∏–µ-5">–†–µ—à–µ–Ω–∏–µ</a></h2>
<p><strong>–í—Å—Ç—Ä–æ–∏—Ç—å –ø—Ä–æ—Ü–µ–¥—É—Ä—É –∫–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–µ–ø–æ—Å—Ä–µ–¥—Å—Ç–≤–µ–Ω–Ω–æ –≤ —Å–∞–º—É –∞–±—Å—Ç—Ä–∞–∫—Ü–∏—é</strong>, –ø–æ—Å–∫–æ–ª—å–∫—É —Ç–æ–ª—å–∫–æ –∏–∑–Ω—É—Ç—Ä–∏ –∫–ª–∞—Å—Å–∞ –∏–ª–∏ —Ñ—É–Ω–∫—Ü–∏–∏ –µ—Å—Ç—å –¥–æ—Å—Ç—É–ø –∫–æ –≤—Å–µ–º—É –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–º—É —Å–æ—Å—Ç–æ—è–Ω–∏—é.</p>
<h3 id="–û—Å–Ω–æ–≤–Ω—ã–µ-–ø—Ä–∏–Ω—Ü–∏–ø—ã-1"><a class="header" href="#–û—Å–Ω–æ–≤–Ω—ã–µ-–ø—Ä–∏–Ω—Ü–∏–ø—ã-1">–û—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã:</a></h3>
<ol>
<li><strong>–ú–µ—Ç–æ–¥ <code>clone()</code></strong> –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –≤ –∫–ª–∞—Å—Å –∏–ª–∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º—ã–π –æ–±—ä–µ–∫—Ç</li>
<li>–ú–µ—Ç–æ–¥ –∏–º–µ–µ—Ç –¥–æ—Å—Ç—É–ø –∫–æ –≤—Å–µ–º –ø—Ä–∏–≤–∞—Ç–Ω—ã–º –ø–æ–ª—è–º –∏ –∑–∞–º—ã–∫–∞–Ω–∏—è–º</li>
<li>–í—Å–µ –∫–ª–∞—Å—Å—ã, –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—â–∏–µ –∫–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ, —Ä–µ–∞–ª–∏–∑—É—é—Ç –µ–¥–∏–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å</li>
</ol>
<h3 id="–í-typescript-–º–æ–∂–Ω–æ-–æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å"><a class="header" href="#–í-typescript-–º–æ–∂–Ω–æ-–æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å">–í TypeScript –º–æ–∂–Ω–æ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å:</a></h3>
<pre><code class="language-typescript">interface Cloneable {
  clone(): this;
}
</code></pre>
<hr />
<h2 id="–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞-–ø–∞—Ç—Ç–µ—Ä–Ω–∞-prototype"><a class="header" href="#–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞-–ø–∞—Ç—Ç–µ—Ä–Ω–∞-prototype">–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –ø–∞—Ç—Ç–µ—Ä–Ω–∞ Prototype</a></h2>
<ol>
<li><strong>–î–æ—Å—Ç—É–ø –∫ –ø—Ä–∏–≤–∞—Ç–Ω—ã–º –ø–æ–ª—è–º</strong>: –ú–µ—Ç–æ–¥ <code>clone()</code> –∏–º–µ–µ—Ç –¥–æ—Å—Ç—É–ø –∫ –ø–æ–ª—è–º —Å <code>#</code> –∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º –≤ –∑–∞–º—ã–∫–∞–Ω–∏—è—Ö</li>
<li><strong>–ù–µ –ø–ª–æ–¥–∏—Ç—Å—è –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–ª–∞—Å—Å–æ–≤</strong>: –ù–µ –Ω—É–∂–Ω–æ —Å–æ–∑–¥–∞–≤–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω—ã–µ –∫–ª–∞—Å—Å—ã –¥–ª—è –∫–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è</li>
<li><strong>–í—Å–µ —ç–∫–∑–µ–º–ø–ª—è—Ä—ã –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç –∫–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ</strong>: –ö–ª–æ–Ω—ã —Ç–∞–∫–∂–µ –∏–º–µ—é—Ç –º–µ—Ç–æ–¥ <code>clone()</code> –∏ –º–æ–≥—É—Ç –±—ã—Ç—å –∫–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω—ã —Å–Ω–æ–≤–∞</li>
<li><strong>–†–µ–∫—É—Ä—Å–∏–≤–Ω–æ–µ –∫–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ</strong>: –ú–æ–∂–Ω–æ —Å–æ–∑–¥–∞–≤–∞—Ç—å –≥–ª—É–±–æ–∫–∏–µ –∫–æ–ø–∏–∏ —Å–ª–æ–∂–Ω—ã—Ö —Å—Ç—Ä—É–∫—Ç—É—Ä</li>
</ol>
<hr />
<h2 id="–ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏-–ø–∞—Ç—Ç–µ—Ä–Ω–∞-prototype"><a class="header" href="#–ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏-–ø–∞—Ç—Ç–µ—Ä–Ω–∞-prototype">–ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏ –ø–∞—Ç—Ç–µ—Ä–Ω–∞ Prototype</a></h2>
<ol>
<li><strong>–£—Å–ª–æ–∂–Ω–µ–Ω–∏–µ –∫–ª–∞—Å—Å–∞</strong>: –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ª–æ–≥–∏–∫–∏ –∫–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –≤–Ω—É—Ç—Ä—å –∫–ª–∞—Å—Å–∞ —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç –µ–≥–æ —Å–ª–æ–∂–Ω–æ—Å—Ç—å</li>
<li><strong>–°–∫—Ä—ã—Ç–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å</strong>: –õ–æ–≥–∏–∫–∞ –∫–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–∞ –≤–Ω—É—Ç—Ä–∏ –∫–ª–∞—Å—Å–∞, —á—Ç–æ –º–æ–∂–µ—Ç –∑–∞—Ç—Ä—É–¥–Ω–∏—Ç—å –ø–æ–Ω–∏–º–∞–Ω–∏–µ</li>
<li><strong>–ù–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç—å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∫–ª–∞—Å—Å–∞</strong>: –ö–∞–∂–¥–∞—è –∫–ª–æ–Ω–∏—Ä—É–µ–º–∞—è –∞–±—Å—Ç—Ä–∞–∫—Ü–∏—è –¥–æ–ª–∂–Ω–∞ —Ä–µ–∞–ª–∏–∑–æ–≤—ã–≤–∞—Ç—å –º–µ—Ç–æ–¥ <code>clone()</code></li>
</ol>
<hr />
<h2 id="–†–µ–∞–ª–∏–∑–∞—Ü–∏—è-–Ω–∞-–∫–ª–∞—Å—Å–∞—Ö-—Å-–ø—Ä–∏–≤–∞—Ç–Ω—ã–º–∏-–ø–æ–ª—è–º–∏"><a class="header" href="#–†–µ–∞–ª–∏–∑–∞—Ü–∏—è-–Ω–∞-–∫–ª–∞—Å—Å–∞—Ö-—Å-–ø—Ä–∏–≤–∞—Ç–Ω—ã–º–∏-–ø–æ–ª—è–º–∏">–†–µ–∞–ª–∏–∑–∞—Ü–∏—è –Ω–∞ –∫–ª–∞—Å—Å–∞—Ö —Å –ø—Ä–∏–≤–∞—Ç–Ω—ã–º–∏ –ø–æ–ª—è–º–∏</a></h2>
<h3 id="–ü—Ä–∏–º–µ—Ä-1-–¢–æ—á–∫–∞-–Ω–∞-–ø–ª–æ—Å–∫–æ—Å—Ç–∏"><a class="header" href="#–ü—Ä–∏–º–µ—Ä-1-–¢–æ—á–∫–∞-–Ω–∞-–ø–ª–æ—Å–∫–æ—Å—Ç–∏">–ü—Ä–∏–º–µ—Ä 1: –¢–æ—á–∫–∞ –Ω–∞ –ø–ª–æ—Å–∫–æ—Å—Ç–∏</a></h3>
<pre><code class="language-javascript">class Point {
  #x;
  #y;

  constructor(x, y) {
    this.#x = x;
    this.#y = y;
  }

  move(dx, dy) {
    this.#x += dx;
    this.#y += dy;
  }

  toString() {
    return `Point(${this.#x}, ${this.#y})`;
  }

  // –ú–µ—Ç–æ–¥ –∫–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è —Å –¥–æ—Å—Ç—É–ø–æ–º –∫ –ø—Ä–∏–≤–∞—Ç–Ω—ã–º –ø–æ–ª—è–º
  clone() {
    return new Point(this.#x, this.#y);
  }
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
const p1 = new Point(10, 20);
console.log(p1.toString()); // Point(10, 20)

const p2 = p1.clone();
p2.move(5, -10);

console.log(p1.toString()); // Point(10, 20) - –æ—Ä–∏–≥–∏–Ω–∞–ª –Ω–µ –∏–∑–º–µ–Ω–∏–ª—Å—è
console.log(p2.toString()); // Point(15, 10) - –∫–ª–æ–Ω –∏–∑–º–µ–Ω—ë–Ω
</code></pre>
<p><strong>–ö–ª—é—á–µ–≤—ã–µ –º–æ–º–µ–Ω—Ç—ã</strong>:</p>
<ul>
<li>–ü—Ä–∏–≤–∞—Ç–Ω—ã–µ –ø–æ–ª—è <code>#x</code> –∏ <code>#y</code> –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã —Å–Ω–∞—Ä—É–∂–∏ –∫–ª–∞—Å—Å–∞</li>
<li>–ú–µ—Ç–æ–¥ <code>clone()</code> –∏–º–µ–µ—Ç –¥–æ—Å—Ç—É–ø –∫ –ø—Ä–∏–≤–∞—Ç–Ω—ã–º –ø–æ–ª—è–º —á–µ—Ä–µ–∑ <code>this.#x</code> –∏ <code>this.#y</code></li>
<li>–ö–ª–æ–Ω —Å–æ–∑–¥–∞—ë—Ç—Å—è –≤—ã–∑–æ–≤–æ–º –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞ —Å —Ç–µ–∫—É—â–∏–º–∏ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏</li>
<li>–û—Ä–∏–≥–∏–Ω–∞–ª –∏ –∫–ª–æ–Ω ‚Äî –ø–æ–ª–Ω–æ—Å—Ç—å—é –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã–µ –æ–±—ä–µ–∫—Ç—ã</li>
</ul>
<hr />
<h2 id="–†–µ–∞–ª–∏–∑–∞—Ü–∏—è-—Å-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º-–∑–∞–º—ã–∫–∞–Ω–∏–π"><a class="header" href="#–†–µ–∞–ª–∏–∑–∞—Ü–∏—è-—Å-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º-–∑–∞–º—ã–∫–∞–Ω–∏–π">–†–µ–∞–ª–∏–∑–∞—Ü–∏—è —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –∑–∞–º—ã–∫–∞–Ω–∏–π</a></h2>
<h3 id="–ü—Ä–∏–º–µ—Ä-2-–¢–æ—á–∫–∞-—á–µ—Ä–µ–∑-–∑–∞–º—ã–∫–∞–Ω–∏—è"><a class="header" href="#–ü—Ä–∏–º–µ—Ä-2-–¢–æ—á–∫–∞-—á–µ—Ä–µ–∑-–∑–∞–º—ã–∫–∞–Ω–∏—è">–ü—Ä–∏–º–µ—Ä 2: –¢–æ—á–∫–∞ —á–µ—Ä–µ–∑ –∑–∞–º—ã–∫–∞–Ω–∏—è</a></h3>
<pre><code class="language-javascript">function Point(x, y) {
  // x –∏ y —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ –∑–∞–º—ã–∫–∞–Ω–∏–∏ - "–ø—Ä–∏–≤–∞—Ç–Ω—ã–µ" –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ

  const move = (dx, dy) =&gt; {
    x += dx;
    y += dy;
  };

  const toString = () =&gt; {
    return `Point(${x}, ${y})`;
  };

  const clone = () =&gt; {
    // –î–æ—Å—Ç—É–ø –∫ –∑–∞–º–∫–Ω—É—Ç—ã–º –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º x –∏ y
    return Point(x, y);
  };

  // –í–æ–∑–≤—Ä–∞—â–∞–µ–º –æ–±—ä–µ–∫—Ç —Å –º–µ—Ç–æ–¥–∞–º–∏
  return {
    move,
    toString,
    clone
  };
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
const p1 = Point(10, 20);
console.log(p1.toString()); // Point(10, 20)

const c1 = p1.clone();
c1.move(-5, 10);

console.log(p1.toString()); // Point(10, 20) - –æ—Ä–∏–≥–∏–Ω–∞–ª
console.log(c1.toString()); // Point(5, 30) - –∫–ª–æ–Ω
</code></pre>
<p><strong>–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –∑–∞–º—ã–∫–∞–Ω–∏–π</strong>:</p>
<ul>
<li>–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ <code>x</code> –∏ <code>y</code> –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –ø—Ä–∏–≤–∞—Ç–Ω—ã (–Ω–µ—Ç —Å–ø–æ—Å–æ–±–∞ –ø–æ–ª—É—á–∏—Ç—å –∫ –Ω–∏–º –¥–æ—Å—Ç—É–ø —Å–Ω–∞—Ä—É–∂–∏)</li>
<li>–ö–∞–∂–¥—ã–π –≤—ã–∑–æ–≤ <code>Point()</code> —Å–æ–∑–¥–∞—ë—Ç –Ω–æ–≤–æ–µ –∑–∞–º—ã–∫–∞–Ω–∏–µ</li>
<li>–ú–µ—Ç–æ–¥ <code>clone()</code> —Å–æ–∑–¥–∞—ë—Ç –Ω–æ–≤–æ–µ –∑–∞–º—ã–∫–∞–Ω–∏–µ —Å —Ç–µ–º–∏ –∂–µ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏</li>
<li>–≠—Ç–æ –Ω–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ (–º—É—Ç–∞–±–µ–ª—å–Ω—ã–π state), –Ω–æ —É–¥–æ–±–Ω—ã–π –ø–∞—Ç—Ç–µ—Ä–Ω</li>
</ul>
<hr />
<h2 id="–†–µ–∫—É—Ä—Å–∏–≤–Ω–æ–µ-–∫–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ-–∫–æ–º–ø–æ–∑–∏—Ü–∏—è-–æ–±—ä–µ–∫—Ç–æ–≤"><a class="header" href="#–†–µ–∫—É—Ä—Å–∏–≤–Ω–æ–µ-–∫–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ-–∫–æ–º–ø–æ–∑–∏—Ü–∏—è-–æ–±—ä–µ–∫—Ç–æ–≤">–†–µ–∫—É—Ä—Å–∏–≤–Ω–æ–µ –∫–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ: –∫–æ–º–ø–æ–∑–∏—Ü–∏—è –æ–±—ä–µ–∫—Ç–æ–≤</a></h2>
<h3 id="–ü—Ä–∏–º–µ—Ä-3-–õ–∏–Ω–∏—è-–∏–∑-–¥–≤—É—Ö-—Ç–æ—á–µ–∫"><a class="header" href="#–ü—Ä–∏–º–µ—Ä-3-–õ–∏–Ω–∏—è-–∏–∑-–¥–≤—É—Ö-—Ç–æ—á–µ–∫">–ü—Ä–∏–º–µ—Ä 3: –õ–∏–Ω–∏—è –∏–∑ –¥–≤—É—Ö —Ç–æ—á–µ–∫</a></h3>
<pre><code class="language-javascript">class Point {
  #x;
  #y;

  constructor(x, y) {
    this.#x = x;
    this.#y = y;
  }

  move(dx, dy) {
    this.#x += dx;
    this.#y += dy;
  }

  toString() {
    return `Point(${this.#x}, ${this.#y})`;
  }

  clone() {
    return new Point(this.#x, this.#y);
  }
}

class Line {
  #start;
  #end;

  constructor(start, end) {
    this.#start = start;
    this.#end = end;
  }

  toString() {
    return `Line[${this.#start.toString()} -&gt; ${this.#end.toString()}]`;
  }

  // –†–µ–∫—É—Ä—Å–∏–≤–Ω–æ–µ –∫–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ: –∫–ª–æ–Ω–∏—Ä—É–µ–º –≤–ª–æ–∂–µ–Ω–Ω—ã–µ —Ç–æ—á–∫–∏
  clone() {
    return new Line(
      this.#start.clone(),  // –ö–ª–æ–Ω–∏—Ä—É–µ–º –Ω–∞—á–∞–ª—å–Ω—É—é —Ç–æ—á–∫—É
      this.#end.clone()     // –ö–ª–æ–Ω–∏—Ä—É–µ–º –∫–æ–Ω–µ—á–Ω—É—é —Ç–æ—á–∫—É
    );
  }
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
const p1 = new Point(0, 0);
const p2 = new Point(10, 10);
const line1 = new Line(p1, p2);

console.log(line1.toString());
// Line[Point(0, 0) -&gt; Point(10, 10)]

const line2 = line1.clone();
console.log(line2.toString());
// Line[Point(0, 0) -&gt; Point(10, 10)]

// line1 –∏ line2 ‚Äî –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã–µ –æ–±—ä–µ–∫—Ç—ã
// p1 –∏ —Ç–æ—á–∫–∏ –≤–Ω—É—Ç—Ä–∏ line2 ‚Äî —Ç–æ–∂–µ —Ä–∞–∑–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã
</code></pre>
<p><strong>–í–∞–∂–Ω–æ</strong>: –ë–ª–∞–≥–æ–¥–∞—Ä—è —Ç–æ–º—É, —á—Ç–æ –º–µ—Ç–æ–¥ –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è –æ–¥–∏–Ω–∞–∫–æ–≤–æ (<code>clone()</code>) –≤–µ–∑–¥–µ, –º—ã –º–æ–∂–µ–º —Å–æ–∑–¥–∞–≤–∞—Ç—å –≥–ª—É–±–æ–∫–∏–µ –∫–æ–ø–∏–∏ —Å–ª–æ–∂–Ω—ã—Ö –∏–µ—Ä–∞—Ä—Ö–∏–π:</p>
<ul>
<li>–õ–æ–º–∞–Ω—ã–µ –ª–∏–Ω–∏–∏ –∏–∑ –º–∞—Å—Å–∏–≤–∞ —Ç–æ—á–µ–∫</li>
<li>–ú–Ω–æ–≥–æ—É–≥–æ–ª—å–Ω–∏–∫–∏ –∏–∑ –ª–∏–Ω–∏–π</li>
<li>–°–ª–æ–∂–Ω—ã–µ —Ñ–∏–≥—É—Ä—ã, —Å–æ—Å—Ç–æ—è—â–∏–µ –∏–∑ –º–Ω–æ–∂–µ—Å—Ç–≤–∞ —ç–ª–µ–º–µ–Ω—Ç–æ–≤</li>
</ul>
<h3 id="–ü—Ä–∏–º–µ—Ä-4-–ö–æ–ª–ª–µ–∫—Ü–∏—è-–ª–∏–Ω–∏–π"><a class="header" href="#–ü—Ä–∏–º–µ—Ä-4-–ö–æ–ª–ª–µ–∫—Ü–∏—è-–ª–∏–Ω–∏–π">–ü—Ä–∏–º–µ—Ä 4: –ö–æ–ª–ª–µ–∫—Ü–∏—è –ª–∏–Ω–∏–π</a></h3>
<pre><code class="language-javascript">class Polyline {
  #lines;

  constructor(lines = []) {
    this.#lines = lines;
  }

  addLine(line) {
    this.#lines.push(line);
  }

  toString() {
    return `Polyline[\n${this.#lines.map(l =&gt; '  ' + l.toString()).join('\n')}\n]`;
  }

  // –ì–ª—É–±–æ–∫–æ–µ –∫–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ–π –∫–æ–ª–ª–µ–∫—Ü–∏–∏
  clone() {
    const clonedLines = this.#lines.map(line =&gt; line.clone());
    return new Polyline(clonedLines);
  }
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
const poly1 = new Polyline();
poly1.addLine(new Line(new Point(0, 0), new Point(5, 5)));
poly1.addLine(new Line(new Point(5, 5), new Point(10, 0)));

const poly2 = poly1.clone();
// poly2 —Å–æ–¥–µ—Ä–∂–∏—Ç –ø–æ–ª–Ω—ã–µ –∫–æ–ø–∏–∏ –≤—Å–µ—Ö –ª–∏–Ω–∏–π –∏ —Ç–æ—á–µ–∫
</code></pre>
<hr />
<h2 id="–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ-—Å–ø–æ—Å–æ–±—ã-–∫–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è-–≤-javascript"><a class="header" href="#–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ-—Å–ø–æ—Å–æ–±—ã-–∫–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è-–≤-javascript">–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ —Å–ø–æ—Å–æ–±—ã –∫–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –≤ JavaScript</a></h2>
<h3 id="1-json-—Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è-–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–∞—è"><a class="header" href="#1-json-—Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è-–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–∞—è">1. JSON —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è (–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–∞—è)</a></h3>
<pre><code class="language-javascript">const obj = { x: 10, y: 20, nested: { z: 30 } };

// –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ JSON
const clone = JSON.parse(JSON.stringify(obj));

console.log(clone); // { x: 10, y: 20, nested: { z: 30 } }
console.log(obj === clone); // false
console.log(obj.nested === clone.nested); // false - –≥–ª—É–±–æ–∫–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ
</code></pre>
<p><strong>–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è JSON —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏–∏</strong>:</p>
<ul>
<li>‚ùå –ù–µ –∫–æ–ø–∏—Ä—É–µ—Ç –º–µ—Ç–æ–¥—ã</li>
<li>‚ùå –ù–µ –∫–æ–ø–∏—Ä—É–µ—Ç –ø—Ä–∏–≤–∞—Ç–Ω—ã–µ –ø–æ–ª—è (<code>#field</code>)</li>
<li>‚ùå –ù–µ –∫–æ–ø–∏—Ä—É–µ—Ç Symbol-–∫–ª—é—á–∏</li>
<li>‚ùå –¢–µ—Ä—è–µ—Ç –ø—Ä–æ—Ç–æ—Ç–∏–ø (–º–µ—Ç–æ–¥—ã –∏–∑ –∫–ª–∞—Å—Å–∞)</li>
<li>‚ùå –ù–µ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å <code>undefined</code>, <code>Function</code>, <code>Symbol</code>, <code>Date</code>, <code>RegExp</code></li>
<li>‚ùå –¶–∏–∫–ª–∏—á–µ—Å–∫–∏–µ —Å—Å—ã–ª–∫–∏ –≤—ã–∑—ã–≤–∞—é—Ç –æ—à–∏–±–∫—É</li>
</ul>
<p><strong>–†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã —Å –ø—Ä–æ—Ç–æ—Ç–∏–ø–æ–º</strong>:</p>
<pre><code class="language-javascript">const obj = { x: 10, y: 20 };
const clone = JSON.parse(JSON.stringify(obj));

// –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ—Ç–æ—Ç–∏–ø–∞
Object.setPrototypeOf(clone, Object.getPrototypeOf(obj));
</code></pre>
<hr />
<h3 id="2-v8-—Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è-nodejs"><a class="header" href="#2-v8-—Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è-nodejs">2. V8 —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è (Node.js)</a></h3>
<pre><code class="language-javascript">const v8 = require('v8');

const obj = {
  x: 10,
  date: new Date(),
  buffer: Buffer.from('hello'),
  nested: { y: 20 }
};

// –°–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è –∏ –¥–µ—Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è
const clone = v8.deserialize(v8.serialize(obj));

console.log(clone);
// –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –±–æ–ª—å—à–µ —Ç–∏–ø–æ–≤, —á–µ–º JSON
</code></pre>
<p><strong>–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞</strong>:</p>
<ul>
<li>‚úÖ –ë–∏–Ω–∞—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç (–±–æ–ª–µ–µ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–µ–Ω)</li>
<li>‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –±–æ–ª—å—à–µ —Ç–∏–ø–æ–≤ (Date, Buffer, TypedArray –∏ —Ç.–¥.)</li>
<li>‚úÖ –ì–ª—É–±–æ–∫–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ</li>
</ul>
<p><strong>–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è</strong>:</p>
<ul>
<li>‚ùå –ù–µ –∫–æ–ø–∏—Ä—É–µ—Ç –ø—Ä–∏–≤–∞—Ç–Ω—ã–µ –ø–æ–ª—è (<code>#field</code>)</li>
<li>‚ùå –ù–µ –∫–æ–ø–∏—Ä—É–µ—Ç –º–µ—Ç–æ–¥—ã</li>
<li>‚ùå –¢—Ä–µ–±—É–µ—Ç –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –ø—Ä–æ—Ç–æ—Ç–∏–ø–∞</li>
</ul>
<hr />
<h3 id="3-–°—Ç—Ä—É–∫—Ç—É—Ä–Ω–æ–µ-–∫–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ-web-api--nodejs"><a class="header" href="#3-–°—Ç—Ä—É–∫—Ç—É—Ä–Ω–æ–µ-–∫–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ-web-api--nodejs">3. –°—Ç—Ä—É–∫—Ç—É—Ä–Ω–æ–µ –∫–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ (Web API / Node.js)</a></h3>
<pre><code class="language-javascript">// –í –±—Ä–∞—É–∑–µ—Ä–µ –∏ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–º Node.js
const obj = {
  x: 10,
  date: new Date(),
  map: new Map([['key', 'value']]),
  set: new Set([1, 2, 3]),
  nested: { y: 20 }
};

const clone = structuredClone(obj);

console.log(clone);
console.log(obj === clone); // false
console.log(obj.nested === clone.nested); // false
console.log(obj.date === clone.date); // false
</code></pre>
<p><strong>–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞</strong>:</p>
<ul>
<li>‚úÖ –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π —Å—Ç–∞–Ω–¥–∞—Ä—Ç (Web API)</li>
<li>‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –º–Ω–æ–∂–µ—Å—Ç–≤–æ —Ç–∏–ø–æ–≤: <code>Date</code>, <code>Map</code>, <code>Set</code>, <code>ArrayBuffer</code>, <code>TypedArray</code>, –∏ –¥—Ä.</li>
<li>‚úÖ –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —Ü–∏–∫–ª–∏—á–µ—Å–∫–∏–µ —Å—Å—ã–ª–∫–∏</li>
<li>‚úÖ –ì–ª—É–±–æ–∫–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ</li>
</ul>
<p><strong>–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è</strong>:</p>
<ul>
<li>‚ùå –ù–µ –∫–æ–ø–∏—Ä—É–µ—Ç –ø—Ä–∏–≤–∞—Ç–Ω—ã–µ –ø–æ–ª—è (<code>#field</code>)</li>
<li>‚ùå –ù–µ –∫–æ–ø–∏—Ä—É–µ—Ç —Ñ—É–Ω–∫—Ü–∏–∏ –∏ –º–µ—Ç–æ–¥—ã</li>
<li>‚ùå –ù–µ –∫–æ–ø–∏—Ä—É–µ—Ç Symbol-–∫–ª—é—á–∏</li>
</ul>
<hr />
<h2 id="–ö–æ–≥–¥–∞-–≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ-–º–µ—Ç–æ–¥—ã-–Ω–µ-—Ä–∞–±–æ—Ç–∞—é—Ç"><a class="header" href="#–ö–æ–≥–¥–∞-–≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ-–º–µ—Ç–æ–¥—ã-–Ω–µ-—Ä–∞–±–æ—Ç–∞—é—Ç">–ö–æ–≥–¥–∞ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ –º–µ—Ç–æ–¥—ã –Ω–µ —Ä–∞–±–æ—Ç–∞—é—Ç</a></h2>
<p>–í—Å–µ –æ–ø–∏—Å–∞–Ω–Ω—ã–µ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—ã (JSON, V8, structuredClone) <strong>–Ω–µ –º–æ–≥—É—Ç —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–∏–≤–∞—Ç–Ω—ã–µ –ø–æ–ª—è</strong>. –¢–æ–ª—å–∫–æ –ø–∞—Ç—Ç–µ—Ä–Ω Prototype —Å –º–µ—Ç–æ–¥–æ–º <code>clone()</code> –≤–Ω—É—Ç—Ä–∏ –∫–ª–∞—Å—Å–∞ —Ä–µ—à–∞–µ—Ç —ç—Ç—É –ø—Ä–æ–±–ª–µ–º—É.</p>
<h3 id="–°—Ä–∞–≤–Ω–∏—Ç–µ–ª—å–Ω–∞—è-—Ç–∞–±–ª–∏—Ü–∞-4"><a class="header" href="#–°—Ä–∞–≤–Ω–∏—Ç–µ–ª—å–Ω–∞—è-—Ç–∞–±–ª–∏—Ü–∞-4">–°—Ä–∞–≤–Ω–∏—Ç–µ–ª—å–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞</a></h3>
<div class="table-wrapper"><table><thead><tr><th>–ú–µ—Ç–æ–¥</th><th>–ü—Ä–∏–≤–∞—Ç–Ω—ã–µ –ø–æ–ª—è</th><th>–ú–µ—Ç–æ–¥—ã</th><th>–ì–ª—É–±–æ–∫–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ</th><th>–°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ —Ç–∏–ø—ã</th></tr></thead><tbody>
<tr><td><strong>–ü–∞—Ç—Ç–µ—Ä–Ω Prototype</strong></td><td>‚úÖ</td><td>‚úÖ</td><td>‚úÖ (–µ—Å–ª–∏ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ)</td><td>‚úÖ</td></tr>
<tr><td>JSON serialize</td><td>‚ùå</td><td>‚ùå</td><td>‚úÖ</td><td>‚ùå</td></tr>
<tr><td>V8 serialize</td><td>‚ùå</td><td>‚ùå</td><td>‚úÖ</td><td>‚úÖ (—á–∞—Å—Ç–∏—á–Ω–æ)</td></tr>
<tr><td>structuredClone</td><td>‚ùå</td><td>‚ùå</td><td>‚úÖ</td><td>‚úÖ (–º–Ω–æ–≥–∏–µ —Ç–∏–ø—ã)</td></tr>
<tr><td>Spread operator</td><td>‚ùå</td><td>‚úÖ (–ø–æ —Å—Å—ã–ª–∫–µ)</td><td>‚ùå (–ø–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç–Ω–æ–µ)</td><td>–ß–∞—Å—Ç–∏—á–Ω–æ</td></tr>
</tbody></table>
</div>
<hr />
<h2 id="–†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π-–ø—Ä–∏–º–µ—Ä-typescript-—Å-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º"><a class="header" href="#–†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π-–ø—Ä–∏–º–µ—Ä-typescript-—Å-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º">–†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π –ø—Ä–∏–º–µ—Ä: TypeScript —Å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º</a></h2>
<pre><code class="language-typescript">// –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –∫–ª–æ–Ω–∏—Ä—É–µ–º—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤
interface Cloneable&lt;T&gt; {
  clone(): T;
}

// –¢–æ—á–∫–∞ —Å –ø—Ä–∏–≤–∞—Ç–Ω—ã–º–∏ –ø–æ–ª—è–º–∏
class Point implements Cloneable&lt;Point&gt; {
  #x: number;
  #y: number;

  constructor(x: number, y: number) {
    this.#x = x;
    this.#y = y;
  }

  move(dx: number, dy: number): void {
    this.#x += dx;
    this.#y += dy;
  }

  toString(): string {
    return `Point(${this.#x}, ${this.#y})`;
  }

  clone(): Point {
    return new Point(this.#x, this.#y);
  }

  getCoordinates(): { x: number; y: number } {
    return { x: this.#x, y: this.#y };
  }
}

// –ö—Ä—É–≥ —Å –ø—Ä–∏–≤–∞—Ç–Ω—ã–º–∏ –ø–æ–ª—è–º–∏
class Circle implements Cloneable&lt;Circle&gt; {
  #center: Point;
  #radius: number;

  constructor(center: Point, radius: number) {
    this.#center = center;
    this.#radius = radius;
  }

  toString(): string {
    return `Circle(center: ${this.#center.toString()}, radius: ${this.#radius})`;
  }

  // –†–µ–∫—É—Ä—Å–∏–≤–Ω–æ–µ –∫–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ
  clone(): Circle {
    return new Circle(
      this.#center.clone(), // –ö–ª–æ–Ω–∏—Ä—É–µ–º —Ü–µ–Ω—Ç—Ä
      this.#radius
    );
  }
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
const circle1 = new Circle(new Point(10, 20), 5);
const circle2 = circle1.clone();

console.log(circle1.toString());
// Circle(center: Point(10, 20), radius: 5)
console.log(circle2.toString());
// Circle(center: Point(10, 20), radius: 5)

// –ò–∑–º–µ–Ω–µ–Ω–∏–µ –∫–ª–æ–Ω–∞ –Ω–µ –≤–ª–∏—è–µ—Ç –Ω–∞ –æ—Ä–∏–≥–∏–Ω–∞–ª
</code></pre>
<hr />
<h2 id="–ü–∞—Ç—Ç–µ—Ä–Ω-prototype-—Å-–æ–±—Ä–∞–±–æ—Ç–∫–æ–π-—Ü–∏–∫–ª–∏—á–µ—Å–∫–∏—Ö-—Å—Å—ã–ª–æ–∫"><a class="header" href="#–ü–∞—Ç—Ç–µ—Ä–Ω-prototype-—Å-–æ–±—Ä–∞–±–æ—Ç–∫–æ–π-—Ü–∏–∫–ª–∏—á–µ—Å–∫–∏—Ö-—Å—Å—ã–ª–æ–∫">–ü–∞—Ç—Ç–µ—Ä–Ω Prototype —Å –æ–±—Ä–∞–±–æ—Ç–∫–æ–π —Ü–∏–∫–ª–∏—á–µ—Å–∫–∏—Ö —Å—Å—ã–ª–æ–∫</a></h2>
<p>–í —Å–ª–æ–∂–Ω—ã—Ö —Å—Ç—Ä—É–∫—Ç—É—Ä–∞—Ö –¥–∞–Ω–Ω—ã—Ö –º–æ–≥—É—Ç –≤–æ–∑–Ω–∏–∫–∞—Ç—å —Ü–∏–∫–ª–∏—á–µ—Å–∫–∏–µ —Å—Å—ã–ª–∫–∏. –í–æ—Ç –ø—Ä–∏–º–µ—Ä, –∫–∞–∫ —Å –Ω–∏–º–∏ —Ä–∞–±–æ—Ç–∞—Ç—å:</p>
<pre><code class="language-typescript">class Node implements Cloneable&lt;Node&gt; {
  value: string;
  #next: Node | null = null;
  #visited: WeakMap&lt;Node, Node&gt; = new WeakMap();

  constructor(value: string) {
    this.value = value;
  }

  setNext(node: Node): void {
    this.#next = node;
  }

  clone(cache: Map&lt;Node, Node&gt; = new Map()): Node {
    // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –Ω–µ –∫–ª–æ–Ω–∏—Ä–æ–≤–∞–ª–∏ –ª–∏ —É–∂–µ —ç—Ç–æ—Ç —É–∑–µ–ª
    if (cache.has(this)) {
      return cache.get(this)!;
    }

    // –°–æ–∑–¥–∞—ë–º –∫–ª–æ–Ω
    const cloned = new Node(this.value);

    // –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤ –∫—ç—à –¥–æ —Ä–µ–∫—É—Ä—Å–∏–≤–Ω–æ–≥–æ –∫–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
    cache.set(this, cloned);

    // –†–µ–∫—É—Ä—Å–∏–≤–Ω–æ –∫–ª–æ–Ω–∏—Ä—É–µ–º —Å–≤—è–∑–∞–Ω–Ω—ã–π —É–∑–µ–ª
    if (this.#next) {
      cloned.#next = this.#next.clone(cache);
    }

    return cloned;
  }
}

// –°–æ–∑–¥–∞—ë–º —Ü–∏–∫–ª–∏—á–µ—Å–∫—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É
const node1 = new Node('A');
const node2 = new Node('B');
const node3 = new Node('C');

node1.setNext(node2);
node2.setNext(node3);
node3.setNext(node1); // –¶–∏–∫–ª!

// –ö–ª–æ–Ω–∏—Ä—É–µ–º —Å –æ–±—Ä–∞–±–æ—Ç–∫–æ–π —Ü–∏–∫–ª–æ–≤
const clonedNode1 = node1.clone();
</code></pre>
<hr />
<h2 id="–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ-–ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è-–ø–∞—Ç—Ç–µ—Ä–Ω–∞-prototype"><a class="header" href="#–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ-–ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è-–ø–∞—Ç—Ç–µ—Ä–Ω–∞-prototype">–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –ø–∞—Ç—Ç–µ—Ä–Ω–∞ Prototype</a></h2>
<h3 id="1-–ü—Ä–æ—Ç–æ—Ç–∏–ø–∏—Ä–æ–≤–∞–Ω–∏–µ-ui-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤"><a class="header" href="#1-–ü—Ä–æ—Ç–æ—Ç–∏–ø–∏—Ä–æ–≤–∞–Ω–∏–µ-ui-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤">1. –ü—Ä–æ—Ç–æ—Ç–∏–ø–∏—Ä–æ–≤–∞–Ω–∏–µ UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤</a></h3>
<pre><code class="language-javascript">class Widget {
  #config;
  #state;

  constructor(config) {
    this.#config = { ...config };
    this.#state = {};
  }

  clone() {
    const cloned = new Widget(this.#config);
    cloned.#state = { ...this.#state };
    return cloned;
  }
}

// –°–æ–∑–¥–∞—ë–º —à–∞–±–ª–æ–Ω –≤–∏–¥–∂–µ—Ç–∞
const template = new Widget({ color: 'blue', size: 'large' });

// –ö–ª–æ–Ω–∏—Ä—É–µ–º –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –º–Ω–æ–∂–µ—Å—Ç–≤–∞ –ø–æ—Ö–æ–∂–∏—Ö –≤–∏–¥–∂–µ—Ç–æ–≤
const widget1 = template.clone();
const widget2 = template.clone();
const widget3 = template.clone();
</code></pre>
<h3 id="2-–°–Ω–∏–º–∫–∏-—Å–æ—Å—Ç–æ—è–Ω–∏—è-memento-pattern"><a class="header" href="#2-–°–Ω–∏–º–∫–∏-—Å–æ—Å—Ç–æ—è–Ω–∏—è-memento-pattern">2. –°–Ω–∏–º–∫–∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è (Memento pattern)</a></h3>
<pre><code class="language-javascript">class GameState {
  #level;
  #score;
  #inventory;

  constructor(level, score, inventory) {
    this.#level = level;
    this.#score = score;
    this.#inventory = [...inventory];
  }

  // –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è —á–µ—Ä–µ–∑ –∫–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ
  createSnapshot() {
    return this.clone();
  }

  clone() {
    return new GameState(this.#level, this.#score, this.#inventory);
  }
}

const gameState = new GameState(5, 1000, ['sword', 'shield']);
const snapshot = gameState.createSnapshot();

// –ú–æ–∂–Ω–æ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø–æ–∑–∂–µ
</code></pre>
<h3 id="3-–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ-—Å–ª–æ–∂–Ω—ã—Ö-–æ–±—ä–µ–∫—Ç–æ–≤"><a class="header" href="#3-–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ-—Å–ª–æ–∂–Ω—ã—Ö-–æ–±—ä–µ–∫—Ç–æ–≤">3. –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–ª–æ–∂–Ω—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤</a></h3>
<pre><code class="language-javascript">class ComplexObject {
  #data;

  constructor(data) {
    this.#data = this.expensiveProcessing(data);
  }

  expensiveProcessing(data) {
    // –°–ª–æ–∂–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö
    return data;
  }

  clone() {
    const cloned = Object.create(Object.getPrototypeOf(this));
    cloned.#data = { ...this.#data };
    return cloned;
  }
}

// –°–æ–∑–¥–∞—ë–º –æ–¥–∏–Ω —Ä–∞–∑
const template = new ComplexObject(rawData);

// –ë—ã—Å—Ç—Ä–æ –∫–ª–æ–Ω–∏—Ä—É–µ–º –≤–º–µ—Å—Ç–æ –ø–µ—Ä–µ—Å–æ–∑–¥–∞–Ω–∏—è
const instance1 = template.clone();
const instance2 = template.clone();
</code></pre>
<hr />
<h2 id="–ö–ª—é—á–µ–≤—ã–µ-–≤—ã–≤–æ–¥—ã-16"><a class="header" href="#–ö–ª—é—á–µ–≤—ã–µ-–≤—ã–≤–æ–¥—ã-16">–ö–ª—é—á–µ–≤—ã–µ –≤—ã–≤–æ–¥—ã</a></h2>
<ol>
<li><strong>–ü–∞—Ç—Ç–µ—Ä–Ω Prototype ‚â† –ü—Ä–æ—Ç–æ—Ç–∏–ø–Ω–æ–µ –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ JavaScript</strong> ‚Äî —ç—Ç–æ —Ä–∞–∑–Ω—ã–µ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏</li>
<li><strong>–û—Å–Ω–æ–≤–Ω–∞—è –∑–∞–¥–∞—á–∞</strong> ‚Äî –∫–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–±—ä–µ–∫—Ç–æ–≤ —Å –ø—Ä–∏–≤–∞—Ç–Ω—ã–º–∏ –ø–æ–ª—è–º–∏ –∏ —Å–∫—Ä—ã—Ç—ã–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º</li>
<li><strong>–ú–µ—Ç–æ–¥ <code>clone()</code></strong> –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤—Å—Ç—Ä–æ–µ–Ω –≤ –∫–ª–∞—Å—Å –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ –ø—Ä–∏–≤–∞—Ç–Ω—ã–º –ø–æ–ª—è–º</li>
<li><strong>–†–µ–∫—É—Ä—Å–∏–≤–Ω–æ–µ –∫–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ</strong> –ø–æ–∑–≤–æ–ª—è–µ—Ç –∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Å–ª–æ–∂–Ω—ã–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –æ–±—ä–µ–∫—Ç–æ–≤</li>
<li><strong>–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—ã</strong> (JSON, V8, structuredClone) –Ω–µ —Ä–∞–±–æ—Ç–∞—é—Ç —Å –ø—Ä–∏–≤–∞—Ç–Ω—ã–º–∏ –ø–æ–ª—è–º–∏</li>
<li><strong>–ï–¥–∏–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å</strong> <code>Cloneable</code> –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ—Å—Ç—å API</li>
<li><strong>–ó–∞–º—ã–∫–∞–Ω–∏—è</strong> –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤–º–µ—Å—Ç–æ –∫–ª–∞—Å—Å–æ–≤ –¥–ª—è –∏–Ω–∫–∞–ø—Å—É–ª—è—Ü–∏–∏</li>
</ol>
<hr />
<h2 id="–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ-–º–∞—Ç–µ—Ä–∏–∞–ª—ã-3"><a class="header" href="#–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ-–º–∞—Ç–µ—Ä–∏–∞–ª—ã-3">–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã</a></h2>
<h3 id="–°–≤—è–∑–∞–Ω–Ω—ã–µ-–ø–∞—Ç—Ç–µ—Ä–Ω—ã-1"><a class="header" href="#–°–≤—è–∑–∞–Ω–Ω—ã–µ-–ø–∞—Ç—Ç–µ—Ä–Ω—ã-1">–°–≤—è–∑–∞–Ω–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã</a></h3>
<ul>
<li><strong>Factory Method</strong> ‚Äî –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Prototype –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –æ–±—ä–µ–∫—Ç–æ–≤</li>
<li><strong>Memento</strong> ‚Äî —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç Prototype –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è</li>
<li><strong>Object Pool</strong> ‚Äî –º–æ–∂–µ—Ç –∫–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ—Ç–æ—Ç–∏–ø –≤–º–µ—Å—Ç–æ —Å–æ–∑–¥–∞–Ω–∏—è —Å –Ω—É–ª—è</li>
</ul>
<h3 id="–ö–æ–≥–¥–∞-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å-prototype"><a class="header" href="#–ö–æ–≥–¥–∞-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å-prototype">–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Prototype</a></h3>
<p>‚úÖ <strong>–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ, –∫–æ–≥–¥–∞</strong>:</p>
<ul>
<li>–ù—É–∂–Ω–æ –∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –æ–±—ä–µ–∫—Ç—ã —Å –ø—Ä–∏–≤–∞—Ç–Ω—ã–º–∏ –ø–æ–ª—è–º–∏</li>
<li>–°–æ–∑–¥–∞–Ω–∏–µ –æ–±—ä–µ–∫—Ç–∞ –¥–æ—Ä–æ–≥–æ (–º–æ–∂–Ω–æ –∫–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å —à–∞–±–ª–æ–Ω)</li>
<li>–ù—É–∂–Ω–∞ –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –æ—Ç –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö –∫–ª–∞—Å—Å–æ–≤ –ø—Ä–∏ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–∏</li>
<li>–¢—Ä–µ–±—É–µ—Ç—Å—è –≥–ª—É–±–æ–∫–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–ª–æ–∂–Ω—ã—Ö —Å—Ç—Ä—É–∫—Ç—É—Ä</li>
</ul>
<p>‚ùå <strong>–ò–∑–±–µ–≥–∞–π—Ç–µ, –∫–æ–≥–¥–∞</strong>:</p>
<ul>
<li>–û–±—ä–µ–∫—Ç—ã –ø—Ä–æ—Å—Ç—ã–µ –∏ –Ω–µ—Ç –ø—Ä–∏–≤–∞—Ç–Ω—ã—Ö –ø–æ–ª–µ–π (–∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ spread –∏–ª–∏ Object.assign)</li>
<li>–ù–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –∫–ª–æ–Ω–æ–≤ (–º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å—Å—ã–ª–∫–∏)</li>
<li>–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –æ–±—ä–µ–∫—Ç–æ–≤ –ø–ª–æ—Å–∫–∞—è (–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç–Ω–æ–≥–æ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è)</li>
</ul>
<hr />
<h2 id="–ó–∞–∫–ª—é—á–µ–Ω–∏–µ-9"><a class="header" href="#–ó–∞–∫–ª—é—á–µ–Ω–∏–µ-9">–ó–∞–∫–ª—é—á–µ–Ω–∏–µ</a></h2>
<p>–ü–∞—Ç—Ç–µ—Ä–Ω Prototype ‚Äî –º–æ—â–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è –∫–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –æ–±—ä–µ–∫—Ç–æ–≤ –≤ JavaScript/TypeScript, –æ—Å–æ–±–µ–Ω–Ω–æ –∫–æ–≥–¥–∞ —Ä–µ—á—å –∏–¥—ë—Ç –æ –ø—Ä–∏–≤–∞—Ç–Ω—ã—Ö –ø–æ–ª—è—Ö, –∑–∞–º—ã–∫–∞–Ω–∏—è—Ö –∏–ª–∏ —Å–ª–æ–∂–Ω—ã—Ö —Å—Ç—Ä—É–∫—Ç—É—Ä–∞—Ö –¥–∞–Ω–Ω—ã—Ö. –ù–µ—Å–º–æ—Ç—Ä—è –Ω–∞ –Ω–∞–∑–≤–∞–Ω–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ –º–æ–∂–µ—Ç –≤—ã–∑–≤–∞—Ç—å –ø—É—Ç–∞–Ω–∏—Ü—É —Å –ø—Ä–æ—Ç–æ—Ç–∏–ø–Ω—ã–º –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ–º, –ø–∞—Ç—Ç–µ—Ä–Ω —Ä–µ—à–∞–µ—Ç –≤–∞–∂–Ω—É—é –∑–∞–¥–∞—á—É –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è –æ–±—ä–µ–∫—Ç–æ–≤, –∫ –∫–æ—Ç–æ—Ä–æ–º—É –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å –¥–æ—Å—Ç—É–ø —Å–Ω–∞—Ä—É–∂–∏.</p>
<p>–ü—Ä–∞–≤–∏–ª—å–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –ø–∞—Ç—Ç–µ—Ä–Ω–∞ Prototype –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç:</p>
<ul>
<li>–ò–Ω–∫–∞–ø—Å—É–ª—è—Ü–∏—é –ª–æ–≥–∏–∫–∏ –∫–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è</li>
<li>–ù–µ–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –∫–ª–æ–Ω–æ–≤ –æ—Ç –æ—Ä–∏–≥–∏–Ω–∞–ª–æ–≤</li>
<li>–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –≥–ª—É–±–æ–∫–æ–≥–æ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è</li>
<li>–ï–¥–∏–Ω–æ–æ–±—Ä–∞–∑–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –≤—Å–µ—Ö –∫–ª–æ–Ω–∏—Ä—É–µ–º—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="–ü–∞—Ç—Ç–µ—Ä–Ω-singleton-–û–¥–∏–Ω–æ—á–∫–∞--gof-patterns"><a class="header" href="#–ü–∞—Ç—Ç–µ—Ä–Ω-singleton-–û–¥–∏–Ω–æ—á–∫–∞--gof-patterns">–ü–∞—Ç—Ç–µ—Ä–Ω Singleton (–û–¥–∏–Ω–æ—á–∫–∞) ‚Äî GoF Patterns</a></h1>
<h2 id="–û–±–∑–æ—Ä-9"><a class="header" href="#–û–±–∑–æ—Ä-9">–û–±–∑–æ—Ä</a></h2>
<p>–ü–∞—Ç—Ç–µ—Ä–Ω Singleton (–û–¥–∏–Ω–æ—á–∫–∞) ‚Äî —ç—Ç–æ –æ–¥–∏–Ω –∏–∑ —Å–∞–º—ã—Ö –ø—Ä–æ—Å—Ç—ã—Ö –ø–æ—Ä–æ–∂–¥–∞—é—â–∏—Ö –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤ –∏–∑ –∫–æ–ª–ª–µ–∫—Ü–∏–∏ Gang of Four (GoF). –ï–≥–æ –æ—Å–Ω–æ–≤–Ω–∞—è –∑–∞–¥–∞—á–∞ ‚Äî –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å, —á—Ç–æ —É –∫–ª–∞—Å—Å–∞ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —ç–∫–∑–µ–º–ø–ª—è—Ä –≤ —Å–∏—Å—Ç–µ–º–µ, –∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–∏—Ç—å –≥–ª–æ–±–∞–ª—å–Ω—É—é —Ç–æ—á–∫—É –¥–æ—Å—Ç—É–ø–∞ –∫ —ç—Ç–æ–º—É —ç–∫–∑–µ–º–ø–ª—è—Ä—É. –ù–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç —Ç–æ–≥–æ, —Å–∫–æ–ª—å–∫–æ —Ä–∞–∑ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä, –≤—Å–µ–≥–¥–∞ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –æ–¥–∏–Ω –∏ —Ç–æ—Ç –∂–µ –æ–±—ä–µ–∫—Ç.</p>
<p>–í JavaScript –∏ TypeScript —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –≥–æ—Ä–∞–∑–¥–æ –±–æ–ª—å—à–µ —Å–ø–æ—Å–æ–±–æ–≤ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ Singleton, —á–µ–º –≤ —Ç—Ä–∞–¥–∏—Ü–∏–æ–Ω–Ω—ã—Ö —Ç–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —è–∑—ã–∫–∞—Ö, –±–ª–∞–≥–æ–¥–∞—Ä—è –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç—è–º —è–∑—ã–∫–∞ –∏ —Å–∏—Å—Ç–µ–º—ã –º–æ–¥—É–ª—å–Ω–æ—Å—Ç–∏.</p>
<hr />
<h2 id="–û—Å–Ω–æ–≤–Ω–∞—è-–∫–æ–Ω—Ü–µ–ø—Ü–∏—è"><a class="header" href="#–û—Å–Ω–æ–≤–Ω–∞—è-–∫–æ–Ω—Ü–µ–ø—Ü–∏—è">–û—Å–Ω–æ–≤–Ω–∞—è –∫–æ–Ω—Ü–µ–ø—Ü–∏—è</a></h2>
<p><strong>–¶–µ–ª—å –ø–∞—Ç—Ç–µ—Ä–Ω–∞</strong>: –û–±–µ—Å–ø–µ—á–∏—Ç—å —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ —ç–∫–∑–µ–º–ø–ª—è—Ä–∞ (instance) –≤ —Å–∏—Å—Ç–µ–º–µ.</p>
<p><strong>–ü—Ä–∏–Ω—Ü–∏–ø —Ä–∞–±–æ—Ç—ã</strong>: –°–∫–æ–ª—å–∫–æ —Ä–∞–∑ –Ω–∏ –≤—ã–∑—ã–≤–∞–π –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä, –ø–æ–ª—É—á–∞–µ—Ç—Å—è –æ–¥–∏–Ω –∏ —Ç–æ—Ç –∂–µ —ç–∫–∑–µ–º–ø–ª—è—Ä –æ–±—ä–µ–∫—Ç–∞.</p>
<hr />
<h2 id="–°–ø–æ—Å–æ–±—ã-—Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏-singleton-–≤-javascripttypescript"><a class="header" href="#–°–ø–æ—Å–æ–±—ã-—Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏-singleton-–≤-javascripttypescript">–°–ø–æ—Å–æ–±—ã —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ Singleton –≤ JavaScript/TypeScript</a></h2>
<h3 id="1-–ú–æ–¥—É–ª—å–Ω–∞—è-—Å–∏—Å—Ç–µ–º–∞-module-based-singleton"><a class="header" href="#1-–ú–æ–¥—É–ª—å–Ω–∞—è-—Å–∏—Å—Ç–µ–º–∞-module-based-singleton">1. –ú–æ–¥—É–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ (Module-based Singleton)</a></h3>
<p>–°–∞–º—ã–π —É–¥–æ–±–Ω—ã–π –∏ –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω—ã–π —Å–ø–æ—Å–æ–± –¥–ª—è JavaScript ‚Äî –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã –º–æ–¥—É–ª–µ–π. –°–∏—Å—Ç–µ–º–∞ –º–æ–¥—É–ª—å–Ω–æ—Å—Ç–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–µ–ª–∞–µ—Ç –∏–∑ –∫–∞–∂–¥–æ–≥–æ –º–æ–¥—É–ª—è Singleton.</p>
<h4 id="–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏-–º–æ–¥—É–ª—å–Ω–æ–π-—Å–∏—Å—Ç–µ–º—ã"><a class="header" href="#–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏-–º–æ–¥—É–ª—å–Ω–æ–π-—Å–∏—Å—Ç–µ–º—ã">–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –º–æ–¥—É–ª—å–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã:</a></h4>
<ul>
<li>–í—Å—ë, —á—Ç–æ —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç—Å—è –∏–∑ –º–æ–¥—É–ª—è, –ø—Ä–∏ –∫–∞–∂–¥–æ–º –∏–º–ø–æ—Ä—Ç–µ –≤ –¥—Ä—É–≥–∏—Ö –º–µ—Å—Ç–∞—Ö –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç <strong>—Ç–æ—Ç –∂–µ —Å–∞–º—ã–π –æ–±—ä–µ–∫—Ç</strong></li>
<li>–ü–æ–∫–∞ –Ω–µ —Å–±—Ä–æ—à–µ–Ω –∫—ç—à –º–æ–¥—É–ª–µ–π, –æ–±—ä–µ–∫—Ç –æ—Å—Ç–∞—ë—Ç—Å—è –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–º</li>
<li>–ú–æ–∂–Ω–æ –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ —Å–±—Ä–æ—Å–∏—Ç—å –∫—ç—à, –Ω–æ –æ–±—ã—á–Ω–æ —ç—Ç–æ –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è</li>
<li>–õ—é–±–æ–π runtime (Node.js, –±—Ä–∞—É–∑–µ—Ä—ã) –∫—ç—à–∏—Ä—É–µ—Ç –º–æ–¥—É–ª–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é</li>
</ul>
<h4 id="–ü—Ä–∏–º–µ—Ä-—Å-commonjs"><a class="header" href="#–ü—Ä–∏–º–µ—Ä-—Å-commonjs">–ü—Ä–∏–º–µ—Ä —Å CommonJS:</a></h4>
<pre><code class="language-javascript">// singleton.js
const singleton = {
  data: [],

  addData(item) {
    this.data.push(item);
  },

  getData() {
    return this.data;
  }
};

module.exports = singleton;
</code></pre>
<p><strong>–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:</strong></p>
<pre><code class="language-javascript">// file1.js
const singleton = require('./singleton');
singleton.addData('item1');

// file2.js
const singleton = require('./singleton');
singleton.addData('item2');
console.log(singleton.getData()); // ['item1', 'item2']
// –û–¥–∏–Ω –∏ —Ç–æ—Ç –∂–µ –æ–±—ä–µ–∫—Ç –≤–æ –≤—Å–µ—Ö –º–æ–¥—É–ª—è—Ö!
</code></pre>
<h4 id="–ü—Ä–∏–º–µ—Ä-—Å-es6-–º–æ–¥—É–ª—è–º–∏"><a class="header" href="#–ü—Ä–∏–º–µ—Ä-—Å-es6-–º–æ–¥—É–ª—è–º–∏">–ü—Ä–∏–º–µ—Ä —Å ES6 –º–æ–¥—É–ª—è–º–∏:</a></h4>
<pre><code class="language-javascript">// singleton.mjs
class Singleton {
  constructor() {
    this.data = [];
  }

  addData(item) {
    this.data.push(item);
  }

  getData() {
    return this.data;
  }
}

// –°–æ–∑–¥–∞—ë–º —ç–∫–∑–µ–º–ø–ª—è—Ä –∏ —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–µ–º –µ–≥–æ
const singleton = new Singleton();
export default singleton;
</code></pre>
<p><strong>–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:</strong></p>
<pre><code class="language-javascript">// app.mjs
import singleton from './singleton.mjs';

singleton.addData('test');
console.log(singleton.getData()); // ['test']

// –í –ª—é–±–æ–º –¥—Ä—É–≥–æ–º –º–æ–¥—É–ª–µ
import singleton from './singleton.mjs';
// –ü–æ–ª—É—á–∏–º —Ç–æ—Ç –∂–µ —Å–∞–º—ã–π —ç–∫–∑–µ–º–ø–ª—è—Ä —Å —Ç–µ–º–∏ –∂–µ –¥–∞–Ω–Ω—ã–º–∏
</code></pre>
<hr />
<h3 id="2-global-scope-singleton"><a class="header" href="#2-global-scope-singleton">2. Global Scope Singleton</a></h3>
<p>–ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≥–ª–æ–±–∞–ª—å–Ω—É—é –æ–±–ª–∞—Å—Ç—å –≤–∏–¥–∏–º–æ—Å—Ç–∏ (<code>global</code>, <code>globalThis</code>, <code>window</code>).</p>
<h4 id="–ü—Ä–∏–º–µ—Ä-1"><a class="header" href="#–ü—Ä–∏–º–µ—Ä-1">–ü—Ä–∏–º–µ—Ä:</a></h4>
<pre><code class="language-javascript">// –ó–∞–ø–∏—Å—ã–≤–∞–µ–º singleton –≤ –≥–ª–æ–±–∞–ª—å–Ω—ã–π –æ–±—ä–µ–∫—Ç
globalThis.appSingleton = {
  config: {},

  setConfig(key, value) {
    this.config[key] = value;
  },

  getConfig(key) {
    return this.config[key];
  }
};

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∏–∑ –ª—é–±–æ–≥–æ –º–µ—Å—Ç–∞
globalThis.appSingleton.setConfig('apiUrl', 'https://api.example.com');
</code></pre>
<h4 id="–ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏-–≥–ª–æ–±–∞–ª—å–Ω–æ–≥–æ-–ø–æ–¥—Ö–æ–¥–∞"><a class="header" href="#–ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏-–≥–ª–æ–±–∞–ª—å–Ω–æ–≥–æ-–ø–æ–¥—Ö–æ–¥–∞">–ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏ –≥–ª–æ–±–∞–ª—å–Ω–æ–≥–æ –ø–æ–¥—Ö–æ–¥–∞:</a></h4>
<ul>
<li><strong>–ü–ª–æ—Ö–æ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è</strong> ‚Äî –≥–ª–æ–±–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Ç—Ä—É–¥–Ω–æ –∏–∑–æ–ª–∏—Ä–æ–≤–∞—Ç—å –º–µ–∂–¥—É —Ç–µ—Å—Ç–∞–º–∏</li>
<li><strong>–ó–∞–º—É—Å–æ—Ä–∏–≤–∞–Ω–∏–µ –≥–ª–æ–±–∞–ª—å–Ω–æ–π –æ–±–ª–∞—Å—Ç–∏ –≤–∏–¥–∏–º–æ—Å—Ç–∏</strong> ‚Äî —Ä–∏—Å–∫ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤ –∏–º—ë–Ω</li>
<li><strong>Race conditions (—Å–æ—Å—Ç–æ—è–Ω–∏—è –≥–æ–Ω–∫–∏)</strong> ‚Äî –µ—Å–ª–∏ —É singleton –µ—Å—Ç—å –∏–∑–º–µ–Ω—è–µ–º–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ, –∏–∑ —Ä–∞–∑–Ω—ã—Ö –º–µ—Å—Ç –º–æ–∂–Ω–æ –µ–≥–æ –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ</li>
<li><strong>–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –≤–ª–∞–¥–µ–ª—å—Ü–∞</strong> ‚Äî –Ω–∏–∫—Ç–æ –Ω–µ –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ—Ç –∏ –Ω–µ –∑–∞—â–∏—â–∞–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø—Ä–∏–º–∏—Ç–∏–≤–∞–º–∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏</li>
<li><strong>–°–ª–æ–∂–Ω–æ—Å—Ç—å –æ—á–∏—Å—Ç–∫–∏</strong> ‚Äî –ø—Ä–∏ —é–Ω–∏—Ç-—Ç–µ—Å—Ç–∞—Ö –Ω—É–∂–Ω–æ –≤—Ä—É—á–Ω—É—é –æ—á–∏—â–∞—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ</li>
</ul>
<hr />
<h3 id="3-–°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ-–ø–æ–ª—è-–∫–ª–∞—Å—Å–∞"><a class="header" href="#3-–°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ-–ø–æ–ª—è-–∫–ª–∞—Å—Å–∞">3. –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ –ø–æ–ª—è –∫–ª–∞—Å—Å–∞</a></h3>
<p>–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å—Å—ã–ª–∫–∏ –Ω–∞ —ç–∫–∑–µ–º–ø–ª—è—Ä –≤ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö –ø–æ–ª—è—Ö –∫–ª–∞—Å—Å–∞.</p>
<h4 id="–ü—Ä–∏–º–µ—Ä-—Å-typescript-—Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π-—Å–∏–Ω—Ç–∞–∫—Å–∏—Å"><a class="header" href="#–ü—Ä–∏–º–µ—Ä-—Å-typescript-—Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π-—Å–∏–Ω—Ç–∞–∫—Å–∏—Å">–ü—Ä–∏–º–µ—Ä —Å TypeScript (—Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å):</a></h4>
<pre><code class="language-typescript">class Singleton {
  // –ü—Ä–∏–≤–∞—Ç–Ω–æ–µ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–æ–ª–µ –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è —ç–∫–∑–µ–º–ø–ª—è—Ä–∞
  private static instance: Singleton | null = null;

  // –ü—Ä–∏–≤–∞—Ç–Ω—ã–π –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç —Å–æ–∑–¥–∞–Ω–∏–µ —ç–∫–∑–µ–º–ø–ª—è—Ä–æ–≤ –∏–∑–≤–Ω–µ
  private constructor() {
    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
  }

  // –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π –º–µ—Ç–æ–¥ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ —ç–∫–∑–µ–º–ø–ª—è—Ä–∞
  public static getInstance(): Singleton {
    if (!Singleton.instance) {
      Singleton.instance = new Singleton();
    }
    return Singleton.instance;
  }

  public someBusinessLogic(): void {
    console.log('Executing business logic');
  }
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
const s1 = Singleton.getInstance();
const s2 = Singleton.getInstance();

console.log(s1 === s2); // true - –æ–¥–∏–Ω –∏ —Ç–æ—Ç –∂–µ —ç–∫–∑–µ–º–ø–ª—è—Ä
</code></pre>
<h4 id="–ü—Ä–∏–º–µ—Ä-—Å-–ø—Ä–∏–≤–∞—Ç–Ω—ã–º–∏-–ø–æ–ª—è–º–∏-es2022"><a class="header" href="#–ü—Ä–∏–º–µ—Ä-—Å-–ø—Ä–∏–≤–∞—Ç–Ω—ã–º–∏-–ø–æ–ª—è–º–∏-es2022">–ü—Ä–∏–º–µ—Ä —Å –ø—Ä–∏–≤–∞—Ç–Ω—ã–º–∏ –ø–æ–ª—è–º–∏ ES2022:</a></h4>
<pre><code class="language-typescript">class Singleton {
  static #instance: Singleton;

  private constructor() { }

  public static get instance(): Singleton {
    if (!Singleton.#instance) {
      Singleton.#instance = new Singleton();
    }
    return Singleton.#instance;
  }

  public someBusinessLogic() {
    console.log("Executing business logic");
  }
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
const s1 = Singleton.instance;
const s2 = Singleton.instance;

if (s1 === s2) {
  console.log('Singleton —Ä–∞–±–æ—Ç–∞–µ—Ç, –æ–±–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —Å–æ–¥–µ—Ä–∂–∞—Ç –æ–¥–∏–Ω —ç–∫–∑–µ–º–ø–ª—è—Ä.');
}
</code></pre>
<hr />
<h3 id="4-–ó–∞–º—ã–∫–∞–Ω–∏—è-closures"><a class="header" href="#4-–ó–∞–º—ã–∫–∞–Ω–∏—è-closures">4. –ó–∞–º—ã–∫–∞–Ω–∏—è (Closures)</a></h3>
<p>–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∑–∞–º—ã–∫–∞–Ω–∏–π –¥–ª—è —Å–æ–∫—Ä—ã—Ç–∏—è —ç–∫–∑–µ–º–ø–ª—è—Ä–∞.</p>
<h4 id="–ü—Ä–∏–º–µ—Ä-1-–ü—Ä–æ—Ç–æ—Ç–∏–ø–Ω—ã–π-–ø–æ–¥—Ö–æ–¥"><a class="header" href="#–ü—Ä–∏–º–µ—Ä-1-–ü—Ä–æ—Ç–æ—Ç–∏–ø–Ω—ã–π-–ø–æ–¥—Ö–æ–¥">–ü—Ä–∏–º–µ—Ä 1: –ü—Ä–æ—Ç–æ—Ç–∏–ø–Ω—ã–π –ø–æ–¥—Ö–æ–¥</a></h4>
<pre><code class="language-javascript">// –§—É–Ω–∫—Ü–∏—è-–∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä —Å –∑–∞–º—ã–∫–∞–Ω–∏–µ–º
function Singleton() {
  // –î–µ—Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä—É–µ–º —Å–≤–æ–π—Å—Ç–≤–æ instance –∏–∑ —Å–∞–º–æ–π —Ñ—É–Ω–∫—Ü–∏–∏
  const { instance } = Singleton;

  // –ï—Å–ª–∏ —ç–∫–∑–µ–º–ø–ª—è—Ä —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç, –≤–æ–∑–≤—Ä–∞—â–∞–µ–º –µ–≥–æ
  if (instance) {
    return instance;
  }

  // –ò–Ω–∞—á–µ —Å–æ—Ö—Ä–∞–Ω—è–µ–º —Ç–µ–∫—É—â–∏–π –∫–æ–Ω—Ç–µ–∫—Å—Ç (this) –∫–∞–∫ instance
  Singleton.instance = this;

  // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å–≤–æ–π—Å—Ç–≤
  this.data = [];
}

// –î–æ–±–∞–≤–ª—è–µ–º –º–µ—Ç–æ–¥—ã –≤ –ø—Ä–æ—Ç–æ—Ç–∏–ø
Singleton.prototype.addData = function(item) {
  this.data.push(item);
};

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
const s1 = new Singleton();
const s2 = new Singleton();
console.log(s1 === s2); // true
</code></pre>
<h4 id="–ü—Ä–∏–º–µ—Ä-2-–§—É–Ω–∫—Ü–∏—è-–≤–æ–∑–≤—Ä–∞—â–∞—é—â–∞—è-—Ñ—É–Ω–∫—Ü–∏—é-–∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä"><a class="header" href="#–ü—Ä–∏–º–µ—Ä-2-–§—É–Ω–∫—Ü–∏—è-–≤–æ–∑–≤—Ä–∞—â–∞—é—â–∞—è-—Ñ—É–Ω–∫—Ü–∏—é-–∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä">–ü—Ä–∏–º–µ—Ä 2: –§—É–Ω–∫—Ü–∏—è, –≤–æ–∑–≤—Ä–∞—â–∞—é—â–∞—è —Ñ—É–Ω–∫—Ü–∏—é-–∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä</a></h4>
<pre><code class="language-javascript">const Singleton = (function() {
  // –õ–æ–∫–∞–ª—å–Ω–∞—è –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è —ç–∫–∑–µ–º–ø–ª—è—Ä–∞
  let instance;

  // –í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä
  function Constructor() {
    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
    this.data = [];
  }

  Constructor.prototype.addData = function(item) {
    this.data.push(item);
  };

  // –í–æ–∑–≤—Ä–∞—â–∞–µ–º —Ñ—É–Ω–∫—Ü–∏—é, –∫–æ—Ç–æ—Ä–∞—è –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –∏ —Å–æ–∑–¥–∞—ë—Ç —ç–∫–∑–µ–º–ø–ª—è—Ä
  return function() {
    if (!instance) {
      instance = new Constructor();
    }
    return instance;
  };
})();

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
const s1 = new Singleton();
const s2 = new Singleton();
console.log(s1 === s2); // true
</code></pre>
<p><strong>–í–∞–∂–Ω–æ</strong>: –ù–µ–ª—å–∑—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å—Ç—Ä–µ–ª–æ—á–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–æ–≤, —Ç–∞–∫ –∫–∞–∫ –æ–Ω–∏ –Ω–µ –∏–º–µ—é—Ç —Å–≤–æ–µ–≥–æ <code>this</code> –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞.</p>
<h4 id="–ü—Ä–∏–º–µ—Ä-3-iife-—Å-–∫–ª–∞—Å—Å–æ–º"><a class="header" href="#–ü—Ä–∏–º–µ—Ä-3-iife-—Å-–∫–ª–∞—Å—Å–æ–º">–ü—Ä–∏–º–µ—Ä 3: IIFE —Å –∫–ª–∞—Å—Å–æ–º</a></h4>
<pre><code class="language-javascript">const Singleton = (function() {
  // –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è —ç–∫–∑–µ–º–ø–ª—è—Ä–∞ –≤ –∑–∞–º—ã–∫–∞–Ω–∏–∏
  let instance;

  // –û–ø—Ä–µ–¥–µ–ª—è–µ–º –∫–ª–∞—Å—Å –≤–Ω—É—Ç—Ä–∏ –∑–∞–º—ã–∫–∞–Ω–∏—è
  class SingletonClass {
    constructor() {
      // –ï—Å–ª–∏ —ç–∫–∑–µ–º–ø–ª—è—Ä —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç, –≤–æ–∑–≤—Ä–∞—â–∞–µ–º –µ–≥–æ
      if (instance) {
        return instance;
      }

      // –°–æ—Ö—Ä–∞–Ω—è–µ–º —Ç–µ–∫—É—â–∏–π —ç–∫–∑–µ–º–ø–ª—è—Ä
      instance = this;

      // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
      this.timestamp = Date.now();
    }

    someMethod() {
      console.log('Method called at', this.timestamp);
    }
  }

  // –í–æ–∑–≤—Ä–∞—â–∞–µ–º –∫–ª–∞—Å—Å –∏–∑ IIFE
  return SingletonClass;
})();

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
const s1 = new Singleton();
const s2 = new Singleton();
console.log(s1 === s2); // true
</code></pre>
<hr />
<h3 id="5-–û–±—ä–µ–∫—Ç–Ω—ã–π-–ª–∏—Ç–µ—Ä–∞–ª-object-literal"><a class="header" href="#5-–û–±—ä–µ–∫—Ç–Ω—ã–π-–ª–∏—Ç–µ—Ä–∞–ª-object-literal">5. –û–±—ä–µ–∫—Ç–Ω—ã–π –ª–∏—Ç–µ—Ä–∞–ª (Object Literal)</a></h3>
<p>–°–∞–º—ã–π –ø—Ä–æ—Å—Ç–æ–π —Å–ø–æ—Å–æ–± ‚Äî –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–±—ä–µ–∫—Ç–Ω—ã–π –ª–∏—Ç–µ—Ä–∞–ª –±–µ–∑ –∫–ª–∞—Å—Å–æ–≤.</p>
<h4 id="–ü—Ä–∏–º–µ—Ä-1-–ü—Ä–æ—Å—Ç–æ–µ-–∑–∞–º—ã–∫–∞–Ω–∏–µ-—Å-–æ–±—ä–µ–∫—Ç–æ–º"><a class="header" href="#–ü—Ä–∏–º–µ—Ä-1-–ü—Ä–æ—Å—Ç–æ–µ-–∑–∞–º—ã–∫–∞–Ω–∏–µ-—Å-–æ–±—ä–µ–∫—Ç–æ–º">–ü—Ä–∏–º–µ—Ä 1: –ü—Ä–æ—Å—Ç–æ–µ –∑–∞–º—ã–∫–∞–Ω–∏–µ —Å –æ–±—ä–µ–∫—Ç–æ–º</a></h4>
<pre><code class="language-javascript">const Singleton = (function() {
  // –°–æ–∑–¥–∞—ë–º –æ–±—ä–µ–∫—Ç –æ–¥–∏–Ω —Ä–∞–∑ –≤ –∑–∞–º—ã–∫–∞–Ω–∏–∏
  const instance = {
    data: [],
    config: {},

    addData(item) {
      this.data.push(item);
    },

    setConfig(key, value) {
      this.config[key] = value;
    }
  };

  // –í–æ–∑–≤—Ä–∞—â–∞–µ–º —Ñ—É–Ω–∫—Ü–∏—é, –∫–æ—Ç–æ—Ä–∞—è –≤—Å–µ–≥–¥–∞ –æ—Ç–¥–∞—ë—Ç —ç—Ç–æ—Ç –æ–±—ä–µ–∫—Ç
  return function() {
    return instance;
  };
})();

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ (–±–µ–∑ new)
const s1 = Singleton();
const s2 = Singleton();
console.log(s1 === s2); // true

s1.addData('test');
console.log(s2.data); // ['test'] - —Ç–æ—Ç –∂–µ –æ–±—ä–µ–∫—Ç
</code></pre>
<h4 id="–ü—Ä–∏–º–µ—Ä-2-–ü–µ—Ä–µ–¥–∞—á–∞-–æ–±—ä–µ–∫—Ç–∞-–∫–∞–∫-–ø–∞—Ä–∞–º–µ—Ç—Ä"><a class="header" href="#–ü—Ä–∏–º–µ—Ä-2-–ü–µ—Ä–µ–¥–∞—á–∞-–æ–±—ä–µ–∫—Ç–∞-–∫–∞–∫-–ø–∞—Ä–∞–º–µ—Ç—Ä">–ü—Ä–∏–º–µ—Ä 2: –ü–µ—Ä–µ–¥–∞—á–∞ –æ–±—ä–µ–∫—Ç–∞ –∫–∞–∫ –ø–∞—Ä–∞–º–µ—Ç—Ä</a></h4>
<pre><code class="language-javascript">const Singleton = (function(instance) {
  // –í–æ–∑–≤—Ä–∞—â–∞–µ–º —Ñ—É–Ω–∫—Ü–∏—é, –∫–æ—Ç–æ—Ä–∞—è –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø–µ—Ä–µ–¥–∞–Ω–Ω—ã–π –ø–∞—Ä–∞–º–µ—Ç—Ä
  return function() {
    return instance;
  };
})({ /* –æ–±—ä–µ–∫—Ç singleton */
  data: [],

  addData(item) {
    this.data.push(item);
  },

  getData() {
    return this.data;
  }
});

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
const s1 = Singleton();
const s2 = Singleton();
console.log(s1 === s2); // true
</code></pre>
<hr />
<h2 id="–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞-–ø–∞—Ç—Ç–µ—Ä–Ω–∞-singleton"><a class="header" href="#–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞-–ø–∞—Ç—Ç–µ—Ä–Ω–∞-singleton">–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –ø–∞—Ç—Ç–µ—Ä–Ω–∞ Singleton</a></h2>
<h3 id="1-–ï–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π-—ç–∫–∑–µ–º–ø–ª—è—Ä"><a class="header" href="#1-–ï–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π-—ç–∫–∑–µ–º–ø–ª—è—Ä">1. –ï–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π —ç–∫–∑–µ–º–ø–ª—è—Ä</a></h3>
<p>–ì–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç—Å—è, —á—Ç–æ –≤ –ª—é–±–æ–º —Å–ª—É—á–∞–µ –≤ —Å–∏—Å—Ç–µ–º–µ –±—É–¥–µ—Ç —Å—É—â–µ—Å—Ç–≤–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —ç–∫–∑–µ–º–ø–ª—è—Ä –æ–±—ä–µ–∫—Ç–∞.</p>
<pre><code class="language-javascript">class DatabaseConnection {
  private static instance: DatabaseConnection;
  private connection: any;

  private constructor() {
    // –î–æ—Ä–æ–≥–æ—Å—Ç–æ—è—â–µ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
    this.connection = this.createConnection();
  }

  public static getInstance(): DatabaseConnection {
    if (!DatabaseConnection.instance) {
      DatabaseConnection.instance = new DatabaseConnection();
    }
    return DatabaseConnection.instance;
  }

  private createConnection() {
    console.log('Creating database connection...');
    return { connected: true };
  }

  public query(sql: string) {
    return `Executing: ${sql}`;
  }
}

// –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —Å–æ–∑–¥–∞—ë—Ç—Å—è —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —Ä–∞–∑
const db1 = DatabaseConnection.getInstance();
const db2 = DatabaseConnection.getInstance();
console.log(db1 === db2); // true
</code></pre>
<h3 id="2-–ì–ª–æ–±–∞–ª—å–Ω–∞—è-—Ç–æ—á–∫–∞-–¥–æ—Å—Ç—É–ø–∞"><a class="header" href="#2-–ì–ª–æ–±–∞–ª—å–Ω–∞—è-—Ç–æ—á–∫–∞-–¥–æ—Å—Ç—É–ø–∞">2. –ì–ª–æ–±–∞–ª—å–Ω–∞—è —Ç–æ—á–∫–∞ –¥–æ—Å—Ç—É–ø–∞</a></h3>
<p>–ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç—Å—è –µ–¥–∏–Ω–∞—è —Ç–æ—á–∫–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ —Ä–µ—Å—É—Ä—Å—É –∏–∑ –ª—é–±–æ–π —á–∞—Å—Ç–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.</p>
<h3 id="3-–õ–µ–Ω–∏–≤–∞—è-–∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è"><a class="header" href="#3-–õ–µ–Ω–∏–≤–∞—è-–∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è">3. –õ–µ–Ω–∏–≤–∞—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è</a></h3>
<p>–≠–∫–∑–µ–º–ø–ª—è—Ä —Å–æ–∑–¥–∞—ë—Ç—Å—è —Ç–æ–ª—å–∫–æ —Ç–æ–≥–¥–∞, –∫–æ–≥–¥–∞ –æ–Ω –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –Ω—É–∂–µ–Ω.</p>
<pre><code class="language-javascript">class Logger {
  private static instance: Logger | null = null;

  private constructor() {
    console.log('Logger initialized');
  }

  public static getInstance(): Logger {
    if (!Logger.instance) {
      Logger.instance = new Logger(); // –°–æ–∑–¥–∞—ë—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –≤—ã–∑–æ–≤–µ
    }
    return Logger.instance;
  }

  public log(message: string): void {
    console.log(`[LOG] ${message}`);
  }
}

// Logger –Ω–µ —Å–æ–∑–¥–∞–Ω
console.log('App started');

// Logger —Å–æ–∑–¥–∞—ë—Ç—Å—è —Ç–æ–ª—å–∫–æ –∑–¥–µ—Å—å
const logger = Logger.getInstance(); // –í—ã–≤–µ–¥–µ—Ç: "Logger initialized"
logger.log('First message');
</code></pre>
<hr />
<h2 id="–ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏-–ø–∞—Ç—Ç–µ—Ä–Ω–∞-singleton"><a class="header" href="#–ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏-–ø–∞—Ç—Ç–µ—Ä–Ω–∞-singleton">–ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏ –ø–∞—Ç—Ç–µ—Ä–Ω–∞ Singleton</a></h2>
<h3 id="1-–ì–ª–æ–±–∞–ª—å–Ω—ã–π-–¥–æ—Å—Ç—É–ø-–æ—Ç–∫—É–¥–∞-—É–≥–æ–¥–Ω–æ"><a class="header" href="#1-–ì–ª–æ–±–∞–ª—å–Ω—ã–π-–¥–æ—Å—Ç—É–ø-–æ—Ç–∫—É–¥–∞-—É–≥–æ–¥–Ω–æ">1. –ì–ª–æ–±–∞–ª—å–Ω—ã–π –¥–æ—Å—Ç—É–ø –æ—Ç–∫—É–¥–∞ —É–≥–æ–¥–Ω–æ</a></h3>
<p>–õ—é–±–∞—è —á–∞—Å—Ç—å –∫–æ–¥–∞ –º–æ–∂–µ—Ç –ø–æ–ª—É—á–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫ singleton, —á—Ç–æ –∑–∞—Ç—Ä—É–¥–Ω—è–µ—Ç –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π.</p>
<h3 id="2-race-conditions-–°–æ—Å—Ç–æ—è–Ω–∏—è-–≥–æ–Ω–∫–∏"><a class="header" href="#2-race-conditions-–°–æ—Å—Ç–æ—è–Ω–∏—è-–≥–æ–Ω–∫–∏">2. Race Conditions (–°–æ—Å—Ç–æ—è–Ω–∏—è –≥–æ–Ω–∫–∏)</a></h3>
<p>–ï—Å–ª–∏ —É singleton –µ—Å—Ç—å –∏–∑–º–µ–Ω—è–µ–º–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ, –≤–æ–∑–º–æ–∂–Ω—ã –ø—Ä–æ–±–ª–µ–º—ã —Å –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω—ã–º –¥–æ—Å—Ç—É–ø–æ–º:</p>
<pre><code class="language-javascript">class Counter {
  private static instance: Counter;
  private count = 0;

  private constructor() {}

  public static getInstance(): Counter {
    if (!Counter.instance) {
      Counter.instance = new Counter();
    }
    return Counter.instance;
  }

  public increment(): void {
    this.count++;
  }

  public getCount(): number {
    return this.count;
  }
}

// –ü—Ä–æ–±–ª–µ–º–∞: –∏–∑ —Ä–∞–∑–Ω—ã—Ö –º–µ—Å—Ç –º–æ–∂–Ω–æ –∏–∑–º–µ–Ω—è—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ
const counter1 = Counter.getInstance();
const counter2 = Counter.getInstance();

counter1.increment(); // count = 1
counter2.increment(); // count = 2
// –°–æ—Å—Ç–æ—è–Ω–∏–µ —Ä–∞–∑–¥–µ–ª—è–µ—Ç—Å—è –º–µ–∂–¥—É –≤—Å–µ–º–∏ –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—è–º–∏
</code></pre>
<h3 id="3-–ü—Ä–æ–±–ª–µ–º—ã-—Å-—é–Ω–∏—Ç-—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ–º"><a class="header" href="#3-–ü—Ä–æ–±–ª–µ–º—ã-—Å-—é–Ω–∏—Ç-—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ–º">3. –ü—Ä–æ–±–ª–µ–º—ã —Å —é–Ω–∏—Ç-—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ–º</a></h3>
<p><strong>–ü—Ä–æ–±–ª–µ–º–∞ –∏–∑–æ–ª—è—Ü–∏–∏ —Ç–µ—Å—Ç–æ–≤:</strong></p>
<pre><code class="language-javascript">// test1.spec.js
test('test 1', () =&gt; {
  const config = Config.getInstance();
  config.set('apiUrl', 'http://test1.com');
  // ...—Ç–µ—Å—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —ç—Ç—É –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
});

// test2.spec.js
test('test 2', () =&gt; {
  const config = Config.getInstance();
  // –ü–æ–ª—É—á–∞–µ–º —Ç–æ—Ç –∂–µ —ç–∫–∑–µ–º–ø–ª—è—Ä —Å —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º –∏–∑ –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ —Ç–µ—Å—Ç–∞!
  console.log(config.get('apiUrl')); // 'http://test1.com' - –Ω–µ —Ç–æ —á—Ç–æ –æ–∂–∏–¥–∞–ª–æ—Å—å
});
</code></pre>
<p><strong>–†–µ—à–µ–Ω–∏–µ ‚Äî –º–µ—Ç–æ–¥ —Å–±—Ä–æ—Å–∞:</strong></p>
<pre><code class="language-typescript">class Config {
  private static instance: Config | null = null;
  private settings: Map&lt;string, any&gt; = new Map();

  private constructor() {}

  public static getInstance(): Config {
    if (!Config.instance) {
      Config.instance = new Config();
    }
    return Config.instance;
  }

  // –ú–µ—Ç–æ–¥ –¥–ª—è —Å–±—Ä–æ—Å–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è (–¥–ª—è —Ç–µ—Å—Ç–æ–≤)
  public static reset(): void {
    Config.instance = null;
  }

  public set(key: string, value: any): void {
    this.settings.set(key, value);
  }

  public get(key: string): any {
    return this.settings.get(key);
  }

  public clear(): void {
    this.settings.clear();
  }
}

// –í —Ç–µ—Å—Ç–∞—Ö:
afterEach(() =&gt; {
  Config.reset(); // –°–±—Ä–∞—Å—ã–≤–∞–µ–º singleton –ø–µ—Ä–µ–¥ –∫–∞–∂–¥—ã–º —Ç–µ—Å—Ç–æ–º
});
</code></pre>
<h3 id="4-–°–ª–æ–∂–Ω–æ—Å—Ç—å-–æ—á–∏—Å—Ç–∫–∏-–≥–ª–æ–±–∞–ª—å–Ω–æ–≥–æ-—Å–æ—Å—Ç–æ—è–Ω–∏—è"><a class="header" href="#4-–°–ª–æ–∂–Ω–æ—Å—Ç—å-–æ—á–∏—Å—Ç–∫–∏-–≥–ª–æ–±–∞–ª—å–Ω–æ–≥–æ-—Å–æ—Å—Ç–æ—è–Ω–∏—è">4. –°–ª–æ–∂–Ω–æ—Å—Ç—å –æ—á–∏—Å—Ç–∫–∏ –≥–ª–æ–±–∞–ª—å–Ω–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è</a></h3>
<p>Singleton –æ—Å—Ç–∞—ë—Ç—Å—è –≤ –ø–∞–º—è—Ç–∏, –ø–æ–∫–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ. –ï—Å–ª–∏ –¥—Ä—É–≥–∏–µ –æ–±—ä–µ–∫—Ç—ã —Å–æ–∑–¥–∞—é—Ç—Å—è –∏ —É–Ω–∏—á—Ç–æ–∂–∞—é—Ç—Å—è, singleton –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç –∂–∏—Ç—å.</p>
<h3 id="5-–°–∫—Ä—ã—Ç—ã–µ-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏"><a class="header" href="#5-–°–∫—Ä—ã—Ç—ã–µ-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏">5. –°–∫—Ä—ã—Ç—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏</a></h3>
<p>–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ singleton —Å–∫—Ä—ã–≤–∞–µ—Ç —Ä–µ–∞–ª—å–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∫–ª–∞—Å—Å–∞, —á—Ç–æ —É—Å–ª–æ–∂–Ω—è–µ—Ç –ø–æ–Ω–∏–º–∞–Ω–∏–µ –∫–æ–¥–∞.</p>
<pre><code class="language-typescript">class UserService {
  // –ù–µ—è–≤–Ω–∞—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –æ—Ç Logger
  public createUser(name: string) {
    Logger.getInstance().log(`Creating user: ${name}`);
    // ...
  }
}

// –õ—É—á—à–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Dependency Injection:
class UserService {
  constructor(private logger: Logger) {}

  public createUser(name: string) {
    this.logger.log(`Creating user: ${name}`);
    // ...
  }
}
</code></pre>
<hr />
<h2 id="–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ-–ø—Ä–∏–º–µ—Ä—ã-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è"><a class="header" href="#–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ-–ø—Ä–∏–º–µ—Ä—ã-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è">–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è</a></h2>
<h3 id="–ü—Ä–∏–º–µ—Ä-1-–ú–µ–Ω–µ–¥–∂–µ—Ä-–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏"><a class="header" href="#–ü—Ä–∏–º–µ—Ä-1-–ú–µ–Ω–µ–¥–∂–µ—Ä-–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏">–ü—Ä–∏–º–µ—Ä 1: –ú–µ–Ω–µ–¥–∂–µ—Ä –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏</a></h3>
<pre><code class="language-typescript">class ConfigManager {
  private static instance: ConfigManager;
  private config: Map&lt;string, any&gt;;

  private constructor() {
    this.config = new Map();
    this.loadDefaultConfig();
  }

  public static getInstance(): ConfigManager {
    if (!ConfigManager.instance) {
      ConfigManager.instance = new ConfigManager();
    }
    return ConfigManager.instance;
  }

  private loadDefaultConfig(): void {
    this.config.set('appName', 'MyApp');
    this.config.set('version', '1.0.0');
    this.config.set('debug', false);
  }

  public get(key: string): any {
    return this.config.get(key);
  }

  public set(key: string, value: any): void {
    this.config.set(key, value);
  }

  public has(key: string): boolean {
    return this.config.has(key);
  }
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
const config = ConfigManager.getInstance();
config.set('apiUrl', 'https://api.example.com');

// –í –¥—Ä—É–≥–æ–π —á–∞—Å—Ç–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
const config2 = ConfigManager.getInstance();
console.log(config2.get('apiUrl')); // 'https://api.example.com'
</code></pre>
<h3 id="–ü—Ä–∏–º–µ—Ä-2-–ü—É–ª-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π-—Å-–±–∞–∑–æ–π-–¥–∞–Ω–Ω—ã—Ö"><a class="header" href="#–ü—Ä–∏–º–µ—Ä-2-–ü—É–ª-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π-—Å-–±–∞–∑–æ–π-–¥–∞–Ω–Ω—ã—Ö">–ü—Ä–∏–º–µ—Ä 2: –ü—É–ª —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö</a></h3>
<pre><code class="language-typescript">class ConnectionPool {
  private static instance: ConnectionPool;
  private connections: Connection[] = [];
  private readonly maxConnections = 10;

  private constructor() {
    this.initializePool();
  }

  public static getInstance(): ConnectionPool {
    if (!ConnectionPool.instance) {
      ConnectionPool.instance = new ConnectionPool();
    }
    return ConnectionPool.instance;
  }

  private initializePool(): void {
    console.log('Initializing connection pool...');
    for (let i = 0; i &lt; this.maxConnections; i++) {
      this.connections.push(this.createConnection());
    }
  }

  private createConnection(): Connection {
    return {
      id: Math.random().toString(36).substr(2, 9),
      inUse: false,
      query: (sql: string) =&gt; `Result for: ${sql}`
    };
  }

  public getConnection(): Connection | null {
    const available = this.connections.find(conn =&gt; !conn.inUse);
    if (available) {
      available.inUse = true;
      return available;
    }
    return null;
  }

  public releaseConnection(connection: Connection): void {
    connection.inUse = false;
  }
}

interface Connection {
  id: string;
  inUse: boolean;
  query: (sql: string) =&gt; string;
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
const pool = ConnectionPool.getInstance();
const conn = pool.getConnection();
if (conn) {
  console.log(conn.query('SELECT * FROM users'));
  pool.releaseConnection(conn);
}
</code></pre>
<h3 id="–ü—Ä–∏–º–µ—Ä-3-–õ–æ–≥–≥–µ—Ä"><a class="header" href="#–ü—Ä–∏–º–µ—Ä-3-–õ–æ–≥–≥–µ—Ä">–ü—Ä–∏–º–µ—Ä 3: –õ–æ–≥–≥–µ—Ä</a></h3>
<pre><code class="language-typescript">enum LogLevel {
  DEBUG,
  INFO,
  WARN,
  ERROR
}

class Logger {
  private static instance: Logger;
  private logLevel: LogLevel = LogLevel.INFO;

  private constructor() {}

  public static getInstance(): Logger {
    if (!Logger.instance) {
      Logger.instance = new Logger();
    }
    return Logger.instance;
  }

  public setLogLevel(level: LogLevel): void {
    this.logLevel = level;
  }

  private log(level: LogLevel, message: string): void {
    if (level &gt;= this.logLevel) {
      const timestamp = new Date().toISOString();
      const levelName = LogLevel[level];
      console.log(`[${timestamp}] [${levelName}] ${message}`);
    }
  }

  public debug(message: string): void {
    this.log(LogLevel.DEBUG, message);
  }

  public info(message: string): void {
    this.log(LogLevel.INFO, message);
  }

  public warn(message: string): void {
    this.log(LogLevel.WARN, message);
  }

  public error(message: string): void {
    this.log(LogLevel.ERROR, message);
  }
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
const logger = Logger.getInstance();
logger.setLogLevel(LogLevel.DEBUG);

logger.debug('This is a debug message');
logger.info('Application started');
logger.warn('Warning: low memory');
logger.error('Error occurred');
</code></pre>
<hr />
<h2 id="–°—Ä–∞–≤–Ω–µ–Ω–∏–µ-—Ä–∞–∑–ª–∏—á–Ω—ã—Ö-—Ä–µ–∞–ª–∏–∑–∞—Ü–∏–π"><a class="header" href="#–°—Ä–∞–≤–Ω–µ–Ω–∏–µ-—Ä–∞–∑–ª–∏—á–Ω—ã—Ö-—Ä–µ–∞–ª–∏–∑–∞—Ü–∏–π">–°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–π</a></h2>
<div class="table-wrapper"><table><thead><tr><th>–ü–æ–¥—Ö–æ–¥</th><th>–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞</th><th>–ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏</th><th>–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å</th></tr></thead><tbody>
<tr><td><strong>–ú–æ–¥—É–ª–∏ (ES6/CommonJS)</strong></td><td>–ü—Ä–æ—Å—Ç–æ, –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–æ –¥–ª—è JS, –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ</td><td>–ù–µ–≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∫–æ–Ω—Ç—Ä–æ–ª—è —Å–æ–∑–¥–∞–Ω–∏—è</td><td>–ë–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ —Å–ª—É—á–∞–µ–≤ –≤ Node.js</td></tr>
<tr><td><strong>–°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ –ø–æ–ª—è –∫–ª–∞—Å—Å–∞</strong></td><td>–Ø–≤–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å, –ø—Ä–∏–≤–∞—Ç–Ω—ã–π –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä</td><td>–ë–æ–ª–µ–µ –º–Ω–æ–≥–æ—Å–ª–æ–≤–Ω–æ</td><td>–ö–æ–≥–¥–∞ –Ω—É–∂–µ–Ω —è–≤–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å</td></tr>
<tr><td><strong>–ó–∞–º—ã–∫–∞–Ω–∏—è</strong></td><td>–°–∫—Ä—ã–≤–∞–µ—Ç –¥–µ—Ç–∞–ª–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏</td><td>–°–ª–æ–∂–Ω–µ–µ –¥–ª—è –ø–æ–Ω–∏–º–∞–Ω–∏—è</td><td>–õ–µ–≥–∞—Å–∏ –∫–æ–¥ –∏–ª–∏ —Å–ø–µ—Ü–∏—Ñ–∏—á–µ—Å–∫–∏–µ —Å–ª—É—á–∞–∏</td></tr>
<tr><td><strong>–û–±—ä–µ–∫—Ç–Ω—ã–π –ª–∏—Ç–µ—Ä–∞–ª</strong></td><td>–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –ø—Ä–æ—Å—Ç–æ</td><td>–ù–µ—Ç –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –ª–µ–Ω–∏–≤–æ–π –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏</td><td>–ü—Ä–æ—Å—Ç—ã–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏</td></tr>
<tr><td><strong>Global scope</strong></td><td>–î–æ—Å—Ç—É–ø–Ω–æ –≤–µ–∑–¥–µ</td><td>–ó–∞—Å–æ—Ä—è–µ—Ç –≥–ª–æ–±–∞–ª—å–Ω—É—é –æ–±–ª–∞—Å—Ç—å, –ø—Ä–æ–±–ª–µ–º—ã —Å —Ç–µ—Å—Ç–∞–º–∏</td><td>–ò–∑–±–µ–≥–∞—Ç—å –≤ production –∫–æ–¥–µ</td></tr>
</tbody></table>
</div>
<hr />
<h2 id="–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—ã-singleton"><a class="header" href="#–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—ã-singleton">–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—ã Singleton</a></h2>
<h3 id="1-dependency-injection-–í–Ω–µ–¥—Ä–µ–Ω–∏–µ-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π"><a class="header" href="#1-dependency-injection-–í–Ω–µ–¥—Ä–µ–Ω–∏–µ-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π">1. Dependency Injection (–í–Ω–µ–¥—Ä–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π)</a></h3>
<p>–í–º–µ—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è singleton, –ø–µ—Ä–µ–¥–∞–≤–∞–π—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —è–≤–Ω–æ:</p>
<pre><code class="language-typescript">// –ü–ª–æ—Ö–æ: –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Singleton
class UserService {
  createUser(name: string) {
    const db = Database.getInstance(); // –°–∫—Ä—ã—Ç–∞—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å
    const logger = Logger.getInstance(); // –°–∫—Ä—ã—Ç–∞—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å
    logger.log('Creating user');
    db.save({ name });
  }
}

// –•–æ—Ä–æ—à–æ: Dependency Injection
class UserService {
  constructor(
    private db: Database,
    private logger: Logger
  ) {}

  createUser(name: string) {
    this.logger.log('Creating user');
    this.db.save({ name });
  }
}

// –Ø–≤–Ω–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
const db = new Database();
const logger = new Logger();
const userService = new UserService(db, logger);
</code></pre>
<h3 id="2-–ú–æ–¥—É–ª—å–Ω—ã–µ-—ç–∫—Å–ø–æ—Ä—Ç—ã"><a class="header" href="#2-–ú–æ–¥—É–ª—å–Ω—ã–µ-—ç–∫—Å–ø–æ—Ä—Ç—ã">2. –ú–æ–¥—É–ª—å–Ω—ã–µ —ç–∫—Å–ø–æ—Ä—Ç—ã</a></h3>
<p>–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–∏—Å—Ç–µ–º—É –º–æ–¥—É–ª–µ–π –≤–º–µ—Å—Ç–æ —Å–ª–æ–∂–Ω—ã—Ö –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤:</p>
<pre><code class="language-javascript">// config.js
export const config = {
  apiUrl: 'https://api.example.com',
  timeout: 5000
};

// app.js
import { config } from './config.js';
console.log(config.apiUrl);
</code></pre>
<hr />
<h2 id="–ö–ª—é—á–µ–≤—ã–µ-–≤—ã–≤–æ–¥—ã-17"><a class="header" href="#–ö–ª—é—á–µ–≤—ã–µ-–≤—ã–≤–æ–¥—ã-17">–ö–ª—é—á–µ–≤—ã–µ –≤—ã–≤–æ–¥—ã</a></h2>
<ol>
<li>
<p><strong>Singleton –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π —ç–∫–∑–µ–º–ø–ª—è—Ä –∫–ª–∞—Å—Å–∞</strong> –≤ —Å–∏—Å—Ç–µ–º–µ —Å –≥–ª–æ–±–∞–ª—å–Ω–æ–π —Ç–æ—á–∫–æ–π –¥–æ—Å—Ç—É–ø–∞</p>
</li>
<li>
<p><strong>–í JavaScript –º–Ω–æ–≥–æ —Å–ø–æ—Å–æ–±–æ–≤ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏</strong> –±–ª–∞–≥–æ–¥–∞—Ä—è –≥–∏–±–∫–æ—Å—Ç–∏ —è–∑—ã–∫–∞ –∏ —Å–∏—Å—Ç–µ–º–µ –º–æ–¥—É–ª–µ–π</p>
</li>
<li>
<p><strong>–ú–æ–¥—É–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ ‚Äî —Å–∞–º—ã–π –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω—ã–π —Å–ø–æ—Å–æ–±</strong> –¥–ª—è JavaScript/Node.js</p>
</li>
<li>
<p><strong>–û—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã</strong>:</p>
<ul>
<li>–ì–ª–æ–±–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ</li>
<li>Race conditions</li>
<li>–°–ª–æ–∂–Ω–æ—Å—Ç—å —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è</li>
<li>–°–∫—Ä—ã—Ç—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏</li>
</ul>
</li>
<li>
<p><strong>–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å</strong>:</p>
<ul>
<li>–ú–µ–Ω–µ–¥–∂–µ—Ä—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏</li>
<li>–õ–æ–≥–≥–µ—Ä—ã</li>
<li>–ü—É–ª—ã —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π</li>
<li>–ö—ç—à-–º–µ–Ω–µ–¥–∂–µ—Ä—ã</li>
<li>–†–µ–µ—Å—Ç—Ä—ã/—Ä–µ–≥–∏—Å—Ç—Ä—ã</li>
</ul>
</li>
<li>
<p><strong>–ö–æ–≥–¥–∞ –∏–∑–±–µ–≥–∞—Ç—å</strong>:</p>
<ul>
<li>–ö–æ–≥–¥–∞ –≤–æ–∑–º–æ–∂–Ω–∞ Dependency Injection</li>
<li>–ö–æ–≥–¥–∞ –≤–∞–∂–Ω–∞ –∏–∑–æ–ª—è—Ü–∏—è —Ç–µ—Å—Ç–æ–≤</li>
<li>–ö–æ–≥–¥–∞ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –ª–æ–∫–∞–ª—å–Ω—ã–º</li>
</ul>
</li>
<li>
<p><strong>–õ—É—á—à–∞—è –ø—Ä–∞–∫—Ç–∏–∫–∞</strong>: –ü—Ä–µ–¥–ø–æ—á–∏—Ç–∞–π—Ç–µ –º–æ–¥—É–ª—å–Ω—É—é —Å–∏—Å—Ç–µ–º—É —Å–ª–æ–∂–Ω—ã–º —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è–º —Å –∑–∞–º—ã–∫–∞–Ω–∏—è–º–∏, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —è–≤–Ω–æ–µ –≤–Ω–µ–¥—Ä–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –≥–¥–µ –≤–æ–∑–º–æ–∂–Ω–æ</p>
</li>
</ol>
<hr />
<h2 id="–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ-—Ä–µ—Å—É—Ä—Å—ã-5"><a class="header" href="#–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ-—Ä–µ—Å—É—Ä—Å—ã-5">–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã</a></h2>
<h3 id="–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ-–ø–∞—Ç—Ç–µ—Ä–Ω—ã-–¥–ª—è-–∏–∑—É—á–µ–Ω–∏—è"><a class="header" href="#–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ-–ø–∞—Ç—Ç–µ—Ä–Ω—ã-–¥–ª—è-–∏–∑—É—á–µ–Ω–∏—è">–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã –¥–ª—è –∏–∑—É—á–µ–Ω–∏—è:</a></h3>
<ul>
<li><strong>Factory</strong> ‚Äî –¥–ª—è –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ–º–æ–≥–æ —Å–æ–∑–¥–∞–Ω–∏—è –æ–±—ä–µ–∫—Ç–æ–≤</li>
<li><strong>Dependency Injection</strong> ‚Äî –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏</li>
<li><strong>Module Pattern</strong> ‚Äî –¥–ª—è –∏–Ω–∫–∞–ø—Å—É–ª—è—Ü–∏–∏ –∫–æ–¥–∞</li>
</ul>
<h3 id="–°–≤—è–∑–∞–Ω–Ω—ã–µ-–∫–æ–Ω—Ü–µ–ø—Ü–∏–∏"><a class="header" href="#–°–≤—è–∑–∞–Ω–Ω—ã–µ-–∫–æ–Ω—Ü–µ–ø—Ü–∏–∏">–°–≤—è–∑–∞–Ω–Ω—ã–µ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏:</a></h3>
<ul>
<li>–°–∏—Å—Ç–µ–º–∞ –º–æ–¥—É–ª–µ–π CommonJS –∏ ES6</li>
<li>–ó–∞–º—ã–∫–∞–Ω–∏—è –≤ JavaScript</li>
<li>–°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —á–ª–µ–Ω—ã –∫–ª–∞—Å—Å–æ–≤</li>
<li>–ü—Ä–∏–≤–∞—Ç–Ω—ã–µ –ø–æ–ª—è –≤ TypeScript/JavaScript</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="–ü–∞—Ç—Ç–µ—Ä–Ω-–õ–µ–≥–∫–æ–≤–µ—Å-flyweight-–∏–∑-–ë–∞–Ω–¥—ã-–ß–µ—Ç—ã—Ä—ë—Ö"><a class="header" href="#–ü–∞—Ç—Ç–µ—Ä–Ω-–õ–µ–≥–∫–æ–≤–µ—Å-flyweight-–∏–∑-–ë–∞–Ω–¥—ã-–ß–µ—Ç—ã—Ä—ë—Ö">–ü–∞—Ç—Ç–µ—Ä–Ω –õ–µ–≥–∫–æ–≤–µ—Å (Flyweight) –∏–∑ –ë–∞–Ω–¥—ã –ß–µ—Ç—ã—Ä—ë—Ö</a></h1>
<h2 id="–û–±–∑–æ—Ä-10"><a class="header" href="#–û–±–∑–æ—Ä-10">–û–±–∑–æ—Ä</a></h2>
<p>–ü–∞—Ç—Ç–µ—Ä–Ω <strong>Flyweight (–õ–µ–≥–∫–æ–≤–µ—Å)</strong> ‚Äî —ç—Ç–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–Ω—ã–π –ø–∞—Ç—Ç–µ—Ä–Ω –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏–∑ –ë–∞–Ω–¥—ã –ß–µ—Ç—ã—Ä—ë—Ö (GoF), –æ—Å–Ω–æ–≤–Ω–∞—è –∑–∞–¥–∞—á–∞ –∫–æ—Ç–æ—Ä–æ–≥–æ ‚Äî <strong>—ç–∫–æ–Ω–æ–º–∏—è –ø–∞–º—è—Ç–∏</strong> –ø—É—Ç—ë–º —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è –æ–±—ä–µ–∫—Ç–æ–≤ –Ω–∞ –¥–≤–µ —á–∞—Å—Ç–∏: –æ–±—â—É—é (—Ä–∞–∑–¥–µ–ª—è–µ–º—É—é) –∏ —É–Ω–∏–∫–∞–ª—å–Ω—É—é. –≠—Ç–æ—Ç –ø–∞—Ç—Ç–µ—Ä–Ω –æ—Å–æ–±–µ–Ω–Ω–æ –ø–æ–ª–µ–∑–µ–Ω –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –±–æ–ª—å—à–æ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –æ–¥–Ω–æ—Ç–∏–ø–Ω—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤.</p>
<p><strong>–ö–ª—é—á–µ–≤–∞—è –∏–¥–µ—è</strong>: –†–∞–∑–¥–µ–ª–∏—Ç—å –∞–±—Å—Ç—Ä–∞–∫—Ü–∏—é –Ω–∞ –¥–≤–∞ –∫–ª–∞—Å—Å–∞ ‚Äî –æ–¥–∏–Ω —Ö—Ä–∞–Ω–∏—Ç –¥–∞–Ω–Ω—ã–µ, –æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ –¥–ª—è –º–Ω–æ–∂–µ—Å—Ç–≤–∞ —ç–∫–∑–µ–º–ø–ª—è—Ä–æ–≤ (–≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ), –∞ –¥—Ä—É–≥–æ–π —Ö—Ä–∞–Ω–∏—Ç —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (–≤–Ω–µ—à–Ω–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ).</p>
<h2 id="–û—Å–Ω–æ–≤–Ω—ã–µ-–∫–æ–Ω—Ü–µ–ø—Ü–∏–∏-2"><a class="header" href="#–û—Å–Ω–æ–≤–Ω—ã–µ-–∫–æ–Ω—Ü–µ–ø—Ü–∏–∏-2">–û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏</a></h2>
<h3 id="–ü—Ä–∏–Ω—Ü–∏–ø-—Ä–∞–±–æ—Ç—ã-1"><a class="header" href="#–ü—Ä–∏–Ω—Ü–∏–ø-—Ä–∞–±–æ—Ç—ã-1">–ü—Ä–∏–Ω—Ü–∏–ø —Ä–∞–±–æ—Ç—ã</a></h3>
<p>–≠–∫–æ–Ω–æ–º–∏—è –ø–∞–º—è—Ç–∏ –¥–æ—Å—Ç–∏–≥–∞–µ—Ç—Å—è –∑–∞ —Å—á—ë—Ç:</p>
<ul>
<li><strong>–ü–æ–≤—ã—à–µ–Ω–∏—è —Å–ª–æ–∂–Ω–æ—Å—Ç–∏ –ø—Ä–æ–≥—Ä–∞–º–º—ã</strong> ‚Äî —Ç—Ä–µ–±—É–µ—Ç—Å—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –ª–æ–≥–∏–∫–∞ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ä–∞–∑–¥–µ–ª—è–µ–º—ã–º–∏ –æ–±—ä–µ–∫—Ç–∞–º–∏</li>
<li><strong>–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–Ω—ã—Ö —Ä–µ—Å—É—Ä—Å–æ–≤</strong> ‚Äî –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è –¥–ª—è —Å–≤—è–∑—ã–≤–∞–Ω–∏—è –æ–±—ä–µ–∫—Ç–æ–≤</li>
</ul>
<h3 id="–ö–æ–º–ø—Ä–æ–º–∏—Å—Å"><a class="header" href="#–ö–æ–º–ø—Ä–æ–º–∏—Å—Å">–ö–æ–º–ø—Ä–æ–º–∏—Å—Å</a></h3>
<p><strong>–í—ã–∏–≥—Ä—ã—à</strong>: –ó–Ω–∞—á–∏—Ç–µ–ª—å–Ω–∞—è —ç–∫–æ–Ω–æ–º–∏—è –ø–∞–º—è—Ç–∏ –ø—Ä–∏ –±–æ–ª—å—à–æ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ –æ–¥–Ω–æ—Ç–∏–ø–Ω—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤</p>
<p><strong>–¶–µ–Ω–∞</strong>: –£–≤–µ–ª–∏—á–µ–Ω–∏–µ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏ –∫–æ–¥–∞ –∏ –Ω–µ–±–æ–ª—å—à–æ–µ —É–≤–µ–ª–∏—á–µ–Ω–∏–µ –Ω–∞–≥—Ä—É–∑–∫–∏ –Ω–∞ –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä</p>
<hr />
<h2 id="–ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∞—è-—Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è-–ø–∞—Ç—Ç–µ—Ä–Ω–∞-flyweight"><a class="header" href="#–ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∞—è-—Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è-–ø–∞—Ç—Ç–µ—Ä–Ω–∞-flyweight">–ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –ø–∞—Ç—Ç–µ—Ä–Ω–∞ Flyweight</a></h2>
<h3 id="–ü—Ä–∏–º–µ—Ä-–°–∏—Å—Ç–µ–º–∞-—Ç–∞–π–º–µ—Ä–æ–≤"><a class="header" href="#–ü—Ä–∏–º–µ—Ä-–°–∏—Å—Ç–µ–º–∞-—Ç–∞–π–º–µ—Ä–æ–≤">–ü—Ä–∏–º–µ—Ä: –°–∏—Å—Ç–µ–º–∞ —Ç–∞–π–º–µ—Ä–æ–≤</a></h3>
<p>–¢–∞–π–º–µ—Ä ‚Äî —ç—Ç–æ –∏–¥–µ–∞–ª—å–Ω—ã–π –ø—Ä–∏–º–µ—Ä –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏ –ø–∞—Ç—Ç–µ—Ä–Ω–∞ Flyweight, –ø–æ—Ç–æ–º—É —á—Ç–æ:</p>
<ol>
<li>–ö–∞–∂–¥—ã–π —Ç–∞–π–º–µ—Ä –≤—ã–¥–µ–ª—è–µ—Ç –ø–∞–º—è—Ç—å</li>
<li>–ö–∞–∂–¥—ã–π —Ç–∞–π–º–µ—Ä —Å–≤—è–∑–∞–Ω —Å —Å–∏—Å—Ç–µ–º–Ω—ã–º —Ä–µ—Å—É—Ä—Å–æ–º (handle –∏–ª–∏ ID)</li>
<li>–ü–ª–∞—Ç—Ñ–æ—Ä–º–∞ (–±—Ä–∞—É–∑–µ—Ä –∏–ª–∏ Node.js) –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–∞–π–º–µ—Ä–æ–≤</li>
</ol>
<h3 id="–°—Ç—Ä—É–∫—Ç—É—Ä–∞-–∫–ª–∞—Å—Å–∏—á–µ—Å–∫–æ–π-—Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏"><a class="header" href="#–°—Ç—Ä—É–∫—Ç—É—Ä–∞-–∫–ª–∞—Å—Å–∏—á–µ—Å–∫–æ–π-—Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏">–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–æ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏</a></h3>
<h4 id="–ö–ª–∞—Å—Å-timer-–¢—è–∂—ë–ª—ã–π-–æ–±—ä–µ–∫—Ç"><a class="header" href="#–ö–ª–∞—Å—Å-timer-–¢—è–∂—ë–ª—ã–π-–æ–±—ä–µ–∫—Ç">–ö–ª–∞—Å—Å Timer (–¢—è–∂—ë–ª—ã–π –æ–±—ä–µ–∫—Ç)</a></h4>
<p>–≠—Ç–æ—Ç –∫–ª–∞—Å—Å –æ–±–æ—Ä–∞—á–∏–≤–∞–µ—Ç —Å–∏—Å—Ç–µ–º–Ω—ã–π <code>setInterval</code> –∏ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π —Ç—è–∂–µ–ª–æ–≤–µ—Å–Ω—É—é —á–∞—Å—Ç—å –ø–∞—Ç—Ç–µ—Ä–Ω–∞.</p>
<pre><code class="language-javascript">class Timer {
  constructor(interval, removeTimer) {
    // –°–æ—Ö—Ä–∞–Ω—è–µ–º –∏–Ω—Ç–µ—Ä–≤–∞–ª
    this.interval = interval;

    // –ö–æ–ª–ª–µ–∫—Ü–∏—è —Å–ª—É—à–∞—Ç–µ–ª–µ–π (listeners) –¥–ª—è –¥–∞–Ω–Ω–æ–≥–æ —Ç–∞–π–º–µ—Ä–∞
    this.listeners = new Set();

    // Callback –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è —Ç–∞–π–º–µ—Ä–∞ –∏–∑ –∫–æ–ª–ª–µ–∫—Ü–∏–∏
    this.removeTimer = removeTimer;

    // –°–æ–∑–¥–∞—ë–º —Å–∏—Å—Ç–µ–º–Ω—ã–π —Ç–∞–π–º–µ—Ä (–ø–ª–∞—Ç—Ñ–æ—Ä–º–µ–Ω–Ω—ã–π)
    this.instance = setInterval(() =&gt; {
      // –ü—Ä–∏ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏–∏ —Ç–∞–π–º–µ—Ä–∞ –≤—ã–∑—ã–≤–∞–µ–º –≤—Å–µ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ listeners
      for (const listener of this.listeners) {
        listener();
      }
    }, interval);
  }

  // –ú–µ—Ç–æ–¥ –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è listener'–∞
  add(callback) {
    this.listeners.add(callback);
  }

  // –ú–µ—Ç–æ–¥ –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è listener'–∞
  remove(callback) {
    this.listeners.delete(callback);

    // –ï—Å–ª–∏ –±–æ–ª—å—à–µ –Ω–µ—Ç —Å–ª—É—à–∞—Ç–µ–ª–µ–π, —É–¥–∞–ª—è–µ–º —Å–∏—Å—Ç–µ–º–Ω—ã–π —Ç–∞–π–º–µ—Ä
    if (this.listeners.size === 0) {
      clearInterval(this.instance);
      // –£–¥–∞–ª—è–µ–º —Ç–∞–π–º–µ—Ä –∏–∑ –∫—ç—à–∞ —Ñ–∞–±—Ä–∏–∫–∏
      this.removeTimer();
    }
  }
}
</code></pre>
<p><strong>–í–∞–∂–Ω—ã–µ –ø–æ–ª—è –∫–ª–∞—Å—Å–∞ Timer</strong>:</p>
<ul>
<li><code>interval</code> ‚Äî –∏–Ω—Ç–µ—Ä–≤–∞–ª —Å—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏—è (–æ–¥–∏–Ω–∞–∫–æ–≤—ã–π –¥–ª—è –≤—Å–µ—Ö, –∫—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —ç—Ç–æ—Ç —Ç–∞–π–º–µ—Ä)</li>
<li><code>listeners</code> ‚Äî –∫–æ–ª–ª–µ–∫—Ü–∏—è (Set) –≤—Å–µ—Ö callback'–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –¥–æ–ª–∂–Ω—ã –≤—ã–∑—ã–≤–∞—Ç—å—Å—è</li>
<li><code>removeTimer</code> ‚Äî callback –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è —Ç–∞–π–º–µ—Ä–∞ –∏–∑ —Ñ–∞–±—Ä–∏–∫–∏</li>
<li><code>instance</code> ‚Äî —Å—Å—ã–ª–∫–∞ –Ω–∞ —Å–∏—Å—Ç–µ–º–Ω—ã–π —Ç–∞–π–º–µ—Ä (–≤ Node.js —ç—Ç–æ –æ–±—ä–µ–∫—Ç, –≤ –±—Ä–∞—É–∑–µ—Ä–µ ‚Äî Number)</li>
</ul>
<h4 id="–ö–ª–∞—Å—Å-timerfactory-–§–∞–±—Ä–∏–∫–∞-—Å-–∫—ç—à–µ–º"><a class="header" href="#–ö–ª–∞—Å—Å-timerfactory-–§–∞–±—Ä–∏–∫–∞-—Å-–∫—ç—à–µ–º">–ö–ª–∞—Å—Å TimerFactory (–§–∞–±—Ä–∏–∫–∞ —Å –∫—ç—à–µ–º)</a></h4>
<p>–§–∞–±—Ä–∏–∫–∞ —É–ø—Ä–∞–≤–ª—è–µ—Ç –∫–æ–ª–ª–µ–∫—Ü–∏–µ–π —Ç–∞–π–º–µ—Ä–æ–≤ –∏ —Ä–µ–∞–ª–∏–∑—É–µ—Ç –ø–∞—Ç—Ç–µ—Ä–Ω Flyweight.</p>
<pre><code class="language-javascript">class TimerFactory {
  // –°—Ç–∞—Ç–∏—á–µ—Å–∫–∞—è –∫–æ–ª–ª–µ–∫—Ü–∏—è —Ç–∞–π–º–µ—Ä–æ–≤
  // –ö–ª—é—á: –∏–Ω—Ç–µ—Ä–≤–∞–ª (—á–∏—Å–ª–æ), –ó–Ω–∞—á–µ–Ω–∏–µ: —ç–∫–∑–µ–º–ø–ª—è—Ä Timer
  static timers = new Map();

  // –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π –º–µ—Ç–æ–¥ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Ç–∞–π–º–µ—Ä–∞
  static getTimer(interval) {
    // –°–æ–∑–¥–∞—ë–º —Ñ—É–Ω–∫—Ü–∏—é –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è —Ç–∞–π–º–µ—Ä–∞ –∏–∑ –∫—ç—à–∞
    const removeTimer = () =&gt; {
      TimerFactory.timers.delete(interval);
    };

    // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –µ—Å—Ç—å –ª–∏ —Ç–∞–π–º–µ—Ä —Å —Ç–∞–∫–∏–º –∏–Ω—Ç–µ—Ä–≤–∞–ª–æ–º –≤ –∫—ç—à–µ
    let timer = TimerFactory.timers.get(interval);

    if (timer) {
      // –ï—Å–ª–∏ —Ç–∞–π–º–µ—Ä —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç, –≤–æ–∑–≤—Ä–∞—â–∞–µ–º –µ–≥–æ
      return timer;
    }

    // –ï—Å–ª–∏ —Ç–∞–π–º–µ—Ä–∞ –Ω–µ—Ç, —Å–æ–∑–¥–∞—ë–º –Ω–æ–≤—ã–π
    timer = new Timer(interval, removeTimer);

    // –î–æ–±–∞–≤–ª—è–µ–º –≤ –∫—ç—à
    TimerFactory.timers.set(interval, timer);

    // –í–æ–∑–≤—Ä–∞—â–∞–µ–º —Å–æ–∑–¥–∞–Ω–Ω—ã–π —Ç–∞–π–º–µ—Ä
    return timer;
  }
}
</code></pre>
<p><strong>–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç —Ñ–∞–±—Ä–∏–∫–∞</strong>:</p>
<ol>
<li>–ú–µ—Ç–æ–¥ <code>getTimer()</code> –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –∫—ç—à —Ç–∞–π–º–µ—Ä–æ–≤ –ø–æ –∫–ª—é—á—É <code>interval</code></li>
<li>–ï—Å–ª–∏ —Ç–∞–π–º–µ—Ä —Å —Ç–∞–∫–∏–º –∏–Ω—Ç–µ—Ä–≤–∞–ª–æ–º —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç ‚Äî –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –µ–≥–æ</li>
<li>–ï—Å–ª–∏ –Ω–µ—Ç ‚Äî —Å–æ–∑–¥–∞—ë—Ç –Ω–æ–≤—ã–π, —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –≤ –∫—ç—à –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç</li>
<li>–§—É–Ω–∫—Ü–∏—è <code>removeTimer</code> –ø–æ–∑–≤–æ–ª—è–µ—Ç —Ç–∞–π–º–µ—Ä—É —É–¥–∞–ª–∏—Ç—å —Å–µ–±—è –∏–∑ –∫—ç—à–∞, –∫–æ–≥–¥–∞ –≤—Å–µ listeners —É–¥–∞–ª–µ–Ω—ã</li>
</ol>
<h4 id="–ö–ª–∞—Å—Å-interval-–õ—ë–≥–∫–∏–π-–æ–±—ä–µ–∫—Ç"><a class="header" href="#–ö–ª–∞—Å—Å-interval-–õ—ë–≥–∫–∏–π-–æ–±—ä–µ–∫—Ç">–ö–ª–∞—Å—Å Interval (–õ—ë–≥–∫–∏–π –æ–±—ä–µ–∫—Ç)</a></h4>
<p>–≠—Ç–æ –∫–ª–∏–µ–Ω—Ç—Å–∫–∞—è –æ–±—ë—Ä—Ç–∫–∞, –∫–æ—Ç–æ—Ä–∞—è –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —É–¥–æ–±–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Ç–∞–π–º–µ—Ä–∞–º–∏.</p>
<pre><code class="language-javascript">class Interval {
  constructor(interval, callback) {
    // –°–æ—Ö—Ä–∞–Ω—è–µ–º callback (—É–Ω–∏–∫–∞–ª—å–Ω—ã–π –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —ç–∫–∑–µ–º–ø–ª—è—Ä–∞)
    this.callback = callback;

    // –ü–æ–ª—É—á–∞–µ–º —Ç–∞–π–º–µ—Ä –∏–∑ —Ñ–∞–±—Ä–∏–∫–∏ (—Ä–∞–∑–¥–µ–ª—è–µ–º—ã–π —Ä–µ—Å—É—Ä—Å)
    this.timer = TimerFactory.getTimer(interval);

    // –†–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ–º –Ω–∞—à callback –≤ —Ç–∞–π–º–µ—Ä–µ
    this.timer.add(this.callback);
  }

  // –ú–µ—Ç–æ–¥ –¥–ª—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ –∏–Ω—Ç–µ—Ä–≤–∞–ª–∞
  stop() {
    // –£–¥–∞–ª—è–µ–º –Ω–∞—à callback –∏–∑ —Ç–∞–π–º–µ—Ä–∞
    this.timer.remove(this.callback);
  }
}
</code></pre>
<p><strong>–ü–æ–ª—è –∫–ª–∞—Å—Å–∞ Interval</strong>:</p>
<ul>
<li><code>callback</code> ‚Äî —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —ç–∫–∑–µ–º–ø–ª—è—Ä–∞ (–≤–Ω–µ—à–Ω–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ)</li>
<li><code>timer</code> ‚Äî —Å—Å—ã–ª–∫–∞ –Ω–∞ —Ä–∞–∑–¥–µ–ª—è–µ–º—ã–π Timer (–≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ)</li>
</ul>
<h3 id="–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ-–∫–ª–∞—Å—Å–∏—á–µ—Å–∫–æ–π-—Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏"><a class="header" href="#–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ-–∫–ª–∞—Å—Å–∏—á–µ—Å–∫–æ–π-—Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏">–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–æ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏</a></h3>
<pre><code class="language-javascript">// –°–æ–∑–¥–∞—ë–º –º–Ω–æ–∂–µ—Å—Ç–≤–æ –∏–Ω—Ç–µ—Ä–≤–∞–ª–æ–≤
const intervals = [];

// –°–æ–∑–¥–∞—ë–º 1 –º–∏–ª–ª–∏–æ–Ω —Ç–∞–π–º–µ—Ä–æ–≤ —Å –∏–Ω—Ç–µ—Ä–≤–∞–ª–æ–º 1000ms
for (let i = 0; i &lt; 1000000; i++) {
  intervals.push(new Interval(1000, () =&gt; {
    // –ö–∞–∫–∞—è-—Ç–æ –ª–æ–≥–∏–∫–∞
  }));
}

// –°–æ–∑–¥–∞—ë–º –µ—â—ë 1 –º–∏–ª–ª–∏–æ–Ω —Ç–∞–π–º–µ—Ä–æ–≤ —Å –∏–Ω—Ç–µ—Ä–≤–∞–ª–æ–º 2000ms
for (let i = 0; i &lt; 1000000; i++) {
  intervals.push(new Interval(2000, () =&gt; {
    // –ö–∞–∫–∞—è-—Ç–æ –ª–æ–≥–∏–∫–∞
  }));
}

// –ò—Ç–æ–≥–æ: 2 –º–∏–ª–ª–∏–æ–Ω–∞ Interval –æ–±—ä–µ–∫—Ç–æ–≤
// –ù–æ —Ç–æ–ª—å–∫–æ 2 —Å–∏—Å—Ç–µ–º–Ω—ã—Ö —Ç–∞–π–º–µ—Ä–∞!
</code></pre>
<p><strong>–í–∞–∂–Ω–æ–µ –Ω–∞–±–ª—é–¥–µ–Ω–∏–µ</strong>: –ë–µ–∑ –ø–∞—Ç—Ç–µ—Ä–Ω–∞ Flyweight —Å–æ–∑–¥–∞–Ω–∏–µ 2 –º–∏–ª–ª–∏–æ–Ω–æ–≤ <code>setInterval</code> –≤—ã–∑–æ–≤–æ–≤:</p>
<ul>
<li>–ó–∞–π–º—ë—Ç –æ–≥—Ä–æ–º–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–∞–º—è—Ç–∏</li>
<li>–ú–æ–∂–µ—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ –∏—Å—á–µ—Ä–ø–∞–Ω–∏—é —Å–∏—Å—Ç–µ–º–Ω—ã—Ö —Ä–µ—Å—É—Ä—Å–æ–≤</li>
<li>–ë—É–¥–µ—Ç –æ—á–µ–Ω—å –º–µ–¥–ª–µ–Ω–Ω—ã–º</li>
</ul>
<p>–° –ø–∞—Ç—Ç–µ—Ä–Ω–æ–º Flyweight:</p>
<ul>
<li>–°–æ–∑–¥–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ 2 —Å–∏—Å—Ç–µ–º–Ω—ã—Ö —Ç–∞–π–º–µ—Ä–∞ (–¥–ª—è 1000ms –∏ 2000ms)</li>
<li>–≠–∫–æ–Ω–æ–º–∏—è –ø–∞–º—è—Ç–∏ –∏ —Ä–µ—Å—É—Ä—Å–æ–≤ –≤ —Å–æ—Ç–Ω–∏ —Ç—ã—Å—è—á —Ä–∞–∑</li>
<li>–ë—ã—Å—Ç—Ä–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ</li>
</ul>
<hr />
<h2 id="–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è-—Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è-–¥–ª—è-javascript"><a class="header" href="#–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è-—Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è-–¥–ª—è-javascript">–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –¥–ª—è JavaScript</a></h2>
<p>–í JavaScript –º–æ–∂–Ω–æ —É–ø—Ä–æ—Å—Ç–∏—Ç—å –∫–ª–∞—Å—Å–∏—á–µ—Å–∫—É—é —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é, –æ–±—ä–µ–¥–∏–Ω–∏–≤ –ª–æ–≥–∏–∫—É –≤ –æ–¥–Ω–æ–º –∫–ª–∞—Å—Å–µ.</p>
<h3 id="–í–∞—Ä–∏–∞–Ω—Ç-1-–û–¥–∏–Ω-–∫–ª–∞—Å—Å-—Å-—É—Å–ª–æ–≤–Ω–æ–π-–∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–µ–π"><a class="header" href="#–í–∞—Ä–∏–∞–Ω—Ç-1-–û–¥–∏–Ω-–∫–ª–∞—Å—Å-—Å-—É—Å–ª–æ–≤–Ω–æ–π-–∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–µ–π">–í–∞—Ä–∏–∞–Ω—Ç 1: –û–¥–∏–Ω –∫–ª–∞—Å—Å —Å —É—Å–ª–æ–≤–Ω–æ–π –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–µ–π</a></h3>
<pre><code class="language-javascript">class Interval {
  // –°—Ç–∞—Ç–∏—á–µ—Å–∫–∞—è –∫–æ–ª–ª–µ–∫—Ü–∏—è —Ç–∞–π–º–µ—Ä–æ–≤ (–∫—ç—à)
  static timers = new Map();

  constructor(interval, callback) {
    // –°–æ—Ö—Ä–∞–Ω—è–µ–º callback
    this.callback = callback;

    // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –µ—Å—Ç—å –ª–∏ —Ç–∞–π–º–µ—Ä –≤ –∫—ç—à–µ
    const cached = Interval.timers.get(interval);

    if (!cached) {
      // –ï—Å–ª–∏ –Ω–µ—Ç ‚Äî –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º –ø–æ–ª–Ω–æ–≤–µ—Å–Ω—ã–π –æ–±—ä–µ–∫—Ç
      this.interval = interval;
      this.listeners = new Set();

      this.instance = setInterval(() =&gt; {
        for (const listener of this.listeners) {
          listener();
        }
      }, interval);

      // –î–æ–±–∞–≤–ª—è–µ–º –≤ –∫—ç—à
      Interval.timers.set(interval, this);
    } else {
      // –ï—Å–ª–∏ –µ—Å—Ç—å ‚Äî –≤–æ–∑–≤—Ä–∞—â–∞–µ–º –ª–µ–≥–∫–æ–≤–µ—Å–Ω—ã–π –æ–±—ä–µ–∫—Ç
      // –£ –Ω–µ–≥–æ –±—É–¥–µ—Ç —Ç–æ–ª—å–∫–æ –ø–æ–ª–µ callback
    }

    // –í –ª—é–±–æ–º —Å–ª—É—á–∞–µ, –ø–æ–ª—É—á–∞–µ–º —Ç–∞–π–º–µ—Ä (–ª–∏–±–æ cached, –ª–∏–±–æ this)
    const timer = cached || this;

    // –î–æ–±–∞–≤–ª—è–µ–º callback –≤ –∫–æ–ª–ª–µ–∫—Ü–∏—é listeners
    timer.listeners.add(callback);
  }

  remove(callback) {
    // –ù–∞—Ö–æ–¥–∏–º —Ç–∞–π–º–µ—Ä –ø–æ callback (—á–µ—Ä–µ–∑ –ø—Ä–æ—Ç–æ—Ç–∏–ø)
    const timer = this.instance ? this : Interval.timers.get(this.interval);

    timer.listeners.delete(callback);

    if (timer.listeners.size === 0) {
      clearInterval(timer.instance);
      Interval.timers.delete(timer.interval);
    }
  }
}
</code></pre>
<p><strong>–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ —ç—Ç–æ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏</strong>:</p>
<ul>
<li>–û–±—ä–µ–¥–∏–Ω—è–µ—Ç Timer –∏ TimerFactory –≤ –æ–¥–∏–Ω –∫–ª–∞—Å—Å</li>
<li>–°–æ–∑–¥–∞—ë—Ç –¥–≤–∞ —Ç–∏–ø–∞ –æ–±—ä–µ–∫—Ç–æ–≤: <strong>—Ç—è–∂—ë–ª—ã–µ</strong> (—Å –ø–æ–ª—è–º–∏ <code>interval</code>, <code>listeners</code>, <code>instance</code>) –∏ <strong>–ª—ë–≥–∫–∏–µ</strong> (—Ç–æ–ª—å–∫–æ —Å <code>callback</code>)</li>
<li><strong>–ö–æ–º–ø—Ä–æ–º–∏—Å—Å</strong>: –û–±—ä–µ–∫—Ç —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –ø–æ–ª–∏–º–æ—Ä—Ñ–Ω—ã–º, –Ω–æ –Ω–µ –¥–µ–æ–ø—Ç–∏–º–∏–∑–∏—Ä—É–µ—Ç—Å—è –≤ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –¥–≤–∏–∂–∫–∞—Ö JavaScript</li>
</ul>
<h3 id="–í–∞—Ä–∏–∞–Ω—Ç-2-–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ-—Ü–µ–ø–æ—á–∫–∏-–ø—Ä–æ—Ç–æ—Ç–∏–ø–æ–≤"><a class="header" href="#–í–∞—Ä–∏–∞–Ω—Ç-2-–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ-—Ü–µ–ø–æ—á–∫–∏-–ø—Ä–æ—Ç–æ—Ç–∏–ø–æ–≤">–í–∞—Ä–∏–∞–Ω—Ç 2: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ü–µ–ø–æ—á–∫–∏ –ø—Ä–æ—Ç–æ—Ç–∏–ø–æ–≤</a></h3>
<p>–≠—Ç–∞ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –∏—Å–ø–æ–ª—å–∑—É–µ—Ç <code>Object.setPrototypeOf()</code> –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Å–≤—è–∑–∏ –º–µ–∂–¥—É –ª—ë–≥–∫–∏–º–∏ –∏ —Ç—è–∂—ë–ª—ã–º–∏ –æ–±—ä–µ–∫—Ç–∞–º–∏.</p>
<pre><code class="language-javascript">class Interval {
  static timers = new Map();

  constructor(interval, callback) {
    // –í—Å–µ–≥–¥–∞ —Å–æ—Ö—Ä–∞–Ω—è–µ–º callback
    this.callback = callback;

    // –ò—â–µ–º —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π —Ç–∞–π–º–µ—Ä
    const timer = Interval.timers.get(interval);

    if (timer) {
      // –ï—Å–ª–∏ —Ç–∞–π–º–µ—Ä –Ω–∞–π–¥–µ–Ω, —Å–≤—è–∑—ã–≤–∞–µ–º —Ç–µ–∫—É—â–∏–π –æ–±—ä–µ–∫—Ç —Å –Ω–∏–º —á–µ—Ä–µ–∑ –ø—Ä–æ—Ç–æ—Ç–∏–ø
      Object.setPrototypeOf(this, timer);
    } else {
      // –ï—Å–ª–∏ —Ç–∞–π–º–µ—Ä–∞ –Ω–µ—Ç, –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º –ø–æ–ª–Ω–æ–≤–µ—Å–Ω—ã–π –æ–±—ä–µ–∫—Ç
      this.interval = interval;
      this.listeners = new Set();

      this.instance = setInterval(() =&gt; {
        for (const listener of this.listeners) {
          listener();
        }
      }, interval);

      // –î–æ–±–∞–≤–ª—è–µ–º –≤ –∫—ç—à
      Interval.timers.set(interval, this);
    }

    // –î–æ–±–∞–≤–ª—è–µ–º callback –≤ listeners
    // –ë–ª–∞–≥–æ–¥–∞—Ä—è –ø—Ä–æ—Ç–æ—Ç–∏–ø—É, this.listeners –Ω–∞–π–¥—ë—Ç—Å—è –≤ —Ü–µ–ø–æ—á–∫–µ
    this.listeners.add(callback);
  }

  remove() {
    // –£–¥–∞–ª—è–µ–º callback –∏–∑ listeners
    this.listeners.delete(this.callback);

    // –ï—Å–ª–∏ listeners –ø—É—Å—Ç, –æ—á–∏—â–∞–µ–º —Ç–∞–π–º–µ—Ä
    if (this.listeners.size === 0) {
      clearInterval(this.instance);
      Interval.timers.delete(this.interval);
    }
  }
}
</code></pre>
<p><strong>–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç —Ü–µ–ø–æ—á–∫–∞ –ø—Ä–æ—Ç–æ—Ç–∏–ø–æ–≤</strong>:</p>
<ol>
<li><strong>–õ—ë–≥–∫–∏–π –æ–±—ä–µ–∫—Ç</strong> —Å–æ–∑–¥–∞—ë—Ç—Å—è —Å –æ–¥–Ω–∏–º –ø–æ–ª–µ–º <code>callback</code></li>
<li>–ï–≥–æ –ø—Ä–æ—Ç–æ—Ç–∏–ø —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ <strong>—Ç—è–∂—ë–ª—ã–π –æ–±—ä–µ–∫—Ç</strong> —Å –ø–æ–ª—è–º–∏ <code>interval</code>, <code>listeners</code>, <code>instance</code></li>
<li>–ü—Ä–∏ –æ–±—Ä–∞—â–µ–Ω–∏–∏ –∫ <code>this.listeners</code> JavaScript –∏—â–µ—Ç —ç—Ç–æ —Å–≤–æ–π—Å—Ç–≤–æ –≤ —Ü–µ–ø–æ—á–∫–µ –ø—Ä–æ—Ç–æ—Ç–∏–ø–æ–≤ –∏ –Ω–∞—Ö–æ–¥–∏—Ç –µ–≥–æ –≤ —Ç—è–∂—ë–ª–æ–º –æ–±—ä–µ–∫—Ç–µ</li>
<li>–í—Å–µ –ª—ë–≥–∫–∏–µ –æ–±—ä–µ–∫—Ç—ã —Å –æ–¥–∏–Ω–∞–∫–æ–≤—ã–º –∏–Ω—Ç–µ—Ä–≤–∞–ª–æ–º —Å—Å—ã–ª–∞—é—Ç—Å—è –Ω–∞ –æ–¥–∏–Ω —Ç—è–∂—ë–ª—ã–π –æ–±—ä–µ–∫—Ç</li>
</ol>
<p><strong>–í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è</strong>:</p>
<pre><code>–õ—ë–≥–∫–∏–π –æ–±—ä–µ–∫—Ç 1       –õ—ë–≥–∫–∏–π –æ–±—ä–µ–∫—Ç 2       –õ—ë–≥–∫–∏–π –æ–±—ä–µ–∫—Ç 3
{                     {                     {
  callback: fn1       callback: fn2         callback: fn3
}                     }                     }
  |                     |                     |
  |                     |                     |
  +---------------------+---------------------+
                        |
                        v
            –¢—è–∂—ë–ª—ã–π –æ–±—ä–µ–∫—Ç (–≤ –∫—ç—à–µ)
            {
              interval: 1000,
              listeners: Set([fn1, fn2, fn3]),
              instance: &lt;—Å–∏—Å—Ç–µ–º–Ω—ã–π —Ç–∞–π–º–µ—Ä&gt;
            }
</code></pre>
<p><strong>–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ —ç—Ç–æ–≥–æ –ø–æ–¥—Ö–æ–¥–∞</strong>:</p>
<ul>
<li>–ù–µ –Ω—É–∂–Ω–æ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å —Å—Å—ã–ª–∫—É –Ω–∞ callback –≤ –º–µ—Ç–æ–¥ <code>remove()</code></li>
<li>–ö–∞–∂–¥—ã–π –æ–±—ä–µ–∫—Ç –∑–Ω–∞–µ—Ç —Å–≤–æ–π callback —á–µ—Ä–µ–∑ —Å–≤–æ–π—Å—Ç–≤–æ <code>this.callback</code></li>
<li>–ß–∏—Å—Ç—ã–π API: <code>interval.remove()</code> –≤–º–µ—Å—Ç–æ <code>interval.remove(callback)</code></li>
</ul>
<hr />
<h2 id="–°—Ä–∞–≤–Ω–µ–Ω–∏–µ-–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏"><a class="header" href="#–°—Ä–∞–≤–Ω–µ–Ω–∏–µ-–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏">–°—Ä–∞–≤–Ω–µ–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏</a></h2>
<h3 id="–ë–µ–∑-–ø–∞—Ç—Ç–µ—Ä–Ω–∞-flyweight"><a class="header" href="#–ë–µ–∑-–ø–∞—Ç—Ç–µ—Ä–Ω–∞-flyweight">–ë–µ–∑ –ø–∞—Ç—Ç–µ—Ä–Ω–∞ Flyweight</a></h3>
<pre><code class="language-javascript">const intervals = [];

// –°–æ–∑–¥–∞—ë–º 2 –º–∏–ª–ª–∏–æ–Ω–∞ setInterval
for (let i = 0; i &lt; 1000000; i++) {
  intervals.push(setInterval(() =&gt; {}, 1000));
}

for (let i = 0; i &lt; 1000000; i++) {
  intervals.push(setInterval(() =&gt; {}, 2000));
}

// –ü—Ä–æ–±–ª–µ–º—ã:
// - –û–≥—Ä–æ–º–Ω–æ–µ –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç–∏
// - –í–æ–∑–º–æ–∂–Ω–æ–µ –∏—Å—á–µ—Ä–ø–∞–Ω–∏–µ —Å–∏—Å—Ç–µ–º–Ω—ã—Ö —Ä–µ—Å—É—Ä—Å–æ–≤
// - –ú–µ–¥–ª–µ–Ω–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ
</code></pre>
<h3 id="–°-–ø–∞—Ç—Ç–µ—Ä–Ω–æ–º-flyweight"><a class="header" href="#–°-–ø–∞—Ç—Ç–µ—Ä–Ω–æ–º-flyweight">–° –ø–∞—Ç—Ç–µ—Ä–Ω–æ–º Flyweight</a></h3>
<pre><code class="language-javascript">const intervals = [];

// –°–æ–∑–¥–∞—ë–º 2 –º–∏–ª–ª–∏–æ–Ω–∞ Interval –æ–±—ä–µ–∫—Ç–æ–≤
for (let i = 0; i &lt; 1000000; i++) {
  intervals.push(new Interval(1000, () =&gt; {}));
}

for (let i = 0; i &lt; 1000000; i++) {
  intervals.push(new Interval(2000, () =&gt; {}));
}

// –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:
// - –¢–æ–ª—å–∫–æ 2 —Å–∏—Å—Ç–µ–º–Ω—ã—Ö —Ç–∞–π–º–µ—Ä–∞
// - –ú–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç–∏ (—Ç–æ–ª—å–∫–æ callback'–∏)
// - –ë—ã—Å—Ç—Ä–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ
</code></pre>
<h3 id="–ò–∑–º–µ—Ä–µ–Ω–∏–µ-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è-–ø–∞–º—è—Ç–∏"><a class="header" href="#–ò–∑–º–µ—Ä–µ–Ω–∏–µ-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è-–ø–∞–º—è—Ç–∏">–ò–∑–º–µ—Ä–µ–Ω–∏–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –ø–∞–º—è—Ç–∏</a></h3>
<p>–í—ã –º–æ–∂–µ—Ç–µ –∏–∑–º–µ—Ä–∏—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏ –≤ Node.js:</p>
<pre><code class="language-javascript">// –ü–æ–ª—É—á–∞–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏
const memoryBefore = process.memoryUsage();

// ... —Å–æ–∑–¥–∞—ë–º –æ–±—ä–µ–∫—Ç—ã ...

const memoryAfter = process.memoryUsage();

console.log('Heap –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è:',
  (memoryAfter.heapUsed - memoryBefore.heapUsed) / 1024 / 1024, 'MB');
</code></pre>
<hr />
<h2 id="–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ-–∞—Å–ø–µ–∫—Ç—ã"><a class="header" href="#–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ-–∞—Å–ø–µ–∫—Ç—ã">–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ –∞—Å–ø–µ–∫—Ç—ã</a></h2>
<h3 id="–†–∞–∑–¥–µ–ª–µ–Ω–∏–µ-—Å–æ—Å—Ç–æ—è–Ω–∏—è"><a class="header" href="#–†–∞–∑–¥–µ–ª–µ–Ω–∏–µ-—Å–æ—Å—Ç–æ—è–Ω–∏—è">–†–∞–∑–¥–µ–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è</a></h3>
<p><strong>–í–Ω—É—Ç—Ä–µ–Ω–Ω–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ (Intrinsic State)</strong>:</p>
<ul>
<li>–û–¥–∏–Ω–∞–∫–æ–≤–æ–µ –¥–ª—è –º–Ω–æ–∂–µ—Å—Ç–≤–∞ –æ–±—ä–µ–∫—Ç–æ–≤</li>
<li>–•—Ä–∞–Ω–∏—Ç—Å—è –≤ —Ä–∞–∑–¥–µ–ª—è–µ–º–æ–º (—Ç—è–∂—ë–ª–æ–º) –æ–±—ä–µ–∫—Ç–µ</li>
<li>–í –Ω–∞—à–µ–º –ø—Ä–∏–º–µ—Ä–µ: <code>interval</code>, <code>listeners</code>, <code>instance</code></li>
</ul>
<p><strong>–í–Ω–µ—à–Ω–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ (Extrinsic State)</strong>:</p>
<ul>
<li>–£–Ω–∏–∫–∞–ª—å–Ω–æ–µ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞</li>
<li>–•—Ä–∞–Ω–∏—Ç—Å—è –≤ –ª—ë–≥–∫–æ–º –æ–±—ä–µ–∫—Ç–µ –∏–ª–∏ –ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è –∫–∞–∫ –ø–∞—Ä–∞–º–µ—Ç—Ä</li>
<li>–í –Ω–∞—à–µ–º –ø—Ä–∏–º–µ—Ä–µ: <code>callback</code></li>
</ul>
<h3 id="–†–æ–ª—å-—Ñ–∞–±—Ä–∏–∫–∏"><a class="header" href="#–†–æ–ª—å-—Ñ–∞–±—Ä–∏–∫–∏">–†–æ–ª—å —Ñ–∞–±—Ä–∏–∫–∏</a></h3>
<p>–§–∞–±—Ä–∏–∫–∞ (Factory) –≤ –ø–∞—Ç—Ç–µ—Ä–Ω–µ Flyweight:</p>
<ol>
<li><strong>–ö—ç—à–∏—Ä—É–µ—Ç</strong> —Ç—è–∂—ë–ª—ã–µ –æ–±—ä–µ–∫—Ç—ã</li>
<li><strong>–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç</strong> —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –æ–±—ä–µ–∫—Ç –∏–ª–∏ —Å–æ–∑–¥–∞—ë—Ç –Ω–æ–≤—ã–π</li>
<li><strong>–£–ø—Ä–∞–≤–ª—è–µ—Ç</strong> –∂–∏–∑–Ω–µ–Ω–Ω—ã–º —Ü–∏–∫–ª–æ–º —Ä–∞–∑–¥–µ–ª—è–µ–º—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤</li>
</ol>
<p>–í –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–æ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —Ñ–∞–±—Ä–∏–∫–∞ ‚Äî –æ—Ç–¥–µ–ª—å–Ω—ã–π –∫–ª–∞—Å—Å. –í JavaScript –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:</p>
<ul>
<li>–°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ –º–µ—Ç–æ–¥—ã –∫–ª–∞—Å—Å–∞</li>
<li>–§—É–Ω–∫—Ü–∏–∏ –≤ –º–æ–¥—É–ª–µ (closure)</li>
<li>–û—Ç–¥–µ–ª—å–Ω—ã–π –æ–±—ä–µ–∫—Ç-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä</li>
</ul>
<h3 id="–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ-–ø–∞–º—è—Ç—å—é"><a class="header" href="#–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ-–ø–∞–º—è—Ç—å—é">–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç—å—é</a></h3>
<p><strong>–í–∞–∂–Ω—ã–π –º–æ–º–µ–Ω—Ç</strong>: –¢–∞–π–º–µ—Ä —É–¥–∞–ª—è–µ—Ç—Å—è –∏–∑ –∫—ç—à–∞, –∫–æ–≥–¥–∞ —É –Ω–µ–≥–æ –Ω–µ –æ—Å—Ç–∞–ª–æ—Å—å —Å–ª—É—à–∞—Ç–µ–ª–µ–π.</p>
<pre><code class="language-javascript">// –ö–æ–≥–¥–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–π listener —É–¥–∞–ª—è–µ—Ç—Å—è:
if (this.listeners.size === 0) {
  clearInterval(this.instance);  // –û—á–∏—â–∞–µ–º —Å–∏—Å—Ç–µ–º–Ω—ã–π —Ç–∞–π–º–µ—Ä
  Interval.timers.delete(interval);  // –£–¥–∞–ª—è–µ–º –∏–∑ –∫—ç—à–∞
}
</code></pre>
<p>–≠—Ç–æ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç —É—Ç–µ—á–∫–∏ –ø–∞–º—è—Ç–∏ –∏ –æ—Å–≤–æ–±–æ–∂–¥–∞–µ—Ç —Å–∏—Å—Ç–µ–º–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã.</p>
<hr />
<h2 id="–ö–æ–≥–¥–∞-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å-–ø–∞—Ç—Ç–µ—Ä–Ω-flyweight"><a class="header" href="#–ö–æ–≥–¥–∞-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å-–ø–∞—Ç—Ç–µ—Ä–Ω-flyweight">–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–∞—Ç—Ç–µ—Ä–Ω Flyweight</a></h2>
<h3 id="–ü–æ–¥—Ö–æ–¥—è—â–∏–µ-—Å—Ü–µ–Ω–∞—Ä–∏–∏-1"><a class="header" href="#–ü–æ–¥—Ö–æ–¥—è—â–∏–µ-—Å—Ü–µ–Ω–∞—Ä–∏–∏-1">–ü–æ–¥—Ö–æ–¥—è—â–∏–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏</a></h3>
<p>–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Flyweight, –∫–æ–≥–¥–∞:</p>
<ol>
<li><strong>–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å–æ–∑–¥–∞—ë—Ç –æ–≥—Ä–æ–º–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ–±—ä–µ–∫—Ç–æ–≤</strong> (—Å–æ—Ç–Ω–∏ —Ç—ã—Å—è—á –∏–ª–∏ –º–∏–ª–ª–∏–æ–Ω—ã)</li>
<li><strong>–ë–æ–ª—å—à–∞—è —á–∞—Å—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏—è –æ–±—ä–µ–∫—Ç–æ–≤ –º–æ–∂–µ—Ç –±—ã—Ç—å –≤—ã–Ω–µ—Å–µ–Ω–∞ –Ω–∞—Ä—É–∂—É</strong> (–ø—Ä–µ–≤—Ä–∞—â–µ–Ω–∞ –≤ –≤–Ω–µ—à–Ω–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ)</li>
<li><strong>–ú–Ω–æ–∂–µ—Å—Ç–≤–æ –æ–±—ä–µ–∫—Ç–æ–≤ –º–æ–∂–Ω–æ –∑–∞–º–µ–Ω–∏—Ç—å –Ω–µ–±–æ–ª—å—à–∏–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º —Ä–∞–∑–¥–µ–ª—è–µ–º—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤</strong></li>
<li><strong>–ò–¥–µ–Ω—Ç–∏—á–Ω–æ—Å—Ç—å –æ–±—ä–µ–∫—Ç–æ–≤ –Ω–µ –≤–∞–∂–Ω–∞</strong> (–æ–±—ä–µ–∫—Ç—ã –≤–∑–∞–∏–º–æ–∑–∞–º–µ–Ω—è–µ–º—ã)</li>
</ol>
<h3 id="–ü—Ä–∏–º–µ—Ä—ã-–ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è"><a class="header" href="#–ü—Ä–∏–º–µ—Ä—ã-–ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è">–ü—Ä–∏–º–µ—Ä—ã –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è</a></h3>
<p><strong>1. –ì—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–µ —Ä–µ–¥–∞–∫—Ç–æ—Ä—ã</strong></p>
<ul>
<li>–°–∏–º–≤–æ–ª—ã –≤ —Ç–µ–∫—Å—Ç–æ–≤–æ–º —Ä–µ–¥–∞–∫—Ç–æ—Ä–µ</li>
<li>–ß–∞—Å—Ç–∏—Ü—ã –≤ –≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏—Ö —ç—Ñ—Ñ–µ–∫—Ç–∞—Ö</li>
<li>–°–ø—Ä–∞–π—Ç—ã –≤ –∏–≥—Ä–∞—Ö</li>
</ul>
<pre><code class="language-javascript">// –ü—Ä–∏–º–µ—Ä: –°–∏–º–≤–æ–ª—ã –≤ —Ä–µ–¥–∞–∫—Ç–æ—Ä–µ
class Character {
  constructor(char, font, size) {
    this.char = char;  // –í–Ω—É—Ç—Ä–µ–Ω–Ω–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
    this.font = font;  // –í–Ω—É—Ç—Ä–µ–Ω–Ω–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
    this.size = size;  // –í–Ω—É—Ç—Ä–µ–Ω–Ω–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
  }

  display(position, color) {
    // position –∏ color ‚Äî –≤–Ω–µ—à–Ω–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
    console.log(`–û—Ç–æ–±—Ä–∞–∂–∞–µ–º ${this.char} –≤ ${position} —Ü–≤–µ—Ç–æ–º ${color}`);
  }
}

class CharacterFactory {
  static characters = new Map();

  static getCharacter(char, font, size) {
    const key = `${char}-${font}-${size}`;
    if (!this.characters.has(key)) {
      this.characters.set(key, new Character(char, font, size));
    }
    return this.characters.get(key);
  }
}
</code></pre>
<p><strong>2. –ü—É–ª—ã —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π</strong></p>
<ul>
<li>Database connection pools</li>
<li>HTTP connection pools</li>
<li>WebSocket connections</li>
</ul>
<p><strong>3. –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ</strong></p>
<ul>
<li>–ö—ç—à —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤</li>
<li>–ú–µ–º–æ–∏–∑–∞—Ü–∏—è –≤—ã—á–∏—Å–ª–µ–Ω–∏–π</li>
</ul>
<h3 id="–ù–µ–ø–æ–¥—Ö–æ–¥—è—â–∏–µ-—Å—Ü–µ–Ω–∞—Ä–∏–∏"><a class="header" href="#–ù–µ–ø–æ–¥—Ö–æ–¥—è—â–∏–µ-—Å—Ü–µ–Ω–∞—Ä–∏–∏">–ù–µ–ø–æ–¥—Ö–æ–¥—è—â–∏–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏</a></h3>
<p><strong>–ù–µ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ Flyweight, –µ—Å–ª–∏</strong>:</p>
<ul>
<li>–ú–∞–ª–æ –æ–±—ä–µ–∫—Ç–æ–≤ (–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –Ω–µ –∫—Ä–∏—Ç–∏—á–Ω–∞)</li>
<li>–í—Å–µ –æ–±—ä–µ–∫—Ç—ã —É–Ω–∏–∫–∞–ª—å–Ω—ã (–Ω–µ—Ç —Ä–∞–∑–¥–µ–ª—è–µ–º–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è)</li>
<li>–¢—Ä–µ–±—É–µ—Ç—Å—è –∏–∑–º–µ–Ω—è–µ–º–æ–µ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ</li>
</ul>
<hr />
<h2 id="–°–≤—è–∑—å-—Å-–¥—Ä—É–≥–∏–º–∏-–ø–∞—Ç—Ç–µ—Ä–Ω–∞–º–∏-1"><a class="header" href="#–°–≤—è–∑—å-—Å-–¥—Ä—É–≥–∏–º–∏-–ø–∞—Ç—Ç–µ—Ä–Ω–∞–º–∏-1">–°–≤—è–∑—å —Å –¥—Ä—É–≥–∏–º–∏ –ø–∞—Ç—Ç–µ—Ä–Ω–∞–º–∏</a></h2>
<h3 id="flyweight-–∏-singleton"><a class="header" href="#flyweight-–∏-singleton">Flyweight –∏ Singleton</a></h3>
<p><strong>–°—Ö–æ–¥—Å—Ç–≤–∞</strong>:</p>
<ul>
<li>–û–±–∞ –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞—é—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —ç–∫–∑–µ–º–ø–ª—è—Ä–æ–≤</li>
<li>–û–±–∞ –∏—Å–ø–æ–ª—å–∑—É—é—Ç —Ä–∞–∑–¥–µ–ª—è–µ–º—ã–µ –æ–±—ä–µ–∫—Ç—ã</li>
</ul>
<p><strong>–†–∞–∑–ª–∏—á–∏—è</strong>:</p>
<ul>
<li>Singleton: –æ–¥–∏–Ω —ç–∫–∑–µ–º–ø–ª—è—Ä –Ω–∞ –≤—Å—ë –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ</li>
<li>Flyweight: –Ω–µ—Å–∫–æ–ª—å–∫–æ —ç–∫–∑–µ–º–ø–ª—è—Ä–æ–≤, –Ω–æ –º–µ–Ω—å—à–µ, —á–µ–º –º–æ–≥–ª–æ –±—ã –±—ã—Ç—å</li>
</ul>
<h3 id="flyweight-–∏-factory"><a class="header" href="#flyweight-–∏-factory">Flyweight –∏ Factory</a></h3>
<p>Flyweight <strong>–ø–æ—á—Ç–∏ –≤—Å–µ–≥–¥–∞</strong> –∏—Å–ø–æ–ª—å–∑—É–µ—Ç Factory –¥–ª—è:</p>
<ul>
<li>–£–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫—ç—à–µ–º –æ–±—ä–µ–∫—Ç–æ–≤</li>
<li>–ü—Ä–∏–Ω—è—Ç–∏—è —Ä–µ—à–µ–Ω–∏—è: —Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π –∏–ª–∏ –≤–µ—Ä–Ω—É—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π</li>
</ul>
<h3 id="flyweight-–∏-proxy"><a class="header" href="#flyweight-–∏-proxy">Flyweight –∏ Proxy</a></h3>
<p><strong>–°—Ö–æ–¥—Å—Ç–≤–∞</strong>:</p>
<ul>
<li>–û–±–∞ –¥–æ–±–∞–≤–ª—è—é—Ç —É—Ä–æ–≤–µ–Ω—å –∫–æ—Å–≤–µ–Ω–Ω–æ—Å—Ç–∏</li>
<li>–û–±–∞ –º–æ–≥—É—Ç —ç–∫–æ–Ω–æ–º–∏—Ç—å —Ä–µ—Å—É—Ä—Å—ã</li>
</ul>
<p><strong>–†–∞–∑–ª–∏—á–∏—è</strong>:</p>
<ul>
<li>Proxy: –∑–∞–º–µ–Ω—è–µ—Ç –æ–¥–∏–Ω –æ–±—ä–µ–∫—Ç –Ω–∞ –¥—Ä—É–≥–æ–π</li>
<li>Flyweight: —Ä–∞–∑–¥–µ–ª—è–µ—Ç –æ–¥–∏–Ω –æ–±—ä–µ–∫—Ç –º–µ–∂–¥—É –º–Ω–æ–≥–∏–º–∏ –∫–ª–∏–µ–Ω—Ç–∞–º–∏</li>
</ul>
<hr />
<h2 id="–ö–ª—é—á–µ–≤—ã–µ-–≤—ã–≤–æ–¥—ã-18"><a class="header" href="#–ö–ª—é—á–µ–≤—ã–µ-–≤—ã–≤–æ–¥—ã-18">–ö–ª—é—á–µ–≤—ã–µ –≤—ã–≤–æ–¥—ã</a></h2>
<h3 id="–°—É—Ç—å-–ø–∞—Ç—Ç–µ—Ä–Ω–∞-1"><a class="header" href="#–°—É—Ç—å-–ø–∞—Ç—Ç–µ—Ä–Ω–∞-1">–°—É—Ç—å –ø–∞—Ç—Ç–µ—Ä–Ω–∞</a></h3>
<p>–ü–∞—Ç—Ç–µ—Ä–Ω Flyweight –ø–æ–∑–≤–æ–ª—è–µ—Ç:</p>
<ol>
<li><strong>–≠–∫–æ–Ω–æ–º–∏—Ç—å –ø–∞–º—è—Ç—å</strong> –ø—É—Ç—ë–º —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è –æ–±—ä–µ–∫—Ç–æ–≤ –Ω–∞ –ª—ë–≥–∫–∏–µ –∏ —Ç—è–∂—ë–ª—ã–µ —á–∞—Å—Ç–∏</li>
<li><strong>–ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å</strong> —Ç—è–∂—ë–ª—ã–µ –æ–±—ä–µ–∫—Ç—ã –º–µ–∂–¥—É –º–Ω–æ–∂–µ—Å—Ç–≤–æ–º –ª—ë–≥–∫–∏—Ö</li>
<li><strong>–°–æ—Ö—Ä–∞–Ω—è—Ç—å</strong> —É–¥–æ–±–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–≥–æ –∫–æ–¥–∞</li>
</ol>
<h3 id="–û—Å–Ω–æ–≤–Ω—ã–µ-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã"><a class="header" href="#–û—Å–Ω–æ–≤–Ω—ã–µ-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã">–û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã</a></h3>
<ol>
<li><strong>Flyweight (–õ–µ–≥–∫–æ–≤–µ—Å)</strong> ‚Äî —Ä–∞–∑–¥–µ–ª—è–µ–º—ã–π –æ–±—ä–µ–∫—Ç —Å –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º</li>
<li><strong>Unshared Concrete Flyweight</strong> ‚Äî –æ–±—ä–µ–∫—Ç —Å –≤–Ω–µ—à–Ω–∏–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º</li>
<li><strong>Flyweight Factory</strong> ‚Äî —É–ø—Ä–∞–≤–ª—è–µ—Ç —Å–æ–∑–¥–∞–Ω–∏–µ–º –∏ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ–º</li>
</ol>
<h3 id="–†–µ–∞–ª–∏–∑–∞—Ü–∏—è-–≤-javascript"><a class="header" href="#–†–µ–∞–ª–∏–∑–∞—Ü–∏—è-–≤-javascript">–†–µ–∞–ª–∏–∑–∞—Ü–∏—è –≤ JavaScript</a></h3>
<p>–í JavaScript –ø–∞—Ç—Ç–µ—Ä–Ω –º–æ–∂–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å:</p>
<ul>
<li><strong>–ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∏</strong> (–æ—Ç–¥–µ–ª—å–Ω—ã–µ –∫–ª–∞—Å—Å—ã –¥–ª—è Flyweight –∏ Factory)</li>
<li><strong>–£–ø—Ä–æ—â—ë–Ω–Ω–æ</strong> (–æ–¥–∏–Ω –∫–ª–∞—Å—Å —Å —É—Å–ª–æ–≤–Ω–æ–π –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–µ–π)</li>
<li><strong>–ß–µ—Ä–µ–∑ –ø—Ä–æ—Ç–æ—Ç–∏–ø—ã</strong> (–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ü–µ–ø–æ—á–∫–∏ –ø—Ä–æ—Ç–æ—Ç–∏–ø–æ–≤)</li>
</ul>
<h3 id="–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å"><a class="header" href="#–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å">–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å</a></h3>
<p><strong>–≠–∫–æ–Ω–æ–º–∏—è –ø–∞–º—è—Ç–∏</strong>: –í –ø—Ä–∏–º–µ—Ä–µ —Å —Ç–∞–π–º–µ—Ä–∞–º–∏:</p>
<ul>
<li>–ë–µ–∑ Flyweight: 2 000 000 —Å–∏—Å—Ç–µ–º–Ω—ã—Ö —Ç–∞–π–º–µ—Ä–æ–≤</li>
<li>–° Flyweight: 2 —Å–∏—Å—Ç–µ–º–Ω—ã—Ö —Ç–∞–π–º–µ—Ä–∞</li>
<li><strong>–≠–∫–æ–Ω–æ–º–∏—è: –≤ 1 000 000 —Ä–∞–∑!</strong></li>
</ul>
<p><strong>–¶–µ–Ω–∞</strong>: –ù–µ–±–æ–ª—å—à–æ–µ —É–≤–µ–ª–∏—á–µ–Ω–∏–µ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏ –∫–æ–¥–∞ –∏ –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏</p>
<hr />
<h2 id="–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ-—Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏-6"><a class="header" href="#–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ-—Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏-6">–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏</a></h2>
<h3 id="–ü—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ"><a class="header" href="#–ü—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ">–ü—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ</a></h3>
<ol>
<li><strong>–û–ø—Ä–µ–¥–µ–ª–∏—Ç–µ, —á—Ç–æ —Ä–∞–∑–¥–µ–ª—è–µ–º–æ</strong>: –ù–∞–π–¥–∏—Ç–µ –æ–±—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ —É –º–Ω–æ–∂–µ—Å—Ç–≤–∞ –æ–±—ä–µ–∫—Ç–æ–≤</li>
<li><strong>–í—ã–Ω–µ—Å–∏—Ç–µ —É–Ω–∏–∫–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –Ω–∞—Ä—É–∂—É</strong>: –ü—Ä–µ–≤—Ä–∞—Ç–∏—Ç–µ –µ–≥–æ –≤ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –º–µ—Ç–æ–¥–æ–≤</li>
<li><strong>–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–±—Ä–∏–∫—É</strong>: –î–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫—ç—à–µ–º —Ä–∞–∑–¥–µ–ª—è–µ–º—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤</li>
<li><strong>–ü—Ä–æ–¥—É–º–∞–π—Ç–µ –æ—á–∏—Å—Ç–∫—É</strong>: –û—Å–≤–æ–±–æ–∂–¥–∞–π—Ç–µ —Ä–µ—Å—É—Ä—Å—ã, –∫–æ–≥–¥–∞ –æ–Ω–∏ –±–æ–ª—å—à–µ –Ω–µ –Ω—É–∂–Ω—ã</li>
</ol>
<h3 id="–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è"><a class="header" href="#–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è">–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è</a></h3>
<ol>
<li><strong>–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Map –¥–ª—è –∫—ç—à–∞</strong>: –ë—ã—Å—Ç—Ä—ã–π –ø–æ–∏—Å–∫ –ø–æ –∫–ª—é—á—É</li>
<li><strong>–û—á–∏—â–∞–π—Ç–µ –∫—ç—à</strong>: –£–¥–∞–ª—è–π—Ç–µ –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –æ–±—ä–µ–∫—Ç—ã</li>
<li><strong>–ò–∑–º–µ—Ä—è–π—Ç–µ</strong>: –ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ —Ä–µ–∞–ª—å–Ω—É—é —ç–∫–æ–Ω–æ–º–∏—é –ø–∞–º—è—Ç–∏</li>
<li><strong>–ù–µ –ø–µ—Ä–µ—É—Å–ª–æ–∂–Ω—è–π—Ç–µ</strong>: –ü—Ä–∏–º–µ–Ω—è–π—Ç–µ –ø–∞—Ç—Ç–µ—Ä–Ω —Ç–æ–ª—å–∫–æ –ø—Ä–∏ —Ä–µ–∞–ª—å–Ω–æ–π –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏</li>
</ol>
<h3 id="–û—Ç–ª–∞–¥–∫–∞"><a class="header" href="#–û—Ç–ª–∞–¥–∫–∞">–û—Ç–ª–∞–¥–∫–∞</a></h3>
<pre><code class="language-javascript">// –î–æ–±–∞–≤—å—Ç–µ –º–µ—Ç–æ–¥—ã –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏
class Interval {
  static getStats() {
    return {
      cachedTimers: Interval.timers.size,
      intervals: Array.from(Interval.timers.keys())
    };
  }
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
console.log(Interval.getStats());
// { cachedTimers: 2, intervals: [1000, 2000] }
</code></pre>
<hr />
<h2 id="–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ-–º–∞—Ç–µ—Ä–∏–∞–ª—ã-4"><a class="header" href="#–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ-–º–∞—Ç–µ—Ä–∏–∞–ª—ã-4">–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã</a></h2>
<h3 id="–ö–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è-–ø–∞—Ç—Ç–µ—Ä–Ω–∞"><a class="header" href="#–ö–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è-–ø–∞—Ç—Ç–µ—Ä–Ω–∞">–ö–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è –ø–∞—Ç—Ç–µ—Ä–Ω–∞</a></h3>
<ul>
<li><strong>–¢–∏–ø</strong>: –°—Ç—Ä—É–∫—Ç—É—Ä–Ω—ã–π –ø–∞—Ç—Ç–µ—Ä–Ω</li>
<li><strong>–£—Ä–æ–≤–µ–Ω—å</strong>: –û–±—ä–µ–∫—Ç–Ω—ã–π</li>
<li><strong>–¶–µ–ª—å</strong>: –≠–∫–æ–Ω–æ–º–∏—è –ø–∞–º—è—Ç–∏ —á–µ—Ä–µ–∑ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è</li>
</ul>
<h3 id="–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ-–Ω–∞–∑–≤–∞–Ω–∏—è"><a class="header" href="#–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ-–Ω–∞–∑–≤–∞–Ω–∏—è">–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ –Ω–∞–∑–≤–∞–Ω–∏—è</a></h3>
<ul>
<li>–ü—Ä–∏—Å–ø–æ—Å–æ–±–ª–µ–Ω–µ—Ü</li>
<li>–õ–µ–≥–∫–æ–≤–µ—Å</li>
<li>Flyweight</li>
</ul>
<h3 id="–ò—Å—Ç–æ—Ä–∏—è"><a class="header" href="#–ò—Å—Ç–æ—Ä–∏—è">–ò—Å—Ç–æ—Ä–∏—è</a></h3>
<p>–ü–∞—Ç—Ç–µ—Ä–Ω Flyweight –±—ã–ª –≤–ø–µ—Ä–≤—ã–µ –æ–ø–∏—Å–∞–Ω –≤ –∫–Ω–∏–≥–µ "Design Patterns: Elements of Reusable Object-Oriented Software" (–ë–∞–Ω–¥–∞ –ß–µ—Ç—ã—Ä—ë—Ö, 1994).</p>
<h3 id="–°–≤—è–∑–∞–Ω–Ω—ã–µ-–∫–æ–Ω—Ü–µ–ø—Ü–∏–∏-1"><a class="header" href="#–°–≤—è–∑–∞–Ω–Ω—ã–µ-–∫–æ–Ω—Ü–µ–ø—Ü–∏–∏-1">–°–≤—è–∑–∞–Ω–Ω—ã–µ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏</a></h3>
<ul>
<li><strong>Object Pool</strong> ‚Äî –ø–æ—Ö–æ–∂–∞—è –∏–¥–µ—è –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –æ–±—ä–µ–∫—Ç–æ–≤</li>
<li><strong>Lazy Initialization</strong> ‚Äî —Å–æ–∑–¥–∞–Ω–∏–µ –æ–±—ä–µ–∫—Ç–æ–≤ –ø–æ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—é</li>
<li><strong>Copy-on-Write</strong> ‚Äî —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –¥–æ –º–æ–º–µ–Ω—Ç–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è</li>
</ul>
<hr />
<h2 id="–ó–∞–∫–ª—é—á–µ–Ω–∏–µ-10"><a class="header" href="#–ó–∞–∫–ª—é—á–µ–Ω–∏–µ-10">–ó–∞–∫–ª—é—á–µ–Ω–∏–µ</a></h2>
<p>–ü–∞—Ç—Ç–µ—Ä–Ω Flyweight ‚Äî –º–æ—â–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –ø–∞–º—è—Ç–∏, –æ—Å–æ–±–µ–Ω–Ω–æ –∞–∫—Ç—É–∞–ª—å–Ω—ã–π –ø—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å –±–æ–ª—å—à–∏–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º –æ–¥–Ω–æ—Ç–∏–ø–Ω—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤. –í JavaScript –µ–≥–æ –º–æ–∂–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Ä–∞–∑–ª–∏—á–Ω—ã–º–∏ —Å–ø–æ—Å–æ–±–∞–º–∏, –æ—Ç –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–æ–π –û–û–ü —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –ø—Ä–æ—Ç–æ—Ç–∏–ø–Ω–æ–≥–æ –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è.</p>
<p><strong>–ü–æ–º–Ω–∏—Ç–µ</strong>:</p>
<ul>
<li>Flyweight —Ä–µ—à–∞–µ—Ç –ø—Ä–æ–±–ª–µ–º—É –∏–∑–±—ã—Ç–æ—á–Ω–æ–≥–æ –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏—è –ø–∞–º—è—Ç–∏</li>
<li>–û–Ω —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–µ–Ω —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –±–æ–ª—å—à–æ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ –æ–±—ä–µ–∫—Ç–æ–≤</li>
<li>–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–≤–∏–∂–∫–∏ JavaScript —Ö–æ—Ä–æ—à–æ –æ–ø—Ç–∏–º–∏–∑–∏—Ä—É—é—Ç —Ç–∞–∫–∏–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã</li>
<li>–í—Å–µ–≥–¥–∞ –∏–∑–º–µ—Ä—è–π—Ç–µ —Ä–µ–∞–ª—å–Ω—É—é —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –ø–∞—Ç—Ç–µ—Ä–Ω–∞</li>
</ul>
<p>–ü–∞—Ç—Ç–µ—Ä–Ω Flyweight –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π –∫–æ–º–ø—Ä–æ–º–∏—Å—Å –≤ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–∏: –≤—ã –æ–±–º–µ–Ω–∏–≤–∞–µ—Ç–µ <strong>–ø—Ä–æ—Å—Ç–æ—Ç—É</strong> –Ω–∞ <strong>—ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å</strong>. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –µ–≥–æ —Ä–∞–∑—É–º–Ω–æ, –∏ –æ–Ω –ø—Ä–∏–Ω–µ—Å—ë—Ç –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω—É—é –ø–æ–ª—å–∑—É –≤–∞—à–µ–º—É –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—é.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="–ü–∞—Ç—Ç–µ—Ä–Ω-revealing-constructor-–û—Ç–∫—Ä—ã—Ç—ã–π-–∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä"><a class="header" href="#–ü–∞—Ç—Ç–µ—Ä–Ω-revealing-constructor-–û—Ç–∫—Ä—ã—Ç—ã–π-–∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä">–ü–∞—Ç—Ç–µ—Ä–Ω Revealing Constructor (–û—Ç–∫—Ä—ã—Ç—ã–π –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä)</a></h1>
<h2 id="–û–±–∑–æ—Ä-11"><a class="header" href="#–û–±–∑–æ—Ä-11">–û–±–∑–æ—Ä</a></h2>
<p>–ü–∞—Ç—Ç–µ—Ä–Ω <strong>Revealing Constructor</strong> (–û—Ç–∫—Ä—ã—Ç—ã–π –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä) ‚Äî —ç—Ç–æ –ø–∞—Ç—Ç–µ—Ä–Ω –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∑–≤–æ–ª—è–µ—Ç –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –æ–±—ä–µ–∫—Ç —á–µ—Ä–µ–∑ —Ñ—É–Ω–∫—Ü–∏—é, –ø–µ—Ä–µ–¥–∞–≤–∞–µ–º—É—é –≤ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä. –≠—Ç–æ—Ç –ø–∞—Ç—Ç–µ—Ä–Ω –Ω–µ–æ–±—Ö–æ–¥–∏–º –¥–ª—è –ø–æ–Ω–∏–º–∞–Ω–∏—è —Ä–∞–±–æ—Ç—ã Promise –∏ –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è –±–æ–ª–µ–µ —Å–ª–æ–∂–Ω—ã—Ö –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–π –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç—å—é, —Ç–∞–∫–∏—Ö –∫–∞–∫ –ø–∞—Ç—Ç–µ—Ä–Ω Future (–±–µ–∑ —Å–æ—Å—Ç–æ—è–Ω–∏—è –∏ –º–Ω–æ–≥–æ—Ä–∞–∑–æ–≤—ã–π, –≤ –æ—Ç–ª–∏—á–∏–µ –æ—Ç Promise).</p>
<p><strong>–û—Å–Ω–æ–≤–Ω–∞—è –∏–¥–µ—è:</strong> –§—É–Ω–∫—Ü–∏—è –ø–æ–ø–∞–¥–∞–µ—Ç –≤ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç —ç–∫–∑–µ–º–ø–ª—è—Ä –æ–±—ä–µ–∫—Ç–∞, –∏–∑–º–µ–Ω—è—è –µ–≥–æ –ø–æ–≤–µ–¥–µ–Ω–∏–µ –∏–ª–∏ –≤–Ω–µ–¥—Ä—è—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏.</p>
<hr />
<h2 id="–¢—Ä–∏-—Å–ø–æ—Å–æ–±–∞-–ø–µ—Ä–µ–¥–∞—á–∏-–∑–Ω–∞—á–µ–Ω–∏–π-–≤-—Ñ—É–Ω–∫—Ü–∏—é"><a class="header" href="#–¢—Ä–∏-—Å–ø–æ—Å–æ–±–∞-–ø–µ—Ä–µ–¥–∞—á–∏-–∑–Ω–∞—á–µ–Ω–∏–π-–≤-—Ñ—É–Ω–∫—Ü–∏—é">–¢—Ä–∏ —Å–ø–æ—Å–æ–±–∞ –ø–µ—Ä–µ–¥–∞—á–∏ –∑–Ω–∞—á–µ–Ω–∏–π –≤ —Ñ—É–Ω–∫—Ü–∏—é</a></h2>
<p>–ü—Ä–µ–∂–¥–µ —á–µ–º –ø–µ—Ä–µ–π—Ç–∏ –∫ –ø–∞—Ç—Ç–µ—Ä–Ω—É, —Ä–∞—Å—Å–º–æ—Ç—Ä–∏–º —Ç—Ä–∏ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Å–ø–æ—Å–æ–±–∞ –ø–µ—Ä–µ–¥–∞—á–∏ –∑–Ω–∞—á–µ–Ω–∏–π –≤–Ω—É—Ç—Ä—å —Ñ—É–Ω–∫—Ü–∏–∏:</p>
<h3 id="–ü—Ä–∏–º–µ—Ä-–†–∞–∑–ª–∏—á–Ω—ã–µ-—Å–ø–æ—Å–æ–±—ã-–ø–µ—Ä–µ–¥–∞—á–∏-–¥–∞–Ω–Ω—ã—Ö"><a class="header" href="#–ü—Ä–∏–º–µ—Ä-–†–∞–∑–ª–∏—á–Ω—ã–µ-—Å–ø–æ—Å–æ–±—ã-–ø–µ—Ä–µ–¥–∞—á–∏-–¥–∞–Ω–Ω—ã—Ö">–ü—Ä–∏–º–µ—Ä: –†–∞–∑–ª–∏—á–Ω—ã–µ —Å–ø–æ—Å–æ–±—ã –ø–µ—Ä–µ–¥–∞—á–∏ –¥–∞–Ω–Ω—ã—Ö</a></h3>
<pre><code class="language-javascript">// –¢—Ä–∏ —Å–ø–æ—Å–æ–±–∞ –ø–µ—Ä–µ–¥–∞—á–∏ –∑–Ω–∞—á–µ–Ω–∏–π
const example = (x, y, z) =&gt; {
  // 1. –ö–æ–Ω—Å—Ç–∞–Ω—Ç–∞ - –ø—Ä—è–º–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ
  console.log(x); // –û–±—Ä–∞—â–∞–µ–º—Å—è –Ω–∞–ø—Ä—è–º—É—é –∫ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π

  // 2. –§—É–Ω–∫—Ü–∏—è, –≤–æ–∑–≤—Ä–∞—â–∞—é—â–∞—è –∫–æ–Ω—Å—Ç–∞–Ω—Ç—É
  console.log(y()); // –í—ã–∑—ã–≤–∞–µ–º —Ñ—É–Ω–∫—Ü–∏—é –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∑–Ω–∞—á–µ–Ω–∏—è

  // 3. Callback-—Ñ—É–Ω–∫—Ü–∏—è
  z((value) =&gt; {
    console.log(value); // –ó–Ω–∞—á–µ–Ω–∏–µ –ø—Ä–∏—Ö–æ–¥–∏—Ç —á–µ—Ä–µ–∑ callback
  });
};

// –í—ã–∑–æ–≤ —Å —Ä–∞–∑–ª–∏—á–Ω—ã–º–∏ —Ç–∏–ø–∞–º–∏ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤
example(
  5,                    // 1. –ü—Ä–æ—Å—Ç–æ –∫–æ–Ω—Å—Ç–∞–Ω—Ç–∞
  () =&gt; 10,            // 2. –§—É–Ω–∫—Ü–∏—è, –≤–æ–∑–≤—Ä–∞—â–∞—é—â–∞—è –∑–Ω–∞—á–µ–Ω–∏–µ
  (callback) =&gt; {      // 3. –§—É–Ω–∫—Ü–∏—è, –ø—Ä–∏–Ω–∏–º–∞—é—â–∞—è callback
    callback(15);
  }
);
</code></pre>
<p><strong>–í—ã–≤–æ–¥:</strong></p>
<ul>
<li><strong>–ü–µ—Ä–≤—ã–π —Å–ø–æ—Å–æ–± (–∫–æ–Ω—Å—Ç–∞–Ω—Ç–∞):</strong> –°–∞–º—ã–π –ø—Ä–æ—Å—Ç–æ–π, –∑–Ω–∞—á–µ–Ω–∏–µ –ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è –Ω–∞–ø—Ä—è–º—É—é</li>
<li><strong>–í—Ç–æ—Ä–æ–π —Å–ø–æ—Å–æ–± (—Ñ—É–Ω–∫—Ü–∏—è):</strong> –ü–æ–∑–≤–æ–ª—è–µ—Ç –æ—Ç–ª–æ–∂–∏—Ç—å –≤—ã—á–∏—Å–ª–µ–Ω–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è</li>
<li><strong>–¢—Ä–µ—Ç–∏–π —Å–ø–æ—Å–æ–± (callback):</strong> –ü–æ–∑–≤–æ–ª—è–µ—Ç –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ –≤–µ—Ä–Ω—É—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ –≤ –±—É–¥—É—â–µ–º</li>
</ul>
<hr />
<h2 id="–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ-–ø–∞—Ç—Ç–µ—Ä–Ω–∞-–≤-promise"><a class="header" href="#–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ-–ø–∞—Ç—Ç–µ—Ä–Ω–∞-–≤-promise">–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –ø–∞—Ç—Ç–µ—Ä–Ω–∞ –≤ Promise</a></h2>
<p>–ò–º–µ–Ω–Ω–æ <strong>—Ç—Ä–µ—Ç–∏–π —Å–ø–æ—Å–æ–±</strong> (callback) –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–µ Promise –∏ —è–≤–ª—è–µ—Ç—Å—è –ø—Ä–∏–º–µ—Ä–æ–º –ø–∞—Ç—Ç–µ—Ä–Ω–∞ Revealing Constructor.</p>
<h3 id="–ü—Ä–∏–º–µ—Ä-promise-—Å-revealing-constructor"><a class="header" href="#–ü—Ä–∏–º–µ—Ä-promise-—Å-revealing-constructor">–ü—Ä–∏–º–µ—Ä: Promise —Å Revealing Constructor</a></h3>
<pre><code class="language-javascript">// Promise –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø–∞—Ç—Ç–µ—Ä–Ω Revealing Constructor
const promise1 = new Promise((resolve, reject) =&gt; {
  // –°—Ä–∞–∑—É —Ä–∞–∑—Ä–µ—à–∞–µ–º –ø—Ä–æ–º–∏—Å
  resolve(5);
});

const promise2 = new Promise((resolve, reject) =&gt; {
  // –ñ–¥—ë–º —Å–µ–∫—É–Ω–¥—É, –∑–∞—Ç–µ–º —Ä–∞–∑—Ä–µ—à–∞–µ–º
  setTimeout(() =&gt; {
    resolve(5);
  }, 1000);
});

// –ü–µ—Ä–≤—ã–π —Å–ª—É—à–∞—Ç–µ–ª—å - –Ω–∞–≤–µ—à–∏–≤–∞–µ—Ç—Å—è –î–û —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –ø—Ä–æ–º–∏—Å–∞
promise2.then((x) =&gt; {
  console.log('First listener:', x);
});

// –ñ–¥—ë–º 1.5 —Å–µ–∫—É–Ω–¥—ã
setTimeout(() =&gt; {
  // –í—Ç–æ—Ä–æ–π —Å–ª—É—à–∞—Ç–µ–ª—å - –Ω–∞–≤–µ—à–∏–≤–∞–µ—Ç—Å—è –ü–û–°–õ–ï —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –ø—Ä–æ–º–∏—Å–∞
  promise2.then((y) =&gt; {
    console.log('Second listener:', y);
  });
}, 1500);

console.log(promise2); // Promise { &lt;pending&gt; }
</code></pre>
<p><strong>–†–µ–∑—É–ª—å—Ç–∞—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:</strong></p>
<pre><code>Promise { &lt;pending&gt; }
First listener: 5
Second listener: 5
</code></pre>
<h3 id="–ü–æ—á–µ–º—É-promise-–Ω—É–∂–µ–Ω-–∏–º–µ–Ω–Ω–æ-callback"><a class="header" href="#–ü–æ—á–µ–º—É-promise-–Ω—É–∂–µ–Ω-–∏–º–µ–Ω–Ω–æ-callback">–ü–æ—á–µ–º—É Promise –Ω—É–∂–µ–Ω –∏–º–µ–Ω–Ω–æ callback?</a></h3>
<p><strong>–ö–ª—é—á–µ–≤–æ–π –º–æ–º–µ–Ω—Ç:</strong> –ï—Å–ª–∏ –±—ã –≤ Promise –ø–µ—Ä–µ–¥–∞–≤–∞–ª–∏ –ø—Ä–æ—Å—Ç–æ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—É –∏–ª–∏ —Ñ—É–Ω–∫—Ü–∏—é, –≤–æ–∑–≤—Ä–∞—â–∞—é—â—É—é –∫–æ–Ω—Å—Ç–∞–Ω—Ç—É, –º—ã –Ω–µ —Å–º–æ–≥–ª–∏ –±—ã:</p>
<ol>
<li><strong>–û—Ç–ª–æ–∂–∏—Ç—å —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ –ø—Ä–æ–º–∏—Å–∞</strong> (–ø–æ–¥–æ–∂–¥–∞—Ç—å —Å–µ–∫—É–Ω–¥—É –≤ –ø—Ä–∏–º–µ—Ä–µ –≤—ã—à–µ)</li>
<li><strong>–ü–µ—Ä–µ–≤–æ–¥–∏—Ç—å –ø—Ä–æ–º–∏—Å –∏–∑ —Å–æ—Å—Ç–æ—è–Ω–∏—è pending</strong> –≤ resolved –∏–ª–∏ rejected</li>
<li><strong>–ü–æ–¥–ø–∏—Å—ã–≤–∞—Ç—å—Å—è –Ω–∞ –∑–Ω–∞—á–µ–Ω–∏–µ –¥–æ –∏ –ø–æ—Å–ª–µ –µ–≥–æ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è</strong></li>
</ol>
<pre><code class="language-javascript">// ‚ùå –≠—Ç–æ –ù–ï —Å—Ä–∞–±–æ—Ç–∞–ª–æ –±—ã:
const badPromise = new Promise(() =&gt; {
  return 5; // return —Å—Ä–∞–∑—É –≤–µ—Ä–Ω—É–ª –±—ã –∑–Ω–∞—á–µ–Ω–∏–µ,
            // –Ω–µ –¥–∞–≤ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ —Ä–∞–∑—Ä–µ—à–∏—Ç—å –ø—Ä–æ–º–∏—Å
});

// ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π —Å–ø–æ—Å–æ–± - —á–µ—Ä–µ–∑ callback (resolve/reject):
const goodPromise = new Promise((resolve, reject) =&gt; {
  setTimeout(() =&gt; {
    resolve(5); // –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ —á–µ—Ä–µ–∑ callback
  }, 1000);
});
</code></pre>
<hr />
<h2 id="–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ-–ø–∞—Ç—Ç–µ—Ä–Ω–∞-–≤-nodejs-streams"><a class="header" href="#–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ-–ø–∞—Ç—Ç–µ—Ä–Ω–∞-–≤-nodejs-streams">–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –ø–∞—Ç—Ç–µ—Ä–Ω–∞ –≤ Node.js Streams</a></h2>
<p>–ü–∞—Ç—Ç–µ—Ä–Ω Revealing Constructor —à–∏—Ä–æ–∫–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ —Å—Ç—Ä–∏–º–∞—Ö Node.js, –ø–æ–∑–≤–æ–ª—è—è –∏–∑–±–µ–∂–∞—Ç—å –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è –∫–ª–∞—Å—Å–æ–≤.</p>
<h3 id="–¢—Ä–∞–¥–∏—Ü–∏–æ–Ω–Ω—ã–π-–ø–æ–¥—Ö–æ–¥-–ù–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ-—á–µ—Ä–µ–∑-extends"><a class="header" href="#–¢—Ä–∞–¥–∏—Ü–∏–æ–Ω–Ω—ã–π-–ø–æ–¥—Ö–æ–¥-–ù–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ-—á–µ—Ä–µ–∑-extends">–¢—Ä–∞–¥–∏—Ü–∏–æ–Ω–Ω—ã–π –ø–æ–¥—Ö–æ–¥: –ù–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ extends</a></h3>
<pre><code class="language-javascript">const { Readable } = require('node:stream');

// –°–æ–∑–¥–∞—ë–º –∫–ª–∞—Å—Å RandomStream, –Ω–∞—Å–ª–µ–¥—É—è—Å—å –æ—Ç Readable
class RandomStream extends Readable {
  _read(size) {
    // –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º –º–∞—Å—Å–∏–≤ —Å–ª—É—á–∞–π–Ω—ã—Ö –±–∞–π—Ç–æ–≤ –Ω—É–∂–Ω–æ–π –¥–ª–∏–Ω—ã
    const chunk = Buffer.allocUnsafe(size)
      .map(() =&gt; Math.floor(Math.random() * 256));

    // –ü—Ä–µ–æ–±—Ä–∞–∑—É–µ–º –≤ —à–µ—Å—Ç–Ω–∞–¥—Ü–∞—Ç–µ—Ä–∏—á–Ω—É—é —Å—Ç—Ä–æ–∫—É
    const hexString = chunk.toString('hex');

    // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –¥–∞–Ω–Ω—ã–µ –≤ –±—É—Ñ–µ—Ä —Å—Ç—Ä–∏–º–∞
    this.push(hexString);
  }
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
const randomStream = new RandomStream();
randomStream.on('data', (chunk) =&gt; {
  console.log(chunk);
});
</code></pre>
<h3 id="–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π-–ø–æ–¥—Ö–æ–¥-revealing-constructor"><a class="header" href="#–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π-–ø–æ–¥—Ö–æ–¥-revealing-constructor">–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –ø–æ–¥—Ö–æ–¥: Revealing Constructor</a></h3>
<pre><code class="language-javascript">const { Readable } = require('node:stream');

// –°–æ–∑–¥–∞—ë–º Readable stream –ë–ï–ó –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è
const randomStream = new Readable({
  read(size) {
    // –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º –º–∞—Å—Å–∏–≤ —Å–ª—É—á–∞–π–Ω—ã—Ö –±–∞–π—Ç–æ–≤
    const chunk = Buffer.allocUnsafe(size)
      .map(() =&gt; Math.floor(Math.random() * 256));

    // –ü—Ä–µ–æ–±—Ä–∞–∑—É–µ–º –≤ —à–µ—Å—Ç–Ω–∞–¥—Ü–∞—Ç–µ—Ä–∏—á–Ω—É—é —Å—Ç—Ä–æ–∫—É
    const hexString = chunk.toString('hex');

    // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –¥–∞–Ω–Ω—ã–µ –≤ –±—É—Ñ–µ—Ä
    this.push(hexString);
  }
});

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ç–æ—á–Ω–æ —Ç–∞–∫–æ–µ –∂–µ
randomStream.on('data', (chunk) =&gt; {
  console.log(chunk);
});
</code></pre>
<p><strong>–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ Revealing Constructor –≤ —Å—Ç—Ä–∏–º–∞—Ö:</strong></p>
<ol>
<li><strong>–ù–µ—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ —Å–æ–∑–¥–∞–≤–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω—ã–π –∫–ª–∞—Å—Å</strong></li>
<li><strong>–ë–æ–ª–µ–µ –∫–æ–º–ø–∞–∫—Ç–Ω—ã–π –∫–æ–¥</strong></li>
<li><strong>–í–Ω–µ–¥—Ä–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π</strong> - –º–µ—Ç–æ–¥ <code>read</code> –∏–Ω–∂–µ–∫—Ç–∏—Ç—Å—è –≤–Ω—É—Ç—Ä—å —ç–∫–∑–µ–º–ø–ª—è—Ä–∞ Readable</li>
<li><strong>–ò–º–µ–Ω–Ω–æ —Ç–∞–∫ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã —Å—Ç—Ä–∏–º—ã –≤ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–π –±–∏–±–ª–∏–æ—Ç–µ–∫–µ Node.js</strong></li>
</ol>
<h3 id="–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–π-–ø—Ä–∏–º–µ—Ä-pipe-–≤-stdout"><a class="header" href="#–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–π-–ø—Ä–∏–º–µ—Ä-pipe-–≤-stdout">–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–π –ø—Ä–∏–º–µ—Ä: Pipe –≤ stdout</a></h3>
<pre><code class="language-javascript">const { Readable } = require('node:stream');

const randomStream = new Readable({
  read(size) {
    const chunk = Buffer.allocUnsafe(size)
      .map(() =&gt; Math.floor(Math.random() * 256));
    this.push(chunk.toString('hex') + '\n');
  }
});

// Pipe –≤ stdout –¥–ª—è –±–µ—Å–∫–æ–Ω–µ—á–Ω–æ–≥–æ –≤—ã–≤–æ–¥–∞ —Å–ª—É—á–∞–π–Ω—ã—Ö —á–∏—Å–µ–ª
randomStream.pipe(process.stdout);
// –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –∏ –≤—ã–≤–æ–¥–∏—Ç –±–µ—Å–∫–æ–Ω–µ—á–Ω—ã–π –ø–æ—Ç–æ–∫ —Å–ª—É—á–∞–π–Ω—ã—Ö hex-—Å—Ç—Ä–æ–∫
</code></pre>
<p><strong>–ü–æ—á–µ–º—É —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:</strong></p>
<ul>
<li>–ö–∞–∫ —Ç–æ–ª—å–∫–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç <code>pipe</code>, Readable –Ω–∞—á–∏–Ω–∞–µ—Ç –≤—ã–∑—ã–≤–∞—Ç—å –º–µ—Ç–æ–¥ <code>read</code></li>
<li>–ú–µ—Ç–æ–¥ <code>read</code> –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –¥–∞–Ω–Ω—ã–µ –∏ –ø—É—à–∏—Ç –∏—Ö –≤ –±—É—Ñ–µ—Ä —á–µ—Ä–µ–∑ <code>this.push()</code></li>
<li>–î–∞–Ω–Ω—ã–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è –≤ Writable stream (stdout)</li>
</ul>
<hr />
<h2 id="–î—Ä—É–≥–∏–µ-—Ç–∏–ø—ã-—Å—Ç—Ä–∏–º–æ–≤-—Å-revealing-constructor"><a class="header" href="#–î—Ä—É–≥–∏–µ-—Ç–∏–ø—ã-—Å—Ç—Ä–∏–º–æ–≤-—Å-revealing-constructor">–î—Ä—É–≥–∏–µ —Ç–∏–ø—ã —Å—Ç—Ä–∏–º–æ–≤ —Å Revealing Constructor</a></h2>
<h3 id="transform-stream"><a class="header" href="#transform-stream">Transform Stream</a></h3>
<h4 id="–¢—Ä–∞–¥–∏—Ü–∏–æ–Ω–Ω—ã–π-–ø–æ–¥—Ö–æ–¥-—Å-–Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ–º"><a class="header" href="#–¢—Ä–∞–¥–∏—Ü–∏–æ–Ω–Ω—ã–π-–ø–æ–¥—Ö–æ–¥-—Å-–Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ–º">–¢—Ä–∞–¥–∏—Ü–∏–æ–Ω–Ω—ã–π –ø–æ–¥—Ö–æ–¥ —Å –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ–º:</a></h4>
<pre><code class="language-javascript">const { Transform } = require('node:stream');

// –°—Ç—Ä–∏–º, –∫–æ—Ç–æ—Ä—ã–π –¥–µ–ª–∞–µ—Ç –≤—Å–µ –±—É–∫–≤—ã –∑–∞–≥–ª–∞–≤–Ω—ã–º–∏
class UpperCaseTransform extends Transform {
  _transform(chunk, encoding, callback) {
    // –ü—Ä–µ–æ–±—Ä–∞–∑—É–µ–º chunk –≤ –∑–∞–≥–ª–∞–≤–Ω—ã–µ –±—É–∫–≤—ã
    const upperChunk = chunk.toString().toUpperCase();
    // –ü–µ—Ä–µ–¥–∞—ë–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç –¥–∞–ª—å—à–µ
    callback(null, upperChunk);
  }
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
const upperTransform = new UpperCaseTransform();
process.stdin
  .pipe(upperTransform)
  .pipe(process.stdout);
</code></pre>
<h4 id="revealing-constructor-–ø–æ–¥—Ö–æ–¥"><a class="header" href="#revealing-constructor-–ø–æ–¥—Ö–æ–¥">Revealing Constructor –ø–æ–¥—Ö–æ–¥:</a></h4>
<pre><code class="language-javascript">const { Transform } = require('node:stream');

// –°–æ–∑–¥–∞—ë–º Transform stream –±–µ–∑ –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è
const upperTransform = new Transform({
  transform(chunk, encoding, callback) {
    // –ü—Ä–µ–æ–±—Ä–∞–∑—É–µ–º chunk –≤ –∑–∞–≥–ª–∞–≤–Ω—ã–µ –±—É–∫–≤—ã
    const upperChunk = chunk.toString().toUpperCase();
    // –ü–µ—Ä–µ–¥–∞—ë–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç –¥–∞–ª—å—à–µ
    callback(null, upperChunk);
  }
});

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ - –∞–±—Å–æ–ª—é—Ç–Ω–æ –∏–¥–µ–Ω—Ç–∏—á–Ω–æ
process.stdin
  .pipe(upperTransform)
  .pipe(process.stdout);
</code></pre>
<h3 id="writable-stream"><a class="header" href="#writable-stream">Writable Stream</a></h3>
<pre><code class="language-javascript">const { Writable } = require('node:stream');

// –°–æ–∑–¥–∞—ë–º Writable stream —á–µ—Ä–µ–∑ Revealing Constructor
const myWritable = new Writable({
  write(chunk, encoding, callback) {
    console.log('Received:', chunk.toString());
    callback(); // –°–∏–≥–Ω–∞–ª–∏–∑–∏—Ä—É–µ–º –æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏ –∑–∞–ø–∏—Å–∏
  }
});
</code></pre>
<h3 id="duplex-stream"><a class="header" href="#duplex-stream">Duplex Stream</a></h3>
<pre><code class="language-javascript">const { Duplex } = require('node:stream');

// –î–ª—è Duplex –Ω—É–∂–Ω–æ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –∏ read, –∏ write
const myDuplex = new Duplex({
  read(size) {
    // –õ–æ–≥–∏–∫–∞ —á—Ç–µ–Ω–∏—è
    this.push('data');
  },
  write(chunk, encoding, callback) {
    // –õ–æ–≥–∏–∫–∞ –∑–∞–ø–∏—Å–∏
    console.log(chunk.toString());
    callback();
  }
});
</code></pre>
<hr />
<h2 id="–°–æ–∑–¥–∞–Ω–∏–µ-—Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã—Ö-–∞–±—Å—Ç—Ä–∞–∫—Ü–∏–π-—Å-revealing-constructor"><a class="header" href="#–°–æ–∑–¥–∞–Ω–∏–µ-—Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã—Ö-–∞–±—Å—Ç—Ä–∞–∫—Ü–∏–π-—Å-revealing-constructor">–°–æ–∑–¥–∞–Ω–∏–µ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã—Ö –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–π —Å Revealing Constructor</a></h2>
<p>–ü–∞—Ç—Ç–µ—Ä–Ω –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –Ω–µ —Ç–æ–ª—å–∫–æ –¥–ª—è Promise –∏ —Å—Ç—Ä–∏–º–æ–≤, –Ω–æ –∏ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã—Ö –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–π.</p>
<h3 id="–ü—Ä–∏–º–µ—Ä-–ö–ª–∞—Å—Å-timer"><a class="header" href="#–ü—Ä–∏–º–µ—Ä-–ö–ª–∞—Å—Å-timer">–ü—Ä–∏–º–µ—Ä: –ö–ª–∞—Å—Å Timer</a></h3>
<pre><code class="language-javascript">class Timer {
  constructor(interval, listener) {
    this.interval = interval;  // –ò–Ω—Ç–µ—Ä–≤–∞–ª –≤ –º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥–∞—Ö
    this.listener = listener;  // –§—É–Ω–∫—Ü–∏—è-–æ–±—Ä–∞–±–æ—Ç—á–∏–∫
    this.timerId = null;       // ID —Ç–∞–π–º–µ—Ä–∞
  }

  start() {
    // –ó–∞–ø—É—Å–∫–∞–µ–º setInterval —Å –ø–µ—Ä–µ–¥–∞–Ω–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–µ–π
    this.timerId = setInterval(this.listener, this.interval);
  }

  stop() {
    // –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Ç–∞–π–º–µ—Ä
    if (this.timerId) {
      clearInterval(this.timerId);
      this.timerId = null;
    }
  }
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
const timer = new Timer(1000, () =&gt; {
  console.log('Timer event');
});

timer.start(); // –ù–∞—á–∏–Ω–∞–µ–º –≤—ã–∑–æ–≤ –∫–∞–∂–¥—É—é —Å–µ–∫—É–Ω–¥—É

setTimeout(() =&gt; {
  timer.stop(); // –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —á–µ—Ä–µ–∑ 5 —Å–µ–∫—É–Ω–¥
}, 5000);
</code></pre>
<p><strong>–†–µ–∑—É–ª—å—Ç–∞—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:</strong></p>
<pre><code>Timer event
Timer event
Timer event
Timer event
</code></pre>
<p>(4 —Å–æ–±—ã—Ç–∏—è –∑–∞ ~5 —Å–µ–∫—É–Ω–¥)</p>
<p><strong>–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –ø–∞—Ç—Ç–µ—Ä–Ω–∞ –≤ Timer:</strong></p>
<ul>
<li>–§—É–Ω–∫—Ü–∏—è <code>listener</code> –ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è –≤ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä</li>
<li>–•—Ä–∞–Ω–∏—Ç—Å—è –≤–Ω—É—Ç—Ä–∏ —ç–∫–∑–µ–º–ø–ª—è—Ä–∞ –æ–±—ä–µ–∫—Ç–∞</li>
<li>–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤–º–µ—Å—Ç–æ –º–µ—Ç–æ–¥–∞, –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–Ω–æ –±—ã–ª–æ –±—ã –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å</li>
<li>–ò–∑–º–µ–Ω—è–µ—Ç –ø–æ–≤–µ–¥–µ–Ω–∏–µ –±–∞–∑–æ–≤–æ–≥–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞ (setInterval)</li>
</ul>
<hr />
<h2 id="–†–∞–∑–ª–∏—á–Ω—ã–µ-—Ñ–æ—Ä–º—ã-–ø–µ—Ä–µ–¥–∞—á–∏-—Ñ—É–Ω–∫—Ü–∏–π-–≤-revealing-constructor"><a class="header" href="#–†–∞–∑–ª–∏—á–Ω—ã–µ-—Ñ–æ—Ä–º—ã-–ø–µ—Ä–µ–¥–∞—á–∏-—Ñ—É–Ω–∫—Ü–∏–π-–≤-revealing-constructor">–†–∞–∑–ª–∏—á–Ω—ã–µ —Ñ–æ—Ä–º—ã –ø–µ—Ä–µ–¥–∞—á–∏ —Ñ—É–Ω–∫—Ü–∏–π –≤ Revealing Constructor</a></h2>
<h3 id="–§–æ—Ä–º–∞-1-–ü—Ä—è–º–∞—è-–ø–µ—Ä–µ–¥–∞—á–∞-—Ñ—É–Ω–∫—Ü–∏–∏-promise-timer"><a class="header" href="#–§–æ—Ä–º–∞-1-–ü—Ä—è–º–∞—è-–ø–µ—Ä–µ–¥–∞—á–∞-—Ñ—É–Ω–∫—Ü–∏–∏-promise-timer">–§–æ—Ä–º–∞ 1: –ü—Ä—è–º–∞—è –ø–µ—Ä–µ–¥–∞—á–∞ —Ñ—É–Ω–∫—Ü–∏–∏ (Promise, Timer)</a></h3>
<pre><code class="language-javascript">// Promise
new Promise((resolve, reject) =&gt; {
  // resolve –∏ reject - —ç—Ç–æ callbacks
});

// Timer
new Timer(1000, () =&gt; {
  // –§—É–Ω–∫—Ü–∏—è –ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è –Ω–∞–ø—Ä—è–º—É—é
});
</code></pre>
<h3 id="–§–æ—Ä–º–∞-2-–ü–µ—Ä–µ–¥–∞—á–∞-—á–µ—Ä–µ–∑-–æ–±—ä–µ–∫—Ç-streams"><a class="header" href="#–§–æ—Ä–º–∞-2-–ü–µ—Ä–µ–¥–∞—á–∞-—á–µ—Ä–µ–∑-–æ–±—ä–µ–∫—Ç-streams">–§–æ—Ä–º–∞ 2: –ü–µ—Ä–µ–¥–∞—á–∞ —á–µ—Ä–µ–∑ –æ–±—ä–µ–∫—Ç (Streams)</a></h3>
<pre><code class="language-javascript">// Readable Stream
new Readable({
  read(size) {
    // –§—É–Ω–∫—Ü–∏—è –ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è –∫–∞–∫ –º–µ—Ç–æ–¥ –æ–±—ä–µ–∫—Ç–∞
  }
});

// Transform Stream
new Transform({
  transform(chunk, encoding, callback) {
    // –ò–º–µ–Ω–æ–≤–∞–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –≤ –æ–±—ä–µ–∫—Ç–µ
  }
});

// Duplex Stream
new Duplex({
  read(size) { /* ... */ },
  write(chunk, encoding, callback) { /* ... */ }
});
</code></pre>
<hr />
<h2 id="–ö–ª—é—á–µ–≤—ã–µ-–∫–æ–Ω—Ü–µ–ø—Ü–∏–∏-–ø–∞—Ç—Ç–µ—Ä–Ω–∞"><a class="header" href="#–ö–ª—é—á–µ–≤—ã–µ-–∫–æ–Ω—Ü–µ–ø—Ü–∏–∏-–ø–∞—Ç—Ç–µ—Ä–Ω–∞">–ö–ª—é—á–µ–≤—ã–µ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏ –ø–∞—Ç—Ç–µ—Ä–Ω–∞</a></h2>
<h3 id="1-–í–Ω–µ–¥—Ä–µ–Ω–∏–µ-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π-dependency-injection"><a class="header" href="#1-–í–Ω–µ–¥—Ä–µ–Ω–∏–µ-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π-dependency-injection">1. –í–Ω–µ–¥—Ä–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π (Dependency Injection)</a></h3>
<p>Revealing Constructor –æ—á–µ–Ω—å –ø–æ—Ö–æ–∂ –Ω–∞ –≤–Ω–µ–¥—Ä–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π, —Ç–æ–ª—å–∫–æ:</p>
<ul>
<li><strong>–í–Ω–µ–¥—Ä—è–µ—Ç—Å—è –æ–¥–Ω–∞ –∏–ª–∏ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ñ—É–Ω–∫—Ü–∏–π</strong> –≤–Ω—É—Ç—Ä—å —ç–∫–∑–µ–º–ø–ª—è—Ä–∞</li>
<li><strong>–§—É–Ω–∫—Ü–∏–∏ –∏–∑–º–µ–Ω—è—é—Ç –ø–æ–≤–µ–¥–µ–Ω–∏–µ</strong> –±–∞–∑–æ–≤–æ–≥–æ –∫–ª–∞—Å—Å–∞</li>
<li><strong>–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏—é</strong> –∫–ª–∞—Å—Å–æ–≤</li>
</ul>
<pre><code class="language-javascript">// –í–º–µ—Å—Ç–æ –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è:
class MyStream extends Readable {
  _read(size) { /* ... */ }
}

// –ò—Å–ø–æ–ª—å–∑—É–µ–º –≤–Ω–µ–¥—Ä–µ–Ω–∏–µ —á–µ—Ä–µ–∑ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä:
const myStream = new Readable({
  read(size) { /* ... */ }
});
</code></pre>
<h3 id="2-–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è-—Å–æ—Å—Ç–æ—è–Ω–∏—è-–æ–±—ä–µ–∫—Ç–∞"><a class="header" href="#2-–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è-—Å–æ—Å—Ç–æ—è–Ω–∏—è-–æ–±—ä–µ–∫—Ç–∞">2. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è –æ–±—ä–µ–∫—Ç–∞</a></h3>
<p>–ü–µ—Ä–µ–¥–∞–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –º–æ–∂–µ—Ç:</p>
<ul>
<li>–ò–∑–º–µ–Ω—è—Ç—å –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –æ–±—ä–µ–∫—Ç–∞</li>
<li>–ü–µ—Ä–µ–≤–æ–¥–∏—Ç—å –æ–±—ä–µ–∫—Ç –∏–∑ –æ–¥–Ω–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è –≤ –¥—Ä—É–≥–æ–µ (pending ‚Üí fulfilled/rejected –≤ Promise)</li>
<li>–£–ø—Ä–∞–≤–ª—è—Ç—å –∂–∏–∑–Ω–µ–Ω–Ω—ã–º —Ü–∏–∫–ª–æ–º –æ–±—ä–µ–∫—Ç–∞</li>
</ul>
<h3 id="3-–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–µ-—É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ"><a class="header" href="#3-–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–µ-—É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ">3. –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ</a></h3>
<p>–ü–∞—Ç—Ç–µ—Ä–Ω –ø–æ–∑–≤–æ–ª—è–µ—Ç:</p>
<ul>
<li>–û—Ç–∫–ª–∞–¥—ã–≤–∞—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–π</li>
<li>–†–∞–±–æ—Ç–∞—Ç—å —Å –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–º–∏ –æ–ø–µ—Ä–∞—Ü–∏—è–º–∏</li>
<li>–ü–æ–¥–ø–∏—Å—ã–≤–∞—Ç—å—Å—è –Ω–∞ —Å–æ–±—ã—Ç–∏—è –¥–æ –∏ –ø–æ—Å–ª–µ –∏—Ö –Ω–∞—Å—Ç—É–ø–ª–µ–Ω–∏—è</li>
</ul>
<hr />
<h2 id="–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞-–ø–∞—Ç—Ç–µ—Ä–Ω–∞"><a class="header" href="#–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞-–ø–∞—Ç—Ç–µ—Ä–Ω–∞">–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –ø–∞—Ç—Ç–µ—Ä–Ω–∞</a></h2>
<h3 id="1-–ò–Ω–∫–∞–ø—Å—É–ª—è—Ü–∏—è"><a class="header" href="#1-–ò–Ω–∫–∞–ø—Å—É–ª—è—Ü–∏—è">1. –ò–Ω–∫–∞–ø—Å—É–ª—è—Ü–∏—è</a></h3>
<pre><code class="language-javascript">// –í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ –º–µ—Ç–æ–¥—ã (resolve/reject) –¥–æ—Å—Ç—É–ø–Ω—ã
// —Ç–æ–ª—å–∫–æ –≤–Ω—É—Ç—Ä–∏ —Ñ—É–Ω–∫—Ü–∏–∏-–∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞
new Promise((resolve, reject) =&gt; {
  // resolve –∏ reject –¥–æ—Å—Ç—É–ø–Ω—ã –¢–û–õ–¨–ö–û –∑–¥–µ—Å—å
  setTimeout(() =&gt; resolve(42), 1000);
});

// –°–Ω–∞—Ä—É–∂–∏ –Ω–µ–ª—å–∑—è –Ω–∞–ø—Ä—è–º—É—é –≤—ã–∑–≤–∞—Ç—å resolve –∏–ª–∏ reject
</code></pre>
<h3 id="2-–ì–∏–±–∫–æ—Å—Ç—å"><a class="header" href="#2-–ì–∏–±–∫–æ—Å—Ç—å">2. –ì–∏–±–∫–æ—Å—Ç—å</a></h3>
<pre><code class="language-javascript">// –ú–æ–∂–Ω–æ –ø–µ—Ä–µ–¥–∞—Ç—å –ª—é–±—É—é –ª–æ–≥–∏–∫—É –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏
const stream1 = new Readable({
  read() { this.push('simple data'); }
});

const stream2 = new Readable({
  read(size) {
    // –°–ª–æ–∂–Ω–∞—è –ª–æ–≥–∏–∫–∞ —Å –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–º–∏ –æ–ø–µ—Ä–∞—Ü–∏—è–º–∏
    fetchData().then(data =&gt; this.push(data));
  }
});
</code></pre>
<h3 id="3-–ò–∑–±–µ–∂–∞–Ω–∏–µ-–Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è"><a class="header" href="#3-–ò–∑–±–µ–∂–∞–Ω–∏–µ-–Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è">3. –ò–∑–±–µ–∂–∞–Ω–∏–µ –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è</a></h3>
<pre><code class="language-javascript">// –ù–µ –Ω—É–∂–Ω–æ —Å–æ–∑–¥–∞–≤–∞—Ç—å –∫–ª–∞—Å—Å –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Å–ª—É—á–∞—è
// –ü–ª–æ—Ö–æ:
class SimpleReadable extends Readable { _read() { /* ... */ } }
class ComplexReadable extends Readable { _read() { /* ... */ } }
class AnotherReadable extends Readable { _read() { /* ... */ } }

// –•–æ—Ä–æ—à–æ:
const simple = new Readable({ read() { /* ... */ } });
const complex = new Readable({ read() { /* ... */ } });
const another = new Readable({ read() { /* ... */ } });
</code></pre>
<h3 id="4-–ö–æ–Ω—Ç—Ä–æ–ª—å-–¥–æ—Å—Ç—É–ø–∞"><a class="header" href="#4-–ö–æ–Ω—Ç—Ä–æ–ª—å-–¥–æ—Å—Ç—É–ø–∞">4. –ö–æ–Ω—Ç—Ä–æ–ª—å –¥–æ—Å—Ç—É–ø–∞</a></h3>
<pre><code class="language-javascript">// Promise –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç —Ç–æ–ª—å–∫–æ resolve/reject –≤–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞
// –Ω–æ –Ω–µ –¥–∞—ë—Ç –¥–æ—Å—Ç—É–ø –∫ –Ω–∏–º –∏–∑–≤–Ω–µ
const promise = new Promise((resolve, reject) =&gt; {
  // –¢–æ–ª—å–∫–æ –∑–¥–µ—Å—å –º–æ–∂–Ω–æ —É–ø—Ä–∞–≤–ª—è—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º
  setTimeout(() =&gt; resolve('done'), 1000);
});

// promise.resolve() - ‚ùå –¢–∞–∫–æ–≥–æ –º–µ—Ç–æ–¥–∞ –Ω–µ—Ç!
// promise.reject()  - ‚ùå –¢–∞–∫–æ–≥–æ –º–µ—Ç–æ–¥–∞ –Ω–µ—Ç!
</code></pre>
<hr />
<h2 id="–°—Ä–∞–≤–Ω–µ–Ω–∏–µ-–ø–æ–¥—Ö–æ–¥–æ–≤"><a class="header" href="#–°—Ä–∞–≤–Ω–µ–Ω–∏–µ-–ø–æ–¥—Ö–æ–¥–æ–≤">–°—Ä–∞–≤–Ω–µ–Ω–∏–µ –ø–æ–¥—Ö–æ–¥–æ–≤</a></h2>
<div class="table-wrapper"><table><thead><tr><th>–ê—Å–ø–µ–∫—Ç</th><th>–ù–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ (extends)</th><th>Revealing Constructor</th></tr></thead><tbody>
<tr><td><strong>–°–æ–∑–¥–∞–Ω–∏–µ –∫–ª–∞—Å—Å–∞</strong></td><td>–¢—Ä–µ–±—É–µ—Ç—Å—è</td><td>–ù–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è</td></tr>
<tr><td><strong>–ú–Ω–æ–≥–æ—Å–ª–æ–≤–Ω–æ—Å—Ç—å</strong></td><td>–ë–æ–ª—å—à–µ –∫–æ–¥–∞</td><td>–ö–æ–º–ø–∞–∫—Ç–Ω–µ–µ</td></tr>
<tr><td><strong>–ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ</strong></td><td>–ß–µ—Ä–µ–∑ –∏–µ—Ä–∞—Ä—Ö–∏—é –∫–ª–∞—Å—Å–æ–≤</td><td>–ß–µ—Ä–µ–∑ –∫–æ–º–ø–æ–∑–∏—Ü–∏—é —Ñ—É–Ω–∫—Ü–∏–π</td></tr>
<tr><td><strong>–ì–∏–±–∫–æ—Å—Ç—å</strong></td><td>–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∞ –∏–µ—Ä–∞—Ä—Ö–∏–µ–π</td><td>–í—ã—Å–æ–∫–∞—è</td></tr>
<tr><td><strong>–ò–Ω–∫–∞–ø—Å—É–ª—è—Ü–∏—è</strong></td><td>–ß–µ—Ä–µ–∑ –ø—Ä–∏–≤–∞—Ç–Ω—ã–µ –ø–æ–ª—è</td><td>–ß–µ—Ä–µ–∑ –∑–∞–º—ã–∫–∞–Ω–∏—è</td></tr>
</tbody></table>
</div>
<h3 id="–ü—Ä–∏–º–µ—Ä-—Å—Ä–∞–≤–Ω–µ–Ω–∏—è-–¥–ª—è-—Å—Ç—Ä–∏–º–æ–≤"><a class="header" href="#–ü—Ä–∏–º–µ—Ä-—Å—Ä–∞–≤–Ω–µ–Ω–∏—è-–¥–ª—è-—Å—Ç—Ä–∏–º–æ–≤">–ü—Ä–∏–º–µ—Ä —Å—Ä–∞–≤–Ω–µ–Ω–∏—è –¥–ª—è —Å—Ç—Ä–∏–º–æ–≤:</a></h3>
<pre><code class="language-javascript">// –ü–æ–¥—Ö–æ–¥ 1: –ù–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ (–º–Ω–æ–≥–æ—Å–ª–æ–≤–Ω–æ)
class RandomStream extends Readable {
  constructor(options) {
    super(options);
  }
  _read(size) {
    const chunk = Buffer.allocUnsafe(size)
      .map(() =&gt; Math.floor(Math.random() * 256));
    this.push(chunk.toString('hex'));
  }
}
const stream1 = new RandomStream();

// –ü–æ–¥—Ö–æ–¥ 2: Revealing Constructor (–∫–æ–º–ø–∞–∫—Ç–Ω–æ)
const stream2 = new Readable({
  read(size) {
    const chunk = Buffer.allocUnsafe(size)
      .map(() =&gt; Math.floor(Math.random() * 256));
    this.push(chunk.toString('hex'));
  }
});
</code></pre>
<hr />
<h2 id="–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ-–≤-—Ä–µ–∞–ª—å–Ω—ã—Ö-–ø—Ä–æ–µ–∫—Ç–∞—Ö"><a class="header" href="#–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ-–≤-—Ä–µ–∞–ª—å–Ω—ã—Ö-–ø—Ä–æ–µ–∫—Ç–∞—Ö">–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –≤ —Ä–µ–∞–ª—å–Ω—ã—Ö –ø—Ä–æ–µ–∫—Ç–∞—Ö</a></h2>
<h3 id="1-promise-api"><a class="header" href="#1-promise-api">1. Promise API</a></h3>
<p>–í—Å–µ –ø—Ä–æ–º–∏—Å—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç —ç—Ç–æ—Ç –ø–∞—Ç—Ç–µ—Ä–Ω:</p>
<pre><code class="language-javascript">// –†–∞–±–æ—Ç–∞ —Å —Ñ–∞–π–ª–∞–º–∏
const filePromise = new Promise((resolve, reject) =&gt; {
  fs.readFile('file.txt', (err, data) =&gt; {
    if (err) reject(err);
    else resolve(data);
  });
});

// HTTP –∑–∞–ø—Ä–æ—Å—ã
const httpPromise = new Promise((resolve, reject) =&gt; {
  http.get('http://api.example.com', (res) =&gt; {
    let data = '';
    res.on('data', chunk =&gt; data += chunk);
    res.on('end', () =&gt; resolve(data));
    res.on('error', reject);
  });
});
</code></pre>
<h3 id="2-nodejs-streams"><a class="header" href="#2-nodejs-streams">2. Node.js Streams</a></h3>
<p>–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ Node.js —Ä–µ–∞–ª–∏–∑—É–µ—Ç –≤—Å–µ —Ç–∏–ø—ã —Å—Ç—Ä–∏–º–æ–≤ —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π Revealing Constructor:</p>
<pre><code class="language-javascript">const { Readable, Writable, Transform, Duplex } = require('node:stream');

// –í—Å–µ —ç—Ç–∏ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä—ã –ø—Ä–∏–Ω–∏–º–∞—é—Ç –æ–±—ä–µ–∫—Ç—ã —Å —Ñ—É–Ω–∫—Ü–∏—è–º–∏
const r = new Readable({ read() { /* ... */ } });
const w = new Writable({ write() { /* ... */ } });
const t = new Transform({ transform() { /* ... */ } });
const d = new Duplex({ read() { /* ... */ }, write() { /* ... */ } });
</code></pre>
<h3 id="3-custom-event-emitters"><a class="header" href="#3-custom-event-emitters">3. Custom Event Emitters</a></h3>
<pre><code class="language-javascript">class Emitter {
  constructor(listener) {
    this.listener = listener;
    this.events = {};
  }

  emit(event, data) {
    if (this.listener) {
      this.listener(event, data);
    }
  }
}

const emitter = new Emitter((event, data) =&gt; {
  console.log(`Event ${event}:`, data);
});

emitter.emit('message', 'Hello!');
</code></pre>
<hr />
<h2 id="–°–≤—è–∑—å-—Å-–ø–∞—Ç—Ç–µ—Ä–Ω–æ–º-future"><a class="header" href="#–°–≤—è–∑—å-—Å-–ø–∞—Ç—Ç–µ—Ä–Ω–æ–º-future">–°–≤—è–∑—å —Å –ø–∞—Ç—Ç–µ—Ä–Ω–æ–º Future</a></h2>
<p>–ü–∞—Ç—Ç–µ—Ä–Ω Revealing Constructor –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –ø–∞—Ç—Ç–µ—Ä–Ω–∞ <strong>Future</strong> –≤ —Å–ª–µ–¥—É—é—â–µ–π –ª–µ–∫—Ü–∏–∏:</p>
<p><strong>–û—Ç–ª–∏—á–∏—è Future –æ—Ç Promise:</strong></p>
<ul>
<li><strong>–ë–µ–∑ —Å–æ—Å—Ç–æ—è–Ω–∏—è</strong> (stateless)</li>
<li><strong>–ú–Ω–æ–≥–æ—Ä–∞–∑–æ–≤—ã–π</strong> (–º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–æ–≤—Ç–æ—Ä–Ω–æ)</li>
<li><strong>–ò–∑ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–≥–æ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è</strong></li>
<li><strong>–ö–æ–º–ø–æ–Ω—É–µ–º—ã–π</strong> (–ª–µ–≥–∫–æ –∫–æ–º–±–∏–Ω–∏—Ä—É–µ—Ç—Å—è)</li>
</ul>
<pre><code class="language-javascript">// –ü—Ä–∏–º–µ—Ä –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏ (—É–ø—Ä–æ—â—ë–Ω–Ω–æ)
class Future {
  constructor(computation) {
    this.computation = computation; // –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤—ã—á–∏—Å–ª–µ–Ω–∏–µ
  }

  fork(reject, resolve) {
    // –ö–∞–∂–¥—ã–π —Ä–∞–∑ –∑–∞–ø—É—Å–∫–∞–µ–º –≤—ã—á–∏—Å–ª–µ–Ω–∏–µ –∑–∞–Ω–æ–≤–æ
    this.computation(reject, resolve);
  }
}

// Future –º–æ–∂–Ω–æ –∑–∞–ø—É—Å—Ç–∏—Ç—å –º–Ω–æ–≥–æ–∫—Ä–∞—Ç–Ω–æ
const future = new Future((reject, resolve) =&gt; {
  setTimeout(() =&gt; resolve(42), 1000);
});

future.fork(console.error, console.log); // –ü–µ—Ä–≤—ã–π –∑–∞–ø—É—Å–∫
future.fork(console.error, console.log); // –í—Ç–æ—Ä–æ–π –∑–∞–ø—É—Å–∫
</code></pre>
<hr />
<h2 id="–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ-—Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏-7"><a class="header" href="#–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ-—Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏-7">–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏</a></h2>
<h3 id="–ö–æ–≥–¥–∞-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å-revealing-constructor"><a class="header" href="#–ö–æ–≥–¥–∞-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å-revealing-constructor">–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Revealing Constructor</a></h3>
<p>‚úÖ <strong>–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–≥–¥–∞:</strong></p>
<ul>
<li>–ù—É–∂–Ω–æ –≤–Ω–µ–¥—Ä–∏—Ç—å –ø–æ–≤–µ–¥–µ–Ω–∏–µ –≤ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –æ–±—ä–µ–∫—Ç–∞</li>
<li>–¢—Ä–µ–±—É–µ—Ç—Å—è –∏–Ω–∫–∞–ø—Å—É–ª–∏—Ä–æ–≤–∞—Ç—å –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ –º–µ—Ç–æ–¥—ã</li>
<li>–•–æ—Ç–∏—Ç–µ –∏–∑–±–µ–∂–∞—Ç—å —Å–æ–∑–¥–∞–Ω–∏—è –º–Ω–æ–∂–µ—Å—Ç–≤–∞ –∫–ª–∞—Å—Å–æ–≤ —á–µ—Ä–µ–∑ –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ</li>
<li>–†–∞–±–æ—Ç–∞–µ—Ç–µ —Å –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–º–∏ –æ–ø–µ—Ä–∞—Ü–∏—è–º–∏</li>
<li>–ù—É–∂–Ω–æ —É–ø—Ä–∞–≤–ª—è—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º –æ–±—ä–µ–∫—Ç–∞ –∏–∑–≤–Ω–µ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞</li>
</ul>
<p>‚ùå <strong>–ù–µ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–≥–¥–∞:</strong></p>
<ul>
<li>–õ–æ–≥–∏–∫–∞ —Å–ª–∏—à–∫–æ–º —Å–ª–æ–∂–Ω–∞—è –¥–ª—è –æ–¥–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–∏</li>
<li>–ù—É–∂–Ω–∞ –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–∞—è –∏–µ—Ä–∞—Ä—Ö–∏—è –∫–ª–∞—Å—Å–æ–≤</li>
<li>–¢—Ä–µ–±—É–µ—Ç—Å—è –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–æ–µ –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ –ø–æ–≤–µ–¥–µ–Ω–∏—è</li>
<li>–í–∞–∂–Ω–∞ —Ç–∏–ø–∏–∑–∞—Ü–∏—è –∏ IDE –ø–æ–¥–¥–µ—Ä–∂–∫–∞ (–±–µ–∑ TypeScript)</li>
</ul>
<h3 id="best-practices"><a class="header" href="#best-practices">Best Practices</a></h3>
<pre><code class="language-javascript">// ‚úÖ –•–æ—Ä–æ—à–æ: –Ø–≤–Ω—ã–µ –∏–º–µ–Ω–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
new Promise((resolve, reject) =&gt; {
  // –ü–æ–Ω—è—Ç–Ω–æ, —á—Ç–æ –¥–µ–ª–∞—é—Ç —ç—Ç–∏ —Ñ—É–Ω–∫—Ü–∏–∏
});

// ‚úÖ –•–æ—Ä–æ—à–æ: –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –º–µ—Ç–æ–¥—ã –æ–±—ä–µ–∫—Ç–∞
new Readable({
  read(size) {
    // size - –ø–æ–Ω—è—Ç–Ω—ã–π –ø–∞—Ä–∞–º–µ—Ç—Ä
  }
});

// ‚ùå –ü–ª–æ—Ö–æ: –ù–µ—è—Å–Ω—ã–µ –∏–º–µ–Ω–∞
new SomeClass((a, b) =&gt; {
  // –ß—Ç–æ —Ç–∞–∫–æ–µ a –∏ b?
});

// ‚úÖ –•–æ—Ä–æ—à–æ: –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
new Promise((resolve, reject) =&gt; {
  try {
    // ... –æ–ø–µ—Ä–∞—Ü–∏—è
    resolve(result);
  } catch (error) {
    reject(error);
  }
});
</code></pre>
<hr />
<h2 id="–†–µ–∑—é–º–µ-4"><a class="header" href="#–†–µ–∑—é–º–µ-4">–†–µ–∑—é–º–µ</a></h2>
<h3 id="–û—Å–Ω–æ–≤–Ω—ã–µ-–∫–æ–Ω—Ü–µ–ø—Ü–∏–∏-3"><a class="header" href="#–û—Å–Ω–æ–≤–Ω—ã–µ-–∫–æ–Ω—Ü–µ–ø—Ü–∏–∏-3">–û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏</a></h3>
<ol>
<li><strong>Revealing Constructor</strong> - –ø–∞—Ç—Ç–µ—Ä–Ω, –ø—Ä–∏ –∫–æ—Ç–æ—Ä–æ–º —Ñ—É–Ω–∫—Ü–∏—è –ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è –≤ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –¥–ª—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –æ–±—ä–µ–∫—Ç–∞</li>
<li><strong>–¢—Ä–∏ —Å–ø–æ—Å–æ–±–∞ –ø–µ—Ä–µ–¥–∞—á–∏ –¥–∞–Ω–Ω—ã—Ö</strong>: –∫–æ–Ω—Å—Ç–∞–Ω—Ç–∞, —Ñ—É–Ω–∫—Ü–∏—è –≤–æ–∑–≤—Ä–∞—â–∞—é—â–∞—è –∑–Ω–∞—á–µ–Ω–∏–µ, callback-—Ñ—É–Ω–∫—Ü–∏—è</li>
<li><strong>Promise –∏—Å–ø–æ–ª—å–∑—É–µ—Ç Revealing Constructor</strong> –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º (resolve/reject)</li>
<li><strong>Node.js Streams</strong> –∏—Å–ø–æ–ª—å–∑—É—é—Ç —ç—Ç–æ—Ç –ø–∞—Ç—Ç–µ—Ä–Ω –¥–ª—è –≤–Ω–µ–¥—Ä–µ–Ω–∏—è –º–µ—Ç–æ–¥–æ–≤ read/write/transform</li>
<li><strong>–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏—é</strong> - –º–æ–∂–Ω–æ –∏–∑–±–µ–∂–∞—Ç—å —Å–æ–∑–¥–∞–Ω–∏—è –∫–ª–∞—Å—Å–æ–≤</li>
</ol>
<h3 id="–ö–ª—é—á–µ–≤—ã–µ-–ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞"><a class="header" href="#–ö–ª—é—á–µ–≤—ã–µ-–ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞">–ö–ª—é—á–µ–≤—ã–µ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞</a></h3>
<ul>
<li>‚úÖ –ò–Ω–∫–∞–ø—Å—É–ª—è—Ü–∏—è –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏—Ö –º–µ—Ç–æ–¥–æ–≤</li>
<li>‚úÖ –ì–∏–±–∫–æ—Å—Ç—å –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ –ø–æ–≤–µ–¥–µ–Ω–∏—è</li>
<li>‚úÖ –ö–æ–º–ø–∞–∫—Ç–Ω—ã–π –∫–æ–¥ –±–µ–∑ –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è</li>
<li>‚úÖ –í–Ω–µ–¥—Ä–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π —á–µ—Ä–µ–∑ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä</li>
<li>‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π</li>
</ul>
<h3 id="–û–±–ª–∞—Å—Ç–∏-–ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è"><a class="header" href="#–û–±–ª–∞—Å—Ç–∏-–ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è">–û–±–ª–∞—Å—Ç–∏ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è</a></h3>
<ul>
<li>Promise API</li>
<li>Node.js Streams (Readable, Writable, Transform, Duplex)</li>
<li>Custom —Ç–∞–π–º–µ—Ä—ã –∏ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∏</li>
<li>Event Emitters</li>
<li>–ü–∞—Ç—Ç–µ—Ä–Ω Future (—Å–ª–µ–¥—É—é—â–∞—è —Ç–µ–º–∞)</li>
</ul>
<h3 id="–°–ª–µ–¥—É—é—â–∏–µ-—à–∞–≥–∏-1"><a class="header" href="#–°–ª–µ–¥—É—é—â–∏–µ-—à–∞–≥–∏-1">–°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏</a></h3>
<p>–í —Å–ª–µ–¥—É—é—â–µ–π –ª–µ–∫—Ü–∏–∏ –º—ã –ø–æ—Å—Ç—Ä–æ–∏–º –ø–∞—Ç—Ç–µ—Ä–Ω <strong>Future</strong> –Ω–∞ –æ—Å–Ω–æ–≤–µ Revealing Constructor:</p>
<ul>
<li>–ë–µ–∑ —Å–æ—Å—Ç–æ—è–Ω–∏—è (–≤ –æ—Ç–ª–∏—á–∏–µ –æ—Ç Promise)</li>
<li>–ú–Ω–æ–≥–æ—Ä–∞–∑–æ–≤—ã–π</li>
<li>–ò–∑ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–≥–æ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è</li>
<li>–î–ª—è —Ä–∞–±–æ—Ç—ã —Å –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç—å—é</li>
</ul>
<hr />
<h2 id="–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ-–ø—Ä–∏–º–µ—Ä—ã-–¥–ª—è-–ø—Ä–∞–∫—Ç–∏–∫–∏"><a class="header" href="#–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ-–ø—Ä–∏–º–µ—Ä—ã-–¥–ª—è-–ø—Ä–∞–∫—Ç–∏–∫–∏">–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø—Ä–∏–º–µ—Ä—ã –¥–ª—è –ø—Ä–∞–∫—Ç–∏–∫–∏</a></h2>
<h3 id="–ü—Ä–∏–º–µ—Ä-1-observable-–ø–æ–¥–æ–±–Ω—ã–π-–∫–ª–∞—Å—Å"><a class="header" href="#–ü—Ä–∏–º–µ—Ä-1-observable-–ø–æ–¥–æ–±–Ω—ã–π-–∫–ª–∞—Å—Å">–ü—Ä–∏–º–µ—Ä 1: Observable-–ø–æ–¥–æ–±–Ω—ã–π –∫–ª–∞—Å—Å</a></h3>
<pre><code class="language-javascript">class Observable {
  constructor(subscriber) {
    this.subscriber = subscriber;
  }

  subscribe(observer) {
    return this.subscriber(observer);
  }
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
const observable = new Observable((observer) =&gt; {
  let count = 0;
  const interval = setInterval(() =&gt; {
    observer.next(count++);
    if (count &gt; 5) {
      observer.complete();
      clearInterval(interval);
    }
  }, 1000);

  // –§—É–Ω–∫—Ü–∏—è –æ—Ç–ø–∏—Å–∫–∏
  return () =&gt; clearInterval(interval);
});

const unsubscribe = observable.subscribe({
  next: (value) =&gt; console.log('Value:', value),
  complete: () =&gt; console.log('Complete!')
});
</code></pre>
<h3 id="–ü—Ä–∏–º–µ—Ä-2-retry-–º–µ—Ö–∞–Ω–∏–∑–º"><a class="header" href="#–ü—Ä–∏–º–µ—Ä-2-retry-–º–µ—Ö–∞–Ω–∏–∑–º">–ü—Ä–∏–º–µ—Ä 2: Retry –º–µ—Ö–∞–Ω–∏–∑–º</a></h3>
<pre><code class="language-javascript">class Retryable {
  constructor(operation, maxRetries = 3) {
    this.operation = operation;
    this.maxRetries = maxRetries;
  }

  async execute() {
    let lastError;
    for (let attempt = 0; attempt &lt; this.maxRetries; attempt++) {
      try {
        return await new Promise(this.operation);
      } catch (error) {
        lastError = error;
        console.log(`Attempt ${attempt + 1} failed:`, error.message);
      }
    }
    throw lastError;
  }
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
const unreliableOperation = new Retryable((resolve, reject) =&gt; {
  if (Math.random() &lt; 0.7) {
    reject(new Error('Random failure'));
  } else {
    resolve('Success!');
  }
}, 5);

unreliableOperation.execute()
  .then(result =&gt; console.log(result))
  .catch(error =&gt; console.error('Failed after retries:', error));
</code></pre>
<h3 id="–ü—Ä–∏–º–µ—Ä-3-debounced-stream"><a class="header" href="#–ü—Ä–∏–º–µ—Ä-3-debounced-stream">–ü—Ä–∏–º–µ—Ä 3: Debounced Stream</a></h3>
<pre><code class="language-javascript">const { Transform } = require('node:stream');

function createDebouncedStream(delay) {
  let timeoutId = null;
  let bufferedChunk = null;

  return new Transform({
    transform(chunk, encoding, callback) {
      // –°–±—Ä–∞—Å—ã–≤–∞–µ–º –ø—Ä–µ–¥—ã–¥—É—â–∏–π —Ç–∞–π–º–µ—Ä
      if (timeoutId) {
        clearTimeout(timeoutId);
      }

      // –ë—É—Ñ–µ—Ä–∏–∑—É–µ–º chunk
      bufferedChunk = chunk;

      // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –Ω–æ–≤—ã–π —Ç–∞–π–º–µ—Ä
      timeoutId = setTimeout(() =&gt; {
        this.push(bufferedChunk);
        callback();
      }, delay);
    },

    flush(callback) {
      // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –ø–æ—Å–ª–µ–¥–Ω–∏–π chunk –ø—Ä–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏
      if (timeoutId) {
        clearTimeout(timeoutId);
      }
      if (bufferedChunk) {
        this.push(bufferedChunk);
      }
      callback();
    }
  });
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
const debouncedStream = createDebouncedStream(500);
process.stdin
  .pipe(debouncedStream)
  .pipe(process.stdout);
</code></pre>
<hr />
<h2 id="–ö–æ–Ω—Ç—Ä–æ–ª—å–Ω—ã–µ-–≤–æ–ø—Ä–æ—Å—ã"><a class="header" href="#–ö–æ–Ω—Ç—Ä–æ–ª—å–Ω—ã–µ-–≤–æ–ø—Ä–æ—Å—ã">–ö–æ–Ω—Ç—Ä–æ–ª—å–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã</a></h2>
<ol>
<li>–í —á—ë–º –æ—Å–Ω–æ–≤–Ω–æ–µ –æ—Ç–ª–∏—á–∏–µ –º–µ–∂–¥—É –ø–µ—Ä–µ–¥–∞—á–µ–π –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã –∏ callback-—Ñ—É–Ω–∫—Ü–∏–∏ –≤ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä?</li>
<li>–ü–æ—á–µ–º—É Promise –Ω–µ –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø—Ä–æ—Å—Ç—É—é —Ñ—É–Ω–∫—Ü–∏—é –≤–º–µ—Å—Ç–æ callback –¥–ª—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏?</li>
<li>–ö–∞–∫–∏–µ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –¥–∞—ë—Ç Revealing Constructor –ø–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏—é —Å –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ–º –∫–ª–∞—Å—Å–æ–≤?</li>
<li>–ü—Ä–∏–≤–µ–¥–∏—Ç–µ —Ç—Ä–∏ –ø—Ä–∏–º–µ—Ä–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —ç—Ç–æ–≥–æ –ø–∞—Ç—Ç–µ—Ä–Ω–∞ –≤ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–π –±–∏–±–ª–∏–æ—Ç–µ–∫–µ Node.js</li>
<li>–ö–∞–∫ Revealing Constructor —Å–≤—è–∑–∞–Ω —Å –ø–∞—Ç—Ç–µ—Ä–Ω–æ–º Dependency Injection?</li>
</ol>
<hr />
<p><strong>–ê–≤—Ç–æ—Ä –∫–æ–Ω—Å–ø–µ–∫—Ç–∞:</strong> –°–æ–∑–¥–∞–Ω–æ –Ω–∞ –æ—Å–Ω–æ–≤–µ –ª–µ–∫—Ü–∏–∏ –æ –ø–∞—Ç—Ç–µ—Ä–Ω–µ Revealing Constructor
<strong>–¢–µ–º–∞ –∫—É—Ä—Å–∞:</strong> –ü–∞—Ç—Ç–µ—Ä–Ω—ã –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –≤ Node.js –∏ JavaScript
<strong>–°–ª–µ–¥—É—é—â–∞—è —Ç–µ–º–∞:</strong> –ü–∞—Ç—Ç–µ—Ä–Ω Future –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç—å—é</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="week-4---isolation-and-separation-of-concerns"><a class="header" href="#week-4---isolation-and-separation-of-concerns">Week 4 - Isolation and Separation of Concerns</a></h1>
<ul>
<li><a href="week4/nodejs-modules-packages-dependencies-notes.html">–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π: —Å–∏—Å—Ç–µ–º—ã –º–æ–¥—É–ª—å–Ω–æ—Å—Ç–∏, –ø–∞–∫–µ—Ç—ã –∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏</a></li>
<li><a href="week4/nodejs-architecture-layers-di-lecture-notes.html">–°–ª–æ–∏ –∏ –≤–Ω–µ–¥—Ä–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π</a></li>
<li><a href="week4/abstract-factory-lecture-notes.html">Abstract Factory</a></li>
<li><a href="week4/factory-method-pattern-notes.html">Factory Method</a></li>
<li><a href="week4/strategy-pattern-lecture-notes.html">Strategy</a></li>
<li><a href="week4/object-pool-factory-lecture-notes.html">Object Pool, Factory</a></li>
<li><a href="week4/asyncpool-lecture-notes.html">AsyncPool ‚Äî –®–∞–±–ª–æ–Ω –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–≥–æ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è ¬´–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –ø—É–ª¬ª</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="–°—Ç—Ä—É–∫—Ç—É—Ä–∞-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π-nodejs-–º–æ–¥—É–ª–∏-–ø–∞–∫–µ—Ç—ã-–∏-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏"><a class="header" href="#–°—Ç—Ä—É–∫—Ç—É—Ä–∞-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π-nodejs-–º–æ–¥—É–ª–∏-–ø–∞–∫–µ—Ç—ã-–∏-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏">–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π Node.js: –º–æ–¥—É–ª–∏, –ø–∞–∫–µ—Ç—ã –∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏</a></h1>
<h2 id="–û–±–∑–æ—Ä-12"><a class="header" href="#–û–±–∑–æ—Ä-12">–û–±–∑–æ—Ä</a></h2>
<p>–≠—Ç–∞ –ª–µ–∫—Ü–∏—è –æ—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–∞–ª—å–Ω—ã–µ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏ –º–æ–¥—É–ª—å–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã Node.js, –≤–∫–ª—é—á–∞—è CommonJS –∏ ECMAScript –º–æ–¥—É–ª–∏, –º–µ—Ö–∞–Ω–∏–∑–º—ã –∑–∞–≥—Ä—É–∑–∫–∏ –∏ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è –º–æ–¥—É–ª–µ–π, —Ä–∞–±–æ—Ç—É —Å –ø–∞–∫–µ—Ç–∞–º–∏ –∏ —Å–æ–∑–¥–∞–Ω–∏–µ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã –º–æ–¥—É–ª—å–Ω–æ—Å—Ç–∏. –ú—ã —Ä–∞—Å—Å–º–æ—Ç—Ä–∏–º –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –º–æ–¥—É–ª—å–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã Node.js –∏ –Ω–∞—É—á–∏–º—Å—è —Å–æ–∑–¥–∞–≤–∞—Ç—å –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è (sandboxes).</p>
<hr />
<h2 id="–û—Å–Ω–æ–≤—ã-–º–æ–¥—É–ª—å–Ω–æ–π-—Å–∏—Å—Ç–µ–º—ã-commonjs"><a class="header" href="#–û—Å–Ω–æ–≤—ã-–º–æ–¥—É–ª—å–Ω–æ–π-—Å–∏—Å—Ç–µ–º—ã-commonjs">–û—Å–Ω–æ–≤—ã –º–æ–¥—É–ª—å–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã CommonJS</a></h2>
<h3 id="–°—Ç—Ä—É–∫—Ç—É—Ä–∞-—Ç–∏–ø–∏—á–Ω–æ–≥–æ-–º–æ–¥—É–ª—è-commonjs"><a class="header" href="#–°—Ç—Ä—É–∫—Ç—É—Ä–∞-—Ç–∏–ø–∏—á–Ω–æ–≥–æ-–º–æ–¥—É–ª—è-commonjs">–°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–∏–ø–∏—á–Ω–æ–≥–æ –º–æ–¥—É–ª—è CommonJS</a></h3>
<p>–í Node.js –∫–∞–∂–¥—ã–π —Ñ–∞–π–ª —è–≤–ª—è–µ—Ç—Å—è –æ—Ç–¥–µ–ª—å–Ω—ã–º –º–æ–¥—É–ª–µ–º. –ú–æ–¥—É–ª–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã –¥–ª—è —ç–∫—Å–ø–æ—Ä—Ç–∞ –∏ –∏–º–ø–æ—Ä—Ç–∞ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏.</p>
<h4 id="–ü—Ä–∏–º–µ—Ä-–±–∞–∑–æ–≤–æ–≥–æ-–º–æ–¥—É–ª—è-file1-exportjs"><a class="header" href="#–ü—Ä–∏–º–µ—Ä-–±–∞–∑–æ–≤–æ–≥–æ-–º–æ–¥—É–ª—è-file1-exportjs">–ü—Ä–∏–º–µ—Ä –±–∞–∑–æ–≤–æ–≥–æ –º–æ–¥—É–ª—è (file1-export.js)</a></h4>
<pre><code class="language-javascript">// –û–ø—Ä–µ–¥–µ–ª—è–µ–º —Ñ—É–Ω–∫—Ü–∏–∏ –∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
const myFunction = () =&gt; {
  console.log('–§—É–Ω–∫—Ü–∏—è –∏–∑ –º–æ–¥—É–ª—è');
};

const MyClass = class {
  constructor(name) {
    this.name = name;
  }
};

const collection = new Map();

// –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–µ–º —á–µ—Ä–µ–∑ module.exports
module.exports = {
  myFunction,
  MyClass,
  collection
};
</code></pre>
<p><strong>–í–∞–∂–Ω–æ</strong>: –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä <code>module</code> –Ω–µ –æ–±—ä—è–≤–ª–µ–Ω –≤ –∫–æ–¥–µ —è–≤–Ω–æ - –æ–Ω –≤–Ω–µ–¥—Ä—è–µ—Ç—Å—è –∑–∞–≥—Ä—É–∑—á–∏–∫–æ–º Node.js —á–µ—Ä–µ–∑ –º–µ—Ö–∞–Ω–∏–∑–º <code>vm.createScript</code>.</p>
<h3 id="–í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ-–∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã-–º–æ–¥—É–ª–µ–π"><a class="header" href="#–í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ-–∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã-–º–æ–¥—É–ª–µ–π">–í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã –º–æ–¥—É–ª–µ–π</a></h3>
<p>–ö–∞–∂–¥—ã–π CommonJS –º–æ–¥—É–ª—å –∏–º–µ–µ—Ç –¥–æ—Å—Ç—É–ø –∫ —Å–ª–µ–¥—É—é—â–∏–º –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–º –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–∞–º:</p>
<ul>
<li><code>module</code> - –æ–±—ä–µ–∫—Ç —Ç–µ–∫—É—â–µ–≥–æ –º–æ–¥—É–ª—è</li>
<li><code>exports</code> - —Å—Å—ã–ª–∫–∞ –Ω–∞ <code>module.exports</code></li>
<li><code>require</code> - —Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –º–æ–¥—É–ª–µ–π</li>
<li><code>__filename</code> - –∞–±—Å–æ–ª—é—Ç–Ω—ã–π –ø—É—Ç—å –∫ —Ç–µ–∫—É—â–µ–º—É —Ñ–∞–π–ª—É</li>
<li><code>__dirname</code> - –∞–±—Å–æ–ª—é—Ç–Ω—ã–π –ø—É—Ç—å –∫ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ —Ñ–∞–π–ª–∞</li>
</ul>
<p>–í—Å–µ —ç—Ç–∏ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã –≤–Ω–µ–¥—Ä—è—é—Ç—Å—è –∏–∑–≤–Ω–µ –∑–∞–≥—Ä—É–∑—á–∏–∫–æ–º Node.js.</p>
<hr />
<h2 id="–ó–∞–≥—Ä—É–∑–∫–∞-–º–æ–¥—É–ª–µ–π-—á–µ—Ä–µ–∑-require"><a class="header" href="#–ó–∞–≥—Ä—É–∑–∫–∞-–º–æ–¥—É–ª–µ–π-—á–µ—Ä–µ–∑-require">–ó–∞–≥—Ä—É–∑–∫–∞ –º–æ–¥—É–ª–µ–π —á–µ—Ä–µ–∑ require</a></h2>
<h3 id="–ó–∞–≥—Ä—É–∑–∫–∞-–≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã—Ö-–º–æ–¥—É–ª–µ–π-nodejs"><a class="header" href="#–ó–∞–≥—Ä—É–∑–∫–∞-–≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã—Ö-–º–æ–¥—É–ª–µ–π-nodejs">–ó–∞–≥—Ä—É–∑–∫–∞ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã—Ö –º–æ–¥—É–ª–µ–π Node.js</a></h3>
<h4 id="–¢—Ä–∞–¥–∏—Ü–∏–æ–Ω–Ω—ã–π-—Å–ø–æ—Å–æ–±"><a class="header" href="#–¢—Ä–∞–¥–∏—Ü–∏–æ–Ω–Ω—ã–π-—Å–ø–æ—Å–æ–±">–¢—Ä–∞–¥–∏—Ü–∏–æ–Ω–Ω—ã–π —Å–ø–æ—Å–æ–±</a></h4>
<pre><code class="language-javascript">const fs = require('fs');
const events = require('events');
const timers = require('timers');
</code></pre>
<h4 id="–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π-—Å–ø–æ—Å–æ–±-—Å-nodejs-16"><a class="header" href="#–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π-—Å–ø–æ—Å–æ–±-—Å-nodejs-16">–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π —Å–ø–æ—Å–æ–± (—Å Node.js 16+)</a></h4>
<pre><code class="language-javascript">// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø—Ä–µ—Ñ–∏–∫—Å–∞ node: –¥–ª—è —è–≤–Ω–æ–≥–æ —É–∫–∞–∑–∞–Ω–∏—è –≤—Å—Ç—Ä–æ–µ–Ω–Ω–æ–≥–æ –º–æ–¥—É–ª—è
const fs = require('node:fs');
const events = require('node:events');
const timers = require('node:timers/promises'); // –ø–æ–¥–º–æ–¥—É–ª—å —Å –ø—Ä–æ–º–∏—Å–∞–º–∏
</code></pre>
<p><strong>–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –ø—Ä–µ—Ñ–∏–∫—Å–∞ <code>node:</code>:</strong></p>
<ul>
<li>–ó–∞—â–∏—Ç–∞ –æ—Ç –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤ —Å npm-–ø–∞–∫–µ—Ç–∞–º–∏ —Å —Ç–∞–∫–∏–º–∏ –∂–µ –∏–º–µ–Ω–∞–º–∏</li>
<li>–Ø–≤–Ω–æ–µ —É–∫–∞–∑–∞–Ω–∏–µ, —á—Ç–æ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –º–æ–¥—É–ª—å Node.js</li>
<li>–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤—Å–µ–≥–¥–∞ –¥–ª—è –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã—Ö –º–æ–¥—É–ª–µ–π</li>
</ul>
<h3 id="–ó–∞–≥—Ä—É–∑–∫–∞-npm-–ø–∞–∫–µ—Ç–æ–≤"><a class="header" href="#–ó–∞–≥—Ä—É–∑–∫–∞-npm-–ø–∞–∫–µ—Ç–æ–≤">–ó–∞–≥—Ä—É–∑–∫–∞ npm-–ø–∞–∫–µ—Ç–æ–≤</a></h3>
<pre><code class="language-javascript">// –ó–∞–≥—Ä—É–∑–∫–∞ –ø–∞–∫–µ—Ç–∞ –∏–∑ node_modules
const WebSocket = require('ws');
</code></pre>
<h3 id="–ó–∞–≥—Ä—É–∑–∫–∞-–ª–æ–∫–∞–ª—å–Ω—ã—Ö-–º–æ–¥—É–ª–µ–π"><a class="header" href="#–ó–∞–≥—Ä—É–∑–∫–∞-–ª–æ–∫–∞–ª—å–Ω—ã—Ö-–º–æ–¥—É–ª–µ–π">–ó–∞–≥—Ä—É–∑–∫–∞ –ª–æ–∫–∞–ª—å–Ω—ã—Ö –º–æ–¥—É–ª–µ–π</a></h3>
<pre><code class="language-javascript">// –û—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã–π –ø—É—Ç—å
const myModule = require('./file1-export');

// –ê–±—Å–æ–ª—é—Ç–Ω—ã–π –ø—É—Ç—å
const myModule = require('/absolute/path/to/module');
</code></pre>
<hr />
<h2 id="–§—É–Ω–∫—Ü–∏—è-require-–∏-–µ—ë-—Å–≤–æ–π—Å—Ç–≤–∞"><a class="header" href="#–§—É–Ω–∫—Ü–∏—è-require-–∏-–µ—ë-—Å–≤–æ–π—Å—Ç–≤–∞">–§—É–Ω–∫—Ü–∏—è require –∏ –µ—ë —Å–≤–æ–π—Å—Ç–≤–∞</a></h2>
<h3 id="requireresolve"><a class="header" href="#requireresolve">require.resolve()</a></h3>
<p>–ü—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã–π –ø—É—Ç—å –∫ –º–æ–¥—É–ª—é –≤ –∞–±—Å–æ–ª—é—Ç–Ω—ã–π –±–µ–∑ –∑–∞–≥—Ä—É–∑–∫–∏ –º–æ–¥—É–ª—è.</p>
<pre><code class="language-javascript">const modulePath = require.resolve('./file1-export');
console.log(modulePath); // –í—ã–≤–µ–¥–µ—Ç –∞–±—Å–æ–ª—é—Ç–Ω—ã–π –ø—É—Ç—å –∫ —Ñ–∞–π–ª—É
</code></pre>
<h3 id="requirecache"><a class="header" href="#requirecache">require.cache</a></h3>
<p>–û–±—ä–µ–∫—Ç-–∫–æ–ª–ª–µ–∫—Ü–∏—è –≤—Å–µ—Ö –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã—Ö –∏ –∑–∞–∫—ç—à–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –º–æ–¥—É–ª–µ–π.</p>
<pre><code class="language-javascript">// –ü—Ä–æ—Å–º–æ—Ç—Ä –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–Ω–æ–º –º–æ–¥—É–ª–µ
const modulePath = require.resolve('./file1-export');
const cachedModule = require.cache[modulePath];

console.log(cachedModule);
// {
//   id: '/–∞–±—Å–æ–ª—é—Ç–Ω—ã–π/–ø—É—Ç—å/–∫/–º–æ–¥—É–ª—é',
//   path: '/–∞–±—Å–æ–ª—é—Ç–Ω—ã–π/–ø—É—Ç—å/–∫/–¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏',
//   exports: { /* —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ */ },
//   filename: '/–∞–±—Å–æ–ª—é—Ç–Ω—ã–π/–ø—É—Ç—å/–∫/–º–æ–¥—É–ª—é',
//   loaded: true,
//   children: [ /* –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —ç—Ç–æ–≥–æ –º–æ–¥—É–ª—è */ ],
//   paths: [ /* –ø—É—Ç–∏ –ø–æ–∏—Å–∫–∞ –º–æ–¥—É–ª–µ–π */ ]
// }
</code></pre>
<hr />
<h2 id="–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ-–º–æ–¥—É–ª–µ–π-–∏-–ø–∞—Ç—Ç–µ—Ä–Ω-singleton"><a class="header" href="#–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ-–º–æ–¥—É–ª–µ–π-–∏-–ø–∞—Ç—Ç–µ—Ä–Ω-singleton">–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –º–æ–¥—É–ª–µ–π –∏ –ø–∞—Ç—Ç–µ—Ä–Ω Singleton</a></h2>
<h3 id="–ü—Ä–∏–Ω—Ü–∏–ø-—Ä–∞–±–æ—Ç—ã-–∫—ç—à–∞"><a class="header" href="#–ü—Ä–∏–Ω—Ü–∏–ø-—Ä–∞–±–æ—Ç—ã-–∫—ç—à–∞">–ü—Ä–∏–Ω—Ü–∏–ø —Ä–∞–±–æ—Ç—ã –∫—ç—à–∞</a></h3>
<p><strong>–ö–ª—é—á–µ–≤–∞—è –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç—å</strong>: –ö–æ–≥–¥–∞ –º–æ–¥—É–ª—å –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ <code>require</code>, –æ–Ω –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —Ä–∞–∑ –∏ –∑–∞—Ç–µ–º –∫—ç—à–∏—Ä—É–µ—Ç—Å—è. –í—Å–µ –ø–æ—Å–ª–µ–¥—É—é—â–∏–µ –≤—ã–∑–æ–≤—ã <code>require</code> –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç –æ–¥–∏–Ω –∏ —Ç–æ—Ç –∂–µ –æ–±—ä–µ–∫—Ç (—Å—Å—ã–ª–∫—É).</p>
<h4 id="–î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è-—Å–∏–Ω–≥–ª—Ç–æ–Ω–∞"><a class="header" href="#–î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è-—Å–∏–Ω–≥–ª—Ç–æ–Ω–∞">–î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è —Å–∏–Ω–≥–ª—Ç–æ–Ω–∞</a></h4>
<p><strong>–ú–æ–¥—É–ª—å file1-export.js:</strong></p>
<pre><code class="language-javascript">const collection = new Map();

module.exports = {
  collection
};
</code></pre>
<p><strong>–§–∞–π–ª 5-singleton.js:</strong></p>
<pre><code class="language-javascript">const module1 = require('./file1-export');

// –ú–æ–¥–∏—Ñ–∏—Ü–∏—Ä—É–µ–º –∫–æ–ª–ª–µ–∫—Ü–∏—é
module1.collection.set('key', 'value');

console.log(module1.collection.get('key')); // 'value'
</code></pre>
<p><strong>–§–∞–π–ª 6-global.js:</strong></p>
<pre><code class="language-javascript">// –°–Ω–∞—á–∞–ª–∞ –∑–∞–≥—Ä—É–∂–∞–µ–º —Ñ–∞–π–ª, –∫–æ—Ç–æ—Ä—ã–π –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä—É–µ—Ç –º–æ–¥—É–ª—å
require('./5-singleton');

// –¢–µ–ø–µ—Ä—å –∑–∞–≥—Ä—É–∂–∞–µ–º —Ç–æ—Ç –∂–µ –º–æ–¥—É–ª—å
const module2 = require('./file1-export');

console.log(module2.collection.get('key')); // 'value' - –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å–æ—Ö—Ä–∞–Ω–∏–ª–∏—Å—å!
</code></pre>
<p><strong>–í—ã–≤–æ–¥</strong>: <code>module1.collection</code> –∏ <code>module2.collection</code> —É–∫–∞–∑—ã–≤–∞—é—Ç –Ω–∞ –æ–¥–∏–Ω –∏ —Ç–æ—Ç –∂–µ –æ–±—ä–µ–∫—Ç Map –≤ –ø–∞–º—è—Ç–∏.</p>
<h3 id="–û–ø–∞—Å–Ω–æ—Å—Ç–∏-–º—É—Ç–∞–±–µ–ª—å–Ω–æ—Å—Ç–∏"><a class="header" href="#–û–ø–∞—Å–Ω–æ—Å—Ç–∏-–º—É—Ç–∞–±–µ–ª—å–Ω–æ—Å—Ç–∏">–û–ø–∞—Å–Ω–æ—Å—Ç–∏ –º—É—Ç–∞–±–µ–ª—å–Ω–æ—Å—Ç–∏</a></h3>
<p>–ò–∑-–∑–∞ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è –≤–æ–∑–º–æ–∂–Ω—ã —Å–ª–µ–¥—É—é—â–∏–µ –ø—Ä–æ–±–ª–µ–º—ã:</p>
<ol>
<li>
<p><strong>–ù–µ–ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è</strong></p>
<ul>
<li>–û–¥–∏–Ω –º–æ–¥—É–ª—å –º–æ–∂–µ—Ç –∏–∑–º–µ–Ω–∏—Ç—å —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –æ–±—ä–µ–∫—Ç</li>
<li>–≠—Ç–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è –±—É–¥—É—Ç –≤–∏–¥–Ω—ã –≤–æ –≤—Å–µ—Ö –º–æ–¥—É–ª—è—Ö, –∫–æ—Ç–æ—Ä—ã–µ –µ–≥–æ –∏–º–ø–æ—Ä—Ç–∏—Ä—É—é—Ç</li>
</ul>
</li>
<li>
<p><strong>–°–ª–æ–∂–Ω–æ—Å—Ç—å –æ—Ç–ª–∞–¥–∫–∏</strong></p>
<ul>
<li>–¢—Ä—É–¥–Ω–æ –æ—Ç—Å–ª–µ–¥–∏—Ç—å, –∫—Ç–æ –∏ –∫–æ–≥–¥–∞ –∏–∑–º–µ–Ω–∏–ª —Å–æ—Å—Ç–æ—è–Ω–∏–µ</li>
<li>–û—Å–æ–±–µ–Ω–Ω–æ –ø—Ä–æ–±–ª–µ–º–∞—Ç–∏—á–Ω–æ —Å —Ç—Ä–∞–Ω–∑–∏—Ç–∏–≤–Ω—ã–º–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏</li>
</ul>
</li>
</ol>
<h4 id="–ü—Ä–∏–º–µ—Ä-monkey-patching-–≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã—Ö-–º–æ–¥—É–ª–µ–π"><a class="header" href="#–ü—Ä–∏–º–µ—Ä-monkey-patching-–≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã—Ö-–º–æ–¥—É–ª–µ–π">–ü—Ä–∏–º–µ—Ä: Monkey Patching –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã—Ö –º–æ–¥—É–ª–µ–π</a></h4>
<pre><code class="language-javascript">const fs = require('node:fs');

// –°–æ—Ö—Ä–∞–Ω—è–µ–º –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é
const originalReadFile = fs.readFile;

// –ü–æ–¥–º–µ–Ω—è–µ–º —Ñ—É–Ω–∫—Ü–∏—é
fs.readFile = function(path, options, callback) {
  console.log('–ü–µ—Ä–µ—Ö–≤–∞—á–µ–Ω–æ —á—Ç–µ–Ω–∏–µ —Ñ–∞–π–ª–∞:', path);

  // –í—ã–∑—ã–≤–∞–µ–º –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é
  return originalReadFile.call(this, path, options, (...args) =&gt; {
    console.log('–§–∞–π–ª –ø—Ä–æ—á–∏—Ç–∞–Ω, —Ä–∞–∑–º–µ—Ä –±—É—Ñ–µ—Ä–∞:', args[1]?.length);
    callback(...args);
  });
};

// –¢–µ–ø–µ—Ä—å –≤ –ª—é–±–æ–º –º–µ—Å—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, –≥–¥–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è fs.readFile,
// –±—É–¥–µ—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å—Å—è –Ω–∞—à–∞ –æ–±—ë—Ä—Ç–∫–∞!
</code></pre>
<p><strong>–û–ø–∞—Å–Ω–æ—Å—Ç—å</strong>: –õ—é–±–∞—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –º–æ–∂–µ—Ç –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ –º–æ–¥—É–ª–∏ Node.js –∏–ª–∏ –≥–ª–æ–±–∞–ª—å–Ω—ã–µ –ø—Ä–æ—Ç–æ—Ç–∏–ø—ã, —á—Ç–æ –ø—Ä–∏–≤–µ–¥—ë—Ç –∫:</p>
<ul>
<li>–ù–µ–ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–æ–º—É –ø–æ–≤–µ–¥–µ–Ω–∏—é</li>
<li>–°–ª–æ–∂–Ω–æ—Å—Ç–∏ –≤ –∞—É–¥–∏—Ç–µ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏</li>
<li>–ü—Ä–æ–±–ª–µ–º–∞–º —Å –æ—Ç–ª–∞–¥–∫–æ–π</li>
</ul>
<h3 id="–û—á–∏—Å—Ç–∫–∞-–∫—ç—à–∞"><a class="header" href="#–û—á–∏—Å—Ç–∫–∞-–∫—ç—à–∞">–û—á–∏—Å—Ç–∫–∞ –∫—ç—à–∞</a></h3>
<p>–ú–æ–∂–Ω–æ –≤—Ä—É—á–Ω—É—é —É–¥–∞–ª–∏—Ç—å –º–æ–¥—É–ª—å –∏–∑ –∫—ç—à–∞ –¥–ª—è –ø–æ–≤—Ç–æ—Ä–Ω–æ–π –∑–∞–≥—Ä—É–∑–∫–∏:</p>
<pre><code class="language-javascript">const module1 = require('./file1-export');

// –£–¥–∞–ª—è–µ–º –∏–∑ –∫—ç—à–∞
const modulePath = require.resolve('./file1-export');
delete require.cache[modulePath];

// –ó–∞–≥—Ä—É–∂–∞–µ–º —Å–Ω–æ–≤–∞ - –±—É–¥–µ—Ç —Å–æ–∑–¥–∞–Ω –Ω–æ–≤—ã–π –æ–±—ä–µ–∫—Ç
const module2 = require('./file1-export');

console.log(module1 === module2); // false - —Ä–∞–∑–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã!
</code></pre>
<p><strong>–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ</strong>: –≠—Ç–æ –Ω–µ –∑–∞—â–∏—â–∞–µ—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é –æ—Ç –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏–π, —Ç–∞–∫ –∫–∞–∫:</p>
<ul>
<li>–î—Ä—É–≥–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –º–æ–≥–ª–∏ –∑–∞–≥—Ä—É–∑–∏—Ç—å –º–æ–¥—É–ª—å –¥–æ –∏–ª–∏ –ø–æ—Å–ª–µ –æ—á–∏—Å—Ç–∫–∏</li>
<li>–ù–µ–≤–æ–∑–º–æ–∂–Ω–æ –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä–æ–≤–∞—Ç—å –º–æ–º–µ–Ω—Ç –∑–∞–≥—Ä—É–∑–∫–∏ –≤–æ –≤—Å–µ—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è—Ö</li>
</ul>
<hr />
<h2 id="–ê–ª–≥–æ—Ä–∏—Ç–º-–ø–æ–∏—Å–∫–∞-–º–æ–¥—É–ª–µ–π"><a class="header" href="#–ê–ª–≥–æ—Ä–∏—Ç–º-–ø–æ–∏—Å–∫–∞-–º–æ–¥—É–ª–µ–π">–ê–ª–≥–æ—Ä–∏—Ç–º –ø–æ–∏—Å–∫–∞ –º–æ–¥—É–ª–µ–π</a></h2>
<h3 id="–ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å-–ø–æ–∏—Å–∫–∞-–¥–ª—è-require"><a class="header" href="#–ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å-–ø–æ–∏—Å–∫–∞-–¥–ª—è-require">–ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –ø–æ–∏—Å–∫–∞ –¥–ª—è require()</a></h3>
<p>–ö–æ–≥–¥–∞ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è <code>require('module-name')</code> (–±–µ–∑ –ø—Ä–µ—Ñ–∏–∫—Å–∞ <code>./</code> –∏–ª–∏ <code>/</code>), Node.js –∏—â–µ—Ç –º–æ–¥—É–ª—å –≤ —Å–ª–µ–¥—É—é—â–∏—Ö –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è—Ö:</p>
<pre><code class="language-javascript">// –ü—Ä–∏–º–µ—Ä –º–∞—Å—Å–∏–≤–∞ paths –∏–∑ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –º–æ–¥—É–ª—è
[
  '/path/to/current/directory/node_modules',
  '/path/to/parent/directory/node_modules',
  '/path/to/grandparent/directory/node_modules',
  // ... –¥–æ –∫–æ—Ä–Ω—è —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã
  '/node_modules'
]
</code></pre>
<p><strong>–ü—Ä–æ—Ü–µ—Å—Å –ø–æ–∏—Å–∫–∞:</strong></p>
<ol>
<li>–¢–µ–∫—É—â–∞—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è ‚Üí <code>./node_modules</code></li>
<li>–†–æ–¥–∏—Ç–µ–ª—å—Å–∫–∞—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è ‚Üí <code>../node_modules</code></li>
<li>–î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –≤—ã—à–µ ‚Üí <code>../../node_modules</code></li>
<li>–ü—Ä–æ–¥–æ–ª–∂–∞–µ—Ç—Å—è –¥–æ –∫–æ—Ä–Ω—è —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã</li>
</ol>
<h3 id="–ü–æ—Ä—è–¥–æ–∫-—Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è-—Ä–∞—Å—à–∏—Ä–µ–Ω–∏–π-—Ñ–∞–π–ª–æ–≤"><a class="header" href="#–ü–æ—Ä—è–¥–æ–∫-—Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è-—Ä–∞—Å—à–∏—Ä–µ–Ω–∏–π-—Ñ–∞–π–ª–æ–≤">–ü–æ—Ä—è–¥–æ–∫ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–π —Ñ–∞–π–ª–æ–≤</a></h3>
<p>–ï—Å–ª–∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ –Ω–µ —É–∫–∞–∑–∞–Ω–æ, Node.js –ø—Ä–æ–±—É–µ—Ç –≤ —Å–ª–µ–¥—É—é—â–µ–º –ø–æ—Ä—è–¥–∫–µ:</p>
<ol>
<li><code>.js</code> - JavaScript-—Ñ–∞–π–ª (CommonJS)</li>
<li><code>.json</code> - JSON-—Ñ–∞–π–ª</li>
<li><code>.node</code> - –Ω–∞—Ç–∏–≤–Ω–æ–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ C++</li>
<li><code>.mjs</code> - ECMAScript-–º–æ–¥—É–ª—å (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è ECMAScript modules)</li>
</ol>
<p><strong>–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è</strong>: –í—Å–µ–≥–¥–∞ —É–∫–∞–∑—ã–≤–∞–π—Ç–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ —è–≤–Ω–æ –¥–ª—è —É—Å–∫–æ—Ä–µ–Ω–∏—è –∑–∞–≥—Ä—É–∑–∫–∏ –∏ –∏–∑–±–µ–∂–∞–Ω–∏—è –Ω–µ–æ–¥–Ω–æ–∑–Ω–∞—á–Ω–æ—Å—Ç–∏.</p>
<hr />
<h2 id="ecmascript-–º–æ–¥—É–ª–∏-esm"><a class="header" href="#ecmascript-–º–æ–¥—É–ª–∏-esm">ECMAScript –º–æ–¥—É–ª–∏ (ESM)</a></h2>
<h3 id="–û—Ç–ª–∏—á–∏—è-–æ—Ç-commonjs"><a class="header" href="#–û—Ç–ª–∏—á–∏—è-–æ—Ç-commonjs">–û—Ç–ª–∏—á–∏—è –æ—Ç CommonJS</a></h3>
<p><strong>–°–∏–Ω—Ç–∞–∫—Å–∏—Å —ç–∫—Å–ø–æ—Ä—Ç–∞:</strong></p>
<pre><code class="language-javascript">// CommonJS
module.exports = {
  myFunction,
  MyClass
};

// ECMAScript –º–æ–¥—É–ª–∏
export {
  myFunction,
  MyClass
};
</code></pre>
<p><strong>–°–∏–Ω—Ç–∞–∫—Å–∏—Å –∏–º–ø–æ—Ä—Ç–∞:</strong></p>
<pre><code class="language-javascript">// CommonJS
const { myFunction, MyClass } = require('./module');

// ECMAScript –º–æ–¥—É–ª–∏
import { myFunction, MyClass } from './module.mjs';
</code></pre>
<h3 id="–†–∞—Å—à–∏—Ä–µ–Ω–∏—è-—Ñ–∞–π–ª–æ–≤"><a class="header" href="#–†–∞—Å—à–∏—Ä–µ–Ω–∏—è-—Ñ–∞–π–ª–æ–≤">–†–∞—Å—à–∏—Ä–µ–Ω–∏—è —Ñ–∞–π–ª–æ–≤</a></h3>
<ul>
<li><code>.mjs</code> - ECMAScript –º–æ–¥—É–ª—å</li>
<li><code>.cjs</code> - CommonJS –º–æ–¥—É–ª—å (—è–≤–Ω–æ–µ —É–∫–∞–∑–∞–Ω–∏–µ)</li>
<li><code>.js</code> - –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ <code>type</code> –≤ <code>package.json</code></li>
</ul>
<h3 id="–ü—Ä–∏–º–µ—Ä-ecmascript-–º–æ–¥—É–ª—è-file1-exportmjs"><a class="header" href="#–ü—Ä–∏–º–µ—Ä-ecmascript-–º–æ–¥—É–ª—è-file1-exportmjs">–ü—Ä–∏–º–µ—Ä ECMAScript –º–æ–¥—É–ª—è (file1-export.mjs)</a></h3>
<pre><code class="language-javascript">// –≠–∫—Å–ø–æ—Ä—Ç –∏–º–µ–Ω–æ–≤–∞–Ω–Ω—ã—Ö –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–æ–≤
export const myFunction = () =&gt; {
  console.log('ES –º–æ–¥—É–ª—å —Ñ—É–Ω–∫—Ü–∏—è');
};

export class MyClass {
  constructor(name) {
    this.name = name;
  }
}

export const collection = new Map();
</code></pre>
<h3 id="–ò–º–ø–æ—Ä—Ç-ecmascript-–º–æ–¥—É–ª–µ–π"><a class="header" href="#–ò–º–ø–æ—Ä—Ç-ecmascript-–º–æ–¥—É–ª–µ–π">–ò–º–ø–æ—Ä—Ç ECMAScript –º–æ–¥—É–ª–µ–π</a></h3>
<pre><code class="language-javascript">// –ò–º–ø–æ—Ä—Ç –∏–º–µ–Ω–æ–≤–∞–Ω–Ω—ã—Ö —ç–∫—Å–ø–æ—Ä—Ç–æ–≤
import { myFunction, MyClass, collection } from './file1-export.mjs';

// –ò–º–ø–æ—Ä—Ç –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã—Ö –º–æ–¥—É–ª–µ–π
import * as events from 'node:events';
</code></pre>
<h3 id="–°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å-–∏–º–ø–æ—Ä—Ç-commonjs-–∏–∑-esm"><a class="header" href="#–°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å-–∏–º–ø–æ—Ä—Ç-commonjs-–∏–∑-esm">–°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å: –∏–º–ø–æ—Ä—Ç CommonJS –∏–∑ ESM</a></h3>
<p>ECMAScript –º–æ–¥—É–ª–∏ –º–æ–≥—É—Ç –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å CommonJS –º–æ–¥—É–ª–∏:</p>
<pre><code class="language-javascript">// –ò–º–ø–æ—Ä—Ç CommonJS –º–æ–¥—É–ª—è –∏–∑ ESM
import fs from 'node:fs'; // default import –¥–ª—è CommonJS
import { readFile } from 'node:fs'; // –∏–º–µ–Ω–æ–≤–∞–Ω–Ω—ã–π –∏–º–ø–æ—Ä—Ç

// –ò–º–ø–æ—Ä—Ç –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ CommonJS –º–æ–¥—É–ª—è
import myModule from './commonjs-module.js';
</code></pre>
<p><strong>–í–∞–∂–Ω–æ</strong>: –†–µ–∑—É–ª—å—Ç–∞—Ç –∏–º–ø–æ—Ä—Ç–∞ –∏–¥–µ–Ω—Ç–∏—á–µ–Ω, –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç —Ç–æ–≥–æ, –æ—Ç–∫—É–¥–∞ –∏–º–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç—Å—è (CommonJS –∏–ª–∏ ESM).</p>
<hr />
<h2 id="–î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π-–∏–º–ø–æ—Ä—Ç"><a class="header" href="#–î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π-–∏–º–ø–æ—Ä—Ç">–î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π –∏–º–ø–æ—Ä—Ç</a></h2>
<h3 id="–°–∏–Ω—Ç–∞–∫—Å–∏—Å-–∏-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ"><a class="header" href="#–°–∏–Ω—Ç–∞–∫—Å–∏—Å-–∏-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ">–°–∏–Ω—Ç–∞–∫—Å–∏—Å –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ</a></h3>
<p>–î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π –∏–º–ø–æ—Ä—Ç –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç Promise –∏ –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –∫–∞–∫ –≤ CommonJS, —Ç–∞–∫ –∏ –≤ ESM.</p>
<pre><code class="language-javascript">// –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π –∏–º–ø–æ—Ä—Ç –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç Promise
const eventsPromise = import('node:events');

eventsPromise.then((events) =&gt; {
  console.log(events); // –º–æ–¥—É–ª—å events
});

// –° async/await
const events = await import('node:events');
console.log(events);
</code></pre>
<h3 id="top-level-await"><a class="header" href="#top-level-await">Top-level await</a></h3>
<p><strong>–í ECMAScript –º–æ–¥—É–ª—è—Ö (.mjs):</strong></p>
<pre><code class="language-javascript">// –ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å await –≤ –∫–æ—Ä–Ω–µ —Ñ–∞–π–ª–∞
const events = await import('node:events');
console.log(events.EventEmitter);
</code></pre>
<p><strong>–í CommonJS –º–æ–¥—É–ª—è—Ö (.js —Å "use strict"):</strong></p>
<pre><code class="language-javascript">'use strict';

// await –Ω–µ–ª—å–∑—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ –∫–æ—Ä–Ω–µ
// await import('node:events'); // –û—à–∏–±–∫–∞!

// –ù–æ –º–æ–∂–Ω–æ –≤–Ω—É—Ç—Ä–∏ async —Ñ—É–Ω–∫—Ü–∏–∏
(async () =&gt; {
  const events = await import('node:events');
  console.log(events);
})();
</code></pre>
<hr />
<h2 id="–ü–æ–ª—É—á–µ–Ω–∏–µ-require-–≤-ecmascript-–º–æ–¥—É–ª—è—Ö"><a class="header" href="#–ü–æ–ª—É—á–µ–Ω–∏–µ-require-–≤-ecmascript-–º–æ–¥—É–ª—è—Ö">–ü–æ–ª—É—á–µ–Ω–∏–µ require –≤ ECMAScript –º–æ–¥—É–ª—è—Ö</a></h2>
<p>ECMAScript –º–æ–¥—É–ª–∏ –Ω–µ –∏–º–µ—é—Ç –≤—Å—Ç—Ä–æ–µ–Ω–Ω–æ–≥–æ <code>require</code>. –î–ª—è –µ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –Ω—É–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å –≤—Ä—É—á–Ω—É—é:</p>
<pre><code class="language-javascript">import { createRequire } from 'node:module';
import { fileURLToPath } from 'node:url';

// –ü–æ–ª—É—á–∞–µ–º –ø—É—Ç—å –∫ —Ç–µ–∫—É—â–µ–º—É —Ñ–∞–π–ª—É —á–µ—Ä–µ–∑ import.meta.url
const __filename = fileURLToPath(import.meta.url);

// –°–æ–∑–¥–∞—ë–º require –¥–ª—è —Ç–µ–∫—É—â–µ–≥–æ –º–æ–¥—É–ª—è
const require = createRequire(import.meta.url);

// –¢–µ–ø–µ—Ä—å –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å require
const fs = require('node:fs');
const ws = require('ws'); // npm –ø–∞–∫–µ—Ç
</code></pre>
<h3 id="importmeta"><a class="header" href="#importmeta">import.meta</a></h3>
<p>–û–±—ä–µ–∫—Ç <code>import.meta</code> —Å–æ–¥–µ—Ä–∂–∏—Ç –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –æ —Ç–µ–∫—É—â–µ–º –º–æ–¥—É–ª–µ:</p>
<pre><code class="language-javascript">console.log(import.meta);
// {
//   url: 'file:///absolute/path/to/module.mjs'
// }
</code></pre>
<p><strong>–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ:</strong></p>
<ul>
<li>–ü–æ–ª—É—á–µ–Ω–∏–µ –ø—É—Ç–∏ –∫ —Ç–µ–∫—É—â–µ–º—É —Ñ–∞–π–ª—É</li>
<li>–°–æ–∑–¥–∞–Ω–∏–µ <code>require</code> –≤ ESM</li>
<li>–ó–∞–≥—Ä—É–∑–∫–∞ —Ä–µ—Å—É—Ä—Å–æ–≤ –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ –º–æ–¥—É–ª—è</li>
</ul>
<hr />
<h2 id="–°–æ–∑–¥–∞–Ω–∏–µ-—Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–π-—Å–∏—Å—Ç–µ–º—ã-–º–æ–¥—É–ª—å–Ω–æ—Å—Ç–∏"><a class="header" href="#–°–æ–∑–¥–∞–Ω–∏–µ-—Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–π-—Å–∏—Å—Ç–µ–º—ã-–º–æ–¥—É–ª—å–Ω–æ—Å—Ç–∏">–°–æ–∑–¥–∞–Ω–∏–µ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã –º–æ–¥—É–ª—å–Ω–æ—Å—Ç–∏</a></h2>
<h3 id="–ù–∞–∏–≤–Ω–∞—è-—Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è-commonjs"><a class="header" href="#–ù–∞–∏–≤–Ω–∞—è-—Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è-commonjs">–ù–∞–∏–≤–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è CommonJS</a></h3>
<p>–†–∞—Å—Å–º–æ—Ç—Ä–∏–º, –∫–∞–∫ —Å–æ–∑–¥–∞—Ç—å –ø—Ä–æ—Å—Ç—É—é —Å–∏—Å—Ç–µ–º—É –º–æ–¥—É–ª—å–Ω–æ—Å—Ç–∏, –ø–æ—Ö–æ–∂—É—é –Ω–∞ CommonJS:</p>
<pre><code class="language-javascript">const fs = require('node:fs').promises;
const vm = require('node:vm');

async function load(filename, sandbox = {}) {
  // 1. –ß–∏—Ç–∞–µ–º —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ñ–∞–π–ª–∞
  const source = await fs.readFile(filename, 'utf8');

  // 2. –û–±–æ—Ä–∞—á–∏–≤–∞–µ–º –∏—Å—Ö–æ–¥–Ω–∏–∫ –≤ —Ñ—É–Ω–∫—Ü–∏—é
  const wrapper =
    `(require, module, __filename, __dirname) =&gt; {\n` +
    source +
    `\n}`;

  // 3. –°–æ–∑–¥–∞—ë–º —Å–∫—Ä–∏–ø—Ç
  const script = new vm.Script(wrapper, { filename });

  // 4. –°–æ–∑–¥–∞—ë–º –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç (sandbox)
  const context = vm.createContext(
    Object.freeze({ ...sandbox })
  );

  // 5. –í—ã–ø–æ–ª–Ω—è–µ–º —Å–∫—Ä–∏–ø—Ç –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ
  const wrappedFunction = script.runInContext(context, {
    timeout: 5000,
    displayErrors: false
  });

  // 6. –°–æ–∑–¥–∞—ë–º –æ–±—ä–µ–∫—Ç module –¥–ª—è —ç–∫—Å–ø–æ—Ä—Ç–∞
  const module = { exports: {} };

  // 7. –°–æ–∑–¥–∞—ë–º –ø—Å–µ–≤–¥–æ-require (–∑–∞–≥–ª—É—à–∫—É)
  const require = (name) =&gt; {
    console.log('–í—ã–∑–≤–∞–Ω require –¥–ª—è:', name);
    // –ó–¥–µ—Å—å –º–æ–∂–µ—Ç –±—ã—Ç—å —Ä–µ–∫—É—Ä—Å–∏–≤–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞
  };

  // 8. –í—ã–∑—ã–≤–∞–µ–º –æ–±—ë—Ä–Ω—É—Ç—É—é —Ñ—É–Ω–∫—Ü–∏—é —Å –Ω—É–∂–Ω—ã–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏
  wrappedFunction(
    require,
    module,
    filename,
    path.dirname(filename)
  );

  // 9. –í–æ–∑–≤—Ä–∞—â–∞–µ–º —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ
  return module.exports;
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
const myModule = await load('./file1-export.js', {
  // –ú–æ–∂–µ–º –ø–æ–¥–º–µ–Ω–∏—Ç—å –≥–ª–æ–±–∞–ª—å–Ω—ã–µ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã
  Map: class PseudoMap extends Map {
    constructor() {
      super();
      console.log('–°–æ–∑–¥–∞–Ω PseudoMap!');
    }
  }
});
</code></pre>
<p><strong>–ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:</strong></p>
<ol>
<li><strong>–ß—Ç–µ–Ω–∏–µ —Ñ–∞–π–ª–∞</strong> - –ø–æ–ª—É—á–∞–µ–º –∏—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥ –º–æ–¥—É–ª—è</li>
<li><strong>–û–±—ë—Ä—Ç–∫–∞</strong> - –¥–æ–±–∞–≤–ª—è–µ–º –ø–∞—Ä–∞–º–µ—Ç—Ä—ã <code>require</code>, <code>module</code>, <code>__filename</code>, <code>__dirname</code></li>
<li><strong>–ö–æ–º–ø–∏–ª—è—Ü–∏—è</strong> - —Å–æ–∑–¥–∞—ë–º VM-—Å–∫—Ä–∏–ø—Ç –∏–∑ –æ–±—ë—Ä–Ω—É—Ç–æ–≥–æ –∫–æ–¥–∞</li>
<li><strong>–ò–∑–æ–ª—è—Ü–∏—è</strong> - —Å–æ–∑–¥–∞—ë–º –æ—Ç–¥–µ–ª—å–Ω—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è (sandbox)</li>
<li><strong>–í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ</strong> - –∑–∞–ø—É—Å–∫–∞–µ–º —Å–∫—Ä–∏–ø—Ç —Å –≤–Ω–µ–¥—Ä—ë–Ω–Ω—ã–º–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏</li>
<li><strong>–≠–∫—Å–ø–æ—Ä—Ç</strong> - –≤–æ–∑–≤—Ä–∞—â–∞–µ–º <code>module.exports</code></li>
</ol>
<h3 id="–†–µ–∞–ª—å–Ω–∞—è-—Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è-–≤-nodejs"><a class="header" href="#–†–µ–∞–ª—å–Ω–∞—è-—Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è-–≤-nodejs">–†–µ–∞–ª—å–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –≤ Node.js</a></h3>
<p>–≠—Ç–æ —É–ø—Ä–æ—â—ë–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è. –í —Ä–µ–∞–ª—å–Ω–æ–º –∑–∞–≥—Ä—É–∑—á–∏–∫–µ Node.js (lib/internal/modules/cjs/loader.js):</p>
<pre><code class="language-javascript">// –ò–∑ –∏—Å—Ö–æ–¥–Ω–∏–∫–æ–≤ Node.js
const wrapper = [
  '(function (exports, require, module, __filename, __dirname) { ',
  '\n});'
];

function wrap(script) {
  return wrapper[0] + script + wrapper[1];
}
</code></pre>
<p><strong>–û—Ç–ª–∏—á–∏—è –æ—Ç –Ω–∞—à–µ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏:</strong></p>
<ul>
<li>–ò—Å–ø–æ–ª—å–∑—É–µ—Ç –æ–±—ã—á–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é –≤–º–µ—Å—Ç–æ —Å—Ç—Ä–µ–ª–æ—á–Ω–æ–π</li>
<li>–ë–æ–ª–µ–µ —Å–ª–æ–∂–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫</li>
<li>–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –∫—ç—à–µ–º –º–æ–¥—É–ª–µ–π</li>
<li>–ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ü–∏–∫–ª–∏—á–µ—Å–∫–∏—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π</li>
</ul>
<hr />
<h2 id="–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–∞—è-—Å–∏—Å—Ç–µ–º–∞-–º–æ–¥—É–ª—å–Ω–æ—Å—Ç–∏"><a class="header" href="#–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–∞—è-—Å–∏—Å—Ç–µ–º–∞-–º–æ–¥—É–ª—å–Ω–æ—Å—Ç–∏">–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –º–æ–¥—É–ª—å–Ω–æ—Å—Ç–∏</a></h2>
<p>–°–æ–∑–¥–∞–¥–∏–º —Å–∏—Å—Ç–µ–º—É –º–æ–¥—É–ª—å–Ω–æ—Å—Ç–∏, –≥–¥–µ –º–æ–¥—É–ª—å - —ç—Ç–æ –ø—Ä–æ—Å—Ç–æ –æ–±—ä–µ–∫—Ç —Å –º–µ—Ç–æ–¥–∞–º–∏:</p>
<h3 id="–§–æ—Ä–º–∞—Ç-–º–æ–¥—É–ª—è-examplemm"><a class="header" href="#–§–æ—Ä–º–∞—Ç-–º–æ–¥—É–ª—è-examplemm">–§–æ—Ä–º–∞—Ç –º–æ–¥—É–ª—è (example.mm)</a></h3>
<pre><code class="language-javascript">({
  // –û–±—ã—á–Ω—ã–µ –º–µ—Ç–æ–¥—ã
  method1() {
    console.log('Method 1');
  },

  // –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ –º–µ—Ç–æ–¥—ã
  async method2() {
    return 'Result';
  },

  // –°–≤–æ–π—Å—Ç–≤–∞
  constant: 42,
  collection: new Map()
})
</code></pre>
<h3 id="–ó–∞–≥—Ä—É–∑—á–∏–∫-–¥–ª—è-–∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–æ–π-—Å–∏—Å—Ç–µ–º—ã"><a class="header" href="#–ó–∞–≥—Ä—É–∑—á–∏–∫-–¥–ª—è-–∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–æ–π-—Å–∏—Å—Ç–µ–º—ã">–ó–∞–≥—Ä—É–∑—á–∏–∫ –¥–ª—è –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã</a></h3>
<pre><code class="language-javascript">const fs = require('node:fs').promises;
const vm = require('node:vm');

async function loadModule(filename, sandbox = {}) {
  // 1. –ß–∏—Ç–∞–µ–º –∏—Å—Ö–æ–¥–Ω–∏–∫
  const source = await fs.readFile(filename, 'utf8');

  // 2. –î–æ–±–∞–≤–ª—è–µ–º –ø–µ—Ä–µ–≤–æ–¥ —Å—Ç—Ä–æ–∫–∏ (–¥–ª—è –æ—Ç–ª–∞–¥–∫–∏)
  const wrappedSource = '\n' + source + '\n';

  // 3. –°–æ–∑–¥–∞—ë–º —Å–∫—Ä–∏–ø—Ç
  const script = new vm.Script(wrappedSource, { filename });

  // 4. –°–æ–∑–¥–∞—ë–º –∫–æ–Ω—Ç–µ–∫—Å—Ç
  const context = vm.createContext({ ...sandbox });

  // 5. –í—ã–ø–æ–ª–Ω—è–µ–º –∏ —Å—Ä–∞–∑—É –≤–æ–∑–≤—Ä–∞—â–∞–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç
  return script.runInContext(context, {
    timeout: 5000
  });
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
const myModule = await loadModule('./example.mm', {
  console // –ø–µ—Ä–µ–¥–∞—ë–º console –≤ sandbox
});

console.log(myModule.constant); // 42
myModule.method1(); // 'Method 1'
</code></pre>
<p><strong>–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:</strong></p>
<ul>
<li>–ü—Ä–æ—â–µ, —á–µ–º CommonJS (–Ω–µ—Ç –æ–±—ë—Ä—Ç–∫–∏ –≤ —Ñ—É–Ω–∫—Ü–∏—é)</li>
<li>–ú–æ–¥—É–ª—å —Å—Ä–∞–∑—É –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ–±—ä–µ–∫—Ç</li>
<li>–ú–µ–Ω—å—à–µ –∑–∞–º—ã–∫–∞–Ω–∏–π</li>
<li>–ú–æ–∂–Ω–æ –ø–∏—Å–∞—Ç—å –∫–æ–¥ –¥–æ –æ–±—ä—è–≤–ª–µ–Ω–∏—è –æ–±—ä–µ–∫—Ç–∞</li>
</ul>
<p><strong>–ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏:</strong></p>
<ul>
<li>–ù–µ—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∏–∑–∞—Ü–∏–∏</li>
<li>–ú–µ–Ω—å—à–µ —ç–∫–æ—Å–∏—Å—Ç–µ–º–Ω–æ–π –ø–æ–¥–¥–µ—Ä–∂–∫–∏</li>
</ul>
<hr />
<h2 id="–†–∞–±–æ—Ç–∞-—Å-–ø–∞–∫–µ—Ç–∞–º–∏-packages"><a class="header" href="#–†–∞–±–æ—Ç–∞-—Å-–ø–∞–∫–µ—Ç–∞–º–∏-packages">–†–∞–±–æ—Ç–∞ —Å –ø–∞–∫–µ—Ç–∞–º–∏ (packages)</a></h2>
<h3 id="–°—Ç—Ä—É–∫—Ç—É—Ä–∞-–ø–∞–∫–µ—Ç–∞"><a class="header" href="#–°—Ç—Ä—É–∫—Ç—É—Ä–∞-–ø–∞–∫–µ—Ç–∞">–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–∞–∫–µ—Ç–∞</a></h3>
<p>–ü–∞–∫–µ—Ç - —ç—Ç–æ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è —Å —Ñ–∞–π–ª–æ–º <code>package.json</code>, –∫–æ—Ç–æ—Ä—ã–π –æ–ø–∏—Å—ã–≤–∞–µ—Ç –ø–∞–∫–µ—Ç.</p>
<h4 id="–ë–∞–∑–æ–≤—ã–π-packagejson"><a class="header" href="#–ë–∞–∑–æ–≤—ã–π-packagejson">–ë–∞–∑–æ–≤—ã–π package.json</a></h4>
<pre><code class="language-json">{
  "name": "my-package",
  "version": "1.0.0",
  "author": "Author Name",
  "main": "main.js"
}
</code></pre>
<p><strong>–ö–ª—é—á–µ–≤—ã–µ –ø–æ–ª—è:</strong></p>
<ul>
<li><code>name</code> - –∏–º—è –ø–∞–∫–µ—Ç–∞</li>
<li><code>version</code> - –≤–µ—Ä—Å–∏—è (semver)</li>
<li><code>main</code> - —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é <code>index.js</code>)</li>
<li><code>author</code> - –∞–≤—Ç–æ—Ä –ø–∞–∫–µ—Ç–∞</li>
</ul>
<h3 id="–†–∞–∑–ª–∏—á–Ω—ã–µ-—Å–ø–æ—Å–æ–±—ã-–∑–∞–≥—Ä—É–∑–∫–∏-–ø–∞–∫–µ—Ç–æ–≤"><a class="header" href="#–†–∞–∑–ª–∏—á–Ω—ã–µ-—Å–ø–æ—Å–æ–±—ã-–∑–∞–≥—Ä—É–∑–∫–∏-–ø–∞–∫–µ—Ç–æ–≤">–†–∞–∑–ª–∏—á–Ω—ã–µ —Å–ø–æ—Å–æ–±—ã –∑–∞–≥—Ä—É–∑–∫–∏ –ø–∞–∫–µ—Ç–æ–≤</a></h3>
<h4 id="1-–ó–∞–≥—Ä—É–∑–∫–∞-–∫–æ—Ä–Ω—è-–ø–∞–∫–µ—Ç–∞"><a class="header" href="#1-–ó–∞–≥—Ä—É–∑–∫–∞-–∫–æ—Ä–Ω—è-–ø–∞–∫–µ—Ç–∞">1. –ó–∞–≥—Ä—É–∑–∫–∞ –∫–æ—Ä–Ω—è –ø–∞–∫–µ—Ç–∞</a></h4>
<pre><code class="language-javascript">// –í—Å–µ —ç–∫–≤–∏–≤–∞–ª–µ–Ω—Ç–Ω—ã - –∑–∞–≥—Ä—É–∑—è—Ç main.js –∏–∑ package.json
require('./package1');
require('./package1/');
require('./package1/.');
</code></pre>
<h4 id="2-–ó–∞–≥—Ä—É–∑–∫–∞-–∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ-—Ñ–∞–π–ª–∞"><a class="header" href="#2-–ó–∞–≥—Ä—É–∑–∫–∞-–∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ-—Ñ–∞–π–ª–∞">2. –ó–∞–≥—Ä—É–∑–∫–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Ñ–∞–π–ª–∞</a></h4>
<pre><code class="language-javascript">// –Ø–≤–Ω–æ —É–∫–∞–∑—ã–≤–∞–µ–º —Ñ–∞–π–ª - package.json –∏–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç—Å—è
require('./package1/main');
require('./package1/main.js');
</code></pre>
<h4 id="3-–ó–∞–≥—Ä—É–∑–∫–∞-–∏–∑-node_modules"><a class="header" href="#3-–ó–∞–≥—Ä—É–∑–∫–∞-–∏–∑-node_modules">3. –ó–∞–≥—Ä—É–∑–∫–∞ –∏–∑ node_modules</a></h4>
<pre><code class="language-javascript">// –ò—â–µ—Ç –≤ node_modules –ø–æ –∞–ª–≥–æ—Ä–∏—Ç–º—É –ø–æ–∏—Å–∫–∞
const pkg = require('package-name');
</code></pre>
<h4 id="4-–ó–∞–≥—Ä—É–∑–∫–∞-–ø–æ–¥–º–æ–¥—É–ª–µ–π"><a class="header" href="#4-–ó–∞–≥—Ä—É–∑–∫–∞-–ø–æ–¥–º–æ–¥—É–ª–µ–π">4. –ó–∞–≥—Ä—É–∑–∫–∞ –ø–æ–¥–º–æ–¥—É–ª–µ–π</a></h4>
<pre><code class="language-javascript">// –ó–∞–≥—Ä—É–∑–∏—Ç utils.js –∏–∑ –ø–∞–∫–µ—Ç–∞
require('./package1/utils');
require('./package1/utils.js');
</code></pre>
<p><strong>–ü–æ—Ä—è–¥–æ–∫ –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–π:</strong></p>
<ol>
<li>–ü—Ä–æ–≤–µ—Ä—è–µ—Ç –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é <code>utils/</code> —Å <code>package.json</code></li>
<li>–ü—Ä–æ–≤–µ—Ä—è–µ—Ç —Ñ–∞–π–ª <code>utils.json</code></li>
<li>–ü—Ä–æ–≤–µ—Ä—è–µ—Ç —Ñ–∞–π–ª <code>utils.js</code></li>
<li>–ü—Ä–æ–≤–µ—Ä—è–µ—Ç —Ñ–∞–π–ª <code>utils.cjs</code></li>
</ol>
<p><strong>–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:</strong> –í—Å–µ–≥–¥–∞ —É–∫–∞–∑—ã–≤–∞–π—Ç–µ <code>.js</code> —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ –¥–ª—è —Ñ–∞–π–ª–æ–≤, —á—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å –ª–∏—à–Ω–∏—Ö –ø—Ä–æ–≤–µ—Ä–æ–∫.</p>
<h3 id="–ó–∞–≥—Ä—É–∑–∫–∞-json-—Ñ–∞–π–ª–æ–≤"><a class="header" href="#–ó–∞–≥—Ä—É–∑–∫–∞-json-—Ñ–∞–π–ª–æ–≤">–ó–∞–≥—Ä—É–∑–∫–∞ JSON —Ñ–∞–π–ª–æ–≤</a></h3>
<p>CommonJS <code>require</code> —É–º–µ–µ—Ç –∑–∞–≥—Ä—É–∂–∞—Ç—å JSON:</p>
<pre><code class="language-javascript">// –ó–∞–≥—Ä—É–∑–∫–∞ package.json –∫–∞–∫ –æ–±—ä–µ–∫—Ç
const packageInfo = require('./package1/package.json');

console.log(packageInfo.name); // 'my-package'
console.log(packageInfo.version); // '1.0.0'
</code></pre>
<hr />
<h2 id="ecmascript-–ø–∞–∫–µ—Ç—ã"><a class="header" href="#ecmascript-–ø–∞–∫–µ—Ç—ã">ECMAScript –ø–∞–∫–µ—Ç—ã</a></h2>
<h3 id="–£–∫–∞–∑–∞–Ω–∏–µ-—Ç–∏–ø–∞-–º–æ–¥—É–ª—å–Ω–æ–π-—Å–∏—Å—Ç–µ–º—ã"><a class="header" href="#–£–∫–∞–∑–∞–Ω–∏–µ-—Ç–∏–ø–∞-–º–æ–¥—É–ª—å–Ω–æ–π-—Å–∏—Å—Ç–µ–º—ã">–£–∫–∞–∑–∞–Ω–∏–µ —Ç–∏–ø–∞ –º–æ–¥—É–ª—å–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã</a></h3>
<p>–í <code>package.json</code> –º–æ–∂–Ω–æ —É–∫–∞–∑–∞—Ç—å <code>type</code>:</p>
<pre><code class="language-json">{
  "name": "esm-package",
  "version": "1.0.0",
  "type": "module",
  "main": "main.js"
}
</code></pre>
<p><strong>–≠—Ñ—Ñ–µ–∫—Ç:</strong></p>
<ul>
<li>–§–∞–π–ª—ã <code>.js</code> —Ç–µ–ø–µ—Ä—å —Ç—Ä–∞–∫—Ç—É—é—Ç—Å—è –∫–∞–∫ ECMAScript –º–æ–¥—É–ª–∏</li>
<li>–î–ª—è CommonJS –Ω—É–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ <code>.cjs</code></li>
<li>–ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å <code>import</code>/<code>export</code> –≤ <code>.js</code> —Ñ–∞–π–ª–∞—Ö</li>
</ul>
<h3 id="–ü—Ä–∏–º–µ—Ä-mainjs-—Å-type-module"><a class="header" href="#–ü—Ä–∏–º–µ—Ä-mainjs-—Å-type-module">–ü—Ä–∏–º–µ—Ä main.js —Å type: "module"</a></h3>
<pre><code class="language-javascript">// main.js –≤–æ—Å–ø—Ä–∏–Ω–∏–º–∞–µ—Ç—Å—è –∫–∞–∫ ESM –±–ª–∞–≥–æ–¥–∞—Ä—è "type": "module"
export const myFunction = () =&gt; {
  console.log('ESM —Ñ—É–Ω–∫—Ü–∏—è');
};

export class MyClass {
  constructor() {
    console.log('ESM –∫–ª–∞—Å—Å');
  }
}
</code></pre>
<hr />
<h2 id="–≠–∫—Å–ø–æ—Ä—Ç-–Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö-—Ç–æ—á–µ–∫-–≤—Ö–æ–¥–∞"><a class="header" href="#–≠–∫—Å–ø–æ—Ä—Ç-–Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö-—Ç–æ—á–µ–∫-–≤—Ö–æ–¥–∞">–≠–∫—Å–ø–æ—Ä—Ç –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Ç–æ—á–µ–∫ –≤—Ö–æ–¥–∞</a></h2>
<h3 id="–ü–æ–ª–µ-exports-–≤-packagejson"><a class="header" href="#–ü–æ–ª–µ-exports-–≤-packagejson">–ü–æ–ª–µ exports –≤ package.json</a></h3>
<p>–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π —Å–ø–æ—Å–æ–± –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Ç–æ—á–µ–∫ –≤—Ö–æ–¥–∞:</p>
<pre><code class="language-json">{
  "name": "multi-entry-package",
  "version": "1.0.0",
  "type": "module",
  "exports": {
    ".": "./main.mjs",
    "./utils": "./utils.mjs"
  }
}
</code></pre>
<p><strong>–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:</strong></p>
<pre><code class="language-javascript">// –ó–∞–≥—Ä—É–∂–∞–µ—Ç main.mjs
import pkg from 'multi-entry-package';

// –ó–∞–≥—Ä—É–∂–∞–µ—Ç utils.mjs
import utils from 'multi-entry-package/utils';
</code></pre>
<h3 id="conditional-exports-—É—Å–ª–æ–≤–Ω—ã–π-—ç–∫—Å–ø–æ—Ä—Ç"><a class="header" href="#conditional-exports-—É—Å–ª–æ–≤–Ω—ã–π-—ç–∫—Å–ø–æ—Ä—Ç">Conditional Exports (—É—Å–ª–æ–≤–Ω—ã–π —ç–∫—Å–ø–æ—Ä—Ç)</a></h3>
<p>–ú–æ–∂–Ω–æ –æ–ø—Ä–µ–¥–µ–ª—è—Ç—å —Ä–∞–∑–Ω—ã–µ —Ç–æ—á–∫–∏ –≤—Ö–æ–¥–∞ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Å–∏—Å—Ç–µ–º –º–æ–¥—É–ª–µ–π:</p>
<pre><code class="language-json">{
  "name": "universal-package",
  "version": "1.0.0",
  "exports": {
    ".": {
      "import": "./main.mjs",
      "require": "./main.cjs"
    }
  }
}
</code></pre>
<p><strong>–ü–æ–≤–µ–¥–µ–Ω–∏–µ:</strong></p>
<pre><code class="language-javascript">// –ò–∑ ECMAScript –º–æ–¥—É–ª—è - –∑–∞–≥—Ä—É–∑–∏—Ç main.mjs
import pkg from 'universal-package';

// –ò–∑ CommonJS –º–æ–¥—É–ª—è - –∑–∞–≥—Ä—É–∑–∏—Ç main.cjs
const pkg = require('universal-package');
</code></pre>
<p><strong>–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ:</strong></p>
<ul>
<li>–°–æ–∑–¥–∞–Ω–∏–µ —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã—Ö –±–∏–±–ª–∏–æ—Ç–µ–∫</li>
<li>–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏–π</li>
<li>–ü–æ–¥–¥–µ—Ä–∂–∫–∞ legacy –∫–æ–¥–∞</li>
</ul>
<hr />
<h2 id="–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ-–∏-–∏–∑–æ–ª—è—Ü–∏—è-–º–æ–¥—É–ª–µ–π"><a class="header" href="#–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ-–∏-–∏–∑–æ–ª—è—Ü–∏—è-–º–æ–¥—É–ª–µ–π">–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –∏–∑–æ–ª—è—Ü–∏—è –º–æ–¥—É–ª–µ–π</a></h2>
<h3 id="–û–±—â–∏–π-–∫—ç—à-–¥–ª—è-require-–∏-import"><a class="header" href="#–û–±—â–∏–π-–∫—ç—à-–¥–ª—è-require-–∏-import">–û–±—â–∏–π –∫—ç—à –¥–ª—è require –∏ import?</a></h3>
<p>–ü—Ä–æ–≤–µ—Ä–∏–º, –∏—Å–ø–æ–ª—å–∑—É—é—Ç –ª–∏ <code>require</code> –∏ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π <code>import</code> –æ–¥–∏–Ω –∫—ç—à:</p>
<pre><code class="language-javascript">import { createRequire } from 'node:module';

// –°–æ–∑–¥–∞—ë–º require –≤ ESM
const require = createRequire(import.meta.url);

// –ó–∞–≥—Ä—É–∂–∞–µ–º –º–æ–¥—É–ª—å —á–µ—Ä–µ–∑ import
const m1 = await import('node:module');

// –ó–∞–≥—Ä—É–∂–∞–µ–º —á–µ—Ä–µ–∑ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π import —Å–Ω–æ–≤–∞
const m2 = await import('node:module');

// –ó–∞–≥—Ä—É–∂–∞–µ–º —á–µ—Ä–µ–∑ require
const m3 = require('node:module');

// –ó–∞–≥—Ä—É–∂–∞–µ–º —á–µ—Ä–µ–∑ require —Å–Ω–æ–≤–∞
const m4 = require('node:module');

// –ü—Ä–æ–≤–µ—Ä—è–µ–º –∏–¥–µ–Ω—Ç–∏—á–Ω–æ—Å—Ç—å
console.log(m1 === m2); // true - –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π import –∫—ç—à–∏—Ä—É–µ—Ç
console.log(m3 === m4); // true - require —Ç–æ–∂–µ –∫—ç—à–∏—Ä—É–µ—Ç
console.log(m1 === m3); // false (!) - —Ä–∞–∑–Ω—ã–µ –∫—ç—à–∏!
</code></pre>
<p><strong>–í—ã–≤–æ–¥:</strong></p>
<ul>
<li><code>import</code> –∏ <code>require</code> –∏—Å–ø–æ–ª—å–∑—É—é—Ç <strong>—Ä–∞–∑–Ω—ã–µ –∫—ç—à–∏</strong></li>
<li>–ö–∞–∂–¥–∞—è —Å–∏—Å—Ç–µ–º–∞ –º–æ–¥—É–ª–µ–π –∏–º–µ–µ—Ç —Å–≤–æ–π cache</li>
<li>–≠—Ç–æ –º–æ–∂–µ—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ –∑–∞–≥—Ä—É–∑–∫–µ –æ–¥–Ω–æ–≥–æ –º–æ–¥—É–ª—è –¥–≤–∞–∂–¥—ã</li>
</ul>
<h3 id="conditional-exports-–∏-–∫—ç—à"><a class="header" href="#conditional-exports-–∏-–∫—ç—à">Conditional exports –∏ –∫—ç—à</a></h3>
<p>–ü—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ conditional exports:</p>
<pre><code class="language-javascript">// package.json:
// "exports": {
//   ".": {
//     "import": "./main.mjs",
//     "require": "./main.cjs"
//   }
// }

const m1 = require('package'); // –∑–∞–≥—Ä—É–∂–∞–µ—Ç main.cjs
const m2 = await import('package'); // –∑–∞–≥—Ä—É–∂–∞–µ—Ç main.mjs

console.log(m1 === m2); // false - —ç—Ç–æ —Ä–∞–∑–Ω—ã–µ —Ñ–∞–π–ª—ã!
</code></pre>
<p><strong>–í–∞–∂–Ω–æ:</strong> –ï—Å–ª–∏ –ø–∞–∫–µ—Ç –∏–º–µ–µ—Ç —Ä–∞–∑–Ω—ã–µ —Ç–æ—á–∫–∏ –≤—Ö–æ–¥–∞ –¥–ª—è <code>import</code> –∏ <code>require</code>, –æ–Ω–∏ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –∫–∞–∫ –æ—Ç–¥–µ–ª—å–Ω—ã–µ –º–æ–¥—É–ª–∏ –∏ –∏–º–µ—é—Ç –æ—Ç–¥–µ–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ.</p>
<hr />
<h2 id="–ü–µ—Å–æ—á–Ω–∏—Ü–∞-sandbox-–∏-–∏–∑–æ–ª—è—Ü–∏—è-–∫–æ–¥–∞"><a class="header" href="#–ü–µ—Å–æ—á–Ω–∏—Ü–∞-sandbox-–∏-–∏–∑–æ–ª—è—Ü–∏—è-–∫–æ–¥–∞">–ü–µ—Å–æ—á–Ω–∏—Ü–∞ (Sandbox) –∏ –∏–∑–æ–ª—è—Ü–∏—è –∫–æ–¥–∞</a></h2>
<h3 id="–°–æ–∑–¥–∞–Ω–∏–µ-–∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ-–∫–æ–Ω—Ç–µ–∫—Å—Ç–∞"><a class="header" href="#–°–æ–∑–¥–∞–Ω–∏–µ-–∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ-–∫–æ–Ω—Ç–µ–∫—Å—Ç–∞">–°–æ–∑–¥–∞–Ω–∏–µ –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞</a></h3>
<p>–ò—Å–ø–æ–ª—å–∑—É—è <code>vm.createContext</code>, –º–æ–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ:</p>
<pre><code class="language-javascript">const vm = require('node:vm');

// –°–æ–∑–¥–∞—ë–º sandbox —Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–º API
const sandbox = {
  console: {
    log: (...args) =&gt; {
      console.log('[SANDBOX]', ...args);
    }
  },
  // –ü–æ–¥–º–µ–Ω—è–µ–º –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ –∫–ª–∞—Å—Å—ã
  Map: class RestrictedMap extends Map {
    set(key, value) {
      console.log('Map.set –≤—ã–∑–≤–∞–Ω:', key, value);
      return super.set(key, value);
    }
  }
};

// –°–æ–∑–¥–∞—ë–º –∫–æ–Ω—Ç–µ–∫—Å—Ç
const context = vm.createContext(sandbox);

// –ö–æ–¥, –∫–æ—Ç–æ—Ä—ã–π –≤—ã–ø–æ–ª–Ω–∏—Ç—Å—è –≤ –ø–µ—Å–æ—á–Ω–∏—Ü–µ
const code = `
  const map = new Map();
  map.set('key', 'value');
  console.log(map.get('key'));
`;

// –í—ã–ø–æ–ª–Ω—è–µ–º –≤ –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω–æ–º –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ
vm.runInContext(code, context, {
  timeout: 5000,
  displayErrors: false
});
</code></pre>
<p><strong>–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ:</strong></p>
<ul>
<li>–í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –Ω–µ–Ω–∞–¥—ë–∂–Ω–æ–≥–æ –∫–æ–¥–∞</li>
<li>–ò–∑–æ–ª—è—Ü–∏—è –ø–ª–∞–≥–∏–Ω–æ–≤</li>
<li>–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–∞ –∫ API</li>
<li>–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å mock-–æ–±—ä–µ–∫—Ç–∞–º–∏</li>
</ul>
<h3 id="–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è-–ø–µ—Å–æ—á–Ω–∏—Ü"><a class="header" href="#–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è-–ø–µ—Å–æ—á–Ω–∏—Ü">–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –ø–µ—Å–æ—á–Ω–∏—Ü</a></h3>
<p><strong>–í–∞–∂–Ω–æ:</strong> –ü–µ—Å–æ—á–Ω–∏—Ü—ã VM –≤ Node.js –Ω–µ —è–≤–ª—è—é—Ç—Å—è –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ–π –∑–∞—â–∏—Ç–æ–π:</p>
<ul>
<li>–í–æ–∑–º–æ–∂–µ–Ω –≤—ã—Ö–æ–¥ —á–µ—Ä–µ–∑ –ø—Ä–æ—Ç–æ—Ç–∏–ø—ã</li>
<li>–î–æ—Å—Ç—É–ø –∫ –Ω–∞—Ç–∏–≤–Ω—ã–º —Ñ—É–Ω–∫—Ü–∏—è–º</li>
<li>–ù–µ –∑–∞—â–∏—â–∞–µ—Ç –æ—Ç DoS (—Ä–∞—Å—Ö–æ–¥ CPU/–ø–∞–º—è—Ç–∏)</li>
</ul>
<p>–î–ª—è –Ω–∞—Å—Ç–æ—è—â–µ–π –∏–∑–æ–ª—è—Ü–∏–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ:</p>
<ul>
<li>Worker Threads</li>
<li>Child Processes</li>
<li>–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã (Docker)</li>
<li>–í–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ –º–∞—à–∏–Ω—ã</li>
</ul>
<hr />
<h2 id="–ó–∞—â–∏—Ç–∞-–æ—Ç-–º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏–π-–∏-monkey-patching"><a class="header" href="#–ó–∞—â–∏—Ç–∞-–æ—Ç-–º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏–π-–∏-monkey-patching">–ó–∞—â–∏—Ç–∞ –æ—Ç –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏–π –∏ monkey patching</a></h2>
<h3 id="–ü—Ä–æ–±–ª–µ–º–∞-5"><a class="header" href="#–ü—Ä–æ–±–ª–µ–º–∞-5">–ü—Ä–æ–±–ª–µ–º–∞</a></h3>
<p>–õ—é–±–∞—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –º–æ–∂–µ—Ç –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å:</p>
<ul>
<li>–í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ –º–æ–¥—É–ª–∏ Node.js</li>
<li>–ì–ª–æ–±–∞–ª—å–Ω—ã–µ –ø—Ä–æ—Ç–æ—Ç–∏–ø—ã (<code>Array.prototype</code>, <code>Object.prototype</code>)</li>
<li>–ì–ª–æ–±–∞–ª—å–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã</li>
</ul>
<h3 id="–†–µ—à–µ–Ω–∏—è"><a class="header" href="#–†–µ—à–µ–Ω–∏—è">–†–µ—à–µ–Ω–∏—è</a></h3>
<h4 id="1-–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ-objectfreeze"><a class="header" href="#1-–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ-objectfreeze">1. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Object.freeze</a></h4>
<pre><code class="language-javascript">// –ó–∞–º–æ—Ä–æ–∑–∫–∞ —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–µ–º—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤
const API = Object.freeze({
  method1() { },
  method2() { }
});

module.exports = API;
</code></pre>
<h4 id="2-–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ-–ø–µ—Å–æ—á–Ω–∏—Ü"><a class="header" href="#2-–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ-–ø–µ—Å–æ—á–Ω–∏—Ü">2. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–µ—Å–æ—á–Ω–∏—Ü</a></h4>
<pre><code class="language-javascript">// –ó–∞–ø—É—Å–∫ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –≤ –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω–æ–º –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ
const vm = require('node:vm');

const sandbox = vm.createContext({
  // –ö–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ–º–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ
});

// –ó–∞–≥—Ä—É–∑–∫–∞ –º–æ–¥—É–ª—è –≤ –ø–µ—Å–æ—á–Ω–∏—Ü–µ
</code></pre>
<h4 id="3-–ê—É–¥–∏—Ç-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π"><a class="header" href="#3-–ê—É–¥–∏—Ç-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π">3. –ê—É–¥–∏—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π</a></h4>
<ul>
<li>–†–µ–≥—É–ª—è—Ä–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π</li>
<li>–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ <code>npm audit</code></li>
<li>–ú–∏–Ω–∏–º–∏–∑–∞—Ü–∏—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π</li>
<li>Code review –≤–∞–∂–Ω—ã—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π</li>
</ul>
<h4 id="4-immutable-exports"><a class="header" href="#4-immutable-exports">4. Immutable exports</a></h4>
<pre><code class="language-javascript">// –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–µ–º —Ç–æ–ª—å–∫–æ —Ñ—É–Ω–∫—Ü–∏–∏ (–Ω–µ –æ–±—ä–µ–∫—Ç—ã)
module.exports = {
  createInstance() {
    return { /* –Ω–æ–≤—ã–π –æ–±—ä–µ–∫—Ç –∫–∞–∂–¥—ã–π —Ä–∞–∑ */ };
  }
};
</code></pre>
<hr />
<h2 id="–õ—É—á—à–∏–µ-–ø—Ä–∞–∫—Ç–∏–∫–∏-–º–æ–¥—É–ª—å–Ω–æ–π-—Å–∏—Å—Ç–µ–º—ã"><a class="header" href="#–õ—É—á—à–∏–µ-–ø—Ä–∞–∫—Ç–∏–∫–∏-–º–æ–¥—É–ª—å–Ω–æ–π-—Å–∏—Å—Ç–µ–º—ã">–õ—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏ –º–æ–¥—É–ª—å–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã</a></h2>
<h3 id="1-–Ø–≤–Ω–æ–µ-—É–∫–∞–∑–∞–Ω–∏–µ-—Ä–∞—Å—à–∏—Ä–µ–Ω–∏–π-–∏-–ø—Ä–µ—Ñ–∏–∫—Å–æ–≤"><a class="header" href="#1-–Ø–≤–Ω–æ–µ-—É–∫–∞–∑–∞–Ω–∏–µ-—Ä–∞—Å—à–∏—Ä–µ–Ω–∏–π-–∏-–ø—Ä–µ—Ñ–∏–∫—Å–æ–≤">1. –Ø–≤–Ω–æ–µ —É–∫–∞–∑–∞–Ω–∏–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–π –∏ –ø—Ä–µ—Ñ–∏–∫—Å–æ–≤</a></h3>
<pre><code class="language-javascript">// –•–æ—Ä–æ—à–æ
const fs = require('node:fs');
const myModule = require('./module.js');

// –ü–ª–æ—Ö–æ
const fs = require('fs'); // –º–æ–∂–µ—Ç –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤–∞—Ç—å —Å npm –ø–∞–∫–µ—Ç–æ–º
const myModule = require('./module'); // –ª–∏—à–Ω–∏–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–π
</code></pre>
<h3 id="2-immutable-exports"><a class="header" href="#2-immutable-exports">2. Immutable exports</a></h3>
<pre><code class="language-javascript">// –•–æ—Ä–æ—à–æ - –Ω–µ–∏–∑–º–µ–Ω—è–µ–º—ã–π API
module.exports = Object.freeze({
  method1: () =&gt; {},
  method2: () =&gt; {}
});

// –ü–ª–æ—Ö–æ - –º—É—Ç–∞–±–µ–ª—å–Ω—ã–π –æ–±—ä–µ–∫—Ç
module.exports = {
  data: new Map() // –º–æ–∂–µ—Ç –±—ã—Ç—å –∏–∑–º–µ–Ω—ë–Ω –∏–∑–≤–Ω–µ
};
</code></pre>
<h3 id="3-–ò–∑–±–µ–≥–∞–π—Ç–µ-–≥–ª–æ–±–∞–ª—å–Ω–æ–≥–æ-—Å–æ—Å—Ç–æ—è–Ω–∏—è"><a class="header" href="#3-–ò–∑–±–µ–≥–∞–π—Ç–µ-–≥–ª–æ–±–∞–ª—å–Ω–æ–≥–æ-—Å–æ—Å—Ç–æ—è–Ω–∏—è">3. –ò–∑–±–µ–≥–∞–π—Ç–µ –≥–ª–æ–±–∞–ª—å–Ω–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è</a></h3>
<pre><code class="language-javascript">// –ü–ª–æ—Ö–æ - –≥–ª–æ–±–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –≤ –º–æ–¥—É–ª–µ
let counter = 0;

module.exports = {
  increment() { counter++; },
  getCount() { return counter; }
};

// –•–æ—Ä–æ—à–æ - —Ñ–∞–±—Ä–∏–∫–∞ —ç–∫–∑–µ–º–ø–ª—è—Ä–æ–≤
module.exports = {
  createCounter() {
    let counter = 0;
    return {
      increment() { counter++; },
      getCount() { return counter; }
    };
  }
};
</code></pre>
<h3 id="4-–î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ-–∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤-–º–æ–¥—É–ª–µ–π"><a class="header" href="#4-–î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ-–∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤-–º–æ–¥—É–ª–µ–π">4. –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤ –º–æ–¥—É–ª–µ–π</a></h3>
<pre><code class="language-javascript">/**
 * –ú–æ–¥—É–ª—å –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
 * @module users
 */

/**
 * –°–æ–∑–¥–∞—ë—Ç –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
 * @param {string} name - –ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
 * @param {string} email - Email –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
 * @returns {Object} –û–±—ä–µ–∫—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
 */
function createUser(name, email) {
  return { name, email };
}

module.exports = { createUser };
</code></pre>
<h3 id="5-–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ-esm-–¥–ª—è-–Ω–æ–≤—ã—Ö-–ø—Ä–æ–µ–∫—Ç–æ–≤"><a class="header" href="#5-–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ-esm-–¥–ª—è-–Ω–æ–≤—ã—Ö-–ø—Ä–æ–µ–∫—Ç–æ–≤">5. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ ESM –¥–ª—è –Ω–æ–≤—ã—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤</a></h3>
<pre><code class="language-javascript">// –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –ø–æ–¥—Ö–æ–¥ - ECMAScript –º–æ–¥—É–ª–∏
// package.json: "type": "module"

// –Ø–≤–Ω—ã–π –∏–º–ø–æ—Ä—Ç
import { readFile } from 'node:fs/promises';
import { createServer } from 'node:http';

// –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞
const config = await import('./config.js');
</code></pre>
<hr />
<h2 id="–°—Ç—Ä—É–∫—Ç—É—Ä–∞-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è-–∏-—Å–ª–æ–∏"><a class="header" href="#–°—Ç—Ä—É–∫—Ç—É—Ä–∞-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è-–∏-—Å–ª–æ–∏">–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –∏ —Å–ª–æ–∏</a></h2>
<h3 id="–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ-–º–æ–¥—É–ª—å–Ω–æ–π-—Å–∏—Å—Ç–µ–º—ã-–¥–ª—è-—á–∏—Å—Ç–æ–π-–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã"><a class="header" href="#–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ-–º–æ–¥—É–ª—å–Ω–æ–π-—Å–∏—Å—Ç–µ–º—ã-–¥–ª—è-—á–∏—Å—Ç–æ–π-–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã">–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –º–æ–¥—É–ª—å–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã –¥–ª—è —á–∏—Å—Ç–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã</a></h3>
<p>–ú–æ–¥—É–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –ø–æ–∑–≤–æ–ª—è–µ—Ç –æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞—Ç—å –∫–æ–¥ –ø–æ –ø—Ä–∏–Ω—Ü–∏–ø–∞–º:</p>
<ol>
<li>
<p><strong>–†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏</strong></p>
<ul>
<li>–ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ –≤ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö –º–æ–¥—É–ª—è—Ö</li>
<li>–ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–Ω—ã–π –∫–æ–¥ –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω</li>
</ul>
</li>
<li>
<p><strong>Dependency Injection —á–µ—Ä–µ–∑ sandbox</strong></p>
<ul>
<li>–í–Ω–µ–¥—Ä–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π —á–µ—Ä–µ–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –º–æ–¥—É–ª—è</li>
<li>–ò–∑–æ–ª—è—Ü–∏—è —Å–ª–æ—ë–≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è</li>
</ul>
</li>
<li>
<p><strong>–ú–∏–Ω–∏–º–∏–∑–∞—Ü–∏—è coupling</strong></p>
<ul>
<li>–ú–æ–¥—É–ª–∏ –∑–Ω–∞—é—Ç –º–∏–Ω–∏–º—É–º –¥—Ä—É–≥ –æ –¥—Ä—É–≥–µ</li>
<li>–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —á–µ—Ä–µ–∑ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã</li>
</ul>
</li>
</ol>
<p><strong>–ü—Ä–∏–º–µ—Ä —Å—Ç—Ä—É–∫—Ç—É—Ä—ã:</strong></p>
<pre><code>app/
  ‚îú‚îÄ‚îÄ domain/          # –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ (—á–∏—Å—Ç—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏)
  ‚îÇ   ‚îú‚îÄ‚îÄ user.js
  ‚îÇ   ‚îî‚îÄ‚îÄ order.js
  ‚îú‚îÄ‚îÄ services/        # –°–µ—Ä–≤–∏—Å—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
  ‚îÇ   ‚îú‚îÄ‚îÄ userService.js
  ‚îÇ   ‚îî‚îÄ‚îÄ orderService.js
  ‚îú‚îÄ‚îÄ infrastructure/  # –î–µ—Ç–∞–ª–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏
  ‚îÇ   ‚îú‚îÄ‚îÄ database.js
  ‚îÇ   ‚îú‚îÄ‚îÄ http.js
  ‚îÇ   ‚îî‚îÄ‚îÄ logger.js
  ‚îî‚îÄ‚îÄ main.js         # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞, –∫–æ–º–ø–æ–∑–∏—Ü–∏—è
</code></pre>
<hr />
<h2 id="–ò—Ç–æ–≥–∏-–∏-–∫–ª—é—á–µ–≤—ã–µ-–º–æ–º–µ–Ω—Ç—ã"><a class="header" href="#–ò—Ç–æ–≥–∏-–∏-–∫–ª—é—á–µ–≤—ã–µ-–º–æ–º–µ–Ω—Ç—ã">–ò—Ç–æ–≥–∏ –∏ –∫–ª—é—á–µ–≤—ã–µ –º–æ–º–µ–Ω—Ç—ã</a></h2>
<h3 id="–û—Å–Ω–æ–≤–Ω—ã–µ-–∫–æ–Ω—Ü–µ–ø—Ü–∏–∏-4"><a class="header" href="#–û—Å–Ω–æ–≤–Ω—ã–µ-–∫–æ–Ω—Ü–µ–ø—Ü–∏–∏-4">–û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏</a></h3>
<ol>
<li>
<p><strong>–°–∏—Å—Ç–µ–º—ã –º–æ–¥—É–ª—å–Ω–æ—Å—Ç–∏ –≤ Node.js</strong></p>
<ul>
<li>CommonJS - —Ç—Ä–∞–¥–∏—Ü–∏–æ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ (<code>require</code>/<code>module.exports</code>)</li>
<li>ECMAScript Modules - —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π —Å—Ç–∞–Ω–¥–∞—Ä—Ç (<code>import</code>/<code>export</code>)</li>
<li>–û–±–µ —Å–∏—Å—Ç–µ–º—ã –º–æ–≥—É—Ç —Å–æ—Å—É—â–µ—Å—Ç–≤–æ–≤–∞—Ç—å –≤ –æ–¥–Ω–æ–º –ø—Ä–æ–µ–∫—Ç–µ</li>
</ul>
</li>
<li>
<p><strong>–ú–µ—Ö–∞–Ω–∏–∑–º –∑–∞–≥—Ä—É–∑–∫–∏</strong></p>
<ul>
<li>–ú–æ–¥—É–ª–∏ –æ–±–æ—Ä–∞—á–∏–≤–∞—é—Ç—Å—è –≤ —Ñ—É–Ω–∫—Ü–∏–∏ —Å –≤–Ω–µ–¥—Ä—ë–Ω–Ω—ã–º–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏</li>
<li>–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è <code>vm.Script</code> –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –≤ –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω–æ–º –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ</li>
<li>–ê–ª–≥–æ—Ä–∏—Ç–º –ø–æ–∏—Å–∫–∞ –º–æ–¥—É–ª–µ–π –∏–¥—ë—Ç –æ—Ç —Ç–µ–∫—É—â–µ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –≤–≤–µ—Ä—Ö</li>
</ul>
</li>
<li>
<p><strong>–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ</strong></p>
<ul>
<li><code>require</code> –∫—ç—à–∏—Ä—É–µ—Ç –º–æ–¥—É–ª–∏ (–ø–∞—Ç—Ç–µ—Ä–Ω Singleton)</li>
<li><code>import</code> –∏–º–µ–µ—Ç –æ—Ç–¥–µ–ª—å–Ω—ã–π –∫—ç—à</li>
<li>–û—á–∏—Å—Ç–∫–∞ –∫—ç—à–∞ –≤–æ–∑–º–æ–∂–Ω–∞, –Ω–æ –Ω–µ —Ä–µ—à–∞–µ—Ç –≤—Å–µ –ø—Ä–æ–±–ª–µ–º—ã</li>
</ul>
</li>
<li>
<p><strong>–ü–∞–∫–µ—Ç—ã</strong></p>
<ul>
<li>–û–ø–∏—Å—ã–≤–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ <code>package.json</code></li>
<li>–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ —Ç–æ—á–∫–∏ –≤—Ö–æ–¥–∞ (<code>exports</code>)</li>
<li>–ú–æ–≥—É—Ç –∏–º–µ—Ç—å —É—Å–ª–æ–≤–Ω—ã–π —ç–∫—Å–ø–æ—Ä—Ç –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Å–∏—Å—Ç–µ–º –º–æ–¥—É–ª–µ–π</li>
</ul>
</li>
<li>
<p><strong>–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å</strong></p>
<ul>
<li>Monkey patching - —Å–µ—Ä—å—ë–∑–Ω–∞—è —É–≥—Ä–æ–∑–∞</li>
<li>–ü–µ—Å–æ—á–Ω–∏—Ü—ã –æ–±–µ—Å–ø–µ—á–∏–≤–∞—é—Ç –±–∞–∑–æ–≤—É—é –∏–∑–æ–ª—è—Ü–∏—é</li>
<li>–¢—Ä–µ–±—É–µ—Ç—Å—è –∞—É–¥–∏—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π</li>
</ul>
</li>
</ol>
<h3 id="–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏"><a class="header" href="#–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏">–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏</a></h3>
<ol>
<li>–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø—Ä–µ—Ñ–∏–∫—Å <code>node:</code> –¥–ª—è –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã—Ö –º–æ–¥—É–ª–µ–π</li>
<li>–£–∫–∞–∑—ã–≤–∞–π—Ç–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è —Ñ–∞–π–ª–æ–≤ —è–≤–Ω–æ</li>
<li>–î–µ–ª–∞–π—Ç–µ —ç–∫—Å–ø–æ—Ä—Ç—ã –Ω–µ–∏–∑–º–µ–Ω—è–µ–º—ã–º–∏ (immutable)</li>
<li>–ò–∑–±–µ–≥–∞–π—Ç–µ –≥–ª–æ–±–∞–ª—å–Ω–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è –≤ –º–æ–¥—É–ª—è—Ö</li>
<li>–î–æ–∫—É–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ –∫–æ–Ω—Ç—Ä–∞–∫—Ç—ã –º–æ–¥—É–ª–µ–π</li>
<li>–ü—Ä–∏–º–µ–Ω—è–π—Ç–µ ESM –¥–ª—è –Ω–æ–≤—ã—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤</li>
<li>–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–µ—Å–æ—á–Ω–∏—Ü—ã –¥–ª—è –Ω–µ–Ω–∞–¥—ë–∂–Ω–æ–≥–æ –∫–æ–¥–∞</li>
</ol>
<h3 id="–î–∞–ª—å–Ω–µ–π—à–µ–µ-–∏–∑—É—á–µ–Ω–∏–µ-3"><a class="header" href="#–î–∞–ª—å–Ω–µ–π—à–µ–µ-–∏–∑—É—á–µ–Ω–∏–µ-3">–î–∞–ª—å–Ω–µ–π—à–µ–µ –∏–∑—É—á–µ–Ω–∏–µ</a></h3>
<ul>
<li>–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è Node.js –ø–æ –º–æ–¥—É–ª—è–º: https://nodejs.org/api/modules.html</li>
<li>ECMAScript Modules: https://nodejs.org/api/esm.html</li>
<li>VM API: https://nodejs.org/api/vm.html</li>
<li>Package.json exports: https://nodejs.org/api/packages.html#exports</li>
</ul>
<hr />
<h2 id="–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ-–∑–∞–¥–∞–Ω–∏—è-2"><a class="header" href="#–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ-–∑–∞–¥–∞–Ω–∏—è-2">–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –∑–∞–¥–∞–Ω–∏—è</a></h2>
<ol>
<li>
<p><strong>–°–æ–∑–¥–∞–π—Ç–µ —Å–≤–æ—é —Å–∏—Å—Ç–µ–º—É –º–æ–¥—É–ª—å–Ω–æ—Å—Ç–∏</strong></p>
<ul>
<li>–†–µ–∞–ª–∏–∑—É–π—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é <code>load()</code> —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –∫—ç—à–∞</li>
<li>–î–æ–±–∞–≤—å—Ç–µ —Ä–µ–∫—É—Ä—Å–∏–≤–Ω—É—é –∑–∞–≥—Ä—É–∑–∫—É –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π</li>
<li>–†–µ–∞–ª–∏–∑—É–π—Ç–µ –ø–µ—Å–æ—á–Ω–∏—Ü—É —Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è–º–∏</li>
</ul>
</li>
<li>
<p><strong>–ò—Å—Å–ª–µ–¥—É–π—Ç–µ –∫—ç—à –º–æ–¥—É–ª–µ–π</strong></p>
<ul>
<li>–ó–∞–≥—Ä—É–∑–∏—Ç–µ –º–æ–¥—É–ª—å –∏ –∏–∑—É—á–∏—Ç–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—É <code>require.cache</code></li>
<li>–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –æ—á–∏—Å—Ç–∏—Ç—å –∫—ç—à –∏ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç—å –º–æ–¥—É–ª—å</li>
<li>–ü—Ä–æ–≤–µ—Ä—å—Ç–µ, –∫–∞–∫ –∫—ç—à–∏—Ä—É—é—Ç—Å—è —Ü–∏–∫–ª–∏—á–µ—Å–∫–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏</li>
</ul>
</li>
<li>
<p><strong>–°–æ–∑–¥–∞–π—Ç–µ —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π –ø–∞–∫–µ—Ç</strong></p>
<ul>
<li>–ù–∞–ø–∏—à–∏—Ç–µ –ø–∞–∫–µ—Ç —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π CommonJS –∏ ESM</li>
<li>–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ conditional exports</li>
<li>–î–æ–±–∞–≤—å—Ç–µ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ —Ç–æ—á–∫–∏ –≤—Ö–æ–¥–∞</li>
</ul>
</li>
<li>
<p><strong>–ó–∞—â–∏—Ç–∞ –æ—Ç –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏–π</strong></p>
<ul>
<li>–°–æ–∑–¥–∞–π—Ç–µ –º–æ–¥—É–ª—å —Å immutable API</li>
<li>–†–µ–∞–ª–∏–∑—É–π—Ç–µ –ø–µ—Å–æ—á–Ω–∏—Ü—É —Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–º–∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—è–º–∏</li>
<li>–ù–∞–ø–∏—à–∏—Ç–µ —Ç–µ—Å—Ç—ã, –ø—Ä–æ–≤–µ—Ä—è—é—â–∏–µ –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏–∏</li>
</ul>
</li>
</ol>
<div style="break-before: page; page-break-before: always;"></div><h1 id="–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π-nodejs-–°–ª–æ–∏-–∏-–≤–Ω–µ–¥—Ä–µ–Ω–∏–µ-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π"><a class="header" href="#–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π-nodejs-–°–ª–æ–∏-–∏-–≤–Ω–µ–¥—Ä–µ–Ω–∏–µ-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π">–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π Node.js: –°–ª–æ–∏ –∏ –≤–Ω–µ–¥—Ä–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π</a></h1>
<h2 id="–û–±–∑–æ—Ä-13"><a class="header" href="#–û–±–∑–æ—Ä-13">–û–±–∑–æ—Ä</a></h2>
<p>–õ–µ–∫—Ü–∏—è –ø–æ—Å–≤—è—â–µ–Ω–∞ –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—é –º–Ω–æ–≥–æ—É—Ä–æ–≤–Ω–µ–≤–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π –Ω–∞ Node.js —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –≤–Ω–µ–¥—Ä–µ–Ω–∏—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π (Dependency Injection). –ú—ã —Ä–∞—Å—Å–º–æ—Ç—Ä–∏–º —ç–≤–æ–ª—é—Ü–∏—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã –æ—Ç –ø—Ä–æ—Å—Ç–æ–≥–æ Express-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –¥–æ —á–∏—Å—Ç–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã —Å —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ–º –Ω–∞ —Å–ª–æ–∏.</p>
<hr />
<h2 id="1-–ë–∞–∑–æ–≤–æ–µ-express-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ"><a class="header" href="#1-–ë–∞–∑–æ–≤–æ–µ-express-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ">1. –ë–∞–∑–æ–≤–æ–µ Express –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ</a></h2>
<h3 id="–°—Ç—Ä—É–∫—Ç—É—Ä–∞-–ø—Ä–æ–µ–∫—Ç–∞"><a class="header" href="#–°—Ç—Ä—É–∫—Ç—É—Ä–∞-–ø—Ä–æ–µ–∫—Ç–∞">–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞</a></h3>
<p>–ù–∞—á–∞–ª—å–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π –ø—Ä–æ—Å—Ç–æ–π REST API –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏, –∏—Å–ø–æ–ª—å–∑—É—é—â–∏–π:</p>
<ul>
<li><strong>Express</strong> - –≤–µ–±-—Ñ—Ä–µ–π–º–≤–æ—Ä–∫</li>
<li><strong>body-parser</strong> - –ø–∞—Ä—Å–∏–Ω–≥ JSON</li>
<li><strong>PostgreSQL</strong> (–±–∏–±–ª–∏–æ—Ç–µ–∫–∞ <code>pg</code>) - –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö</li>
</ul>
<h3 id="–ù–∞—Å—Ç—Ä–æ–π–∫–∞-–±–∞–∑—ã-–¥–∞–Ω–Ω—ã—Ö"><a class="header" href="#–ù–∞—Å—Ç—Ä–æ–π–∫–∞-–±–∞–∑—ã-–¥–∞–Ω–Ω—ã—Ö">–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö</a></h3>
<p><strong>–§–∞–π–ª—ã —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –ë–î:</strong></p>
<ul>
<li><code>install.sh</code> - —Å–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö</li>
<li><code>structure.sql</code> - —Å–æ–∑–¥–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü (CREATE TABLE, ALTER TABLE)</li>
<li><code>data.sql</code> - –∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã–º–∏ (INSERT)</li>
</ul>
<pre><code class="language-sql">-- –ü—Ä–∏–º–µ—Ä –∏–∑ data.sql
-- –ü–∞—Ä–æ–ª–∏ —Ö–µ—à–∏—Ä—É—é—Ç—Å—è, –Ω–æ –≤ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è—Ö —É–∫–∞–∑–∞–Ω—ã –æ—Ä–∏–≥–∏–Ω–∞–ª—ã
-- admin: 123456
-- marcus: marcus (–ª–æ–≥–∏–Ω –∏ –ø–∞—Ä–æ–ª—å —Å–æ–≤–ø–∞–¥–∞—é—Ç)
</code></pre>
<h3 id="–ü—Ä–∏–º–µ—Ä-express-—Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏"><a class="header" href="#–ü—Ä–∏–º–µ—Ä-express-—Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏">–ü—Ä–∏–º–µ—Ä Express —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏</a></h3>
<pre><code class="language-javascript">const express = require('express');
const bodyParser = require('body-parser');
const { Pool } = require('pg');

const app = express();
app.use(bodyParser.json());

// –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
const pool = new Pool({
  host: 'localhost',
  port: 5432,
  database: 'example',
  user: 'marcus'
});

// GET /user - –ø–æ–ª—É—á–∏—Ç—å –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
app.get('/user', async (req, res) =&gt; {
  const sql = 'SELECT * FROM users';
  try {
    const { rows } = await pool.query(sql);
    res.status(200).json(rows);
  } catch (err) {
    throw err;
  }
});

// POST /user - —Å–æ–∑–¥–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
app.post('/user', async (req, res) =&gt; {
  const { login, password } = req.body;
  const passwordHash = await hash(password);
  const sql = 'INSERT INTO users (login, password) VALUES ($1, $2) RETURNING id';
  try {
    const { rows } = await pool.query(sql, [login, passwordHash]);
    res.status(201).json({ id: rows[0].id });
  } catch (err) {
    throw err;
  }
});

// GET /user/:id - –ø–æ–ª—É—á–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–æ ID
app.get('/user/:id', async (req, res) =&gt; {
  const id = parseInt(req.params.id, 10);
  const sql = 'SELECT * FROM users WHERE id = $1';
  const { rows } = await pool.query(sql, [id]);
  res.status(200).json(rows[0]);
});

// PUT /user/:id - –æ–±–Ω–æ–≤–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
app.put('/user/:id', async (req, res) =&gt; {
  // –ê–Ω–∞–ª–æ–≥–∏—á–Ω–æ GET, –Ω–æ —Å UPDATE
});

// DELETE /user/:id - —É–¥–∞–ª–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
app.delete('/user/:id', async (req, res) =&gt; {
  // DELETE FROM users WHERE id = $1
});

app.listen(8000);
</code></pre>
<h3 id="–•–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ-–ø–∞—Ä–æ–ª–µ–π"><a class="header" href="#–•–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ-–ø–∞—Ä–æ–ª–µ–π">–•–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä–æ–ª–µ–π</a></h3>
<pre><code class="language-javascript">// hash.js
const crypto = require('crypto');

const hash = (password) =&gt; {
  const salt = crypto.randomBytes(16).toString('base64');
  return new Promise((resolve, reject) =&gt; {
    crypto.scrypt(password, salt, 64, (err, derivedKey) =&gt; {
      if (err) reject(err);
      const hash = derivedKey.toString('base64');
      resolve(`${salt}:${hash}`);
    });
  });
};

module.exports = { hash };
</code></pre>
<p><strong>–ü—Ä–æ–±–ª–µ–º—ã —ç—Ç–æ–≥–æ –ø–æ–¥—Ö–æ–¥–∞:</strong></p>
<ul>
<li>–ö–æ–¥ —Å–≤—è–∑–∞–Ω —Å –¥–µ—Ç–∞–ª—è–º–∏ HTTP –ø—Ä–æ—Ç–æ–∫–æ–ª–∞</li>
<li>–ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ —Å–º–µ—à–∞–Ω–∞ —Å —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω—ã–º —Å–ª–æ–µ–º</li>
<li>–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏: ~3.94 –ú–ë (Express + body-parser + pg)</li>
<li>–†–∞–∑–º–µ—Ä –∫–æ–¥–∞: 2.6 –ö–ë</li>
</ul>
<hr />
<h2 id="2-–û—Ç–∫–∞–∑-–æ—Ç-express---—Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π-—Ä–æ—É—Ç–∏–Ω–≥"><a class="header" href="#2-–û—Ç–∫–∞–∑-–æ—Ç-express---—Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π-—Ä–æ—É—Ç–∏–Ω–≥">2. –û—Ç–∫–∞–∑ –æ—Ç Express - —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π —Ä–æ—É—Ç–∏–Ω–≥</a></h2>
<h3 id="–°–æ–∑–¥–∞–Ω–∏–µ-—Ñ—É–Ω–∫—Ü–∏–∏-parseargs"><a class="header" href="#–°–æ–∑–¥–∞–Ω–∏–µ-—Ñ—É–Ω–∫—Ü–∏–∏-parseargs">–°–æ–∑–¥–∞–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ parseArgs</a></h3>
<p>–¢–∞–∫ –∫–∞–∫ body-parser –±–æ–ª—å—à–µ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è, —Å–æ–∑–¥–∞–µ–º —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é –¥–ª—è –ø–∞—Ä—Å–∏–Ω–≥–∞ JSON –∏–∑ request body:</p>
<pre><code class="language-javascript">// args.js
const parseArgs = async (req) =&gt; {
  const chunks = [];
  for await (const chunk of req) {
    chunks.push(chunk);
  }
  const buffer = Buffer.concat(chunks);
  const data = buffer.toString();
  return JSON.parse(data);
};
</code></pre>
<p><strong>–ü–æ—á–µ–º—É —Ç–∞–∫ –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ:</strong></p>
<ul>
<li>–ò—Å–ø–æ–ª—å–∑—É–µ–º <code>for await</code> –¥–ª—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–π –∏—Ç–µ—Ä–∞—Ü–∏–∏ –ø–æ –ø–æ—Ç–æ–∫—É</li>
<li>–°–æ–±–∏—Ä–∞–µ–º –±—É—Ñ–µ—Ä—ã –≤ –º–∞—Å—Å–∏–≤, –∞ –Ω–µ –∫–æ–Ω–∫–∞—Ç–µ–Ω–∏—Ä—É–µ–º —Å—Ç—Ä–æ–∫–∏</li>
<li>–û–¥–∏–Ω —Ä–∞–∑ –ø—Ä–µ–æ–±—Ä–∞–∑—É–µ–º –±—É—Ñ–µ—Ä –≤ —Å—Ç—Ä–æ–∫—É</li>
<li>–ü–∞—Ä—Å–∏–º JSON —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —Ä–∞–∑</li>
</ul>
<h3 id="–ù–æ–≤–∞—è-—Å—Ç—Ä—É–∫—Ç—É—Ä–∞-—Ä–æ—É—Ç–∏–Ω–≥–∞"><a class="header" href="#–ù–æ–≤–∞—è-—Å—Ç—Ä—É–∫—Ç—É—Ä–∞-—Ä–æ—É—Ç–∏–Ω–≥–∞">–ù–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ä–æ—É—Ç–∏–Ω–≥–∞</a></h3>
<pre><code class="language-javascript">// main.js (–≤—Ç–æ—Ä–æ–π –ø—Ä–∏–º–µ—Ä)
const http = require('http');
const pg = require('pg');
const { hash } = require('./hash');
const { parseArgs } = require('./args');

const pool = new pg.Pool({
  host: 'localhost',
  port: 5432,
  database: 'example',
  user: 'marcus'
});

// –†–æ—É—Ç–∏–Ω–≥ –∫–∞–∫ –æ–±—ä–µ–∫—Ç
const routing = {
  user: {
    get: async () =&gt; {
      const sql = 'SELECT * FROM users';
      const { rows } = await pool.query(sql);
      return rows;
    },

    post: async (login, password) =&gt; {
      const passwordHash = await hash(password);
      const sql = 'INSERT INTO users (login, password) VALUES ($1, $2) RETURNING id';
      const { rows } = await pool.query(sql, [login, passwordHash]);
      return { id: rows[0].id };
    },

    // –¥—Ä—É–≥–∏–µ –º–µ—Ç–æ–¥—ã...
  }
};
</code></pre>
<p><strong>–ö–ª—é—á–µ–≤–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ:</strong> –º–µ—Ç–æ–¥—ã —Ç–µ–ø–µ—Ä—å –ø—Ä–∏–Ω–∏–º–∞—é—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –ø—Ä–µ–¥–º–µ—Ç–Ω–æ–π –æ–±–ª–∞—Å—Ç–∏ (login, password), –∞ –Ω–µ request/response –æ–±—ä–µ–∫—Ç—ã.</p>
<h3 id="–ü—Ä–æ—Å—Ç–æ–π-http-—Å–µ—Ä–≤–µ—Ä"><a class="header" href="#–ü—Ä–æ—Å—Ç–æ–π-http-—Å–µ—Ä–≤–µ—Ä">–ü—Ä–æ—Å—Ç–æ–π HTTP —Å–µ—Ä–≤–µ—Ä</a></h3>
<pre><code class="language-javascript">http.createServer(async (req, res) =&gt; {
  const { method, url } = req;
  const [, entity, id] = url.split('/');

  // –ù–∞—Ö–æ–¥–∏–º —Å—É—â–Ω–æ—Å—Ç—å –≤ —Ä–æ—É—Ç–∏–Ω–≥–µ
  const routing = { user: { /* ... */ } };
  const handler = routing[entity];
  if (!handler) {
    res.statusCode = 404;
    res.end('Not found');
    return;
  }

  // –ù–∞—Ö–æ–¥–∏–º –º–µ—Ç–æ–¥
  const methodName = method.toLowerCase();
  const fn = handler[methodName];
  if (!fn) {
    res.statusCode = 404;
    res.end('Not found');
    return;
  }

  // –°–æ–±–∏—Ä–∞–µ–º –∞—Ä–≥—É–º–µ–Ω—Ç—ã
  const args = [];
  if (id) args.push(parseInt(id, 10));

  // –ü–∞—Ä—Å–∏–º body –µ—Å–ª–∏ –µ—Å—Ç—å
  const body = await parseArgs(req);
  args.push(...Object.values(body));

  // –í—ã–∑—ã–≤–∞–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫
  const result = await fn(...args);
  res.end(JSON.stringify(result));
}).listen(8000);
</code></pre>
<p><strong>–†–µ–∑—É–ª—å—Ç–∞—Ç:</strong></p>
<ul>
<li>–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏: 840 –ö–ë (—Ç–æ–ª—å–∫–æ pg)</li>
<li>–†–∞–∑–º–µ—Ä –∫–æ–¥–∞: 2.3 –ö–ë</li>
<li>–ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ –Ω–∞—á–∏–Ω–∞–µ—Ç –æ—Ç–¥–µ–ª—è—Ç—å—Å—è –æ—Ç –ø—Ä–æ—Ç–æ–∫–æ–ª–∞</li>
</ul>
<hr />
<h2 id="3-–ü–∞—Ç—Ç–µ—Ä–Ω-front-controller"><a class="header" href="#3-–ü–∞—Ç—Ç–µ—Ä–Ω-front-controller">3. –ü–∞—Ç—Ç–µ—Ä–Ω Front Controller</a></h2>
<p>Front Controller - —ç—Ç–æ –µ–¥–∏–Ω–∞—è —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞ –¥–ª—è –≤—Å–µ—Ö HTTP-–∑–∞–ø—Ä–æ—Å–æ–≤.</p>
<h3 id="–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞-–ø–∞—Ç—Ç–µ—Ä–Ω–∞-1"><a class="header" href="#–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞-–ø–∞—Ç—Ç–µ—Ä–Ω–∞-1">–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –ø–∞—Ç—Ç–µ—Ä–Ω–∞</a></h3>
<ol>
<li>–¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞–ø—Ä–æ—Å–æ–≤</li>
<li>–ï–¥–∏–Ω–æ–µ –º–µ—Å—Ç–æ –¥–ª—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è, –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏</li>
<li>–£–ø—Ä–æ—â–µ–Ω–Ω—ã–π —Ä–æ—É—Ç–∏–Ω–≥</li>
<li>–ê–±—Å—Ç—Ä–∞–∫—Ü–∏—è –æ—Ç –¥–µ—Ç–∞–ª–µ–π –ø—Ä–æ—Ç–æ–∫–æ–ª–∞</li>
</ol>
<h3 id="–†–µ–∞–ª–∏–∑–∞—Ü–∏—è-16-—Å—Ç—Ä–æ–∫-–∫–æ–¥–∞"><a class="header" href="#–†–µ–∞–ª–∏–∑–∞—Ü–∏—è-16-—Å—Ç—Ä–æ–∫-–∫–æ–¥–∞">–†–µ–∞–ª–∏–∑–∞—Ü–∏—è (16 —Å—Ç—Ä–æ–∫ –∫–æ–¥–∞)</a></h3>
<pre><code class="language-javascript">// –ü—Ä–æ—Å—Ç–µ–π—à–∏–π front controller
http.createServer(async (req, res) =&gt; {
  const { method, url } = req;
  const [, entityName, id] = url.split('/');

  const entity = routing[entityName];
  if (!entity) return void res.end('Not found');

  const handler = entity[method.toLowerCase()];
  if (!handler) return void res.end('Not found');

  // –ü–∞—Ä—Å–∏–Ω–≥ —Å–∏–≥–Ω–∞—Ç—É—Ä—ã —Ñ—É–Ω–∫—Ü–∏–∏
  const signature = handler.toString();
  const startIdx = signature.indexOf('(');
  const endIdx = signature.indexOf(')');
  const params = signature.substring(startIdx + 1, endIdx);

  const args = [];
  if (params.includes('id')) args.push(parseInt(id, 10));

  const body = await parseArgs(req);
  args.push(...Object.values(body));

  const result = await handler(...args);
  res.end(JSON.stringify(result));
}).listen(8000);
</code></pre>
<p><strong>–í–∞–∂–Ω–æ:</strong> –ö–æ–¥ –±–æ–ª—å—à–µ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞–ø—Ä—è–º—É—é —Å HTTP - –æ–Ω —Ä–∞–±–æ—Ç–∞–µ—Ç —Å –∞–±—Å—Ç—Ä–∞–∫—Ü–∏—è–º–∏ (—Ä–æ—É—Ç–∏–Ω–≥, —Å—É—â–Ω–æ—Å—Ç–∏, –º–µ—Ç–æ–¥—ã).</p>
<hr />
<h2 id="4-–ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä-crud-–æ–ø–µ—Ä–∞—Ü–∏–π"><a class="header" href="#4-–ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä-crud-–æ–ø–µ—Ä–∞—Ü–∏–π">4. –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä CRUD –æ–ø–µ—Ä–∞—Ü–∏–π</a></h2>
<h3 id="–ü—Ä–æ–±–ª–µ–º–∞-6"><a class="header" href="#–ü—Ä–æ–±–ª–µ–º–∞-6">–ü—Ä–æ–±–ª–µ–º–∞</a></h3>
<p>–î–ª—è –∫–∞–∂–¥–æ–π —Ç–∞–±–ª–∏—Ü—ã –ø–∏—Å–∞—Ç—å –æ–¥–∏–Ω–∞–∫–æ–≤—ã–π CRUD –∫–æ–¥ - –∏–∑–±—ã—Ç–æ—á–Ω–æ.</p>
<h3 id="–†–µ—à–µ–Ω–∏–µ-—É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π-–≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä"><a class="header" href="#–†–µ—à–µ–Ω–∏–µ-—É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π-–≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä">–†–µ—à–µ–Ω–∏–µ: —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä</a></h3>
<pre><code class="language-javascript">// db.js
const pg = require('pg');

const pool = new pg.Pool({
  host: 'localhost',
  port: 5432,
  database: 'example',
  user: 'marcus'
});

const crud = (table) =&gt; ({
  read: async (id) =&gt; {
    const sql = `SELECT * FROM ${table} WHERE id = $1`;
    const { rows } = await pool.query(sql, [id]);
    return rows[0];
  },

  create: async (record) =&gt; {
    const keys = Object.keys(record);
    const values = Object.values(record);
    const placeholders = keys.map((_, i) =&gt; `$${i + 1}`).join(', ');
    const sql = `INSERT INTO ${table} (${keys.join(', ')}) VALUES (${placeholders}) RETURNING id`;
    const { rows } = await pool.query(sql, values);
    return { id: rows[0].id };
  },

  update: async (id, record) =&gt; {
    const keys = Object.keys(record);
    const values = Object.values(record);
    const updates = keys.map((key, i) =&gt; `${key} = $${i + 2}`).join(', ');
    const sql = `UPDATE ${table} SET ${updates} WHERE id = $1`;
    await pool.query(sql, [id, ...values]);
    return { id };
  },

  delete: async (id) =&gt; {
    const sql = `DELETE FROM ${table} WHERE id = $1`;
    await pool.query(sql, [id]);
    return { id };
  }
});

module.exports = { crud };
</code></pre>
<h3 id="–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ-3"><a class="header" href="#–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ-3">–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ</a></h3>
<pre><code class="language-javascript">// main.js
const { crud } = require('./db');

const routing = {
  user: crud('users'),
  country: crud('countries'),
  city: crud('cities')
};
</code></pre>
<p><strong>–†–µ–∑—É–ª—å—Ç–∞—Ç:</strong> –¢–µ–ø–µ—Ä—å –º–æ–∂–Ω–æ —Å–æ–∑–¥–∞–≤–∞—Ç—å CRUD –¥–ª—è –ª—é–±–æ–π —Ç–∞–±–ª–∏—Ü—ã –æ–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–æ–π!</p>
<hr />
<h2 id="5-–ö–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏—è-crud"><a class="header" href="#5-–ö–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏—è-crud">5. –ö–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏—è CRUD</a></h2>
<h3 id="–ü—Ä–æ–±–ª–µ–º–∞-7"><a class="header" href="#–ü—Ä–æ–±–ª–µ–º–∞-7">–ü—Ä–æ–±–ª–µ–º–∞</a></h3>
<p>–î–ª—è –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö —Å—É—â–Ω–æ—Å—Ç–µ–π –Ω—É–∂–Ω–∞ —Å–ø–µ—Ü–∏–∞–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä–æ–ª–µ–π).</p>
<h3 id="–†–µ—à–µ–Ω–∏–µ-–æ–±–µ—Ä—Ç–∫–∏"><a class="header" href="#–†–µ—à–µ–Ω–∏–µ-–æ–±–µ—Ä—Ç–∫–∏">–†–µ—à–µ–Ω–∏–µ: –æ–±–µ—Ä—Ç–∫–∏</a></h3>
<pre><code class="language-javascript">// user.js
const { crud } = require('./db');
const { hash } = require('./hash');

const base = crud('users');

module.exports = {
  read: async (id) =&gt; {
    const user = await base.read(id);
    // –ù–µ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º –ø–∞—Ä–æ–ª—å –∫–ª–∏–µ–Ω—Ç—É
    return { id: user.id, login: user.login };
  },

  create: async (login, password) =&gt; {
    const passwordHash = await hash(password);
    return base.create({ login, password: passwordHash });
  },

  update: async (id, login, password) =&gt; {
    const passwordHash = await hash(password);
    return base.update(id, { login, password: passwordHash });
  },

  delete: base.delete,

  // –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π –º–µ—Ç–æ–¥
  find: async (mask) =&gt; {
    const sql = 'SELECT id, login FROM users WHERE login LIKE $1';
    const { rows } = await pool.query(sql, [`%${mask}%`]);
    return rows;
  }
};
</code></pre>
<h3 id="–†–æ—É—Ç–∏–Ω–≥-—Å-–∫–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏–µ–π"><a class="header" href="#–†–æ—É—Ç–∏–Ω–≥-—Å-–∫–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏–µ–π">–†–æ—É—Ç–∏–Ω–≥ —Å –∫–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏–µ–π</a></h3>
<pre><code class="language-javascript">const routing = {
  user: require('./user'),
  country: crud('countries'),
  city: crud('cities')
};
</code></pre>
<hr />
<h2 id="6-–ê–±—Å—Ç—Ä–∞–∫—Ü–∏—è-—Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω–æ–≥–æ-—Å–ª–æ—è"><a class="header" href="#6-–ê–±—Å—Ç—Ä–∞–∫—Ü–∏—è-—Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω–æ–≥–æ-—Å–ª–æ—è">6. –ê–±—Å—Ç—Ä–∞–∫—Ü–∏—è —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω–æ–≥–æ —Å–ª–æ—è</a></h2>
<h3 id="–¶–µ–ª—å-1"><a class="header" href="#–¶–µ–ª—å-1">–¶–µ–ª—å</a></h3>
<p>–û—Ç–¥–µ–ª–∏—Ç—å –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫—É –æ—Ç –ø—Ä–æ—Ç–æ–∫–æ–ª–∞ –ø–µ—Ä–µ–¥–∞—á–∏ –¥–∞–Ω–Ω—ã—Ö —Ç–∞–∫, —á—Ç–æ–±—ã –º–æ–∂–Ω–æ –±—ã–ª–æ –ª–µ–≥–∫–æ –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç—å—Å—è –º–µ–∂–¥—É HTTP, WebSocket –∏ –¥—Ä—É–≥–∏–º–∏ –ø—Ä–æ—Ç–æ–∫–æ–ª–∞–º–∏.</p>
<h3 id="–°—Ç—Ä—É–∫—Ç—É—Ä–∞"><a class="header" href="#–°—Ç—Ä—É–∫—Ç—É—Ä–∞">–°—Ç—Ä—É–∫—Ç—É—Ä–∞</a></h3>
<pre><code>/lib
  /http.js      - HTTP —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç
  /ws.js        - WebSocket —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç
  /static.js    - –°–µ—Ä–≤–µ—Ä —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Ñ–∞–π–ª–æ–≤
/api
  /user.js      - –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
  /city.js      - –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ –≥–æ—Ä–æ–¥–æ–≤
  /country.js   - –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ —Å—Ç—Ä–∞–Ω
/main.js        - –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞
</code></pre>
<h3 id="http-—Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç"><a class="header" href="#http-—Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç">HTTP —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç</a></h3>
<pre><code class="language-javascript">// lib/http.js
const http = require('http');
const { parseArgs } = require('./args');

module.exports = (routing, port) =&gt; {
  http.createServer(async (req, res) =&gt; {
    const { method, url } = req;
    const [, entityName, id] = url.split('/');

    const entity = routing[entityName];
    if (!entity) {
      res.statusCode = 404;
      return void res.end('Not found');
    }

    const handler = entity[method.toLowerCase()];
    if (!handler) {
      res.statusCode = 404;
      return void res.end('Not found');
    }

    const args = [];
    if (id) args.push(parseInt(id, 10));

    const body = await parseArgs(req);
    args.push(...Object.values(body));

    const result = await handler(...args);
    res.end(JSON.stringify(result));
  }).listen(port);
};
</code></pre>
<h3 id="websocket-—Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç"><a class="header" href="#websocket-—Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç">WebSocket —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç</a></h3>
<pre><code class="language-javascript">// lib/ws.js
const WebSocket = require('ws');

module.exports = (routing, port) =&gt; {
  const wss = new WebSocket.Server({ port });

  wss.on('connection', (ws) =&gt; {
    ws.on('message', async (message) =&gt; {
      const { entity: entityName, method, args = [] } = JSON.parse(message);

      const entity = routing[entityName];
      if (!entity) return ws.send(JSON.stringify({ error: 'Not found' }));

      const handler = entity[method];
      if (!handler) return ws.send(JSON.stringify({ error: 'Not found' }));

      try {
        const result = await handler(...args);
        ws.send(JSON.stringify({ result }));
      } catch (error) {
        ws.send(JSON.stringify({ error: error.message }));
      }
    });
  });
};
</code></pre>
<h3 id="–ì–ª–∞–≤–Ω—ã–π-—Ñ–∞–π–ª-—Å-–ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ–º-–ø—Ä–æ—Ç–æ–∫–æ–ª–∞"><a class="header" href="#–ì–ª–∞–≤–Ω—ã–π-—Ñ–∞–π–ª-—Å-–ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ–º-–ø—Ä–æ—Ç–æ–∫–æ–ª–∞">–ì–ª–∞–≤–Ω—ã–π —Ñ–∞–π–ª —Å –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ–º –ø—Ä–æ—Ç–æ–∫–æ–ª–∞</a></h3>
<pre><code class="language-javascript">// main.js
const server = require('./lib/http');  // –∏–ª–∏ require('./lib/ws')

const routing = {
  user: require('./api/user'),
  country: require('./api/country'),
  city: require('./api/city')
};

server(routing, 8000);
</code></pre>
<p><strong>–í–∞–∂–Ω–æ:</strong> –ß—Ç–æ–±—ã –ø–µ—Ä–µ–∫–ª—é—á–∏—Ç—å—Å—è –º–µ–∂–¥—É –ø—Ä–æ—Ç–æ–∫–æ–ª–∞–º–∏, –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å –æ–¥–Ω—É —Å—Ç—Ä–æ–∫—É –∏–º–ø–æ—Ä—Ç–∞!</p>
<hr />
<h2 id="7-–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è-–∑–∞–≥—Ä—É–∑–∫–∞-api"><a class="header" href="#7-–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è-–∑–∞–≥—Ä—É–∑–∫–∞-api">7. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ API</a></h2>
<h3 id="–ü—Ä–æ–±–ª–µ–º–∞-8"><a class="header" href="#–ü—Ä–æ–±–ª–µ–º–∞-8">–ü—Ä–æ–±–ª–µ–º–∞</a></h3>
<p>–ü—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –Ω–æ–≤—ã—Ö —Å—É—â–Ω–æ—Å—Ç–µ–π –Ω—É–∂–Ω–æ –≤—Ä—É—á–Ω—É—é –¥–æ–±–∞–≤–ª—è—Ç—å –∏—Ö –≤ —Ä–æ—É—Ç–∏–Ω–≥.</p>
<h3 id="–†–µ—à–µ–Ω–∏–µ-–¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è-–∑–∞–≥—Ä—É–∑–∫–∞-–∏–∑-–ø–∞–ø–∫–∏"><a class="header" href="#–†–µ—à–µ–Ω–∏–µ-–¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è-–∑–∞–≥—Ä—É–∑–∫–∞-–∏–∑-–ø–∞–ø–∫–∏">–†–µ—à–µ–Ω–∏–µ: –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –∏–∑ –ø–∞–ø–∫–∏</a></h3>
<pre><code class="language-javascript">// main.js
const path = require('path');
const fsp = require('fs').promises;

const apiPath = path.join(process.cwd(), 'api');

const loadRouting = async () =&gt; {
  const routing = {};
  const files = await fsp.readdir(apiPath);

  for (const file of files) {
    if (!file.endsWith('.js')) continue;
    const name = path.basename(file, '.js');
    const modulePath = path.join(apiPath, file);
    routing[name] = require(modulePath);
  }

  return routing;
};

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
(async () =&gt; {
  const routing = await loadRouting();
  server(routing, 8000);
})();
</code></pre>
<p><strong>–†–µ–∑—É–ª—å—Ç–∞—Ç:</strong> –¢–µ–ø–µ—Ä—å –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Å–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª –≤ –ø–∞–ø–∫–µ <code>/api</code>, –∏ –æ–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å—Ç–∞–Ω–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω —á–µ—Ä–µ–∑ API!</p>
<hr />
<h2 id="8-–°–∏—Å—Ç–µ–º–∞-–ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è"><a class="header" href="#8-–°–∏—Å—Ç–µ–º–∞-–ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è">8. –°–∏—Å—Ç–µ–º–∞ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è</a></h2>
<h3 id="–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è-–∫-–ª–æ–≥–≥–µ—Ä—É"><a class="header" href="#–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è-–∫-–ª–æ–≥–≥–µ—Ä—É">–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ –ª–æ–≥–≥–µ—Ä—É</a></h3>
<ol>
<li>–ó–∞–ø–∏—Å—å –≤ —Ñ–∞–π–ª –∏ –Ω–∞ –∫–æ–Ω—Å–æ–ª—å –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ</li>
<li>–¶–≤–µ—Ç–Ω–æ–π –≤—ã–≤–æ–¥ –≤ –∫–æ–Ω—Å–æ–ª—å</li>
<li>–†–∞–∑–Ω—ã–µ —Ç–∏–ø—ã –ª–æ–≥–æ–≤ (log, error, debug, system, access)</li>
<li>–§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –º–Ω–æ–≥–æ—Å—Ç—Ä–æ—á–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π</li>
</ol>
<h3 id="–†–µ–∞–ª–∏–∑–∞—Ü–∏—è-–ª–æ–≥–≥–µ—Ä–∞"><a class="header" href="#–†–µ–∞–ª–∏–∑–∞—Ü–∏—è-–ª–æ–≥–≥–µ—Ä–∞">–†–µ–∞–ª–∏–∑–∞—Ü–∏—è –ª–æ–≥–≥–µ—Ä–∞</a></h3>
<pre><code class="language-javascript">// lib/logger.js
const fs = require('fs');
const util = require('util');

const COLORS = {
  log: '\x1b[37m',    // white
  error: '\x1b[31m',  // red
  debug: '\x1b[33m',  // yellow
  system: '\x1b[36m', // cyan
  access: '\x1b[32m'  // green
};

const RESET = '\x1b[0m';

class Logger {
  constructor(logPath) {
    this.stream = fs.createWriteStream(logPath, { flags: 'a' });
  }

  write(type, message) {
    const date = new Date().toISOString();
    const color = COLORS[type] || '';

    // –ü—Ä–µ–æ–±—Ä–∞–∑—É–µ–º –≤ —Å—Ç—Ä–æ–∫—É
    const text = typeof message === 'string'
      ? message
      : util.inspect(message);

    // –£–±–∏—Ä–∞–µ–º –ø–µ—Ä–µ–≤–æ–¥—ã —Å—Ç—Ä–æ–∫ –¥–ª—è —Ñ–∞–π–ª–∞
    const fileLine = `${date}\t${type}\t${text.replace(/\n/g, '; ')}\n`;
    this.stream.write(fileLine);

    // –í –∫–æ–Ω—Å–æ–ª—å —Å —Ü–≤–µ—Ç–æ–º
    console.log(`${color}${date}\t[${type.toUpperCase()}]\t${text}${RESET}`);
  }

  log(message) { this.write('log', message); }
  error(message) { this.write('error', message); }
  debug(message) { this.write('debug', message); }
  system(message) { this.write('system', message); }
  access(message) { this.write('access', message); }

  // –î–ª—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ —Å console
  dir(obj) { this.write('log', obj); }

  close() {
    this.stream.end();
  }
}

module.exports = (logPath) =&gt; new Logger(logPath);
</code></pre>
<h3 id="–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ-–ª–æ–≥–≥–µ—Ä–∞"><a class="header" href="#–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ-–ª–æ–≥–≥–µ—Ä–∞">–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ª–æ–≥–≥–µ—Ä–∞</a></h3>
<pre><code class="language-javascript">// main.js
const logger = require('./lib/logger')('./app.log');

// –õ–æ–≥–≥–µ—Ä –¥–æ—Å—Ç—É–ø–µ–Ω –≥–ª–æ–±–∞–ª—å–Ω–æ —á–µ—Ä–µ–∑ Sandbox (—Å–º. –Ω–∏–∂–µ)
</code></pre>
<hr />
<h2 id="9-–í–Ω–µ–¥—Ä–µ–Ω–∏–µ-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π-—á–µ—Ä–µ–∑-sandbox"><a class="header" href="#9-–í–Ω–µ–¥—Ä–µ–Ω–∏–µ-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π-—á–µ—Ä–µ–∑-sandbox">9. –í–Ω–µ–¥—Ä–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π —á–µ—Ä–µ–∑ Sandbox</a></h2>
<h3 id="–ö–æ–Ω—Ü–µ–ø—Ü–∏—è-sandbox"><a class="header" href="#–ö–æ–Ω—Ü–µ–ø—Ü–∏—è-sandbox">–ö–æ–Ω—Ü–µ–ø—Ü–∏—è Sandbox</a></h3>
<p>Sandbox - —ç—Ç–æ –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è, –≤ –∫–æ—Ç–æ—Ä—ã–π –≤–Ω–µ–¥—Ä—è—é—Ç—Å—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏.</p>
<h3 id="–ó–∞—á–µ–º-–Ω—É–∂–µ–Ω-sandbox"><a class="header" href="#–ó–∞—á–µ–º-–Ω—É–∂–µ–Ω-sandbox">–ó–∞—á–µ–º –Ω—É–∂–µ–Ω Sandbox?</a></h3>
<ol>
<li><strong>–ò–∑–æ–ª—è—Ü–∏—è:</strong> –º–æ–¥—É–ª–∏ –Ω–µ –∏–º–µ—é—Ç –¥–æ—Å—Ç—É–ø–∞ –∫ –≥–ª–æ–±–∞–ª—å–Ω–æ–º—É scope</li>
<li><strong>–í–Ω–µ–¥—Ä–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π:</strong> –º–æ–∂–µ–º –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä–æ–≤–∞—Ç—å, —á—Ç–æ –¥–æ—Å—Ç—É–ø–Ω–æ –º–æ–¥—É–ª—è–º</li>
<li><strong>–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:</strong> –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ–º –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –º–æ–¥—É–ª–µ–π</li>
<li><strong>–¢–µ—Å—Ç–∏—Ä—É–µ–º–æ—Å—Ç—å:</strong> –ª–µ–≥–∫–æ –ø–æ–¥–º–µ–Ω—è—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏</li>
</ol>
<h3 id="–†–µ–∞–ª–∏–∑–∞—Ü–∏—è-–ø—Ä–æ—Å—Ç–æ–≥–æ-–∑–∞–≥—Ä—É–∑—á–∏–∫–∞-–º–æ–¥—É–ª–µ–π"><a class="header" href="#–†–µ–∞–ª–∏–∑–∞—Ü–∏—è-–ø—Ä–æ—Å—Ç–æ–≥–æ-–∑–∞–≥—Ä—É–∑—á–∏–∫–∞-–º–æ–¥—É–ª–µ–π">–†–µ–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–æ—Å—Ç–æ–≥–æ –∑–∞–≥—Ä—É–∑—á–∏–∫–∞ –º–æ–¥—É–ª–µ–π</a></h3>
<pre><code class="language-javascript">// lib/loader.js
const fs = require('fs');
const vm = require('vm');

const createContext = (sandbox) =&gt; {
  const context = vm.createContext(sandbox);
  return context;
};

const runScript = (code, context) =&gt; {
  const script = new vm.Script(code);
  const exports = {};
  context.module = { exports };
  context.exports = exports;
  script.runInContext(context);
  return context.module.exports;
};

const loadModule = (filePath, sandbox) =&gt; {
  const code = fs.readFileSync(filePath, 'utf8');
  const wrappedCode = `(function(module, exports) {
    ${code}
  })`;
  const context = createContext(sandbox);
  return runScript(wrappedCode, context);
};

module.exports = { loadModule };
</code></pre>
<h3 id="–°–æ–∑–¥–∞–Ω–∏–µ-sandbox-—Å-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏"><a class="header" href="#–°–æ–∑–¥–∞–Ω–∏–µ-sandbox-—Å-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏">–°–æ–∑–¥–∞–Ω–∏–µ Sandbox —Å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏</a></h3>
<pre><code class="language-javascript">// main.js
const logger = require('./lib/logger')('./app.log');
const db = require('./lib/db');

// –°–æ–∑–¥–∞–µ–º Sandbox —Å –Ω—É–∂–Ω—ã–º–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏
const sandbox = {
  console: logger,  // –ü–æ–¥–º–µ–Ω—è–µ–º console –Ω–∞ logger
  db,               // –î–æ—Å—Ç—É–ø –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
  setTimeout,       // –¢–∞–π–º–µ—Ä—ã
  setInterval,
  Buffer,           // –†–∞–±–æ—Ç–∞ —Å –±—É—Ñ–µ—Ä–∞–º–∏
  // –ù–ï –¥–∞–µ–º –¥–æ—Å—Ç—É–ø –∫ process, require, fs –∏ —Ç.–¥.
};

// –ó–∞–≥—Ä—É–∂–∞–µ–º –º–æ–¥—É–ª–∏ –≤ Sandbox
const { loadModule } = require('./lib/loader');
const user = loadModule('./api/user.js', sandbox);
</code></pre>
<h3 id="–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ-–≤-api-–º–æ–¥—É–ª—è—Ö"><a class="header" href="#–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ-–≤-api-–º–æ–¥—É–ª—è—Ö">–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ API –º–æ–¥—É–ª—è—Ö</a></h3>
<pre><code class="language-javascript">// api/user.js
// –ú–æ–¥—É–ª—å —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω–æ–º –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ
// –ò–º–µ–µ—Ç –¥–æ—Å—Ç—É–ø —Ç–æ–ª—å–∫–æ –∫ —Ç–æ–º—É, —á—Ç–æ –ø–µ—Ä–µ–¥–∞–Ω–æ –≤ sandbox

// console - —ç—Ç–æ –Ω–∞—à logger
console.log('User module loaded');

// db - —ç—Ç–æ –Ω–∞—à database wrapper
const users = await db.query('SELECT * FROM users');

// process, require, fs - –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã!
// –≠—Ç–æ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ —è–≤–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏
</code></pre>
<hr />
<h2 id="10-mapping-http-–º–µ—Ç–æ–¥–æ–≤-–Ω–∞-crud"><a class="header" href="#10-mapping-http-–º–µ—Ç–æ–¥–æ–≤-–Ω–∞-crud">10. Mapping HTTP –º–µ—Ç–æ–¥–æ–≤ –Ω–∞ CRUD</a></h2>
<h3 id="–ü—Ä–æ–±–ª–µ–º–∞-9"><a class="header" href="#–ü—Ä–æ–±–ª–µ–º–∞-9">–ü—Ä–æ–±–ª–µ–º–∞</a></h3>
<p>HTTP –º–µ—Ç–æ–¥—ã (GET, POST, PUT, DELETE) –Ω–µ –≤—Å–µ–≥–¥–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç –∂–µ–ª–∞–µ–º—ã–º –∏–º–µ–Ω–∞–º –º–µ—Ç–æ–¥–æ–≤ –≤ API.</p>
<h3 id="–†–µ—à–µ–Ω–∏–µ-—Ç–∞–±–ª–∏—Ü–∞-–º–∞–ø–ø–∏–Ω–≥–∞"><a class="header" href="#–†–µ—à–µ–Ω–∏–µ-—Ç–∞–±–ª–∏—Ü–∞-–º–∞–ø–ø–∏–Ω–≥–∞">–†–µ—à–µ–Ω–∏–µ: —Ç–∞–±–ª–∏—Ü–∞ –º–∞–ø–ø–∏–Ω–≥–∞</a></h3>
<pre><code class="language-javascript">// lib/http.js
const CRUD_MAPPING = {
  get: 'read',
  post: 'create',
  put: 'update',
  delete: 'delete'
};

module.exports = (routing, port) =&gt; {
  http.createServer(async (req, res) =&gt; {
    const { method, url } = req;
    const [, entityName, id] = url.split('/');

    const entity = routing[entityName];
    if (!entity) return void res.end('Not found');

    // –ú–∞–ø–ø–∏–Ω–≥ HTTP –º–µ—Ç–æ–¥–∞ –Ω–∞ –º–µ—Ç–æ–¥ CRUD
    const methodName = CRUD_MAPPING[method.toLowerCase()];
    const handler = entity[methodName];

    if (!handler) return void res.end('Not found');

    // –æ—Å—Ç–∞–ª—å–Ω–∞—è –ª–æ–≥–∏–∫–∞...
  }).listen(port);
};
</code></pre>
<h3 id="–ö–∞—Å—Ç–æ–º–Ω—ã–π-–º–∞–ø–ø–∏–Ω–≥"><a class="header" href="#–ö–∞—Å—Ç–æ–º–Ω—ã–π-–º–∞–ø–ø–∏–Ω–≥">–ö–∞—Å—Ç–æ–º–Ω—ã–π –º–∞–ø–ø–∏–Ω–≥</a></h3>
<pre><code class="language-javascript">// –ú–æ–∂–Ω–æ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å —Å–≤–æ–π –º–∞–ø–ø–∏–Ω–≥ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Å—É—â–Ω–æ—Å—Ç–µ–π
const CUSTOM_MAPPING = {
  user: {
    get: 'find',
    post: 'register',
    put: 'updateProfile',
    delete: 'remove'
  }
};
</code></pre>
<hr />
<h2 id="11-query-builder-–¥–ª—è-sql"><a class="header" href="#11-query-builder-–¥–ª—è-sql">11. Query Builder –¥–ª—è SQL</a></h2>
<h3 id="–ü—Ä–æ–±–ª–µ–º–∞-10"><a class="header" href="#–ü—Ä–æ–±–ª–µ–º–∞-10">–ü—Ä–æ–±–ª–µ–º–∞</a></h3>
<p>–î–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ SQL –∑–∞–ø—Ä–æ—Å–æ–≤ –ø—Ä–∏–≤–æ–¥–∏—Ç –∫ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—é –∫–æ–¥–∞.</p>
<h3 id="–†–µ—à–µ–Ω–∏–µ-–ø—Ä–æ—Å—Ç–æ–π-query-builder"><a class="header" href="#–†–µ—à–µ–Ω–∏–µ-–ø—Ä–æ—Å—Ç–æ–π-query-builder">–†–µ—à–µ–Ω–∏–µ: –ø—Ä–æ—Å—Ç–æ–π Query Builder</a></h3>
<pre><code class="language-javascript">// lib/db.js
const buildSelect = (table, fields = '*', where = {}) =&gt; {
  const keys = Object.keys(where);
  const conditions = keys.map((key, i) =&gt; `${key} = $${i + 1}`).join(' AND ');
  const sql = `SELECT ${fields} FROM ${table}${conditions ? ' WHERE ' + conditions : ''}`;
  return { sql, values: Object.values(where) };
};

const buildInsert = (table, record) =&gt; {
  const keys = Object.keys(record);
  const values = Object.values(record);
  const placeholders = keys.map((_, i) =&gt; `$${i + 1}`).join(', ');
  const sql = `INSERT INTO ${table} (${keys.join(', ')}) VALUES (${placeholders}) RETURNING *`;
  return { sql, values };
};

const buildUpdate = (table, id, record) =&gt; {
  const keys = Object.keys(record);
  const values = Object.values(record);
  const updates = keys.map((key, i) =&gt; `${key} = $${i + 2}`).join(', ');
  const sql = `UPDATE ${table} SET ${updates} WHERE id = $1 RETURNING *`;
  return { sql, values: [id, ...values] };
};

const buildDelete = (table, id) =&gt; {
  const sql = `DELETE FROM ${table} WHERE id = $1`;
  return { sql, values: [id] };
};
</code></pre>
<h3 id="–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ-query-builder"><a class="header" href="#–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ-query-builder">–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Query Builder</a></h3>
<pre><code class="language-javascript">const crud = (table) =&gt; ({
  async read(id) {
    const { sql, values } = buildSelect(table, '*', { id });
    const { rows } = await pool.query(sql, values);
    return rows[0];
  },

  async create(record) {
    const { sql, values } = buildInsert(table, record);
    const { rows } = await pool.query(sql, values);
    return rows[0];
  },

  async update(id, record) {
    const { sql, values } = buildUpdate(table, id, record);
    const { rows } = await pool.query(sql, values);
    return rows[0];
  },

  async delete(id) {
    const { sql, values } = buildDelete(table, id);
    await pool.query(sql, values);
    return { id };
  }
});
</code></pre>
<hr />
<h2 id="12-–ö–ª–∏–µ–Ω—Ç—Å–∫–∞—è-—á–∞—Å—Ç—å---rpc-over-websocket"><a class="header" href="#12-–ö–ª–∏–µ–Ω—Ç—Å–∫–∞—è-—á–∞—Å—Ç—å---rpc-over-websocket">12. –ö–ª–∏–µ–Ω—Ç—Å–∫–∞—è —á–∞—Å—Ç—å - RPC over WebSocket</a></h2>
<h3 id="–ü—Ä–æ–±–ª–µ–º–∞-11"><a class="header" href="#–ü—Ä–æ–±–ª–µ–º–∞-11">–ü—Ä–æ–±–ª–µ–º–∞</a></h3>
<p>–ù–∞ –∫–ª–∏–µ–Ω—Ç–µ —Ö–æ—Ç–∏–º –≤—ã–∑—ã–≤–∞—Ç—å —Å–µ—Ä–≤–µ—Ä–Ω—ã–µ –º–µ—Ç–æ–¥—ã —Ç–∞–∫, –∫–∞–∫ –±—É–¥—Ç–æ –æ–Ω–∏ –ª–æ–∫–∞–ª—å–Ω—ã–µ.</p>
<h3 id="–†–µ—à–µ–Ω–∏–µ-–∞–≤—Ç–æ–≥–µ–Ω–µ—Ä–∞—Ü–∏—è-api-proxy"><a class="header" href="#–†–µ—à–µ–Ω–∏–µ-–∞–≤—Ç–æ–≥–µ–Ω–µ—Ä–∞—Ü–∏—è-api-proxy">–†–µ—à–µ–Ω–∏–µ: –∞–≤—Ç–æ–≥–µ–Ω–µ—Ä–∞—Ü–∏—è API proxy</a></h3>
<pre><code class="language-javascript">// client.js
const ws = new WebSocket('ws://localhost:8000');

const createApi = (ws) =&gt; {
  const api = {};

  // –°–ø–∏—Å–æ–∫ —Å—É—â–Ω–æ—Å—Ç–µ–π –Ω—É–∂–Ω–æ –∫–∞–∫-—Ç–æ –ø–æ–ª—É—á–∏—Ç—å —Å —Å–µ—Ä–≤–µ—Ä–∞
  const entities = ['user', 'country', 'city'];

  for (const entity of entities) {
    api[entity] = {};

    const methods = ['read', 'create', 'update', 'delete', 'find'];
    for (const method of methods) {
      api[entity][method] = (...args) =&gt; {
        return new Promise((resolve, reject) =&gt; {
          const message = JSON.stringify({ entity, method, args });

          ws.send(message);

          ws.onmessage = (event) =&gt; {
            const response = JSON.parse(event.data);
            if (response.error) reject(new Error(response.error));
            else resolve(response.result);
          };
        });
      };
    }
  }

  return api;
};

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
const api = createApi(ws);

// –¢–µ–ø–µ—Ä—å –º–æ–∂–Ω–æ –≤—ã–∑—ã–≤–∞—Ç—å –º–µ—Ç–æ–¥—ã –∫–∞–∫ –æ–±—ã—á–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏!
const user = await api.user.read(3);
console.log(user);

const newUser = await api.user.create('john', 'password123');
console.log(newUser);
</code></pre>
<h3 id="–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ-–ø–æ–ª—É—á–µ–Ω–∏–µ-—Å—Ö–µ–º—ã-api"><a class="header" href="#–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ-–ø–æ–ª—É—á–µ–Ω–∏–µ-—Å—Ö–µ–º—ã-api">–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–æ–ª—É—á–µ–Ω–∏–µ —Å—Ö–µ–º—ã API</a></h3>
<pre><code class="language-javascript">// –°–µ—Ä–≤–µ—Ä –º–æ–∂–µ—Ç –æ—Ç–¥–∞–≤–∞—Ç—å –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –æ–± API
const getApiSchema = () =&gt; {
  const schema = {};
  for (const [name, entity] of Object.entries(routing)) {
    schema[name] = Object.keys(entity);
  }
  return schema;
};

// –ö–ª–∏–µ–Ω—Ç –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç —Å—Ö–µ–º—É –ø—Ä–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–∏
ws.on('open', async () =&gt; {
  const schema = await api.getSchema();
  const dynamicApi = createApi(ws, schema);
});
</code></pre>
<hr />
<h2 id="13-–ò—Ç–æ–≥–æ–≤–∞—è-–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞"><a class="header" href="#13-–ò—Ç–æ–≥–æ–≤–∞—è-–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞">13. –ò—Ç–æ–≥–æ–≤–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞</a></h2>
<h3 id="–°—Ç—Ä—É–∫—Ç—É—Ä–∞-–ø—Ä–æ–µ–∫—Ç–∞-1"><a class="header" href="#–°—Ç—Ä—É–∫—Ç—É—Ä–∞-–ø—Ä–æ–µ–∫—Ç–∞-1">–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞</a></h3>
<pre><code>project/
‚îú‚îÄ‚îÄ api/                    # –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ (Domain Layer)
‚îÇ   ‚îú‚îÄ‚îÄ user.js            # –ú–µ—Ç–æ–¥—ã —Ä–∞–±–æ—Ç—ã —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
‚îÇ   ‚îú‚îÄ‚îÄ country.js         # –ú–µ—Ç–æ–¥—ã —Ä–∞–±–æ—Ç—ã —Å —Å—Ç—Ä–∞–Ω–∞–º–∏
‚îÇ   ‚îî‚îÄ‚îÄ city.js            # –ú–µ—Ç–æ–¥—ã —Ä–∞–±–æ—Ç—ã —Å –≥–æ—Ä–æ–¥–∞–º–∏
‚îú‚îÄ‚îÄ lib/                   # –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ (Infrastructure Layer)
‚îÇ   ‚îú‚îÄ‚îÄ http.js           # HTTP —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç
‚îÇ   ‚îú‚îÄ‚îÄ ws.js             # WebSocket —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç
‚îÇ   ‚îú‚îÄ‚îÄ static.js         # –°–µ—Ä–≤–µ—Ä —Å—Ç–∞—Ç–∏–∫–∏
‚îÇ   ‚îú‚îÄ‚îÄ db.js             # CRUD –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä
‚îÇ   ‚îú‚îÄ‚îÄ logger.js         # –°–∏—Å—Ç–µ–º–∞ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ loader.js         # –ó–∞–≥—Ä—É–∑—á–∏–∫ –º–æ–¥—É–ª–µ–π
‚îÇ   ‚îî‚îÄ‚îÄ args.js           # –ü–∞—Ä—Å–∏–Ω–≥ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤
‚îú‚îÄ‚îÄ static/                # –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã
‚îÇ   ‚îú‚îÄ‚îÄ index.html
‚îÇ   ‚îî‚îÄ‚îÄ client.js
‚îú‚îÄ‚îÄ db/                    # SQL —Å–∫—Ä–∏–ø—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ install.sh
‚îÇ   ‚îú‚îÄ‚îÄ structure.sql
‚îÇ   ‚îî‚îÄ‚îÄ data.sql
‚îú‚îÄ‚îÄ config/                # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (–±—É–¥–µ—Ç –¥–æ–±–∞–≤–ª–µ–Ω–æ)
‚îÇ   ‚îî‚îÄ‚îÄ database.json
‚îî‚îÄ‚îÄ main.js               # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ (Application Layer)
</code></pre>
<h3 id="–°–ª–æ–∏-–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã"><a class="header" href="#–°–ª–æ–∏-–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã">–°–ª–æ–∏ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã</a></h3>
<pre><code>‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ         Presentation Layer                   ‚îÇ
‚îÇ  (HTTP, WebSocket, CLI, etc.)               ‚îÇ
‚îÇ         /lib/http.js, /lib/ws.js            ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                    ‚Üì
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ       Application Layer                      ‚îÇ
‚îÇ  (Orchestration, Routing, DI)               ‚îÇ
‚îÇ           /main.js                          ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                    ‚Üì
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ         Domain Layer                         ‚îÇ
‚îÇ  (Business Logic, Entities)                 ‚îÇ
‚îÇ           /api/*.js                         ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                    ‚Üì
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ     Infrastructure Layer                     ‚îÇ
‚îÇ  (Database, Logging, File System)           ‚îÇ
‚îÇ  /lib/db.js, /lib/logger.js                ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
</code></pre>
<h3 id="–†–∞–∑–º–µ—Ä—ã-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤-—Ñ–∏–Ω–∞–ª—å–Ω–∞—è-–≤–µ—Ä—Å–∏—è"><a class="header" href="#–†–∞–∑–º–µ—Ä—ã-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤-—Ñ–∏–Ω–∞–ª—å–Ω–∞—è-–≤–µ—Ä—Å–∏—è">–†–∞–∑–º–µ—Ä—ã –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ (—Ñ–∏–Ω–∞–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è)</a></h3>
<div class="table-wrapper"><table><thead><tr><th>–ö–æ–º–ø–æ–Ω–µ–Ω—Ç</th><th>–†–∞–∑–º–µ—Ä</th><th>–û–ø–∏—Å–∞–Ω–∏–µ</th></tr></thead><tbody>
<tr><td>API (–±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞)</td><td>~0.8 –ö–ë</td><td>–í—Å—è –¥–æ–º–µ–Ω–Ω–∞—è –ª–æ–≥–∏–∫–∞</td></tr>
<tr><td>DB (–≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä CRUD)</td><td>~1.5 –ö–ë</td><td>–†–∞–±–æ—Ç–∞ —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö</td></tr>
<tr><td>HTTP + WebSocket + Static</td><td>~5.8 –ö–ë</td><td>–¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω—ã–π —Å–ª–æ–π</td></tr>
<tr><td>Logger</td><td>~1.5 –ö–ë</td><td>–°–∏—Å—Ç–µ–º–∞ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è</td></tr>
<tr><td><strong>–ò—Ç–æ–≥–æ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫</strong></td><td><strong>~7.5 –ö–ë</strong></td><td>–í—Å—è –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞</td></tr>
<tr><td><strong>–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏</strong></td><td><strong>1 –ú–ë</strong></td><td>pg + ws (—Ç–æ–ª—å–∫–æ –¥—Ä–∞–π–≤–µ—Ä—ã!)</td></tr>
</tbody></table>
</div>
<p><strong>–î–ª—è —Å—Ä–∞–≤–Ω–µ–Ω–∏—è:</strong> Express –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞–Ω–∏–º–∞–ª–æ ~4 –ú–ë –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –∏ –∏–º–µ–ª–æ –º–µ–Ω—å—à–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏!</p>
<hr />
<h2 id="14-–ö–ª—é—á–µ–≤—ã–µ-–ø—Ä–∏–Ω—Ü–∏–ø—ã-—Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–π-–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã"><a class="header" href="#14-–ö–ª—é—á–µ–≤—ã–µ-–ø—Ä–∏–Ω—Ü–∏–ø—ã-—Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–π-–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã">14. –ö–ª—é—á–µ–≤—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã</a></h2>
<h3 id="1-–†–∞–∑–¥–µ–ª–µ–Ω–∏–µ-–æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏-separation-of-concerns"><a class="header" href="#1-–†–∞–∑–¥–µ–ª–µ–Ω–∏–µ-–æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏-separation-of-concerns">1. –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ (Separation of Concerns)</a></h3>
<p><strong>–ß—Ç–æ –æ—Ç–¥–µ–ª–µ–Ω–æ:</strong></p>
<ul>
<li>–¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω—ã–π —Å–ª–æ–π (HTTP, WebSocket) - <code>/lib/http.js</code>, <code>/lib/ws.js</code></li>
<li>–ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ (CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏) - <code>/api/*.js</code></li>
<li>–î–æ—Å—Ç—É–ø –∫ –¥–∞–Ω–Ω—ã–º (SQL) - <code>/lib/db.js</code></li>
<li>–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ - <code>/lib/logger.js</code></li>
<li>–ö—Ä–∏–ø—Ç–æ–≥—Ä–∞—Ñ–∏—è - <code>/lib/hash.js</code></li>
</ul>
<h3 id="2-–í–Ω–µ–¥—Ä–µ–Ω–∏–µ-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π-dependency-injection"><a class="header" href="#2-–í–Ω–µ–¥—Ä–µ–Ω–∏–µ-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π-dependency-injection">2. –í–Ω–µ–¥—Ä–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π (Dependency Injection)</a></h3>
<p><strong>–ö–∞–∫ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:</strong></p>
<pre><code class="language-javascript">// Sandbox —Å–æ–¥–µ—Ä–∂–∏—Ç –≤—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
const sandbox = {
  console: logger,    // –õ–æ–≥–≥–µ—Ä –≤–º–µ—Å—Ç–æ console
  db: dbModule,       // –î–æ—Å—Ç—É–ø –∫ –ë–î
  crypto: hashModule  // –ö—Ä–∏–ø—Ç–æ–≥—Ä–∞—Ñ–∏—è
};

// API –º–æ–¥—É–ª–∏ –ø–æ–ª—É—á–∞—é—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —á–µ—Ä–µ–∑ –∫–æ–Ω—Ç–µ–∫—Å—Ç
// –û–Ω–∏ –Ω–µ –¥–µ–ª–∞—é—Ç require() - –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –≤–Ω–µ–¥—Ä—è—é—Ç—Å—è –∏–∑–≤–Ω–µ
</code></pre>
<p><strong>–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:</strong></p>
<ul>
<li>–õ–µ–≥–∫–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å (–º–æ–∂–Ω–æ –ø–æ–¥–º–µ–Ω–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –º–æ–∫–∞–º–∏)</li>
<li>–Ø–≤–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏</li>
<li>–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å (–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫ —Å–∏—Å—Ç–µ–º–Ω—ã–º —Ä–µ—Å—É—Ä—Å–∞–º)</li>
</ul>
<h3 id="3-–ò–Ω–≤–µ—Ä—Å–∏—è-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π-dependency-inversion"><a class="header" href="#3-–ò–Ω–≤–µ—Ä—Å–∏—è-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π-dependency-inversion">3. –ò–Ω–≤–µ—Ä—Å–∏—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π (Dependency Inversion)</a></h3>
<p><strong>–ü—Ä–∏–Ω—Ü–∏–ø:</strong> –í—ã—Å–æ–∫–æ—É—Ä–æ–≤–Ω–µ–≤—ã–µ –º–æ–¥—É–ª–∏ –Ω–µ –∑–∞–≤–∏—Å—è—Ç –æ—Ç –Ω–∏–∑–∫–æ—É—Ä–æ–≤–Ω–µ–≤—ã—Ö. –û–±–∞ –∑–∞–≤–∏—Å—è—Ç –æ—Ç –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–π.</p>
<pre><code class="language-javascript">// –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ –ù–ï –∑–Ω–∞–µ—Ç –æ HTTP –∏–ª–∏ WebSocket
// –û–Ω–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–º —Ä–æ—É—Ç–∏–Ω–≥–æ–º
const routing = {
  user: {
    read: async (id) =&gt; { /* ... */ }
  }
};

// –¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω—ã–π —Å–ª–æ–π –∑–Ω–∞–µ—Ç, –∫–∞–∫ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∑–∞–ø—Ä–æ—Å—ã
// –ù–æ –ù–ï –∑–Ω–∞–µ—Ç –æ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–µ
const server = (routing, port) =&gt; { /* ... */ };
</code></pre>
<h3 id="4-–ê–±—Å—Ç—Ä–∞–∫—Ü–∏—è-–æ—Ç-–¥–µ—Ç–∞–ª–µ–π-—Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏"><a class="header" href="#4-–ê–±—Å—Ç—Ä–∞–∫—Ü–∏—è-–æ—Ç-–¥–µ—Ç–∞–ª–µ–π-—Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏">4. –ê–±—Å—Ç—Ä–∞–∫—Ü–∏—è –æ—Ç –¥–µ—Ç–∞–ª–µ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏</a></h3>
<p><strong>–ß—Ç–æ –∞–±—Å—Ç—Ä–∞–≥–∏—Ä–æ–≤–∞–Ω–æ:</strong></p>
<div class="table-wrapper"><table><thead><tr><th>–ê–±—Å—Ç—Ä–∞–∫—Ü–∏—è</th><th>–î–µ—Ç–∞–ª–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏</th></tr></thead><tbody>
<tr><td>–¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç</td><td>HTTP, WebSocket, JSON-RPC</td></tr>
<tr><td>–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö</td><td>PostgreSQL, MySQL, SQLite</td></tr>
<tr><td>–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ</td><td>–§–∞–π–ª, –∫–æ–Ω—Å–æ–ª—å, —É–¥–∞–ª–µ–Ω–Ω—ã–π —Å–µ—Ä–≤–µ—Ä</td></tr>
<tr><td>–ö—Ä–∏–ø—Ç–æ–≥—Ä–∞—Ñ–∏—è</td><td>scrypt, bcrypt, pbkdf2</td></tr>
</tbody></table>
</div>
<p><strong>–ö–∞–∫ –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç—å—Å—è:</strong></p>
<pre><code class="language-javascript">// –ò–∑–º–µ–Ω–∏—Ç—å —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç
const server = require('./lib/http');  // –∏–ª–∏ './lib/ws'

// –ò–∑–º–µ–Ω–∏—Ç—å –ë–î (–µ—Å–ª–∏ –¥–æ–±–∞–≤–∏—Ç—å –∞–±—Å—Ç—Ä–∞–∫—Ü–∏—é)
const db = require('./lib/db/postgres'); // –∏–ª–∏ './lib/db/mysql'
</code></pre>
<h3 id="5-–ü–∞—Ç—Ç–µ—Ä–Ω-front-controller"><a class="header" href="#5-–ü–∞—Ç—Ç–µ—Ä–Ω-front-controller">5. –ü–∞—Ç—Ç–µ—Ä–Ω Front Controller</a></h3>
<p><strong>–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:</strong></p>
<ul>
<li>–ï–¥–∏–Ω–∞—è —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞ –¥–ª—è –≤—Å–µ—Ö –∑–∞–ø—Ä–æ—Å–æ–≤</li>
<li>–¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Ä–æ—É—Ç–∏–Ω–≥–∞</li>
<li>–ï–¥–∏–Ω–æ–µ –º–µ—Å—Ç–æ –¥–ª—è:
<ul>
<li>–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤</li>
<li>–û–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫</li>
<li>–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ (–±—É–¥–µ—Ç –¥–æ–±–∞–≤–ª–µ–Ω–æ)</li>
<li>–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ (–±—É–¥–µ—Ç –¥–æ–±–∞–≤–ª–µ–Ω–æ)</li>
</ul>
</li>
</ul>
<h3 id="6-convention-over-configuration"><a class="header" href="#6-convention-over-configuration">6. Convention over Configuration</a></h3>
<p><strong>–ü—Ä–∏–º–µ—Ä—ã:</strong></p>
<ul>
<li>–§–∞–π–ª <code>/api/user.js</code> –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞–µ—Ç endpoint <code>/user</code></li>
<li>HTTP GET –º–∞–ø–ø–∏—Ç—Å—è –Ω–∞ –º–µ—Ç–æ–¥ <code>read</code></li>
<li>HTTP POST –º–∞–ø–ø–∏—Ç—Å—è –Ω–∞ –º–µ—Ç–æ–¥ <code>create</code></li>
<li>–ò–º—è —Ñ–∞–π–ª–∞ = –∏–º—è —Å—É—â–Ω–æ—Å—Ç–∏ = endpoint</li>
</ul>
<hr />
<h2 id="15-–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ-–ø—Ä–∏–º–µ—Ä—ã-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è"><a class="header" href="#15-–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ-–ø—Ä–∏–º–µ—Ä—ã-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è">15. –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è</a></h2>
<h3 id="–î–æ–±–∞–≤–ª–µ–Ω–∏–µ-–Ω–æ–≤–æ–π-—Å—É—â–Ω–æ—Å—Ç–∏"><a class="header" href="#–î–æ–±–∞–≤–ª–µ–Ω–∏–µ-–Ω–æ–≤–æ–π-—Å—É—â–Ω–æ—Å—Ç–∏">–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–π —Å—É—â–Ω–æ—Å—Ç–∏</a></h3>
<p><strong>–ó–∞–¥–∞—á–∞:</strong> –î–æ–±–∞–≤–∏—Ç—å API –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ø–æ—Å—Ç–∞–º–∏.</p>
<p><strong>–†–µ—à–µ–Ω–∏–µ:</strong> –°–æ–∑–¥–∞—Ç—å –æ–¥–∏–Ω —Ñ–∞–π–ª!</p>
<pre><code class="language-javascript">// api/post.js
({
  async read(id) {
    const { sql, values } = db.buildSelect('posts', '*', { id });
    const { rows } = await db.pool.query(sql, values);
    return rows[0];
  },

  async create(userId, title, content) {
    const record = { user_id: userId, title, content, created_at: new Date() };
    const { sql, values } = db.buildInsert('posts', record);
    const { rows } = await db.pool.query(sql, values);
    return rows[0];
  },

  async update(id, title, content) {
    const { sql, values } = db.buildUpdate('posts', id, { title, content });
    const { rows } = await db.pool.query(sql, values);
    return rows[0];
  },

  async delete(id) {
    const { sql, values } = db.buildDelete('posts', id);
    await db.pool.query(sql, values);
    return { id };
  },

  // –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –º–µ—Ç–æ–¥—ã
  async findByUser(userId) {
    const sql = 'SELECT * FROM posts WHERE user_id = $1 ORDER BY created_at DESC';
    const { rows } = await db.pool.query(sql, [userId]);
    return rows;
  }
});
</code></pre>
<p><strong>–í—Å—ë!</strong> –¢–µ–ø–µ—Ä—å –¥–æ—Å—Ç—É–ø–Ω—ã endpoints:</p>
<ul>
<li><code>GET /post/:id</code> - —á–∏—Ç–∞—Ç—å –ø–æ—Å—Ç</li>
<li><code>POST /post</code> - —Å–æ–∑–¥–∞—Ç—å –ø–æ—Å—Ç</li>
<li><code>PUT /post/:id</code> - –æ–±–Ω–æ–≤–∏—Ç—å –ø–æ—Å—Ç</li>
<li><code>DELETE /post/:id</code> - —É–¥–∞–ª–∏—Ç—å –ø–æ—Å—Ç</li>
<li>–ò –º–µ—Ç–æ–¥ <code>findByUser</code> —á–µ—Ä–µ–∑ WebSocket/RPC</li>
</ul>
<h3 id="–ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ-–º–µ–∂–¥—É-http-–∏-websocket"><a class="header" href="#–ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ-–º–µ–∂–¥—É-http-–∏-websocket">–ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –º–µ–∂–¥—É HTTP –∏ WebSocket</a></h3>
<pre><code class="language-javascript">// –í–∞—Ä–∏–∞–Ω—Ç 1: HTTP
const server = require('./lib/http');
server(routing, 8000);

// –í–∞—Ä–∏–∞–Ω—Ç 2: WebSocket
const server = require('./lib/ws');
server(routing, 8000);

// –í–∞—Ä–∏–∞–Ω—Ç 3: –û–±–∞ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ
require('./lib/http')(routing, 8000);
require('./lib/ws')(routing, 8001);
</code></pre>
<h3 id="–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ-–≤-–±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–µ"><a class="header" href="#–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ-–≤-–±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–µ">–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–µ</a></h3>
<pre><code class="language-javascript">// api/user.js
({
  async create(login, password) {
    console.log('Creating user:', login);  // –ü–æ–ø–∞–¥–µ—Ç –≤ logger

    try {
      const passwordHash = await hash(password);
      const user = await db.create('users', { login, password: passwordHash });

      console.system('New user registered:', user.id);
      return user;
    } catch (error) {
      console.error('Failed to create user:', error);
      throw error;
    }
  }
});
</code></pre>
<hr />
<h2 id="16-–ß—Ç–æ-–µ—â–µ-–º–æ–∂–Ω–æ-—É–ª—É—á—à–∏—Ç—å"><a class="header" href="#16-–ß—Ç–æ-–µ—â–µ-–º–æ–∂–Ω–æ-—É–ª—É—á—à–∏—Ç—å">16. –ß—Ç–æ –µ—â–µ –º–æ–∂–Ω–æ —É–ª—É—á—à–∏—Ç—å</a></h2>
<h3 id="1-–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è"><a class="header" href="#1-–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è">1. –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è</a></h3>
<p><strong>–ü—Ä–æ–±–ª–µ–º–∞:</strong> –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –ë–î –∑–∞—Ö–∞—Ä–¥–∫–æ–∂–µ–Ω—ã.</p>
<p><strong>–†–µ—à–µ–Ω–∏–µ:</strong></p>
<pre><code class="language-javascript">// config/database.json
{
  "host": "localhost",
  "port": 5432,
  "database": "example",
  "user": "marcus",
  "password": ""
}

// main.js
const config = require('./config/database.json');
const pool = new pg.Pool(config);
</code></pre>
<h3 id="2-–í–∞–ª–∏–¥–∞—Ü–∏—è-–≤—Ö–æ–¥–Ω—ã—Ö-–¥–∞–Ω–Ω—ã—Ö"><a class="header" href="#2-–í–∞–ª–∏–¥–∞—Ü–∏—è-–≤—Ö–æ–¥–Ω—ã—Ö-–¥–∞–Ω–Ω—ã—Ö">2. –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö</a></h3>
<p><strong>–ü—Ä–æ–±–ª–µ–º–∞:</strong> –ù–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç–∏ –¥–∞–Ω–Ω—ã—Ö.</p>
<p><strong>–†–µ—à–µ–Ω–∏–µ:</strong> –î–æ–±–∞–≤–∏—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é —Å—Ö–µ–º.</p>
<pre><code class="language-javascript">// lib/validator.js
const validate = (schema) =&gt; (data) =&gt; {
  for (const [key, type] of Object.entries(schema)) {
    if (typeof data[key] !== type) {
      throw new Error(`Invalid type for ${key}: expected ${type}`);
    }
  }
  return data;
};

// api/user.js
const userSchema = {
  login: 'string',
  password: 'string'
};

const validateUser = validate(userSchema);

({
  async create(login, password) {
    const data = validateUser({ login, password });
    // ...
  }
});
</code></pre>
<h3 id="3-–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è-–∏-–∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è"><a class="header" href="#3-–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è-–∏-–∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è">3. –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è</a></h3>
<p><strong>–ü—Ä–æ–±–ª–µ–º–∞:</strong> –õ—é–±–æ–π –º–æ–∂–µ—Ç –≤—ã–∑—ã–≤–∞—Ç—å –ª—é–±—ã–µ –º–µ—Ç–æ–¥—ã.</p>
<p><strong>–†–µ—à–µ–Ω–∏–µ:</strong> Middleware –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø—Ä–∞–≤.</p>
<pre><code class="language-javascript">// lib/auth.js
const authenticate = async (token) =&gt; {
  // –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–æ–∫–µ–Ω–∞
  const session = await db.read('sessions', { token });
  return session ? session.userId : null;
};

const authorize = (roles) =&gt; (handler) =&gt; {
  return async (...args) =&gt; {
    const { userId } = context; // –ò–∑ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –∑–∞–ø—Ä–æ—Å–∞
    const user = await db.read('users', { id: userId });

    if (!roles.includes(user.role)) {
      throw new Error('Access denied');
    }

    return handler(...args);
  };
};

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
({
  delete: authorize(['admin'])(async (id) =&gt; {
    // –¢–æ–ª—å–∫–æ –∞–¥–º–∏–Ω—ã –º–æ–≥—É—Ç —É–¥–∞–ª—è—Ç—å
  })
});
</code></pre>
<h3 id="4-–¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏"><a class="header" href="#4-–¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏">4. –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏</a></h3>
<p><strong>–ü—Ä–æ–±–ª–µ–º–∞:</strong> –ù–µ—Ç –ø–æ–¥–¥–µ—Ä–∂–∫–∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π –¥–ª—è —Å–ª–æ–∂–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π.</p>
<p><strong>–†–µ—à–µ–Ω–∏–µ:</strong></p>
<pre><code class="language-javascript">// lib/db.js
const transaction = async (callback) =&gt; {
  const client = await pool.connect();
  try {
    await client.query('BEGIN');
    const result = await callback(client);
    await client.query('COMMIT');
    return result;
  } catch (error) {
    await client.query('ROLLBACK');
    throw error;
  } finally {
    client.release();
  }
};

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
await transaction(async (client) =&gt; {
  await client.query('INSERT INTO orders ...');
  await client.query('UPDATE products SET stock = stock - 1 ...');
});
</code></pre>
<h3 id="5-–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ"><a class="header" href="#5-–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ">5. –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ</a></h3>
<p><strong>–ü—Ä–æ–±–ª–µ–º–∞:</strong> –ö–∞–∂–¥—ã–π –∑–∞–ø—Ä–æ—Å –∏–¥–µ—Ç –≤ –ë–î.</p>
<p><strong>–†–µ—à–µ–Ω–∏–µ:</strong> –î–æ–±–∞–≤–∏—Ç—å —Å–ª–æ–π –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è.</p>
<pre><code class="language-javascript">// lib/cache.js
const cache = new Map();

const cached = (key, ttl) =&gt; (handler) =&gt; {
  return async (...args) =&gt; {
    const cacheKey = `${key}:${JSON.stringify(args)}`;

    if (cache.has(cacheKey)) {
      return cache.get(cacheKey);
    }

    const result = await handler(...args);
    cache.set(cacheKey, result);

    setTimeout(() =&gt; cache.delete(cacheKey), ttl);

    return result;
  };
};

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
({
  read: cached('user:read', 60000)(async (id) =&gt; {
    // –†–µ–∑—É–ª—å—Ç–∞—Ç –∫—ç—à–∏—Ä—É–µ—Ç—Å—è –Ω–∞ 60 —Å–µ–∫—É–Ω–¥
  })
});
</code></pre>
<h3 id="6-–ú–∏–≥—Ä–∞—Ü–∏–∏-–ë–î"><a class="header" href="#6-–ú–∏–≥—Ä–∞—Ü–∏–∏-–ë–î">6. –ú–∏–≥—Ä–∞—Ü–∏–∏ –ë–î</a></h3>
<p><strong>–ü—Ä–æ–±–ª–µ–º–∞:</strong> –ù–µ—Ç –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π —Å—Ö–µ–º—ã –ë–î.</p>
<p><strong>–†–µ—à–µ–Ω–∏–µ:</strong> –°–∏—Å—Ç–µ–º–∞ –º–∏–≥—Ä–∞—Ü–∏–π.</p>
<pre><code class="language-javascript">// migrations/001_create_users.sql
CREATE TABLE users (
  id SERIAL PRIMARY KEY,
  login VARCHAR(50) UNIQUE NOT NULL,
  password VARCHAR(255) NOT NULL
);

// migrations/002_add_email.sql
ALTER TABLE users ADD COLUMN email VARCHAR(100);

// lib/migrations.js
const runMigrations = async () =&gt; {
  const files = await fsp.readdir('./migrations');
  for (const file of files.sort()) {
    const sql = await fsp.readFile(`./migrations/${file}`, 'utf8');
    await pool.query(sql);
    console.log(`Migration ${file} applied`);
  }
};
</code></pre>
<hr />
<h2 id="17-–°—Ä–∞–≤–Ω–µ–Ω–∏–µ-—Å-–ø–æ–ø—É–ª—è—Ä–Ω—ã–º–∏-—Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∞–º–∏"><a class="header" href="#17-–°—Ä–∞–≤–Ω–µ–Ω–∏–µ-—Å-–ø–æ–ø—É–ª—è—Ä–Ω—ã–º–∏-—Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∞–º–∏">17. –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å –ø–æ–ø—É–ª—è—Ä–Ω—ã–º–∏ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∞–º–∏</a></h2>
<h3 id="express-vs-–°–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π-—Ñ—Ä–µ–π–º–≤–æ—Ä–∫"><a class="header" href="#express-vs-–°–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π-—Ñ—Ä–µ–π–º–≤–æ—Ä–∫">Express vs. –°–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π —Ñ—Ä–µ–π–º–≤–æ—Ä–∫</a></h3>
<div class="table-wrapper"><table><thead><tr><th>–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞</th><th>Express</th><th>–ù–∞—à —Ñ—Ä–µ–π–º–≤–æ—Ä–∫</th></tr></thead><tbody>
<tr><td>–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏</td><td>~4 –ú–ë</td><td>~1 –ú–ë</td></tr>
<tr><td>–†–∞–∑–º–µ—Ä –∫–æ–¥–∞</td><td>~2.6 –ö–ë</td><td>~7.5 –ö–ë</td></tr>
<tr><td>–ê–±—Å—Ç—Ä–∞–∫—Ü–∏—è —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞</td><td>–ù–µ—Ç</td><td>–î–∞ (HTTP, WS)</td></tr>
<tr><td>CRUD –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä</td><td>–ù–µ—Ç</td><td>–î–∞</td></tr>
<tr><td>–í–Ω–µ–¥—Ä–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π</td><td>–ù–µ—Ç</td><td>–î–∞ (Sandbox)</td></tr>
<tr><td>–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ</td><td>–í–Ω–µ—à–Ω–µ–µ</td><td>–í—Å—Ç—Ä–æ–µ–Ω–Ω–æ–µ</td></tr>
<tr><td>–ù–∞—Å—Ç—Ä–æ–π–∫–∞</td><td>Middleware</td><td>Sandbox + DI</td></tr>
<tr><td>–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å</td><td>–•–æ—Ä–æ—à–∞—è</td><td>–û—Ç–ª–∏—á–Ω–∞—è</td></tr>
</tbody></table>
</div>
<h3 id="–§–∏–ª–æ—Å–æ—Ñ–∏—è-–æ—Ç–ª–∏—á–∏–π"><a class="header" href="#–§–∏–ª–æ—Å–æ—Ñ–∏—è-–æ—Ç–ª–∏—á–∏–π">–§–∏–ª–æ—Å–æ—Ñ–∏—è –æ—Ç–ª–∏—á–∏–π</a></h3>
<p><strong>Express:</strong></p>
<ul>
<li>Middleware-based architecture</li>
<li>–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –æ—Ç —ç–∫–æ—Å–∏—Å—Ç–µ–º—ã npm –ø–∞–∫–µ—Ç–æ–≤</li>
<li>–Ø–≤–Ω–∞—è —Ä–∞–±–æ—Ç–∞ —Å request/response</li>
<li>–†–æ—É—Ç–∏–Ω–≥ —á–µ—Ä–µ–∑ –º–µ—Ç–æ–¥—ã app.get(), app.post()</li>
</ul>
<p><strong>–ù–∞—à –ø–æ–¥—Ö–æ–¥:</strong></p>
<ul>
<li>Contract-based architecture</li>
<li>–ú–∏–Ω–∏–º—É–º –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π</li>
<li>–†–∞–±–æ—Ç–∞ —Å –∞–±—Å—Ç—Ä–∞–∫—Ü–∏—è–º–∏ (—Ä–æ—É—Ç–∏–Ω–≥ –∫–∞–∫ –æ–±—ä–µ–∫—Ç)</li>
<li>–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–æ—É—Ç–∏–Ω–≥ —á–µ—Ä–µ–∑ —Ñ–∞–π–ª–æ–≤—É—é —Å–∏—Å—Ç–µ–º—É</li>
</ul>
<hr />
<h2 id="18-–í–∞–∂–Ω—ã–µ-–∑–∞–º–µ—á–∞–Ω–∏—è-–ø–æ-sql"><a class="header" href="#18-–í–∞–∂–Ω—ã–µ-–∑–∞–º–µ—á–∞–Ω–∏—è-–ø–æ-sql">18. –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è –ø–æ SQL</a></h2>
<h3 id="–ü–æ—á–µ–º—É-–Ω–µ–ª—å–∑—è-–ø–æ–ª–Ω–æ—Å—Ç—å—é-–∞–±—Å—Ç—Ä–∞–≥–∏—Ä–æ–≤–∞—Ç—å—Å—è-–æ—Ç-sql"><a class="header" href="#–ü–æ—á–µ–º—É-–Ω–µ–ª—å–∑—è-–ø–æ–ª–Ω–æ—Å—Ç—å—é-–∞–±—Å—Ç—Ä–∞–≥–∏—Ä–æ–≤–∞—Ç—å—Å—è-–æ—Ç-sql">–ü–æ—á–µ–º—É –Ω–µ–ª—å–∑—è –ø–æ–ª–Ω–æ—Å—Ç—å—é –∞–±—Å—Ç—Ä–∞–≥–∏—Ä–æ–≤–∞—Ç—å—Å—è –æ—Ç SQL?</a></h3>
<p><strong>–ü—Ä–æ–±–ª–µ–º–∞:</strong> SQL - –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–∞—è –¥–µ—Ç–∞–ª—å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏, –∫–æ—Ç–æ—Ä–∞—è –æ—Å—Ç–∞–µ—Ç—Å—è –≤ –¥–æ–º–µ–Ω–Ω–æ–º —Å–ª–æ–µ.</p>
<p><strong>–ü—Ä–∏—á–∏–Ω—ã:</strong></p>
<ol>
<li><strong>–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:</strong> –ê–±—Å—Ç—Ä–∞–∫—Ü–∏–∏ –≤—Ä–æ–¥–µ ORM –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç –Ω–µ–æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã</li>
<li><strong>–°–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –°–£–ë–î:</strong> JOIN, –ø–æ–¥–∑–∞–ø—Ä–æ—Å—ã, –∞–≥—Ä–µ–≥–∞—Ü–∏—è, –∏–Ω–¥–µ–∫—Å—ã</li>
<li><strong>–°–ª–æ–∂–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã:</strong> –ò–Ω–æ–≥–¥–∞ –Ω—É–∂–µ–Ω —Å—ã—Ä–æ–π SQL –¥–ª—è —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏</li>
</ol>
<p><strong>–ö–æ–º–ø—Ä–æ–º–∏—Å—Å:</strong></p>
<pre><code class="language-javascript">// –ü—Ä–æ—Å—Ç—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ - —á–µ—Ä–µ–∑ CRUD –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä
const user = await db.read('users', id);

// –°–ª–æ–∂–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã - —Å—ã—Ä–æ–π SQL
const topUsers = await pool.query(`
  SELECT u.*, COUNT(p.id) as post_count
  FROM users u
  LEFT JOIN posts p ON u.id = p.user_id
  GROUP BY u.id
  ORDER BY post_count DESC
  LIMIT 10
`);
</code></pre>
<p><strong>–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞:</strong> –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π SQL (—Å—Ç–∞–Ω–¥–∞—Ä—Ç SQL-89/92) –¥–ª—è –ø–µ—Ä–µ–Ω–æ—Å–∏–º–æ—Å—Ç–∏ –º–µ–∂–¥—É –°–£–ë–î, –Ω–æ –ø–æ—Ç–µ—Ä—è—Ç—å —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏.</p>
<hr />
<h2 id="19-–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞-—Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–π-–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã"><a class="header" href="#19-–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞-—Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–π-–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã">19. –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã</a></h2>
<h3 id="1-–ú–∏–Ω–∏–º–∞–ª–∏–∑–º"><a class="header" href="#1-–ú–∏–Ω–∏–º–∞–ª–∏–∑–º">1. –ú–∏–Ω–∏–º–∞–ª–∏–∑–º</a></h3>
<ul>
<li>–í—Å–µ–≥–æ ~7.5 –ö–ë –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–Ω–æ–≥–æ –∫–æ–¥–∞</li>
<li>–¢–æ–ª—å–∫–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏</li>
<li>–ù–µ—Ç "–º–∞–≥–∏–∏" —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–æ–≤</li>
</ul>
<h3 id="2-–ü—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å"><a class="header" href="#2-–ü—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å">2. –ü—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å</a></h3>
<ul>
<li>–í–µ—Å—å –∫–æ–¥ –Ω–∞–ø–∏—Å–∞–Ω —è–≤–Ω–æ</li>
<li>–õ–µ–≥–∫–æ –ø–æ–Ω—è—Ç—å, –∫–∞–∫ –≤—Å–µ —Ä–∞–±–æ—Ç–∞–µ—Ç</li>
<li>–ù–µ—Ç —Å–∫—Ä—ã—Ç—ã—Ö –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–π</li>
</ul>
<h3 id="3-–ì–∏–±–∫–æ—Å—Ç—å"><a class="header" href="#3-–ì–∏–±–∫–æ—Å—Ç—å">3. –ì–∏–±–∫–æ—Å—Ç—å</a></h3>
<ul>
<li>–õ–µ–≥–∫–æ –º–µ–Ω—è—Ç—å —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω—ã–π —Å–ª–æ–π</li>
<li>–ü—Ä–æ—Å—Ç–æ –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ —Å—É—â–Ω–æ—Å—Ç–∏</li>
<li>–ö–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏—è –ª—é–±–æ–π —á–∞—Å—Ç–∏</li>
</ul>
<h3 id="4-–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å"><a class="header" href="#4-–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å">4. –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å</a></h3>
<ul>
<li>–ú–∏–Ω–∏–º—É–º –ª–∏—à–Ω–∏—Ö —Å–ª–æ–µ–≤</li>
<li>–ü—Ä—è–º–∞—è —Ä–∞–±–æ—Ç–∞ —Å –±–∞–∑–æ–≤—ã–º–∏ API Node.js</li>
<li>–≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–∞—è —Ä–∞–±–æ—Ç–∞ —Å –±—É—Ñ–µ—Ä–∞–º–∏ –∏ –ø–æ—Ç–æ–∫–∞–º–∏</li>
</ul>
<h3 id="5-–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å"><a class="header" href="#5-–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å">5. –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å</a></h3>
<ul>
<li>Sandbox –∏–∑–æ–ª–∏—Ä—É–µ—Ç –∫–æ–¥</li>
<li>–Ø–≤–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏</li>
<li>–û–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫ —Å–∏—Å—Ç–µ–º–Ω—ã–º —Ä–µ—Å—É—Ä—Å–∞–º</li>
</ul>
<h3 id="6-–¢–µ—Å—Ç–∏—Ä—É–µ–º–æ—Å—Ç—å"><a class="header" href="#6-–¢–µ—Å—Ç–∏—Ä—É–µ–º–æ—Å—Ç—å">6. –¢–µ—Å—Ç–∏—Ä—É–µ–º–æ—Å—Ç—å</a></h3>
<ul>
<li>–í–Ω–µ–¥—Ä–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π —É–ø—Ä–æ—â–∞–µ—Ç –º–æ–∫–∏</li>
<li>–ò–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –º–æ–¥—É–ª–∏</li>
<li>–ü—Ä–æ—Å—Ç–æ—Ç–∞ —é–Ω–∏—Ç-—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è</li>
</ul>
<hr />
<h2 id="20-–ü–∞—Ç—Ç–µ—Ä–Ω—ã-–ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è-–≤-–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ"><a class="header" href="#20-–ü–∞—Ç—Ç–µ—Ä–Ω—ã-–ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è-–≤-–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ">20. –ü–∞—Ç—Ç–µ—Ä–Ω—ã –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –≤ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ</a></h2>
<h3 id="–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω—ã–µ-–ø–∞—Ç—Ç–µ—Ä–Ω—ã"><a class="header" href="#–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω—ã–µ-–ø–∞—Ç—Ç–µ—Ä–Ω—ã">–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã</a></h3>
<ol>
<li><strong>Front Controller</strong> - –µ–¥–∏–Ω–∞—è —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞ –¥–ª—è HTTP –∑–∞–ø—Ä–æ—Å–æ–≤</li>
<li><strong>Dependency Injection</strong> - –≤–Ω–µ–¥—Ä–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π —á–µ—Ä–µ–∑ Sandbox</li>
<li><strong>Factory</strong> - –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä CRUD –æ–ø–µ—Ä–∞—Ü–∏–π</li>
<li><strong>Adapter</strong> - –∞–¥–∞–ø—Ç–∞—Ü–∏—è —Ä–∞–∑–Ω—ã—Ö —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–æ–≤ –∫ –µ–¥–∏–Ω–æ–º—É –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É</li>
<li><strong>Strategy</strong> - –≤—ã–±–æ—Ä —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞ (HTTP, WebSocket)</li>
<li><strong>Module</strong> - —Å–∏—Å—Ç–µ–º–∞ –º–æ–¥—É–ª–µ–π —Å –∏–∑–æ–ª—è—Ü–∏–µ–π</li>
<li><strong>Proxy</strong> - –∫–ª–∏–µ–Ω—Ç—Å–∫–∏–π API proxy –¥–ª—è RPC</li>
<li><strong>Template Method</strong> - –±–∞–∑–æ–≤—ã–π CRUD —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è</li>
</ol>
<h3 id="–ü—Ä–∏–Ω—Ü–∏–ø—ã-solid-1"><a class="header" href="#–ü—Ä–∏–Ω—Ü–∏–ø—ã-solid-1">–ü—Ä–∏–Ω—Ü–∏–ø—ã SOLID</a></h3>
<ol>
<li>
<p><strong>S - Single Responsibility:</strong></p>
<ul>
<li>–ö–∞–∂–¥—ã–π –º–æ–¥—É–ª—å –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ –æ–¥–Ω—É –≤–µ—â—å</li>
<li><code>/lib/http.js</code> - —Ç–æ–ª—å–∫–æ HTTP</li>
<li><code>/lib/db.js</code> - —Ç–æ–ª—å–∫–æ –ë–î</li>
</ul>
</li>
<li>
<p><strong>O - Open/Closed:</strong></p>
<ul>
<li>CRUD –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä –æ—Ç–∫—Ä—ã—Ç –¥–ª—è —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è (–æ–±–µ—Ä—Ç–∫–∏)</li>
<li>–ó–∞–∫—Ä—ã—Ç –¥–ª—è –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏–∏</li>
</ul>
</li>
<li>
<p><strong>L - Liskov Substitution:</strong></p>
<ul>
<li>HTTP –∏ WebSocket —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç—ã –≤–∑–∞–∏–º–æ–∑–∞–º–µ–Ω—è–µ–º—ã</li>
<li>–û–±–∞ —Ä–µ–∞–ª–∏–∑—É—é—Ç –∫–æ–Ω—Ç—Ä–∞–∫—Ç <code>(routing, port) =&gt; void</code></li>
</ul>
</li>
<li>
<p><strong>I - Interface Segregation:</strong></p>
<ul>
<li>–ú–æ–¥—É–ª–∏ –≤ Sandbox –ø–æ–ª—É—á–∞—é—Ç —Ç–æ–ª—å–∫–æ –Ω—É–∂–Ω—ã–µ –∏–º –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏</li>
<li>–ù–µ –≤–µ—Å—å Node.js API, –∞ —Ç–æ–ª—å–∫–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ–µ</li>
</ul>
</li>
<li>
<p><strong>D - Dependency Inversion:</strong></p>
<ul>
<li>–ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ –Ω–µ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞</li>
<li>–û–±–∞ –∑–∞–≤–∏—Å—è—Ç –æ—Ç –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–∏ (—Ä–æ—É—Ç–∏–Ω–≥)</li>
</ul>
</li>
</ol>
<hr />
<h2 id="21-–î–∞–ª—å–Ω–µ–π—à–µ–µ-—Ä–∞–∑–≤–∏—Ç–∏–µ-–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã"><a class="header" href="#21-–î–∞–ª—å–Ω–µ–π—à–µ–µ-—Ä–∞–∑–≤–∏—Ç–∏–µ-–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã">21. –î–∞–ª—å–Ω–µ–π—à–µ–µ —Ä–∞–∑–≤–∏—Ç–∏–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã</a></h2>
<h3 id="–†–∞–∑–¥–µ–ª–µ–Ω–∏–µ-–Ω–∞-—Ç—Ä–∏-—Å–ª–æ—è"><a class="header" href="#–†–∞–∑–¥–µ–ª–µ–Ω–∏–µ-–Ω–∞-—Ç—Ä–∏-—Å–ª–æ—è">–†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –Ω–∞ —Ç—Ä–∏ —Å–ª–æ—è</a></h3>
<p><strong>–¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ:</strong> 2 —Å–ª–æ—è (–±–∏–∑–Ω–µ—Å + –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞)</p>
<p><strong>–°–ª–µ–¥—É—é—â–∏–π —à–∞–≥:</strong> 3 —Å–ª–æ—è</p>
<pre><code>‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   Application Services Layer    ‚îÇ  ‚Üê –û—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏—è, workflow
‚îÇ   (Use Cases, Scenarios)        ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
              ‚Üì
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ     Domain Services Layer       ‚îÇ  ‚Üê –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞
‚îÇ     (Business Rules)            ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
              ‚Üì
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ        Domain Model             ‚îÇ  ‚Üê Entities, Value Objects
‚îÇ        (Pure Logic)             ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
</code></pre>
<h3 id="–ü—Ä–∏–º–µ—Ä-—Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è"><a class="header" href="#–ü—Ä–∏–º–µ—Ä-—Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è">–ü—Ä–∏–º–µ—Ä —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è</a></h3>
<pre><code class="language-javascript">// domain/entities/User.js - —á–∏—Å—Ç–∞—è –º–æ–¥–µ–ª—å
class User {
  constructor(id, login, email) {
    this.id = id;
    this.login = login;
    this.email = email;
  }

  isValid() {
    return this.login.length &gt;= 3 &amp;&amp; this.email.includes('@');
  }
}

// domain/services/UserService.js - –¥–æ–º–µ–Ω–Ω–∞—è –ª–æ–≥–∏–∫–∞
class UserService {
  constructor(userRepository, hashService) {
    this.userRepository = userRepository;
    this.hashService = hashService;
  }

  async register(login, password, email) {
    const passwordHash = await this.hashService.hash(password);
    const user = new User(null, login, email);

    if (!user.isValid()) {
      throw new Error('Invalid user data');
    }

    return this.userRepository.create({ login, password: passwordHash, email });
  }
}

// application/UseCases/RegisterUser.js - —Å—Ü–µ–Ω–∞—Ä–∏–π
class RegisterUserUseCase {
  constructor(userService, emailService, logger) {
    this.userService = userService;
    this.emailService = emailService;
    this.logger = logger;
  }

  async execute(login, password, email) {
    this.logger.log('Registering user:', login);

    const user = await this.userService.register(login, password, email);
    await this.emailService.sendWelcome(user.email);

    this.logger.log('User registered:', user.id);
    return user;
  }
}
</code></pre>
<hr />
<h2 id="–ö–ª—é—á–µ–≤—ã–µ-–≤—ã–≤–æ–¥—ã-19"><a class="header" href="#–ö–ª—é—á–µ–≤—ã–µ-–≤—ã–≤–æ–¥—ã-19">–ö–ª—é—á–µ–≤—ã–µ –≤—ã–≤–æ–¥—ã</a></h2>
<h3 id="1-–≠–≤–æ–ª—é—Ü–∏—è-–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã"><a class="header" href="#1-–≠–≤–æ–ª—é—Ü–∏—è-–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã">1. –≠–≤–æ–ª—é—Ü–∏—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã</a></h3>
<p>–ú—ã –ø—Ä–æ—à–ª–∏ –ø—É—Ç—å –æ—Ç –º–æ–Ω–æ–ª–∏—Ç–Ω–æ–≥–æ Express –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –¥–æ –º–Ω–æ–≥–æ—É—Ä–æ–≤–Ω–µ–≤–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã:</p>
<p><strong>–®–∞–≥ 1:</strong> Express –º–æ–Ω–æ–ª–∏—Ç (77 —Å—Ç—Ä–æ–∫, 4 –ú–ë –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π)
‚Üì
<strong>–®–∞–≥ 2:</strong> –û—Ç–∫–∞–∑ –æ—Ç Express (–ø—Ä–æ—Å—Ç–æ–π HTTP —Å–µ—Ä–≤–µ—Ä, 840 –ö–ë)
‚Üì
<strong>–®–∞–≥ 3:</strong> –ü–∞—Ç—Ç–µ—Ä–Ω Front Controller (16 —Å—Ç—Ä–æ–∫)
‚Üì
<strong>–®–∞–≥ 4:</strong> –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä CRUD (—É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π)
‚Üì
<strong>–®–∞–≥ 5:</strong> –ö–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏—è CRUD (–æ–±–µ—Ä—Ç–∫–∏)
‚Üì
<strong>–®–∞–≥ 6:</strong> –ê–±—Å—Ç—Ä–∞–∫—Ü–∏—è —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞ (HTTP + WebSocket)
‚Üì
<strong>–®–∞–≥ 7:</strong> –ê–≤—Ç–æ–∑–∞–≥—Ä—É–∑–∫–∞ API (—Ñ–∞–π–ª–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞)
‚Üì
<strong>–®–∞–≥ 8:</strong> –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ (—Ü–≤–µ—Ç–Ω–æ–π –≤—ã–≤–æ–¥)
‚Üì
<strong>–®–∞–≥ 9:</strong> –í–Ω–µ–¥—Ä–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π (Sandbox)
‚Üì
<strong>–ò—Ç–æ–≥:</strong> –ß–∏—Å—Ç–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ (7.5 –ö–ë –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã, 1 –ú–ë –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π)</p>
<h3 id="2-–ì–ª–∞–≤–Ω—ã–µ-–ø—Ä–∏–Ω—Ü–∏–ø—ã"><a class="header" href="#2-–ì–ª–∞–≤–Ω—ã–µ-–ø—Ä–∏–Ω—Ü–∏–ø—ã">2. –ì–ª–∞–≤–Ω—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã</a></h3>
<ol>
<li><strong>–û—Ç–¥–µ–ª—è–π –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫—É –æ—Ç –¥–µ—Ç–∞–ª–µ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏</strong></li>
<li><strong>–ò—Å–ø–æ–ª—å–∑—É–π –≤–Ω–µ–¥—Ä–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π</strong></li>
<li><strong>–ê–±—Å—Ç—Ä–∞–≥–∏—Ä—É–π —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω—ã–π —Å–ª–æ–π</strong></li>
<li><strong>–ì–µ–Ω–µ—Ä–∏—Ä—É–π –ø–æ–≤—Ç–æ—Ä—è—é—â–∏–π—Å—è –∫–æ–¥</strong></li>
<li><strong>–°–ª–µ–¥—É–π –ø—Ä–∏–Ω—Ü–∏–ø–∞–º SOLID</strong></li>
<li><strong>–ú–∏–Ω–∏–º–∏–∑–∏—Ä—É–π –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏</strong></li>
<li><strong>–î–µ–ª–∞–π –∫–æ–¥ –ø—Ä–æ–∑—Ä–∞—á–Ω—ã–º –∏ –ø–æ–Ω—è—Ç–Ω—ã–º</strong></li>
</ol>
<h3 id="3-–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ-–ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞"><a class="header" href="#3-–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ-–ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞">3. –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞</a></h3>
<ul>
<li>–õ–µ–≥–∫–æ –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ API (–æ–¥–∏–Ω —Ñ–∞–π–ª)</li>
<li>–ü—Ä–æ—Å—Ç–æ –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç—å—Å—è –º–µ–∂–¥—É –ø—Ä–æ—Ç–æ–∫–æ–ª–∞–º–∏ (–æ–¥–Ω–∞ —Å—Ç—Ä–æ–∫–∞)</li>
<li>–£–¥–æ–±–Ω–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å (–∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –º–æ–¥—É–ª–∏)</li>
<li>–ë—ã—Å—Ç—Ä–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞ (–º–µ–Ω—å—à–µ boilerplate –∫–æ–¥–∞)</li>
<li>–í—ã—Å–æ–∫–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å (–º–∏–Ω–∏–º—É–º –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–π)</li>
</ul>
<h3 id="4-–ß—Ç–æ-–¥–∞–ª—å—à–µ"><a class="header" href="#4-–ß—Ç–æ-–¥–∞–ª—å—à–µ">4. –ß—Ç–æ –¥–∞–ª—å—à–µ?</a></h3>
<ul>
<li>–†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –Ω–∞ Application/Domain/Infrastructure —Å–ª–æ–∏</li>
<li>–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏</li>
<li>–†–µ–∞–ª–∏–∑–∞—Ü–∏—è –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è</li>
<li>–°–∏—Å—Ç–µ–º–∞ –º–∏–≥—Ä–∞—Ü–∏–π –ë–î</li>
<li>–†–∞–±–æ—Ç–∞ —Å –¥—Ä—É–≥–∏–º–∏ –∏—Å—Ç–æ—á–Ω–∏–∫–∞–º–∏ –¥–∞–Ω–Ω—ã—Ö (Redis, —Ñ–∞–π–ª—ã)</li>
</ul>
<hr />
<h2 id="–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ-–º–∞—Ç–µ—Ä–∏–∞–ª—ã-5"><a class="header" href="#–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ-–º–∞—Ç–µ—Ä–∏–∞–ª—ã-5">–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã</a></h2>
<h3 id="–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–∞—è-–ª–∏—Ç–µ—Ä–∞—Ç—É—Ä–∞-1"><a class="header" href="#–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–∞—è-–ª–∏—Ç–µ—Ä–∞—Ç—É—Ä–∞-1">–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–∞—è –ª–∏—Ç–µ—Ä–∞—Ç—É—Ä–∞</a></h3>
<ol>
<li><strong>Clean Architecture</strong> (Robert C. Martin) - –ø—Ä–∏–Ω—Ü–∏–ø—ã —á–∏—Å—Ç–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã</li>
<li><strong>Domain-Driven Design</strong> (Eric Evans) - —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞ —á–µ—Ä–µ–∑ –¥–æ–º–µ–Ω–Ω—É—é –º–æ–¥–µ–ª—å</li>
<li><strong>Patterns of Enterprise Application Architecture</strong> (Martin Fowler) - –ø–∞—Ç—Ç–µ—Ä–Ω—ã –∫–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π</li>
</ol>
<h3 id="–ü–æ–ª–µ–∑–Ω—ã–µ-—Å—Å—ã–ª–∫–∏-4"><a class="header" href="#–ü–æ–ª–µ–∑–Ω—ã–µ-—Å—Å—ã–ª–∫–∏-4">–ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏</a></h3>
<ul>
<li>Node.js Documentation: https://nodejs.org/docs</li>
<li>PostgreSQL Documentation: https://postgresql.org/docs</li>
<li>WebSocket Protocol: https://tools.ietf.org/html/rfc6455</li>
</ul>
<h3 id="–ò—Å—Ö–æ–¥–Ω—ã–π-–∫–æ–¥-–ø—Ä–∏–º–µ—Ä–æ–≤"><a class="header" href="#–ò—Å—Ö–æ–¥–Ω—ã–π-–∫–æ–¥-–ø—Ä–∏–º–µ—Ä–æ–≤">–ò—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥ –ø—Ä–∏–º–µ—Ä–æ–≤</a></h3>
<p>–í—Å–µ –ø—Ä–∏–º–µ—Ä—ã –∏–∑ –ª–µ–∫—Ü–∏–∏ –¥–æ—Å—Ç—É–ø–Ω—ã –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏. –ö–∞–∂–¥–∞—è –ø–∞–ø–∫–∞ —Å–æ–¥–µ—Ä–∂–∏—Ç:</p>
<ul>
<li>–ò—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥</li>
<li>package.json —Å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏</li>
<li>SQL —Å–∫—Ä–∏–ø—Ç—ã –¥–ª—è –ë–î</li>
<li>README —Å –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º–∏ –ø–æ –∑–∞–ø—É—Å–∫—É</li>
</ul>
<p><strong>–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:</strong> –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –∑–∞–ø—É—Å—Ç–∏—Ç—å –≤—Å–µ –ø—Ä–∏–º–µ—Ä—ã –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ, —á—Ç–æ–±—ã —É–≤–∏–¥–µ—Ç—å —ç–≤–æ–ª—é—Ü–∏—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã —Å–≤–æ–∏–º–∏ –≥–ª–∞–∑–∞–º–∏.</p>
<hr />
<h2 id="–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ-–∑–∞–¥–∞–Ω–∏—è-3"><a class="header" href="#–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ-–∑–∞–¥–∞–Ω–∏—è-3">–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –∑–∞–¥–∞–Ω–∏—è</a></h2>
<h3 id="–ó–∞–¥–∞–Ω–∏–µ-1-–î–æ–±–∞–≤–∏—Ç—å-–Ω–æ–≤—É—é-—Å—É—â–Ω–æ—Å—Ç—å"><a class="header" href="#–ó–∞–¥–∞–Ω–∏–µ-1-–î–æ–±–∞–≤–∏—Ç—å-–Ω–æ–≤—É—é-—Å—É—â–Ω–æ—Å—Ç—å">–ó–∞–¥–∞–Ω–∏–µ 1: –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—É—é —Å—É—â–Ω–æ—Å—Ç—å</a></h3>
<p>–°–æ–∑–¥–∞–π—Ç–µ API –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è–º–∏ (comments):</p>
<ul>
<li>–ü–æ–ª—è: id, post_id, user_id, content, created_at</li>
<li>–ú–µ—Ç–æ–¥—ã: read, create, update, delete, findByPost</li>
</ul>
<h3 id="–ó–∞–¥–∞–Ω–∏–µ-2-–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å-–≤–∞–ª–∏–¥–∞—Ü–∏—é"><a class="header" href="#–ó–∞–¥–∞–Ω–∏–µ-2-–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å-–≤–∞–ª–∏–¥–∞—Ü–∏—é">–ó–∞–¥–∞–Ω–∏–µ 2: –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é</a></h3>
<p>–î–æ–±–∞–≤—å—Ç–µ –≤–∞–ª–∏–¥–∞—Ü–∏—é –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö:</p>
<ul>
<li>–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–æ–≤</li>
<li>–ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö –ø–æ–ª–µ–π</li>
<li>–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–æ—Ä–º–∞—Ç–æ–≤ (email, –¥–ª–∏–Ω–∞ —Å—Ç—Ä–æ–∫–∏)</li>
</ul>
<h3 id="–ó–∞–¥–∞–Ω–∏–µ-3-–î–æ–±–∞–≤–∏—Ç—å-–∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é"><a class="header" href="#–ó–∞–¥–∞–Ω–∏–µ-3-–î–æ–±–∞–≤–∏—Ç—å-–∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é">–ó–∞–¥–∞–Ω–∏–µ 3: –î–æ–±–∞–≤–∏—Ç—å –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é</a></h3>
<p>–†–µ–∞–ª–∏–∑—É–π—Ç–µ –ø—Ä–æ—Å—Ç—É—é —Å–∏—Å—Ç–µ–º—É –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏:</p>
<ul>
<li>–°–æ–∑–¥–∞–Ω–∏–µ —Å–µ—Å—Å–∏–π</li>
<li>–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–æ–∫–µ–Ω–æ–≤</li>
<li>Middleware –¥–ª—è –∑–∞—â–∏—â–µ–Ω–Ω—ã—Ö endpoints</li>
</ul>
<h3 id="–ó–∞–¥–∞–Ω–∏–µ-4-–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ"><a class="header" href="#–ó–∞–¥–∞–Ω–∏–µ-4-–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ">–ó–∞–¥–∞–Ω–∏–µ 4: –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ</a></h3>
<p>–†–µ–∞–ª–∏–∑—É–π—Ç–µ —Å–ª–æ–π –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è:</p>
<ul>
<li>In-memory –∫—ç—à</li>
<li>TTL –¥–ª—è –∑–∞–ø–∏—Å–µ–π</li>
<li>–ò–Ω–≤–∞–ª–∏–¥–∞—Ü–∏—è –∫—ç—à–∞ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö</li>
</ul>
<h3 id="–ó–∞–¥–∞–Ω–∏–µ-5-–ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ-–ë–î"><a class="header" href="#–ó–∞–¥–∞–Ω–∏–µ-5-–ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ-–ë–î">–ó–∞–¥–∞–Ω–∏–µ 5: –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –ë–î</a></h3>
<p>–î–æ–±–∞–≤—å—Ç–µ –ø–æ–¥–¥–µ—Ä–∂–∫—É –¥—Ä—É–≥–æ–π –°–£–ë–î (MySQL –∏–ª–∏ SQLite):</p>
<ul>
<li>–°–æ–∑–¥–∞–π—Ç–µ –∞–¥–∞–ø—Ç–µ—Ä –¥–ª—è –Ω–æ–≤–æ–π –ë–î</li>
<li>–†–µ–∞–ª–∏–∑—É–π—Ç–µ —Ç–æ—Ç –∂–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å</li>
<li>–î–æ–±–∞–≤—å—Ç–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –≤—ã–±–æ—Ä–∞ –ë–î —á–µ—Ä–µ–∑ –∫–æ–Ω—Ñ–∏–≥</li>
</ul>
<hr />
<p><strong>–ö–æ–Ω–µ—Ü –∫–æ–Ω—Å–ø–µ–∫—Ç–∞</strong></p>
<p>–≠—Ç–∞ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç, –∫–∞–∫ –º–æ–∂–Ω–æ –ø–æ—Å—Ç—Ä–æ–∏—Ç—å –º–æ—â–Ω–æ–µ –∏ –≥–∏–±–∫–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–∞ Node.js –±–µ–∑ —Ç—è–∂–µ–ª—ã—Ö —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–æ–≤, –∏—Å–ø–æ–ª—å–∑—É—è –ø—Ä–æ—Å—Ç—ã–µ –∏ –ø–æ–Ω—è—Ç–Ω—ã–µ –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–∏. –ì–ª–∞–≤–Ω–æ–µ - —Å–ª–µ–¥–æ–≤–∞—Ç—å –ø—Ä–∏–Ω—Ü–∏–ø–∞–º —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ –∏ –≤–Ω–µ–¥—Ä–µ–Ω–∏—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="–ü–∞—Ç—Ç–µ—Ä–Ω-abstract-factory-–ê–±—Å—Ç—Ä–∞–∫—Ç–Ω–∞—è-—Ñ–∞–±—Ä–∏–∫–∞"><a class="header" href="#–ü–∞—Ç—Ç–µ—Ä–Ω-abstract-factory-–ê–±—Å—Ç—Ä–∞–∫—Ç–Ω–∞—è-—Ñ–∞–±—Ä–∏–∫–∞">–ü–∞—Ç—Ç–µ—Ä–Ω Abstract Factory (–ê–±—Å—Ç—Ä–∞–∫—Ç–Ω–∞—è —Ñ–∞–±—Ä–∏–∫–∞)</a></h1>
<h2 id="–û–±–∑–æ—Ä-14"><a class="header" href="#–û–±–∑–æ—Ä-14">–û–±–∑–æ—Ä</a></h2>
<p><strong>Abstract Factory</strong> (–ê–±—Å—Ç—Ä–∞–∫—Ç–Ω–∞—è —Ñ–∞–±—Ä–∏–∫–∞) ‚Äî —ç—Ç–æ –ø–æ—Ä–æ–∂–¥–∞—é—â–∏–π –ø–∞—Ç—Ç–µ—Ä–Ω –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏–∑ ¬´–ë–∞–Ω–¥—ã —á–µ—Ç—ã—Ä—ë—Ö¬ª (GoF), –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Å–µ–º–µ–π—Å—Ç–≤ –≤–∑–∞–∏–º–æ—Å–≤—è–∑–∞–Ω–Ω—ã—Ö –∏–ª–∏ –≤–∑–∞–∏–º–æ–∑–∞–≤–∏—Å–∏–º—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤ –±–µ–∑ —É–∫–∞–∑–∞–Ω–∏—è –∏—Ö –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö –∫–ª–∞—Å—Å–æ–≤.</p>
<h3 id="–û—Å–Ω–æ–≤–Ω–∞—è-–∑–∞–¥–∞—á–∞-–ø–∞—Ç—Ç–µ—Ä–Ω–∞"><a class="header" href="#–û—Å–Ω–æ–≤–Ω–∞—è-–∑–∞–¥–∞—á–∞-–ø–∞—Ç—Ç–µ—Ä–Ω–∞">–û—Å–Ω–æ–≤–Ω–∞—è –∑–∞–¥–∞—á–∞ –ø–∞—Ç—Ç–µ—Ä–Ω–∞</a></h3>
<p>–°–æ–∑–¥–∞–Ω–∏–µ <strong>—Å–µ–º–µ–π—Å—Ç–≤–∞ –æ–±—ä–µ–∫—Ç–æ–≤</strong> —Å –æ–¥–∏–Ω–∞–∫–æ–≤—ã–º –∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–º, –≥–¥–µ —Ç–∞–∫–∏—Ö —Å–µ–º–µ–π—Å—Ç–≤ –º–æ–∂–µ—Ç –±—ã—Ç—å –º–Ω–æ–≥–æ. –ü–∞—Ç—Ç–µ—Ä–Ω –ø–æ–∑–≤–æ–ª—è–µ—Ç:</p>
<ul>
<li>–°–æ–∑–¥–∞–≤–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –∫–ª–∞—Å—Å–æ–≤ –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ –æ–¥–Ω–æ–π –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö –∏ —Ç–∞–∫–æ–µ –∂–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–ª–∞—Å—Å–æ–≤ —Å –∞–Ω–∞–ª–æ–≥–∏—á–Ω—ã–º –∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–º –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ –¥—Ä—É–≥–æ–π –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö</li>
<li>–†–∞–±–æ—Ç–∞—Ç—å —Å —Ä–∞–∑–Ω—ã–º–∏ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞–º–∏ —Å–µ—Ä–≤–∏—Å–æ–≤ (–Ω–∞–ø—Ä–∏–º–µ—Ä, AWS, Azure, Google Cloud)</li>
<li>–°–æ–∑–¥–∞–≤–∞—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –ø–ª–∞—Ç—Ñ–æ—Ä–º</li>
<li>–ê–±—Å—Ç—Ä–∞–≥–∏—Ä–æ–≤–∞—Ç—å—Å—è –æ—Ç –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–π backend-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤</li>
</ul>
<hr />
<h2 id="–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ-–ø–∞—Ç—Ç–µ—Ä–Ω–∞"><a class="header" href="#–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ-–ø–∞—Ç—Ç–µ—Ä–Ω–∞">–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –ø–∞—Ç—Ç–µ—Ä–Ω–∞</a></h2>
<p>Abstract Factory –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –≤ —Å–∞–º—ã—Ö —Ä–∞–∑–Ω—ã—Ö –æ–±–ª–∞—Å—Ç—è—Ö:</p>
<ul>
<li><strong>Frontend</strong>: –†–µ–Ω–¥–µ—Ä–∏–Ω–≥ UI-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –ø–ª–∞—Ç—Ñ–æ—Ä–º (Web, Mobile, Desktop)</li>
<li><strong>Backend</strong>: –†–∞–±–æ—Ç–∞ —Å —Ä–∞–∑–ª–∏—á–Ω—ã–º–∏ –±–∞–∑–∞–º–∏ –¥–∞–Ω–Ω—ã—Ö, —Ñ–∞–π–ª–æ–≤—ã–º–∏ —Å–∏—Å—Ç–µ–º–∞–º–∏, –æ–±–ª–∞—á–Ω—ã–º–∏ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞–º–∏</li>
<li><strong>–ö—Ä–æ—Å—Å-–ø–ª–∞—Ç—Ñ–æ—Ä–º–µ–Ω–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è</strong>: –°–æ–∑–¥–∞–Ω–∏–µ —É–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ API –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Å–∏—Å—Ç–µ–º</li>
</ul>
<hr />
<h2 id="–°–æ–±–ª—é–¥–µ–Ω–∏–µ-–ø—Ä–∏–Ω—Ü–∏–ø–æ–≤-solid"><a class="header" href="#–°–æ–±–ª—é–¥–µ–Ω–∏–µ-–ø—Ä–∏–Ω—Ü–∏–ø–æ–≤-solid">–°–æ–±–ª—é–¥–µ–Ω–∏–µ –ø—Ä–∏–Ω—Ü–∏–ø–æ–≤ SOLID</a></h2>
<p>–ü–∞—Ç—Ç–µ—Ä–Ω Abstract Factory –ø–æ–º–æ–≥–∞–µ—Ç —Å–æ–±–ª—é–¥–∞—Ç—å –≤–∞–∂–Ω—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:</p>
<ol>
<li><strong>Single Responsibility Principle (SRP)</strong> ‚Äî –∫–∞–∂–¥–∞—è —Ñ–∞–±—Ä–∏–∫–∞ –æ—Ç–≤–µ—á–∞–µ—Ç —Ç–æ–ª—å–∫–æ –∑–∞ —Å–æ–∑–¥–∞–Ω–∏–µ —Å–≤–æ–µ–≥–æ —Å–µ–º–µ–π—Å—Ç–≤–∞ –æ–±—ä–µ–∫—Ç–æ–≤</li>
<li><strong>Low Coupling</strong> ‚Äî —Å–ª–∞–±–æ–µ –∑–∞—Ü–µ–ø–ª–µ–Ω–∏–µ –º–µ–∂–¥—É –∫–ª–∏–µ–Ω—Ç—Å–∫–∏–º –∫–æ–¥–æ–º –∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–º–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è–º–∏</li>
<li><strong>Dependency Inversion Principle</strong> ‚Äî –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –æ—Ç –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–π, –∞ –Ω–µ –æ—Ç –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö –∫–ª–∞—Å—Å–æ–≤</li>
</ol>
<hr />
<h2 id="–°—Ç—Ä—É–∫—Ç—É—Ä–∞-–ø–∞—Ç—Ç–µ—Ä–Ω–∞"><a class="header" href="#–°—Ç—Ä—É–∫—Ç—É—Ä–∞-–ø–∞—Ç—Ç–µ—Ä–Ω–∞">–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–∞—Ç—Ç–µ—Ä–Ω–∞</a></h2>
<h3 id="–ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∞—è-—Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è-–¥–ª—è-—è–∑—ã–∫–æ–≤-—Å-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞–º–∏"><a class="header" href="#–ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∞—è-—Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è-–¥–ª—è-—è–∑—ã–∫–æ–≤-—Å-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞–º–∏">–ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è (–¥–ª—è —è–∑—ã–∫–æ–≤ —Å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞–º–∏)</a></h3>
<pre><code>‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  AbstractFactory        ‚îÇ ‚óÑ‚îÄ‚îÄ‚îÄ‚îÄ –ê–±—Å—Ç—Ä–∞–∫—Ç–Ω–∞—è —Ñ–∞–±—Ä–∏–∫–∞
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ + createProductA()      ‚îÇ
‚îÇ + createProductB()      ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
           ‚ñ≥
           ‚îÇ
           ‚îÇ –ù–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ
           ‚îÇ
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                     ‚îÇ
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  ConcreteFactory1         ‚îÇ    ‚îÇ  ConcreteFactory2           ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§    ‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ + createProductA()        ‚îÇ    ‚îÇ + createProductA()          ‚îÇ
‚îÇ + createProductB()        ‚îÇ    ‚îÇ + createProductB()          ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
         ‚îÇ                                  ‚îÇ
         ‚îÇ –°–æ–∑–¥–∞—ë—Ç                          ‚îÇ –°–æ–∑–¥–∞—ë—Ç
         ‚ñº                                  ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê            ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ ConcreteProductA1   ‚îÇ            ‚îÇ ConcreteProductA2   ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò            ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
         ‚ñ≥                                  ‚ñ≥
         ‚îÇ                                  ‚îÇ
         ‚îÇ –†–µ–∞–ª–∏–∑—É–µ—Ç                        ‚îÇ –†–µ–∞–ª–∏–∑—É–µ—Ç
         ‚îÇ                                  ‚îÇ
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê            ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  AbstractProductA   ‚îÇ            ‚îÇ  AbstractProductA   ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò            ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
</code></pre>
<h3 id="–î–≤–µ-–∏–µ—Ä–∞—Ä—Ö–∏–∏-–∫–ª–∞—Å—Å–æ–≤"><a class="header" href="#–î–≤–µ-–∏–µ—Ä–∞—Ä—Ö–∏–∏-–∫–ª–∞—Å—Å–æ–≤">–î–≤–µ –∏–µ—Ä–∞—Ä—Ö–∏–∏ –∫–ª–∞—Å—Å–æ–≤</a></h3>
<p>–ü–∞—Ç—Ç–µ—Ä–Ω –∏—Å–ø–æ–ª—å–∑—É–µ—Ç <strong>–¥–≤–µ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–µ –∏–µ—Ä–∞—Ä—Ö–∏–∏</strong>:</p>
<ol>
<li>
<p><strong>–ê–±—Å—Ç—Ä–∞–∫—Ç–Ω–∞—è –∏–µ—Ä–∞—Ä—Ö–∏—è</strong>:</p>
<ul>
<li><code>AbstractFactory</code> ‚Äî –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –º–µ—Ç–æ–¥—ã —Å–æ–∑–¥–∞–Ω–∏—è</li>
<li><code>AbstractProductA</code>, <code>AbstractProductB</code> ‚Äî –æ–ø—Ä–µ–¥–µ–ª—è—é—Ç –∫–æ–Ω—Ç—Ä–∞–∫—Ç—ã –ø—Ä–æ–¥—É–∫—Ç–æ–≤</li>
</ul>
</li>
<li>
<p><strong>–ö–æ–Ω–∫—Ä–µ—Ç–Ω–∞—è –∏–µ—Ä–∞—Ä—Ö–∏—è</strong>:</p>
<ul>
<li><code>ConcreteFactory1</code>, <code>ConcreteFactory2</code> ‚Äî —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —Ñ–∞–±—Ä–∏–∫</li>
<li><code>ConcreteProductA1</code>, <code>ConcreteProductB1</code> ‚Äî –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –ø—Ä–æ–¥—É–∫—Ç—ã –¥–ª—è —Å–µ–º–µ–π—Å—Ç–≤–∞ 1</li>
<li><code>ConcreteProductA2</code>, <code>ConcreteProductB2</code> ‚Äî –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –ø—Ä–æ–¥—É–∫—Ç—ã –¥–ª—è —Å–µ–º–µ–π—Å—Ç–≤–∞ 2</li>
</ul>
</li>
</ol>
<hr />
<h2 id="–†–µ–∞–ª–∏–∑–∞—Ü–∏—è-–¥–ª—è-javascripttypescript"><a class="header" href="#–†–µ–∞–ª–∏–∑–∞—Ü–∏—è-–¥–ª—è-javascripttypescript">–†–µ–∞–ª–∏–∑–∞—Ü–∏—è –¥–ª—è JavaScript/TypeScript</a></h2>
<h3 id="–ü—Ä–æ–±–ª–µ–º–∞-—Å-–∞–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–º–∏-–∫–ª–∞—Å—Å–∞–º–∏-–≤-javascript"><a class="header" href="#–ü—Ä–æ–±–ª–µ–º–∞-—Å-–∞–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–º–∏-–∫–ª–∞—Å—Å–∞–º–∏-–≤-javascript">–ü—Ä–æ–±–ª–µ–º–∞ —Å –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–º–∏ –∫–ª–∞—Å—Å–∞–º–∏ –≤ JavaScript</a></h3>
<p>–í JavaScript <strong>–Ω–µ—Ç –≤—Å—Ç—Ä–æ–µ–Ω–Ω–æ–π –ø–æ–¥–¥–µ—Ä–∂–∫–∏</strong> –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤ –∏ –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã—Ö –∫–ª–∞—Å—Å–æ–≤. –ü–æ—ç—Ç–æ–º—É –¥–ª—è –∏–º–∏—Ç–∞—Ü–∏–∏ –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω–æ—Å—Ç–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —Å–ª–µ–¥—É—é—â–∏–µ –ø–æ–¥—Ö–æ–¥—ã:</p>
<h4 id="–ò–º–∏—Ç–∞—Ü–∏—è-–∞–±—Å—Ç—Ä–∞–∫—Ç–Ω–æ–≥–æ-–∫–ª–∞—Å—Å–∞"><a class="header" href="#–ò–º–∏—Ç–∞—Ü–∏—è-–∞–±—Å—Ç—Ä–∞–∫—Ç–Ω–æ–≥–æ-–∫–ª–∞—Å—Å–∞">–ò–º–∏—Ç–∞—Ü–∏—è –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω–æ–≥–æ –∫–ª–∞—Å—Å–∞</a></h4>
<pre><code class="language-javascript">class AbstractFactory {
  constructor() {
    // –ë—Ä–æ—Å–∞–µ–º –∏—Å–∫–ª—é—á–µ–Ω–∏–µ –ø—Ä–∏ –ø–æ–ø—ã—Ç–∫–µ —Å–æ–∑–¥–∞–Ω–∏—è —ç–∫–∑–µ–º–ø–ª—è—Ä–∞ –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω–æ–≥–æ –∫–ª–∞—Å—Å–∞
    if (new.target === AbstractFactory) {
      throw new Error('Cannot instantiate abstract class AbstractFactory');
    }
  }

  createProductA() {
    // –ë—Ä–æ—Å–∞–µ–º –∏—Å–∫–ª—é—á–µ–Ω–∏–µ –¥–ª—è –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω–æ–≥–æ –º–µ—Ç–æ–¥–∞
    throw new Error('Method createProductA() must be implemented');
  }

  createProductB() {
    throw new Error('Method createProductB() must be implemented');
  }
}

class AbstractProductA {
  constructor() {
    if (new.target === AbstractProductA) {
      throw new Error('Cannot instantiate abstract class');
    }
  }

  operation() {
    throw new Error('Method operation() must be implemented');
  }
}
</code></pre>
<h3 id="–£–ø—Ä–æ—â—ë–Ω–Ω–∞—è-—Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è-–¥–ª—è-javascript"><a class="header" href="#–£–ø—Ä–æ—â—ë–Ω–Ω–∞—è-—Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è-–¥–ª—è-javascript">–£–ø—Ä–æ—â—ë–Ω–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –¥–ª—è JavaScript</a></h3>
<p>–î–ª—è JavaScript –º–æ–∂–Ω–æ –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ —É–ø—Ä–æ—Å—Ç–∏—Ç—å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é, <strong>–∏–∑–±–∞–≤–∏–≤—à–∏—Å—å –æ—Ç –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã—Ö –∫–ª–∞—Å—Å–æ–≤</strong>:</p>
<pre><code class="language-javascript">// –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –∫–ª–∞—Å—Å—ã –ø—Ä–æ–¥—É–∫—Ç–æ–≤ (–±–µ–∑ –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã—Ö –±–∞–∑–æ–≤—ã—Ö –∫–ª–∞—Å—Å–æ–≤)
class FileStorageDatabase {
  constructor(filename) {
    this.filename = filename;
  }

  select(filters) {
    // –°–æ–∑–¥–∞—ë–º –∫—É—Ä—Å–æ—Ä –¥–ª—è –∏—Ç–µ—Ä–∞—Ü–∏–∏ –ø–æ —Ñ–∞–π–ª—É
    return new FileStorageCursor(this.filename, filters);
  }
}

class FileStorageCursor {
  constructor(filename, filters) {
    this.filename = filename;
    this.filters = filters;
  }

  // –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –∏—Ç–µ—Ä–∞—Ç–æ—Ä –¥–ª—è –ø–æ—Å—Ç—Ä–æ—á–Ω–æ–≥–æ —á—Ç–µ–Ω–∏—è
  async *[Symbol.asyncIterator]() {
    const fs = require('fs');
    const readline = require('readline');

    const fileStream = fs.createReadStream(this.filename);
    const rl = readline.createInterface({
      input: fileStream,
      crlfDelay: Infinity
    });

    for await (const line of rl) {
      const data = JSON.parse(line);

      // –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö
      if (this.matchesFilters(data)) {
        yield data;
      }
    }
  }

  matchesFilters(data) {
    // –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è —Ñ–∏–ª—å—Ç—Ä–∞–º
    for (const [field, value] of Object.entries(this.filters)) {
      if (data[field] !== value) {
        return false;
      }
    }
    return true;
  }
}

// –§–∞–±—Ä–∏–∫–∞ –∫–∞–∫ –ø—Ä–æ—Å—Ç–æ–π –æ–±—ä–µ–∫—Ç —Å –º–µ—Ç–æ–¥–∞–º–∏
const fsDataAccessLayer = {
  createDatabase(filename) {
    return new FileStorageDatabase(filename);
  },

  createCursor(filename, filters) {
    return new FileStorageCursor(filename, filters);
  }
};

// –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–µ–º —Ñ–∞–±—Ä–∏–∫—É
module.exports = fsDataAccessLayer;
</code></pre>
<hr />
<h2 id="–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–π-–ø—Ä–∏–º–µ—Ä-–†–∞–±–æ—Ç–∞-—Å-–±–∞–∑–∞–º–∏-–¥–∞–Ω–Ω—ã—Ö"><a class="header" href="#–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–π-–ø—Ä–∏–º–µ—Ä-–†–∞–±–æ—Ç–∞-—Å-–±–∞–∑–∞–º–∏-–¥–∞–Ω–Ω—ã—Ö">–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–π –ø—Ä–∏–º–µ—Ä: –†–∞–±–æ—Ç–∞ —Å –±–∞–∑–∞–º–∏ –¥–∞–Ω–Ω—ã—Ö</a></h2>
<h3 id="–ü–æ–ª–Ω–∞—è-—Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è-—Å-—Ñ–∞–π–ª–æ–≤—ã–º-—Ö—Ä–∞–Ω–∏–ª–∏—â–µ–º"><a class="header" href="#–ü–æ–ª–Ω–∞—è-—Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è-—Å-—Ñ–∞–π–ª–æ–≤—ã–º-—Ö—Ä–∞–Ω–∏–ª–∏—â–µ–º">–ü–æ–ª–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è —Å —Ñ–∞–π–ª–æ–≤—ã–º —Ö—Ä–∞–Ω–∏–ª–∏—â–µ–º</a></h3>
<p>–†–∞—Å—Å–º–æ—Ç—Ä–∏–º —Ä–µ–∞–ª—å–Ω—ã–π –ø—Ä–∏–º–µ—Ä —Å–æ–∑–¥–∞–Ω–∏—è –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–∏ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –¥–∞–Ω–Ω—ã–º–∏, –≥–¥–µ –æ–¥–Ω–∞ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ñ–∞–π–ª–æ–≤—É—é —Å–∏—Å—Ç–µ–º—É, –∞ –¥—Ä—É–≥–∞—è –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å PostgreSQL –∏–ª–∏ MySQL.</p>
<h4 id="–®–∞–≥-1-–ê–±—Å—Ç—Ä–∞–∫—Ç–Ω–∞—è-—Ñ–∞–±—Ä–∏–∫–∞-–¥–ª—è-—è–∑—ã–∫–æ–≤-—Å-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞–º–∏"><a class="header" href="#–®–∞–≥-1-–ê–±—Å—Ç—Ä–∞–∫—Ç–Ω–∞—è-—Ñ–∞–±—Ä–∏–∫–∞-–¥–ª—è-—è–∑—ã–∫–æ–≤-—Å-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞–º–∏">–®–∞–≥ 1: –ê–±—Å—Ç—Ä–∞–∫—Ç–Ω–∞—è —Ñ–∞–±—Ä–∏–∫–∞ (–¥–ª—è —è–∑—ã–∫–æ–≤ —Å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞–º–∏)</a></h4>
<pre><code class="language-javascript">class AbstractDataAccessLayer {
  constructor() {
    if (new.target === AbstractDataAccessLayer) {
      throw new Error('Cannot instantiate abstract factory');
    }
  }

  createDatabase() {
    throw new Error('Method createDatabase() must be implemented');
  }

  createCursor() {
    throw new Error('Method createCursor() must be implemented');
  }
}
</code></pre>
<h4 id="–®–∞–≥-2-–ê–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–µ-–ø—Ä–æ–¥—É–∫—Ç—ã"><a class="header" href="#–®–∞–≥-2-–ê–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–µ-–ø—Ä–æ–¥—É–∫—Ç—ã">–®–∞–≥ 2: –ê–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–µ –ø—Ä–æ–¥—É–∫—Ç—ã</a></h4>
<pre><code class="language-javascript">// –ê–±—Å—Ç—Ä–∞–∫—Ç–Ω–∞—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
class AbstractDatabase {
  constructor() {
    if (new.target === AbstractDatabase) {
      throw new Error('Cannot instantiate abstract class');
    }
  }

  select(filters) {
    throw new Error('Method select() must be implemented');
  }
}

// –ê–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–π –∫—É—Ä—Å–æ—Ä
class AbstractCursor {
  constructor() {
    if (new.target === AbstractCursor) {
      throw new Error('Cannot instantiate abstract class');
    }
  }

  async *[Symbol.asyncIterator]() {
    throw new Error('Async iterator must be implemented');
  }
}
</code></pre>
<h4 id="–®–∞–≥-3-–ö–æ–Ω–∫—Ä–µ—Ç–Ω–∞—è-—Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è--filestorage"><a class="header" href="#–®–∞–≥-3-–ö–æ–Ω–∫—Ä–µ—Ç–Ω–∞—è-—Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è--filestorage">–®–∞–≥ 3: –ö–æ–Ω–∫—Ä–µ—Ç–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è ‚Äî FileStorage</a></h4>
<pre><code class="language-javascript">const fs = require('fs');
const readline = require('readline');

// –ö–æ–Ω–∫—Ä–µ—Ç–Ω–∞—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è —Ñ–∞–π–ª–æ–≤–æ–≥–æ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞
class FileStorageDatabase extends AbstractDatabase {
  constructor(filename) {
    super();
    this.filename = filename;
  }

  select(filters) {
    // –°–æ–∑–¥–∞—ë–º –∫—É—Ä—Å–æ—Ä —Å —Ñ–∏–ª—å—Ç—Ä–∞–º–∏
    return new FileStorageCursor(this.filename, filters);
  }
}

// –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –∫—É—Ä—Å–æ—Ä –¥–ª—è —Ñ–∞–π–ª–æ–≤–æ–≥–æ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞
class FileStorageCursor extends AbstractCursor {
  constructor(filename, filters) {
    super();
    this.filename = filename;
    this.filters = filters;
  }

  // –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –∏—Ç–µ—Ä–∞—Ç–æ—Ä –¥–ª—è –ø–æ—Å—Ç—Ä–æ—á–Ω–æ–≥–æ —á—Ç–µ–Ω–∏—è –∏ –ø–∞—Ä—Å–∏–Ω–≥–∞
  async *[Symbol.asyncIterator]() {
    const fileStream = fs.createReadStream(this.filename);
    const rl = readline.createInterface({
      input: fileStream,
      crlfDelay: Infinity
    });

    for await (const line of rl) {
      try {
        const record = JSON.parse(line);

        // –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Ñ–∏–ª—å—Ç—Ä–∞–º
        if (this.matchesFilters(record)) {
          yield record;
        }
      } catch (error) {
        // –ü—Ä–æ–ø—É—Å–∫–∞–µ–º –Ω–µ–≤–∞–ª–∏–¥–Ω—ã–µ —Å—Ç—Ä–æ–∫–∏
        console.error('Invalid JSON line:', line);
      }
    }
  }

  matchesFilters(record) {
    // –ï—Å–ª–∏ —Ñ–∏–ª—å—Ç—Ä–æ–≤ –Ω–µ—Ç ‚Äî –≤–æ–∑–≤—Ä–∞—â–∞–µ–º –≤—Å–µ –∑–∞–ø–∏—Å–∏
    if (!this.filters || Object.keys(this.filters).length === 0) {
      return true;
    }

    // –ü—Ä–æ–≤–µ—Ä—è–µ–º –∫–∞–∂–¥–æ–µ –ø–æ–ª–µ –≤ —Ñ–∏–ª—å—Ç—Ä–µ
    for (const [field, value] of Object.entries(this.filters)) {
      if (record[field] !== value) {
        return false;
      }
    }

    return true;
  }
}
</code></pre>
<h4 id="–®–∞–≥-4-–ö–æ–Ω–∫—Ä–µ—Ç–Ω–∞—è-—Ñ–∞–±—Ä–∏–∫–∞"><a class="header" href="#–®–∞–≥-4-–ö–æ–Ω–∫—Ä–µ—Ç–Ω–∞—è-—Ñ–∞–±—Ä–∏–∫–∞">–®–∞–≥ 4: –ö–æ–Ω–∫—Ä–µ—Ç–Ω–∞—è —Ñ–∞–±—Ä–∏–∫–∞</a></h4>
<pre><code class="language-javascript">// –ö–æ–Ω–∫—Ä–µ—Ç–Ω–∞—è —Ñ–∞–±—Ä–∏–∫–∞ –¥–ª—è —Ñ–∞–π–ª–æ–≤–æ–≥–æ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞
class FSDataAccessLayer extends AbstractDataAccessLayer {
  createDatabase(filename) {
    return new FileStorageDatabase(filename);
  }

  createCursor(filename, filters) {
    return new FileStorageCursor(filename, filters);
  }
}

module.exports = FSDataAccessLayer;
</code></pre>
<h4 id="–®–∞–≥-5-–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ"><a class="header" href="#–®–∞–≥-5-–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ">–®–∞–≥ 5: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ</a></h4>
<pre><code class="language-javascript">// –°–æ–∑–¥–∞—ë–º —ç–∫–∑–µ–º–ø–ª—è—Ä —Ñ–∞–±—Ä–∏–∫–∏
const fsDAL = new FSDataAccessLayer();

// –°–æ–∑–¥–∞—ë–º –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö
const db = fsDAL.createDatabase('./data/users.jsonl');

// –í—ã–ø–æ–ª–Ω—è–µ–º select —Å —Ñ–∏–ª—å—Ç—Ä–æ–º
const cursor = db.select({ city: 'Moscow' });

// –ò—Ç–µ—Ä–∏—Ä—É–µ–º—Å—è –ø–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º
(async () =&gt; {
  for await (const user of cursor) {
    console.log(`User: ${user.name}, City: ${user.city}`);
  }
})();
</code></pre>
<p><strong>–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ —Ç–∞–∫–æ–≥–æ –ø–æ–¥—Ö–æ–¥–∞:</strong></p>
<ul>
<li>–û—á–µ–Ω—å –±–æ–ª—å—à–æ–π —Ñ–∞–π–ª —á–∏—Ç–∞–µ—Ç—Å—è <strong>–ø–æ—Å—Ç—Ä–æ—á–Ω–æ</strong> (–Ω–µ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è —Ü–µ–ª–∏–∫–æ–º –≤ –ø–∞–º—è—Ç—å)</li>
<li>–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è <strong>–∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –∏—Ç–µ—Ä–∞—Ç–æ—Ä</strong> –¥–ª—è —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–π —Ä–∞–±–æ—Ç—ã —Å I/O</li>
<li>–î–∞–Ω–Ω—ã–µ <strong>—Ñ–∏–ª—å—Ç—Ä—É—é—Ç—Å—è –Ω–∞ –ª–µ—Ç—É</strong> –≤–æ –≤—Ä–µ–º—è —á—Ç–µ–Ω–∏—è</li>
<li>–ö–æ–¥ –ª–µ–≥–∫–æ —Ä–∞—Å—à–∏—Ä–∏—Ç—å –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –¥—Ä—É–≥–∏–º–∏ –∏—Å—Ç–æ—á–Ω–∏–∫–∞–º–∏ –¥–∞–Ω–Ω—ã—Ö (PostgreSQL, MongoDB, S3)</li>
</ul>
<hr />
<h2 id="–£–ø—Ä–æ—â—ë–Ω–Ω–∞—è-—Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è-–¥–ª—è-javascript-–±–µ–∑-–∞–±—Å—Ç—Ä–∞–∫—Ü–∏–π"><a class="header" href="#–£–ø—Ä–æ—â—ë–Ω–Ω–∞—è-—Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è-–¥–ª—è-javascript-–±–µ–∑-–∞–±—Å—Ç—Ä–∞–∫—Ü–∏–π">–£–ø—Ä–æ—â—ë–Ω–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –¥–ª—è JavaScript (–±–µ–∑ –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–π)</a></h2>
<p>–î–ª—è JavaScript –º–æ–∂–Ω–æ –ø–æ–ª–Ω–æ—Å—Ç—å—é –æ—Ç–∫–∞–∑–∞—Ç—å—Å—è –æ—Ç –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã—Ö –∫–ª–∞—Å—Å–æ–≤ –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å <strong>–ø—Ä–æ—Å—Ç—ã–µ –æ–±—ä–µ–∫—Ç—ã –∏ —Ñ—É–Ω–∫—Ü–∏–∏</strong>:</p>
<h3 id="–í–∞—Ä–∏–∞–Ω—Ç-1-–û–±—ä–µ–∫—Ç-—Å-–º–µ—Ç–æ–¥–∞–º–∏"><a class="header" href="#–í–∞—Ä–∏–∞–Ω—Ç-1-–û–±—ä–µ–∫—Ç-—Å-–º–µ—Ç–æ–¥–∞–º–∏">–í–∞—Ä–∏–∞–Ω—Ç 1: –û–±—ä–µ–∫—Ç —Å –º–µ—Ç–æ–¥–∞–º–∏</a></h3>
<pre><code class="language-javascript">// fs-dal.js ‚Äî –ú–æ–¥—É–ª—å –¥–ª—è —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã
const fs = require('fs');
const readline = require('readline');

class FileStorageDatabase {
  constructor(filename) {
    this.filename = filename;
  }

  select(filters) {
    return new FileStorageCursor(this.filename, filters);
  }
}

class FileStorageCursor {
  constructor(filename, filters) {
    this.filename = filename;
    this.filters = filters;
  }

  async *[Symbol.asyncIterator]() {
    const fileStream = fs.createReadStream(this.filename);
    const rl = readline.createInterface({
      input: fileStream,
      crlfDelay: Infinity
    });

    for await (const line of rl) {
      const record = JSON.parse(line);
      if (this.matchesFilters(record)) {
        yield record;
      }
    }
  }

  matchesFilters(record) {
    if (!this.filters) return true;
    return Object.entries(this.filters).every(
      ([key, value]) =&gt; record[key] === value
    );
  }
}

// –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–µ–º —Ñ–∞–±—Ä–∏–∫—É –∫–∞–∫ –æ–±—ä–µ–∫—Ç —Å –º–µ—Ç–æ–¥–∞–º–∏
module.exports = {
  createDatabase(filename) {
    return new FileStorageDatabase(filename);
  },

  createCursor(filename, filters) {
    return new FileStorageCursor(filename, filters);
  }
};
</code></pre>
<h3 id="–ö–æ–ª–ª–µ–∫—Ü–∏—è-—Ñ–∞–±—Ä–∏–∫-–ø–∞—Ç—Ç–µ—Ä–Ω-strategy"><a class="header" href="#–ö–æ–ª–ª–µ–∫—Ü–∏—è-—Ñ–∞–±—Ä–∏–∫-–ø–∞—Ç—Ç–µ—Ä–Ω-strategy">–ö–æ–ª–ª–µ–∫—Ü–∏—è —Ñ–∞–±—Ä–∏–∫ (–ø–∞—Ç—Ç–µ—Ä–Ω Strategy)</a></h3>
<p>–î–ª—è –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è –º–µ–∂–¥—É —Ä–∞–∑–ª–∏—á–Ω—ã–º–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è–º–∏ –∏—Å–ø–æ–ª—å–∑—É–µ–º <strong>–∫–æ–ª–ª–µ–∫—Ü–∏—é —Ñ–∞–±—Ä–∏–∫</strong>:</p>
<pre><code class="language-javascript">// data-access-factories.js
const fsDAL = require('./fs-dal');
const pgDAL = require('./pg-dal');
const mysqlDAL = require('./mysql-dal');

// –ö–æ–ª–ª–µ–∫—Ü–∏—è —Ñ–∞–±—Ä–∏–∫ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ö—Ä–∞–Ω–∏–ª–∏—â
const factories = {
  fs: fsDAL,
  postgres: pgDAL,
  mysql: mysqlDAL
};

// –§—É–Ω–∫—Ü–∏—è –¥–ª—è –≤—ã–±–æ—Ä–∞ –Ω—É–∂–Ω–æ–π —Ñ–∞–±—Ä–∏–∫–∏
function getFactory(storageType) {
  const factory = factories[storageType];

  if (!factory) {
    throw new Error(`Unknown storage type: ${storageType}`);
  }

  return factory;
}

module.exports = { factories, getFactory };
</code></pre>
<h3 id="–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ-—Å-–≤—ã–±–æ—Ä–æ–º-—Å—Ç—Ä–∞—Ç–µ–≥–∏–∏"><a class="header" href="#–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ-—Å-–≤—ã–±–æ—Ä–æ–º-—Å—Ç—Ä–∞—Ç–µ–≥–∏–∏">–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å –≤—ã–±–æ—Ä–æ–º —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏</a></h3>
<pre><code class="language-javascript">const { getFactory } = require('./data-access-factories');

// –í—ã–±–∏—Ä–∞–µ–º —Å—Ç—Ä–∞—Ç–µ–≥–∏—é (–º–æ–∂–Ω–æ –∏–∑ –∫–æ–Ω—Ñ–∏–≥–∞ –∏–ª–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è)
const storageType = process.env.STORAGE_TYPE || 'fs';
const dal = getFactory(storageType);

// –°–æ–∑–¥–∞—ë–º –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö
const db = dal.createDatabase('./data/users.jsonl');

// –í—ã–ø–æ–ª–Ω—è–µ–º –∑–∞–ø—Ä–æ—Å
const cursor = db.select({ city: 'Moscow' });

// –ò—Å–ø–æ–ª—å–∑—É–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
(async () =&gt; {
  for await (const user of cursor) {
    console.log(`User: ${user.name}, Email: ${user.email}`);
  }
})();
</code></pre>
<p><strong>–í–∞–∂–Ω–æ:</strong> –ó–¥–µ—Å—å —Å–æ—á–µ—Ç–∞—é—Ç—Å—è –¥–≤–∞ –ø–∞—Ç—Ç–µ—Ä–Ω–∞:</p>
<ul>
<li><strong>Abstract Factory</strong> ‚Äî –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Å–µ–º–µ–π—Å—Ç–≤–∞ –æ–±—ä–µ–∫—Ç–æ–≤ (Database + Cursor)</li>
<li><strong>Strategy</strong> ‚Äî –¥–ª—è –≤—ã–±–æ—Ä–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π —Ñ–∞–±—Ä–∏–∫–∏ –∏–∑ –∫–æ–ª–ª–µ–∫—Ü–∏–∏</li>
</ul>
<hr />
<h2 id="–†–µ–∞–ª–∏–∑–∞—Ü–∏—è-—Å-typescript"><a class="header" href="#–†–µ–∞–ª–∏–∑–∞—Ü–∏—è-—Å-typescript">–†–µ–∞–ª–∏–∑–∞—Ü–∏—è —Å TypeScript</a></h2>
<p>TypeScript –ø–æ–∑–≤–æ–ª—è–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å <strong>–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã</strong> –¥–ª—è —Å—Ç—Ä–æ–≥–æ–π —Ç–∏–ø–∏–∑–∞—Ü–∏–∏:</p>
<pre><code class="language-typescript">// –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –¥–ª—è –ø—Ä–æ–¥—É–∫—Ç–æ–≤
interface IDatabase {
  select(filters: Record&lt;string, any&gt;): ICursor;
}

interface ICursor {
  [Symbol.asyncIterator](): AsyncIterator&lt;any&gt;;
}

// –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è —Ñ–∞–±—Ä–∏–∫–∏
interface IDataAccessLayer {
  createDatabase(config: any): IDatabase;
  createCursor(config: any, filters: Record&lt;string, any&gt;): ICursor;
}

// –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –¥–ª—è —Ñ–∞–π–ª–æ–≤–æ–≥–æ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞
class FileStorageDatabase implements IDatabase {
  constructor(private filename: string) {}

  select(filters: Record&lt;string, any&gt;): ICursor {
    return new FileStorageCursor(this.filename, filters);
  }
}

class FileStorageCursor implements ICursor {
  constructor(
    private filename: string,
    private filters: Record&lt;string, any&gt;
  ) {}

  async *[Symbol.asyncIterator](): AsyncIterator&lt;any&gt; {
    const fs = await import('fs');
    const readline = await import('readline');

    const fileStream = fs.createReadStream(this.filename);
    const rl = readline.createInterface({
      input: fileStream,
      crlfDelay: Infinity
    });

    for await (const line of rl) {
      const record = JSON.parse(line);
      if (this.matchesFilters(record)) {
        yield record;
      }
    }
  }

  private matchesFilters(record: any): boolean {
    if (!this.filters || Object.keys(this.filters).length === 0) {
      return true;
    }

    return Object.entries(this.filters).every(
      ([key, value]) =&gt; record[key] === value
    );
  }
}

// –ö–æ–Ω–∫—Ä–µ—Ç–Ω–∞—è —Ñ–∞–±—Ä–∏–∫–∞
class FSDataAccessLayer implements IDataAccessLayer {
  createDatabase(filename: string): IDatabase {
    return new FileStorageDatabase(filename);
  }

  createCursor(filename: string, filters: Record&lt;string, any&gt;): ICursor {
    return new FileStorageCursor(filename, filters);
  }
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
const dal: IDataAccessLayer = new FSDataAccessLayer();
const db: IDatabase = dal.createDatabase('./data/users.jsonl');
const cursor: ICursor = db.select({ city: 'Moscow' });

(async () =&gt; {
  for await (const user of cursor) {
    console.log(user);
  }
})();
</code></pre>
<p><strong>–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ TypeScript-—Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏:</strong></p>
<ul>
<li>‚úÖ <strong>–°—Ç—Ä–æ–≥–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è</strong> –≤—Å–µ—Ö –º–µ—Ç–æ–¥–æ–≤ –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π</li>
<li>‚úÖ <strong>–ê–≤—Ç–æ–¥–æ–ø–æ–ª–Ω–µ–Ω–∏–µ</strong> –≤ IDE –Ω–∞ –æ—Å–Ω–æ–≤–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤</li>
<li>‚úÖ <strong>–ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ —ç—Ç–∞–ø–µ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏</strong> ‚Äî –æ—à–∏–±–∫–∏ –Ω–∞—Ö–æ–¥—è—Ç—Å—è –¥–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è</li>
<li>‚úÖ <strong>–Ø–≤–Ω—ã–µ –∫–æ–Ω—Ç—Ä–∞–∫—Ç—ã</strong> —á–µ—Ä–µ–∑ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã</li>
</ul>
<hr />
<h2 id="–ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π-–ø—Ä–∏–º–µ—Ä-ui-–±–∏–±–ª–∏–æ—Ç–µ–∫–∞-–¥–ª—è-—Ä–∞–∑–Ω—ã—Ö-–ø–ª–∞—Ç—Ñ–æ—Ä–º"><a class="header" href="#–ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π-–ø—Ä–∏–º–µ—Ä-ui-–±–∏–±–ª–∏–æ—Ç–µ–∫–∞-–¥–ª—è-—Ä–∞–∑–Ω—ã—Ö-–ø–ª–∞—Ç—Ñ–æ—Ä–º">–ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π –ø—Ä–∏–º–µ—Ä: UI-–±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –ø–ª–∞—Ç—Ñ–æ—Ä–º</a></h2>
<h3 id="–ó–∞–¥–∞—á–∞"><a class="header" href="#–ó–∞–¥–∞—á–∞">–ó–∞–¥–∞—á–∞</a></h3>
<p>–°–æ–∑–¥–∞—Ç—å –±–∏–±–ª–∏–æ—Ç–µ–∫—É UI-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤, –∫–æ—Ç–æ—Ä–∞—è –º–æ–∂–µ—Ç —Ä–µ–Ω–¥–µ—Ä–∏—Ç—å —ç–ª–µ–º–µ–Ω—Ç—ã –¥–ª—è:</p>
<ul>
<li>Web (HTML/CSS)</li>
<li>Windows (WinAPI)</li>
<li>macOS (Cocoa)</li>
</ul>
<h3 id="–†–µ–∞–ª–∏–∑–∞—Ü–∏—è-2"><a class="header" href="#–†–µ–∞–ª–∏–∑–∞—Ü–∏—è-2">–†–µ–∞–ª–∏–∑–∞—Ü–∏—è</a></h3>
<pre><code class="language-typescript">// –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –ø—Ä–æ–¥—É–∫—Ç–æ–≤
interface IButton {
  render(): void;
  onClick(callback: () =&gt; void): void;
}

interface ICheckbox {
  render(): void;
  toggle(): void;
  isChecked(): boolean;
}

// –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω–æ–π —Ñ–∞–±—Ä–∏–∫–∏
interface IUIFactory {
  createButton(label: string): IButton;
  createCheckbox(label: string): ICheckbox;
}

// –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –¥–ª—è Web
class WebButton implements IButton {
  constructor(private label: string) {}

  render(): void {
    console.log(`&lt;button&gt;${this.label}&lt;/button&gt;`);
  }

  onClick(callback: () =&gt; void): void {
    console.log(`Attached click handler to button: ${this.label}`);
  }
}

class WebCheckbox implements ICheckbox {
  private checked = false;

  constructor(private label: string) {}

  render(): void {
    console.log(`&lt;input type="checkbox" /&gt; ${this.label}`);
  }

  toggle(): void {
    this.checked = !this.checked;
  }

  isChecked(): boolean {
    return this.checked;
  }
}

// –§–∞–±—Ä–∏–∫–∞ –¥–ª—è Web
class WebUIFactory implements IUIFactory {
  createButton(label: string): IButton {
    return new WebButton(label);
  }

  createCheckbox(label: string): ICheckbox {
    return new WebCheckbox(label);
  }
}

// –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –¥–ª—è Windows
class WindowsButton implements IButton {
  constructor(private label: string) {}

  render(): void {
    console.log(`[Win32 Button: ${this.label}]`);
  }

  onClick(callback: () =&gt; void): void {
    console.log(`Attached WM_COMMAND handler to: ${this.label}`);
  }
}

class WindowsCheckbox implements ICheckbox {
  private checked = false;

  constructor(private label: string) {}

  render(): void {
    console.log(`[Win32 Checkbox: ${this.label}]`);
  }

  toggle(): void {
    this.checked = !this.checked;
  }

  isChecked(): boolean {
    return this.checked;
  }
}

// –§–∞–±—Ä–∏–∫–∞ –¥–ª—è Windows
class WindowsUIFactory implements IUIFactory {
  createButton(label: string): IButton {
    return new WindowsButton(label);
  }

  createCheckbox(label: string): ICheckbox {
    return new WindowsCheckbox(label);
  }
}

// –ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π –∫–æ–¥
class Application {
  private button: IButton;
  private checkbox: ICheckbox;

  constructor(factory: IUIFactory) {
    this.button = factory.createButton('Submit');
    this.checkbox = factory.createCheckbox('Remember me');
  }

  render(): void {
    this.button.render();
    this.checkbox.render();
  }
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
function main() {
  const platform = process.platform;

  let factory: IUIFactory;

  if (platform === 'win32') {
    factory = new WindowsUIFactory();
  } else {
    factory = new WebUIFactory();
  }

  const app = new Application(factory);
  app.render();
}

main();
</code></pre>
<hr />
<h2 id="–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞-–ø–∞—Ç—Ç–µ—Ä–Ω–∞-abstract-factory"><a class="header" href="#–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞-–ø–∞—Ç—Ç–µ—Ä–Ω–∞-abstract-factory">–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –ø–∞—Ç—Ç–µ—Ä–Ω–∞ Abstract Factory</a></h2>
<h3 id="-1-–ò–∑–æ–ª—è—Ü–∏—è-–∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö-–∫–ª–∞—Å—Å–æ–≤"><a class="header" href="#-1-–ò–∑–æ–ª—è—Ü–∏—è-–∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö-–∫–ª–∞—Å—Å–æ–≤">‚úÖ 1. –ò–∑–æ–ª—è—Ü–∏—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö –∫–ª–∞—Å—Å–æ–≤</a></h3>
<p>–ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π –∫–æ–¥ —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ —Å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞–º–∏, –Ω–µ –∑–Ω–∞—è –æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è—Ö:</p>
<pre><code class="language-javascript">// –ö–ª–∏–µ–Ω—Ç –∑–Ω–∞–µ—Ç —Ç–æ–ª—å–∫–æ –æ–± –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞—Ö
function processData(factory) {
  const db = factory.createDatabase(config);
  const cursor = db.select({ status: 'active' });

  // –ù–µ –≤–∞–∂–Ω–æ, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è PostgreSQL, MySQL –∏–ª–∏ —Ñ–∞–π–ª–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞
  for await (const record of cursor) {
    console.log(record);
  }
}
</code></pre>
<h3 id="-2-–ì–∞—Ä–∞–Ω—Ç–∏—è-—Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏-–ø—Ä–æ–¥—É–∫—Ç–æ–≤"><a class="header" href="#-2-–ì–∞—Ä–∞–Ω—Ç–∏—è-—Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏-–ø—Ä–æ–¥—É–∫—Ç–æ–≤">‚úÖ 2. –ì–∞—Ä–∞–Ω—Ç–∏—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ –ø—Ä–æ–¥—É–∫—Ç–æ–≤</a></h3>
<p>–í—Å–µ –ø—Ä–æ–¥—É–∫—Ç—ã –æ–¥–Ω–æ–π —Ñ–∞–±—Ä–∏–∫–∏ <strong>–≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ —Å–æ–≤–º–µ—Å—Ç–∏–º—ã</strong> –º–µ–∂–¥—É —Å–æ–±–æ–π:</p>
<pre><code class="language-typescript">// FileStorageDatabase –≤—Å–µ–≥–¥–∞ —Å–æ–∑–¥–∞—ë—Ç FileStorageCursor
// PostgresDatabase –≤—Å–µ–≥–¥–∞ —Å–æ–∑–¥–∞—ë—Ç PostgresCursor
// –ù–µ—Ç —Ä–∏—Å–∫–∞ —Å–º–µ—à–∞—Ç—å –∫—É—Ä—Å–æ—Ä –æ—Ç –æ–¥–Ω–æ–π –ë–î —Å —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ–º –∫ –¥—Ä—É–≥–æ–π
</code></pre>
<h3 id="-3-–õ—ë–≥–∫–æ—Å—Ç—å-–¥–æ–±–∞–≤–ª–µ–Ω–∏—è-–Ω–æ–≤—ã—Ö-—Å–µ–º–µ–π—Å—Ç–≤"><a class="header" href="#-3-–õ—ë–≥–∫–æ—Å—Ç—å-–¥–æ–±–∞–≤–ª–µ–Ω–∏—è-–Ω–æ–≤—ã—Ö-—Å–µ–º–µ–π—Å—Ç–≤">‚úÖ 3. –õ—ë–≥–∫–æ—Å—Ç—å –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –Ω–æ–≤—ã—Ö —Å–µ–º–µ–π—Å—Ç–≤</a></h3>
<p>–î–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –Ω–æ–≤–æ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, MongoDB) –Ω—É–∂–Ω–æ:</p>
<ol>
<li>–°–æ–∑–¥–∞—Ç—å –∫–ª–∞—Å—Å—ã –ø—Ä–æ–¥—É–∫—Ç–æ–≤ (<code>MongoDatabase</code>, <code>MongoCursor</code>)</li>
<li>–°–æ–∑–¥–∞—Ç—å —Ñ–∞–±—Ä–∏–∫—É (<code>MongoDataAccessLayer</code>)</li>
<li>–î–æ–±–∞–≤–∏—Ç—å –µ—ë –≤ –∫–æ–ª–ª–µ–∫—Ü–∏—é</li>
</ol>
<p><strong>–°—É—â–µ—Å—Ç–≤—É—é—â–∏–π –∫–æ–¥ –Ω–µ –º–µ–Ω—è–µ—Ç—Å—è!</strong></p>
<h3 id="-4-–°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ-–ø—Ä–∏–Ω—Ü–∏–ø—É-openclosed"><a class="header" href="#-4-–°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ-–ø—Ä–∏–Ω—Ü–∏–ø—É-openclosed">‚úÖ 4. –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –ø—Ä–∏–Ω—Ü–∏–ø—É Open/Closed</a></h3>
<ul>
<li><strong>Open for extension</strong> ‚Äî –ª–µ–≥–∫–æ –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—É—é —Ñ–∞–±—Ä–∏–∫—É</li>
<li><strong>Closed for modification</strong> ‚Äî –Ω–µ –Ω—É–∂–Ω–æ –º–µ–Ω—è—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –∫–æ–¥</li>
</ul>
<hr />
<h2 id="–ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏-–∏-–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è"><a class="header" href="#–ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏-–∏-–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è">–ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏ –∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è</a></h2>
<h3 id="-1-–°–ª–æ–∂–Ω–æ—Å—Ç—å-–∫–æ–¥–∞"><a class="header" href="#-1-–°–ª–æ–∂–Ω–æ—Å—Ç—å-–∫–æ–¥–∞">‚ùå 1. –°–ª–æ–∂–Ω–æ—Å—Ç—å –∫–æ–¥–∞</a></h3>
<p>–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∫–∞–∂–¥–æ–≥–æ –Ω–æ–≤–æ–≥–æ —Ç–∏–ø–∞ –ø—Ä–æ–¥—É–∫—Ç–∞ —Ç—Ä–µ–±—É–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤–æ <strong>–≤—Å–µ—Ö —Ñ–∞–±—Ä–∏–∫–∞—Ö</strong>:</p>
<pre><code class="language-typescript">// –ï—Å–ª–∏ –Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å createIndex(), –ø—Ä–∏–¥—ë—Ç—Å—è –∏–∑–º–µ–Ω–∏—Ç—å:
interface IDataAccessLayer {
  createDatabase(config: any): IDatabase;
  createCursor(config: any, filters: any): ICursor;
  createIndex(config: any): IIndex; // ‚Üê –ù–æ–≤—ã–π –º–µ—Ç–æ–¥
}

// –ò –≤—Å–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏:
class FSDataAccessLayer implements IDataAccessLayer {
  // –ù—É–∂–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å createIndex()
}

class PostgresDataAccessLayer implements IDataAccessLayer {
  // –ù—É–∂–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å createIndex()
}
</code></pre>
<h3 id="-2-–ò–∑–ª–∏—à–Ω—è—è-–∞–±—Å—Ç—Ä–∞–∫—Ü–∏—è-–¥–ª—è-–ø—Ä–æ—Å—Ç—ã—Ö-—Å–ª—É—á–∞–µ–≤"><a class="header" href="#-2-–ò–∑–ª–∏—à–Ω—è—è-–∞–±—Å—Ç—Ä–∞–∫—Ü–∏—è-–¥–ª—è-–ø—Ä–æ—Å—Ç—ã—Ö-—Å–ª—É—á–∞–µ–≤">‚ùå 2. –ò–∑–ª–∏—à–Ω—è—è –∞–±—Å—Ç—Ä–∞–∫—Ü–∏—è –¥–ª—è –ø—Ä–æ—Å—Ç—ã—Ö —Å–ª—É—á–∞–µ–≤</a></h3>
<p>–ï—Å–ª–∏ –Ω—É–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å —Ç–æ–ª—å–∫–æ <strong>–æ–¥–∏–Ω –∫–ª–∞—Å—Å</strong>, Abstract Factory –∏–∑–±—ã—Ç–æ—á–µ–Ω. –í —Ç–∞–∫–∏—Ö —Å–ª—É—á–∞—è—Ö –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ <strong>Factory Method</strong> –∏–ª–∏ –ø—Ä–æ—Å—Ç–æ–π —Ñ—É–Ω–∫—Ü–∏–∏.</p>
<hr />
<h2 id="–û—Ç–ª–∏—á–∏–µ-–æ—Ç-factory-method"><a class="header" href="#–û—Ç–ª–∏—á–∏–µ-–æ—Ç-factory-method">–û—Ç–ª–∏—á–∏–µ –æ—Ç Factory Method</a></h2>
<div class="table-wrapper"><table><thead><tr><th>–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞</th><th>Factory Method</th><th>Abstract Factory</th></tr></thead><tbody>
<tr><td><strong>–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø—Ä–æ–¥—É–∫—Ç–æ–≤</strong></td><td>–û–¥–∏–Ω —Ç–∏–ø –ø—Ä–æ–¥—É–∫—Ç–∞</td><td>–°–µ–º–µ–π—Å—Ç–≤–æ –ø—Ä–æ–¥—É–∫—Ç–æ–≤</td></tr>
<tr><td><strong>–°—Ç—Ä—É–∫—Ç—É—Ä–∞</strong></td><td>–û–¥–∏–Ω –º–µ—Ç–æ–¥ <code>create()</code></td><td>–ù–µ—Å–∫–æ–ª—å–∫–æ –º–µ—Ç–æ–¥–æ–≤ —Å–æ–∑–¥–∞–Ω–∏—è</td></tr>
<tr><td><strong>–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ</strong></td><td>–ö–æ–≥–¥–∞ –Ω—É–∂–Ω–∞ –≤–∞—Ä–∏–∞—Ç–∏–≤–Ω–æ—Å—Ç—å –æ–¥–Ω–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞</td><td>–ö–æ–≥–¥–∞ –Ω—É–∂–Ω–æ —Å–æ–∑–¥–∞–≤–∞—Ç—å –≤–∑–∞–∏–º–æ—Å–≤—è–∑–∞–Ω–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã</td></tr>
<tr><td><strong>–ü—Ä–∏–º–µ—Ä</strong></td><td>–°–æ–∑–¥–∞–Ω–∏–µ –ª–æ–≥–≥–µ—Ä–∞ (FileLogger, ConsoleLogger)</td><td>–°–æ–∑–¥–∞–Ω–∏–µ UI-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ (Button + Checkbox)</td></tr>
</tbody></table>
</div>
<h3 id="–ü—Ä–∏–º–µ—Ä-factory-method"><a class="header" href="#–ü—Ä–∏–º–µ—Ä-factory-method">–ü—Ä–∏–º–µ—Ä Factory Method</a></h3>
<pre><code class="language-javascript">// –ü—Ä–æ—Å—Ç–∞—è —Ñ–∞–±—Ä–∏—á–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è
function createLogger(type) {
  switch (type) {
    case 'file':
      return new FileLogger();
    case 'console':
      return new ConsoleLogger();
    default:
      throw new Error('Unknown logger type');
  }
}
</code></pre>
<h3 id="–ü—Ä–∏–º–µ—Ä-abstract-factory"><a class="header" href="#–ü—Ä–∏–º–µ—Ä-abstract-factory">–ü—Ä–∏–º–µ—Ä Abstract Factory</a></h3>
<pre><code class="language-javascript">// –§–∞–±—Ä–∏–∫–∞ —Å–æ–∑–¥–∞—ë—Ç —Ü–µ–ª–æ–µ —Å–µ–º–µ–π—Å—Ç–≤–æ
const uiFactory = new WebUIFactory();
const button = uiFactory.createButton('OK');
const checkbox = uiFactory.createCheckbox('Agree');
const textbox = uiFactory.createTextbox('Enter name');
</code></pre>
<hr />
<h2 id="–ö–æ–≥–¥–∞-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å-abstract-factory"><a class="header" href="#–ö–æ–≥–¥–∞-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å-abstract-factory">–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Abstract Factory</a></h2>
<h3 id="-–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ-–∫–æ–≥–¥–∞"><a class="header" href="#-–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ-–∫–æ–≥–¥–∞">‚úÖ –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ, –∫–æ–≥–¥–∞:</a></h3>
<ol>
<li>
<p><strong>–ù—É–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å —Å–µ–º–µ–π—Å—Ç–≤–æ –≤–∑–∞–∏–º–æ—Å–≤—è–∑–∞–Ω–Ω—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤</strong></p>
<ul>
<li>UI-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –æ–¥–Ω–æ–π —Ç–µ–º—ã (Light/Dark)</li>
<li>–ö–ª–∞—Å—Å—ã –¥–æ—Å—Ç—É–ø–∞ –∫ –æ–¥–Ω–æ–π –ë–î (Connection + Cursor + Transaction)</li>
</ul>
</li>
<li>
<p><strong>–°–∏—Å—Ç–µ–º–∞ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –Ω–µ–∑–∞–≤–∏—Å–∏–º–∞ –æ—Ç —Å–ø–æ—Å–æ–±–∞ —Å–æ–∑–¥–∞–Ω–∏—è –æ–±—ä–µ–∫—Ç–æ–≤</strong></p>
<ul>
<li>–ü–æ–¥–º–µ–Ω–∞ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é</li>
<li>–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å –º–æ–∫–∞–º–∏</li>
</ul>
</li>
<li>
<p><strong>–¢—Ä–µ–±—É–µ—Ç—Å—è –æ–±–µ—Å–ø–µ—á–∏—Ç—å —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å –ø—Ä–æ–¥—É–∫—Ç–æ–≤</strong></p>
<ul>
<li>–í—Å–µ –æ–±—ä–µ–∫—Ç—ã –∏–∑ –æ–¥–Ω–æ–π —Ñ–∞–±—Ä–∏–∫–∏ –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ —Ä–∞–±–æ—Ç–∞—é—Ç –≤–º–µ—Å—Ç–µ</li>
</ul>
</li>
<li>
<p><strong>–ù—É–∂–Ω–æ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–∏—Ç—å –±–∏–±–ª–∏–æ—Ç–µ–∫—É, —Å–∫—Ä—ã–≤–∞—é—â—É—é –¥–µ—Ç–∞–ª–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏</strong></p>
<ul>
<li>–ö–ª–∏–µ–Ω—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ —Å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞–º–∏</li>
</ul>
</li>
</ol>
<h3 id="-–ù–µ-–∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ-–∫–æ–≥–¥–∞"><a class="header" href="#-–ù–µ-–∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ-–∫–æ–≥–¥–∞">‚ùå –ù–µ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ, –∫–æ–≥–¥–∞:</a></h3>
<ol>
<li>–ù—É–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å <strong>–æ–¥–∏–Ω –æ–±—ä–µ–∫—Ç</strong> ‚Äî –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ Factory Method</li>
<li>–û–±—ä–µ–∫—Ç—ã <strong>–Ω–µ —Å–≤—è–∑–∞–Ω—ã</strong> –º–µ–∂–¥—É —Å–æ–±–æ–π ‚Äî –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –æ—Ç–¥–µ–ª—å–Ω—ã–µ —Ñ–∞–±—Ä–∏–∫–∏</li>
<li><strong>–ü—Ä–æ—Å—Ç–∞—è —Å–∏—Å—Ç–µ–º–∞</strong> –±–µ–∑ –≤–∞—Ä–∏–∞—Ç–∏–≤–Ω–æ—Å—Ç–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–π</li>
</ol>
<hr />
<h2 id="–ö–æ–º–±–∏–Ω–∞—Ü–∏—è-—Å-–¥—Ä—É–≥–∏–º–∏-–ø–∞—Ç—Ç–µ—Ä–Ω–∞–º–∏"><a class="header" href="#–ö–æ–º–±–∏–Ω–∞—Ü–∏—è-—Å-–¥—Ä—É–≥–∏–º–∏-–ø–∞—Ç—Ç–µ—Ä–Ω–∞–º–∏">–ö–æ–º–±–∏–Ω–∞—Ü–∏—è —Å –¥—Ä—É–≥–∏–º–∏ –ø–∞—Ç—Ç–µ—Ä–Ω–∞–º–∏</a></h2>
<h3 id="1-abstract-factory--strategy"><a class="header" href="#1-abstract-factory--strategy">1. Abstract Factory + Strategy</a></h3>
<pre><code class="language-javascript">// –ö–æ–ª–ª–µ–∫—Ü–∏—è —Ñ–∞–±—Ä–∏–∫ ‚Äî —ç—Ç–æ –ø–∞—Ç—Ç–µ—Ä–Ω Strategy
const factories = {
  development: new MockDataAccessLayer(),
  production: new PostgresDataAccessLayer(),
  testing: new InMemoryDataAccessLayer()
};

const factory = factories[process.env.NODE_ENV];
</code></pre>
<h3 id="2-abstract-factory--singleton"><a class="header" href="#2-abstract-factory--singleton">2. Abstract Factory + Singleton</a></h3>
<pre><code class="language-javascript">class DatabaseFactory {
  static #instance = null;

  static getInstance() {
    if (!DatabaseFactory.#instance) {
      const type = process.env.DB_TYPE || 'postgres';
      DatabaseFactory.#instance = factories[type];
    }
    return DatabaseFactory.#instance;
  }
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
const factory = DatabaseFactory.getInstance();
const db = factory.createDatabase(config);
</code></pre>
<h3 id="3-abstract-factory--builder"><a class="header" href="#3-abstract-factory--builder">3. Abstract Factory + Builder</a></h3>
<pre><code class="language-javascript">// –§–∞–±—Ä–∏–∫–∞ —Å–æ–∑–¥–∞—ë—Ç Builder –¥–ª—è —Å–ª–æ–∂–Ω—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤
class QueryBuilderFactory {
  createQueryBuilder() {
    return new PostgresQueryBuilder();
  }
}

const factory = new QueryBuilderFactory();
const builder = factory.createQueryBuilder();

const query = builder
  .select(['name', 'email'])
  .from('users')
  .where({ active: true })
  .build();
</code></pre>
<hr />
<h2 id="–†–µ–∑—é–º–µ-5"><a class="header" href="#–†–µ–∑—é–º–µ-5">–†–µ–∑—é–º–µ</a></h2>
<h3 id="–ö–ª—é—á–µ–≤—ã–µ-–º–æ–º–µ–Ω—Ç—ã-1"><a class="header" href="#–ö–ª—é—á–µ–≤—ã–µ-–º–æ–º–µ–Ω—Ç—ã-1">–ö–ª—é—á–µ–≤—ã–µ –º–æ–º–µ–Ω—Ç—ã</a></h3>
<ol>
<li><strong>Abstract Factory</strong> —Å–æ–∑–¥–∞—ë—Ç <strong>—Å–µ–º–µ–π—Å—Ç–≤–∞ –æ–±—ä–µ–∫—Ç–æ–≤</strong> —Å –æ–±—â–∏–º –∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–º</li>
<li>–ò—Å–ø–æ–ª—å–∑—É–µ—Ç <strong>–¥–≤–µ –∏–µ—Ä–∞—Ä—Ö–∏–∏</strong>: –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω—É—é –∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—É—é</li>
<li>–í <strong>JavaScript</strong> –º–æ–∂–Ω–æ —É–ø—Ä–æ—Å—Ç–∏—Ç—å, —É–±—Ä–∞–≤ –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–µ –∫–ª–∞—Å—Å—ã</li>
<li>–í <strong>TypeScript</strong> –ª—É—á—à–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –¥–ª—è —Å—Ç—Ä–æ–≥–æ–π —Ç–∏–ø–∏–∑–∞—Ü–∏–∏</li>
<li>–ß–∞—Å—Ç–æ –∫–æ–º–±–∏–Ω–∏—Ä—É–µ—Ç—Å—è —Å –ø–∞—Ç—Ç–µ—Ä–Ω–æ–º <strong>Strategy</strong> –¥–ª—è –≤—ã–±–æ—Ä–∞ —Ñ–∞–±—Ä–∏–∫–∏</li>
</ol>
<h3 id="–û—Å–Ω–æ–≤–Ω—ã–µ-–ø—Ä–∏–Ω—Ü–∏–ø—ã-2"><a class="header" href="#–û—Å–Ω–æ–≤–Ω—ã–µ-–ø—Ä–∏–Ω—Ü–∏–ø—ã-2">–û—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã</a></h3>
<ul>
<li><strong>–°–ª–∞–±–æ–µ –∑–∞—Ü–µ–ø–ª–µ–Ω–∏–µ</strong> (Low Coupling) ‚Äî –∫–ª–∏–µ–Ω—Ç –Ω–µ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö –∫–ª–∞—Å—Å–æ–≤</li>
<li><strong>Single Responsibility</strong> ‚Äî –∫–∞–∂–¥–∞—è —Ñ–∞–±—Ä–∏–∫–∞ –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ —Å–≤–æ—ë —Å–µ–º–µ–π—Å—Ç–≤–æ</li>
<li><strong>Open/Closed Principle</strong> ‚Äî –ª–µ–≥–∫–æ –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ —Ñ–∞–±—Ä–∏–∫–∏ –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ –∫–æ–¥–∞</li>
</ul>
<h3 id="–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ-–ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ"><a class="header" href="#–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ-–ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ">–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ</a></h3>
<p>Abstract Factory –∏–¥–µ–∞–ª—å–Ω–æ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è:</p>
<ul>
<li>–†–∞–±–æ—Ç—ã —Å <strong>—Ä–∞–∑–Ω—ã–º–∏ –±–∞–∑–∞–º–∏ –¥–∞–Ω–Ω—ã—Ö</strong> (PostgreSQL, MySQL, MongoDB, FileSystem)</li>
<li>–†–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ <strong>UI –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –ø–ª–∞—Ç—Ñ–æ—Ä–º</strong> (Web, Desktop, Mobile)</li>
<li>–ê–±—Å—Ç—Ä–∞–≥–∏—Ä–æ–≤–∞–Ω–∏—è <strong>–æ–±–ª–∞—á–Ω—ã—Ö –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤</strong> (AWS, Azure, GCP)</li>
<li>–°–æ–∑–¥–∞–Ω–∏—è <strong>—Ç–µ—Å—Ç–æ–≤—ã—Ö –º–æ–∫–æ–≤</strong> –≤–º–µ—Å—Ç–æ —Ä–µ–∞–ª—å–Ω—ã—Ö —Å–µ—Ä–≤–∏—Å–æ–≤</li>
</ul>
<hr />
<h2 id="–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ-—Ä–µ—Å—É—Ä—Å—ã-6"><a class="header" href="#–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ-—Ä–µ—Å—É—Ä—Å—ã-6">–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã</a></h2>
<ul>
<li><a href="https://refactoring.guru/design-patterns/abstract-factory">Refactoring Guru: Abstract Factory</a></li>
<li><a href="https://www.amazon.com/Design-Patterns-Elements-Reusable-Object-Oriented/dp/0201633612">GoF Design Patterns Book</a></li>
<li><a href="https://github.com/refactoringguru/design-patterns-typescript">TypeScript Design Patterns Repository</a></li>
</ul>
<hr />
<h2 id="–ü—Ä–∏–º–µ—Ä—ã-–∫–æ–¥–∞-–∏–∑-–ª–µ–∫—Ü–∏–∏"><a class="header" href="#–ü—Ä–∏–º–µ—Ä—ã-–∫–æ–¥–∞-–∏–∑-–ª–µ–∫—Ü–∏–∏">–ü—Ä–∏–º–µ—Ä—ã –∫–æ–¥–∞ –∏–∑ –ª–µ–∫—Ü–∏–∏</a></h2>
<p>–í—Å–µ –ø—Ä–∏–º–µ—Ä—ã –∫–æ–¥–∞ –∏–∑ –ª–µ–∫—Ü–∏–∏ –¥–æ—Å—Ç—É–ø–Ω—ã –ø–æ —Å—Å—ã–ª–∫–µ –≤ –æ–ø–∏—Å–∞–Ω–∏–∏ –≤–∏–¥–µ–æ. –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è:</p>
<ol>
<li><strong>–°–∫–∞—á–∞—Ç—å –∏—Å—Ö–æ–¥–Ω–∏–∫–∏</strong> –∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å –∏—Ö –ª–æ–∫–∞–ª—å–Ω–æ</li>
<li><strong>–ú–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å</strong> –∫–æ–¥, –¥–æ–±–∞–≤–∏–≤ –Ω–æ–≤—ã–µ —Ñ–∞–±—Ä–∏–∫–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –¥–ª—è PostgreSQL)</li>
<li><strong>–ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å</strong> —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å Abstract Factory –¥–ª—è —Å–≤–æ–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞</li>
<li><strong>–ü–æ—ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å</strong> —Å –∫–æ–º–±–∏–Ω–∞—Ü–∏–µ–π –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤ (Strategy + Abstract Factory)</li>
</ol>
<hr />
<p><strong>–ê–≤—Ç–æ—Ä –∫–æ–Ω—Å–ø–µ–∫—Ç–∞:</strong> Claude Code
<strong>–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è:</strong> 2025-12-18
<strong>–ò—Å—Ç–æ—á–Ω–∏–∫:</strong> –õ–µ–∫—Ü–∏—è –ø–æ –ø–∞—Ç—Ç–µ—Ä–Ω—É Abstract Factory –¥–ª—è JavaScript/TypeScript</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="–ü–∞—Ç—Ç–µ—Ä–Ω-factory-method-–§–∞–±—Ä–∏—á–Ω—ã–π-–º–µ—Ç–æ–¥"><a class="header" href="#–ü–∞—Ç—Ç–µ—Ä–Ω-factory-method-–§–∞–±—Ä–∏—á–Ω—ã–π-–º–µ—Ç–æ–¥">–ü–∞—Ç—Ç–µ—Ä–Ω Factory Method (–§–∞–±—Ä–∏—á–Ω—ã–π –º–µ—Ç–æ–¥)</a></h1>
<h2 id="–í–≤–µ–¥–µ–Ω–∏–µ-6"><a class="header" href="#–í–≤–µ–¥–µ–Ω–∏–µ-6">–í–≤–µ–¥–µ–Ω–∏–µ</a></h2>
<p><strong>Factory Method</strong> (–§–∞–±—Ä–∏—á–Ω—ã–π –º–µ—Ç–æ–¥) ‚Äî —ç—Ç–æ –ø–æ—Ä–æ–∂–¥–∞—é—â–∏–π –ø–∞—Ç—Ç–µ—Ä–Ω –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏–∑ –∫–Ω–∏–≥–∏ Gang of Four, –∫–æ—Ç–æ—Ä—ã–π –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –æ–±—â–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –æ–±—ä–µ–∫—Ç–æ–≤ –≤ —Å—É–ø–µ—Ä–∫–ª–∞—Å—Å–µ, –ø–æ–∑–≤–æ–ª—è—è –ø–æ–¥–∫–ª–∞—Å—Å–∞–º –∏–∑–º–µ–Ω—è—Ç—å —Ç–∏–ø —Å–æ–∑–¥–∞–≤–∞–µ–º—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤.</p>
<h3 id="–¢–µ—Ä–º–∏–Ω–æ–ª–æ–≥–∏—è"><a class="header" href="#–¢–µ—Ä–º–∏–Ω–æ–ª–æ–≥–∏—è">–¢–µ—Ä–º–∏–Ω–æ–ª–æ–≥–∏—è</a></h3>
<p>–í —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —è–∑—ã–∫–∞—Ö –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞—Ö –º–æ–∂–Ω–æ –≤—Å—Ç—Ä–µ—Ç–∏—Ç—å —Ä–∞–∑–Ω—ã–µ –Ω–∞–∑–≤–∞–Ω–∏—è:</p>
<ul>
<li><strong>Factory Method</strong> ‚Äî —Ñ–∞–±—Ä–∏—á–Ω—ã–π –º–µ—Ç–æ–¥</li>
<li><strong>Factory</strong> ‚Äî —Ñ–∞–±—Ä–∏–∫–∞ (–∏–Ω–æ–≥–¥–∞ —Ç–∞–∫ –Ω–∞–∑—ã–≤–∞—é—Ç —ç—Ç–æ—Ç –ø–∞—Ç—Ç–µ—Ä–Ω, –Ω–æ –≤–∞–∂–Ω–æ —É—Ç–æ—á–Ω—è—Ç—å, —á—Ç–æ –∏–º–µ–Ω–Ω–æ –∏–º–µ–µ—Ç—Å—è –≤ –≤–∏–¥—É)</li>
<li><strong>Abstract Factory</strong> ‚Äî –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω–∞—è —Ñ–∞–±—Ä–∏–∫–∞ (—ç—Ç–æ –¥—Ä—É–≥–æ–π –ø–∞—Ç—Ç–µ—Ä–Ω!)</li>
</ul>
<p><strong>–í–∞–∂–Ω–æ</strong>: –í—Å–µ–≥–¥–∞ —É—Ç–æ—á–Ω—è–π—Ç–µ, –æ –∫–∞–∫–æ–º –∏–º–µ–Ω–Ω–æ –ø–∞—Ç—Ç–µ—Ä–Ω–µ –∏–¥—ë—Ç —Ä–µ—á—å ‚Äî Factory Method –∏–ª–∏ Abstract Factory, —Ç–∞–∫ –∫–∞–∫ –æ–Ω–∏ —Ä–µ—à–∞—é—Ç —Ä–∞–∑–Ω—ã–µ –∑–∞–¥–∞—á–∏.</p>
<hr />
<h2 id="–ö–ª—é—á–µ–≤—ã–µ-–æ—Ç–ª–∏—á–∏—è-–æ—Ç-abstract-factory"><a class="header" href="#–ö–ª—é—á–µ–≤—ã–µ-–æ—Ç–ª–∏—á–∏—è-–æ—Ç-abstract-factory">–ö–ª—é—á–µ–≤—ã–µ –æ—Ç–ª–∏—á–∏—è –æ—Ç Abstract Factory</a></h2>
<h3 id="abstract-factory"><a class="header" href="#abstract-factory">Abstract Factory</a></h3>
<ul>
<li>–ò–º–µ–µ—Ç <strong>–Ω–µ—Å–∫–æ–ª—å–∫–æ –º–µ—Ç–æ–¥–æ–≤</strong> –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –æ–±—ä–µ–∫—Ç–æ–≤</li>
<li>–ö–∞–∂–¥—ã–π –º–µ—Ç–æ–¥ —Å–æ–∑–¥–∞—ë—Ç —ç–∫–∑–µ–º–ø–ª—è—Ä—ã <strong>—Ä–∞–∑–Ω—ã—Ö –∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤</strong></li>
<li>–°–æ–∑–¥–∞—ë—Ç —Å–µ–º–µ–π—Å—Ç–≤–∞ —Å–≤—è–∑–∞–Ω–Ω—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤</li>
</ul>
<h3 id="factory-method-1"><a class="header" href="#factory-method-1">Factory Method</a></h3>
<ul>
<li><strong>–û–¥–∏–Ω –º–µ—Ç–æ–¥</strong> –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –æ–±—ä–µ–∫—Ç–æ–≤</li>
<li>–ü–µ—Ä–µ—Ö–æ–¥ –æ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞ <code>new</code> –∫ –≤—ã–∑–æ–≤—É –º–µ—Ç–æ–¥–∞</li>
<li>–°–æ–∑–¥–∞—ë—Ç –æ–±—ä–µ–∫—Ç—ã –æ–¥–Ω–æ–≥–æ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞, –Ω–æ —Ä–∞–∑–Ω—ã—Ö —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–π</li>
</ul>
<hr />
<h2 id="–û—Å–Ω–æ–≤–Ω–∞—è-–∏–¥–µ—è-–ø–∞—Ç—Ç–µ—Ä–Ω–∞"><a class="header" href="#–û—Å–Ω–æ–≤–Ω–∞—è-–∏–¥–µ—è-–ø–∞—Ç—Ç–µ—Ä–Ω–∞">–û—Å–Ω–æ–≤–Ω–∞—è –∏–¥–µ—è –ø–∞—Ç—Ç–µ—Ä–Ω–∞</a></h2>
<h3 id="–ü—Ä–æ–±–ª–µ–º–∞-12"><a class="header" href="#–ü—Ä–æ–±–ª–µ–º–∞-12">–ü—Ä–æ–±–ª–µ–º–∞</a></h3>
<p>–í –∫–æ–¥–µ –Ω–∞–ø—Ä—è–º—É—é –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –æ–ø–µ—Ä–∞—Ç–æ—Ä <code>new</code> –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —ç–∫–∑–µ–º–ø–ª—è—Ä–æ–≤ –∫–ª–∞—Å—Å–æ–≤:</p>
<pre><code class="language-javascript">// –ü—Ä–æ–±–ª–µ–º–∞: –∂—ë—Å—Ç–∫–∞—è —Å–≤—è–∑–∞–Ω–Ω–æ—Å—Ç—å —Å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–º –∫–ª–∞—Å—Å–æ–º
const product = new ConcreteProduct();
</code></pre>
<p>–≠—Ç–æ —Å–æ–∑–¥–∞—ë—Ç <strong>—Å–∏–ª—å–Ω–æ–µ –∑–∞—Ü–µ–ø–ª–µ–Ω–∏–µ</strong> (tight coupling) –º–µ–∂–¥—É –∫–æ–¥–æ–º –∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–º–∏ –∫–ª–∞—Å—Å–∞–º–∏.</p>
<h3 id="–†–µ—à–µ–Ω–∏–µ-6"><a class="header" href="#–†–µ—à–µ–Ω–∏–µ-6">–†–µ—à–µ–Ω–∏–µ</a></h3>
<p>Factory Method –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç –∑–∞–º–µ–Ω–∏—Ç—å –ø—Ä—è–º–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –æ–±—ä–µ–∫—Ç–æ–≤ –≤—ã–∑–æ–≤–æ–º —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ–≥–æ –º–µ—Ç–æ–¥–∞:</p>
<pre><code class="language-javascript">// –†–µ—à–µ–Ω–∏–µ: —Å–æ–∑–¥–∞–Ω–∏–µ —á–µ—Ä–µ–∑ —Ñ–∞–±—Ä–∏—á–Ω—ã–π –º–µ—Ç–æ–¥
const product = creator.factoryMethod();
</code></pre>
<h3 id="–¶–µ–ª–∏-–ø–∞—Ç—Ç–µ—Ä–Ω–∞"><a class="header" href="#–¶–µ–ª–∏-–ø–∞—Ç—Ç–µ—Ä–Ω–∞">–¶–µ–ª–∏ –ø–∞—Ç—Ç–µ—Ä–Ω–∞</a></h3>
<ol>
<li><strong>–°–Ω–∏–∑–∏—Ç—å –∑–∞—Ü–µ–ø–ª–µ–Ω–∏–µ (coupling)</strong> –º–µ–∂–¥—É –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏ —Å–∏—Å—Ç–µ–º—ã</li>
<li><strong>–ü–æ–¥—Å—Ç–∞–≤–ª—è—Ç—å —Ä–∞–∑–ª–∏—á–Ω—ã–µ —Ñ–∞–±—Ä–∏–∫–∏</strong> –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞</li>
<li><strong>–î–µ–ª–µ–≥–∏—Ä–æ–≤–∞—Ç—å —Å–æ–∑–¥–∞–Ω–∏–µ –æ–±—ä–µ–∫—Ç–æ–≤</strong> –¥—Ä—É–≥–∏–º —á–∞—Å—Ç—è–º –ø—Ä–æ–≥—Ä–∞–º–º—ã</li>
<li>–ü–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å –∫–æ–¥ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é –ø–∞—Ç—Ç–µ—Ä–Ω–∞ <strong>Strategy</strong></li>
</ol>
<hr />
<h2 id="–ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∞—è-—Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è"><a class="header" href="#–ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∞—è-—Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è">–ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è</a></h2>
<h3 id="–°—Ç—Ä—É–∫—Ç—É—Ä–∞-–ø–∞—Ç—Ç–µ—Ä–Ω–∞-1"><a class="header" href="#–°—Ç—Ä—É–∫—Ç—É—Ä–∞-–ø–∞—Ç—Ç–µ—Ä–Ω–∞-1">–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–∞—Ç—Ç–µ—Ä–Ω–∞</a></h3>
<pre><code>AbstractCreator
    ‚îî‚îÄ‚îÄ factoryMethod(): AbstractProduct
         ‚Üë
         |
ConcreteCreator
    ‚îî‚îÄ‚îÄ factoryMethod(): ConcreteProduct
                              ‚Üì
                         (extends AbstractProduct)
</code></pre>
<h3 id="javascript-—Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è-–∫–ª–∞—Å—Å–∏—á–µ—Å–∫–∞—è"><a class="header" href="#javascript-—Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è-–∫–ª–∞—Å—Å–∏—á–µ—Å–∫–∞—è">JavaScript —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è (–∫–ª–∞—Å—Å–∏—á–µ—Å–∫–∞—è)</a></h3>
<pre><code class="language-javascript">// –ê–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–π –ø—Ä–æ–¥—É–∫—Ç
class AbstractProduct {
  constructor() {
    if (new.target === AbstractProduct) {
      throw new Error('Cannot instantiate abstract class');
    }
  }

  operation() {
    throw new Error('Abstract method must be implemented');
  }
}

// –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –ø—Ä–æ–¥—É–∫—Ç
class ConcreteProduct extends AbstractProduct {
  constructor(value) {
    super();
    this.value = value;
  }

  operation() {
    return `ConcreteProduct operation with value: ${this.value}`;
  }
}

// –ê–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–π —Å–æ–∑–¥–∞—Ç–µ–ª—å (Creator)
class AbstractCreator {
  constructor() {
    if (new.target === AbstractCreator) {
      throw new Error('Cannot instantiate abstract class');
    }
  }

  // –§–∞–±—Ä–∏—á–Ω—ã–π –º–µ—Ç–æ–¥ ‚Äî –∑–∞–≥–ª—É—à–∫–∞
  factoryMethod() {
    throw new Error('Abstract factory method must be implemented');
  }

  // –î—Ä—É–≥–∏–µ –º–µ—Ç–æ–¥—ã –º–æ–≥—É—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ñ–∞–±—Ä–∏—á–Ω—ã–π –º–µ—Ç–æ–¥
  someOperation() {
    const product = this.factoryMethod();
    return product.operation();
  }
}

// –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π —Å–æ–∑–¥–∞—Ç–µ–ª—å
class ConcreteCreator extends AbstractCreator {
  factoryMethod() {
    // –í—ã–∑–æ–≤ –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞ new —Å–∫—Ä—ã—Ç –≤–Ω—É—Ç—Ä–∏ –º–µ—Ç–æ–¥–∞
    return new ConcreteProduct('example');
  }
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
const creator = new ConcreteCreator();
const product = creator.factoryMethod();
console.log(product.operation());
// –í—ã–≤–æ–¥: ConcreteProduct operation with value: example
</code></pre>
<p><strong>–ö–ª—é—á–µ–≤–∞—è –∏–¥–µ—è</strong>: –ú—ã –ø–µ—Ä–µ—Ö–æ–¥–∏–º –æ—Ç –ø—Ä—è–º–æ–≥–æ –∏–Ω—Å—Ç–∞–Ω—Ü–∏—Ä–æ–≤–∞–Ω–∏—è —á–µ—Ä–µ–∑ <code>new</code> –∫ –≤—ã–∑–æ–≤—É –º–µ—Ç–æ–¥–∞, –∫–æ—Ç–æ—Ä—ã–π —Å–∫—Ä—ã–≤–∞–µ—Ç –¥–µ—Ç–∞–ª–∏ —Å–æ–∑–¥–∞–Ω–∏—è –æ–±—ä–µ–∫—Ç–∞.</p>
<hr />
<h2 id="typescript-—Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è"><a class="header" href="#typescript-—Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è">TypeScript —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è</a></h2>
<p>TypeScript –ø–æ–∑–≤–æ–ª—è–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –Ω–∞—Å—Ç–æ—è—â–∏–µ –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–µ –∫–ª–∞—Å—Å—ã –∏ –º–µ—Ç–æ–¥—ã, —á—Ç–æ –¥–µ–ª–∞–µ—Ç –∫–æ–¥ –±–æ–ª–µ–µ —Ç–∏–ø–æ–±–µ–∑–æ–ø–∞—Å–Ω—ã–º.</p>
<h3 id="–ü—Ä–∏–º–µ—Ä-—Å-–∞–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–º–∏-–∫–ª–∞—Å—Å–∞–º–∏"><a class="header" href="#–ü—Ä–∏–º–µ—Ä-—Å-–∞–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–º–∏-–∫–ª–∞—Å—Å–∞–º–∏">–ü—Ä–∏–º–µ—Ä —Å –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–º–∏ –∫–ª–∞—Å—Å–∞–º–∏</a></h3>
<pre><code class="language-typescript">// –ê–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–π –ø—Ä–æ–¥—É–∫—Ç
abstract class AbstractProduct {
  abstract operation(): string;
}

// –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –ø—Ä–æ–¥—É–∫—Ç
class ConcreteProduct extends AbstractProduct {
  constructor(private value: string) {
    super();
  }

  operation(): string {
    return `ConcreteProduct operation with value: ${this.value}`;
  }
}

// –ê–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–π —Å–æ–∑–¥–∞—Ç–µ–ª—å
abstract class AbstractCreator {
  // –ê–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–π —Ñ–∞–±—Ä–∏—á–Ω—ã–π –º–µ—Ç–æ–¥
  abstract factoryMethod(): AbstractProduct;

  // –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –º–µ—Ç–æ–¥, –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ñ–∞–±—Ä–∏—á–Ω—ã–π –º–µ—Ç–æ–¥
  someOperation(): string {
    const product = this.factoryMethod();
    return product.operation();
  }
}

// –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π —Å–æ–∑–¥–∞—Ç–µ–ª—å
class ConcreteCreator extends AbstractCreator {
  factoryMethod(): AbstractProduct {
    return new ConcreteProduct('TypeScript example');
  }
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
const creator: AbstractCreator = new ConcreteCreator();
const product = creator.factoryMethod();
console.log(product.operation());
// –í—ã–≤–æ–¥: ConcreteProduct operation with value: TypeScript example
</code></pre>
<p><strong>–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ TypeScript</strong>:</p>
<ul>
<li>–ö–æ–º–ø–∏–ª—è—Ç–æ—Ä –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é –≤—Å–µ—Ö –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã—Ö –º–µ—Ç–æ–¥–æ–≤</li>
<li>–ù–µ –Ω—É–∂–Ω—ã –ø—Ä–æ–≤–µ—Ä–∫–∏ <code>new.target</code> –∏ –≤—ã–±—Ä–∞—Å—ã–≤–∞–Ω–∏–µ –æ—à–∏–±–æ–∫</li>
<li>–õ—É—á—à–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ IDE (–∞–≤—Ç–æ–¥–æ–ø–æ–ª–Ω–µ–Ω–∏–µ, —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥)</li>
<li>–¢–∏–ø–æ–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –Ω–∞ —ç—Ç–∞–ø–µ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏</li>
</ul>
<h3 id="–ó–∞–º–µ—á–∞–Ω–∏—è-–ø–æ-–∞–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–º-–∫–ª–∞—Å—Å–∞–º"><a class="header" href="#–ó–∞–º–µ—á–∞–Ω–∏—è-–ø–æ-–∞–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–º-–∫–ª–∞—Å—Å–∞–º">–ó–∞–º–µ—á–∞–Ω–∏—è –ø–æ –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–º –∫–ª–∞—Å—Å–∞–º</a></h3>
<p>–í –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã—Ö –∫–ª–∞—Å—Å–∞—Ö –º–æ–≥—É—Ç –±—ã—Ç—å:</p>
<ul>
<li><strong>–ê–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–µ –º–µ—Ç–æ–¥—ã</strong> ‚Äî –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã –≤ –Ω–∞—Å–ª–µ–¥–Ω–∏–∫–∞—Ö</li>
<li><strong>–ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –º–µ—Ç–æ–¥—ã</strong> ‚Äî –Ω–∞—Å–ª–µ–¥–Ω–∏–∫–∏ –º–æ–≥—É—Ç –∏—Ö –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å (–Ω–æ –Ω–µ –æ–±—è–∑–∞–Ω—ã)</li>
</ul>
<pre><code class="language-typescript">abstract class Creator {
  // –ê–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–π –º–µ—Ç–æ–¥ ‚Äî –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω –¥–ª—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏
  abstract factoryMethod(): Product;

  // –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –º–µ—Ç–æ–¥ ‚Äî –º–æ–∂–µ—Ç –±—ã—Ç—å –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—ë–Ω
  createProduct(): Product {
    console.log('Default product creation logic');
    return this.factoryMethod();
  }
}
</code></pre>
<hr />
<h2 id="javascript-–∏–¥–∏–æ–º–∞—Ç–∏—á–Ω—ã–π-–ø–æ–¥—Ö–æ–¥"><a class="header" href="#javascript-–∏–¥–∏–æ–º–∞—Ç–∏—á–Ω—ã–π-–ø–æ–¥—Ö–æ–¥">JavaScript-–∏–¥–∏–æ–º–∞—Ç–∏—á–Ω—ã–π –ø–æ–¥—Ö–æ–¥</a></h2>
<p>–í JavaScript –Ω–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–ª–∞—Å—Å—ã. –§–∞–±—Ä–∏–∫–∞ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø—Ä–æ—Å—Ç–æ–π —Ñ—É–Ω–∫—Ü–∏–µ–π.</p>
<h3 id="–ü—Ä–æ—Å—Ç–∞—è-—Ñ—É–Ω–∫—Ü–∏—è-—Ñ–∞–±—Ä–∏–∫–∞"><a class="header" href="#–ü—Ä–æ—Å—Ç–∞—è-—Ñ—É–Ω–∫—Ü–∏—è-—Ñ–∞–±—Ä–∏–∫–∞">–ü—Ä–æ—Å—Ç–∞—è —Ñ—É–Ω–∫—Ü–∏—è-—Ñ–∞–±—Ä–∏–∫–∞</a></h3>
<pre><code class="language-javascript">// –ü—Ä–æ–¥—É–∫—Ç ‚Äî –ø—Ä–æ—Å—Ç–æ–π –æ–±—ä–µ–∫—Ç –∏–ª–∏ –∫–ª–∞—Å—Å
class Product {
  constructor(type, value) {
    this.type = type;
    this.value = value;
  }

  describe() {
    return `Product of type "${this.type}" with value: ${this.value}`;
  }
}

// –§–∞–±—Ä–∏—á–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è
function createProduct(type, value) {
  return new Product(type, value);
}

// –≠–∫—Å–ø–æ—Ä—Ç –∏–∑ –º–æ–¥—É–ª—è
export { createProduct };

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
import { createProduct } from './product-factory.js';

const product = createProduct('standard', 100);
console.log(product.describe());
// –í—ã–≤–æ–¥: Product of type "standard" with value: 100
</code></pre>
<h3 id="–ö–æ–ª–ª–µ–∫—Ü–∏—è-—Ñ–∞–±—Ä–∏–∫"><a class="header" href="#–ö–æ–ª–ª–µ–∫—Ü–∏—è-—Ñ–∞–±—Ä–∏–∫">–ö–æ–ª–ª–µ–∫—Ü–∏—è —Ñ–∞–±—Ä–∏–∫</a></h3>
<p>–û–¥–∏–Ω –∏–∑ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—ë–Ω–Ω—ã—Ö –ø–æ–¥—Ö–æ–¥–æ–≤ –≤ JavaScript ‚Äî —Ö—Ä–∞–Ω–∏—Ç—å —Ñ–∞–±—Ä–∏–∫–∏ –≤ –æ–±—ä–µ–∫—Ç–µ –∏ –≤—ã–±–∏—Ä–∞—Ç—å –Ω—É–∂–Ω—É—é –ø–æ –∫–ª—é—á—É:</p>
<pre><code class="language-javascript">// –†–∞–∑–Ω—ã–µ —Ç–∏–ø—ã –ø—Ä–æ–¥—É–∫—Ç–æ–≤
class StandardProduct {
  constructor(value) {
    this.type = 'standard';
    this.value = value;
  }

  calculate() {
    return this.value;
  }
}

class PremiumProduct {
  constructor(value) {
    this.type = 'premium';
    this.value = value;
  }

  calculate() {
    return this.value * 1.5; // –ü—Ä–µ–º–∏—É–º-–º–Ω–æ–∂–∏—Ç–µ–ª—å
  }
}

// –ö–æ–ª–ª–µ–∫—Ü–∏—è —Ñ–∞–±—Ä–∏–∫
const productFactories = {
  standard: (value) =&gt; new StandardProduct(value),
  premium: (value) =&gt; new PremiumProduct(value),
};

// –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Ñ–∞–±—Ä–∏–∫–∏ –ø–æ –∫–ª—é—á—É
function getFactory(type) {
  const factory = productFactories[type];
  if (!factory) {
    throw new Error(`Unknown product type: ${type}`);
  }
  return factory;
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
const factory = getFactory('premium');
const product = factory(100);
console.log(product.calculate()); // –í—ã–≤–æ–¥: 150
</code></pre>
<h3 id="–ü–µ—Ä–µ–¥–∞—á–∞-—Ñ–∞–±—Ä–∏–∫–∏-–∫–∞–∫-–∞—Ä–≥—É–º–µ–Ω—Ç–∞"><a class="header" href="#–ü–µ—Ä–µ–¥–∞—á–∞-—Ñ–∞–±—Ä–∏–∫–∏-–∫–∞–∫-–∞—Ä–≥—É–º–µ–Ω—Ç–∞">–ü–µ—Ä–µ–¥–∞—á–∞ —Ñ–∞–±—Ä–∏–∫–∏ –∫–∞–∫ –∞—Ä–≥—É–º–µ–Ω—Ç–∞</a></h3>
<p>–ú–æ—â–Ω–∞—è –∏–¥–∏–æ–º–∞ JavaScript ‚Äî –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å —Ñ–∞–±—Ä–∏–∫—É –≤ –¥—Ä—É–≥–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏:</p>
<pre><code class="language-javascript">// –§—É–Ω–∫—Ü–∏—è –≤—ã—Å—à–µ–≥–æ –ø–æ—Ä—è–¥–∫–∞, –ø—Ä–∏–Ω–∏–º–∞—é—â–∞—è —Ñ–∞–±—Ä–∏–∫—É
function processItems(items, factory) {
  return items.map(item =&gt; {
    const product = factory(item);
    return product.calculate();
  });
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å —Ä–∞–∑–Ω—ã–º–∏ —Ñ–∞–±—Ä–∏–∫–∞–º–∏
const standardFactory = (value) =&gt; new StandardProduct(value);
const premiumFactory = (value) =&gt; new PremiumProduct(value);

const values = [10, 20, 30];

const standardResults = processItems(values, standardFactory);
console.log(standardResults); // [10, 20, 30]

const premiumResults = processItems(values, premiumFactory);
console.log(premiumResults); // [15, 30, 45]
</code></pre>
<p><strong>–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–æ</strong>: –ò–Ω—Å—Ç–∞–Ω—Ü–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –Ω–µ –≤ –Ω–∞—à–µ–º –∫–æ–¥–µ, –∞ –≤ –¥—Ä—É–≥–æ–π —á–∞—Å—Ç–∏ –ø—Ä–æ–≥—Ä–∞–º–º—ã, –∫–æ—Ç–æ—Ä–∞—è –ø–æ–ª—É—á–∏–ª–∞ —Ñ–∞–±—Ä–∏–∫—É –∫–∞–∫ dependency.</p>
<hr />
<h2 id="–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–π-–ø—Ä–∏–º–µ—Ä-database-–∏-cursor"><a class="header" href="#–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–π-–ø—Ä–∏–º–µ—Ä-database-–∏-cursor">–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–π –ø—Ä–∏–º–µ—Ä: Database –∏ Cursor</a></h2>
<p>–†–∞—Å—Å–º–æ—Ç—Ä–∏–º —Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω—ã–π –ø—Ä–∏–º–µ—Ä —Ä–∞–±–æ—Ç—ã —Å –±–∞–∑–∞–º–∏ –¥–∞–Ω–Ω—ã—Ö –∏ –∫—É—Ä—Å–æ—Ä–∞–º–∏.</p>
<h3 id="–°—Ç—Ä—É–∫—Ç—É—Ä–∞-1"><a class="header" href="#–°—Ç—Ä—É–∫—Ç—É—Ä–∞-1">–°—Ç—Ä—É–∫—Ç—É—Ä–∞</a></h3>
<pre><code>Database (abstract)
  ‚îú‚îÄ‚îÄ constructor (abstract)
  ‚îú‚îÄ‚îÄ select() ‚Üí Cursor (abstract)
  ‚îÇ
  ‚îú‚îÄ‚îÄ FileDatabase (concrete)
  ‚îÇ   ‚îú‚îÄ‚îÄ select() ‚Üí FileCursor
  ‚îÇ
  ‚îî‚îÄ‚îÄ SqlDatabase (concrete)
      ‚îî‚îÄ‚îÄ select() ‚Üí SqlCursor

Cursor (abstract)
  ‚îî‚îÄ‚îÄ [Symbol.iterator]() (abstract)
      ‚îÇ
      ‚îú‚îÄ‚îÄ FileCursor (concrete)
      ‚îÇ   ‚îî‚îÄ‚îÄ –∏—Ç–µ—Ä–∏—Ä—É–µ—Ç —Å—Ç—Ä–æ–∫–∏ –∏–∑ —Ñ–∞–π–ª–∞
      ‚îÇ
      ‚îî‚îÄ‚îÄ SqlCursor (concrete)
          ‚îî‚îÄ‚îÄ –∏—Ç–µ—Ä–∏—Ä—É–µ—Ç –∑–∞–ø–∏—Å–∏ –∏–∑ SQL
</code></pre>
<h3 id="typescript-—Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è-1"><a class="header" href="#typescript-—Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è-1">TypeScript —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è</a></h3>
<pre><code class="language-typescript">// ========================================
// –ê–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–π –∫—É—Ä—Å–æ—Ä
// ========================================
abstract class Cursor {
  // –ê–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–π –∏—Ç–µ—Ä–∞—Ç–æ—Ä
  abstract [Symbol.iterator](): Iterator&lt;any&gt;;
}

// ========================================
// –ê–±—Å—Ç—Ä–∞–∫—Ç–Ω–∞—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
// ========================================
abstract class Database {
  // –ê–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–π –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä
  constructor() {}

  // –§–∞–±—Ä–∏—á–Ω—ã–π –º–µ—Ç–æ–¥ ‚Äî –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∫—É—Ä—Å–æ—Ä
  abstract select(query: string): Cursor;
}

// ========================================
// –ö–æ–Ω–∫—Ä–µ—Ç–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è: File Database
// ========================================
class FileCursor extends Cursor {
  constructor(private filePath: string) {
    super();
  }

  *[Symbol.iterator]() {
    // –ß—Ç–µ–Ω–∏–µ —Ñ–∞–π–ª–∞ –ø–æ—Å—Ç—Ä–æ—á–Ω–æ
    const fs = require('fs');
    const lines = fs.readFileSync(this.filePath, 'utf-8').split('\n');

    for (const line of lines) {
      if (line.trim()) {
        yield line;
      }
    }
  }
}

class FileDatabase extends Database {
  constructor(private basePath: string) {
    super();
  }

  // –†–µ–∞–ª–∏–∑–∞—Ü–∏—è —Ñ–∞–±—Ä–∏—á–Ω–æ–≥–æ –º–µ—Ç–æ–¥–∞
  select(query: string): Cursor {
    // query –∑–¥–µ—Å—å ‚Äî –∏–º—è —Ñ–∞–π–ª–∞
    const filePath = `${this.basePath}/${query}`;
    return new FileCursor(filePath); // –°–æ–∑–¥–∞–Ω–∏–µ –∫—É—Ä—Å–æ—Ä–∞ —á–µ—Ä–µ–∑ new —Å–∫—Ä—ã—Ç–æ –∑–¥–µ—Å—å
  }
}

// ========================================
// –ö–æ–Ω–∫—Ä–µ—Ç–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è: SQL Database (mock)
// ========================================
class SqlCursor extends Cursor {
  constructor(private rows: any[]) {
    super();
  }

  *[Symbol.iterator]() {
    for (const row of this.rows) {
      yield row;
    }
  }
}

class SqlDatabase extends Database {
  constructor(private connectionString: string) {
    super();
  }

  // –†–µ–∞–ª–∏–∑–∞—Ü–∏—è —Ñ–∞–±—Ä–∏—á–Ω–æ–≥–æ –º–µ—Ç–æ–¥–∞
  select(query: string): Cursor {
    // Mock: –∏–º–∏—Ç–∏—Ä—É–µ–º –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ SQL –∑–∞–ø—Ä–æ—Å–∞
    console.log(`Executing SQL: ${query}`);
    const mockRows = [
      { id: 1, name: 'Alice' },
      { id: 2, name: 'Bob' },
    ];
    return new SqlCursor(mockRows); // –°–æ–∑–¥–∞–Ω–∏–µ –∫—É—Ä—Å–æ—Ä–∞
  }
}

// ========================================
// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
// ========================================

// –†–∞–±–æ—Ç–∞ —Å —Ñ–∞–π–ª–æ–≤–æ–π –ë–î
const fileDb: Database = new FileDatabase('./data');
const fileCursor = fileDb.select('users.txt');

for (const line of fileCursor) {
  console.log('File row:', line);
}

// –†–∞–±–æ—Ç–∞ —Å SQL –ë–î
const sqlDb: Database = new SqlDatabase('host=localhost;db=test');
const sqlCursor = sqlDb.select('SELECT * FROM users');

for (const row of sqlCursor) {
  console.log('SQL row:', row);
}
</code></pre>
<p><strong>–ö–ª—é—á–µ–≤—ã–µ –º–æ–º–µ–Ω—Ç—ã</strong>:</p>
<ol>
<li>–ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π –∫–æ–¥ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–µ–π <code>Database</code> –∏ –Ω–µ –∑–Ω–∞–µ—Ç –æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö –∫–ª–∞—Å—Å–∞—Ö</li>
<li>–ú–µ—Ç–æ–¥ <code>select()</code> ‚Äî —ç—Ç–æ —Ñ–∞–±—Ä–∏—á–Ω—ã–π –º–µ—Ç–æ–¥, –∫–æ—Ç–æ—Ä—ã–π —Å–æ–∑–¥–∞—ë—Ç –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –∫—É—Ä—Å–æ—Ä—ã</li>
<li>–í–º–µ—Å—Ç–æ <code>new FileCursor()</code> –≤ –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–º –∫–æ–¥–µ –º—ã –≤—ã–∑—ã–≤–∞–µ–º <code>db.select()</code></li>
<li>–õ–µ–≥–∫–æ –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–µ —Ç–∏–ø—ã –ë–î –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–≥–æ –∫–æ–¥–∞</li>
</ol>
<h3 id="javascript-—É–ø—Ä–æ—â—ë–Ω–Ω–∞—è-–≤–µ—Ä—Å–∏—è"><a class="header" href="#javascript-—É–ø—Ä–æ—â—ë–Ω–Ω–∞—è-–≤–µ—Ä—Å–∏—è">JavaScript —É–ø—Ä–æ—â—ë–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è</a></h3>
<pre><code class="language-javascript">// –§–∞–±—Ä–∏–∫–∏ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∫—É—Ä—Å–æ—Ä–æ–≤
function createFileCursor(filePath) {
  const fs = require('fs');
  const lines = fs.readFileSync(filePath, 'utf-8').split('\n');

  return {
    [Symbol.iterator]: function* () {
      for (const line of lines) {
        if (line.trim()) yield line;
      }
    }
  };
}

function createSqlCursor(query) {
  console.log(`Executing SQL: ${query}`);
  const mockRows = [
    { id: 1, name: 'Alice' },
    { id: 2, name: 'Bob' },
  ];

  return {
    [Symbol.iterator]: function* () {
      for (const row of mockRows) {
        yield row;
      }
    }
  };
}

// –§–∞–±—Ä–∏–∫–∞ –±–∞–∑ –¥–∞–Ω–Ω—ã—Ö
function createDatabase(type, config) {
  if (type === 'file') {
    return {
      select(query) {
        return createFileCursor(`${config.basePath}/${query}`);
      }
    };
  }

  if (type === 'sql') {
    return {
      select(query) {
        return createSqlCursor(query);
      }
    };
  }

  throw new Error(`Unknown database type: ${type}`);
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
const db = createDatabase('sql', {});
const cursor = db.select('SELECT * FROM users');

for (const row of cursor) {
  console.log('Row:', row);
}
</code></pre>
<hr />
<h2 id="–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞-–ø–∞—Ç—Ç–µ—Ä–Ω–∞-factory-method"><a class="header" href="#–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞-–ø–∞—Ç—Ç–µ—Ä–Ω–∞-factory-method">–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –ø–∞—Ç—Ç–µ—Ä–Ω–∞ Factory Method</a></h2>
<h3 id="1-–°–Ω–∏–∂–µ–Ω–∏–µ-–∑–∞—Ü–µ–ø–ª–µ–Ω–∏—è-low-coupling"><a class="header" href="#1-–°–Ω–∏–∂–µ–Ω–∏–µ-–∑–∞—Ü–µ–ø–ª–µ–Ω–∏—è-low-coupling">1. –°–Ω–∏–∂–µ–Ω–∏–µ –∑–∞—Ü–µ–ø–ª–µ–Ω–∏—è (Low Coupling)</a></h3>
<pre><code class="language-javascript">// ‚ùå –ü–ª–æ—Ö–æ: –∂—ë—Å—Ç–∫–∞—è —Å–≤—è–∑–∞–Ω–Ω–æ—Å—Ç—å
class OrderProcessor {
  processOrder(orderData) {
    const order = new StandardOrder(orderData); // –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –æ—Ç –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –∫–ª–∞—Å—Å–∞
    return order.process();
  }
}

// ‚úÖ –•–æ—Ä–æ—à–æ: —Å–ª–∞–±–æ–µ –∑–∞—Ü–µ–ø–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ —Ñ–∞–±—Ä–∏–∫—É
class OrderProcessor {
  constructor(orderFactory) {
    this.orderFactory = orderFactory;
  }

  processOrder(orderData) {
    const order = this.orderFactory.create(orderData); // –ê–±—Å—Ç—Ä–∞–∫—Ü–∏—è
    return order.process();
  }
}
</code></pre>
<h3 id="2-–ì–∏–±–∫–æ—Å—Ç—å-–∏-—Ä–∞—Å—à–∏—Ä—è–µ–º–æ—Å—Ç—å"><a class="header" href="#2-–ì–∏–±–∫–æ—Å—Ç—å-–∏-—Ä–∞—Å—à–∏—Ä—è–µ–º–æ—Å—Ç—å">2. –ì–∏–±–∫–æ—Å—Ç—å –∏ —Ä–∞—Å—à–∏—Ä—è–µ–º–æ—Å—Ç—å</a></h3>
<p>–õ–µ–≥–∫–æ –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ —Ç–∏–ø—ã –ø—Ä–æ–¥—É–∫—Ç–æ–≤ –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ –∫–æ–¥–∞:</p>
<pre><code class="language-javascript">// –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ —Ç–∏–ø–∞ –ø—Ä–æ–¥—É–∫—Ç–∞
class ExpressOrder extends Order {
  process() {
    return 'Express order processed with priority!';
  }
}

// –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–π —Ñ–∞–±—Ä–∏–∫–∏
class ExpressOrderFactory {
  create(data) {
    return new ExpressOrder(data);
  }
}

// –ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π –∫–æ–¥ –Ω–µ –º–µ–Ω—è–µ—Ç—Å—è!
const processor = new OrderProcessor(new ExpressOrderFactory());
</code></pre>
<h3 id="3-–ï–¥–∏–Ω–∞—è-—Ç–æ—á–∫–∞-—Å–æ–∑–¥–∞–Ω–∏—è-–æ–±—ä–µ–∫—Ç–æ–≤"><a class="header" href="#3-–ï–¥–∏–Ω–∞—è-—Ç–æ—á–∫–∞-—Å–æ–∑–¥–∞–Ω–∏—è-–æ–±—ä–µ–∫—Ç–æ–≤">3. –ï–¥–∏–Ω–∞—è —Ç–æ—á–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è –æ–±—ä–µ–∫—Ç–æ–≤</a></h3>
<p>–í—Å—è –ª–æ–≥–∏–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è —Å–æ—Å—Ä–µ–¥–æ—Ç–æ—á–µ–Ω–∞ –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ:</p>
<pre><code class="language-javascript">class UserFactory {
  create(userData) {
    // –í–∞–ª–∏–¥–∞—Ü–∏—è
    if (!userData.email) {
      throw new Error('Email is required');
    }

    // –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö
    userData.email = userData.email.toLowerCase();

    // –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
    console.log('Creating user:', userData.email);

    // –°–æ–∑–¥–∞–Ω–∏–µ
    return new User(userData);
  }
}
</code></pre>
<h3 id="4-–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞-–∫-—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é"><a class="header" href="#4-–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞-–∫-—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é">4. –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é</a></h3>
<p>–õ–µ–≥–∫–æ –ø–æ–¥–º–µ–Ω–∏—Ç—å —Ä–µ–∞–ª—å–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã –Ω–∞ mock-–æ–±—ä–µ–∫—Ç—ã:</p>
<pre><code class="language-javascript">// –ü—Ä–æ–¥–∞–∫—à–Ω
const realDatabase = new SqlDatabase('production-connection');
const service = new DataService(realDatabase);

// –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
const mockDatabase = new MockDatabase();
const service = new DataService(mockDatabase);
</code></pre>
<h3 id="5-–ò–Ω–≤–µ—Ä—Å–∏—è-—É–ø—Ä–∞–≤–ª–µ–Ω–∏—è-ioc"><a class="header" href="#5-–ò–Ω–≤–µ—Ä—Å–∏—è-—É–ø—Ä–∞–≤–ª–µ–Ω–∏—è-ioc">5. –ò–Ω–≤–µ—Ä—Å–∏—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è (IoC)</a></h3>
<p>–°–æ–∑–¥–∞–Ω–∏–µ –æ–±—ä–µ–∫—Ç–æ–≤ –¥–µ–ª–µ–≥–∏—Ä—É–µ—Ç—Å—è –≤–Ω–µ—à–Ω–µ–º—É –∫–æ–¥—É:</p>
<pre><code class="language-javascript">function processData(items, factory) {
  // –≠—Ç–∞ —Ñ—É–Ω–∫—Ü–∏—è –Ω–µ –∑–Ω–∞–µ—Ç, –∫–∞–∫–∏–µ –∏–º–µ–Ω–Ω–æ –æ–±—ä–µ–∫—Ç—ã —Å–æ–∑–¥–∞—é—Ç—Å—è
  return items.map(item =&gt; {
    const processor = factory(item);
    return processor.process();
  });
}

// –í–Ω–µ–¥—Ä–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
const results = processData(data, createStandardProcessor);
</code></pre>
<hr />
<h2 id="–ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏-–∏-–∫–æ–≥–¥–∞-–ù–ï-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å"><a class="header" href="#–ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏-–∏-–∫–æ–≥–¥–∞-–ù–ï-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å">–ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏ –∏ –∫–æ–≥–¥–∞ –ù–ï –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å</a></h2>
<h3 id="–ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏"><a class="header" href="#–ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏">–ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏</a></h3>
<ol>
<li><strong>–£—Å–ª–æ–∂–Ω–µ–Ω–∏–µ –∫–æ–¥–∞</strong> ‚Äî –ø–æ—è–≤–ª—è–µ—Ç—Å—è –±–æ–ª—å—à–µ –∫–ª–∞—Å—Å–æ–≤ –∏ –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–π</li>
<li><strong>–ò–∑–±—ã—Ç–æ—á–Ω–æ—Å—Ç—å –¥–ª—è –ø—Ä–æ—Å—Ç—ã—Ö —Å–ª—É—á–∞–µ–≤</strong> ‚Äî –µ—Å–ª–∏ —É –≤–∞—Å —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —Ç–∏–ø –ø—Ä–æ–¥—É–∫—Ç–∞</li>
<li><strong>–ö–æ—Å–≤–µ–Ω–Ω–æ—Å—Ç—å</strong> ‚Äî –º–µ–Ω–µ–µ –æ—á–µ–≤–∏–¥–Ω–æ, –∫–∞–∫–æ–π –∏–º–µ–Ω–Ω–æ –∫–ª–∞—Å—Å –±—É–¥–µ—Ç —Å–æ–∑–¥–∞–Ω</li>
</ol>
<h3 id="–ö–æ–≥–¥–∞-–ù–ï-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å"><a class="header" href="#–ö–æ–≥–¥–∞-–ù–ï-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å">–ö–æ–≥–¥–∞ –ù–ï –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å</a></h3>
<pre><code class="language-javascript">// ‚ùå –ò–∑–±—ã—Ç–æ—á–Ω–æ –¥–ª—è –ø—Ä–æ—Å—Ç–æ–≥–æ —Å–ª—É—á–∞—è
class ButtonFactory {
  createButton() {
    return new Button(); // –í—Å–µ–≥–¥–∞ –æ–¥–Ω–∞ –∏ —Ç–∞ –∂–µ –∫–Ω–æ–ø–∫–∞
  }
}

// ‚úÖ –ü—Ä–æ—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä
const button = new Button();
</code></pre>
<h3 id="–ö–æ–≥–¥–∞-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å-5"><a class="header" href="#–ö–æ–≥–¥–∞-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å-5">–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å</a></h3>
<ol>
<li><strong>–ó–∞—Ä–∞–Ω–µ–µ –Ω–µ–∏–∑–≤–µ—Å—Ç–µ–Ω —Ç–∏–ø —Å–æ–∑–¥–∞–≤–∞–µ–º—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤</strong></li>
<li><strong>–ù—É–∂–Ω–æ –¥–µ–ª–µ–≥–∏—Ä–æ–≤–∞—Ç—å —Å–æ–∑–¥–∞–Ω–∏–µ –ø–æ–¥–∫–ª–∞—Å—Å–∞–º</strong></li>
<li><strong>–•–æ—Ç–∏—Ç–µ –ª–æ–∫–∞–ª–∏–∑–æ–≤–∞—Ç—å –ª–æ–≥–∏–∫—É —Å–æ–∑–¥–∞–Ω–∏—è</strong> –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ</li>
<li><strong>–ì–æ—Ç–æ–≤–∏—Ç–µ—Å—å –∫ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—é</strong> —Å–∏—Å—Ç–µ–º—ã –Ω–æ–≤—ã–º–∏ —Ç–∏–ø–∞–º–∏</li>
<li><strong>–ù—É–∂–Ω–∞ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è</strong> –º–µ–∂–¥—É —Ä–∞–∑–Ω—ã–º–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è–º–∏</li>
</ol>
<hr />
<h2 id="–°–≤—è–∑—å-—Å-–¥—Ä—É–≥–∏–º–∏-–ø–∞—Ç—Ç–µ—Ä–Ω–∞–º–∏-2"><a class="header" href="#–°–≤—è–∑—å-—Å-–¥—Ä—É–≥–∏–º–∏-–ø–∞—Ç—Ç–µ—Ä–Ω–∞–º–∏-2">–°–≤—è–∑—å —Å –¥—Ä—É–≥–∏–º–∏ –ø–∞—Ç—Ç–µ—Ä–Ω–∞–º–∏</a></h2>
<h3 id="factory-method--strategy"><a class="header" href="#factory-method--strategy">Factory Method + Strategy</a></h3>
<p>Factory Method —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å–æ–≤–º–µ—Å—Ç–Ω–æ —Å –ø–∞—Ç—Ç–µ—Ä–Ω–æ–º Strategy:</p>
<pre><code class="language-javascript">// –°—Ç—Ä–∞—Ç–µ–≥–∏–∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏
class StandardProcessingStrategy {
  process(data) {
    return data.toUpperCase();
  }
}

class FastProcessingStrategy {
  process(data) {
    return data.substring(0, 10);
  }
}

// –§–∞–±—Ä–∏–∫–∞ —Å—Ç—Ä–∞—Ç–µ–≥–∏–π
class StrategyFactory {
  create(type) {
    switch (type) {
      case 'standard':
        return new StandardProcessingStrategy();
      case 'fast':
        return new FastProcessingStrategy();
      default:
        throw new Error(`Unknown strategy: ${type}`);
    }
  }
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
class DataProcessor {
  constructor(strategyFactory) {
    this.strategyFactory = strategyFactory;
  }

  process(data, strategyType) {
    const strategy = this.strategyFactory.create(strategyType);
    return strategy.process(data);
  }
}

const processor = new DataProcessor(new StrategyFactory());
console.log(processor.process('hello world', 'standard')); // HELLO WORLD
console.log(processor.process('hello world', 'fast'));     // hello worl
</code></pre>
<h3 id="factory-method-vs-abstract-factory"><a class="header" href="#factory-method-vs-abstract-factory">Factory Method vs Abstract Factory</a></h3>
<div class="table-wrapper"><table><thead><tr><th>–ê—Å–ø–µ–∫—Ç</th><th>Factory Method</th><th>Abstract Factory</th></tr></thead><tbody>
<tr><td>–ú–µ—Ç–æ–¥–æ–≤</td><td>–û–¥–∏–Ω –º–µ—Ç–æ–¥</td><td>–ù–µ—Å–∫–æ–ª—å–∫–æ –º–µ—Ç–æ–¥–æ–≤</td></tr>
<tr><td>–ü—Ä–æ–¥—É–∫—Ç–æ–≤</td><td>–û–¥–∏–Ω —Ç–∏–ø –ø—Ä–æ–¥—É–∫—Ç–∞</td><td>–°–µ–º–µ–π—Å—Ç–≤–æ —Å–≤—è–∑–∞–Ω–Ω—ã—Ö –ø—Ä–æ–¥—É–∫—Ç–æ–≤</td></tr>
<tr><td>–ù–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ</td><td>–ò—Å–ø–æ–ª—å–∑—É–µ—Ç –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ</td><td>–ò—Å–ø–æ–ª—å–∑—É–µ—Ç –∫–æ–º–ø–æ–∑–∏—Ü–∏—é</td></tr>
<tr><td>–ü—Ä–∏–º–µ—Ä</td><td><code>createButton()</code></td><td><code>createButton()</code>, <code>createInput()</code>, <code>createCheckbox()</code></td></tr>
</tbody></table>
</div>
<h3 id="factory-method--template-method"><a class="header" href="#factory-method--template-method">Factory Method + Template Method</a></h3>
<pre><code class="language-javascript">abstract class DataImporter {
  // Template Method
  import(filePath) {
    const data = this.readFile(filePath);
    const parsed = this.parse(data);
    const validated = this.validate(parsed);
    return this.save(validated);
  }

  // Factory Method
  abstract createParser(): Parser;

  parse(data) {
    const parser = this.createParser(); // –§–∞–±—Ä–∏—á–Ω—ã–π –º–µ—Ç–æ–¥
    return parser.parse(data);
  }

  abstract readFile(path): string;
  abstract validate(data): any;
  abstract save(data): void;
}
</code></pre>
<hr />
<h2 id="–†–µ–∞–ª—å–Ω—ã–µ-–ø—Ä–∏–º–µ—Ä—ã-–∏–∑-–ø—Ä–∞–∫—Ç–∏–∫–∏"><a class="header" href="#–†–µ–∞–ª—å–Ω—ã–µ-–ø—Ä–∏–º–µ—Ä—ã-–∏–∑-–ø—Ä–∞–∫—Ç–∏–∫–∏">–†–µ–∞–ª—å–Ω—ã–µ –ø—Ä–∏–º–µ—Ä—ã –∏–∑ –ø—Ä–∞–∫—Ç–∏–∫–∏</a></h2>
<h3 id="–ü—Ä–∏–º–µ—Ä-1-–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ"><a class="header" href="#–ü—Ä–∏–º–µ—Ä-1-–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ">–ü—Ä–∏–º–µ—Ä 1: –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ</a></h3>
<pre><code class="language-javascript">// –ê–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–π –ª–æ–≥–≥–µ—Ä
class Logger {
  log(message) {
    throw new Error('Method must be implemented');
  }
}

// –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –ª–æ–≥–≥–µ—Ä—ã
class ConsoleLogger extends Logger {
  log(message) {
    console.log(`[CONSOLE] ${new Date().toISOString()} - ${message}`);
  }
}

class FileLogger extends Logger {
  constructor(filePath) {
    super();
    this.filePath = filePath;
  }

  log(message) {
    const fs = require('fs');
    const logEntry = `${new Date().toISOString()} - ${message}\n`;
    fs.appendFileSync(this.filePath, logEntry);
  }
}

class CloudLogger extends Logger {
  log(message) {
    // –û—Ç–ø—Ä–∞–≤–∫–∞ –≤ –æ–±–ª–∞—á–Ω—ã–π —Å–µ—Ä–≤–∏—Å
    console.log(`[CLOUD] Sending to cloud: ${message}`);
  }
}

// –§–∞–±—Ä–∏–∫–∞ –ª–æ–≥–≥–µ—Ä–æ–≤
class LoggerFactory {
  static create(type, options = {}) {
    switch (type) {
      case 'console':
        return new ConsoleLogger();
      case 'file':
        return new FileLogger(options.filePath || './app.log');
      case 'cloud':
        return new CloudLogger();
      default:
        throw new Error(`Unknown logger type: ${type}`);
    }
  }
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
const logger = LoggerFactory.create('file', { filePath: './logs/app.log' });
logger.log('Application started');

// –õ–µ–≥–∫–æ –ø–µ—Ä–µ–∫–ª—é—á–∏—Ç—å—Å—è –Ω–∞ –¥—Ä—É–≥–æ–π –ª–æ–≥–≥–µ—Ä
const cloudLogger = LoggerFactory.create('cloud');
cloudLogger.log('Critical error occurred');
</code></pre>
<h3 id="–ü—Ä–∏–º–µ—Ä-2-http-–∫–ª–∏–µ–Ω—Ç—ã"><a class="header" href="#–ü—Ä–∏–º–µ—Ä-2-http-–∫–ª–∏–µ–Ω—Ç—ã">–ü—Ä–∏–º–µ—Ä 2: HTTP-–∫–ª–∏–µ–Ω—Ç—ã</a></h3>
<pre><code class="language-javascript">// –ê–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–π HTTP-–∫–ª–∏–µ–Ω—Ç
class HttpClient {
  get(url) {
    throw new Error('Method must be implemented');
  }

  post(url, data) {
    throw new Error('Method must be implemented');
  }
}

// –†–µ–∞–ª–∏–∑–∞—Ü–∏—è —Å fetch
class FetchHttpClient extends HttpClient {
  async get(url) {
    const response = await fetch(url);
    return response.json();
  }

  async post(url, data) {
    const response = await fetch(url, {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify(data),
    });
    return response.json();
  }
}

// –†–µ–∞–ª–∏–∑–∞—Ü–∏—è —Å axios
class AxiosHttpClient extends HttpClient {
  constructor() {
    super();
    this.axios = require('axios');
  }

  async get(url) {
    const response = await this.axios.get(url);
    return response.data;
  }

  async post(url, data) {
    const response = await this.axios.post(url, data);
    return response.data;
  }
}

// –§–∞–±—Ä–∏–∫–∞ HTTP-–∫–ª–∏–µ–Ω—Ç–æ–≤
class HttpClientFactory {
  static create(type = 'fetch') {
    if (type === 'fetch') {
      return new FetchHttpClient();
    }
    if (type === 'axios') {
      return new AxiosHttpClient();
    }
    throw new Error(`Unknown HTTP client type: ${type}`);
  }
}

// API —Å–µ—Ä–≤–∏—Å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ñ–∞–±—Ä–∏–∫—É
class ApiService {
  constructor(httpClientFactory) {
    this.httpClient = httpClientFactory.create('fetch');
  }

  async getUsers() {
    return this.httpClient.get('/api/users');
  }

  async createUser(userData) {
    return this.httpClient.post('/api/users', userData);
  }
}
</code></pre>
<h3 id="–ü—Ä–∏–º–µ—Ä-3-–ü–∞—Ä—Å–µ—Ä—ã-–¥–∞–Ω–Ω—ã—Ö"><a class="header" href="#–ü—Ä–∏–º–µ—Ä-3-–ü–∞—Ä—Å–µ—Ä—ã-–¥–∞–Ω–Ω—ã—Ö">–ü—Ä–∏–º–µ—Ä 3: –ü–∞—Ä—Å–µ—Ä—ã –¥–∞–Ω–Ω—ã—Ö</a></h3>
<pre><code class="language-javascript">// –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –ø–∞—Ä—Å–µ—Ä–∞
class DataParser {
  parse(data) {
    throw new Error('Method must be implemented');
  }
}

// JSON –ø–∞—Ä—Å–µ—Ä
class JsonParser extends DataParser {
  parse(data) {
    try {
      return JSON.parse(data);
    } catch (error) {
      throw new Error(`JSON parsing failed: ${error.message}`);
    }
  }
}

// CSV –ø–∞—Ä—Å–µ—Ä
class CsvParser extends DataParser {
  parse(data) {
    const lines = data.split('\n');
    const headers = lines[0].split(',');

    return lines.slice(1).map(line =&gt; {
      const values = line.split(',');
      return headers.reduce((obj, header, index) =&gt; {
        obj[header.trim()] = values[index]?.trim() || '';
        return obj;
      }, {});
    });
  }
}

// XML –ø–∞—Ä—Å–µ—Ä (—É–ø—Ä–æ—â—ë–Ω–Ω—ã–π)
class XmlParser extends DataParser {
  parse(data) {
    // –£–ø—Ä–æ—â—ë–Ω–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è
    return { xml: 'parsed', data };
  }
}

// –§–∞–±—Ä–∏–∫–∞ –ø–∞—Ä—Å–µ—Ä–æ–≤ –ø–æ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—é —Ñ–∞–π–ª–∞
class ParserFactory {
  static createByExtension(filePath) {
    const extension = filePath.split('.').pop().toLowerCase();

    switch (extension) {
      case 'json':
        return new JsonParser();
      case 'csv':
        return new CsvParser();
      case 'xml':
        return new XmlParser();
      default:
        throw new Error(`Unsupported file extension: ${extension}`);
    }
  }
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
function loadData(filePath) {
  const fs = require('fs');
  const content = fs.readFileSync(filePath, 'utf-8');

  const parser = ParserFactory.createByExtension(filePath);
  return parser.parse(content);
}

const jsonData = loadData('./data.json');
const csvData = loadData('./data.csv');
</code></pre>
<hr />
<h2 id="–†–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—ë–Ω–Ω—ã–µ-–æ—à–∏–±–∫–∏"><a class="header" href="#–†–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—ë–Ω–Ω—ã–µ-–æ—à–∏–±–∫–∏">–†–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—ë–Ω–Ω—ã–µ –æ—à–∏–±–∫–∏</a></h2>
<h3 id="–û—à–∏–±–∫–∞-1-–ó–∞–±—ã–≤–∞—é—Ç-—Å–∫—Ä—ã–≤–∞—Ç—å-new"><a class="header" href="#–û—à–∏–±–∫–∞-1-–ó–∞–±—ã–≤–∞—é—Ç-—Å–∫—Ä—ã–≤–∞—Ç—å-new">–û—à–∏–±–∫–∞ 1: –ó–∞–±—ã–≤–∞—é—Ç —Å–∫—Ä—ã–≤–∞—Ç—å new</a></h3>
<pre><code class="language-javascript">// ‚ùå –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ: –∫–ª–∏–µ–Ω—Ç –≤—Å—ë –µ—â—ë –≤–∏–¥–∏—Ç new
class ProductFactory {
  factoryMethod() {
    return Product; // –í–æ–∑–≤—Ä–∞—â–∞–µ–º –∫–ª–∞—Å—Å, –∞ –Ω–µ —ç–∫–∑–µ–º–ø–ª—è—Ä!
  }
}

const Factory = new ProductFactory();
const product = new (Factory.factoryMethod())(); // –ö–ª–∏–µ–Ω—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç new

// ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ: new —Å–∫—Ä—ã—Ç –≤–Ω—É—Ç—Ä–∏ —Ñ–∞–±—Ä–∏–∫–∏
class ProductFactory {
  factoryMethod() {
    return new Product(); // –í–æ–∑–≤—Ä–∞—â–∞–µ–º –≥–æ—Ç–æ–≤—ã–π —ç–∫–∑–µ–º–ø–ª—è—Ä
  }
}

const factory = new ProductFactory();
const product = factory.factoryMethod(); // –ö–ª–∏–µ–Ω—Ç –Ω–µ –∑–Ω–∞–µ—Ç –ø—Ä–æ new
</code></pre>
<h3 id="–û—à–∏–±–∫–∞-2-–ü—É—Ç–∞—é—Ç-factory-method-–∏-abstract-factory"><a class="header" href="#–û—à–∏–±–∫–∞-2-–ü—É—Ç–∞—é—Ç-factory-method-–∏-abstract-factory">–û—à–∏–±–∫–∞ 2: –ü—É—Ç–∞—é—Ç Factory Method –∏ Abstract Factory</a></h3>
<pre><code class="language-javascript">// ‚ùå –≠—Ç–æ Abstract Factory, –∞ –Ω–µ Factory Method!
class GUIFactory {
  createButton() {
    return new Button();
  }

  createInput() {
    return new Input();
  }

  createCheckbox() {
    return new Checkbox();
  }
}

// ‚úÖ –≠—Ç–æ Factory Method ‚Äî –æ–¥–∏–Ω –º–µ—Ç–æ–¥ –¥–ª—è –æ–¥–Ω–æ–≥–æ —Ç–∏–ø–∞ –ø—Ä–æ–¥—É–∫—Ç–∞
class ButtonFactory {
  createButton(type) {
    if (type === 'primary') return new PrimaryButton();
    if (type === 'secondary') return new SecondaryButton();
    throw new Error(`Unknown button type: ${type}`);
  }
}
</code></pre>
<h3 id="–û—à–∏–±–∫–∞-3-–ß—Ä–µ–∑–º–µ—Ä–Ω–æ–µ-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ"><a class="header" href="#–û—à–∏–±–∫–∞-3-–ß—Ä–µ–∑–º–µ—Ä–Ω–æ–µ-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ">–û—à–∏–±–∫–∞ 3: –ß—Ä–µ–∑–º–µ—Ä–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ</a></h3>
<pre><code class="language-javascript">// ‚ùå –ò–∑–±—ã—Ç–æ—á–Ω–æ –¥–ª—è –ø—Ä–æ—Å—Ç–æ–≥–æ —Å–ª—É—á–∞—è
class StringFactory {
  createString(value) {
    return new String(value);
  }
}

// ‚úÖ –ü—Ä–æ—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ª–∏—Ç–µ—Ä–∞–ª—ã
const str = 'Hello, world!';
</code></pre>
<hr />
<h2 id="–ö–æ–Ω—Ç—Ä–æ–ª—å–Ω—ã–µ-–≤–æ–ø—Ä–æ—Å—ã-1"><a class="header" href="#–ö–æ–Ω—Ç—Ä–æ–ª—å–Ω—ã–µ-–≤–æ–ø—Ä–æ—Å—ã-1">–ö–æ–Ω—Ç—Ä–æ–ª—å–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã</a></h2>
<ol>
<li>
<p><strong>–í —á—ë–º –≥–ª–∞–≤–Ω–æ–µ –æ—Ç–ª–∏—á–∏–µ Factory Method –æ—Ç Abstract Factory?</strong></p>
<ul>
<li>Factory Method ‚Äî –æ–¥–∏–Ω –º–µ—Ç–æ–¥ –¥–ª—è –æ–¥–Ω–æ–≥–æ —Ç–∏–ø–∞ –ø—Ä–æ–¥—É–∫—Ç–∞</li>
<li>Abstract Factory ‚Äî –º–Ω–æ–∂–µ—Å—Ç–≤–æ –º–µ—Ç–æ–¥–æ–≤ –¥–ª—è —Å–µ–º–µ–π—Å—Ç–≤–∞ –ø—Ä–æ–¥—É–∫—Ç–æ–≤</li>
</ul>
</li>
<li>
<p><strong>–ü–æ—á–µ–º—É –≤ JavaScript Factory Method –º–æ–∂–µ—Ç –±—ã—Ç—å –ø—Ä–æ—Å—Ç–æ–π —Ñ—É–Ω–∫—Ü–∏–µ–π?</strong></p>
<ul>
<li>JavaScript –Ω–µ —Ç—Ä–µ–±—É–µ—Ç —Å—Ç—Ä–æ–≥–æ–π –∏–µ—Ä–∞—Ä—Ö–∏–∏ –∫–ª–∞—Å—Å–æ–≤</li>
<li>–§—É–Ω–∫—Ü–∏–∏ ‚Äî —ç—Ç–æ –æ–±—ä–µ–∫—Ç—ã –ø–µ—Ä–≤–æ–≥–æ –∫–ª–∞—Å—Å–∞</li>
<li>–ú–æ–∂–Ω–æ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏–∏ –∫–∞–∫ –∞—Ä–≥—É–º–µ–Ω—Ç—ã</li>
</ul>
</li>
<li>
<p><strong>–ö–æ–≥–¥–∞ —Å—Ç–æ–∏—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Factory Method?</strong></p>
<ul>
<li>–¢–∏–ø —Å–æ–∑–¥–∞–≤–∞–µ–º–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –≤–æ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è</li>
<li>–ù—É–∂–Ω–æ –¥–µ–ª–µ–≥–∏—Ä–æ–≤–∞—Ç—å —Å–æ–∑–¥–∞–Ω–∏–µ –ø–æ–¥–∫–ª–∞—Å—Å–∞–º</li>
<li>–•–æ—Ç–∏—Ç–µ –∏–∑–æ–ª–∏—Ä–æ–≤–∞—Ç—å –ª–æ–≥–∏–∫—É —Å–æ–∑–¥–∞–Ω–∏—è</li>
</ul>
</li>
<li>
<p><strong>–ö–∞–∫ Factory Method —Å–≤—è–∑–∞–Ω —Å –ø–∞—Ç—Ç–µ—Ä–Ω–æ–º Strategy?</strong></p>
<ul>
<li>Factory Method —á–∞—Å—Ç–æ —Å–æ–∑–¥–∞—ë—Ç —ç–∫–∑–µ–º–ø–ª—è—Ä—ã —Å—Ç—Ä–∞—Ç–µ–≥–∏–π</li>
<li>–ü–æ–∑–≤–æ–ª—è–µ—Ç –ø–æ–¥–º–µ–Ω—è—Ç—å —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ –≤–æ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è</li>
</ul>
</li>
</ol>
<hr />
<h2 id="–†–µ–∑—é–º–µ-6"><a class="header" href="#–†–µ–∑—é–º–µ-6">–†–µ–∑—é–º–µ</a></h2>
<h3 id="–ö–ª—é—á–µ–≤—ã–µ-–∫–æ–Ω—Ü–µ–ø—Ü–∏–∏-1"><a class="header" href="#–ö–ª—é—á–µ–≤—ã–µ-–∫–æ–Ω—Ü–µ–ø—Ü–∏–∏-1">–ö–ª—é—á–µ–≤—ã–µ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏</a></h3>
<ol>
<li><strong>–ó–∞–º–µ–Ω–∞ –ø—Ä—è–º–æ–≥–æ –∏–Ω—Å—Ç–∞–Ω—Ü–∏—Ä–æ–≤–∞–Ω–∏—è</strong> –º–µ—Ç–æ–¥–æ–º —Å–æ–∑–¥–∞–Ω–∏—è</li>
<li><strong>–°–Ω–∏–∂–µ–Ω–∏–µ –∑–∞—Ü–µ–ø–ª–µ–Ω–∏—è</strong> –º–µ–∂–¥—É –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏</li>
<li><strong>–î–µ–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–∑–¥–∞–Ω–∏—è</strong> –ø–æ–¥–∫–ª–∞—Å—Å–∞–º –∏–ª–∏ –≤–Ω–µ—à–Ω–µ–º—É –∫–æ–¥—É</li>
<li><strong>–ì–∏–±–∫–æ—Å—Ç—å</strong> –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –Ω–æ–≤—ã—Ö —Ç–∏–ø–æ–≤ –ø—Ä–æ–¥—É–∫—Ç–æ–≤</li>
</ol>
<h3 id="–ö–æ–≥–¥–∞-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å-6"><a class="header" href="#–ö–æ–≥–¥–∞-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å-6">–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å</a></h3>
<ul>
<li>–ó–∞—Ä–∞–Ω–µ–µ –Ω–µ–∏–∑–≤–µ—Å—Ç–µ–Ω —Ç–æ—á–Ω—ã–π —Ç–∏–ø —Å–æ–∑–¥–∞–≤–∞–µ–º—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤</li>
<li>–ù—É–∂–Ω–∞ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è —Å–∏—Å—Ç–µ–º—ã –Ω–æ–≤—ã–º–∏ —Ç–∏–ø–∞–º–∏</li>
<li>–•–æ—Ç–∏—Ç–µ —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞—Ç—å –ª–æ–≥–∏–∫—É —Å–æ–∑–¥–∞–Ω–∏—è –æ–±—ä–µ–∫—Ç–æ–≤</li>
<li>–¢—Ä–µ–±—É–µ—Ç—Å—è –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø–æ–¥–º–µ–Ω—ã —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ (—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ, –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è)</li>
</ul>
<h3 id="javascript-–æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏"><a class="header" href="#javascript-–æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏">JavaScript –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏</a></h3>
<ul>
<li>–§–∞–±—Ä–∏–∫–∞ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø—Ä–æ—Å—Ç–æ–π —Ñ—É–Ω–∫—Ü–∏–µ–π</li>
<li>–ú–æ–∂–Ω–æ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å —Ñ–∞–±—Ä–∏–∫–∏ –∫–∞–∫ –∞—Ä–≥—É–º–µ–Ω—Ç—ã (–≤—ã—Å—à–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏)</li>
<li>–ö–æ–ª–ª–µ–∫—Ü–∏–∏ —Ñ–∞–±—Ä–∏–∫ –≤ –æ–±—ä–µ–∫—Ç–∞—Ö ‚Äî —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—ë–Ω–Ω—ã–π –ø–∞—Ç—Ç–µ—Ä–Ω</li>
<li>–ù–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ –∫–ª–∞—Å—Å–æ–≤</li>
</ul>
<h3 id="typescript-–ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞"><a class="header" href="#typescript-–ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞">TypeScript –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞</a></h3>
<ul>
<li>–ù–∞—Å—Ç–æ—è—â–∏–µ –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–µ –∫–ª–∞—Å—Å—ã –∏ –º–µ—Ç–æ–¥—ã</li>
<li>–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–æ–≤ –Ω–∞ —ç—Ç–∞–ø–µ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏</li>
<li>–õ—É—á—à–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ IDE</li>
<li>–ù–µ –Ω—É–∂–Ω—ã –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å <code>new.target</code></li>
</ul>
<hr />
<h2 id="–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ-–º–∞—Ç–µ—Ä–∏–∞–ª—ã-6"><a class="header" href="#–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ-–º–∞—Ç–µ—Ä–∏–∞–ª—ã-6">–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã</a></h2>
<h3 id="–°–≤—è–∑–∞–Ω–Ω—ã–µ-–ø–∞—Ç—Ç–µ—Ä–Ω—ã-2"><a class="header" href="#–°–≤—è–∑–∞–Ω–Ω—ã–µ-–ø–∞—Ç—Ç–µ—Ä–Ω—ã-2">–°–≤—è–∑–∞–Ω–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã</a></h3>
<ul>
<li><strong>Abstract Factory</strong> ‚Äî —Å–æ–∑–¥–∞–Ω–∏–µ —Å–µ–º–µ–π—Å—Ç–≤ —Å–≤—è–∑–∞–Ω–Ω—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤</li>
<li><strong>Strategy</strong> ‚Äî –≤—ã–±–æ—Ä –∞–ª–≥–æ—Ä–∏—Ç–º–∞ –≤–æ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è</li>
<li><strong>Template Method</strong> ‚Äî –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Å–∫–µ–ª–µ—Ç–∞ –∞–ª–≥–æ—Ä–∏—Ç–º–∞</li>
<li><strong>Prototype</strong> ‚Äî —Å–æ–∑–¥–∞–Ω–∏–µ –æ–±—ä–µ–∫—Ç–æ–≤ —á–µ—Ä–µ–∑ –∫–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ</li>
</ul>
<h3 id="–ü—Ä–∏–Ω—Ü–∏–ø—ã-solid-2"><a class="header" href="#–ü—Ä–∏–Ω—Ü–∏–ø—ã-solid-2">–ü—Ä–∏–Ω—Ü–∏–ø—ã SOLID</a></h3>
<p>Factory Method –ø–æ–º–æ–≥–∞–µ—Ç —Å–æ–±–ª—é–¥–∞—Ç—å:</p>
<ul>
<li><strong>Single Responsibility</strong> ‚Äî –æ–¥–Ω–∞ –ø—Ä–∏—á–∏–Ω–∞ –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è</li>
<li><strong>Open/Closed</strong> ‚Äî –æ—Ç–∫—Ä—ã—Ç –¥–ª—è —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è, –∑–∞–∫—Ä—ã—Ç –¥–ª—è –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏–∏</li>
<li><strong>Dependency Inversion</strong> ‚Äî –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –æ—Ç –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–π, –∞ –Ω–µ –æ—Ç –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö –∫–ª–∞—Å—Å–æ–≤</li>
</ul>
<h3 id="–ü–∞—Ç—Ç–µ—Ä–Ω—ã-grasp"><a class="header" href="#–ü–∞—Ç—Ç–µ—Ä–Ω—ã-grasp">–ü–∞—Ç—Ç–µ—Ä–Ω—ã GRASP</a></h3>
<ul>
<li><strong>Creator</strong> ‚Äî –∫—Ç–æ –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ —Å–æ–∑–¥–∞–Ω–∏–µ –æ–±—ä–µ–∫—Ç–∞?</li>
<li><strong>Low Coupling</strong> ‚Äî –º–∏–Ω–∏–º–∏–∑–∞—Ü–∏—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π</li>
<li><strong>High Cohesion</strong> ‚Äî –ª–æ–≥–∏–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ</li>
<li><strong>Polymorphism</strong> ‚Äî –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º–∞ –¥–ª—è –≤–∞—Ä–∏–∞—Ç–∏–≤–Ω–æ—Å—Ç–∏</li>
</ul>
<hr />
<h2 id="–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ-—É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è"><a class="header" href="#–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ-—É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è">–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è</a></h2>
<h3 id="–£–ø—Ä–∞–∂–Ω–µ–Ω–∏–µ-1-–°–∏—Å—Ç–µ–º–∞-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π"><a class="header" href="#–£–ø—Ä–∞–∂–Ω–µ–Ω–∏–µ-1-–°–∏—Å—Ç–µ–º–∞-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π">–£–ø—Ä–∞–∂–Ω–µ–Ω–∏–µ 1: –°–∏—Å—Ç–µ–º–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π</a></h3>
<p>–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–±—Ä–∏–∫—É –¥–ª—è —Å–∏—Å—Ç–µ–º—ã —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π, –∫–æ—Ç–æ—Ä–∞—è –º–æ–∂–µ—Ç –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è —á–µ—Ä–µ–∑:</p>
<ul>
<li>Email</li>
<li>SMS</li>
<li>Push-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è</li>
<li>Slack</li>
</ul>
<h3 id="–£–ø—Ä–∞–∂–Ω–µ–Ω–∏–µ-2-–û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏-—Ñ–∞–π–ª–æ–≤"><a class="header" href="#–£–ø—Ä–∞–∂–Ω–µ–Ω–∏–µ-2-–û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏-—Ñ–∞–π–ª–æ–≤">–£–ø—Ä–∞–∂–Ω–µ–Ω–∏–µ 2: –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Ñ–∞–π–ª–æ–≤</a></h3>
<p>–†–µ–∞–ª–∏–∑—É–π—Ç–µ —Ñ–∞–±—Ä–∏–∫—É –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ —Ñ–∞–π–ª–æ–≤ –¥–ª—è —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Ñ–æ—Ä–º–∞—Ç–æ–≤:</p>
<ul>
<li>–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è (PNG, JPEG, GIF)</li>
<li>–î–æ–∫—É–º–µ–Ω—Ç—ã (PDF, DOCX, TXT)</li>
<li>–í–∏–¥–µ–æ (MP4, AVI, MKV)</li>
</ul>
<h3 id="–£–ø—Ä–∞–∂–Ω–µ–Ω–∏–µ-3-–í–∞–ª–∏–¥–∞—Ç–æ—Ä—ã-—Ñ–æ—Ä–º"><a class="header" href="#–£–ø—Ä–∞–∂–Ω–µ–Ω–∏–µ-3-–í–∞–ª–∏–¥–∞—Ç–æ—Ä—ã-—Ñ–æ—Ä–º">–£–ø—Ä–∞–∂–Ω–µ–Ω–∏–µ 3: –í–∞–ª–∏–¥–∞—Ç–æ—Ä—ã —Ñ–æ—Ä–º</a></h3>
<p>–°–æ–∑–¥–∞–π—Ç–µ —Å–∏—Å—Ç–µ–º—É –≤–∞–ª–∏–¥–∞—Ç–æ—Ä–æ–≤ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º Factory Method:</p>
<ul>
<li>Email –≤–∞–ª–∏–¥–∞—Ç–æ—Ä</li>
<li>–¢–µ–ª–µ—Ñ–æ–Ω –≤–∞–ª–∏–¥–∞—Ç–æ—Ä</li>
<li>–î–∞—Ç–∞ –≤–∞–ª–∏–¥–∞—Ç–æ—Ä</li>
<li>–ö–∞—Å—Ç–æ–º–Ω—ã–π –≤–∞–ª–∏–¥–∞—Ç–æ—Ä</li>
</ul>
<hr />
<p><strong>–£—Å–ø–µ—Ö–æ–≤ –≤ –∏–∑—É—á–µ–Ω–∏–∏ –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤ –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è!</strong></p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="–ü–∞—Ç—Ç–µ—Ä–Ω-–°—Ç—Ä–∞—Ç–µ–≥–∏—è-strategy-pattern--gof-–¥–ª—è-javascript-–∏-typescript"><a class="header" href="#–ü–∞—Ç—Ç–µ—Ä–Ω-–°—Ç—Ä–∞—Ç–µ–≥–∏—è-strategy-pattern--gof-–¥–ª—è-javascript-–∏-typescript">–ü–∞—Ç—Ç–µ—Ä–Ω ¬´–°—Ç—Ä–∞—Ç–µ–≥–∏—è¬ª (Strategy Pattern) ‚Äî GoF –¥–ª—è JavaScript –∏ TypeScript</a></h1>
<h2 id="–û–±–∑–æ—Ä-15"><a class="header" href="#–û–±–∑–æ—Ä-15">–û–±–∑–æ—Ä</a></h2>
<p>–ü–∞—Ç—Ç–µ—Ä–Ω <strong>–°—Ç—Ä–∞—Ç–µ–≥–∏—è</strong> (Strategy) ‚Äî —ç—Ç–æ –ø–æ–≤–µ–¥–µ–Ω—á–µ—Å–∫–∏–π –ø–∞—Ç—Ç–µ—Ä–Ω –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∑–≤–æ–ª—è–µ—Ç –≤—ã–±–∏—Ä–∞—Ç—å –æ–¥–∏–Ω –∏–∑ –∞–ª–≥–æ—Ä–∏—Ç–º–æ–≤ –∏–ª–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–π –≤–æ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ø—Ä–æ–≥—Ä–∞–º–º—ã (runtime). –í JavaScript –∏ TypeScript —ç—Ç–æ—Ç –ø–∞—Ç—Ç–µ—Ä–Ω —Ä–µ–∞–ª–∏–∑—É–µ—Ç—Å—è –±–æ–ª–µ–µ —ç–ª–µ–≥–∞–Ω—Ç–Ω–æ –∏ –≥–∏–±–∫–æ, —á–µ–º –≤ —Ç—Ä–∞–¥–∏—Ü–∏–æ–Ω–Ω—ã—Ö –æ–±—ä–µ–∫—Ç–Ω–æ-–æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —è–∑—ã–∫–∞—Ö, –±–ª–∞–≥–æ–¥–∞—Ä—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é –∫–æ–ª–ª–µ–∫—Ü–∏–π –∏ —Ñ—É–Ω–∫—Ü–∏–π –ø–µ—Ä–≤–æ–≥–æ –∫–ª–∞—Å—Å–∞.</p>
<hr />
<h2 id="–û—Å–Ω–æ–≤–Ω—ã–µ-–∫–æ–Ω—Ü–µ–ø—Ü–∏–∏-5"><a class="header" href="#–û—Å–Ω–æ–≤–Ω—ã–µ-–∫–æ–Ω—Ü–µ–ø—Ü–∏–∏-5">–û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏</a></h2>
<h3 id="–ß—Ç–æ-–ø–æ–∑–≤–æ–ª—è–µ—Ç-–¥–µ–ª–∞—Ç—å-–ø–∞—Ç—Ç–µ—Ä–Ω-–°—Ç—Ä–∞—Ç–µ–≥–∏—è"><a class="header" href="#–ß—Ç–æ-–ø–æ–∑–≤–æ–ª—è–µ—Ç-–¥–µ–ª–∞—Ç—å-–ø–∞—Ç—Ç–µ—Ä–Ω-–°—Ç—Ä–∞—Ç–µ–≥–∏—è">–ß—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –¥–µ–ª–∞—Ç—å –ø–∞—Ç—Ç–µ—Ä–Ω –°—Ç—Ä–∞—Ç–µ–≥–∏—è?</a></h3>
<p>–ü–∞—Ç—Ç–µ—Ä–Ω –°—Ç—Ä–∞—Ç–µ–≥–∏—è –ø–æ–∑–≤–æ–ª—è–µ—Ç:</p>
<ul>
<li><strong>–í—ã–±–∏—Ä–∞—Ç—å –∞–ª–≥–æ—Ä–∏—Ç–º—ã</strong> ‚Äî —Ä–∞–∑–ª–∏—á–Ω—ã–µ —Å–ø–æ—Å–æ–±—ã —Ä–µ—à–µ–Ω–∏—è –æ–¥–Ω–æ–π –∑–∞–¥–∞—á–∏</li>
<li><strong>–í—ã–±–∏—Ä–∞—Ç—å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏</strong> ‚Äî —Ä–∞–∑–Ω—ã–µ –∫–ª–∞—Å—Å—ã, —Ñ–∞–±—Ä–∏–∫–∏ –∏–ª–∏ —Ñ—É–Ω–∫—Ü–∏–∏</li>
<li><strong>–ü–µ—Ä–µ–∫–ª—é—á–∞—Ç—å—Å—è –º–µ–∂–¥—É –ø–æ–≤–µ–¥–µ–Ω–∏—è–º–∏</strong> –≤ runtime</li>
<li><strong>–°–æ–∑–¥–∞–≤–∞—Ç—å —Å–µ–º–µ–π—Å—Ç–≤–∞ –∞–ª–≥–æ—Ä–∏—Ç–º–æ–≤</strong> —Å –æ–¥–∏–Ω–∞–∫–æ–≤—ã–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º</li>
</ul>
<h3 id="–¢–∏–ø–∏—á–Ω—ã–µ-–ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è"><a class="header" href="#–¢–∏–ø–∏—á–Ω—ã–µ-–ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è">–¢–∏–ø–∏—á–Ω—ã–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è</a></h3>
<p><strong>–ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:</strong></p>
<ul>
<li>–ê–ª–≥–æ—Ä–∏—Ç–º—ã —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è (AES, RSA, DES)</li>
<li>–¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω—ã–µ –ø—Ä–æ—Ç–æ–∫–æ–ª—ã (HTTP, WebSocket, TCP)</li>
<li>–°–ø–æ—Å–æ–±—ã —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏–∏/–¥–µ—Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏–∏ (JSON, XML, MessagePack)</li>
<li>–†–µ–Ω–¥–µ—Ä–∏–Ω–≥ –≤ —Ä–∞–∑–Ω—ã—Ö —Ñ–æ—Ä–º–∞—Ç–∞—Ö (HTML, Markdown, Console, SVG, PNG)</li>
<li>–°—Ç—Ä–∞—Ç–µ–≥–∏–∏ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏ –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö</li>
</ul>
<hr />
<h2 id="–†–µ–∞–ª–∏–∑–∞—Ü–∏—è-–≤-javascript-vs-–¥—Ä—É–≥–∏–µ-—è–∑—ã–∫–∏"><a class="header" href="#–†–µ–∞–ª–∏–∑–∞—Ü–∏—è-–≤-javascript-vs-–¥—Ä—É–≥–∏–µ-—è–∑—ã–∫–∏">–†–µ–∞–ª–∏–∑–∞—Ü–∏—è –≤ JavaScript vs –¥—Ä—É–≥–∏–µ —è–∑—ã–∫–∏</a></h2>
<h3 id="–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏-javascript-–ø–æ–¥—Ö–æ–¥–∞"><a class="header" href="#–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏-javascript-–ø–æ–¥—Ö–æ–¥–∞">–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ JavaScript-–ø–æ–¥—Ö–æ–¥–∞</a></h3>
<p>–í –æ—Ç–ª–∏—á–∏–µ –æ—Ç Java, C# –∏ –¥—Ä—É–≥–∏—Ö –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–∏—Ö –û–û-—è–∑—ã–∫–æ–≤, –≤ JavaScript <strong>–Ω–µ –Ω—É–∂–Ω–æ —Å–æ–∑–¥–∞–≤–∞—Ç—å –±–æ–ª—å—à–∏–µ —Å–µ–º–µ–π—Å—Ç–≤–∞ –∫–ª–∞—Å—Å–æ–≤</strong>. –í–º–µ—Å—Ç–æ —ç—Ç–æ–≥–æ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:</p>
<ul>
<li><strong>–ö–æ–ª–ª–µ–∫—Ü–∏–∏ —Ñ—É–Ω–∫—Ü–∏–π</strong> (–æ–±—ä–µ–∫—Ç—ã —Å –º–µ—Ç–æ–¥–∞–º–∏)</li>
<li><strong>–û–±—ã—á–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã</strong> —Å –∫–ª—é—á–∞–º–∏ –∏ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏</li>
<li><strong>Map/Set</strong> –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è —Å—Ç—Ä–∞—Ç–µ–≥–∏–π</li>
<li><strong>–í—ã–±–æ—Ä –ø–æ –∫–ª—é—á—É</strong> –∏–∑ –∫–æ–ª–ª–µ–∫—Ü–∏–∏ –≤ runtime</li>
</ul>
<p><strong>–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:</strong></p>
<p>‚úÖ –ó–∞–º–µ–Ω–∞ –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è –∫–æ–º–ø–æ–∑–∏—Ü–∏–µ–π
‚úÖ –ó–∞–º–µ–Ω–∞ –∫–ª–∞—Å—Å–æ–≤ —Ñ—É–Ω–∫—Ü–∏—è–º–∏
‚úÖ –ü—Ä–æ—Å—Ç–æ—Ç–∞ –≤—ã–±–æ—Ä–∞ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ –ø–æ –∫–ª—é—á—É
‚úÖ –î–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –ø–æ–≤–µ–¥–µ–Ω–∏—è</p>
<p><strong>–ú–∏–Ω—É—Å—ã:</strong></p>
<p>‚ö†Ô∏è –ö–æ–¥ –º–æ–∂–µ—Ç —Å—Ç–∞—Ç—å –Ω–µ–º–Ω–æ–≥–æ —Å–ª–æ–∂–Ω–µ–µ (–Ω–æ –Ω–µ —Ç–∞–∫ —Å–ª–æ–∂–Ω–æ, –∫–∞–∫ –≤ Java/C#)
‚ö†Ô∏è –ù—É–∂–Ω–æ —Å–ª–µ–¥–∏—Ç—å –∑–∞ –µ–¥–∏–Ω–æ–æ–±—Ä–∞–∑–∏–µ–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤</p>
<hr />
<h2 id="–ü—Ä–∏–º–µ—Ä-1-–ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∞—è-—Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è-—á–µ—Ä–µ–∑-–Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ"><a class="header" href="#–ü—Ä–∏–º–µ—Ä-1-–ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∞—è-—Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è-—á–µ—Ä–µ–∑-–Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ">–ü—Ä–∏–º–µ—Ä 1: –ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ</a></h2>
<h3 id="–°—Ç—Ä—É–∫—Ç—É—Ä–∞-2"><a class="header" href="#–°—Ç—Ä—É–∫—Ç—É—Ä–∞-2">–°—Ç—Ä—É–∫—Ç—É—Ä–∞</a></h3>
<pre><code class="language-javascript">// –ê–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–π –±–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å
class Renderer {
  render(data) {
    throw new Error('Abstract method must be implemented');
  }
}

// –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏
class ConsoleRenderer extends Renderer {
  render(data) {
    console.table(data);
  }
}

class WebRenderer extends Renderer {
  render(data) {
    return `&lt;table&gt;${this.generateHTML(data)}&lt;/table&gt;`;
  }

  generateHTML(data) {
    // –ì–µ–Ω–µ—Ä–∞—Ü–∏—è HTML –∏–∑ –¥–∞–Ω–Ω—ã—Ö
    return data.map(item =&gt;
      `&lt;tr&gt;${Object.values(item).map(val =&gt; `&lt;td&gt;${val}&lt;/td&gt;`).join('')}&lt;/tr&gt;`
    ).join('');
  }
}

class MarkdownRenderer extends Renderer {
  render(data) {
    const headers = Object.keys(data[0]).join(' | ');
    const separator = Object.keys(data[0]).map(() =&gt; '---').join(' | ');
    const rows = data.map(item =&gt;
      Object.values(item).join(' | ')
    ).join('\n');

    return `${headers}\n${separator}\n${rows}`;
  }
}
</code></pre>
<h3 id="–ö–æ–Ω—Ç–µ–∫—Å—Ç-–¥–ª—è-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è-—Å—Ç—Ä–∞—Ç–µ–≥–∏–π"><a class="header" href="#–ö–æ–Ω—Ç–µ–∫—Å—Ç-–¥–ª—è-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è-—Å—Ç—Ä–∞—Ç–µ–≥–∏–π">–ö–æ–Ω—Ç–µ–∫—Å—Ç –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Å—Ç—Ä–∞—Ç–µ–≥–∏–π</a></h3>
<pre><code class="language-javascript">// –ö–ª–∞—Å—Å-–∫–æ–Ω—Ç–µ–∫—Å—Ç, –∫–æ—Ç–æ—Ä—ã–π –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å—Ç—Ä–∞—Ç–µ–≥–∏—é
class RenderContext {
  constructor(renderer) {
    this.renderer = renderer;
  }

  process(data) {
    return this.renderer.render(data);
  }
}
</code></pre>
<h3 id="–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ-4"><a class="header" href="#–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ-4">–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ</a></h3>
<pre><code class="language-javascript">const data = [
  { name: 'Alice', age: 30, city: 'Moscow' },
  { name: 'Bob', age: 25, city: 'London' },
  { name: 'Charlie', age: 35, city: 'New York' }
];

// –°–æ–∑–¥–∞–µ–º –∫–æ–Ω—Ç–µ–∫—Å—Ç—ã —Å —Ä–∞–∑–Ω—ã–º–∏ —Å—Ç—Ä–∞—Ç–µ–≥–∏—è–º–∏ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞
const consoleContext = new RenderContext(new ConsoleRenderer());
const webContext = new RenderContext(new WebRenderer());
const markdownContext = new RenderContext(new MarkdownRenderer());

// –ò—Å–ø–æ–ª—å–∑—É–µ–º –æ–¥–∏–Ω–∞–∫–æ–≤—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
console.log(consoleContext.process(data));
console.log(webContext.process(data));
console.log(markdownContext.process(data));
</code></pre>
<p><strong>–ö–ª—é—á–µ–≤–∞—è –∏–¥–µ—è:</strong> –í—Å–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç—ã –∏–º–µ—é—Ç –æ–¥–∏–Ω–∞–∫–æ–≤—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å (<code>process</code>), –Ω–æ –≤–Ω—É—Ç—Ä–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —Ä–∞–∑–Ω—ã–µ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞. –ú—ã –Ω–µ –∑–Ω–∞–µ–º –¥–µ—Ç–∞–ª–µ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ ‚Äî –ø—Ä–æ—Å—Ç–æ –≤—ã–∑—ã–≤–∞–µ–º <code>process()</code>.</p>
<hr />
<h2 id="–ü—Ä–∏–º–µ—Ä-2-–†–µ–∞–ª–∏–∑–∞—Ü–∏—è-—á–µ—Ä–µ–∑-–∫–æ–ª–ª–µ–∫—Ü–∏—é-—Ñ—É–Ω–∫—Ü–∏–π-javascript-way"><a class="header" href="#–ü—Ä–∏–º–µ—Ä-2-–†–µ–∞–ª–∏–∑–∞—Ü–∏—è-—á–µ—Ä–µ–∑-–∫–æ–ª–ª–µ–∫—Ü–∏—é-—Ñ—É–Ω–∫—Ü–∏–π-javascript-way">–ü—Ä–∏–º–µ—Ä 2: –†–µ–∞–ª–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ –∫–æ–ª–ª–µ–∫—Ü–∏—é —Ñ—É–Ω–∫—Ü–∏–π (JavaScript-way)</a></h2>
<h3 id="–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–æ-–ø–æ–¥—Ö–æ–¥–∞"><a class="header" href="#–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–æ-–ø–æ–¥—Ö–æ–¥–∞">–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–æ –ø–æ–¥—Ö–æ–¥–∞</a></h3>
<p>–í–º–µ—Å—Ç–æ —Å–æ–∑–¥–∞–Ω–∏—è –º–Ω–æ–∂–µ—Å—Ç–≤–∞ –∫–ª–∞—Å—Å–æ–≤ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å <strong>–ø—Ä–æ—Å—Ç–æ–π –æ–±—ä–µ–∫—Ç —Å —Ñ—É–Ω–∫—Ü–∏—è–º–∏</strong>. –≠—Ç–æ –±–æ–ª–µ–µ –∏–¥–∏–æ–º–∞—Ç–∏—á–Ω–æ –¥–ª—è JavaScript.</p>
<pre><code class="language-javascript">// –ö–æ–ª–ª–µ–∫—Ü–∏—è —Å—Ç—Ä–∞—Ç–µ–≥–∏–π –≤ –≤–∏–¥–µ –æ–±—ä–µ–∫—Ç–∞ —Å —Ñ—É–Ω–∫—Ü–∏—è–º–∏
const renderers = {
  // –ê–±—Å—Ç—Ä–∞–∫—Ç–Ω–∞—è —Å—Ç—Ä–∞—Ç–µ–≥–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
  abstract: (data) =&gt; {
    return 'Renderer not implemented for this format';
  },

  // –ö–æ–Ω—Å–æ–ª—å–Ω—ã–π —Ä–µ–Ω–¥–µ—Ä–µ—Ä
  console: (data) =&gt; {
    console.table(data);
  },

  // Web-—Ä–µ–Ω–¥–µ—Ä–µ—Ä (HTML)
  web: (data) =&gt; {
    const headers = Object.keys(data[0])
      .map(key =&gt; `&lt;th&gt;${key}&lt;/th&gt;`)
      .join('');
    const rows = data.map(item =&gt;
      `&lt;tr&gt;${Object.values(item).map(val =&gt; `&lt;td&gt;${val}&lt;/td&gt;`).join('')}&lt;/tr&gt;`
    ).join('');

    return `&lt;table&gt;&lt;thead&gt;&lt;tr&gt;${headers}&lt;/tr&gt;&lt;/thead&gt;&lt;tbody&gt;${rows}&lt;/tbody&gt;&lt;/table&gt;`;
  },

  // Markdown-—Ä–µ–Ω–¥–µ—Ä–µ—Ä
  markdown: (data) =&gt; {
    const headers = Object.keys(data[0]).join(' | ');
    const separator = Object.keys(data[0]).map(() =&gt; '---').join(' | ');
    const rows = data.map(item =&gt;
      Object.values(item).join(' | ')
    ).join('\n');

    return `${headers}\n${separator}\n${rows}`;
  }
};
</code></pre>
<h3 id="–ö–æ–Ω—Ç–µ–∫—Å—Ç-—Å-–≤—ã–±–æ—Ä–æ–º-—Å—Ç—Ä–∞—Ç–µ–≥–∏–∏"><a class="header" href="#–ö–æ–Ω—Ç–µ–∫—Å—Ç-—Å-–≤—ã–±–æ—Ä–æ–º-—Å—Ç—Ä–∞—Ç–µ–≥–∏–∏">–ö–æ–Ω—Ç–µ–∫—Å—Ç —Å –≤—ã–±–æ—Ä–æ–º —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏</a></h3>
<pre><code class="language-javascript">// –§–∞–±—Ä–∏–∫–∞ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞
const createContext = (rendererName) =&gt; {
  // –í—ã–±–∏—Ä–∞–µ–º —Ä–µ–Ω–¥–µ—Ä–µ—Ä –ø–æ –∏–º–µ–Ω–∏ –∏–ª–∏ –±–µ—Ä–µ–º –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–π
  const renderer = renderers[rendererName] || renderers.abstract;

  // –í–æ–∑–≤—Ä–∞—â–∞–µ–º —Ñ—É–Ω–∫—Ü–∏—é —Å –µ–¥–∏–Ω–æ–æ–±—Ä–∞–∑–Ω—ã–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º
  return (data) =&gt; renderer(data);
};
</code></pre>
<h3 id="–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ-5"><a class="header" href="#–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ-5">–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ</a></h3>
<pre><code class="language-javascript">const data = [
  { name: 'Alice', age: 30, city: 'Moscow' },
  { name: 'Bob', age: 25, city: 'London' }
];

// –°–æ–∑–¥–∞–µ–º –∫–æ–Ω—Ç–µ–∫—Å—Ç—ã –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ñ–æ—Ä–º–∞—Ç–æ–≤
const pngContext = createContext('png');      // –ù–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π —Ñ–æ—Ä–º–∞—Ç
const consoleContext = createContext('console');
const webContext = createContext('web');
const markdownContext = createContext('markdown');

// –ò—Å–ø–æ–ª—å–∑—É–µ–º –æ–¥–∏–Ω–∞–∫–æ–≤—ã–º –æ–±—Ä–∞–∑–æ–º
console.log(pngContext(data));        // "Renderer not implemented..."
consoleContext(data);                  // –í—ã–≤–æ–¥–∏—Ç —Ç–∞–±–ª–∏—Ü—É –≤ –∫–æ–Ω—Å–æ–ª—å
console.log(webContext(data));         // –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç HTML
console.log(markdownContext(data));    // –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç Markdown
</code></pre>
<p><strong>–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ —ç—Ç–æ–≥–æ –ø–æ–¥—Ö–æ–¥–∞:</strong></p>
<p>‚úÖ –ù–µ—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ —Å–æ–∑–¥–∞–≤–∞—Ç—å –∫–ª–∞—Å—Å—ã
‚úÖ –õ–µ–≥–∫–æ –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏
‚úÖ –ü—Ä–æ—Å—Ç–æ–π –≤—ã–±–æ—Ä –ø–æ –∫–ª—é—á—É
‚úÖ –ö–æ–º–ø–∞–∫—Ç–Ω—ã–π –∏ —á–∏—Ç–∞–µ–º—ã–π –∫–æ–¥</p>
<hr />
<h2 id="–ü—Ä–∏–º–µ—Ä-3-–°—Ç—Ä–∞—Ç–µ–≥–∏—è-—Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏-–º–∞—Å—Å–∏–≤–æ–≤"><a class="header" href="#–ü—Ä–∏–º–µ—Ä-3-–°—Ç—Ä–∞—Ç–µ–≥–∏—è-—Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏-–º–∞—Å—Å–∏–≤–æ–≤">–ü—Ä–∏–º–µ—Ä 3: –°—Ç—Ä–∞—Ç–µ–≥–∏—è —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏ –º–∞—Å—Å–∏–≤–æ–≤</a></h2>
<h3 id="–ü—Ä–æ–±–ª–µ–º–∞-13"><a class="header" href="#–ü—Ä–æ–±–ª–µ–º–∞-13">–ü—Ä–æ–±–ª–µ–º–∞</a></h3>
<p>–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –º–µ—Ç–æ–¥ <code>Array.prototype.sort()</code> —Ç—Ä–µ–±—É–µ—Ç –ø–µ—Ä–µ–¥–∞—á–∏ —Ñ—É–Ω–∫—Ü–∏–∏-–∫–æ–º–ø–∞—Ä–∞—Ç–æ—Ä–∞. –ù–æ –º–æ–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å <strong>–¥–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω—É—é —Å—Ç—Ä–∞—Ç–µ–≥–∏—é —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏</strong>, –∫–æ—Ç–æ—Ä–∞—è –±—É–¥–µ—Ç –±–æ–ª–µ–µ –≤—ã—Ä–∞–∑–∏—Ç–µ–ª—å–Ω–æ–π.</p>
<h3 id="–†–µ–∞–ª–∏–∑–∞—Ü–∏—è-–¥–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω–æ–π-—Å—Ç—Ä–∞—Ç–µ–≥–∏–∏"><a class="header" href="#–†–µ–∞–ª–∏–∑–∞—Ü–∏—è-–¥–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω–æ–π-—Å—Ç—Ä–∞—Ç–µ–≥–∏–∏">–†–µ–∞–ª–∏–∑–∞—Ü–∏—è –¥–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω–æ–π —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏</a></h3>
<pre><code class="language-javascript">// –°–æ–∑–¥–∞–µ–º —Å—Ç—Ä–∞—Ç–µ–≥–∏—é —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏ –∏–∑ –¥–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω–æ–≥–æ –æ–ø–∏—Å–∞–Ω–∏—è
const createSortStrategy = (options) =&gt; {
  // –ü–æ–ª—É—á–∞–µ–º –ø–æ–ª–µ –¥–ª—è —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏
  const field = Object.keys(options)[0];
  const direction = options[field]; // 'asc' –∏–ª–∏ 'desc'

  // –û–ø—Ä–µ–¥–µ–ª—è–µ–º –ø–æ—Ä—è–¥–æ–∫ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏
  const order = direction === 'asc' ? 1 : -1;

  // –í–æ–∑–≤—Ä–∞—â–∞–µ–º —Ñ—É–Ω–∫—Ü–∏—é-–∫–æ–º–ø–∞—Ä–∞—Ç–æ—Ä
  return (a, b) =&gt; {
    const valueA = a[field];
    const valueB = b[field];

    if (valueA &lt; valueB) return -1 * order;
    if (valueA &gt; valueB) return 1 * order;
    return 0;
  };
};
</code></pre>
<h3 id="–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ-—Å—Ç—Ä–∞—Ç–µ–≥–∏–∏-—Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏"><a class="header" href="#–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ-—Å—Ç—Ä–∞—Ç–µ–≥–∏–∏-—Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏">–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏</a></h3>
<pre><code class="language-javascript">const scientists = [
  { name: 'Einstein', born: 1879 },
  { name: 'Newton', born: 1643 },
  { name: 'Tesla', born: 1856 },
  { name: 'Curie', born: 1867 },
  { name: 'Darwin', born: 1809 }
];

// –°–æ–∑–¥–∞–µ–º —Å—Ç—Ä–∞—Ç–µ–≥–∏—é: —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ –≥–æ–¥—É —Ä–æ–∂–¥–µ–Ω–∏—è (–ø–æ —É–±—ã–≤–∞–Ω–∏—é)
const sortByBornDesc = createSortStrategy({ born: 'desc' });

// –ü—Ä–∏–º–µ–Ω—è–µ–º —Å—Ç—Ä–∞—Ç–µ–≥–∏—é
const sorted = scientists.sort(sortByBornDesc);

console.log(sorted);
// –†–µ–∑—É–ª—å—Ç–∞—Ç: Einstein (1879), Tesla (1856), Curie (1867), Darwin (1809), Newton (1643)

// –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ –∏–º–µ–Ω–∏ (–ø–æ –≤–æ–∑—Ä–∞—Å—Ç–∞–Ω–∏—é)
const sortByNameAsc = createSortStrategy({ name: 'asc' });
const sortedByName = scientists.sort(sortByNameAsc);

console.log(sortedByName);
// –†–µ–∑—É–ª—å—Ç–∞—Ç: Curie, Darwin, Einstein, Newton, Tesla
</code></pre>
<h3 id="–î–µ—Ç–∞–ª–∏-—Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏"><a class="header" href="#–î–µ—Ç–∞–ª–∏-—Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏">–î–µ—Ç–∞–ª–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏</a></h3>
<pre><code class="language-javascript">// –ü–æ–ª–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–æ–≤
const createSortStrategy = (options) =&gt; {
  const field = Object.keys(options)[0];
  const direction = options[field];
  const order = direction === 'asc' ? 1 : -1;

  return (a, b) =&gt; {
    const valueA = a[field];
    const valueB = b[field];

    // –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å —É—á–µ—Ç–æ–º —Ç–∏–ø–æ–≤
    if (typeof valueA === 'string' &amp;&amp; typeof valueB === 'string') {
      return valueA.localeCompare(valueB) * order;
    }

    if (valueA &lt; valueB) return -1 * order;
    if (valueA &gt; valueB) return 1 * order;
    return 0;
  };
};
</code></pre>
<p><strong>–ö–ª—é—á–µ–≤–æ–µ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–æ:</strong> –í–º–µ—Å—Ç–æ –Ω–∞–ø–∏—Å–∞–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–∏-–∫–æ–º–ø–∞—Ä–∞—Ç–æ—Ä–∞ –≤—Ä—É—á–Ω—É—é –∫–∞–∂–¥—ã–π —Ä–∞–∑, –º—ã <strong>–¥–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω–æ –æ–ø–∏—Å—ã–≤–∞–µ–º</strong> –∂–µ–ª–∞–µ–º—É—é —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫—É.</p>
<hr />
<h2 id="–ü—Ä–∏–º–µ—Ä-4-–°—Ç—Ä–∞—Ç–µ–≥–∏—è-—Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏"><a class="header" href="#–ü—Ä–∏–º–µ—Ä-4-–°—Ç—Ä–∞—Ç–µ–≥–∏—è-—Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏">–ü—Ä–∏–º–µ—Ä 4: –°—Ç—Ä–∞—Ç–µ–≥–∏—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏</a></h2>
<h3 id="–ü—Ä–æ—Å—Ç–∞—è-—Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è"><a class="header" href="#–ü—Ä–æ—Å—Ç–∞—è-—Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è">–ü—Ä–æ—Å—Ç–∞—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è</a></h3>
<pre><code class="language-javascript">const data = [
  { name: 'Alice', age: 30, active: true },
  { name: 'Bob', age: 25, active: false },
  { name: 'Charlie', age: 35, active: true }
];

// –û–±—ã—á–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è-—Å—Ç—Ä–∞—Ç–µ–≥–∏—è
const activeUsersFilter = (item) =&gt; item.active;
const adults = data.filter(activeUsersFilter);
</code></pre>
<h3 id="–î–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω–∞—è-—Å—Ç—Ä–∞—Ç–µ–≥–∏—è-—Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏"><a class="header" href="#–î–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω–∞—è-—Å—Ç—Ä–∞—Ç–µ–≥–∏—è-—Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏">–î–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω–∞—è —Å—Ç—Ä–∞—Ç–µ–≥–∏—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏</a></h3>
<pre><code class="language-javascript">// –°–æ–∑–¥–∞–µ–º —Å—Ç—Ä–∞—Ç–µ–≥–∏—é —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –∏–∑ –æ–ø–∏—Å–∞–Ω–∏—è
const createFilterStrategy = (criteria) =&gt; {
  return (item) =&gt; {
    // –ü—Ä–æ–≤–µ—Ä—è–µ–º –≤—Å–µ –∫—Ä–∏—Ç–µ—Ä–∏–∏
    return Object.entries(criteria).every(([field, value]) =&gt; {
      if (typeof value === 'function') {
        return value(item[field]);
      }
      return item[field] === value;
    });
  };
};

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
const filter1 = createFilterStrategy({ active: true, age: (age) =&gt; age &gt; 25 });
const filtered = data.filter(filter1);

console.log(filtered);
// –†–µ–∑—É–ª—å—Ç–∞—Ç: [{ name: 'Alice', age: 30, active: true },
//             { name: 'Charlie', age: 35, active: true }]
</code></pre>
<p><strong>–ü–∞—Ç—Ç–µ—Ä–Ω –≤ –¥–µ–π—Å—Ç–≤–∏–∏:</strong> –ú—ã –ø—Ä–µ–≤—Ä–∞—â–∞–µ–º <strong>–¥–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ</strong> –∫—Ä–∏—Ç–µ—Ä–∏–µ–≤ –≤ <strong>—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—É—é —Å—Ç—Ä–∞—Ç–µ–≥–∏—é</strong> —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏.</p>
<hr />
<h2 id="–ú–µ—Ç–∞–ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ-–∏-–°—Ç—Ä–∞—Ç–µ–≥–∏—è"><a class="header" href="#–ú–µ—Ç–∞–ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ-–∏-–°—Ç—Ä–∞—Ç–µ–≥–∏—è">–ú–µ—Ç–∞–ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –°—Ç—Ä–∞—Ç–µ–≥–∏—è</a></h2>
<h3 id="–ö–æ–Ω—Ü–µ–ø—Ü–∏—è-6"><a class="header" href="#–ö–æ–Ω—Ü–µ–ø—Ü–∏—è-6">–ö–æ–Ω—Ü–µ–ø—Ü–∏—è</a></h3>
<p>–°–æ–∑–¥–∞–Ω–∏–µ —Å—Ç—Ä–∞—Ç–µ–≥–∏–π –∏–∑ –¥–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω—ã—Ö –æ–ø–∏—Å–∞–Ω–∏–π ‚Äî —ç—Ç–æ —ç–ª–µ–º–µ–Ω—Ç <strong>–º–µ—Ç–∞–ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è</strong>. –ú—ã –ø–∏—à–µ–º –∫–æ–¥, –∫–æ—Ç–æ—Ä—ã–π –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –¥—Ä—É–≥–æ–π –∫–æ–¥ (—Ñ—É–Ω–∫—Ü–∏–∏) –Ω–∞ –æ—Å–Ω–æ–≤–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏.</p>
<pre><code class="language-javascript">// –î–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ ‚Üí –§—É–Ω–∫—Ü–∏—è-—Å—Ç—Ä–∞—Ç–µ–≥–∏—è
const config = { born: 'desc' };
const strategy = createSortStrategy(config);

// –¢–µ–ø–µ—Ä—å strategy ‚Äî —ç—Ç–æ —Ñ—É–Ω–∫—Ü–∏—è, –∫–æ—Ç–æ—Ä—É—é –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å
array.sort(strategy);
</code></pre>
<p><strong>–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –ø–æ–¥—Ö–æ–¥–∞:</strong></p>
<ul>
<li>–ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ª–æ–≥–∏–∫–∏ —Å–æ–∑–¥–∞–Ω–∏—è —Å—Ç—Ä–∞—Ç–µ–≥–∏–π</li>
<li>–£–º–µ–Ω—å—à–µ–Ω–∏–µ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è –∫–æ–¥–∞</li>
<li>–ë–æ–ª–µ–µ –≤—ã—Ä–∞–∑–∏—Ç–µ–ª—å–Ω—ã–π –∏ –ø–æ–Ω—è—Ç–Ω—ã–π –∫–æ–¥</li>
<li>–õ–µ–≥–∫–æ—Å—Ç—å —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è</li>
</ul>
<hr />
<h2 id="–ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ-–ø–∞—Ç—Ç–µ—Ä–Ω—ã-–ö–æ–ª–ª–µ–∫—Ü–∏–∏-–≤-–∫–æ–ª–ª–µ–∫—Ü–∏—è—Ö"><a class="header" href="#–ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ-–ø–∞—Ç—Ç–µ—Ä–Ω—ã-–ö–æ–ª–ª–µ–∫—Ü–∏–∏-–≤-–∫–æ–ª–ª–µ–∫—Ü–∏—è—Ö">–ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã: –ö–æ–ª–ª–µ–∫—Ü–∏–∏ –≤ –∫–æ–ª–ª–µ–∫—Ü–∏—è—Ö</a></h2>
<h3 id="–ú–Ω–æ–≥–æ—É—Ä–æ–≤–Ω–µ–≤—ã–µ-—Å—Ç—Ä–∞—Ç–µ–≥–∏–∏"><a class="header" href="#–ú–Ω–æ–≥–æ—É—Ä–æ–≤–Ω–µ–≤—ã–µ-—Å—Ç—Ä–∞—Ç–µ–≥–∏–∏">–ú–Ω–æ–≥–æ—É—Ä–æ–≤–Ω–µ–≤—ã–µ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏</a></h3>
<p>–ú–æ–∂–Ω–æ —Å–æ–∑–¥–∞–≤–∞—Ç—å <strong>–≤–ª–æ–∂–µ–Ω–Ω—ã–µ –∫–æ–ª–ª–µ–∫—Ü–∏–∏ —Å—Ç—Ä–∞—Ç–µ–≥–∏–π</strong> –¥–ª—è –±–æ–ª–µ–µ —Å–ª–æ–∂–Ω—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤.</p>
<pre><code class="language-javascript">// –°—Ç—Ä–∞—Ç–µ–≥–∏–∏ —Ä–∞–±–æ—Ç—ã —Å —Ä–∞–∑–Ω—ã–º–∏ –∏—Å—Ç–æ—á–Ω–∏–∫–∞–º–∏ –¥–∞–Ω–Ω—ã—Ö
const dataSourceStrategies = {
  database: {
    mysql: class MySQLCursor { /* ... */ },
    postgres: class PostgresCursor { /* ... */ },
    mongodb: class MongoCursor { /* ... */ }
  },

  file: {
    csv: class CSVReader { /* ... */ },
    json: class JSONReader { /* ... */ },
    xml: class XMLReader { /* ... */ }
  },

  cloud: {
    s3: class S3Stream { /* ... */ },
    azure: class AzureStream { /* ... */ },
    gcp: class GCPStream { /* ... */ }
  }
};

// –í—ã–±–æ—Ä —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏
const getStrategy = (source, type) =&gt; {
  return dataSourceStrategies[source]?.[type];
};

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
const MySQLClass = getStrategy('database', 'mysql');
const cursor = new MySQLClass(config);
</code></pre>
<h3 id="–ê–±—Å—Ç—Ä–∞–∫—Ç–Ω–∞—è-—Ñ–∞–±—Ä–∏–∫–∞-—á–µ—Ä–µ–∑-–∫–æ–ª–ª–µ–∫—Ü–∏–∏"><a class="header" href="#–ê–±—Å—Ç—Ä–∞–∫—Ç–Ω–∞—è-—Ñ–∞–±—Ä–∏–∫–∞-—á–µ—Ä–µ–∑-–∫–æ–ª–ª–µ–∫—Ü–∏–∏">–ê–±—Å—Ç—Ä–∞–∫—Ç–Ω–∞—è —Ñ–∞–±—Ä–∏–∫–∞ —á–µ—Ä–µ–∑ –∫–æ–ª–ª–µ–∫—Ü–∏–∏</a></h3>
<pre><code class="language-javascript">// –°—Ç—Ä–∞—Ç–µ–≥–∏–∏ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ –≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏—Ö –ø—Ä–∏–º–∏—Ç–∏–≤–æ–≤
const renderingStrategies = {
  svg: {
    Circle: class SVGCircle { /* ... */ },
    Rectangle: class SVGRectangle { /* ... */ },
    Line: class SVGLine { /* ... */ }
  },

  canvas: {
    Circle: class CanvasCircle { /* ... */ },
    Rectangle: class CanvasRectangle { /* ... */ },
    Line: class CanvasLine { /* ... */ }
  },

  webgl: {
    Circle: class WebGLCircle { /* ... */ },
    Rectangle: class WebGLRectangle { /* ... */ },
    Line: class WebGLLine { /* ... */ }
  }
};

// –°–æ–∑–¥–∞–Ω–∏–µ —Ñ–∞–±—Ä–∏–∫–∏ –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏
const createShapeFactory = (renderingType) =&gt; {
  const strategies = renderingStrategies[renderingType];

  return {
    createCircle: (x, y, radius) =&gt; new strategies.Circle(x, y, radius),
    createRectangle: (x, y, w, h) =&gt; new strategies.Rectangle(x, y, w, h),
    createLine: (x1, y1, x2, y2) =&gt; new strategies.Line(x1, y1, x2, y2)
  };
};

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
const svgFactory = createShapeFactory('svg');
const circle = svgFactory.createCircle(100, 100, 50);

const canvasFactory = createShapeFactory('canvas');
const rect = canvasFactory.createRectangle(0, 0, 200, 100);
</code></pre>
<p><strong>–≠—Ç–æ –ø–∞—Ç—Ç–µ—Ä–Ω –ê–±—Å—Ç—Ä–∞–∫—Ç–Ω–∞—è —Ñ–∞–±—Ä–∏–∫–∞</strong>, —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π —á–µ—Ä–µ–∑ <strong>–≤–ª–æ–∂–µ–Ω–Ω—ã–µ –∫–æ–ª–ª–µ–∫—Ü–∏–∏ —Å—Ç—Ä–∞—Ç–µ–≥–∏–π</strong>!</p>
<hr />
<h2 id="–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ-—Å–æ–≤–µ—Ç—ã-2"><a class="header" href="#–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ-—Å–æ–≤–µ—Ç—ã-2">–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ —Å–æ–≤–µ—Ç—ã</a></h2>
<h3 id="–ö–æ–≥–¥–∞-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å-strategy"><a class="header" href="#–ö–æ–≥–¥–∞-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å-strategy">–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Strategy</a></h3>
<p>‚úÖ <strong>–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ, –∫–æ–≥–¥–∞:</strong></p>
<ul>
<li>–ù—É–∂–Ω–æ –≤—ã–±–∏—Ä–∞—Ç—å –º–µ–∂–¥—É –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ –∞–ª–≥–æ—Ä–∏—Ç–º–∞–º–∏ –≤ runtime</li>
<li>–ï—Å—Ç—å —Å–µ–º–µ–π—Å—Ç–≤–æ –∫–ª–∞—Å—Å–æ–≤, –æ—Ç–ª–∏—á–∞—é—â–∏—Ö—Å—è —Ç–æ–ª—å–∫–æ –ø–æ–≤–µ–¥–µ–Ω–∏–µ–º</li>
<li>–¢—Ä–µ–±—É–µ—Ç—Å—è –∏–∑–±–µ–∂–∞—Ç—å –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö —É—Å–ª–æ–≤–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–≤</li>
<li>–ù—É–∂–Ω–∞ –≥–∏–±–∫–æ—Å—Ç—å –≤ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –Ω–æ–≤—ã—Ö —Å—Ç—Ä–∞—Ç–µ–≥–∏–π</li>
</ul>
<p>‚ùå <strong>–ù–µ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ, –∫–æ–≥–¥–∞:</strong></p>
<ul>
<li>–°—É—â–µ—Å—Ç–≤—É–µ—Ç —Ç–æ–ª—å–∫–æ –æ–¥–Ω–∞ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è</li>
<li>–†–∞–∑–ª–∏—á–∏—è –º–µ–∂–¥—É –∞–ª–≥–æ—Ä–∏—Ç–º–∞–º–∏ –º–∏–Ω–∏–º–∞–ª—å–Ω—ã</li>
<li>–ö–ª–∏–µ–Ω—Ç—É –Ω—É–∂–Ω–æ –∑–Ω–∞—Ç—å –¥–µ—Ç–∞–ª–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏</li>
</ul>
<h3 id="–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏-–¥–ª—è-javascripttypescript"><a class="header" href="#–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏-–¥–ª—è-javascripttypescript">–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –¥–ª—è JavaScript/TypeScript</a></h3>
<ol>
<li><strong>–ü—Ä–µ–¥–ø–æ—á–∏—Ç–∞–π—Ç–µ —Ñ—É–Ω–∫—Ü–∏–∏ –∫–ª–∞—Å—Å–∞–º</strong> –¥–ª—è –ø—Ä–æ—Å—Ç—ã—Ö —Å—Ç—Ä–∞—Ç–µ–≥–∏–π</li>
<li><strong>–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–ª–ª–µ–∫—Ü–∏–∏</strong> (–æ–±—ä–µ–∫—Ç—ã, Map) –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è —Å—Ç—Ä–∞—Ç–µ–≥–∏–π</li>
<li><strong>–°–æ–∑–¥–∞–≤–∞–π—Ç–µ —Ñ–∞–±—Ä–∏–∫–∏</strong> –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Å—Ç—Ä–∞—Ç–µ–≥–∏–π –∏–∑ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏</li>
<li><strong>–û–±–µ—Å–ø–µ—á–∏–≤–∞–π—Ç–µ –µ–¥–∏–Ω–æ–æ–±—Ä–∞–∑–∏–µ</strong> –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤ –≤—Å–µ—Ö —Å—Ç—Ä–∞—Ç–µ–≥–∏–π</li>
<li><strong>–î–æ–±–∞–≤–ª—è–π—Ç–µ —Å—Ç—Ä–∞—Ç–µ–≥–∏—é –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é</strong> –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω—ã—Ö —Å–ª—É—á–∞–µ–≤</li>
</ol>
<h3 id="typescript-–¢–∏–ø–∏–∑–∞—Ü–∏—è-—Å—Ç—Ä–∞—Ç–µ–≥–∏–π"><a class="header" href="#typescript-–¢–∏–ø–∏–∑–∞—Ü–∏—è-—Å—Ç—Ä–∞—Ç–µ–≥–∏–π">TypeScript: –¢–∏–ø–∏–∑–∞—Ü–∏—è —Å—Ç—Ä–∞—Ç–µ–≥–∏–π</a></h3>
<pre><code class="language-typescript">// –û–ø—Ä–µ–¥–µ–ª—è–µ–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏
interface RenderStrategy&lt;T, R&gt; {
  (data: T): R;
}

// –¢–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –∫–æ–ª–ª–µ–∫—Ü–∏—è —Å—Ç—Ä–∞—Ç–µ–≥–∏–π
const renderers: Record&lt;string, RenderStrategy&lt;any[], string&gt;&gt; = {
  console: (data) =&gt; {
    console.table(data);
    return '';
  },

  web: (data) =&gt; {
    return `&lt;table&gt;${/* ... */}&lt;/table&gt;`;
  },

  markdown: (data) =&gt; {
    return `| ${/* ... */} |`;
  }
};

// –¢–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Ñ–∞–±—Ä–∏–∫–∞ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞
function createContext&lt;T, R&gt;(
  name: string
): RenderStrategy&lt;T, R&gt; {
  return renderers[name] || renderers.abstract;
}
</code></pre>
<hr />
<h2 id="–†–µ–∑—é–º–µ-7"><a class="header" href="#–†–µ–∑—é–º–µ-7">–†–µ–∑—é–º–µ</a></h2>
<h3 id="–ö–ª—é—á–µ–≤—ã–µ-–≤—ã–≤–æ–¥—ã-20"><a class="header" href="#–ö–ª—é—á–µ–≤—ã–µ-–≤—ã–≤–æ–¥—ã-20">–ö–ª—é—á–µ–≤—ã–µ –≤—ã–≤–æ–¥—ã</a></h3>
<ol>
<li><strong>–ü–∞—Ç—Ç–µ—Ä–Ω –°—Ç—Ä–∞—Ç–µ–≥–∏—è</strong> –ø–æ–∑–≤–æ–ª—è–µ—Ç –≤—ã–±–∏—Ä–∞—Ç—å –∞–ª–≥–æ—Ä–∏—Ç–º—ã –∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –≤ runtime</li>
<li>–í <strong>JavaScript</strong> –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–æ–ª–ª–µ–∫—Ü–∏–∏ –≤–º–µ—Å—Ç–æ –∏–µ—Ä–∞—Ä—Ö–∏–π –∫–ª–∞—Å—Å–æ–≤</li>
<li><strong>–§—É–Ω–∫—Ü–∏–∏ –ø–µ—Ä–≤–æ–≥–æ –∫–ª–∞—Å—Å–∞</strong> –¥–µ–ª–∞—é—Ç —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é –æ—á–µ–Ω—å –≥–∏–±–∫–æ–π</li>
<li><strong>–î–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω—ã–µ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏</strong> —É–ø—Ä–æ—â–∞—é—Ç —Å–æ–∑–¥–∞–Ω–∏–µ –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ</li>
<li><strong>–í–ª–æ–∂–µ–Ω–Ω—ã–µ –∫–æ–ª–ª–µ–∫—Ü–∏–∏</strong> –ø–æ–∑–≤–æ–ª—è—é—Ç —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Å–ª–æ–∂–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã</li>
</ol>
<h3 id="–ü—Ä–∏–º–µ—Ä—ã-–∏–∑-—Ä–µ–∞–ª—å–Ω–æ–π-–ø—Ä–∞–∫—Ç–∏–∫–∏"><a class="header" href="#–ü—Ä–∏–º–µ—Ä—ã-–∏–∑-—Ä–µ–∞–ª—å–Ω–æ–π-–ø—Ä–∞–∫—Ç–∏–∫–∏">–ü—Ä–∏–º–µ—Ä—ã –∏–∑ —Ä–µ–∞–ª—å–Ω–æ–π –ø—Ä–∞–∫—Ç–∏–∫–∏</a></h3>
<ul>
<li><strong>–ú–µ—Ç–æ–¥—ã –º–∞—Å—Å–∏–≤–æ–≤:</strong> <code>sort()</code>, <code>filter()</code>, <code>map()</code> ‚Äî –≤—Å–µ –ø—Ä–∏–Ω–∏–º–∞—é—Ç —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏</li>
<li><strong>Middleware –≤ Express.js</strong> ‚Äî —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∑–∞–ø—Ä–æ—Å–æ–≤</li>
<li><strong>Serializers –≤ API</strong> ‚Äî JSON, XML, Protobuf</li>
<li><strong>Validation strategies</strong> ‚Äî —Ä–∞–∑–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏</li>
<li><strong>Authentication strategies</strong> –≤ Passport.js</li>
</ul>
<h3 id="–°–≤—è–∑—å-—Å-–¥—Ä—É–≥–∏–º–∏-–ø–∞—Ç—Ç–µ—Ä–Ω–∞–º–∏-3"><a class="header" href="#–°–≤—è–∑—å-—Å-–¥—Ä—É–≥–∏–º–∏-–ø–∞—Ç—Ç–µ—Ä–Ω–∞–º–∏-3">–°–≤—è–∑—å —Å –¥—Ä—É–≥–∏–º–∏ –ø–∞—Ç—Ç–µ—Ä–Ω–∞–º–∏</a></h3>
<ul>
<li><strong>–°—Ç—Ä–∞—Ç–µ–≥–∏—è + –§–∞–±—Ä–∏–∫–∞</strong> = –≤—ã–±–æ—Ä —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ —á–µ—Ä–µ–∑ —Ñ–∞–±—Ä–∏—á–Ω—ã–π –º–µ—Ç–æ–¥</li>
<li><strong>–°—Ç—Ä–∞—Ç–µ–≥–∏—è + –î–µ–∫–æ—Ä–∞—Ç–æ—Ä</strong> = –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø–æ–≤–µ–¥–µ–Ω–∏—è –∫ —Å—Ç—Ä–∞—Ç–µ–≥–∏—è–º</li>
<li><strong>–°—Ç—Ä–∞—Ç–µ–≥–∏—è + –ê–±—Å—Ç—Ä–∞–∫—Ç–Ω–∞—è —Ñ–∞–±—Ä–∏–∫–∞</strong> = –∫–æ–ª–ª–µ–∫—Ü–∏–∏ –≤ –∫–æ–ª–ª–µ–∫—Ü–∏—è—Ö</li>
<li><strong>–°—Ç—Ä–∞—Ç–µ–≥–∏—è + –°–æ—Å—Ç–æ—è–Ω–∏–µ</strong> = –ø–æ—Ö–æ–∂–∏, –Ω–æ State –º–µ–Ω—è–µ—Ç –ø–æ–≤–µ–¥–µ–Ω–∏–µ –æ–±—ä–µ–∫—Ç–∞</li>
</ul>
<hr />
<h2 id="–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ-–º–∞—Ç–µ—Ä–∏–∞–ª—ã-7"><a class="header" href="#–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ-–º–∞—Ç–µ—Ä–∏–∞–ª—ã-7">–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã</a></h2>
<h3 id="–ü—Ä–∏–º–µ—Ä—ã-–∫–æ–¥–∞-9"><a class="header" href="#–ü—Ä–∏–º–µ—Ä—ã-–∫–æ–¥–∞-9">–ü—Ä–∏–º–µ—Ä—ã –∫–æ–¥–∞</a></h3>
<p>–í –ª–µ–∫—Ü–∏–∏ –±—ã–ª–∏ –ø—Ä–æ–¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã —Å–ª–µ–¥—É—é—â–∏–µ –ø—Ä–∏–º–µ—Ä—ã:</p>
<ol>
<li><strong>–ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è</strong> ‚Äî —á–µ—Ä–µ–∑ –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ –∫–ª–∞—Å—Å–æ–≤</li>
<li><strong>–ü—Ä–æ—Ç–æ—Ç–∏–ø–Ω–æ–µ –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ</strong> ‚Äî —É—Å—Ç–∞—Ä–µ–≤—à–∏–π –ø–æ–¥—Ö–æ–¥ (–¥–ª—è —Å–ø—Ä–∞–≤–∫–∏)</li>
<li><strong>–ö–æ–ª–ª–µ–∫—Ü–∏—è —Ñ—É–Ω–∫—Ü–∏–π</strong> ‚Äî —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π JavaScript-–ø–æ–¥—Ö–æ–¥</li>
<li><strong>–î–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω–∞—è —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞</strong> ‚Äî –º–µ—Ç–∞–ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ</li>
<li><strong>–î–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω–∞—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è</strong> ‚Äî —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ –∏–¥–µ–∏</li>
</ol>
<h3 id="–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–∞—è-–ø—Ä–∞–∫—Ç–∏–∫–∞"><a class="header" href="#–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–∞—è-–ø—Ä–∞–∫—Ç–∏–∫–∞">–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–∞—è –ø—Ä–∞–∫—Ç–∏–∫–∞</a></h3>
<ul>
<li>–ò–∑—É—á–∏—Ç—å –ø—Ä–∏–º–µ—Ä—ã –∏–∑ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è</li>
<li>–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–µ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ –¥–ª—è —Ä–µ–∞–ª—å–Ω—ã—Ö –∑–∞–¥–∞—á</li>
<li>–ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å —Å–æ–∑–¥–∞—Ç—å –≤–ª–æ–∂–µ–Ω–Ω—ã–µ –∫–æ–ª–ª–µ–∫—Ü–∏–∏ —Å—Ç—Ä–∞—Ç–µ–≥–∏–π</li>
<li>–ò–∑—É—á–∏—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Strategy –≤ –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö –±–∏–±–ª–∏–æ—Ç–µ–∫–∞—Ö</li>
</ul>
<h3 id="–í–æ–ø—Ä–æ—Å—ã-–¥–ª—è-—Å–∞–º–æ–ø—Ä–æ–≤–µ—Ä–∫–∏"><a class="header" href="#–í–æ–ø—Ä–æ—Å—ã-–¥–ª—è-—Å–∞–º–æ–ø—Ä–æ–≤–µ—Ä–∫–∏">–í–æ–ø—Ä–æ—Å—ã –¥–ª—è —Å–∞–º–æ–ø—Ä–æ–≤–µ—Ä–∫–∏</a></h3>
<ol>
<li>–ß–µ–º –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è Strategy –≤ JavaScript –æ—Ç Java/C#?</li>
<li>–ö–æ–≥–¥–∞ —Å–ª–µ–¥—É–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–æ–ª–ª–µ–∫—Ü–∏–∏ –≤–º–µ—Å—Ç–æ –∫–ª–∞—Å—Å–æ–≤?</li>
<li>–ß—Ç–æ —Ç–∞–∫–æ–µ –¥–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω–∞—è —Å—Ç—Ä–∞—Ç–µ–≥–∏—è?</li>
<li>–ö–∞–∫ —Å–≤—è–∑–∞–Ω—ã Strategy –∏ –ê–±—Å—Ç—Ä–∞–∫—Ç–Ω–∞—è —Ñ–∞–±—Ä–∏–∫–∞?</li>
<li>–ö–∞–∫–∏–µ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ –º–µ—Ç–æ–¥—ã JavaScript –∏—Å–ø–æ–ª—å–∑—É—é—Ç –ø–∞—Ç—Ç–µ—Ä–Ω Strategy?</li>
</ol>
<hr />
<p><strong>–ö–æ–Ω–µ—Ü –∫–æ–Ω—Å–ø–µ–∫—Ç–∞ –ª–µ–∫—Ü–∏–∏</strong></p>
<p><em>–ü–∞—Ç—Ç–µ—Ä–Ω –°—Ç—Ä–∞—Ç–µ–≥–∏—è ‚Äî –æ–¥–∏–Ω –∏–∑ —Å–∞–º—ã—Ö –ø–æ–ª–µ–∑–Ω—ã—Ö –∏ —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤ –≤ JavaScript. –û—Å–≤–æ–∏–≤ –µ–≥–æ, –≤—ã —Å–º–æ–∂–µ—Ç–µ –ø–∏—Å–∞—Ç—å –±–æ–ª–µ–µ –≥–∏–±–∫–∏–π, —Ä–∞—Å—à–∏—Ä—è–µ–º—ã–π –∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–π –∫–æ–¥.</em></p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="–ü–∞—Ç—Ç–µ—Ä–Ω—ã-–∏–Ω—Å—Ç–∞–Ω—Ü–∏—Ä–æ–≤–∞–Ω–∏—è-–ü—É–ª-–æ–±—ä–µ–∫—Ç–æ–≤-–∏-–§–∞–±—Ä–∏–∫–∞-1"><a class="header" href="#–ü–∞—Ç—Ç–µ—Ä–Ω—ã-–∏–Ω—Å—Ç–∞–Ω—Ü–∏—Ä–æ–≤–∞–Ω–∏—è-–ü—É–ª-–æ–±—ä–µ–∫—Ç–æ–≤-–∏-–§–∞–±—Ä–∏–∫–∞-1">–ü–∞—Ç—Ç–µ—Ä–Ω—ã –∏–Ω—Å—Ç–∞–Ω—Ü–∏—Ä–æ–≤–∞–Ω–∏—è: –ü—É–ª –æ–±—ä–µ–∫—Ç–æ–≤ –∏ –§–∞–±—Ä–∏–∫–∞</a></h1>
<h2 id="–û–±–∑–æ—Ä-16"><a class="header" href="#–û–±–∑–æ—Ä-16">–û–±–∑–æ—Ä</a></h2>
<p>–≠—Ç–∞ –ª–µ–∫—Ü–∏—è –ø–æ—Å–≤—è—â–µ–Ω–∞ –∏–∑—É—á–µ–Ω–∏—é –¥–≤—É—Ö —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–∞–ª—å–Ω—ã—Ö –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤ —Å–æ–∑–¥–∞–Ω–∏—è –æ–±—ä–µ–∫—Ç–æ–≤ –≤ JavaScript/TypeScript:</p>
<ul>
<li><strong>Factory (–§–∞–±—Ä–∏–∫–∞)</strong> - –ø–∞—Ç—Ç–µ—Ä–Ω –¥–ª—è –∞–±—Å—Ç—Ä–∞–≥–∏—Ä–æ–≤–∞–Ω–∏—è –ø—Ä–æ—Ü–µ—Å—Å–∞ —Å–æ–∑–¥–∞–Ω–∏—è –æ–±—ä–µ–∫—Ç–æ–≤</li>
<li><strong>Object Pool (–ü—É–ª –æ–±—ä–µ–∫—Ç–æ–≤)</strong> - –ø–∞—Ç—Ç–µ—Ä–Ω –¥–ª—è –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –æ–±—ä–µ–∫—Ç–æ–≤ –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –ø–∞–º—è—Ç–∏</li>
</ul>
<p>–û–±–∞ –ø–∞—Ç—Ç–µ—Ä–Ω–∞ —è–≤–ª—è—é—Ç—Å—è –∫–ª—é—á–µ–≤—ã–º–∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º–∏ –¥–ª—è —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–≥–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∏–Ω—Å—Ç–∞–Ω—Ü–∏—Ä–æ–≤–∞–Ω–∏–µ–º –æ–±—ä–µ–∫—Ç–æ–≤ –≤ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö JavaScript-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è—Ö.</p>
<hr />
<h2 id="1-–ò–Ω—Å—Ç–∞–Ω—Ü–∏—Ä–æ–≤–∞–Ω–∏–µ-—á–µ—Ä–µ–∑-–∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä"><a class="header" href="#1-–ò–Ω—Å—Ç–∞–Ω—Ü–∏—Ä–æ–≤–∞–Ω–∏–µ-—á–µ—Ä–µ–∑-–∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä">1. –ò–Ω—Å—Ç–∞–Ω—Ü–∏—Ä–æ–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä</a></h2>
<h3 id="–ë–∞–∑–æ–≤—ã–π-–ø–æ–¥—Ö–æ–¥"><a class="header" href="#–ë–∞–∑–æ–≤—ã–π-–ø–æ–¥—Ö–æ–¥">–ë–∞–∑–æ–≤—ã–π –ø–æ–¥—Ö–æ–¥</a></h3>
<p>–°–∞–º—ã–π –ø—Ä–æ—Å—Ç–æ–π —Å–ø–æ—Å–æ–± —Å–æ–∑–¥–∞–Ω–∏—è –æ–±—ä–µ–∫—Ç–æ–≤ - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞ –∫–ª–∞—Å—Å–∞ —á–µ—Ä–µ–∑ –æ–ø–µ—Ä–∞—Ç–æ—Ä <code>new</code>:</p>
<pre><code class="language-javascript">// –ü—Ä–æ—Å—Ç–æ–π –∫–ª–∞—Å—Å
class Connection {
  constructor(index) {
    this.url = `https://example.com/connection-${index}`;
  }
}

// –°–æ–∑–¥–∞–Ω–∏–µ —ç–∫–∑–µ–º–ø–ª—è—Ä–∞
const conn = new Connection(1);
</code></pre>
<p><strong>–ö–ª—é—á–µ–≤—ã–µ –º–æ–º–µ–Ω—Ç—ã:</strong></p>
<ul>
<li>–ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ –æ–ø–µ—Ä–∞—Ç–æ—Ä <code>new</code></li>
<li>–ö–∞–∂–¥—ã–π –≤—ã–∑–æ–≤ —Å–æ–∑–¥–∞–µ—Ç –Ω–æ–≤—ã–π —ç–∫–∑–µ–º–ø–ª—è—Ä –≤ –ø–∞–º—è—Ç–∏</li>
<li>–ü—Ä—è–º–æ–µ –∏–Ω—Å—Ç–∞–Ω—Ü–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–≤—è–∑—ã–≤–∞–µ—Ç –∫–æ–¥ —Å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–º –∫–ª–∞—Å—Å–æ–º</li>
</ul>
<hr />
<h2 id="2-–ü–∞—Ç—Ç–µ—Ä–Ω-factory-–§–∞–±—Ä–∏–∫–∞"><a class="header" href="#2-–ü–∞—Ç—Ç–µ—Ä–Ω-factory-–§–∞–±—Ä–∏–∫–∞">2. –ü–∞—Ç—Ç–µ—Ä–Ω Factory (–§–∞–±—Ä–∏–∫–∞)</a></h2>
<h3 id="–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ-10"><a class="header" href="#–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ-10">–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ</a></h3>
<p><strong>–§–∞–±—Ä–∏–∫–∞</strong> - —ç—Ç–æ –ª—é–±–∞—è —Ñ—É–Ω–∫—Ü–∏—è –∏–ª–∏ –º–µ—Ç–æ–¥, –∫–æ—Ç–æ—Ä—ã–π –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —ç–∫–∑–µ–º–ø–ª—è—Ä –æ–±—ä–µ–∫—Ç–∞. –í JavaScript —Ñ–∞–±—Ä–∏–∫–∏ –±–æ–ª–µ–µ –≥–∏–±–∫–∏–µ, —á–µ–º –≤ –¥—Ä—É–≥–∏—Ö —è–∑—ã–∫–∞—Ö, –±–ª–∞–≥–æ–¥–∞—Ä—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–π –ø—Ä–∏—Ä–æ–¥–µ —è–∑—ã–∫–∞.</p>
<h3 id="–í–∞—Ä–∏–∞–Ω—Ç—ã-—Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏-—Ñ–∞–±—Ä–∏–∫"><a class="header" href="#–í–∞—Ä–∏–∞–Ω—Ç—ã-—Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏-—Ñ–∞–±—Ä–∏–∫">–í–∞—Ä–∏–∞–Ω—Ç—ã —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —Ñ–∞–±—Ä–∏–∫</a></h3>
<h4 id="21-–§–∞–±—Ä–∏–∫–∞-–∫–∞–∫-–æ–±—ã—á–Ω–∞—è-—Ñ—É–Ω–∫—Ü–∏—è"><a class="header" href="#21-–§–∞–±—Ä–∏–∫–∞-–∫–∞–∫-–æ–±—ã—á–Ω–∞—è-—Ñ—É–Ω–∫—Ü–∏—è">2.1 –§–∞–±—Ä–∏–∫–∞ –∫–∞–∫ –æ–±—ã—á–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è</a></h4>
<pre><code class="language-javascript">// –ü—Ä–æ—Å—Ç–∞—è —Ñ—É–Ω–∫—Ü–∏—è-—Ñ–∞–±—Ä–∏–∫–∞, –≤–æ–∑–≤—Ä–∞—â–∞—é—â–∞—è –ª–∏—Ç–µ—Ä–∞–ª –æ–±—ä–µ–∫—Ç–∞
function createUser(name, age) {
  return {
    name,
    age,
    greet() {
      console.log(`Hello, I'm ${this.name}`);
    }
  };
}

const user = createUser('Alice', 30);
</code></pre>
<p><strong>–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:</strong></p>
<ul>
<li>–ù–µ —Ç—Ä–µ–±—É–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è <code>new</code></li>
<li>–ú–æ–∂–µ—Ç –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å –ª—é–±–æ–π —Ç–∏–ø –æ–±—ä–µ–∫—Ç–∞</li>
<li>–°–∫—Ä—ã–≤–∞–µ—Ç –¥–µ—Ç–∞–ª–∏ —Å–æ–∑–¥–∞–Ω–∏—è –æ—Ç –∫–ª–∏–µ–Ω—Ç–∞</li>
</ul>
<h4 id="22-–°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π-–º–µ—Ç–æ–¥-–∫–ª–∞—Å—Å–∞"><a class="header" href="#22-–°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π-–º–µ—Ç–æ–¥-–∫–ª–∞—Å—Å–∞">2.2 –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π –º–µ—Ç–æ–¥ –∫–ª–∞—Å—Å–∞</a></h4>
<pre><code class="language-javascript">class Connection {
  static create(index) {
    return new Connection(index);
  }

  constructor(index) {
    this.url = `https://example.com/connection-${index}`;
  }
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
const conn = Connection.create(1);
</code></pre>
<p><strong>–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:</strong></p>
<ul>
<li>–Ø–≤–Ω–æ–µ —É–∫–∞–∑–∞–Ω–∏–µ –Ω–∞ —Ñ–∞–±—Ä–∏—á–Ω—ã–π –º–µ—Ç–æ–¥</li>
<li>–õ–æ–≥–∏—á–µ—Å–∫–∏ —Å–≤—è–∑–∞–Ω —Å –∫–ª–∞—Å—Å–æ–º</li>
<li>–ú–æ–∂–µ—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—É—é –ª–æ–≥–∏–∫—É –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏</li>
</ul>
<h4 id="23-–£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–∞—è-—Ñ–∞–±—Ä–∏–∫–∞-–≤—ã—Å—à–µ–≥–æ-–ø–æ—Ä—è–¥–∫–∞-1"><a class="header" href="#23-–£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–∞—è-—Ñ–∞–±—Ä–∏–∫–∞-–≤—ã—Å—à–µ–≥–æ-–ø–æ—Ä—è–¥–∫–∞-1">2.3 –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–∞—è —Ñ–∞–±—Ä–∏–∫–∞ –≤—ã—Å—à–µ–≥–æ –ø–æ—Ä—è–¥–∫–∞</a></h4>
<p>–ú–æ–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é, –∫–æ—Ç–æ—Ä–∞—è –ø—Ä–µ–≤—Ä–∞—â–∞–µ—Ç –ª—é–±–æ–π –∫–ª–∞—Å—Å –≤ —Ñ–∞–±—Ä–∏–∫—É:</p>
<pre><code class="language-javascript">// –§—É–Ω–∫—Ü–∏—è factify - –ø—Ä–µ–≤—Ä–∞—â–∞–µ—Ç –∫–ª–∞—Å—Å –≤ —Ñ–∞–±—Ä–∏–∫—É
const factify = (Class) =&gt; (...args) =&gt; new Class(...args);

// –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ
class Connection {
  constructor(index) {
    this.url = `https://example.com/connection-${index}`;
  }
}

const createConnection = factify(Connection);

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
const conn1 = createConnection(1);
const conn2 = createConnection(2);
</code></pre>
<p><strong>–ö–ª—é—á–µ–≤—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:</strong></p>
<ul>
<li><code>factify</code> –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –∫–ª–∞—Å—Å –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ñ—É–Ω–∫—Ü–∏—é</li>
<li>–í–æ–∑–≤—Ä–∞—â–∞–µ–º–∞—è —Ñ—É–Ω–∫—Ü–∏—è —Å–æ–∑–¥–∞–µ—Ç —ç–∫–∑–µ–º–ø–ª—è—Ä—ã –±–µ–∑ —è–≤–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è <code>new</code></li>
<li>–£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ –¥–ª—è –ª—é–±–æ–≥–æ –∫–ª–∞—Å—Å–∞</li>
<li>–ö–ª–∞—Å—Å –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è –≤ –∑–∞–º—ã–∫–∞–Ω–∏–µ</li>
</ul>
<h3 id="24-–§–∞–±—Ä–∏–∫–∞-—Å-—Å–æ—Å—Ç–æ—è–Ω–∏–µ–º-–Ω–∞-–æ—Å–Ω–æ–≤–µ-–∑–∞–º—ã–∫–∞–Ω–∏—è"><a class="header" href="#24-–§–∞–±—Ä–∏–∫–∞-—Å-—Å–æ—Å—Ç–æ—è–Ω–∏–µ–º-–Ω–∞-–æ—Å–Ω–æ–≤–µ-–∑–∞–º—ã–∫–∞–Ω–∏—è">2.4 –§–∞–±—Ä–∏–∫–∞ —Å —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º (–Ω–∞ –æ—Å–Ω–æ–≤–µ –∑–∞–º—ã–∫–∞–Ω–∏—è)</a></h3>
<pre><code class="language-javascript">// –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–∞—è —Ñ–∞–±—Ä–∏–∫–∞ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –∑–∞–º—ã–∫–∞–Ω–∏—è
const alternativeFactory = (() =&gt; {
  let index = 0; // –°—á–µ—Ç—á–∏–∫ –≤ –∑–∞–º—ã–∫–∞–Ω–∏–∏

  return () =&gt; {
    return new Connection(index++);
  };
})();

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
const conn1 = alternativeFactory(); // Connection —Å index = 0
const conn2 = alternativeFactory(); // Connection —Å index = 1
</code></pre>
<p><strong>–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:</strong></p>
<ul>
<li>–°–æ—Å—Ç–æ—è–Ω–∏–µ (<code>index</code>) —Å–∫—Ä—ã—Ç–æ –≤ –∑–∞–º—ã–∫–∞–Ω–∏–∏</li>
<li>–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∏–Ω–∫—Ä–µ–º–µ–Ω—Ç —Å—á–µ—Ç—á–∏–∫–∞</li>
<li>–ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è</li>
</ul>
<h4 id="25-–§–∞–±—Ä–∏–∫–∞-–∫–∞–∫-–∫–ª–∞—Å—Å"><a class="header" href="#25-–§–∞–±—Ä–∏–∫–∞-–∫–∞–∫-–∫–ª–∞—Å—Å">2.5 –§–∞–±—Ä–∏–∫–∞ –∫–∞–∫ –∫–ª–∞—Å—Å</a></h4>
<pre><code class="language-javascript">class ConnectionFactory {
  constructor() {
    this.index = 0;
  }

  create() {
    return new Connection(this.index++);
  }
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
const factory = new ConnectionFactory();
const conn1 = factory.create();
const conn2 = factory.create();
</code></pre>
<p><strong>–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:</strong></p>
<ul>
<li>–ß–µ—Ç–∫–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å —è–≤–Ω—ã–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º</li>
<li>–ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–ª—è—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –º–µ—Ç–æ–¥—ã</li>
<li>–õ–µ–≥—á–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –∏ —Ä–∞—Å—à–∏—Ä—è—Ç—å</li>
</ul>
<h3 id="–ú–µ—Ç–∞–ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ-–≤-—Ñ–∞–±—Ä–∏–∫–∞—Ö"><a class="header" href="#–ú–µ—Ç–∞–ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ-–≤-—Ñ–∞–±—Ä–∏–∫–∞—Ö">–ú–µ—Ç–∞–ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ —Ñ–∞–±—Ä–∏–∫–∞—Ö</a></h3>
<p>–§–∞–±—Ä–∏–∫–∏ –≤ JavaScript –º–æ–≥—É—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ä–∞–∑–ª–∏—á–Ω—ã–µ —Ç–µ—Ö–Ω–∏–∫–∏ –º–µ—Ç–∞–ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è:</p>
<pre><code class="language-javascript">// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Object.create
function createWithPrototype(proto, props) {
  const obj = Object.create(proto);
  Object.assign(obj, props);
  return obj;
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Object.defineProperties
function createWithDescriptors(props) {
  return Object.defineProperties({}, {
    name: {
      value: props.name,
      writable: true,
      enumerable: true
    }
  });
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Object.setPrototypeOf
function createWithSetPrototype(obj, proto) {
  Object.setPrototypeOf(obj, proto);
  return obj;
}
</code></pre>
<p><strong>–í–∞–∂–Ω–æ–µ –∑–∞–º–µ—á–∞–Ω–∏–µ:</strong></p>
<ul>
<li>–í –ø–ª–∞—Ç—Ñ–æ—Ä–º–µ–Ω–Ω–æ–º –∫–æ–¥–µ –¥–æ–ø—É—Å—Ç–∏–º–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ "–º–∞–≥–∏–∏" –∏ –º–µ—Ç–∞–ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è</li>
<li>–í –ø—Ä–∏–∫–ª–∞–¥–Ω–æ–º –∫–æ–¥–µ —Ñ–∞–±—Ä–∏–∫–∏ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –ø—Ä–æ—Å—Ç—ã–º–∏ –∏ –ø–æ–Ω—è—Ç–Ω—ã–º–∏</li>
<li>–ü—Ä–µ–¥–ø–æ—á—Ç–∏—Ç–µ–ª—å–Ω—ã —è–≤–Ω—ã–µ –∏ —á–∏—Ç–∞–µ–º—ã–µ —Ä–µ—à–µ–Ω–∏—è</li>
</ul>
<hr />
<h2 id="3-–ü–∞—Ç—Ç–µ—Ä–Ω-object-pool-–ü—É–ª-–æ–±—ä–µ–∫—Ç–æ–≤"><a class="header" href="#3-–ü–∞—Ç—Ç–µ—Ä–Ω-object-pool-–ü—É–ª-–æ–±—ä–µ–∫—Ç–æ–≤">3. –ü–∞—Ç—Ç–µ—Ä–Ω Object Pool (–ü—É–ª –æ–±—ä–µ–∫—Ç–æ–≤)</a></h2>
<h3 id="–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ-–∏-–Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ"><a class="header" href="#–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ-–∏-–Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ">–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∏ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ</a></h3>
<p><strong>–ü—É–ª –æ–±—ä–µ–∫—Ç–æ–≤</strong> - —ç—Ç–æ –ø–∞—Ç—Ç–µ—Ä–Ω, –∫–æ—Ç–æ—Ä—ã–π —Å–æ–∑–¥–∞–µ—Ç –∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –∫–æ–ª–ª–µ–∫—Ü–∏—é –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤. –û—Å–Ω–æ–≤–Ω–∞—è —Ü–µ–ª—å - –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç—å—é.</p>
<h3 id="–û—Å–Ω–æ–≤–Ω—ã–µ-–ø—Ä–∏–Ω—Ü–∏–ø—ã-—Ä–∞–±–æ—Ç—ã"><a class="header" href="#–û—Å–Ω–æ–≤–Ω—ã–µ-–ø—Ä–∏–Ω—Ü–∏–ø—ã-—Ä–∞–±–æ—Ç—ã">–û—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã —Ä–∞–±–æ—Ç—ã</a></h3>
<ol>
<li><strong>–ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ</strong> - –ø—É–ª —Å–æ–∑–¥–∞–µ—Ç –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ–±—ä–µ–∫—Ç–æ–≤ –∑–∞—Ä–∞–Ω–µ–µ</li>
<li><strong>–í—ã–¥–∞—á–∞ –ø–æ –∑–∞–ø—Ä–æ—Å—É</strong> - –æ–±—ä–µ–∫—Ç—ã –≤—ã–¥–∞—é—Ç—Å—è –∏–∑ –ø—É–ª–∞ –ø–æ –º–µ—Ä–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏</li>
<li><strong>–í–æ–∑–≤—Ä–∞—Ç –¥–ª—è –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è</strong> - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç—Å—è –≤ –ø—É–ª</li>
<li><strong>–≠–∫–æ–Ω–æ–º–∏—è —Ä–µ—Å—É—Ä—Å–æ–≤</strong> - –∏–∑–±–µ–≥–∞–µ–º –Ω–∞–∫–ª–∞–¥–Ω—ã—Ö —Ä–∞—Å—Ö–æ–¥–æ–≤ –Ω–∞ —Å–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤</li>
</ol>
<h3 id="31-–ü—Ä–æ—Å—Ç–µ–π—à–∏–π-—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π-–ø—É–ª"><a class="header" href="#31-–ü—Ä–æ—Å—Ç–µ–π—à–∏–π-—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π-–ø—É–ª">3.1 –ü—Ä–æ—Å—Ç–µ–π—à–∏–π —Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –ø—É–ª</a></h3>
<h4 id="–ë–∞–∑–æ–≤–∞—è-—Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è"><a class="header" href="#–ë–∞–∑–æ–≤–∞—è-—Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è">–ë–∞–∑–æ–≤–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è</a></h4>
<pre><code class="language-javascript">// –ü—Ä–æ—Å—Ç–µ–π—à–∏–π –ø—É–ª –æ–±—ä–µ–∫—Ç–æ–≤
const pool = (factory) =&gt; {
  // –ö–æ–ª–ª–µ–∫—Ü–∏—è –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –æ–±—ä–µ–∫—Ç–æ–≤
  const items = [];

  // –ü—Ä–µ–¥–∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ –ø—É–ª–∞
  for (let i = 0; i &lt; 10; i++) {
    items.push(factory());
  }

  // –í–æ–∑–≤—Ä–∞—â–∞–µ–º —Ñ—É–Ω–∫—Ü–∏—é –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ø—É–ª–æ–º
  return (instance) =&gt; {
    if (instance) {
      // –ï—Å–ª–∏ –ø–µ—Ä–µ–¥–∞–Ω –æ–±—ä–µ–∫—Ç - –≤–æ–∑–≤—Ä–∞—â–∞–µ–º –µ–≥–æ –≤ –ø—É–ª
      items.push(instance);
      console.log('Returned to pool, size:', items.length);
    } else {
      // –ï—Å–ª–∏ –æ–±—ä–µ–∫—Ç –Ω–µ –ø–µ—Ä–µ–¥–∞–Ω - –≤—ã–¥–∞–µ–º –∏–∑ –ø—É–ª–∞
      const item = items.pop();
      console.log('Taken from pool, size:', items.length);
      return item;
    }
  };
};
</code></pre>
<h4 id="–ü—Ä–∏–º–µ—Ä-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è-—Å-–º–∞—Å—Å–∏–≤–∞–º–∏"><a class="header" href="#–ü—Ä–∏–º–µ—Ä-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è-—Å-–º–∞—Å—Å–∏–≤–∞–º–∏">–ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Å –º–∞—Å—Å–∏–≤–∞–º–∏</a></h4>
<pre><code class="language-javascript">// –§–∞–±—Ä–∏–∫–∞ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –º–∞—Å—Å–∏–≤–æ–≤ –∏–∑ 1000 —ç–ª–µ–º–µ–Ω—Ç–æ–≤
const arrayFactory = () =&gt; new Array(1000).fill(0);

// –°–æ–∑–¥–∞–Ω–∏–µ –ø—É–ª–∞
const arrayPool = pool(arrayFactory);

// –ü–æ–ª—É—á–µ–Ω–∏–µ –º–∞—Å—Å–∏–≤–∞ –∏–∑ –ø—É–ª–∞
const arr1 = arrayPool();
const result = arr1.reduce((sum, val) =&gt; sum + val, 0);
console.log('Result:', result); // 0 (–≤—Å–µ —ç–ª–µ–º–µ–Ω—Ç—ã - –Ω—É–ª–∏)

// –ü–æ–ª—É—á–µ–Ω–∏–µ –µ—â–µ –æ–¥–Ω–æ–≥–æ –º–∞—Å—Å–∏–≤–∞
const arr2 = arrayPool();

// –í–æ–∑–≤—Ä–∞—Ç –º–∞—Å—Å–∏–≤–∞ –≤ –ø—É–ª
arrayPool(arr1);
</code></pre>
<p><strong>–ö–ª—é—á–µ–≤–∞—è –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç—å:</strong> –û–¥–Ω–∞ –∏ —Ç–∞ –∂–µ —Ñ—É–Ω–∫—Ü–∏—è –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∏ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è, –∏ –¥–ª—è –≤–æ–∑–≤—Ä–∞—Ç–∞ –æ–±—ä–µ–∫—Ç–æ–≤ –≤ –ø—É–ª.</p>
<h3 id="32-–ü—É–ª-—Å-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º-—Ñ–∞–±—Ä–∏–∫–∏-–∫–ª–∞—Å—Å–æ–≤"><a class="header" href="#32-–ü—É–ª-—Å-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º-—Ñ–∞–±—Ä–∏–∫–∏-–∫–ª–∞—Å—Å–æ–≤">3.2 –ü—É–ª —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º —Ñ–∞–±—Ä–∏–∫–∏ –∫–ª–∞—Å—Å–æ–≤</a></h3>
<h4 id="–ö–ª–∞—Å—Å-connection"><a class="header" href="#–ö–ª–∞—Å—Å-connection">–ö–ª–∞—Å—Å Connection</a></h4>
<pre><code class="language-javascript">class Connection {
  constructor(index) {
    this.url = `https://example.com/connection-${index}`;
  }
}
</code></pre>
<h4 id="–§–∞–±—Ä–∏–∫–∞-–¥–ª—è-connection"><a class="header" href="#–§–∞–±—Ä–∏–∫–∞-–¥–ª—è-connection">–§–∞–±—Ä–∏–∫–∞ –¥–ª—è Connection</a></h4>
<pre><code class="language-javascript">class ConnectionFactory {
  constructor() {
    this.index = 0;
  }

  create() {
    return new Connection(this.index++);
  }
}

// –°–æ–∑–¥–∞–Ω–∏–µ —Ñ–∞–±—Ä–∏–∫–∏ –∏ –ø—É–ª–∞
const factory = new ConnectionFactory();
const connectionPool = pool(factory.create.bind(factory));

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
const conn1 = connectionPool(); // –ü–æ–ª—É—á–∞–µ–º —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ
console.log(conn1.url); // https://example.com/connection-0

const conn2 = connectionPool(); // –ü–æ–ª—É—á–∞–µ–º –µ—â–µ –æ–¥–Ω–æ
console.log(conn2.url); // https://example.com/connection-1

connectionPool(conn1); // –í–æ–∑–≤—Ä–∞—â–∞–µ–º –≤ –ø—É–ª
</code></pre>
<h3 id="33-–ü—É–ª-—Å-–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º-—Å–æ–∑–¥–∞–Ω–∏–µ–º-–Ω–æ–≤—ã—Ö-–æ–±—ä–µ–∫—Ç–æ–≤"><a class="header" href="#33-–ü—É–ª-—Å-–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º-—Å–æ–∑–¥–∞–Ω–∏–µ–º-–Ω–æ–≤—ã—Ö-–æ–±—ä–µ–∫—Ç–æ–≤">3.3 –ü—É–ª —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º —Å–æ–∑–¥–∞–Ω–∏–µ–º –Ω–æ–≤—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤</a></h3>
<p>–ï—Å–ª–∏ –ø—É–ª –∏—Å—á–µ—Ä–ø–∞–Ω, –º–æ–∂–Ω–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞–≤–∞—Ç—å –Ω–æ–≤—ã–µ –æ–±—ä–µ–∫—Ç—ã:</p>
<pre><code class="language-javascript">const poolWithFactory = (factory) =&gt; {
  const items = [];

  // –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ–µ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ
  for (let i = 0; i &lt; 5; i++) {
    items.push(factory());
  }

  return (instance) =&gt; {
    if (instance) {
      // –í–æ–∑–≤—Ä–∞—Ç –≤ –ø—É–ª
      items.push(instance);
      console.log('Returned, pool size:', items.length);
    } else {
      // –ü–æ–ø—ã—Ç–∫–∞ –≤–∑—è—Ç—å –∏–∑ –ø—É–ª–∞
      let item = items.pop();

      // –ï—Å–ª–∏ –ø—É–ª –ø—É—Å—Ç - —Å–æ–∑–¥–∞–µ–º –Ω–æ–≤—ã–π –æ–±—ä–µ–∫—Ç
      if (!item) {
        item = factory();
        console.log('Pool empty, creating new instance');
      }

      console.log('Taken, pool size:', items.length);
      return item;
    }
  };
};
</code></pre>
<p><strong>–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:</strong></p>
<ul>
<li>–ü—É–ª –Ω–µ –±–ª–æ–∫–∏—Ä—É–µ—Ç —Ä–∞–±–æ—Ç—É –ø—Ä–∏ –∏—Å—á–µ—Ä–ø–∞–Ω–∏–∏ –æ–±—ä–µ–∫—Ç–æ–≤</li>
<li>–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏</li>
<li>–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤–æ–∑–≤—Ä–∞—â–µ–Ω–Ω—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤</li>
</ul>
<p><strong>–ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞:</strong></p>
<ul>
<li>–ù–µ–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–π —Ä–æ—Å—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —Å–æ–∑–¥–∞–Ω–Ω—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤</li>
<li>–ù–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç—å –∫–æ–Ω—Ç—Ä–æ–ª—è –≤–µ—Ä—Ö–Ω–µ–≥–æ –ª–∏–º–∏—Ç–∞</li>
</ul>
<h3 id="34-–ü—É–ª-—Å-–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è–º–∏-—Ä–∞–∑–º–µ—Ä–∞"><a class="header" href="#34-–ü—É–ª-—Å-–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è–º–∏-—Ä–∞–∑–º–µ—Ä–∞">3.4 –ü—É–ª —Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è–º–∏ —Ä–∞–∑–º–µ—Ä–∞</a></h3>
<h4 id="–ö–æ–Ω—Ü–µ–ø—Ü–∏—è-—Ç—Ä–µ—Ö-—É—Ä–æ–≤–Ω–µ–π"><a class="header" href="#–ö–æ–Ω—Ü–µ–ø—Ü–∏—è-—Ç—Ä–µ—Ö-—É—Ä–æ–≤–Ω–µ–π">–ö–æ–Ω—Ü–µ–ø—Ü–∏—è —Ç—Ä–µ—Ö —É—Ä–æ–≤–Ω–µ–π</a></h4>
<p>–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ –ø—É–ª—ã —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É—é—Ç —Ç—Ä–∏ —É—Ä–æ–≤–Ω—è —Ä–∞–∑–º–µ—Ä–∞:</p>
<ol>
<li><strong>–ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä (min)</strong> - –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ–±—ä–µ–∫—Ç–æ–≤</li>
<li><strong>–ù–æ—Ä–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä (normal)</strong> - –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ, —Å–æ–∑–¥–∞–≤–∞–µ–º–æ–µ –ø—Ä–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏</li>
<li><strong>–ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä (max)</strong> - –≤–µ—Ä—Ö–Ω–∏–π –ª–∏–º–∏—Ç, –∑–∞ –∫–æ—Ç–æ—Ä—ã–π –ø—É–ª –Ω–µ –¥–æ–ª–∂–µ–Ω –≤—ã—Ö–æ–¥–∏—Ç—å</li>
</ol>
<pre><code class="language-javascript">const poolWithLimits = (factory, min = 5, normal = 10, max = 15) =&gt; {
  const items = [];
  let totalCreated = 0;

  // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—É–ª–∞ –Ω–æ—Ä–º–∞–ª—å–Ω—ã–º —Ä–∞–∑–º–µ—Ä–æ–º
  for (let i = 0; i &lt; normal; i++) {
    items.push(factory());
    totalCreated++;
  }

  return (instance) =&gt; {
    if (instance) {
      // –í–æ–∑–≤—Ä–∞—Ç –≤ –ø—É–ª (—Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –Ω–µ –ø—Ä–µ–≤—ã—à–µ–Ω –º–∞–∫—Å–∏–º—É–º)
      if (items.length &lt; max) {
        items.push(instance);
        console.log(`Returned, pool size: ${items.length}`);
      } else {
        console.log('Pool is full, discarding instance');
      }
    } else {
      // –ü–æ–ª—É—á–µ–Ω–∏–µ –∏–∑ –ø—É–ª–∞
      let item = items.pop();

      if (!item) {
        // –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π –ª–∏–º–∏—Ç
        if (totalCreated &lt; max) {
          item = factory();
          totalCreated++;
          console.log(`Created new, total: ${totalCreated}`);
        } else {
          // –î–æ—Å—Ç–∏–≥–Ω—É—Ç –º–∞–∫—Å–∏–º—É–º - –≤–æ–∑–≤—Ä–∞—â–∞–µ–º undefined
          console.log('Max limit reached');
          return undefined;
        }
      }

      console.log(`Taken, pool size: ${items.length}`);
      return item;
    }
  };
};
</code></pre>
<h4 id="–ü—Ä–∏–º–µ—Ä-—Å-—Ç–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏-–º–∞—Å—Å–∏–≤–∞–º–∏"><a class="header" href="#–ü—Ä–∏–º–µ—Ä-—Å-—Ç–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏-–º–∞—Å—Å–∏–≤–∞–º–∏">–ü—Ä–∏–º–µ—Ä —Å —Ç–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏ –º–∞—Å—Å–∏–≤–∞–º–∏</a></h4>
<pre><code class="language-javascript">// –§–∞–±—Ä–∏–∫–∞ –¥–ª—è –±—É—Ñ–µ—Ä–æ–≤ 4KB (–¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –≤–∏–¥–µ–æ/–∫—Ä–∏–ø—Ç–æ–≥—Ä–∞—Ñ–∏–∏)
const bufferFactory = () =&gt; new Uint8Array(4096);

// –°–æ–∑–¥–∞–Ω–∏–µ –ø—É–ª–∞ —Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è–º–∏
const bufferPool = poolWithLimits(bufferFactory, 5, 10, 15);

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
for (let i = 0; i &lt; 20; i++) {
  const buffer = bufferPool();
  if (buffer) {
    console.log(`Got buffer of size: ${buffer.length}`);
    // ... —Ä–∞–±–æ—Ç–∞ —Å –±—É—Ñ–µ—Ä–æ–º ...

    // –í–æ–∑–≤—Ä–∞—Ç –≤ –ø—É–ª –ø–æ—Å–ª–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
    bufferPool(buffer);
  } else {
    console.log('No buffer available');
  }
}
</code></pre>
<p><strong>–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ:</strong></p>
<ul>
<li>–û–±—Ä–∞–±–æ—Ç–∫–∞ –≤–∏–¥–µ–æ–∫–æ–Ω—Ç–µ–Ω—Ç–∞</li>
<li>–ö—Ä–∏–ø—Ç–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏</li>
<li>–°–µ—Ç–µ–≤—ã–µ –±—É—Ñ–µ—Ä—ã –¥–ª—è –ø–µ—Ä–µ–¥–∞—á–∏ –¥–∞–Ω–Ω—ã—Ö</li>
<li>–õ—é–±—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å –±–æ–ª—å—à–∏–º–∏ –±–ª–æ–∫–∞–º–∏ –ø–∞–º—è—Ç–∏</li>
</ul>
<h3 id="35-–ü—É–ª-–≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π-–≤-–∫–ª–∞—Å—Å"><a class="header" href="#35-–ü—É–ª-–≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π-–≤-–∫–ª–∞—Å—Å">3.5 –ü—É–ª, –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –≤ –∫–ª–∞—Å—Å</a></h3>
<p>–§–∞–±—Ä–∏–∫—É –º–æ–∂–Ω–æ –≤—Å—Ç—Ä–æ–∏—Ç—å –ø—Ä—è–º–æ –≤ –∫–ª–∞—Å—Å –∫–∞–∫ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π –º–µ—Ç–æ–¥:</p>
<pre><code class="language-javascript">class Connection {
  static index = 0;
  static urlBase = 'https://example.com/connection-';

  static create() {
    return new Connection(this.index++);
  }

  constructor(index) {
    this.url = Connection.urlBase + index;
  }
}

// –ü—É–ª, –∏—Å–ø–æ–ª—å–∑—É—é—â–∏–π –≤—Å—Ç—Ä–æ–µ–Ω–Ω—É—é —Ñ–∞–±—Ä–∏–∫—É
const poolBound = () =&gt; {
  const items = [];

  // –ò—Å–ø–æ–ª—å–∑—É–µ–º —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π –º–µ—Ç–æ–¥ –∫–ª–∞—Å—Å–∞
  for (let i = 0; i &lt; 5; i++) {
    items.push(Connection.create());
  }

  return (instance) =&gt; {
    if (instance) {
      items.push(instance);
    } else {
      return items.pop() || Connection.create();
    }
  };
};

const connPool = poolBound();
</code></pre>
<p><strong>–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:</strong></p>
<ul>
<li>–ü—É–ª —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Ç–∏–ø–∞ –æ–±—ä–µ–∫—Ç–æ–≤</li>
<li>–ú–µ–Ω—å—à–µ –≥–∏–±–∫–æ—Å—Ç–∏, –Ω–æ –±–æ–ª–µ–µ –ø—Ä–æ—Å—Ç–æ–π API</li>
<li>–§–∞–±—Ä–∏–∫–∞ –∏ –∫–ª–∞—Å—Å —Ç–µ—Å–Ω–æ —Å–≤—è–∑–∞–Ω—ã</li>
</ul>
<hr />
<h2 id="4-–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ-–ø—É–ª—ã-–æ–±—ä–µ–∫—Ç–æ–≤"><a class="header" href="#4-–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ-–ø—É–ª—ã-–æ–±—ä–µ–∫—Ç–æ–≤">4. –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ –ø—É–ª—ã –æ–±—ä–µ–∫—Ç–æ–≤</a></h2>
<h3 id="–ó–∞—á–µ–º-–Ω—É–∂–Ω—ã-–∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ-–ø—É–ª—ã"><a class="header" href="#–ó–∞—á–µ–º-–Ω—É–∂–Ω—ã-–∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ-–ø—É–ª—ã">–ó–∞—á–µ–º –Ω—É–∂–Ω—ã –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ –ø—É–ª—ã?</a></h3>
<p>–í —Ä–µ–∞–ª—å–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è—Ö —á–∞—Å—Ç–æ –≤–æ–∑–Ω–∏–∫–∞–µ—Ç —Å–∏—Ç—É–∞—Ü–∏—è, –∫–æ–≥–¥–∞:</p>
<ul>
<li>–ü—É–ª –≤—Ä–µ–º–µ–Ω–Ω–æ –∏—Å—á–µ—Ä–ø–∞–Ω</li>
<li>–°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞ –Ω–µ–∂–µ–ª–∞—Ç–µ–ª—å–Ω–æ (–ª–∏–º–∏—Ç –¥–æ—Å—Ç–∏–≥–Ω—É—Ç)</li>
<li>–ù—É–∂–Ω–æ –¥–æ–∂–¥–∞—Ç—å—Å—è –≤–æ–∑–≤—Ä–∞—Ç–∞ –æ–±—ä–µ–∫—Ç–∞ –≤ –ø—É–ª</li>
</ul>
<h3 id="–û—Å–Ω–æ–≤–Ω–∞—è-–∫–æ–Ω—Ü–µ–ø—Ü–∏—è-1"><a class="header" href="#–û—Å–Ω–æ–≤–Ω–∞—è-–∫–æ–Ω—Ü–µ–ø—Ü–∏—è-1">–û—Å–Ω–æ–≤–Ω–∞—è –∫–æ–Ω—Ü–µ–ø—Ü–∏—è</a></h3>
<pre><code class="language-javascript">const asyncPool = (factory, size = 10) =&gt; {
  const items = [];
  const waiting = []; // –û—á–µ—Ä–µ–¥—å –æ–∂–∏–¥–∞—é—â–∏—Ö

  // –ü—Ä–µ–¥–∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ
  for (let i = 0; i &lt; size; i++) {
    items.push(factory());
  }

  return {
    // –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–µ –ø–æ–ª—É—á–µ–Ω–∏–µ –æ–±—ä–µ–∫—Ç–∞
    async acquire() {
      // –ï—Å–ª–∏ –µ—Å—Ç—å –¥–æ—Å—Ç—É–ø–Ω—ã–π –æ–±—ä–µ–∫—Ç - –≤–æ–∑–≤—Ä–∞—â–∞–µ–º —Å—Ä–∞–∑—É
      if (items.length &gt; 0) {
        return items.pop();
      }

      // –ò–Ω–∞—á–µ - —Å–æ–∑–¥–∞–µ–º –ø—Ä–æ–º–∏—Å –∏ –∂–¥–µ–º
      return new Promise((resolve, reject) =&gt; {
        const timeout = setTimeout(() =&gt; {
          // –£–¥–∞–ª—è–µ–º –∏–∑ –æ—á–µ—Ä–µ–¥–∏ –ø–æ —Ç–∞–π–º–∞—É—Ç—É
          const index = waiting.indexOf(resolve);
          if (index &gt; -1) waiting.splice(index, 1);
          reject(new Error('Timeout waiting for pool item'));
        }, 5000); // –¢–∞–π–º–∞—É—Ç 5 —Å–µ–∫—É–Ω–¥

        waiting.push({ resolve, timeout });
      });
    },

    // –í–æ–∑–≤—Ä–∞—Ç –æ–±—ä–µ–∫—Ç–∞ –≤ –ø—É–ª
    release(instance) {
      // –ï—Å–ª–∏ –∫—Ç–æ-—Ç–æ –∂–¥–µ—Ç - –æ—Ç–¥–∞–µ–º –µ–º—É
      if (waiting.length &gt; 0) {
        const { resolve, timeout } = waiting.shift();
        clearTimeout(timeout);
        resolve(instance);
      } else {
        // –ò–Ω–∞—á–µ - –≤–æ–∑–≤—Ä–∞—â–∞–µ–º –≤ –ø—É–ª
        items.push(instance);
      }
    }
  };
};
</code></pre>
<h4 id="–ü—Ä–∏–º–µ—Ä-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è-3"><a class="header" href="#–ü—Ä–∏–º–µ—Ä-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è-3">–ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è</a></h4>
<pre><code class="language-javascript">const connectionPool = asyncPool(() =&gt; new Connection(Date.now()), 3);

async function useConnection() {
  try {
    // –ü–æ–ª—É—á–∞–µ–º —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ (–∂–¥–µ–º, –µ—Å–ª–∏ –ø—É–ª –ø—É—Å—Ç)
    const conn = await connectionPool.acquire();

    // –ò—Å–ø–æ–ª—å–∑—É–µ–º —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ
    console.log('Using connection:', conn.url);
    await doSomethingWithConnection(conn);

    // –í–æ–∑–≤—Ä–∞—â–∞–µ–º –≤ –ø—É–ª
    connectionPool.release(conn);
  } catch (error) {
    console.error('Failed to acquire connection:', error);
  }
}

// –ó–∞–ø—É—Å–∫ –º–Ω–æ–∂–µ—Å—Ç–≤–∞ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
Promise.all([
  useConnection(),
  useConnection(),
  useConnection(),
  useConnection(), // –≠—Ç–æ—Ç –±—É–¥–µ—Ç –∂–¥–∞—Ç—å
  useConnection(), // –ò —ç—Ç–æ—Ç —Ç–æ–∂–µ
]);
</code></pre>
<h3 id="–ö–ª—é—á–µ–≤—ã–µ-–æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏-–∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö-–ø—É–ª–æ–≤"><a class="header" href="#–ö–ª—é—á–µ–≤—ã–µ-–æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏-–∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö-–ø—É–ª–æ–≤">–ö–ª—é—á–µ–≤—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö –ø—É–ª–æ–≤</a></h3>
<p><strong>–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:</strong></p>
<ul>
<li>–ö–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ–º–æ–µ –æ–∂–∏–¥–∞–Ω–∏–µ –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏—è —Ä–µ—Å—É—Ä—Å–æ–≤</li>
<li>–ù–µ —Å–æ–∑–¥–∞–µ–º –∏–∑–±—ã—Ç–æ—á–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã</li>
<li>Graceful handling –ø—Ä–∏ –∏—Å—á–µ—Ä–ø–∞–Ω–∏–∏ –ø—É–ª–∞</li>
</ul>
<p><strong>–û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã:</strong></p>
<ul>
<li><strong>–¢–∞–π–º–∞—É—Ç—ã</strong> - —á—Ç–æ–±—ã –Ω–µ –∂–¥–∞—Ç—å –≤–µ—á–Ω–æ</li>
<li><strong>–û—á–µ—Ä–µ–¥—å –æ–∂–∏–¥–∞–Ω–∏—è</strong> - –¥–ª—è —Å–ø—Ä–∞–≤–µ–¥–ª–∏–≤–æ–≥–æ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è</li>
<li><strong>–û—Ç–º–µ–Ω–∞ –æ–∂–∏–¥–∞–Ω–∏—è</strong> - –ø—Ä–∏ —Ç–∞–π–º–∞—É—Ç–µ –∏–ª–∏ –æ—à–∏–±–∫–µ</li>
</ul>
<p><strong>–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ:</strong></p>
<ul>
<li>–ü—É–ª—ã –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π –∫ –±–∞–∑–∞–º –¥–∞–Ω–Ω—ã—Ö</li>
<li>–ü—É–ª—ã HTTP-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π</li>
<li>–ü—É–ª—ã –≤–æ—Ä–∫–µ—Ä–æ–≤/—Ç—Ä–µ–¥–æ–≤</li>
<li>–õ—é–±—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã</li>
</ul>
<hr />
<h2 id="5-–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ-–ø—Ä–∏–º–µ—Ä—ã-–∏-–ø–∞—Ç—Ç–µ—Ä–Ω—ã-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è"><a class="header" href="#5-–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ-–ø—Ä–∏–º–µ—Ä—ã-–∏-–ø–∞—Ç—Ç–µ—Ä–Ω—ã-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è">5. –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–∏–º–µ—Ä—ã –∏ –ø–∞—Ç—Ç–µ—Ä–Ω—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è</a></h2>
<h3 id="51-–ü—É–ª-–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π-–∫-–±–∞–∑–µ-–¥–∞–Ω–Ω—ã—Ö"><a class="header" href="#51-–ü—É–ª-–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π-–∫-–±–∞–∑–µ-–¥–∞–Ω–Ω—ã—Ö">5.1 –ü—É–ª –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö</a></h3>
<pre><code class="language-javascript">class DatabaseConnection {
  constructor(connectionString) {
    this.connectionString = connectionString;
    this.connected = false;
  }

  async connect() {
    // –ò–º–∏—Ç–∞—Ü–∏—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
    this.connected = true;
  }

  async disconnect() {
    this.connected = false;
  }

  async query(sql) {
    if (!this.connected) throw new Error('Not connected');
    // –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–∞
  }
}

// –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è —Ñ–∞–±—Ä–∏–∫–∞
async function createConnection() {
  const conn = new DatabaseConnection('postgresql://localhost/mydb');
  await conn.connect();
  return conn;
}

// –°–æ–∑–¥–∞–Ω–∏–µ –ø—É–ª–∞
const dbPool = asyncPool(createConnection, 5);

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
async function executeQuery(sql) {
  const connection = await dbPool.acquire();
  try {
    const result = await connection.query(sql);
    return result;
  } finally {
    dbPool.release(connection);
  }
}
</code></pre>
<h3 id="52-–ü—É–ª-–±—É—Ñ–µ—Ä–æ–≤-–¥–ª—è-–æ–±—Ä–∞–±–æ—Ç–∫–∏-–¥–∞–Ω–Ω—ã—Ö"><a class="header" href="#52-–ü—É–ª-–±—É—Ñ–µ—Ä–æ–≤-–¥–ª—è-–æ–±—Ä–∞–±–æ—Ç–∫–∏-–¥–∞–Ω–Ω—ã—Ö">5.2 –ü—É–ª –±—É—Ñ–µ—Ä–æ–≤ –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –¥–∞–Ω–Ω—ã—Ö</a></h3>
<pre><code class="language-javascript">// –ü—É–ª –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –±–æ–ª—å—à–∏—Ö —Ñ–∞–π–ª–æ–≤ –ø–æ —á–∞—Å—Ç—è–º
const bufferSize = 64 * 1024; // 64 KB
const bufferPool = pool(() =&gt; Buffer.alloc(bufferSize), 10, 20, 50);

async function processLargeFile(filePath) {
  const fileHandle = await fs.open(filePath, 'r');

  try {
    let bytesRead;
    do {
      const buffer = bufferPool(); // –ü–æ–ª—É—á–∞–µ–º –±—É—Ñ–µ—Ä –∏–∑ –ø—É–ª–∞

      if (!buffer) {
        await new Promise(resolve =&gt; setTimeout(resolve, 100));
        continue;
      }

      bytesRead = await fileHandle.read(buffer, 0, bufferSize);

      // –û–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö
      await processChunk(buffer.slice(0, bytesRead));

      // –í–æ–∑–≤—Ä–∞—Ç –±—É—Ñ–µ—Ä–∞ –≤ –ø—É–ª
      bufferPool(buffer);
    } while (bytesRead &gt; 0);
  } finally {
    await fileHandle.close();
  }
}
</code></pre>
<h3 id="53-–ü—É–ª-–≤–æ—Ä–∫–µ—Ä–æ–≤-–¥–ª—è-–ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–π-–æ–±—Ä–∞–±–æ—Ç–∫–∏"><a class="header" href="#53-–ü—É–ª-–≤–æ—Ä–∫–µ—Ä–æ–≤-–¥–ª—è-–ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–π-–æ–±—Ä–∞–±–æ—Ç–∫–∏">5.3 –ü—É–ª –≤–æ—Ä–∫–µ—Ä–æ–≤ –¥–ª—è –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏</a></h3>
<pre><code class="language-javascript">const { Worker } = require('worker_threads');

function createWorker() {
  return new Worker('./worker.js');
}

const workerPool = asyncPool(createWorker, 4); // 4 –≤–æ—Ä–∫–µ—Ä–∞

async function processTask(data) {
  const worker = await workerPool.acquire();

  return new Promise((resolve, reject) =&gt; {
    worker.once('message', (result) =&gt; {
      workerPool.release(worker);
      resolve(result);
    });

    worker.once('error', (error) =&gt; {
      workerPool.release(worker);
      reject(error);
    });

    worker.postMessage(data);
  });
}

// –û–±—Ä–∞–±–æ—Ç–∫–∞ –º–Ω–æ–∂–µ—Å—Ç–≤–∞ –∑–∞–¥–∞—á
const tasks = Array.from({ length: 100 }, (_, i) =&gt; ({ id: i, data: '...' }));
const results = await Promise.all(tasks.map(task =&gt; processTask(task)));
</code></pre>
<hr />
<h2 id="6-–°—Ä–∞–≤–Ω–µ–Ω–∏–µ-–ø–æ–¥—Ö–æ–¥–æ–≤"><a class="header" href="#6-–°—Ä–∞–≤–Ω–µ–Ω–∏–µ-–ø–æ–¥—Ö–æ–¥–æ–≤">6. –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –ø–æ–¥—Ö–æ–¥–æ–≤</a></h2>
<h3 id="–ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä-vs-–§–∞–±—Ä–∏–∫–∞-vs-–ü—É–ª"><a class="header" href="#–ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä-vs-–§–∞–±—Ä–∏–∫–∞-vs-–ü—É–ª">–ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä vs –§–∞–±—Ä–∏–∫–∞ vs –ü—É–ª</a></h3>
<div class="table-wrapper"><table><thead><tr><th>–ê—Å–ø–µ–∫—Ç</th><th>–ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä</th><th>–§–∞–±—Ä–∏–∫–∞</th><th>–ü—É–ª –æ–±—ä–µ–∫—Ç–æ–≤</th></tr></thead><tbody>
<tr><td><strong>–ü—Ä–æ—Å—Ç–æ—Ç–∞</strong></td><td>–û—á–µ–Ω—å –ø—Ä–æ—Å—Ç–æ–π</td><td>–°—Ä–µ–¥–Ω—è—è</td><td>–°–ª–æ–∂–Ω–∞—è</td></tr>
<tr><td><strong>–ì–∏–±–∫–æ—Å—Ç—å</strong></td><td>–ù–∏–∑–∫–∞—è</td><td>–í—ã—Å–æ–∫–∞—è</td><td>–°—Ä–µ–¥–Ω—è—è</td></tr>
<tr><td><strong>–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å</strong></td><td>–ë–∞–∑–æ–≤–∞—è</td><td>–ë–∞–∑–æ–≤–∞—è</td><td>–í—ã—Å–æ–∫–∞—è</td></tr>
<tr><td><strong>–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏</strong></td><td>–ù–µ–∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ–º–æ–µ</td><td>–ù–µ–∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ–º–æ–µ</td><td>–ö–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ–º–æ–µ</td></tr>
<tr><td><strong>–ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ</strong></td><td>–ù–µ—Ç</td><td>–ù–µ—Ç</td><td>–î–∞</td></tr>
<tr><td><strong>–°–ª–æ–∂–Ω–æ—Å—Ç—å –∫–æ–¥–∞</strong></td><td>–ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è</td><td>–ù–∏–∑–∫–∞—è</td><td>–°—Ä–µ–¥–Ω—è—è/–í—ã—Å–æ–∫–∞—è</td></tr>
</tbody></table>
</div>
<h3 id="–ö–æ–≥–¥–∞-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å-–∫–∞–∂–¥—ã–π-–ø–æ–¥—Ö–æ–¥-2"><a class="header" href="#–ö–æ–≥–¥–∞-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å-–∫–∞–∂–¥—ã–π-–ø–æ–¥—Ö–æ–¥-2">–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–∞–∂–¥—ã–π –ø–æ–¥—Ö–æ–¥</a></h3>
<p><strong>–ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä (<code>new</code>):</strong></p>
<ul>
<li>–ü—Ä–æ—Å—Ç—ã–µ –æ–±—ä–µ–∫—Ç—ã –±–µ–∑ —Å–ª–æ–∂–Ω–æ–π –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏</li>
<li>–û–±—ä–µ–∫—Ç—ã —Å –∫–æ—Ä–æ—Ç–∫–∏–º –∂–∏–∑–Ω–µ–Ω–Ω—ã–º —Ü–∏–∫–ª–æ–º</li>
<li>–ö–æ–≥–¥–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –Ω–µ –∫—Ä–∏—Ç–∏—á–Ω–∞</li>
</ul>
<p><strong>–§–∞–±—Ä–∏–∫–∞:</strong></p>
<ul>
<li>–ù—É–∂–Ω–∞ –∞–±—Å—Ç—Ä–∞–∫—Ü–∏—è –æ—Ç –ø—Ä–æ—Ü–µ—Å—Å–∞ —Å–æ–∑–¥–∞–Ω–∏—è</li>
<li>–°–æ–∑–¥–∞–Ω–∏–µ —Ç—Ä–µ–±—É–µ—Ç —Å–ª–æ–∂–Ω–æ–π –ª–æ–≥–∏–∫–∏</li>
<li>–¢—Ä–µ–±—É–µ—Ç—Å—è —Å–æ–∑–¥–∞–≤–∞—Ç—å —Ä–∞–∑–Ω—ã–µ —Ç–∏–ø—ã –æ–±—ä–µ–∫—Ç–æ–≤</li>
<li>–ù–µ–æ–±—Ö–æ–¥–∏–º–æ —Å–∫—Ä—ã—Ç—å –¥–µ—Ç–∞–ª–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏</li>
</ul>
<p><strong>–ü—É–ª –æ–±—ä–µ–∫—Ç–æ–≤:</strong></p>
<ul>
<li>–°–æ–∑–¥–∞–Ω–∏–µ –æ–±—ä–µ–∫—Ç–æ–≤ –¥–æ—Ä–æ–≥–æ—Å—Ç–æ—è—â–µ–µ (DB connections, network sockets)</li>
<li>–û–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã (–ø–∞–º—è—Ç—å, –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è)</li>
<li>–í—ã—Å–æ–∫–∞—è —á–∞—Å—Ç–æ—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è/—É–Ω–∏—á—Ç–æ–∂–µ–Ω–∏—è –æ–±—ä–µ–∫—Ç–æ–≤</li>
<li>–ù–µ–æ–±—Ö–æ–¥–∏–º–æ –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä–æ–≤–∞—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —ç–∫–∑–µ–º–ø–ª—è—Ä–æ–≤</li>
</ul>
<hr />
<h2 id="7-–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π-—Å—Ç–∏–ª—å-vs-–û–û–ü"><a class="header" href="#7-–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π-—Å—Ç–∏–ª—å-vs-–û–û–ü">7. –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π —Å—Ç–∏–ª—å vs –û–û–ü</a></h2>
<h3 id="–ó–∞–º—ã–∫–∞–Ω–∏—è-vs-–ö–ª–∞—Å—Å—ã-–¥–ª—è-—Ö—Ä–∞–Ω–µ–Ω–∏—è-—Å–æ—Å—Ç–æ—è–Ω–∏—è"><a class="header" href="#–ó–∞–º—ã–∫–∞–Ω–∏—è-vs-–ö–ª–∞—Å—Å—ã-–¥–ª—è-—Ö—Ä–∞–Ω–µ–Ω–∏—è-—Å–æ—Å—Ç–æ—è–Ω–∏—è">–ó–∞–º—ã–∫–∞–Ω–∏—è vs –ö–ª–∞—Å—Å—ã –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è</a></h3>
<p><strong>–ü–æ–¥—Ö–æ–¥ —Å –∑–∞–º—ã–∫–∞–Ω–∏–µ–º (—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π):</strong></p>
<pre><code class="language-javascript">const alternativeFactory = (() =&gt; {
  let index = 0; // –ú—É—Ç–∏—Ä—É–µ–º–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –≤ –∑–∞–º—ã–∫–∞–Ω–∏–∏
  return () =&gt; new Connection(index++);
})();
</code></pre>
<p><strong>–ü–æ–¥—Ö–æ–¥ —Å –∫–ª–∞—Å—Å–æ–º (–û–û–ü):</strong></p>
<pre><code class="language-javascript">class Factory {
  constructor() {
    this.index = 0; // –Ø–≤–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
  }
  create() {
    return new Connection(this.index++);
  }
}
</code></pre>
<h3 id="–ö—Ä–∏—Ç–∏–∫–∞-—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–≥–æ-–ø–æ–¥—Ö–æ–¥–∞"><a class="header" href="#–ö—Ä–∏—Ç–∏–∫–∞-—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–≥–æ-–ø–æ–¥—Ö–æ–¥–∞">–ö—Ä–∏—Ç–∏–∫–∞ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–≥–æ –ø–æ–¥—Ö–æ–¥–∞</a></h3>
<p><strong>–ó–∞–º–µ—á–∞–Ω–∏–µ –∏–∑ –ª–µ–∫—Ü–∏–∏:</strong></p>
<blockquote>
<p>"–ù–∞—Å—Ç–æ—è—â–∏–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å—â–∏–∫–∏ —Å–∫–∞–∂—É—Ç: '–ù—É –≤—ã –∂–µ —Ö—Ä–∞–Ω–∏—Ç–µ —Ç—É—Ç –≤ –∑–∞–º—ã–∫–∞–Ω–∏–∏ –∑–Ω–∞—á–µ–Ω–∏—è. –ú—É—Ç–∏—Ä—É–µ—Ç–µ. –ö–∞–∫–æ–µ —Ç—É—Ç –º–æ–∂–µ—Ç –±—ã—Ç—å —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ?'"</p>
</blockquote>
<p><strong>–†–µ–∞–ª—å–Ω–æ—Å—Ç—å:</strong></p>
<ul>
<li>–ú—É—Ç–∏—Ä—É—é—â–µ–µ –∑–∞–º—ã–∫–∞–Ω–∏–µ –ù–ï —è–≤–ª—è–µ—Ç—Å—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–º –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ–º</li>
<li>–≠—Ç–æ –ø—Ä–æ—Å—Ç–æ —Å–ø–æ—Å–æ–± —Å–æ–∑–¥–∞–Ω–∏—è –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ —Å –ø—Ä–∏–≤–∞—Ç–Ω—ã–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º</li>
<li>–í –ø—Ä–∏–∫–ª–∞–¥–Ω–æ–º –∫–æ–¥–µ –ø—Ä–µ–¥–ø–æ—á—Ç–∏—Ç–µ–ª—å–Ω—ã –±–æ–ª–µ–µ —è–≤–Ω—ã–µ –ø–æ–¥—Ö–æ–¥—ã (–∫–ª–∞—Å—Å—ã)</li>
<li>–í –ø–ª–∞—Ç—Ñ–æ—Ä–º–µ–Ω–Ω–æ–º –∫–æ–¥–µ –¥–æ–ø—É—Å—Ç–∏–º–∞ –±–æ–ª—å—à–∞—è "–º–∞–≥–∏—è"</li>
</ul>
<hr />
<h2 id="8-–õ—É—á—à–∏–µ-–ø—Ä–∞–∫—Ç–∏–∫–∏"><a class="header" href="#8-–õ—É—á—à–∏–µ-–ø—Ä–∞–∫—Ç–∏–∫–∏">8. –õ—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏</a></h2>
<h3 id="–î–ª—è-—Ñ–∞–±—Ä–∏–∫"><a class="header" href="#–î–ª—è-—Ñ–∞–±—Ä–∏–∫">–î–ª—è —Ñ–∞–±—Ä–∏–∫</a></h3>
<ol>
<li><strong>–î–µ—Ä–∂–∏—Ç–µ —Ñ–∞–±—Ä–∏–∫–∏ –ø—Ä–æ—Å—Ç—ã–º–∏</strong> –≤ –ø—Ä–∏–∫–ª–∞–¥–Ω–æ–º –∫–æ–¥–µ</li>
<li><strong>–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ –º–µ—Ç–æ–¥—ã</strong> –¥–ª—è –ø—Ä–æ—Å—Ç—ã—Ö —Å–ª—É—á–∞–µ–≤</li>
<li><strong>–°–æ–∑–¥–∞–≤–∞–π—Ç–µ –æ—Ç–¥–µ–ª—å–Ω—ã–µ –∫–ª–∞—Å—Å—ã-—Ñ–∞–±—Ä–∏–∫–∏</strong> –¥–ª—è —Å–ª–æ–∂–Ω–æ–π –ª–æ–≥–∏–∫–∏</li>
<li><strong>–ò–∑–±–µ–≥–∞–π—Ç–µ –∏–∑–ª–∏—à–Ω–µ–≥–æ –º–µ—Ç–∞–ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è</strong> –≤ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–µ</li>
</ol>
<h3 id="–î–ª—è-–ø—É–ª–æ–≤-–æ–±—ä–µ–∫—Ç–æ–≤"><a class="header" href="#–î–ª—è-–ø—É–ª–æ–≤-–æ–±—ä–µ–∫—Ç–æ–≤">–î–ª—è –ø—É–ª–æ–≤ –æ–±—ä–µ–∫—Ç–æ–≤</a></h3>
<ol>
<li><strong>–í—Å–µ–≥–¥–∞ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–π—Ç–µ –ª–∏–º–∏—Ç—ã</strong> (min, normal, max)</li>
<li><strong>–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç–∞–π–º–∞—É—Ç—ã</strong> –≤ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö –ø—É–ª–∞—Ö</li>
<li><strong>–û—á–∏—â–∞–π—Ç–µ –æ–±—ä–µ–∫—Ç—ã</strong> –ø–µ—Ä–µ–¥ –≤–æ–∑–≤—Ä–∞—Ç–æ–º –≤ –ø—É–ª</li>
<li><strong>–õ–æ–≥–∏—Ä—É–π—Ç–µ –º–µ—Ç—Ä–∏–∫–∏ –ø—É–ª–∞</strong> –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞</li>
<li><strong>–†–µ–∞–ª–∏–∑—É–π—Ç–µ graceful shutdown</strong> –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥–æ –∑–∞–∫—Ä—ã—Ç–∏—è</li>
</ol>
<h3 id="–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ-—Ä–µ—Å—É—Ä—Å–∞–º–∏-1"><a class="header" href="#–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ-—Ä–µ—Å—É—Ä—Å–∞–º–∏-1">–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–∞–º–∏</a></h3>
<pre><code class="language-javascript">// –•–æ—Ä–æ—à–∞—è –ø—Ä–∞–∫—Ç–∏–∫–∞: –æ—á–∏—Å—Ç–∫–∞ –ø—Ä–∏ –≤–æ–∑–≤—Ä–∞—Ç–µ –≤ –ø—É–ª
const poolWithCleanup = (factory, cleanup) =&gt; {
  const items = [];

  for (let i = 0; i &lt; 10; i++) {
    items.push(factory());
  }

  return (instance) =&gt; {
    if (instance) {
      cleanup(instance); // –û—á–∏—Å—Ç–∫–∞ –ø–µ—Ä–µ–¥ –≤–æ–∑–≤—Ä–∞—Ç–æ–º
      items.push(instance);
    } else {
      return items.pop() || factory();
    }
  };
};

// –ü—Ä–∏–º–µ—Ä —Å —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è–º–∏
const connPool = poolWithCleanup(
  () =&gt; new Connection(),
  (conn) =&gt; {
    conn.reset(); // –°–±—Ä–æ—Å —Å–æ—Å—Ç–æ—è–Ω–∏—è
    conn.clearCache(); // –û—á–∏—Å—Ç–∫–∞ –∫–µ—à–∞
  }
);
</code></pre>
<hr />
<h2 id="9-–ó–∞–∫–ª—é—á–µ–Ω–∏–µ"><a class="header" href="#9-–ó–∞–∫–ª—é—á–µ–Ω–∏–µ">9. –ó–∞–∫–ª—é—á–µ–Ω–∏–µ</a></h2>
<h3 id="–ö–ª—é—á–µ–≤—ã–µ-–≤—ã–≤–æ–¥—ã-21"><a class="header" href="#–ö–ª—é—á–µ–≤—ã–µ-–≤—ã–≤–æ–¥—ã-21">–ö–ª—é—á–µ–≤—ã–µ –≤—ã–≤–æ–¥—ã</a></h3>
<ol>
<li>
<p><strong>–§–∞–±—Ä–∏–∫–∏</strong> –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—é—Ç –≥–∏–±–∫–æ—Å—Ç—å –≤ —Å–æ–∑–¥–∞–Ω–∏–∏ –æ–±—ä–µ–∫—Ç–æ–≤ –∏ –∞–±—Å—Ç—Ä–∞–≥–∏—Ä—É—é—Ç –¥–µ—Ç–∞–ª–∏ –∏–Ω—Å—Ç–∞–Ω—Ü–∏—Ä–æ–≤–∞–Ω–∏—è</p>
</li>
<li>
<p><strong>–ü—É–ª—ã –æ–±—ä–µ–∫—Ç–æ–≤</strong> –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω—ã –¥–ª—è:</p>
<ul>
<li>–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏</li>
<li>–ö–æ–Ω—Ç—Ä–æ–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –ø–∞–º—è—Ç–∏</li>
<li>–£–ø—Ä–∞–≤–ª–µ–Ω–∏—è –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–º–∏ —Ä–µ—Å—É—Ä—Å–∞–º–∏</li>
</ul>
</li>
<li>
<p><strong>–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ –ø—É–ª—ã</strong> –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã –¥–ª—è:</p>
<ul>
<li>–†–∞–±–æ—Ç—ã —Å —Å–µ—Ç–µ–≤—ã–º–∏ —Ä–µ—Å—É—Ä—Å–∞–º–∏</li>
<li>–£–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è–º–∏ –∫ –ë–î</li>
<li>–ö–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏–∏ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π</li>
</ul>
</li>
<li>
<p><strong>–í—ã–±–æ—Ä –ø–æ–¥—Ö–æ–¥–∞</strong> –∑–∞–≤–∏—Å–∏—Ç –æ—Ç:</p>
<ul>
<li>–°—Ç–æ–∏–º–æ—Å—Ç–∏ —Å–æ–∑–¥–∞–Ω–∏—è –æ–±—ä–µ–∫—Ç–æ–≤</li>
<li>–¢—Ä–µ–±–æ–≤–∞–Ω–∏–π –∫ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏</li>
<li>–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π —Ä–µ—Å—É—Ä—Å–æ–≤</li>
<li>–°–ª–æ–∂–Ω–æ—Å—Ç–∏ —Å–∏—Å—Ç–µ–º—ã</li>
</ul>
</li>
</ol>
<h3 id="–î–∞–ª—å–Ω–µ–π—à–µ–µ-–∏–∑—É—á–µ–Ω–∏–µ-4"><a class="header" href="#–î–∞–ª—å–Ω–µ–π—à–µ–µ-–∏–∑—É—á–µ–Ω–∏–µ-4">–î–∞–ª—å–Ω–µ–π—à–µ–µ –∏–∑—É—á–µ–Ω–∏–µ</a></h3>
<p>–¢–µ–º—ã –¥–ª—è —É–≥–ª—É–±–ª–µ–Ω–Ω–æ–≥–æ –∏–∑—É—á–µ–Ω–∏—è:</p>
<ul>
<li>–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ –ø—É–ª—ã —Å –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞–º–∏</li>
<li>–°—Ç—Ä–∞—Ç–µ–≥–∏–∏ –≤—ã—Ç–µ—Å–Ω–µ–Ω–∏—è –≤ –ø—É–ª–∞—Ö (LRU, LFU)</li>
<li>–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –º–µ—Ç—Ä–∏–∫–∏ –ø—É–ª–æ–≤</li>
<li>–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –ø—É–ª–æ–≤ —Å —Å–∏—Å—Ç–µ–º–∞–º–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ä–µ—Å—É—Ä—Å–∞–º–∏</li>
<li>–†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–µ –ø—É–ª—ã –≤ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ</li>
</ul>
<hr />
<h2 id="–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ-—Ä–µ—Å—É—Ä—Å—ã-7"><a class="header" href="#–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ-—Ä–µ—Å—É—Ä—Å—ã-7">–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã</a></h2>
<h3 id="–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ-–º–∞—Ç–µ—Ä–∏–∞–ª—ã"><a class="header" href="#–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ-–º–∞—Ç–µ—Ä–∏–∞–ª—ã">–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã</a></h3>
<ul>
<li>–û—Ç–¥–µ–ª—å–Ω–∞—è –ª–µ–∫—Ü–∏—è –ø–æ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–º –ø—É–ª–∞–º (—É–ø–æ–º–∏–Ω–∞–µ—Ç—Å—è –≤ –ª–µ–∫—Ü–∏–∏)</li>
<li>–ü—Ä–∏–º–µ—Ä—ã –∫–æ–¥–∞ –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è—Ö —Å —Ä–∞–∑–ª–∏—á–Ω—ã–º–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è–º–∏ –ø—É–ª–æ–≤</li>
<li>–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ Worker Threads –¥–ª—è –ø—É–ª–æ–≤ –≤–æ—Ä–∫–µ—Ä–æ–≤</li>
<li>–ü–∞—Ç—Ç–µ—Ä–Ω—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ä–µ—Å—É—Ä—Å–∞–º–∏ –≤ Node.js</li>
</ul>
<h3 id="–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ-–∑–∞–¥–∞–Ω–∏—è-4"><a class="header" href="#–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ-–∑–∞–¥–∞–Ω–∏—è-4">–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –∑–∞–¥–∞–Ω–∏—è</a></h3>
<ol>
<li>–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ø—É–ª —Å –º–µ—Ç—Ä–∏–∫–∞–º–∏ (–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤—ã–¥–∞—á, –≤–æ–∑–≤—Ä–∞—Ç–æ–≤, —Å–æ–∑–¥–∞–Ω–∏–π)</li>
<li>–°–æ–∑–¥–∞—Ç—å –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –ø—É–ª —Å –æ—á–µ—Ä–µ–¥—å—é –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–æ–≤</li>
<li>–†–∞–∑—Ä–∞–±–æ—Ç–∞—Ç—å –ø—É–ª –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ–º</li>
<li>–ò–º–ø–ª–µ–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –ø—É–ª —Å —Ä–∞–∑–ª–∏—á–Ω—ã–º–∏ —Å—Ç—Ä–∞—Ç–µ–≥–∏—è–º–∏ –æ—á–∏—Å—Ç–∫–∏</li>
</ol>
<div style="break-before: page; page-break-before: always;"></div><h1 id="asyncpool--–ü–∞—Ç—Ç–µ—Ä–Ω-–∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π-–ø—É–ª-–æ–±—ä–µ–∫—Ç–æ–≤"><a class="header" href="#asyncpool--–ü–∞—Ç—Ç–µ—Ä–Ω-–∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π-–ø—É–ª-–æ–±—ä–µ–∫—Ç–æ–≤">AsyncPool ‚Äî –ü–∞—Ç—Ç–µ—Ä–Ω –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –ø—É–ª –æ–±—ä–µ–∫—Ç–æ–≤</a></h1>
<h2 id="–û–±–∑–æ—Ä-17"><a class="header" href="#–û–±–∑–æ—Ä-17">–û–±–∑–æ—Ä</a></h2>
<p>AsyncPool ‚Äî —ç—Ç–æ –ø–∞—Ç—Ç–µ—Ä–Ω –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è, –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—é—â–∏–π —Å–æ–±–æ–π <strong>–ø—É–ª –æ–±—ä–µ–∫—Ç–æ–≤</strong> (Object Pool), –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –¥–ª—è —Ä–∞–±–æ—Ç—ã –≤ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–π —Å—Ä–µ–¥–µ Node.js. –û–Ω –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º —ç–∫–∑–µ–º–ø–ª—è—Ä–æ–≤ –æ–±—ä–µ–∫—Ç–æ–≤ (–∏–Ω—Å—Ç–∞–Ω—Å–æ–≤) –∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–∏—è –º–µ—Ö–∞–Ω–∏–∑–º–∞ –æ–∂–∏–¥–∞–Ω–∏—è –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏—è —Ä–µ—Å—É—Ä—Å–æ–≤ –ø—Ä–∏ –∏—Ö –∏—Å—á–µ—Ä–ø–∞–Ω–∏–∏.</p>
<h3 id="–û—Å–Ω–æ–≤–Ω—ã–µ-–∑–∞–¥–∞—á–∏-–ø–∞—Ç—Ç–µ—Ä–Ω–∞"><a class="header" href="#–û—Å–Ω–æ–≤–Ω—ã–µ-–∑–∞–¥–∞—á–∏-–ø–∞—Ç—Ç–µ—Ä–Ω–∞">–û—Å–Ω–æ–≤–Ω—ã–µ –∑–∞–¥–∞—á–∏ –ø–∞—Ç—Ç–µ—Ä–Ω–∞</a></h3>
<ul>
<li><strong>–•—Ä–∞–Ω–µ–Ω–∏–µ –∏–Ω—Å—Ç–∞–Ω—Å–æ–≤</strong> ‚Äî –ø–æ–¥–¥–µ—Ä–∂–∞–Ω–∏–µ –∫–æ–ª–ª–µ–∫—Ü–∏–∏ –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤</li>
<li><strong>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å—é</strong> ‚Äî –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ —Å–≤–æ–±–æ–¥–Ω—ã—Ö –∏ –∑–∞–Ω—è—Ç—ã—Ö —ç–∫–∑–µ–º–ø–ª—è—Ä–æ–≤</li>
<li><strong>–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–µ –æ–∂–∏–¥–∞–Ω–∏–µ</strong> ‚Äî –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –º–µ—Ö–∞–Ω–∏–∑–º–∞ –æ–∂–∏–¥–∞–Ω–∏—è —á–µ—Ä–µ–∑ Promise, –∫–æ–≥–¥–∞ —Å–≤–æ–±–æ–¥–Ω—ã–µ –∏–Ω—Å—Ç–∞–Ω—Å—ã –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç</li>
<li><strong>–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∏–Ω—Å—Ç–∞–Ω—Ü–∏–∞—Ü–∏—è</strong> ‚Äî —Å–æ–∑–¥–∞–Ω–∏–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –æ–±—ä–µ–∫—Ç–æ–≤ —á–µ—Ä–µ–∑ —Ñ–∞–±—Ä–∏–∫—É</li>
</ul>
<hr />
<h2 id="–ó–∞—á–µ–º-–Ω—É–∂–µ–Ω-–∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π-–ø—É–ª"><a class="header" href="#–ó–∞—á–µ–º-–Ω—É–∂–µ–Ω-–∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π-–ø—É–ª">–ó–∞—á–µ–º –Ω—É–∂–µ–Ω –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –ø—É–ª?</a></h2>
<p>–í —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö Node.js –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è—Ö —á–∞—Å—Ç–æ –≤–æ–∑–Ω–∏–∫–∞–µ—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç—å –æ–≥—Ä–∞–Ω–∏—á–∏—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö —Ä–µ—Å—É—Ä—Å–æ–≤:</p>
<ul>
<li><strong>–ü–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö</strong> ‚Äî –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π</li>
<li><strong>HTTP-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è</strong> ‚Äî –∫–æ–Ω—Ç—Ä–æ–ª—å –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤</li>
<li><strong>–¢—è–∂–µ–ª—ã–µ –æ–±—ä–µ–∫—Ç—ã</strong> ‚Äî –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –¥–æ—Ä–æ–≥–æ—Å—Ç–æ—è—â–∏—Ö –≤ —Å–æ–∑–¥–∞–Ω–∏–∏ —ç–∫–∑–µ–º–ø–ª—è—Ä–æ–≤</li>
<li><strong>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç—å—é</strong> ‚Äî –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ —É—Ç–µ—á–µ–∫ –ø—Ä–∏ –º–∞—Å—Å–æ–≤—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏—è—Ö</li>
</ul>
<p><strong>–ö–ª—é—á–µ–≤–æ–µ –æ—Ç–ª–∏—á–∏–µ –æ—Ç —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–≥–æ –ø—É–ª–∞</strong>: –≤–º–µ—Å—Ç–æ –±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–∏—è –∏–ª–∏ –∫–æ–ª–±–µ–∫–æ–≤ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è <strong>Promise-–∫–æ–Ω—Ç—Ä–∞–∫—Ç</strong> –¥–ª—è –æ–∂–∏–¥–∞–Ω–∏—è –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏—è —Ä–µ—Å—É—Ä—Å–æ–≤.</p>
<hr />
<h2 id="–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞-asyncpool"><a class="header" href="#–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞-asyncpool">–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ AsyncPool</a></h2>
<h3 id="–û—Å–Ω–æ–≤–Ω—ã–µ-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã-1"><a class="header" href="#–û—Å–Ω–æ–≤–Ω—ã–µ-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã-1">–û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã</a></h3>
<pre><code class="language-javascript">class AsyncPool {
  // –ö–æ–ª–ª–µ–∫—Ü–∏—è —Ö—Ä–∞–Ω–∏–º—ã—Ö –∏–Ω—Å—Ç–∞–Ω—Å–æ–≤
  instances = [];

  // –§–ª–∞–≥–∏ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏: true = —Å–≤–æ–±–æ–¥–µ–Ω, false = –∑–∞–Ω—è—Ç
  free = [];

  // –û—á–µ—Ä–µ–¥—å –æ–∂–∏–¥–∞—é—â–∏—Ö Promise
  queue = [];

  // –£–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ —Ç–µ–∫—É—â–∏–π –∏–Ω—Å—Ç–∞–Ω—Å –¥–ª—è –≤—ã–¥–∞—á–∏
  current = 0;

  // –†–∞–∑–º–µ—Ä –ø—É–ª–∞
  size = 0;

  // –°—á–µ—Ç—á–∏–∫ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö (—Å–≤–æ–±–æ–¥–Ω—ã—Ö) –∏–Ω—Å—Ç–∞–Ω—Å–æ–≤
  available = 0;
}
</code></pre>
<h3 id="–î–∏–∞–≥—Ä–∞–º–º–∞-—Å–æ—Å—Ç–æ—è–Ω–∏–π"><a class="header" href="#–î–∏–∞–≥—Ä–∞–º–º–∞-—Å–æ—Å—Ç–æ—è–Ω–∏–π">–î–∏–∞–≥—Ä–∞–º–º–∞ —Å–æ—Å—Ç–æ—è–Ω–∏–π</a></h3>
<pre><code>‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ      AsyncPool (size: 10)           ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ instances: [obj0...obj9]            ‚îÇ
‚îÇ free:      [T,T,F,F,T,T,T,T,T,T]    ‚îÇ
‚îÇ available: 8                        ‚îÇ
‚îÇ queue:     [{resolve, timer}, ...]  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
         ‚Üë                    ‚Üì
    release()            getInstance()
</code></pre>
<hr />
<h2 id="–†–µ–∞–ª–∏–∑–∞—Ü–∏—è-–±–∞–∑–æ–≤–æ–≥–æ-asyncpool"><a class="header" href="#–†–µ–∞–ª–∏–∑–∞—Ü–∏—è-–±–∞–∑–æ–≤–æ–≥–æ-asyncpool">–†–µ–∞–ª–∏–∑–∞—Ü–∏—è –±–∞–∑–æ–≤–æ–≥–æ AsyncPool</a></h2>
<h3 id="1-–ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä-–∏-–∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è"><a class="header" href="#1-–ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä-–∏-–∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è">1. –ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è</a></h3>
<pre><code class="language-javascript">class AsyncPool {
  constructor(factory, size) {
    this.size = size;
    this.available = size;
    this.current = 0;
    this.instances = new Array(size);
    this.free = new Array(size);
    this.queue = [];

    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Ñ–ª–∞–≥–æ–≤ "—Å–≤–æ–±–æ–¥–µ–Ω"
    for (let i = 0; i &lt; size; i++) {
      this.free[i] = true;
      // –í—ã–∑–æ–≤ —Ñ–∞–±—Ä–∏–∫–∏ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∏–Ω—Å—Ç–∞–Ω—Å–æ–≤
      this.instances[i] = factory(i);
    }
  }
}
</code></pre>
<p><strong>–ö–ª—é—á–µ–≤—ã–µ –º–æ–º–µ–Ω—Ç—ã:</strong></p>
<ul>
<li><strong>–§–∞–±—Ä–∏–∫–∞ –≤–º–µ—Å—Ç–æ –≥–æ—Ç–æ–≤—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤</strong> ‚Äî –ø—É–ª —Å–∞–º —Å–æ–∑–¥–∞–µ—Ç –Ω—É–∂–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∏–Ω—Å—Ç–∞–Ω—Å–æ–≤ —á–µ—Ä–µ–∑ –ø–µ—Ä–µ–¥–∞–Ω–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é-—Ñ–∞–±—Ä–∏–∫—É</li>
<li><strong>–†–∞–∑–º–µ—Ä —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω</strong> ‚Äî –º–∞—Å—Å–∏–≤—ã –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É—é—Ç—Å—è —Å—Ä–∞–∑—É –Ω–∞ –ø–æ–ª–Ω—ã–π —Ä–∞–∑–º–µ—Ä</li>
<li><strong>–°—á–µ—Ç—á–∏–∫ available</strong> ‚Äî –ø–æ–∑–≤–æ–ª—è–µ—Ç –±—ã—Å—Ç—Ä–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞–ª–∏—á–∏–µ —Å–≤–æ–±–æ–¥–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –±–µ–∑ –ø–µ—Ä–µ–±–æ—Ä–∞ –º–∞—Å—Å–∏–≤–∞</li>
</ul>
<h3 id="2-–ú–µ—Ç–æ–¥-–ø–æ–ª—É—á–µ–Ω–∏—è-–∏–Ω—Å—Ç–∞–Ω—Å–∞-getinstance"><a class="header" href="#2-–ú–µ—Ç–æ–¥-–ø–æ–ª—É—á–µ–Ω–∏—è-–∏–Ω—Å—Ç–∞–Ω—Å–∞-getinstance">2. –ú–µ—Ç–æ–¥ –ø–æ–ª—É—á–µ–Ω–∏—è –∏–Ω—Å—Ç–∞–Ω—Å–∞ (getInstance)</a></h3>
<pre><code class="language-javascript">async getInstance() {
  // –ï—Å–ª–∏ –Ω–µ—Ç —Å–≤–æ–±–æ–¥–Ω—ã—Ö ‚Äî —Å—Ç–∞–≤–∏–º Promise –≤ –æ—á–µ—Ä–µ–¥—å
  if (this.available === 0) {
    return new Promise((resolve) =&gt; {
      this.queue.push(resolve);
    });
  }

  // –ò—â–µ–º —Å–ª–µ–¥—É—é—â–∏–π —Å–≤–æ–±–æ–¥–Ω—ã–π –∏–Ω—Å—Ç–∞–Ω—Å
  return this.next();
}
</code></pre>
<p><strong>–õ–æ–≥–∏–∫–∞ —Ä–∞–±–æ—Ç—ã:</strong></p>
<ol>
<li><strong>–ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏</strong> ‚Äî –µ—Å–ª–∏ <code>available === 0</code>, —Å–æ–∑–¥–∞–µ—Ç—Å—è –ø—Ä–æ–º–∏—Å –∏ –µ–≥–æ <code>resolve</code> –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –≤ –æ—á–µ—Ä–µ–¥—å</li>
<li><strong>–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–µ –æ–∂–∏–¥–∞–Ω–∏–µ</strong> ‚Äî –≤—ã–∑—ã–≤–∞—é—â–∏–π –∫–æ–¥ –ø–æ–ª—É—á–∏—Ç –∏–Ω—Å—Ç–∞–Ω—Å —Ç–æ–ª—å–∫–æ –∫–æ–≥–¥–∞ –∫—Ç–æ-—Ç–æ –æ—Å–≤–æ–±–æ–¥–∏—Ç —Ä–µ—Å—É—Ä—Å</li>
<li><strong>–ù–µ–º–µ–¥–ª–µ–Ω–Ω–∞—è –≤—ã–¥–∞—á–∞</strong> ‚Äî –µ—Å–ª–∏ –µ—Å—Ç—å —Å–≤–æ–±–æ–¥–Ω—ã–µ, –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è <code>next()</code> –¥–ª—è –ø–æ–∏—Å–∫–∞ –∏–Ω—Å—Ç–∞–Ω—Å–∞</li>
</ol>
<h3 id="3-–ü–æ–∏—Å–∫-—Å–ª–µ–¥—É—é—â–µ–≥–æ-—Å–≤–æ–±–æ–¥–Ω–æ–≥–æ-—ç–ª–µ–º–µ–Ω—Ç–∞-next"><a class="header" href="#3-–ü–æ–∏—Å–∫-—Å–ª–µ–¥—É—é—â–µ–≥–æ-—Å–≤–æ–±–æ–¥–Ω–æ–≥–æ-—ç–ª–µ–º–µ–Ω—Ç–∞-next">3. –ü–æ–∏—Å–∫ —Å–ª–µ–¥—É—é—â–µ–≥–æ —Å–≤–æ–±–æ–¥–Ω–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞ (next)</a></h3>
<pre><code class="language-javascript">next() {
  let instance = null;
  let free = false;

  // –¶–∏–∫–ª –ø–æ–∏—Å–∫–∞ —Å–≤–æ–±–æ–¥–Ω–æ–≥–æ –∏–Ω—Å—Ç–∞–Ω—Å–∞
  while (!free) {
    instance = this.instances[this.current];
    free = this.free[this.current];

    // –¶–∏–∫–ª–∏—á–µ—Å–∫–æ–µ –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ —É–∫–∞–∑–∞—Ç–µ–ª—è
    this.current++;
    if (this.current &gt;= this.size) {
      this.current = 0;
    }

    // –ï—Å–ª–∏ –Ω–∞—à–ª–∏ —Å–≤–æ–±–æ–¥–Ω—ã–π ‚Äî –ø–æ–º–µ—á–∞–µ–º –∑–∞–Ω—è—Ç—ã–º –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º
    if (instance &amp;&amp; free) {
      this.free[this.current] = false;
      this.available--;
      return instance;
    }
  }
}
</code></pre>
<p><strong>–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏:</strong></p>
<ul>
<li><strong>–¶–∏–∫–ª–∏—á–µ—Å–∫–∏–π –æ–±—Ö–æ–¥</strong> ‚Äî —É–∫–∞–∑–∞—Ç–µ–ª—å <code>current</code> –¥–≤–∏–≥–∞–µ—Ç—Å—è –ø–æ –∫—Ä—É–≥—É (Round-Robin)</li>
<li><strong>–ì–∞—Ä–∞–Ω—Ç–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è</strong> ‚Äî —Ü–∏–∫–ª –±–µ–∑–æ–ø–∞—Å–µ–Ω, —Ç–∞–∫ –∫–∞–∫ –ø–µ—Ä–µ–¥ –≤—ã–∑–æ–≤–æ–º <code>next()</code> –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è <code>available &gt; 0</code></li>
<li><strong>–ê—Ç–æ–º–∞—Ä–Ω–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è</strong> ‚Äî —Ñ–ª–∞–≥ <code>free</code> –º–µ–Ω—è–µ—Ç—Å—è —Å—Ä–∞–∑—É, —Å—á–µ—Ç—á–∏–∫ —É–º–µ–Ω—å—à–∞–µ—Ç—Å—è</li>
</ul>
<h3 id="4-–û—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏–µ-–∏–Ω—Å—Ç–∞–Ω—Å–∞-release"><a class="header" href="#4-–û—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏–µ-–∏–Ω—Å—Ç–∞–Ω—Å–∞-release">4. –û—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏–µ –∏–Ω—Å—Ç–∞–Ω—Å–∞ (release)</a></h3>
<pre><code class="language-javascript">release(instance) {
  // –ü—Ä–æ–≤–µ—Ä–∫–∞: —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –ª–∏ –∏–Ω—Å—Ç–∞–Ω—Å –≤ –ø—É–ª–µ
  const index = this.instances.indexOf(instance);
  if (index === -1) {
    throw new Error('Attempting to release an instance not managed by this pool');
  }

  // –ü—Ä–æ–≤–µ—Ä–∫–∞: –Ω–µ –ø—ã—Ç–∞—é—Ç—Å—è –ª–∏ –≤–µ—Ä–Ω—É—Ç—å —É–∂–µ —Å–≤–æ–±–æ–¥–Ω—ã–π –∏–Ω—Å—Ç–∞–Ω—Å
  if (this.free[index]) {
    throw new Error('Attempting to release an already free instance');
  }

  // –ï—Å–ª–∏ –µ—Å—Ç—å –æ–∂–∏–¥–∞—é—â–∏–µ –≤ –æ—á–µ—Ä–µ–¥–∏ ‚Äî –æ—Ç–¥–∞–µ–º –∏–º –Ω–∞–ø—Ä—è–º—É—é
  if (this.queue.length &gt; 0) {
    const resolve = this.queue.shift();

    // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –∏–Ω—Å—Ç–∞–Ω—Å –≤ –ø—Ä–æ–º–∏—Å —á–µ—Ä–µ–∑ setImmediate
    setImmediate(() =&gt; {
      resolve(instance);
    });

    // –ò–Ω—Å—Ç–∞–Ω—Å –æ—Å—Ç–∞–µ—Ç—Å—è –∑–∞–Ω—è—Ç—ã–º (–ø–µ—Ä–µ—Ö–æ–¥–∏—Ç –∫ –Ω–æ–≤–æ–º—É –≤–ª–∞–¥–µ–ª—å—Ü—É)
    return;
  }

  // –ï—Å–ª–∏ –æ—á–µ—Ä–µ–¥—å –ø—É—Å—Ç–∞ ‚Äî –ø–æ–º–µ—á–∞–µ–º —Å–≤–æ–±–æ–¥–Ω—ã–º
  this.available++;
  this.free[index] = true;
}
</code></pre>
<p><strong>–í–∞–∂–Ω—ã–µ –¥–µ—Ç–∞–ª–∏:</strong></p>
<ol>
<li><strong>–í–∞–ª–∏–¥–∞—Ü–∏—è –∏–Ω—Å—Ç–∞–Ω—Å–∞</strong> ‚Äî –∑–∞—â–∏—Ç–∞ –æ—Ç –ø–æ–ø—ã—Ç–æ–∫ –≤–µ—Ä–Ω—É—Ç—å "—á—É–∂–∏–µ" –æ–±—ä–µ–∫—Ç—ã</li>
<li><strong>–ó–∞—â–∏—Ç–∞ –æ—Ç –¥–≤–æ–π–Ω–æ–≥–æ –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏—è</strong> ‚Äî –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ –±–∞–≥–æ–≤ —Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–º–∏ —Å—Å—ã–ª–∫–∞–º–∏</li>
<li><strong>–ü—Ä—è–º–∞—è –ø–µ—Ä–µ–¥–∞—á–∞ –æ–∂–∏–¥–∞—é—â–∏–º</strong> ‚Äî –µ—Å–ª–∏ –µ—Å—Ç—å –æ—á–µ—Ä–µ–¥—å, –∏–Ω—Å—Ç–∞–Ω—Å —Å—Ä–∞–∑—É –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç —Å–ª–µ–¥—É—é—â–µ–º—É –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—é</li>
<li><strong>setImmediate –¥–ª—è resolve</strong> ‚Äî –ø–µ—Ä–µ–¥–∞—á–∞ –∫–≤–∞–Ω—Ç–∞ –≤—Ä–µ–º–µ–Ω–∏ –≤ event loop, –∏–∑–±–µ–≥–∞–Ω–∏–µ —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–≥–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è</li>
</ol>
<hr />
<h2 id="–†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è-–≤–µ—Ä—Å–∏—è-—Å-—Ç–∞–π–º–∞—É—Ç–æ–º"><a class="header" href="#–†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è-–≤–µ—Ä—Å–∏—è-—Å-—Ç–∞–π–º–∞—É—Ç–æ–º">–†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è —Å —Ç–∞–π–º–∞—É—Ç–æ–º</a></h2>
<h3 id="–ó–∞—á–µ–º-–Ω—É–∂–µ–Ω-—Ç–∞–π–º–∞—É—Ç"><a class="header" href="#–ó–∞—á–µ–º-–Ω—É–∂–µ–Ω-—Ç–∞–π–º–∞—É—Ç">–ó–∞—á–µ–º –Ω—É–∂–µ–Ω —Ç–∞–π–º–∞—É—Ç?</a></h3>
<p>–í —Ä–µ–∞–ª—å–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è—Ö –Ω–µ–ª—å–∑—è –±–µ—Å–∫–æ–Ω–µ—á–Ω–æ –∂–¥–∞—Ç—å –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏—è —Ä–µ—Å—É—Ä—Å–∞:</p>
<ul>
<li><strong>–ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∞–Ω–∏–π</strong> ‚Äî –∑–∞—â–∏—Ç–∞ –æ—Ç deadlock-—Å–∏—Ç—É–∞—Ü–∏–π</li>
<li><strong>–ö–æ–Ω—Ç—Ä–æ–ª—å –≤—Ä–µ–º–µ–Ω–∏ –æ—Ç–∫–ª–∏–∫–∞</strong> ‚Äî –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏ –æ–∂–∏–¥–∞–Ω–∏—è</li>
<li><strong>Graceful degradation</strong> ‚Äî –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å –æ—à–∏–±–∫—É –∏ –ø—Ä–∏–º–µ–Ω–∏—Ç—å –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—É—é —Å—Ç—Ä–∞—Ç–µ–≥–∏—é</li>
</ul>
<h3 id="–ú–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏—è-–∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞"><a class="header" href="#–ú–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏—è-–∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞">–ú–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏—è –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞</a></h3>
<pre><code class="language-javascript">class AsyncPool {
  constructor(factory, options) {
    this.size = options.size;
    this.timeout = options.timeout; // –¢–∞–π–º–∞—É—Ç –≤ –º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥–∞—Ö
    this.available = this.size;
    this.current = 0;
    this.instances = new Array(this.size);
    this.free = new Array(this.size);
    this.queue = [];

    for (let i = 0; i &lt; this.size; i++) {
      this.free[i] = true;
      this.instances[i] = factory(i);
    }
  }
}
</code></pre>
<p><strong>–ò–∑–º–µ–Ω–µ–Ω–∏—è:</strong></p>
<ul>
<li>–ü–∞—Ä–∞–º–µ—Ç—Ä—ã —Ç–µ–ø–µ—Ä—å –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ –æ–±—ä–µ–∫—Ç <code>options</code></li>
<li>–î–æ–±–∞–≤–ª–µ–Ω–æ –ø–æ–ª–µ <code>timeout</code> –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –ª–∏–º–∏—Ç–∞ –æ–∂–∏–¥–∞–Ω–∏—è</li>
</ul>
<h3 id="–ú–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–π-getinstance-—Å-—Ç–∞–π–º–µ—Ä–æ–º"><a class="header" href="#–ú–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–π-getinstance-—Å-—Ç–∞–π–º–µ—Ä–æ–º">–ú–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–π getInstance —Å —Ç–∞–π–º–µ—Ä–æ–º</a></h3>
<pre><code class="language-javascript">async getInstance() {
  if (this.available === 0) {
    return new Promise((resolve, reject) =&gt; {
      // –°–æ–∑–¥–∞–µ–º —Ç–∞–π–º–µ—Ä –¥–ª—è –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏—è –ø—Ä–æ–º–∏—Å–∞
      const timer = setTimeout(() =&gt; {
        reject(new Error('Pool timeout exceeded'));
      }, this.timeout);

      // –í –æ—á–µ—Ä–µ–¥—å —Å–æ—Ö—Ä–∞–Ω—è–µ–º resolve –∏ timer
      this.queue.push({ resolve, timer });
    });
  }

  return this.next();
}
</code></pre>
<p><strong>–ú–µ—Ö–∞–Ω–∏–∑–º —Ä–∞–±–æ—Ç—ã:</strong></p>
<ol>
<li><strong>–°–æ–∑–¥–∞–Ω–∏–µ —Ç–∞–π–º–µ—Ä–∞</strong> ‚Äî <code>setTimeout</code> –≤—ã–∑–æ–≤–µ—Ç <code>reject</code> —á–µ—Ä–µ–∑ –∑–∞–¥–∞–Ω–Ω–æ–µ –≤—Ä–µ–º—è</li>
<li><strong>–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –≤ –æ—á–µ—Ä–µ–¥–∏</strong> ‚Äî —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –∏ <code>resolve</code>, –∏ <code>timer</code> –¥–ª—è –ø–æ—Å–ª–µ–¥—É—é—â–µ–π –æ—á–∏—Å—Ç–∫–∏</li>
<li><strong>–û—Ç–∫–ª–æ–Ω–µ–Ω–∏–µ –ø—Ä–æ–º–∏—Å–∞</strong> ‚Äî –µ—Å–ª–∏ —Ç–∞–π–º–∞—É—Ç –¥–æ—Å—Ç–∏–≥–Ω—É—Ç, –≤—ã–∑—ã–≤–∞—é—â–∏–π –∫–æ–¥ –ø–æ–ª—É—á–∏—Ç –æ—à–∏–±–∫—É</li>
</ol>
<h3 id="–ú–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–π-release"><a class="header" href="#–ú–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–π-release">–ú–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–π release</a></h3>
<pre><code class="language-javascript">release(instance) {
  const index = this.instances.indexOf(instance);
  if (index === -1) {
    throw new Error('Attempting to release an instance not managed by this pool');
  }

  if (this.free[index]) {
    throw new Error('Attempting to release an already free instance');
  }

  // –ï—Å–ª–∏ –µ—Å—Ç—å –æ–∂–∏–¥–∞—é—â–∏–µ ‚Äî –æ—Ç–¥–∞–µ–º –∏–º
  if (this.queue.length &gt; 0) {
    const { resolve, timer } = this.queue.shift();

    // –í–ê–ñ–ù–û: –æ—á–∏—â–∞–µ–º —Ç–∞–π–º–µ—Ä, —Ç–∞–∫ –∫–∞–∫ –æ–∂–∏–¥–∞–Ω–∏–µ –∑–∞–≤–µ—Ä—à–∏–ª–æ—Å—å —É—Å–ø–µ—à–Ω–æ
    clearTimeout(timer);

    setImmediate(() =&gt; {
      resolve(instance);
    });

    return;
  }

  // –ü–æ–º–µ—á–∞–µ–º —Å–≤–æ–±–æ–¥–Ω—ã–º
  this.available++;
  this.free[index] = true;
}
</code></pre>
<p><strong>–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω–æ:</strong></p>
<ul>
<li><strong>clearTimeout(timer)</strong> ‚Äî –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏—è —Ç–∞–π–º–µ—Ä–∞ –ø–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –ø–æ–ª—É—á–µ–Ω–∏—è –∏–Ω—Å—Ç–∞–Ω—Å–∞</li>
<li><strong>–ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –∏–∑ –æ—á–µ—Ä–µ–¥–∏</strong> ‚Äî <code>shift()</code> —É–¥–∞–ª—è–µ—Ç —ç–ª–µ–º–µ–Ω—Ç, –æ—Å–≤–æ–±–æ–∂–¥–∞—è –ø–∞–º—è—Ç—å</li>
</ul>
<hr />
<h2 id="–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ-abortsignal"><a class="header" href="#–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ-abortsignal">–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞: –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ AbortSignal</a></h2>
<h3 id="–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π-–ø–æ–¥—Ö–æ–¥-–∫-–æ—Ç–º–µ–Ω–µ-–æ–ø–µ—Ä–∞—Ü–∏–π"><a class="header" href="#–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π-–ø–æ–¥—Ö–æ–¥-–∫-–æ—Ç–º–µ–Ω–µ-–æ–ø–µ—Ä–∞—Ü–∏–π">–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –ø–æ–¥—Ö–æ–¥ –∫ –æ—Ç–º–µ–Ω–µ –æ–ø–µ—Ä–∞—Ü–∏–π</a></h3>
<p>AbortSignal ‚Äî —ç—Ç–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π Web API –¥–ª—è –æ—Ç–º–µ–Ω—ã –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π:</p>
<pre><code class="language-javascript">async getInstance() {
  if (this.available === 0) {
    return new Promise((resolve, reject) =&gt; {
      // –°–æ–∑–¥–∞–µ–º AbortSignal —Å —Ç–∞–π–º–∞—É—Ç–æ–º
      const signal = AbortSignal.timeout(this.timeout);

      // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –æ—Ç–º–µ–Ω—ã
      const listener = () =&gt; {
        // –û—à–∏–±–∫–∞ —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ signal.reason
        reject(signal.reason);
      };

      // –ü–æ–¥–ø–∏—Å—ã–≤–∞–µ–º—Å—è –Ω–∞ —Å–æ–±—ã—Ç–∏–µ abort
      signal.addEventListener('abort', listener);

      // –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤ –æ—á–µ—Ä–µ–¥—å –≤—Å–µ —Ç—Ä–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞
      this.queue.push({ resolve, signal, listener });
    });
  }

  return this.next();
}
</code></pre>
<h3 id="–û—á–∏—Å—Ç–∫–∞-–ø—Ä–∏-—É—Å–ø–µ—à–Ω–æ–º-–ø–æ–ª—É—á–µ–Ω–∏–∏"><a class="header" href="#–û—á–∏—Å—Ç–∫–∞-–ø—Ä–∏-—É—Å–ø–µ—à–Ω–æ–º-–ø–æ–ª—É—á–µ–Ω–∏–∏">–û—á–∏—Å—Ç–∫–∞ –ø—Ä–∏ —É—Å–ø–µ—à–Ω–æ–º –ø–æ–ª—É—á–µ–Ω–∏–∏</a></h3>
<pre><code class="language-javascript">release(instance) {
  const index = this.instances.indexOf(instance);
  if (index === -1) {
    throw new Error('Attempting to release an instance not managed by this pool');
  }

  if (this.free[index]) {
    throw new Error('Attempting to release an already free instance');
  }

  if (this.queue.length &gt; 0) {
    const { resolve, signal, listener } = this.queue.shift();

    // –£–¥–∞–ª—è–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ —Å–æ–±—ã—Ç–∏—è
    signal.removeEventListener('abort', listener);

    setImmediate(() =&gt; {
      resolve(instance);
    });

    return;
  }

  this.available++;
  this.free[index] = true;
}
</code></pre>
<p><strong>–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ AbortSignal:</strong></p>
<ul>
<li><strong>–°—Ç–∞–Ω–¥–∞—Ä—Ç–∏–∑–∞—Ü–∏—è</strong> ‚Äî –µ–¥–∏–Ω—ã–π API –¥–ª—è –æ—Ç–º–µ–Ω—ã –æ–ø–µ—Ä–∞—Ü–∏–π</li>
<li><strong>–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ</strong> ‚Äî —Ç–∞–π–º–∞—É—Ç –≤—Å—Ç—Ä–æ–µ–Ω –≤ —Å–∏–≥–Ω–∞–ª</li>
<li><strong>Garbage Collection</strong> ‚Äî –ø–æ—Å–ª–µ <code>removeEventListener</code> –∏ —É–¥–∞–ª–µ–Ω–∏—è –∏–∑ –æ—á–µ—Ä–µ–¥–∏ –≤—Å–µ –æ–±—ä–µ–∫—Ç—ã –æ—Å–≤–æ–±–æ–∂–¥–∞—é—Ç—Å—è</li>
</ul>
<p><strong>–ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏:</strong></p>
<ul>
<li><strong>–ù–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç—å —Ö—Ä–∞–Ω–∏—Ç—å listener</strong> ‚Äî EventTarget —Ç—Ä–µ–±—É–µ—Ç —Ç–æ—á–Ω—É—é —Å—Å—ã–ª–∫—É –Ω–∞ —Ñ—É–Ω–∫—Ü–∏—é –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è</li>
<li><strong>–ë–æ–ª–µ–µ —Å–ª–æ–∂–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞</strong> ‚Äî —Ç—Ä–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ –≤–º–µ—Å—Ç–æ –¥–≤—É—Ö –≤ –≤–∞—Ä–∏–∞–Ω—Ç–µ —Å setTimeout</li>
</ul>
<hr />
<h2 id="–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ-–ø—Ä–∏–º–µ—Ä—ã-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è-1"><a class="header" href="#–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ-–ø—Ä–∏–º–µ—Ä—ã-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è-1">–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è</a></h2>
<h3 id="–ü—Ä–∏–º–µ—Ä-1-–§–∞–±—Ä–∏–∫–∞-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π"><a class="header" href="#–ü—Ä–∏–º–µ—Ä-1-–§–∞–±—Ä–∏–∫–∞-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π">–ü—Ä–∏–º–µ—Ä 1: –§–∞–±—Ä–∏–∫–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π</a></h3>
<pre><code class="language-javascript">// –§–∞–±—Ä–∏–∫–∞ —Å–æ–∑–¥–∞–µ—Ç –æ–±—ä–µ–∫—Ç—ã —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π
const connectionFactory = (index) =&gt; {
  return {
    id: `connection-${index}`,
    query: async (sql) =&gt; {
      console.log(`[${this.id}] Executing: ${sql}`);
      // –°–∏–º—É–ª—è—Ü–∏—è –∑–∞–ø—Ä–æ—Å–∞ –∫ –ë–î
      return new Promise((resolve) =&gt; {
        setTimeout(() =&gt; resolve({ rows: [] }), 100);
      });
    },
    close: () =&gt; {
      console.log(`[${this.id}] Closed`);
    }
  };
};

// –°–æ–∑–¥–∞–Ω–∏–µ –ø—É–ª–∞ —Å 10 —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è–º–∏
const pool = new AsyncPool(connectionFactory, { size: 10, timeout: 3000 });
</code></pre>
<h3 id="–ü—Ä–∏–º–µ—Ä-2-–ë–∞–∑–æ–≤–æ–µ-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ-–±–µ–∑-—Ç–∞–π–º–∞—É—Ç–∞"><a class="header" href="#–ü—Ä–∏–º–µ—Ä-2-–ë–∞–∑–æ–≤–æ–µ-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ-–±–µ–∑-—Ç–∞–π–º–∞—É—Ç–∞">–ü—Ä–∏–º–µ—Ä 2: –ë–∞–∑–æ–≤–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –±–µ–∑ —Ç–∞–π–º–∞—É—Ç–∞</a></h3>
<pre><code class="language-javascript">const pool = new AsyncPool(connectionFactory, 10);
const connections = [];

// –ó–∞–ø—Ä–∞—à–∏–≤–∞–µ–º 12 –∏–Ω—Å—Ç–∞–Ω—Å–æ–≤ –ø—Ä–∏ —Ä–∞–∑–º–µ—Ä–µ –ø—É–ª–∞ 10
for (let i = 0; i &lt; 12; i++) {
  (async () =&gt; {
    try {
      const conn = await pool.getInstance();
      console.log(`Got instance: ${conn.id}`);

      // –ü–µ—Ä–≤—ã–µ –¥–≤–∞ —Å–æ—Ö—Ä–∞–Ω—è–µ–º –¥–ª—è –ø–æ–∑–¥–Ω–µ–≥–æ –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏—è
      if (i &lt; 2) {
        connections.push(conn);
      } else {
        // –û—Å—Ç–∞–ª—å–Ω—ã–µ —Å—Ä–∞–∑—É –≤–æ–∑–≤—Ä–∞—â–∞–µ–º
        pool.release(conn);
      }
    } catch (error) {
      console.error(`Error: ${error.message}`);
    }
  })();
}

// –ß–µ—Ä–µ–∑ 2 —Å–µ–∫—É–Ω–¥—ã –æ—Å–≤–æ–±–æ–∂–¥–∞–µ–º –ø–µ—Ä–≤—ã–π
setTimeout(() =&gt; {
  console.log('Releasing connection 0');
  pool.release(connections[0]);
}, 2000);

// –ß–µ—Ä–µ–∑ 5 —Å–µ–∫—É–Ω–¥ –æ—Å–≤–æ–±–æ–∂–¥–∞–µ–º –≤—Ç–æ—Ä–æ–π
setTimeout(() =&gt; {
  console.log('Releasing connection 1');
  pool.release(connections[1]);
}, 5000);
</code></pre>
<p><strong>–í—ã–≤–æ–¥ –ø—Ä–æ–≥—Ä–∞–º–º—ã:</strong></p>
<pre><code>Got instance: connection-0
Got instance: connection-1
Got instance: connection-2
Got instance: connection-3
Got instance: connection-4
Got instance: connection-5
Got instance: connection-6
Got instance: connection-7
Got instance: connection-8
Got instance: connection-9
Releasing connection 0
Got instance: connection-0   // 11-–π –∑–∞–ø—Ä–æ—Å –ø–æ–ª—É—á–∏–ª –æ—Å–≤–æ–±–æ–¥–∏–≤—à–∏–π—Å—è –∏–Ω—Å—Ç–∞–Ω—Å
Releasing connection 1
Got instance: connection-1   // 12-–π –∑–∞–ø—Ä–æ—Å –ø–æ–ª—É—á–∏–ª –æ—Å–≤–æ–±–æ–¥–∏–≤—à–∏–π—Å—è –∏–Ω—Å—Ç–∞–Ω—Å
</code></pre>
<p><strong>–û–±—ä—è—Å–Ω–µ–Ω–∏–µ:</strong></p>
<ol>
<li>–ü–µ—Ä–≤—ã–µ 10 –∑–∞–ø—Ä–æ—Å–æ–≤ —Å—Ä–∞–∑—É –ø–æ–ª—É—á–∞—é—Ç –∏–Ω—Å—Ç–∞–Ω—Å—ã (–ø—É–ª –∑–∞–ø–æ–ª–Ω–µ–Ω)</li>
<li>–ó–∞–ø—Ä–æ—Å—ã 11 –∏ 12 —Å—Ç–∞–Ω–æ–≤—è—Ç—Å—è –≤ –æ—á–µ—Ä–µ–¥—å (<code>available === 0</code>)</li>
<li>–ß–µ—Ä–µ–∑ 2 —Å–µ–∫—É–Ω–¥—ã –æ—Å–≤–æ–±–æ–∂–¥–∞–µ—Ç—Å—è <code>connection-0</code>, –æ–Ω —Å—Ä–∞–∑—É –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è 11-–º—É –∑–∞–ø—Ä–æ—Å—É</li>
<li>–ß–µ—Ä–µ–∑ 5 —Å–µ–∫—É–Ω–¥ –æ—Å–≤–æ–±–æ–∂–¥–∞–µ—Ç—Å—è <code>connection-1</code>, –æ–Ω –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è 12-–º—É –∑–∞–ø—Ä–æ—Å—É</li>
</ol>
<h3 id="–ü—Ä–∏–º–µ—Ä-3-–†–∞–±–æ—Ç–∞-—Å-—Ç–∞–π–º–∞—É—Ç–æ–º"><a class="header" href="#–ü—Ä–∏–º–µ—Ä-3-–†–∞–±–æ—Ç–∞-—Å-—Ç–∞–π–º–∞—É—Ç–æ–º">–ü—Ä–∏–º–µ—Ä 3: –†–∞–±–æ—Ç–∞ —Å —Ç–∞–π–º–∞—É—Ç–æ–º</a></h3>
<pre><code class="language-javascript">const pool = new AsyncPool(connectionFactory, {
  size: 10,
  timeout: 3000  // –ú–∞–∫—Å–∏–º—É–º 3 —Å–µ–∫—É–Ω–¥—ã –æ–∂–∏–¥–∞–Ω–∏—è
});

const connections = [];

for (let i = 0; i &lt; 12; i++) {
  (async () =&gt; {
    try {
      const conn = await pool.getInstance();
      console.log(`[${i}] Got instance: ${conn.id}`);

      if (i &lt; 2) {
        connections.push(conn);
      } else {
        pool.release(conn);
      }
    } catch (error) {
      console.error(`[${i}] Error: ${error.message}`);
    }
  })();
}

// –û—Å–≤–æ–±–æ–∂–¥–∞–µ–º —á–µ—Ä–µ–∑ 4 —Å–µ–∫—É–Ω–¥—ã (–ø–æ–∑–∂–µ —Ç–∞–π–º–∞—É—Ç–∞!)
setTimeout(() =&gt; {
  console.log('Releasing connection 0');
  pool.release(connections[0]);
}, 4000);

setTimeout(() =&gt; {
  console.log('Releasing connection 1');
  pool.release(connections[1]);
}, 5000);
</code></pre>
<p><strong>–í—ã–≤–æ–¥ –ø—Ä–æ–≥—Ä–∞–º–º—ã:</strong></p>
<pre><code>[0] Got instance: connection-0
[1] Got instance: connection-1
[2] Got instance: connection-2
[3] Got instance: connection-3
[4] Got instance: connection-4
[5] Got instance: connection-5
[6] Got instance: connection-6
[7] Got instance: connection-7
[8] Got instance: connection-8
[9] Got instance: connection-9
[10] Error: Pool timeout exceeded     // –¢–∞–π–º–∞—É—Ç —á–µ—Ä–µ–∑ 3 —Å–µ–∫—É–Ω–¥—ã
Releasing connection 0                 // –û—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏–µ —á–µ—Ä–µ–∑ 4 —Å–µ–∫—É–Ω–¥—ã
[11] Got instance: connection-0        // 12-–π –∑–∞–ø—Ä–æ—Å –¥–æ–∂–¥–∞–ª—Å—è
Releasing connection 1
</code></pre>
<p><strong>–ê–Ω–∞–ª–∏–∑:</strong></p>
<ul>
<li>–ó–∞–ø—Ä–æ—Å 11 (–∏–Ω–¥–µ–∫—Å 10) –∂–¥–µ—Ç 3 —Å–µ–∫—É–Ω–¥—ã ‚Üí —Ç–∞–π–º–∞—É—Ç ‚Üí –ø–æ–ª—É—á–∞–µ—Ç –æ—à–∏–±–∫—É</li>
<li>–ó–∞–ø—Ä–æ—Å 12 (–∏–Ω–¥–µ–∫—Å 11) –∂–¥–µ—Ç 3 —Å–µ–∫—É–Ω–¥—ã ‚Üí –≤—Å–µ –µ—â–µ –≤ –æ—á–µ—Ä–µ–¥–∏ ‚Üí —á–µ—Ä–µ–∑ 4 —Å–µ–∫—É–Ω–¥—ã –ø–æ–ª—É—á–∞–µ—Ç –∏–Ω—Å—Ç–∞–Ω—Å</li>
</ul>
<hr />
<h2 id="–†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ-–≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏-–ø—É–ª–∞"><a class="header" href="#–†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ-–≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏-–ø—É–ª–∞">–†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –ø—É–ª–∞</a></h2>
<h3 id="1-–î–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ-—Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ-–ø—É–ª–∞"><a class="header" href="#1-–î–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ-—Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ-–ø—É–ª–∞">1. –î–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ –ø—É–ª–∞</a></h3>
<p>–ú–æ–∂–Ω–æ –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å –ø—É–ª –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –∏–Ω—Å—Ç–∞–Ω—Å–æ–≤ —Å–≤–µ—Ä—Ö –Ω–∞—á–∞–ª—å–Ω–æ–≥–æ —Ä–∞–∑–º–µ—Ä–∞:</p>
<pre><code class="language-javascript">class DynamicAsyncPool extends AsyncPool {
  constructor(factory, options) {
    super(factory, options);
    this.maxSize = options.maxSize || this.size * 2;
    this.factory = factory;
  }

  async getInstance() {
    // –ï—Å–ª–∏ –Ω–µ—Ç —Å–≤–æ–±–æ–¥–Ω—ã—Ö, –Ω–æ –Ω–µ –¥–æ—Å—Ç–∏–≥–Ω—É—Ç maxSize ‚Äî —Å–æ–∑–¥–∞–µ–º –Ω–æ–≤—ã–π
    if (this.available === 0 &amp;&amp; this.instances.length &lt; this.maxSize) {
      const newInstance = this.factory(this.instances.length);
      this.instances.push(newInstance);
      this.free.push(false);
      this.size++;
      return newInstance;
    }

    return super.getInstance();
  }

  release(instance) {
    const index = this.instances.indexOf(instance);

    // –ï—Å–ª–∏ –∏–Ω—Å—Ç–∞–Ω—Å —Å–≤–µ—Ä—Ö –Ω–∞—á–∞–ª—å–Ω–æ–≥–æ —Ä–∞–∑–º–µ—Ä–∞ –∏ –æ—á–µ—Ä–µ–¥—å –ø—É—Å—Ç–∞ ‚Äî —É–¥–∞–ª—è–µ–º
    if (index &gt;= options.size &amp;&amp; this.queue.length === 0) {
      this.instances.splice(index, 1);
      this.free.splice(index, 1);
      this.size--;

      // –í—ã–∑—ã–≤–∞–µ–º cleanup –µ—Å–ª–∏ –µ—Å—Ç—å
      if (instance.close) {
        instance.close();
      }

      return;
    }

    super.release(instance);
  }
}
</code></pre>
<p><strong>–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:</strong></p>
<ul>
<li><strong>–ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å</strong> ‚Äî –ø—É–ª —Ä–∞—Å—Ç–µ—Ç –ø–æ–¥ –Ω–∞–≥—Ä—É–∑–∫–æ–π</li>
<li><strong>–≠–∫–æ–Ω–æ–º–∏—è —Ä–µ—Å—É—Ä—Å–æ–≤</strong> ‚Äî –ª–∏—à–Ω–∏–µ –∏–Ω—Å—Ç–∞–Ω—Å—ã —É–¥–∞–ª—è—é—Ç—Å—è –ø—Ä–∏ —Å–Ω–∏–∂–µ–Ω–∏–∏ –Ω–∞–≥—Ä—É–∑–∫–∏</li>
<li><strong>–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —Ä–æ—Å—Ç–∞</strong> ‚Äî –ø–∞—Ä–∞–º–µ—Ç—Ä <code>maxSize</code> –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç –±–µ—Å–∫–æ–Ω—Ç—Ä–æ–ª—å–Ω–æ–µ –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç–∏</li>
</ul>
<h3 id="2-–î–æ–±–∞–≤–ª–µ–Ω–∏–µ-–º–µ—Ç–æ–¥–∞-add-–¥–ª—è-–≤–Ω–µ—à–Ω–∏—Ö-–∏–Ω—Å—Ç–∞–Ω—Å–æ–≤"><a class="header" href="#2-–î–æ–±–∞–≤–ª–µ–Ω–∏–µ-–º–µ—Ç–æ–¥–∞-add-–¥–ª—è-–≤–Ω–µ—à–Ω–∏—Ö-–∏–Ω—Å—Ç–∞–Ω—Å–æ–≤">2. –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –º–µ—Ç–æ–¥–∞ add –¥–ª—è –≤–Ω–µ—à–Ω–∏—Ö –∏–Ω—Å—Ç–∞–Ω—Å–æ–≤</a></h3>
<pre><code class="language-javascript">add(instance) {
  // –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ –∏–Ω—Å—Ç–∞–Ω—Å –Ω–µ –≤ –ø—É–ª–µ
  if (this.instances.indexOf(instance) !== -1) {
    throw new Error('Instance already in pool');
  }

  // –ï—Å–ª–∏ –µ—Å—Ç—å –æ–∂–∏–¥–∞—é—â–∏–µ ‚Äî —Å—Ä–∞–∑—É –æ—Ç–¥–∞–µ–º –∏–º
  if (this.queue.length &gt; 0) {
    const { resolve, timer } = this.queue.shift();
    clearTimeout(timer);

    setImmediate(() =&gt; {
      resolve(instance);
    });

    return;
  }

  // –î–æ–±–∞–≤–ª—è–µ–º –≤ –ø—É–ª
  this.instances.push(instance);
  this.free.push(true);
  this.size++;
  this.available++;
}
</code></pre>
<p><strong>–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ:</strong></p>
<ul>
<li>–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –¥–æ–±–∞–≤–ª—è—Ç—å –∏–Ω—Å—Ç–∞–Ω—Å—ã –∏–∑–≤–Ω–µ</li>
<li>–ì–∏–±–∫–æ—Å—Ç—å –≤ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–∏ —Ä–∞–∑–º–µ—Ä–æ–º –ø—É–ª–∞</li>
<li>–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –≤–Ω–µ—à–Ω–∏–º–∏ –∏—Å—Ç–æ—á–Ω–∏–∫–∞–º–∏ –æ–±—ä–µ–∫—Ç–æ–≤</li>
</ul>
<hr />
<h2 id="–ö–ª—é—á–µ–≤—ã–µ-–∫–æ–Ω—Ü–µ–ø—Ü–∏–∏-–∏-—Ç–µ—Ä–º–∏–Ω—ã"><a class="header" href="#–ö–ª—é—á–µ–≤—ã–µ-–∫–æ–Ω—Ü–µ–ø—Ü–∏–∏-–∏-—Ç–µ—Ä–º–∏–Ω—ã">–ö–ª—é—á–µ–≤—ã–µ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏ –∏ —Ç–µ—Ä–º–∏–Ω—ã</a></h2>
<h3 id="round-robin-—Ü–∏–∫–ª–∏—á–µ—Å–∫–∏–π-–æ–±—Ö–æ–¥"><a class="header" href="#round-robin-—Ü–∏–∫–ª–∏—á–µ—Å–∫–∏–π-–æ–±—Ö–æ–¥">Round-Robin (—Ü–∏–∫–ª–∏—á–µ—Å–∫–∏–π –æ–±—Ö–æ–¥)</a></h3>
<p><strong>–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ:</strong> –ê–ª–≥–æ—Ä–∏—Ç–º —Ä–∞–≤–Ω–æ–º–µ—Ä–Ω–æ–≥–æ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –Ω–∞–≥—Ä—É–∑–∫–∏, –ø—Ä–∏ –∫–æ—Ç–æ—Ä–æ–º —É–∫–∞–∑–∞—Ç–µ–ª—å —Ü–∏–∫–ª–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–º–µ—â–∞–µ—Ç—Å—è –ø–æ –∫–æ–ª–ª–µ–∫—Ü–∏–∏.</p>
<p><strong>–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –≤ AsyncPool:</strong></p>
<pre><code class="language-javascript">this.current++;
if (this.current &gt;= this.size) {
  this.current = 0;  // –í–æ–∑–≤—Ä–∞—Ç –∫ –Ω–∞—á–∞–ª—É
}
</code></pre>
<p><strong>–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:</strong></p>
<ul>
<li>–†–∞–≤–Ω–æ–º–µ—Ä–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –∏–Ω—Å—Ç–∞–Ω—Å–æ–≤</li>
<li>–ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ "–≥–æ–ª–æ–¥–∞–Ω–∏—è" –æ—Ç–¥–µ–ª—å–Ω—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤</li>
<li>–ü—Ä–æ—Å—Ç–æ—Ç–∞ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏</li>
</ul>
<h3 id="promise-based-–∫–æ–Ω—Ç—Ä–∞–∫—Ç"><a class="header" href="#promise-based-–∫–æ–Ω—Ç—Ä–∞–∫—Ç">Promise-based –∫–æ–Ω—Ç—Ä–∞–∫—Ç</a></h3>
<p><strong>–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ:</strong> –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Promise –∫–∞–∫ –º–µ—Ö–∞–Ω–∏–∑–º–∞ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–≥–æ –æ–∂–∏–¥–∞–Ω–∏—è –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏—è —Ä–µ—Å—É—Ä—Å–∞.</p>
<p><strong>–°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å –∫–æ–ª–±–µ–∫–∞–º–∏:</strong></p>
<pre><code class="language-javascript">// –ö–æ–ª–±–µ–∫-—Å—Ç–∏–ª—å (—É—Å—Ç–∞—Ä–µ–≤—à–∏–π)
pool.getInstance((err, instance) =&gt; {
  if (err) return console.error(err);
  // –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ instance
});

// Promise-—Å—Ç–∏–ª—å (—Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π)
try {
  const instance = await pool.getInstance();
  // –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ instance
} catch (error) {
  console.error(error);
}
</code></pre>
<p><strong>–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ Promise:</strong></p>
<ul>
<li>–ü–æ–¥–¥–µ—Ä–∂–∫–∞ async/await —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞</li>
<li>–ï—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ —á–µ—Ä–µ–∑ try/catch</li>
<li>–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∫–æ–º–ø–æ–∑–∏—Ü–∏–∏ (Promise.all, Promise.race)</li>
</ul>
<h3 id="event-loop-–∏-setimmediate"><a class="header" href="#event-loop-–∏-setimmediate">Event Loop –∏ setImmediate</a></h3>
<p><strong>–ó–∞—á–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å setImmediate?</strong></p>
<pre><code class="language-javascript">// –ë–ï–ó setImmediate ‚Äî —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ
resolve(instance);
// resolve –º–æ–∂–µ—Ç –≤—ã–∑–≤–∞—Ç—å –¥–ª–∏–Ω–Ω—É—é —Ü–µ–ø–æ—á–∫—É —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–≥–æ –∫–æ–¥–∞

// –° setImmediate ‚Äî –ø–µ—Ä–µ–¥–∞—á–∞ –∫–≤–∞–Ω—Ç–∞ –≤—Ä–µ–º–µ–Ω–∏
setImmediate(() =&gt; {
  resolve(instance);
});
// –î—Ä—É–≥–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –≤ event loop –ø–æ–ª—É—á–∞—Ç —à–∞–Ω—Å –≤—ã–ø–æ–ª–Ω–∏—Ç—å—Å—è
</code></pre>
<p><strong>–§–∞–∑—ã Event Loop:</strong></p>
<pre><code>   ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îå‚îÄ&gt;‚îÇ           timers          ‚îÇ ‚Äî setTimeout, setInterval
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  ‚îÇ     pending callbacks     ‚îÇ ‚Äî —Å–∏—Å—Ç–µ–º–Ω—ã–µ –∫–æ–ª–±–µ–∫–∏
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  ‚îÇ       idle, prepare       ‚îÇ ‚Äî –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò      ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê      ‚îÇ   incoming:   ‚îÇ
‚îÇ  ‚îÇ           poll            ‚îÇ&lt;‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§  connections, ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò      ‚îÇ   data, etc.  ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê      ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
‚îÇ  ‚îÇ           check           ‚îÇ ‚Äî setImmediate
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îî‚îÄ‚îÄ‚î§      close callbacks      ‚îÇ ‚Äî socket.on('close', ...)
   ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
</code></pre>
<p>setImmediate –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –≤ —Ñ–∞–∑–µ <strong>check</strong>, –ø–æ–∑–≤–æ–ª—è—è –¥—Ä—É–≥–∏–º –æ–ø–µ—Ä–∞—Ü–∏—è–º –∑–∞–≤–µ—Ä—à–∏—Ç—å—Å—è.</p>
<hr />
<h2 id="–†–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–Ω—ã–µ-–æ—à–∏–±–∫–∏-–∏-–∏—Ö-–ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ"><a class="header" href="#–†–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–Ω—ã–µ-–æ—à–∏–±–∫–∏-–∏-–∏—Ö-–ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ">–†–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–Ω—ã–µ –æ—à–∏–±–∫–∏ –∏ –∏—Ö –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ</a></h2>
<h3 id="–û—à–∏–±–∫–∞-1-–ó–∞–±—ã–ª–∏-–≤—ã–∑–≤–∞—Ç—å-release"><a class="header" href="#–û—à–∏–±–∫–∞-1-–ó–∞–±—ã–ª–∏-–≤—ã–∑–≤–∞—Ç—å-release">–û—à–∏–±–∫–∞ 1: –ó–∞–±—ã–ª–∏ –≤—ã–∑–≤–∞—Ç—å release</a></h3>
<pre><code class="language-javascript">// –ù–ï–ü–†–ê–í–ò–õ–¨–ù–û
const conn = await pool.getInstance();
await conn.query('SELECT * FROM users');
// –ó–∞–±—ã–ª–∏ –≤–µ—Ä–Ω—É—Ç—å –≤ –ø—É–ª ‚Äî —É—Ç–µ—á–∫–∞ —Ä–µ—Å—É—Ä—Å–æ–≤!

// –ü–†–ê–í–ò–õ–¨–ù–û
const conn = await pool.getInstance();
try {
  await conn.query('SELECT * FROM users');
} finally {
  pool.release(conn);  // –ì–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏–µ
}
</code></pre>
<p><strong>–†–µ—à–µ–Ω–∏–µ:</strong> –í—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å try/finally –∏–ª–∏ –æ–±–µ—Ä–Ω—É—Ç—å –≤ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π –º–µ—Ç–æ–¥:</p>
<pre><code class="language-javascript">async withInstance(callback) {
  const instance = await this.getInstance();
  try {
    return await callback(instance);
  } finally {
    this.release(instance);
  }
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
await pool.withInstance(async (conn) =&gt; {
  return await conn.query('SELECT * FROM users');
});
</code></pre>
<h3 id="–û—à–∏–±–∫–∞-2-–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ-—Å—Å—ã–ª–∫–∏-–∏-–ø–æ–≤—Ç–æ—Ä–Ω–æ–µ-–æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏–µ"><a class="header" href="#–û—à–∏–±–∫–∞-2-–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ-—Å—Å—ã–ª–∫–∏-–∏-–ø–æ–≤—Ç–æ—Ä–Ω–æ–µ-–æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏–µ">–û—à–∏–±–∫–∞ 2: –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å—Å—ã–ª–∫–∏ –∏ –ø–æ–≤—Ç–æ—Ä–Ω–æ–µ –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏–µ</a></h3>
<pre><code class="language-javascript">// –ù–ï–ü–†–ê–í–ò–õ–¨–ù–û
const conn = await pool.getInstance();
const savedRef = conn;  // –°–æ—Ö—Ä–∞–Ω–∏–ª–∏ —Å—Å—ã–ª–∫—É

pool.release(conn);
// ... –ø–æ–∑–∂–µ ...
pool.release(savedRef);  // Error: already free instance
</code></pre>
<p><strong>–ó–∞—â–∏—Ç–∞ –≤ –∫–æ–¥–µ:</strong></p>
<pre><code class="language-javascript">if (this.free[index]) {
  throw new Error('Attempting to release an already free instance');
}
</code></pre>
<h3 id="–û—à–∏–±–∫–∞-3-–í–æ–∑–≤—Ä–∞—Ç-—á—É–∂–æ–≥–æ-–∏–Ω—Å—Ç–∞–Ω—Å–∞"><a class="header" href="#–û—à–∏–±–∫–∞-3-–í–æ–∑–≤—Ä–∞—Ç-—á—É–∂–æ–≥–æ-–∏–Ω—Å—Ç–∞–Ω—Å–∞">–û—à–∏–±–∫–∞ 3: –í–æ–∑–≤—Ä–∞—Ç "—á—É–∂–æ–≥–æ" –∏–Ω—Å—Ç–∞–Ω—Å–∞</a></h3>
<pre><code class="language-javascript">// –ù–ï–ü–†–ê–í–ò–õ–¨–ù–û
const externalConn = createConnection();
pool.release(externalConn);  // Error: not managed by this pool
</code></pre>
<p><strong>–ó–∞—â–∏—Ç–∞ –≤ –∫–æ–¥–µ:</strong></p>
<pre><code class="language-javascript">const index = this.instances.indexOf(instance);
if (index === -1) {
  throw new Error('Attempting to release an instance not managed by this pool');
}
</code></pre>
<hr />
<h2 id="–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è-–∏-–ª—É—á—à–∏–µ-–ø—Ä–∞–∫—Ç–∏–∫–∏"><a class="header" href="#–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è-–∏-–ª—É—á—à–∏–µ-–ø—Ä–∞–∫—Ç–∏–∫–∏">–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∏ –ª—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏</a></h2>
<h3 id="1-–í—ã–±–æ—Ä-–ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ-—Ä–∞–∑–º–µ—Ä–∞-–ø—É–ª–∞"><a class="header" href="#1-–í—ã–±–æ—Ä-–ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ-—Ä–∞–∑–º–µ—Ä–∞-–ø—É–ª–∞">1. –í—ã–±–æ—Ä –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ —Ä–∞–∑–º–µ—Ä–∞ –ø—É–ª–∞</a></h3>
<pre><code class="language-javascript">// –§–æ—Ä–º—É–ª–∞ –¥–ª—è –ø—É–ª–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π –∫ –ë–î:
// connections = ((core_count * 2) + effective_spindle_count)

const cpuCount = require('os').cpus().length;
const poolSize = (cpuCount * 2) + 1;

const pool = new AsyncPool(dbConnectionFactory, {
  size: poolSize,
  timeout: 5000
});
</code></pre>
<h3 id="2-–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥-—Å–æ—Å—Ç–æ—è–Ω–∏—è-–ø—É–ª–∞"><a class="header" href="#2-–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥-—Å–æ—Å—Ç–æ—è–Ω–∏—è-–ø—É–ª–∞">2. –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å–æ—Å—Ç–æ—è–Ω–∏—è –ø—É–ª–∞</a></h3>
<pre><code class="language-javascript">class MonitoredAsyncPool extends AsyncPool {
  getStats() {
    return {
      size: this.size,
      available: this.available,
      inUse: this.size - this.available,
      queueLength: this.queue.length,
      utilizationPercent: ((this.size - this.available) / this.size * 100).toFixed(2)
    };
  }

  logStats() {
    const stats = this.getStats();
    console.log(`Pool: ${stats.inUse}/${stats.size} in use, ${stats.queueLength} waiting, ${stats.utilizationPercent}% utilization`);
  }
}
</code></pre>
<h3 id="3-graceful-shutdown"><a class="header" href="#3-graceful-shutdown">3. Graceful shutdown</a></h3>
<pre><code class="language-javascript">class GracefulAsyncPool extends AsyncPool {
  async drain() {
    // –ñ–¥–µ–º –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏—è –≤—Å–µ—Ö –∏–Ω—Å—Ç–∞–Ω—Å–æ–≤
    while (this.available &lt; this.size) {
      await new Promise(resolve =&gt; setTimeout(resolve, 100));
    }

    // –ó–∞–∫—Ä—ã–≤–∞–µ–º –≤—Å–µ –∏–Ω—Å—Ç–∞–Ω—Å—ã
    for (const instance of this.instances) {
      if (instance.close) {
        await instance.close();
      }
    }

    this.instances = [];
    this.free = [];
    this.size = 0;
    this.available = 0;
  }
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
process.on('SIGTERM', async () =&gt; {
  console.log('Draining pool...');
  await pool.drain();
  process.exit(0);
});
</code></pre>
<hr />
<h2 id="–°—Ä–∞–≤–Ω–µ–Ω–∏–µ-—Å-–¥—Ä—É–≥–∏–º–∏-–ø–∞—Ç—Ç–µ—Ä–Ω–∞–º–∏"><a class="header" href="#–°—Ä–∞–≤–Ω–µ–Ω–∏–µ-—Å-–¥—Ä—É–≥–∏–º–∏-–ø–∞—Ç—Ç–µ—Ä–Ω–∞–º–∏">–°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å –¥—Ä—É–≥–∏–º–∏ –ø–∞—Ç—Ç–µ—Ä–Ω–∞–º–∏</a></h2>
<h3 id="asyncpool-vs-semaphore"><a class="header" href="#asyncpool-vs-semaphore">AsyncPool vs Semaphore</a></h3>
<pre><code class="language-javascript">// –°–µ–º–∞—Ñ–æ—Ä ‚Äî –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
class Semaphore {
  constructor(max) {
    this.max = max;
    this.current = 0;
    this.queue = [];
  }

  async acquire() {
    if (this.current &lt; this.max) {
      this.current++;
      return;
    }

    await new Promise(resolve =&gt; this.queue.push(resolve));
  }

  release() {
    if (this.queue.length &gt; 0) {
      const resolve = this.queue.shift();
      resolve();
    } else {
      this.current--;
    }
  }
}

// AsyncPool ‚Äî —É–ø—Ä–∞–≤–ª—è–µ—Ç –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–º–∏ —ç–∫–∑–µ–º–ø–ª—è—Ä–∞–º–∏ –æ–±—ä–µ–∫—Ç–æ–≤
</code></pre>
<p><strong>–†–∞–∑–ª–∏—á–∏—è:</strong></p>
<ul>
<li><strong>–°–µ–º–∞—Ñ–æ—Ä</strong> ‚Äî –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–π —Å—á–µ—Ç—á–∏–∫, –Ω–µ —Ö—Ä–∞–Ω–∏—Ç –æ–±—ä–µ–∫—Ç—ã</li>
<li><strong>AsyncPool</strong> ‚Äî —É–ø—Ä–∞–≤–ª—è–µ—Ç –∂–∏–∑–Ω–µ–Ω–Ω—ã–º —Ü–∏–∫–ª–æ–º –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö –∏–Ω—Å—Ç–∞–Ω—Å–æ–≤</li>
</ul>
<h3 id="asyncpool-vs-worker-pool"><a class="header" href="#asyncpool-vs-worker-pool">AsyncPool vs Worker Pool</a></h3>
<pre><code class="language-javascript">// Worker Pool ‚Äî –ø—É–ª –ø–æ—Ç–æ–∫–æ–≤ –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–¥–∞—á
const { Worker } = require('worker_threads');

class WorkerPool {
  constructor(workerScript, poolSize) {
    this.workers = [];
    for (let i = 0; i &lt; poolSize; i++) {
      this.workers.push(new Worker(workerScript));
    }
  }

  async exec(data) {
    const worker = await this.getAvailableWorker();
    return new Promise((resolve, reject) =&gt; {
      worker.once('message', resolve);
      worker.once('error', reject);
      worker.postMessage(data);
    });
  }
}
</code></pre>
<p><strong>–†–∞–∑–ª–∏—á–∏—è:</strong></p>
<ul>
<li><strong>Worker Pool</strong> ‚Äî —Å–ø–µ—Ü–∏—Ñ–∏—á–µ–Ω –¥–ª—è –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã—Ö –≤—ã—á–∏—Å–ª–µ–Ω–∏–π</li>
<li><strong>AsyncPool</strong> ‚Äî —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π –ø–∞—Ç—Ç–µ—Ä–Ω –¥–ª—è –ª—é–±—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤</li>
</ul>
<hr />
<h2 id="–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è-—Å-—Ä–µ–∞–ª—å–Ω—ã–º–∏-–±–∏–±–ª–∏–æ—Ç–µ–∫–∞–º–∏"><a class="header" href="#–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è-—Å-—Ä–µ–∞–ª—å–Ω—ã–º–∏-–±–∏–±–ª–∏–æ—Ç–µ–∫–∞–º–∏">–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ –±–∏–±–ª–∏–æ—Ç–µ–∫–∞–º–∏</a></h2>
<h3 id="–ü—Ä–∏–º–µ—Ä-–ü—É–ª-–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π-–∫-postgresql"><a class="header" href="#–ü—Ä–∏–º–µ—Ä-–ü—É–ª-–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π-–∫-postgresql">–ü—Ä–∏–º–µ—Ä: –ü—É–ª –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π –∫ PostgreSQL</a></h3>
<pre><code class="language-javascript">const { Client } = require('pg');

const pgConnectionFactory = (index) =&gt; {
  const client = new Client({
    host: 'localhost',
    port: 5432,
    database: 'mydb',
    user: 'user',
    password: 'password'
  });

  // –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ
  client.connect();

  return client;
};

const dbPool = new AsyncPool(pgConnectionFactory, {
  size: 20,
  timeout: 10000
});

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
async function getUser(id) {
  const client = await dbPool.getInstance();
  try {
    const result = await client.query('SELECT * FROM users WHERE id = $1', [id]);
    return result.rows[0];
  } finally {
    dbPool.release(client);
  }
}
</code></pre>
<h3 id="–ü—Ä–∏–º–µ—Ä-–ü—É–ª-http-–∞–≥–µ–Ω—Ç–æ–≤"><a class="header" href="#–ü—Ä–∏–º–µ—Ä-–ü—É–ª-http-–∞–≥–µ–Ω—Ç–æ–≤">–ü—Ä–∏–º–µ—Ä: –ü—É–ª HTTP-–∞–≥–µ–Ω—Ç–æ–≤</a></h3>
<pre><code class="language-javascript">const https = require('https');

const httpsAgentFactory = () =&gt; {
  return new https.Agent({
    keepAlive: true,
    maxSockets: 1,  // –û–¥–∏–Ω —Å–æ–∫–µ—Ç –Ω–∞ –∞–≥–µ–Ω—Ç
    timeout: 5000
  });
};

const agentPool = new AsyncPool(httpsAgentFactory, {
  size: 50,  // 50 –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π
  timeout: 3000
});

async function fetchData(url) {
  const agent = await agentPool.getInstance();
  try {
    return await new Promise((resolve, reject) =&gt; {
      https.get(url, { agent }, (res) =&gt; {
        let data = '';
        res.on('data', chunk =&gt; data += chunk);
        res.on('end', () =&gt; resolve(data));
      }).on('error', reject);
    });
  } finally {
    agentPool.release(agent);
  }
}
</code></pre>
<hr />
<h2 id="–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ-asyncpool"><a class="header" href="#–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ-asyncpool">–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ AsyncPool</a></h2>
<h3 id="–ë–∞–∑–æ–≤—ã–π-—Ç–µ—Å—Ç-—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏"><a class="header" href="#–ë–∞–∑–æ–≤—ã–π-—Ç–µ—Å—Ç-—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏">–ë–∞–∑–æ–≤—ã–π —Ç–µ—Å—Ç —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏</a></h3>
<pre><code class="language-javascript">const assert = require('assert');

describe('AsyncPool', () =&gt; {
  it('should create instances via factory', async () =&gt; {
    let factoryCallCount = 0;
    const factory = () =&gt; ({ id: factoryCallCount++ });

    const pool = new AsyncPool(factory, 5);

    assert.strictEqual(pool.size, 5);
    assert.strictEqual(pool.available, 5);
    assert.strictEqual(factoryCallCount, 5);
  });

  it('should provide instances immediately when available', async () =&gt; {
    const factory = (i) =&gt; ({ id: i });
    const pool = new AsyncPool(factory, 3);

    const inst1 = await pool.getInstance();
    const inst2 = await pool.getInstance();

    assert.strictEqual(pool.available, 1);
    assert.ok(inst1.id !== inst2.id);
  });

  it('should queue requests when pool exhausted', async () =&gt; {
    const factory = (i) =&gt; ({ id: i });
    const pool = new AsyncPool(factory, 2);

    const inst1 = await pool.getInstance();
    const inst2 = await pool.getInstance();

    let inst3Resolved = false;
    const inst3Promise = pool.getInstance().then(inst =&gt; {
      inst3Resolved = true;
      return inst;
    });

    // inst3 –¥–æ–ª–∂–µ–Ω –∂–¥–∞—Ç—å
    await new Promise(resolve =&gt; setImmediate(resolve));
    assert.strictEqual(inst3Resolved, false);

    // –û—Å–≤–æ–±–æ–∂–¥–∞–µ–º inst1
    pool.release(inst1);

    const inst3 = await inst3Promise;
    assert.strictEqual(inst3Resolved, true);
    assert.strictEqual(inst3.id, inst1.id);  // –ü–æ–ª—É—á–∏–ª–∏ —Ç–æ—Ç –∂–µ –∏–Ω—Å—Ç–∞–Ω—Å
  });

  it('should reject on timeout', async () =&gt; {
    const factory = (i) =&gt; ({ id: i });
    const pool = new AsyncPool(factory, { size: 1, timeout: 100 });

    const inst1 = await pool.getInstance();

    // –í—Ç–æ—Ä–æ–π –∑–∞–ø—Ä–æ—Å –¥–æ–ª–∂–µ–Ω —É–ø–∞—Å—Ç—å –ø–æ —Ç–∞–π–º–∞—É—Ç—É
    await assert.rejects(
      pool.getInstance(),
      /Pool timeout exceeded/
    );
  });

  it('should throw when releasing foreign instance', async () =&gt; {
    const factory = (i) =&gt; ({ id: i });
    const pool = new AsyncPool(factory, 2);

    const foreignInstance = { id: 999 };

    assert.throws(
      () =&gt; pool.release(foreignInstance),
      /not managed by this pool/
    );
  });

  it('should throw when releasing already free instance', async () =&gt; {
    const factory = (i) =&gt; ({ id: i });
    const pool = new AsyncPool(factory, 2);

    const inst = await pool.getInstance();
    pool.release(inst);

    assert.throws(
      () =&gt; pool.release(inst),
      /already free instance/
    );
  });
});
</code></pre>
<h3 id="–ù–∞–≥—Ä—É–∑–æ—á–Ω—ã–π-—Ç–µ—Å—Ç"><a class="header" href="#–ù–∞–≥—Ä—É–∑–æ—á–Ω—ã–π-—Ç–µ—Å—Ç">–ù–∞–≥—Ä—É–∑–æ—á–Ω—ã–π —Ç–µ—Å—Ç</a></h3>
<pre><code class="language-javascript">async function stressTest() {
  const factory = (i) =&gt; ({
    id: i,
    async work() {
      await new Promise(resolve =&gt; setTimeout(resolve, Math.random() * 100));
    }
  });

  const pool = new AsyncPool(factory, { size: 10, timeout: 5000 });
  const operations = [];

  // 1000 –æ–ø–µ—Ä–∞—Ü–∏–π
  for (let i = 0; i &lt; 1000; i++) {
    operations.push((async () =&gt; {
      const inst = await pool.getInstance();
      try {
        await inst.work();
      } finally {
        pool.release(inst);
      }
    })());
  }

  const start = Date.now();
  await Promise.all(operations);
  const duration = Date.now() - start;

  console.log(`Completed 1000 operations in ${duration}ms`);
  console.log(`Average: ${(duration / 1000).toFixed(2)}ms per operation`);
}
</code></pre>
<hr />
<h2 id="–†–µ–∑—é–º–µ-8"><a class="header" href="#–†–µ–∑—é–º–µ-8">–†–µ–∑—é–º–µ</a></h2>
<h3 id="–û—Å–Ω–æ–≤–Ω—ã–µ-–ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞-asyncpool"><a class="header" href="#–û—Å–Ω–æ–≤–Ω—ã–µ-–ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞-asyncpool">–û—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ AsyncPool</a></h3>
<p>‚úÖ <strong>–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤</strong> ‚Äî –∫–æ–Ω—Ç—Ä–æ–ª—å –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤</p>
<p>‚úÖ <strong>–ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ</strong> ‚Äî —Å–æ–∑–¥–∞–Ω–∏–µ –¥–æ—Ä–æ–≥–æ—Å—Ç–æ—è—â–∏—Ö –æ–±—ä–µ–∫—Ç–æ–≤ –æ–¥–∏–Ω —Ä–∞–∑, –º–Ω–æ–≥–æ–∫—Ä–∞—Ç–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ</p>
<p>‚úÖ <strong>–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–µ –æ–∂–∏–¥–∞–Ω–∏–µ</strong> ‚Äî —ç–ª–µ–≥–∞–Ω—Ç–Ω—ã–π Promise-–∫–æ–Ω—Ç—Ä–∞–∫—Ç –≤–º–µ—Å—Ç–æ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ –∏–ª–∏ –∫–æ–ª–±–µ–∫–æ–≤</p>
<p>‚úÖ <strong>–ó–∞—â–∏—Ç–∞ –æ—Ç –æ—à–∏–±–æ–∫</strong> ‚Äî –≤–∞–ª–∏–¥–∞—Ü–∏—è –≤–æ–∑–≤—Ä–∞—â–∞–µ–º—ã—Ö –∏–Ω—Å—Ç–∞–Ω—Å–æ–≤, –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ –¥–≤–æ–π–Ω–æ–≥–æ –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏—è</p>
<p>‚úÖ <strong>–ì–∏–±–∫–æ—Å—Ç—å</strong> ‚Äî –ø–æ–¥–¥–µ—Ä–∂–∫–∞ —Ç–∞–π–º–∞—É—Ç–æ–≤, —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è –ø—É–ª–∞, –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞</p>
<h3 id="–ö–æ–≥–¥–∞-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å-7"><a class="header" href="#–ö–æ–≥–¥–∞-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å-7">–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å</a></h3>
<p>üéØ <strong>–ü–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –±–∞–∑–∞–º –¥–∞–Ω–Ω—ã—Ö</strong> ‚Äî –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π</p>
<p>üéØ <strong>HTTP-–∫–ª–∏–µ–Ω—Ç—ã</strong> ‚Äî –∫–æ–Ω—Ç—Ä–æ–ª—å –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ –≤–Ω–µ—à–Ω–∏–º API</p>
<p>üéØ <strong>–§–∞–π–ª–æ–≤—ã–µ –¥–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä—ã</strong> ‚Äî –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –æ—Ç–∫—Ä—ã—Ç—ã—Ö —Ñ–∞–π–ª–æ–≤</p>
<p>üéØ <strong>–¢—è–∂–µ–ª—ã–µ –æ–±—ä–µ–∫—Ç—ã</strong> ‚Äî –ø–∞—Ä—Å–µ—Ä—ã, –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä—ã, –∫—Ä–∏–ø—Ç–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç—ã</p>
<p>üéØ <strong>Worker threads</strong> ‚Äî –ø—É–ª –ø–æ—Ç–æ–∫–æ–≤ –¥–ª—è –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã—Ö –≤—ã—á–∏—Å–ª–µ–Ω–∏–π</p>
<h3 id="–ö–æ–≥–¥–∞-–ù–ï-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å-1"><a class="header" href="#–ö–æ–≥–¥–∞-–ù–ï-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å-1">–ö–æ–≥–¥–∞ –ù–ï –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å</a></h3>
<p>‚ùå <strong>–õ–µ–≥–∫–æ–≤–µ—Å–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã</strong> ‚Äî –Ω–∞–∫–ª–∞–¥–Ω—ã–µ —Ä–∞—Å—Ö–æ–¥—ã –ø—É–ª–∞ –ø–µ—Ä–µ–≤–µ—Å—è—Ç –≤—ã–≥–æ–¥—É</p>
<p>‚ùå <strong>–û–¥–Ω–æ—Ä–∞–∑–æ–≤—ã–µ –æ–±—ä–µ–∫—Ç—ã</strong> ‚Äî –µ—Å–ª–∏ –æ–±—ä–µ–∫—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –µ–¥–∏–Ω–æ–∂–¥—ã</p>
<p>‚ùå <strong>–û–±—ä–µ–∫—Ç—ã —Å —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º</strong> ‚Äî –µ—Å–ª–∏ —Å–±—Ä–æ—Å —Å–æ—Å—Ç–æ—è–Ω–∏—è –Ω–µ–≤–æ–∑–º–æ–∂–µ–Ω –∏–ª–∏ —Å–ª–æ–∂–µ–Ω</p>
<p>‚ùå <strong>–ú–∞–ª–∞—è –Ω–∞–≥—Ä—É–∑–∫–∞</strong> ‚Äî –ø—Ä–∏ —Ä–µ–¥–∫–∏—Ö –∑–∞–ø—Ä–æ—Å–∞—Ö –ø—É–ª –Ω–µ –¥–∞—Å—Ç –≤—ã–∏–≥—Ä—ã—à–∞</p>
<hr />
<h2 id="–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ-–º–∞—Ç–µ—Ä–∏–∞–ª—ã-8"><a class="header" href="#–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ-–º–∞—Ç–µ—Ä–∏–∞–ª—ã-8">–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã</a></h2>
<h3 id="–°—Å—ã–ª–∫–∏-–Ω–∞-–∏—Å—Ö–æ–¥–Ω—ã–π-–∫–æ–¥"><a class="header" href="#–°—Å—ã–ª–∫–∏-–Ω–∞-–∏—Å—Ö–æ–¥–Ω—ã–π-–∫–æ–¥">–°—Å—ã–ª–∫–∏ –Ω–∞ –∏—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥</a></h3>
<p>–ü—Ä–æ–¥–∞–∫—à–Ω-–≤–µ—Ä—Å–∏—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–≥–æ –ø—É–ª–∞ –¥–æ—Å—Ç—É–ø–Ω–∞ –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ <strong>Metarhia</strong>:</p>
<ul>
<li><a href="https://github.com/metarhia/metautil">AsyncPool –≤ Metarhia</a></li>
</ul>
<p>–î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ –ø—Ä–∏–º–µ—Ä—ã –∏–∑ –ª–µ–∫—Ü–∏–∏:</p>
<ul>
<li>–ë–∞–∑–æ–≤–∞—è –≤–µ—Ä—Å–∏—è AsyncPool</li>
<li>AsyncPool —Å —Ç–∞–π–º–∞—É—Ç–æ–º —á–µ—Ä–µ–∑ setTimeout</li>
<li>AsyncPool —Å AbortSignal</li>
</ul>
<h3 id="–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏-–ø–æ-—É–≥–ª—É–±–ª–µ–Ω–∏—é"><a class="header" href="#–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏-–ø–æ-—É–≥–ª—É–±–ª–µ–Ω–∏—é">–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ —É–≥–ª—É–±–ª–µ–Ω–∏—é</a></h3>
<ol>
<li>
<p><strong>–ò–∑—É—á–∏—Ç–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –≤ –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö –±–∏–±–ª–∏–æ—Ç–µ–∫–∞—Ö:</strong></p>
<ul>
<li><code>pg-pool</code> –¥–ª—è PostgreSQL</li>
<li><code>generic-pool</code> ‚Äî —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –ø—É–ª–æ–≤</li>
<li><code>tarn</code> ‚Äî —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–∞—è –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ —Å TypeScript</li>
</ul>
</li>
<li>
<p><strong>–≠–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ —Å –∫–æ–¥–æ–º:</strong></p>
<ul>
<li>–ù–∞–ø–∏—à–∏—Ç–µ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—É—é —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é —Å –Ω—É–ª—è</li>
<li>–î–æ–±–∞–≤—å—Ç–µ –º–µ—Ç—Ä–∏–∫–∏ –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥</li>
<li>–†–µ–∞–ª–∏–∑—É–π—Ç–µ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ –≤—ã—Ç–µ—Å–Ω–µ–Ω–∏—è (LIFO, FIFO, LRU)</li>
</ul>
</li>
<li>
<p><strong>–ü—Ä–∏–º–µ–Ω–∏—Ç–µ –Ω–∞ –ø—Ä–∞–∫—Ç–∏–∫–µ:</strong></p>
<ul>
<li>–°–æ–∑–¥–∞–π—Ç–µ –ø—É–ª –¥–ª—è –≤–∞—à–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞</li>
<li>–ü—Ä–æ–≤–µ–¥–∏—Ç–µ –Ω–∞–≥—Ä—É–∑–æ—á–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ</li>
<li>–°—Ä–∞–≤–Ω–∏—Ç–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Å/–±–µ–∑ –ø—É–ª–∞</li>
</ul>
</li>
</ol>
<hr />
<h2 id="–ó–∞–∫–ª—é—á–µ–Ω–∏–µ-11"><a class="header" href="#–ó–∞–∫–ª—é—á–µ–Ω–∏–µ-11">–ó–∞–∫–ª—é—á–µ–Ω–∏–µ</a></h2>
<p>AsyncPool ‚Äî —ç—Ç–æ —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–∞–ª—å–Ω—ã–π –ø–∞—Ç—Ç–µ—Ä–Ω –¥–ª—è —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–≥–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ä–µ—Å—É—Ä—Å–∞–º–∏ –≤ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö Node.js –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è—Ö. –ü–æ–Ω–∏–º–∞–Ω–∏–µ –µ–≥–æ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–≥–æ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ –ø–æ–∑–≤–æ–ª—è–µ—Ç:</p>
<ul>
<li>–ü–∏—Å–∞—Ç—å –±–æ–ª–µ–µ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–π –∫–æ–¥</li>
<li>–ò–∑–±–µ–≥–∞—Ç—å —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–Ω—ã—Ö –æ—à–∏–±–æ–∫ —Å —Ä–µ—Å—É—Ä—Å–∞–º–∏</li>
<li>–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π</li>
<li>–ü—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º—ã–µ —Å–∏—Å—Ç–µ–º—ã</li>
</ul>
<p>–ü—Ä–∞–∫—Ç–∏–∫—É–π—Ç–µ—Å—å –≤ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —ç—Ç–æ–≥–æ –ø–∞—Ç—Ç–µ—Ä–Ω–∞, —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ —Å —Ä–∞–∑–ª–∏—á–Ω—ã–º–∏ —Å—Ç—Ä–∞—Ç–µ–≥–∏—è–º–∏ –∏ –∞–¥–∞–ø—Ç–∏—Ä—É–π—Ç–µ –µ–≥–æ –ø–æ–¥ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –∑–∞–¥–∞—á–∏ –≤–∞—à–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞.</p>
<p><strong>–£—Å–ø–µ—Ö–æ–≤ –≤ –∏–∑—É—á–µ–Ω–∏–∏ –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–≥–æ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è!</strong> üöÄ</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="week-5---contracts-interfaces-for-component-interaction"><a class="header" href="#week-5---contracts-interfaces-for-component-interaction">Week 5 - Contracts: Interfaces for Component Interaction</a></h1>
<ul>
<li><a href="week5/%D0%BA%D0%BE%D0%BD%D1%82%D1%80%D0%B0%D0%BA%D1%82%D0%BD%D0%BE%D0%B5-%D0%BF%D1%80%D0%BE%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5-lecture-notes.html">–ö–æ–Ω—Ç—Ä–∞–∫—Ç–Ω–æ–µ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ</a></li>
<li><a href="week5/nodejs-layers-low-coupling-lecture-notes.html">Layers and Low Coupling –Ω–∞ –ø—Ä–∏–º–µ—Ä–µ –∫–æ–Ω—Ñ–∏–≥–∞ –∏ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞</a></li>
<li><a href="week5/adapter-pattern-lecture-notes.html">Adapter</a></li>
<li><a href="week5/proxy-pattern-lecture-notes.html">Proxy</a></li>
<li><a href="week5/facade-pattern-lecture-notes.html">Facade</a></li>
<li><a href="week5/composite-pattern-lecture-notes.html">Composite</a></li>
<li>GRASP: <a href="week5/grasp-coupling-cohesion-lecture-notes.html">–ó–∞—Ü–µ–ø–ª–µ–Ω–∏–µ –∏ —Å–≤—è–∑–Ω–æ—Å—Ç—å ‚Äî Coupling and Cohesion</a></li>
<li><a href="week5/solid-lsp-principle-lecture-notes.html">SOLID: Liskov substitution principle (LSP) ‚Äî –ü—Ä–∏–Ω—Ü–∏–ø –ø–æ–¥—Å—Ç–∞–Ω–æ–≤–∫–∏ –ë–∞—Ä–±–∞—Ä—ã –õ–∏—Å–∫–æ–≤</a></li>
<li><a href="week5/adapter-pattern-qa-lecture-notes.html">–°–µ–º–∏–Ω–∞—Ä –ø–æ –∞–¥–∞–ø—Ç–µ—Ä–∞–º –¥–ª—è Node.js –∏ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–≥–æ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="–ö–æ–Ω—Ç—Ä–∞–∫—Ç–Ω–æ–µ-–ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ-—Å-–ø—Ä–∏–º–µ—Ä–∞–º–∏-–Ω–∞-javascript-–∏-nodejs"><a class="header" href="#–ö–æ–Ω—Ç—Ä–∞–∫—Ç–Ω–æ–µ-–ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ-—Å-–ø—Ä–∏–º–µ—Ä–∞–º–∏-–Ω–∞-javascript-–∏-nodejs">–ö–æ–Ω—Ç—Ä–∞–∫—Ç–Ω–æ–µ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ —Å –ø—Ä–∏–º–µ—Ä–∞–º–∏ –Ω–∞ JavaScript –∏ Node.js</a></h1>
<h2 id="–û–±–∑–æ—Ä-18"><a class="header" href="#–û–±–∑–æ—Ä-18">–û–±–∑–æ—Ä</a></h2>
<p>–ö–æ–Ω—Ç—Ä–∞–∫—Ç–Ω–æ–µ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ (Contract Programming) ‚Äî —ç—Ç–æ –ø–æ–¥—Ö–æ–¥ –∫ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ –ø—Ä–æ–≥—Ä–∞–º–º–Ω–æ–≥–æ –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∑–≤–æ–ª—è–µ—Ç —Ñ–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞—Ç—å —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ —Ñ—É–Ω–∫—Ü–∏—è–º, –º–µ—Ç–æ–¥–∞–º –∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º —Å–∏—Å—Ç–µ–º—ã —á–µ—Ä–µ–∑ –¥–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –≤—Ö–æ–¥–Ω—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤, –≤—ã—Ö–æ–¥–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π –∏ –ø–æ–≤–µ–¥–µ–Ω–∏—è. –ö–æ–Ω—Ç—Ä–∞–∫—Ç—ã –ø—Ä–æ–≤–µ—Ä—è—é—Ç—Å—è –≤ runtime –∏ –æ–±–µ—Å–ø–µ—á–∏–≤–∞—é—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π —É—Ä–æ–≤–µ–Ω—å –Ω–∞–¥—ë–∂–Ω–æ—Å—Ç–∏ –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π.</p>
<p>–≠—Ç–∞ –ª–µ–∫—Ü–∏—è —Ä–∞—Å—Å–º–∞—Ç—Ä–∏–≤–∞–µ—Ç:</p>
<ul>
<li>–û—Ç–ª–∏—á–∏–µ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤ –æ—Ç –ø—Ä–æ—Ç–æ–∫–æ–ª–æ–≤ –∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤</li>
<li>–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤ –≤ JavaScript/Node.js</li>
<li>–î–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω—ã–π –ø–æ–¥—Ö–æ–¥ –∫ –æ–ø–∏—Å–∞–Ω–∏—é –∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤</li>
<li>–ü—Ä–∏–º–µ—Ä—ã –∏–∑ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–æ–≥–æ —Å—Ç–µ–∫–∞ MetarhiaJS</li>
<li>–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–Ω–æ–≥–æ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è</li>
</ul>
<hr />
<h2 id="–ü—Ä–æ—Ç–æ–∫–æ–ª—ã-–≤-javascript"><a class="header" href="#–ü—Ä–æ—Ç–æ–∫–æ–ª—ã-–≤-javascript">–ü—Ä–æ—Ç–æ–∫–æ–ª—ã –≤ JavaScript</a></h2>
<h3 id="–ß—Ç–æ-—Ç–∞–∫–æ–µ-–ø—Ä–æ—Ç–æ–∫–æ–ª"><a class="header" href="#–ß—Ç–æ-—Ç–∞–∫–æ–µ-–ø—Ä–æ—Ç–æ–∫–æ–ª">–ß—Ç–æ —Ç–∞–∫–æ–µ –ø—Ä–æ—Ç–æ–∫–æ–ª?</a></h3>
<p>–ü—Ä–æ—Ç–æ–∫–æ–ª –≤ JavaScript ‚Äî —ç—Ç–æ –Ω–µ—á—Ç–æ –ø–æ—Ö–æ–∂–µ–µ –Ω–∞ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å, –Ω–æ –±–æ–ª–µ–µ —à–∏—Ä–æ–∫–æ–µ –ø–æ–Ω—è—Ç–∏–µ. –ü—Ä–æ—Ç–æ–∫–æ–ª –≤–∫–ª—é—á–∞–µ—Ç –≤ —Å–µ–±—è:</p>
<ul>
<li><strong>–°–∏–≥–Ω–∞—Ç—É—Ä—ã –º–µ—Ç–æ–¥–æ–≤</strong> (–Ω–∞–∑–≤–∞–Ω–∏—è, –ø–∞—Ä–∞–º–µ—Ç—Ä—ã, –≤–æ–∑–≤—Ä–∞—â–∞–µ–º—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è)</li>
<li><strong>–ü—Ä–µ–¥—Å–∫–∞–∑—É–µ–º—É—é –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –¥–µ–π—Å—Ç–≤–∏–π</strong></li>
<li><strong>–ö–æ–Ω–∫—Ä–µ—Ç–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ</strong> (–Ω–µ —Ç–æ–ª—å–∫–æ —Ç–∏–ø—ã, –Ω–æ –∏ –ª–æ–≥–∏–∫—É –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è)</li>
</ul>
<p>–í –æ—Ç–ª–∏—á–∏–µ –æ—Ç –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–∏—Ö –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤, –ø—Ä–æ—Ç–æ–∫–æ–ª—ã –≤ JavaScript –ø—Ä–æ–≤–µ—Ä—è—é—Ç—Å—è —Ç–µ—Å—Ç–∞–º–∏, –∞ –Ω–µ –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä–æ–º.</p>
<h3 id="–ü—Ä–∏–º–µ—Ä—ã-–≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã—Ö-–ø—Ä–æ—Ç–æ–∫–æ–ª–æ–≤"><a class="header" href="#–ü—Ä–∏–º–µ—Ä—ã-–≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã—Ö-–ø—Ä–æ—Ç–æ–∫–æ–ª–æ–≤">–ü—Ä–∏–º–µ—Ä—ã –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã—Ö –ø—Ä–æ—Ç–æ–∫–æ–ª–æ–≤</a></h3>
<h4 id="1-–ü—Ä–æ—Ç–æ–∫–æ–ª-iterator-–ò—Ç–µ—Ä–∞—Ç–æ—Ä"><a class="header" href="#1-–ü—Ä–æ—Ç–æ–∫–æ–ª-iterator-–ò—Ç–µ—Ä–∞—Ç–æ—Ä">1. –ü—Ä–æ—Ç–æ–∫–æ–ª Iterator (–ò—Ç–µ—Ä–∞—Ç–æ—Ä)</a></h4>
<p>–ò—Ç–µ—Ä–∞—Ç–æ—Ä ‚Äî —ç—Ç–æ –æ–±—ä–µ–∫—Ç —Å –º–µ—Ç–æ–¥–æ–º <code>next()</code>, –∫–æ—Ç–æ—Ä—ã–π –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—É <code>{ value, done }</code>.</p>
<p><strong>–ü—Ä–∏–º–µ—Ä –±–∞–∑–æ–≤–æ–≥–æ –∏—Ç–µ—Ä–∞—Ç–æ—Ä–∞:</strong></p>
<pre><code class="language-javascript">// –ü—Ä–æ—Å—Ç–µ–π—à–∏–π –∏—Ç–µ—Ä–∞—Ç–æ—Ä, –≤–æ–∑–≤—Ä–∞—â–∞—é—â–∏–π –±–µ—Å–∫–æ–Ω–µ—á–Ω—É—é –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å
const iterator = {
  current: 0,
  next() {
    return {
      value: this.current++,
      done: false  // –ë–µ—Å–∫–æ–Ω–µ—á–Ω—ã–π –∏—Ç–µ—Ä–∞—Ç–æ—Ä
    };
  }
};

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
const it1 = iterator.next(); // { value: 0, done: false }
const it2 = iterator.next(); // { value: 1, done: false }
const it3 = iterator.next(); // { value: 2, done: false }
</code></pre>
<p><strong>–ö–ª—é—á–µ–≤—ã–µ –º–æ–º–µ–Ω—Ç—ã:</strong></p>
<ul>
<li><code>done: false</code> –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –∏—Ç–µ—Ä–∞—Ü–∏—è –Ω–µ –∑–∞–∫–æ–Ω—á–µ–Ω–∞</li>
<li>–í –ø—Ä–∏–º–µ—Ä–µ –≤—ã—à–µ –∏—Ç–µ—Ä–∞—Ç–æ—Ä –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è (–±–µ—Å–∫–æ–Ω–µ—á–Ω—ã–π)</li>
<li>–ü—Ä–æ—Ç–æ–∫–æ–ª –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—É –≤–æ–∑–≤—Ä–∞—â–∞–µ–º–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞</li>
</ul>
<h4 id="2-–ü—Ä–æ—Ç–æ–∫–æ–ª-iterable"><a class="header" href="#2-–ü—Ä–æ—Ç–æ–∫–æ–ª-iterable">2. –ü—Ä–æ—Ç–æ–∫–æ–ª Iterable</a></h4>
<p>Iterable ‚Äî —ç—Ç–æ –±–æ–ª–µ–µ –≤—ã—Å–æ–∫–æ—É—Ä–æ–≤–Ω–µ–≤—ã–π –ø—Ä–æ—Ç–æ–∫–æ–ª. –û–±—ä–µ–∫—Ç —è–≤–ª—è–µ—Ç—Å—è iterable, –µ—Å–ª–∏ —É –Ω–µ–≥–æ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω —Å–∏–º–≤–æ–ª <code>Symbol.iterator</code>, –∫–æ—Ç–æ—Ä—ã–π –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ–±—ä–µ–∫—Ç, —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π –ø—Ä–æ—Ç–æ–∫–æ–ª—É Iterator.</p>
<p><strong>–ü—Ä–∏–º–µ—Ä —Å–æ–∑–¥–∞–Ω–∏—è iterable –æ–±—ä–µ–∫—Ç–∞:</strong></p>
<pre><code class="language-javascript">// –°–æ–∑–¥–∞—ë–º –∫–∞—Å—Ç–æ–º–Ω—ã–π iterable –æ–±—ä–µ–∫—Ç
const myIterable = {
  data: [10, 20, 30, 40],

  // –û–ø—Ä–µ–¥–µ–ª—è–µ–º –º–µ—Ç–æ–¥ Symbol.iterator
  [Symbol.iterator]() {
    let index = 0;
    const data = this.data;

    // –í–æ–∑–≤—Ä–∞—â–∞–µ–º –æ–±—ä–µ–∫—Ç –∏—Ç–µ—Ä–∞—Ç–æ—Ä–∞
    return {
      next() {
        if (index &lt; data.length) {
          return { value: data[index++], done: false };
        }
        return { value: undefined, done: true };
      }
    };
  }
};

// –¢–µ–ø–µ—Ä—å –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ for...of
for (const value of myIterable) {
  console.log(value); // 10, 20, 30, 40
}

// –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å spread –æ–ø–µ—Ä–∞—Ç–æ—Ä
const arr = [...myIterable]; // [10, 20, 30, 40]
</code></pre>
<p><strong>–í–∞–∂–Ω–æ:</strong> –≠—Ç–æ –Ω–µ –º–∞—Å—Å–∏–≤ –∏ –Ω–µ –∫–æ–ª–ª–µ–∫—Ü–∏—è, –∞ –ø—Ä–æ—Å—Ç–æ –æ–±—ä–µ–∫—Ç —Å –∫–ª—é—á–æ–º <code>Symbol.iterator</code>, —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π –∫–æ–Ω—Ç—Ä–∞–∫—Ç—É iterable.</p>
<h4 id="3-–ü—Ä–æ—Ç–æ–∫–æ–ª-thenable"><a class="header" href="#3-–ü—Ä–æ—Ç–æ–∫–æ–ª-thenable">3. –ü—Ä–æ—Ç–æ–∫–æ–ª Thenable</a></h4>
<p>Thenable ‚Äî —ç—Ç–æ –ø—Ä–æ—Ç–æ–∫–æ–ª, –Ω–∞ –±–∞–∑–µ –∫–æ—Ç–æ—Ä–æ–≥–æ –ø–æ—Å—Ç—Ä–æ–µ–Ω—ã Promise. –û–±—ä–µ–∫—Ç —è–≤–ª—è–µ—Ç—Å—è thenable, –µ—Å–ª–∏ —É –Ω–µ–≥–æ –µ—Å—Ç—å –º–µ—Ç–æ–¥ <code>then()</code>.</p>
<p><strong>–ü—Ä–∏–º–µ—Ä:</strong></p>
<pre><code class="language-javascript">// –ü—Ä–æ—Å—Ç–µ–π—à–∏–π thenable –æ–±—ä–µ–∫—Ç
const thenable = {
  then(onFulfilled, onRejected) {
    setTimeout(() =&gt; {
      onFulfilled('Success!');
    }, 1000);
  }
};

// –ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å Promise
Promise.resolve(thenable).then(result =&gt; {
  console.log(result); // 'Success!' (—á–µ—Ä–µ–∑ 1 —Å–µ–∫—É–Ω–¥—É)
});
</code></pre>
<p><strong>–í–∞–∂–Ω–æ–µ –∑–∞–º–µ—á–∞–Ω–∏–µ:</strong></p>
<ul>
<li>Promise –≤—Å–µ–≥–¥–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –ø—Ä–æ—Ç–æ–∫–æ–ª—É Thenable</li>
<li>–ù–æ –Ω–µ –∫–∞–∂–¥—ã–π Thenable —è–≤–ª—è–µ—Ç—Å—è Promise</li>
<li>–ü—Ä–æ—Ç–æ–∫–æ–ª –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ —Ç–µ—Å—Ç—ã, –∞ –Ω–µ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏</li>
</ul>
<h4 id="4-–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π-–∏—Ç–µ—Ä–∞—Ç–æ—Ä-asynciterable"><a class="header" href="#4-–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π-–∏—Ç–µ—Ä–∞—Ç–æ—Ä-asynciterable">4. –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –∏—Ç–µ—Ä–∞—Ç–æ—Ä (AsyncIterable)</a></h4>
<p>–î–ª—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –ø—Ä–æ—Ç–æ–∫–æ–ª AsyncIterable, –≥–¥–µ:</p>
<ul>
<li>–ú–µ—Ç–æ–¥ <code>next()</code> –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç Promise</li>
<li>–†–µ–∑—É–ª—å—Ç–∞—Ç—ã —É–ø–∞–∫–æ–≤—ã–≤–∞—é—Ç—Å—è –≤ Promise</li>
<li>–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å <code>for await...of</code></li>
</ul>
<p><strong>–ü—Ä–∏–º–µ—Ä –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–≥–æ –∏—Ç–µ—Ä–∞—Ç–æ—Ä–∞:</strong></p>
<pre><code class="language-javascript">const asyncIterable = {
  data: [1, 2, 3, 4, 5],

  [Symbol.asyncIterator]() {
    let index = 0;
    const data = this.data;

    return {
      async next() {
        // –ò–º–∏—Ç–∞—Ü–∏—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–π –æ–ø–µ—Ä–∞—Ü–∏–∏
        await new Promise(resolve =&gt; setTimeout(resolve, 100));

        if (index &lt; data.length) {
          return { value: data[index++], done: false };
        }
        return { value: undefined, done: true };
      }
    };
  }
};

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å for await...of
async function processData() {
  for await (const value of asyncIterable) {
    console.log(value); // 1, 2, 3, 4, 5 (—Å –∑–∞–¥–µ—Ä–∂–∫–∞–º–∏)
  }
}

processData();
</code></pre>
<hr />
<h2 id="–ß—Ç–æ-—Ç–∞–∫–æ–µ-–∫–æ–Ω—Ç—Ä–∞–∫—Ç"><a class="header" href="#–ß—Ç–æ-—Ç–∞–∫–æ–µ-–∫–æ–Ω—Ç—Ä–∞–∫—Ç">–ß—Ç–æ —Ç–∞–∫–æ–µ –∫–æ–Ω—Ç—Ä–∞–∫—Ç?</a></h2>
<h3 id="–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ-11"><a class="header" href="#–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ-11">–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ</a></h3>
<p><strong>–ö–æ–Ω—Ç—Ä–∞–∫—Ç</strong> ‚Äî —ç—Ç–æ –ø—Ä–æ—Ç–æ–∫–æ–ª, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è –≤ runtime (–≤–æ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è). –í –æ—Ç–ª–∏—á–∏–µ –æ—Ç —Å—Ç–∞—Ç–∏—á–µ—Å–∫–æ–π —Ç–∏–ø–∏–∑–∞—Ü–∏–∏ (TypeScript), –∫–æ–Ω—Ç—Ä–∞–∫—Ç—ã:</p>
<ul>
<li>–ü—Ä–æ–≤–µ—Ä—è—é—Ç—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –≤–æ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è</li>
<li>–ú–æ–≥—É—Ç –±—ã—Ç—å –≤–∫–ª—é—á–µ–Ω—ã/–≤—ã–∫–ª—é—á–µ–Ω—ã –ø–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏</li>
<li>–†–∞–±–æ—Ç–∞—é—Ç –Ω–∞ —Å—Ç—ã–∫–µ —Å–∏—Å—Ç–µ–º (–º–µ–∂–ø—Ä–æ—Ü–µ—Å—Å–Ω–æ–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ, API, –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö)</li>
<li>–û–ø–∏—Å—ã–≤–∞—é—Ç—Å—è –¥–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω–æ, –∞ –Ω–µ –∏–º–ø–µ—Ä–∞—Ç–∏–≤–Ω–æ</li>
</ul>
<h3 id="–ö–æ–Ω—Ç—Ä–∞–∫—Ç-vs-–ü—Ä–æ—Ç–æ–∫–æ–ª-vs-–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å"><a class="header" href="#–ö–æ–Ω—Ç—Ä–∞–∫—Ç-vs-–ü—Ä–æ—Ç–æ–∫–æ–ª-vs-–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å">–ö–æ–Ω—Ç—Ä–∞–∫—Ç vs –ü—Ä–æ—Ç–æ–∫–æ–ª vs –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å</a></h3>
<div class="table-wrapper"><table><thead><tr><th>–ê—Å–ø–µ–∫—Ç</th><th>–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å</th><th>–ü—Ä–æ—Ç–æ–∫–æ–ª</th><th>–ö–æ–Ω—Ç—Ä–∞–∫—Ç</th></tr></thead><tbody>
<tr><td>–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–æ–≤</td><td>Compile-time</td><td>Runtime (—Ç–µ—Å—Ç—ã)</td><td>Runtime (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)</td></tr>
<tr><td>–ü–æ–≤–µ–¥–µ–Ω–∏–µ</td><td>–ù–µ –æ–ø–∏—Å—ã–≤–∞–µ—Ç</td><td>–û–ø–∏—Å—ã–≤–∞–µ—Ç</td><td>–û–ø–∏—Å—ã–≤–∞–µ—Ç</td></tr>
<tr><td>–ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å</td><td>–ù–µ –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ—Ç</td><td>–ö–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ—Ç</td><td>–ö–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ—Ç</td></tr>
<tr><td>–î–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω–æ—Å—Ç—å</td><td>–°—Ä–µ–¥–Ω—è—è</td><td>–ù–∏–∑–∫–∞—è</td><td>–í—ã—Å–æ–∫–∞—è</td></tr>
<tr><td>–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ</td><td>–°—Ç–∞—Ç–∏—á–µ—Å–∫–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è</td><td>–°–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏ JS</td><td>API, –º–µ–∂—Å–∏—Å—Ç–µ–º–Ω–æ–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ</td></tr>
</tbody></table>
</div>
<hr />
<h2 id="–ò–º–ø–µ—Ä–∞—Ç–∏–≤–Ω–∞—è-–ø—Ä–æ–≤–µ—Ä–∫–∞-–∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞"><a class="header" href="#–ò–º–ø–µ—Ä–∞—Ç–∏–≤–Ω–∞—è-–ø—Ä–æ–≤–µ—Ä–∫–∞-–∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞">–ò–º–ø–µ—Ä–∞—Ç–∏–≤–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞</a></h2>
<h3 id="–ü—Ä–æ–±–ª–µ–º–∞-–∏–º–ø–µ—Ä–∞—Ç–∏–≤–Ω–æ–≥–æ-–ø–æ–¥—Ö–æ–¥–∞"><a class="header" href="#–ü—Ä–æ–±–ª–µ–º–∞-–∏–º–ø–µ—Ä–∞—Ç–∏–≤–Ω–æ–≥–æ-–ø–æ–¥—Ö–æ–¥–∞">–ü—Ä–æ–±–ª–µ–º–∞ –∏–º–ø–µ—Ä–∞—Ç–∏–≤–Ω–æ–≥–æ –ø–æ–¥—Ö–æ–¥–∞</a></h3>
<p>–†–∞—Å—Å–º–æ—Ç—Ä–∏–º –ø—Ä–æ—Å—Ç—É—é —Ñ—É–Ω–∫—Ü–∏—é —Å—Ä–∞–≤–Ω–µ–Ω–∏—è –¥–≤—É—Ö —á–∏—Å–µ–ª:</p>
<pre><code class="language-javascript">const assert = require('assert');

function compare(a, b) {
  // –ò–º–ø–µ—Ä–∞—Ç–∏–≤–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞
  assert(typeof a === 'number', 'Parameter "a" must be a number');
  assert(typeof b === 'number', 'Parameter "b" must be a number');

  // –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞
  const result = a &gt; b;

  // –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞
  assert(typeof result === 'boolean', 'Result must be a boolean');

  return result;
}

// –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
console.log(compare(7, 5)); // true
console.log(compare(5, 7)); // false

// –≠—Ç–æ –≤—ã–∑–æ–≤–µ—Ç –æ—à–∏–±–∫—É
try {
  console.log(compare('7', 5));
} catch (err) {
  console.error('Contract violation:', err.message);
  // Contract violation: Parameter "a" must be a number
}
</code></pre>
<p><strong>–ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏ –∏–º–ø–µ—Ä–∞—Ç–∏–≤–Ω–æ–≥–æ –ø–æ–¥—Ö–æ–¥–∞:</strong></p>
<ol>
<li>‚ùå –ú–Ω–æ–≥–æ –ø–æ–≤—Ç–æ—Ä—è—é—â–µ–≥–æ—Å—è –∫–æ–¥–∞</li>
<li>‚ùå –õ–µ–≥–∫–æ –¥–æ–ø—É—Å—Ç–∏—Ç—å –æ—à–∏–±–∫—É –≤ —Å–∞–º–∏—Ö –ø—Ä–æ–≤–µ—Ä–∫–∞—Ö</li>
<li>‚ùå –ö–æ–¥ –ø—Ä–æ–≤–µ—Ä–æ–∫ —Å–º–µ—à–∏–≤–∞–µ—Ç—Å—è —Å –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–æ–π</li>
<li>‚ùå –°–Ω–∏–∂–∞–µ—Ç—Å—è —á–∏—Ç–∞–µ–º–æ—Å—Ç—å</li>
<li>‚ùå –¢—Ä—É–¥–Ω–æ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å</li>
</ol>
<hr />
<h2 id="–î–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω–æ–µ-–æ–ø–∏—Å–∞–Ω–∏–µ-–∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤"><a class="header" href="#–î–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω–æ–µ-–æ–ø–∏—Å–∞–Ω–∏–µ-–∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤">–î–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤</a></h2>
<h3 id="–û—Å–Ω–æ–≤–Ω–∞—è-–∏–¥–µ—è-3"><a class="header" href="#–û—Å–Ω–æ–≤–Ω–∞—è-–∏–¥–µ—è-3">–û—Å–Ω–æ–≤–Ω–∞—è –∏–¥–µ—è</a></h3>
<p>–í–º–µ—Å—Ç–æ –∏–º–ø–µ—Ä–∞—Ç–∏–≤–Ω—ã—Ö –ø—Ä–æ–≤–µ—Ä–æ–∫ –º—ã –æ–ø–∏—Å—ã–≤–∞–µ–º –∫–æ–Ω—Ç—Ä–∞–∫—Ç –¥–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω–æ ‚Äî –≤ –≤–∏–¥–µ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö, –æ—Ç–¥–µ–ª—ë–Ω–Ω—ã—Ö –æ—Ç —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –º–µ—Ç–æ–¥–∞.</p>
<h3 id="–ü—Ä–∏–º–µ—Ä-–∏–∑-—Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–æ–≥–æ-—Å—Ç–µ–∫–∞-metarhiajs"><a class="header" href="#–ü—Ä–∏–º–µ—Ä-–∏–∑-—Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–æ–≥–æ-—Å—Ç–µ–∫–∞-metarhiajs">–ü—Ä–∏–º–µ—Ä –∏–∑ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–æ–≥–æ —Å—Ç–µ–∫–∞ MetarhiaJS</a></h3>
<pre><code class="language-javascript">// –î–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞ –¥–ª—è –º–µ—Ç–æ–¥–∞ compare
const methodContract = {
  // –°–∞–º –º–µ—Ç–æ–¥ ‚Äî —Ç–æ–ª—å–∫–æ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞!
  method: async (a, b) =&gt; a &gt; b,

  // –û–ø–∏—Å–∞–Ω–∏–µ –≤—Ö–æ–¥–Ω—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
  parameters: {
    a: 'number',
    b: 'number'
  },

  // –û–ø–∏—Å–∞–Ω–∏–µ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è
  returns: 'boolean'
};
</code></pre>
<p><strong>–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:</strong></p>
<ul>
<li>‚úÖ –ß–∏—Å—Ç–∞—è –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ –±–µ–∑ –ø—Ä–æ–≤–µ—Ä–æ–∫</li>
<li>‚úÖ –Ø–≤–Ω–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞</li>
<li>‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∏ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏</li>
<li>‚úÖ –õ–µ–≥–∫–æ —á–∏—Ç–∞—Ç—å –∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å</li>
</ul>
<h3 id="–°–ª–æ–∂–Ω—ã–µ-—Å—Ç—Ä—É–∫—Ç—É—Ä—ã-–¥–∞–Ω–Ω—ã—Ö"><a class="header" href="#–°–ª–æ–∂–Ω—ã–µ-—Å—Ç—Ä—É–∫—Ç—É—Ä—ã-–¥–∞–Ω–Ω—ã—Ö">–°–ª–æ–∂–Ω—ã–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö</a></h3>
<p>–ö–æ–Ω—Ç—Ä–∞–∫—Ç—ã –º–æ–≥—É—Ç –æ–ø–∏—Å—ã–≤–∞—Ç—å –≤–ª–æ–∂–µ–Ω–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã:</p>
<pre><code class="language-javascript">const createUserContract = {
  method: async (name, age, address) =&gt; {
    // –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
    return { id: generateId(), name, age, address };
  },

  parameters: {
    name: 'string',
    age: 'number',
    address: {
      // –í–ª–æ–∂–µ–Ω–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞
      city: 'string',
      street: 'string',
      building: 'number'
    }
  },

  returns: {
    id: 'string',
    name: 'string',
    age: 'number',
    address: 'Address'  // –°—Å—ã–ª–∫–∞ –Ω–∞ –≤–Ω–µ—à–Ω—é—é —Å—Ö–µ–º—É
  }
};
</code></pre>
<h3 id="–°—Å—ã–ª–∫–∏-–Ω–∞-–≤–Ω–µ—à–Ω–∏–µ-—Å—Ö–µ–º—ã"><a class="header" href="#–°—Å—ã–ª–∫–∏-–Ω–∞-–≤–Ω–µ—à–Ω–∏–µ-—Å—Ö–µ–º—ã">–°—Å—ã–ª–∫–∏ –Ω–∞ –≤–Ω–µ—à–Ω–∏–µ —Å—Ö–µ–º—ã</a></h3>
<p>–ú–æ–∂–Ω–æ —Å—Å—ã–ª–∞—Ç—å—Å—è –Ω–∞ –ø—Ä–µ–¥–æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã–µ —Ç–∏–ø—ã:</p>
<pre><code class="language-javascript">// –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º–æ–π —Å—Ö–µ–º—ã
const schemas = {
  Account: {
    login: 'string',
    passwordHash: 'string',
    email: 'string',
    address: 'Address'  // –°—Å—ã–ª–∫–∞ –Ω–∞ –¥—Ä—É–≥—É—é —Å—Ö–µ–º—É
  },

  Address: {
    city: 'string',
    street: 'string',
    building: 'number',
    apartment: { type: 'number', optional: true }
  }
};

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–µ
const updateAccountContract = {
  method: async (accountId, data) =&gt; {
    // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∞–∫–∫–∞—É–Ω—Ç–∞
  },

  parameters: {
    accountId: 'string',
    data: 'Account'  // –°—Å—ã–ª–∫–∞ –Ω–∞ —Å—Ö–µ–º—É Account
  },

  returns: 'Account'
};
</code></pre>
<hr />
<h2 id="–ü—Ä–æ–≤–µ—Ä–∫–∞-–∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤-–≤-runtime"><a class="header" href="#–ü—Ä–æ–≤–µ—Ä–∫–∞-–∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤-–≤-runtime">–ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤ –≤ Runtime</a></h2>
<h3 id="–ú–µ—Ö–∞–Ω–∏–∑–º-—Ä–∞–±–æ—Ç—ã"><a class="header" href="#–ú–µ—Ö–∞–Ω–∏–∑–º-—Ä–∞–±–æ—Ç—ã">–ú–µ—Ö–∞–Ω–∏–∑–º —Ä–∞–±–æ—Ç—ã</a></h3>
<p>–ö–æ–≥–¥–∞ –º–µ—Ç–æ–¥ —Å –∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–º –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è, —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π <strong>runner</strong> (–∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å):</p>
<ol>
<li>–ß–∏—Ç–∞–µ—Ç –ø–æ–ª—è <code>parameters</code> –∏ <code>returns</code></li>
<li>–ü—Ä–æ–≤–µ—Ä—è–µ—Ç –≤—Ö–æ–¥—è—â–∏–µ –¥–∞–Ω–Ω—ã–µ –ø–µ—Ä–µ–¥ –≤—ã–∑–æ–≤–æ–º –º–µ—Ç–æ–¥–∞</li>
<li>–í—ã–ø–æ–ª–Ω—è–µ—Ç –º–µ—Ç–æ–¥</li>
<li>–ü—Ä–æ–≤–µ—Ä—è–µ—Ç –≤–æ–∑–≤—Ä–∞—â–∞–µ–º–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ</li>
<li>–í—ã–±—Ä–∞—Å—ã–≤–∞–µ—Ç –∏—Å–∫–ª—é—á–µ–Ω–∏–µ –ø—Ä–∏ –Ω–∞—Ä—É—à–µ–Ω–∏–∏ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞</li>
</ol>
<p><strong>–ü—Å–µ–≤–¥–æ–∫–æ–¥ runner'–∞:</strong></p>
<pre><code class="language-javascript">function executeWithContract(contractDefinition, ...args) {
  const { method, parameters, returns } = contractDefinition;

  // 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤—Ö–æ–¥–Ω—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
  validateParameters(args, parameters);

  // 2. –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –º–µ—Ç–æ–¥–∞
  const result = await method(...args);

  // 3. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞
  validateResult(result, returns);

  return result;
}

function validateParameters(args, parametersSchema) {
  // –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–æ–≤ –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤
  Object.keys(parametersSchema).forEach((key, index) =&gt; {
    const expectedType = parametersSchema[key];
    const actualValue = args[index];

    if (!checkType(actualValue, expectedType)) {
      throw new Error(`Contract violation: parameter "${key}" expected ${expectedType}`);
    }
  });
}

function validateResult(result, returnsSchema) {
  // –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–∞ –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –≤–æ–∑–≤—Ä–∞—â–∞–µ–º–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è
  if (!checkType(result, returnsSchema)) {
    throw new Error(`Contract violation: return value expected ${returnsSchema}`);
  }
}
</code></pre>
<hr />
<h2 id="–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ-–∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤-–≤-—Ä–∞—Å–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã—Ö-—Å–∏—Å—Ç–µ–º–∞—Ö"><a class="header" href="#–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ-–∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤-–≤-—Ä–∞—Å–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã—Ö-—Å–∏—Å—Ç–µ–º–∞—Ö">–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤ –≤ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã—Ö —Å–∏—Å—Ç–µ–º–∞—Ö</a></h2>
<h3 id="–ü—Ä–æ–±–ª–µ–º–∞-–º–µ–∂—Å–∏—Å—Ç–µ–º–Ω–æ–≥–æ-–≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è"><a class="header" href="#–ü—Ä–æ–±–ª–µ–º–∞-–º–µ–∂—Å–∏—Å—Ç–µ–º–Ω–æ–≥–æ-–≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è">–ü—Ä–æ–±–ª–µ–º–∞ –º–µ–∂—Å–∏—Å—Ç–µ–º–Ω–æ–≥–æ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è</a></h3>
<p>TypeScript –∏ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞—é—Ç —Ç–æ–ª—å–∫–æ –Ω–∞ —ç—Ç–∞–ø–µ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ –∏ <strong>–Ω–µ –ø–æ–º–æ–≥–∞—é—Ç</strong> –≤ —Å–ª–µ–¥—É—é—â–∏—Ö —Å–ª—É—á–∞—è—Ö:</p>
<ul>
<li>API –≤—ã–∑–æ–≤—ã –º–µ–∂–¥—É –∫–ª–∏–µ–Ω—Ç–æ–º –∏ —Å–µ—Ä–≤–µ—Ä–æ–º</li>
<li>–ú–µ–∂–ø—Ä–æ—Ü–µ—Å—Å–Ω–æ–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ</li>
<li>–ß—Ç–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –∏–∑ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö</li>
<li>–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –≤–Ω–µ—à–Ω–∏–º–∏ —Å–∏—Å—Ç–µ–º–∞–º–∏</li>
<li>–ß—Ç–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –∏–∑ —Ñ–∞–π–ª–æ–≤ –∏–ª–∏ –æ—á–µ—Ä–µ–¥–µ–π</li>
</ul>
<p>–í —ç—Ç–∏—Ö —Å—Ü–µ–Ω–∞—Ä–∏—è—Ö –∫–æ–Ω—Ç—Ä–∞–∫—Ç—ã <strong>–Ω–µ–∑–∞–º–µ–Ω–∏–º—ã</strong>.</p>
<h3 id="–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞-–∫–ª–∏–µ–Ω—Ç-—Å–µ—Ä–≤–µ—Ä-—Å-–∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞–º–∏"><a class="header" href="#–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞-–∫–ª–∏–µ–Ω—Ç-—Å–µ—Ä–≤–µ—Ä-—Å-–∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞–º–∏">–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∫–ª–∏–µ–Ω—Ç-—Å–µ—Ä–≤–µ—Ä —Å –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞–º–∏</a></h3>
<pre><code class="language-javascript">// ========== –°–ï–†–í–ï–† ==========
// –°–µ—Ä–≤–µ—Ä –æ–ø–∏—Å—ã–≤–∞–µ—Ç –∏ –ø—É–±–ª–∏–∫—É–µ—Ç –∫–æ–Ω—Ç—Ä–∞–∫—Ç
const serverAPI = {
  compare: {
    method: async (a, b) =&gt; a &gt; b,
    parameters: { a: 'number', b: 'number' },
    returns: 'boolean'
  }
};

// ========== –ö–õ–ò–ï–ù–¢ ==========
// –ö–ª–∏–µ–Ω—Ç –≤—ã–∑—ã–≤–∞–µ—Ç –º–µ—Ç–æ–¥, –∫–∞–∫ –±—É–¥—Ç–æ —ç—Ç–æ –ª–æ–∫–∞–ª—å–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è
const result = await api.example.compare(7, 5);
console.log(result); // true

// –ù–æ –Ω–∞ —Å–∞–º–æ–º –¥–µ–ª–µ:
// 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞ –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
// 2. –°–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è –∏ –æ—Ç–ø—Ä–∞–≤–∫–∞ –∑–∞–ø—Ä–æ—Å–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä
// 3. –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
// 4. –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –º–µ—Ç–æ–¥–∞
// 5. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
// 6. –û—Ç–ø—Ä–∞–≤–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ –∫–ª–∏–µ–Ω—Ç—É
// 7. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
</code></pre>
<h3 id="–î–≤—É—Å—Ç–æ—Ä–æ–Ω–Ω—è—è-–ø—Ä–æ–≤–µ—Ä–∫–∞"><a class="header" href="#–î–≤—É—Å—Ç–æ—Ä–æ–Ω–Ω—è—è-–ø—Ä–æ–≤–µ—Ä–∫–∞">–î–≤—É—Å—Ç–æ—Ä–æ–Ω–Ω—è—è –ø—Ä–æ–≤–µ—Ä–∫–∞</a></h3>
<p><strong>–ù–∞ –∫–ª–∏–µ–Ω—Ç–µ:</strong></p>
<ul>
<li>–ö–æ–Ω—Ç—Ä–∞–∫—Ç –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è –¥–æ –æ—Ç–ø—Ä–∞–≤–∫–∏ –∑–∞–ø—Ä–æ—Å–∞</li>
<li>–≠–∫–æ–Ω–æ–º–∏—Ç —Ç—Ä–∞—Ñ–∏–∫ –∏ –≤—Ä–µ–º—è –ø—Ä–∏ –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö</li>
<li>–û–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –±—ã—Å—Ç—Ä—É—é –≤–∞–ª–∏–¥–∞—Ü–∏—é</li>
</ul>
<p><strong>–ù–∞ —Å–µ—Ä–≤–µ—Ä–µ:</strong></p>
<ul>
<li>–ö–æ–Ω—Ç—Ä–∞–∫—Ç –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ (–∑–∞—â–∏—Ç–∞ –æ—Ç –Ω–µ–¥–æ–≤–µ—Ä–µ–Ω–Ω—ã—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤)</li>
<li>–ì–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö</li>
<li>–ü—Ä–æ–≤–µ—Ä—è–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç –ø–µ—Ä–µ–¥ –æ—Ç–ø—Ä–∞–≤–∫–æ–π</li>
</ul>
<pre><code class="language-javascript">// –ü—Ä–∏–º–µ—Ä –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞
try {
  // –ö–ª–∏–µ–Ω—Ç –ø—ã—Ç–∞–µ—Ç—Å—è –≤—ã–∑–≤–∞—Ç—å —Å –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ —Ç–∏–ø–∞–º–∏
  await api.example.compare('7', 5);
} catch (err) {
  // –û—à–∏–±–∫–∞ –≤–æ–∑–Ω–∏–∫–Ω–µ—Ç –µ—â—ë –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ (—ç–∫–æ–Ω–æ–º–∏—è –∑–∞–ø—Ä–æ—Å–∞!)
  console.error('Contract error:', err.message);
  // Contract error: parameter "a" expected number, got string
}
</code></pre>
<hr />
<h2 id="–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ-–ø—Ä–∏–º–µ—Ä—ã-–∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤"><a class="header" href="#–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ-–ø—Ä–∏–º–µ—Ä—ã-–∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤">–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–∏–º–µ—Ä—ã –∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤</a></h2>
<h3 id="–ü—Ä–∏–º–µ—Ä-1-–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è-–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è"><a class="header" href="#–ü—Ä–∏–º–µ—Ä-1-–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è-–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è">–ü—Ä–∏–º–µ—Ä 1: –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</a></h3>
<pre><code class="language-javascript">const registerUserContract = {
  method: async (name, email, address) =&gt; {
    // –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞: —Å–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –∑–∞–ø–∏—Å—å –≤ –ë–î
    const user = {
      id: generateUUID(),
      name,
      email,
      address,
      createdAt: new Date()
    };

    await db.users.insert(user);
    return user;
  },

  // –í—Ö–æ–¥–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
  parameters: {
    name: 'string',
    email: 'string',
    address: {
      city: 'string',
      street: 'string',
      building: 'number'
    }
  },

  // –í–æ–∑–≤—Ä–∞—â–∞–µ–º–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞
  returns: {
    id: 'string',
    name: 'string',
    email: 'string',
    address: 'Address',
    createdAt: 'Date'
  },

  // –í–æ–∑–º–æ–∂–Ω—ã–µ –æ—à–∏–±–∫–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
  errors: {
    'EMAIL_EXISTS': 'User with this email already exists',
    'INVALID_ADDRESS': 'Address validation failed'
  }
};
</code></pre>
<h3 id="–ü—Ä–∏–º–µ—Ä-2-–†–∞–±–æ—Ç–∞-—Å-–≤–Ω–µ—à–Ω–∏–º-api"><a class="header" href="#–ü—Ä–∏–º–µ—Ä-2-–†–∞–±–æ—Ç–∞-—Å-–≤–Ω–µ—à–Ω–∏–º-api">–ü—Ä–∏–º–µ—Ä 2: –†–∞–±–æ—Ç–∞ —Å –≤–Ω–µ—à–Ω–∏–º API</a></h3>
<pre><code class="language-javascript">// –û–ø–∏—Å–∞–Ω–∏–µ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞ –≤–Ω–µ—à–Ω–µ–≥–æ API
const externalAPIContract = {
  getUserData: {
    method: async (userId) =&gt; {
      const response = await fetch(`https://api.example.com/users/${userId}`);
      return response.json();
    },

    parameters: {
      userId: 'string'
    },

    returns: {
      id: 'string',
      name: 'string',
      email: 'string',
      profile: {
        age: 'number',
        country: 'string'
      }
    },

    errors: {
      'USER_NOT_FOUND': 'User does not exist',
      'API_ERROR': 'External API returned an error'
    }
  }
};

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
try {
  const userData = await externalAPI.getUserData('user-123');
  console.log(userData.name);
} catch (err) {
  if (err.code === 'USER_NOT_FOUND') {
    console.log('User not found');
  }
}
</code></pre>
<hr />
<h2 id="–ì–µ–Ω–µ—Ä–∞—Ü–∏—è-–Ω–∞-–æ—Å–Ω–æ–≤–µ-–∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤"><a class="header" href="#–ì–µ–Ω–µ—Ä–∞—Ü–∏—è-–Ω–∞-–æ—Å–Ω–æ–≤–µ-–∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤">–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –Ω–∞ –æ—Å–Ω–æ–≤–µ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤</a></h2>
<p>–ö–æ–Ω—Ç—Ä–∞–∫—Ç—ã ‚Äî —ç—Ç–æ –Ω–µ —Ç–æ–ª—å–∫–æ –≤–∞–ª–∏–¥–∞—Ü–∏—è. –û–Ω–∏ —Å–ª—É–∂–∞—Ç <strong>–µ–¥–∏–Ω—ã–º –∏—Å—Ç–æ—á–Ω–∏–∫–æ–º –∏—Å—Ç–∏–Ω—ã</strong> –¥–ª—è –º–Ω–æ–∂–µ—Å—Ç–≤–∞ –∑–∞–¥–∞—á.</p>
<h3 id="1-–ì–µ–Ω–µ—Ä–∞—Ü–∏—è-—Å—Ç—Ä—É–∫—Ç—É—Ä—ã-–±–∞–∑—ã-–¥–∞–Ω–Ω—ã—Ö"><a class="header" href="#1-–ì–µ–Ω–µ—Ä–∞—Ü–∏—è-—Å—Ç—Ä—É–∫—Ç—É—Ä—ã-–±–∞–∑—ã-–¥–∞–Ω–Ω—ã—Ö">1. –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö</a></h3>
<p>–ò–∑ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞ –º–æ–∂–Ω–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞—Ç—å SQL-—Å—Ö–µ–º—É:</p>
<pre><code class="language-javascript">// –ö–æ–Ω—Ç—Ä–∞–∫—Ç
const UserSchema = {
  id: 'string',
  name: 'string',
  email: 'string',
  age: 'number',
  createdAt: 'Date'
};

// –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è SQL
function generateCreateTable(schemaName, schema) {
  const columns = Object.entries(schema).map(([field, type]) =&gt; {
    const sqlType = typeToSQL(type);
    return `${field} ${sqlType}`;
  });

  return `CREATE TABLE ${schemaName} (${columns.join(', ')})`;
}

// –†–µ–∑—É–ª—å—Ç–∞—Ç:
// CREATE TABLE User (
//   id VARCHAR(255),
//   name VARCHAR(255),
//   email VARCHAR(255),
//   age INTEGER,
//   createdAt TIMESTAMP
// )
</code></pre>
<h3 id="2-–ì–µ–Ω–µ—Ä–∞—Ü–∏—è-–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏"><a class="header" href="#2-–ì–µ–Ω–µ—Ä–∞—Ü–∏—è-–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏">2. –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏</a></h3>
<p>–ö–æ–Ω—Ç—Ä–∞–∫—Ç—ã ‚Äî —ç—Ç–æ –≥–æ—Ç–æ–≤–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API:</p>
<pre><code class="language-javascript">// –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è Markdown –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏
function generateDocs(contracts) {
  return Object.entries(contracts).map(([name, contract]) =&gt; `
## ${name}

**Parameters:**
${formatParameters(contract.parameters)}

**Returns:**
${formatReturns(contract.returns)}

**Possible Errors:**
${formatErrors(contract.errors)}
  `).join('\n\n');
}
</code></pre>
<h3 id="3-–ì–µ–Ω–µ—Ä–∞—Ü–∏—è-—Ç–µ—Å—Ç–æ–≤—ã—Ö-–¥–∞–Ω–Ω—ã—Ö"><a class="header" href="#3-–ì–µ–Ω–µ—Ä–∞—Ü–∏—è-—Ç–µ—Å—Ç–æ–≤—ã—Ö-–¥–∞–Ω–Ω—ã—Ö">3. –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö</a></h3>
<p>–ö–æ–Ω—Ç—Ä–∞–∫—Ç—ã –ø–æ–∑–≤–æ–ª—è—é—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –¥–ª—è —Ç–µ—Å—Ç–æ–≤:</p>
<pre><code class="language-javascript">function generateTestData(schema) {
  const generators = {
    string: () =&gt; Math.random().toString(36).substring(7),
    number: () =&gt; Math.floor(Math.random() * 1000),
    boolean: () =&gt; Math.random() &gt; 0.5,
    Date: () =&gt; new Date()
  };

  const data = {};

  for (const [key, type] of Object.entries(schema)) {
    if (typeof type === 'object') {
      // –†–µ–∫—É—Ä—Å–∏–≤–Ω–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –¥–ª—è –≤–ª–æ–∂–µ–Ω–Ω—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤
      data[key] = generateTestData(type);
    } else {
      data[key] = generators[type]();
    }
  }

  return data;
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
const testUser = generateTestData({
  name: 'string',
  age: 'number',
  address: {
    city: 'string',
    building: 'number'
  }
});

console.log(testUser);
// {
//   name: 'x7k9m2',
//   age: 742,
//   address: { city: 'p4q8r1', building: 123 }
// }
</code></pre>
<h3 id="4-–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è-–≥–µ–Ω–µ—Ä–∞—Ü–∏—è-—Ç–µ—Å—Ç–æ–≤"><a class="header" href="#4-–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è-–≥–µ–Ω–µ—Ä–∞—Ü–∏—è-—Ç–µ—Å—Ç–æ–≤">4. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è —Ç–µ—Å—Ç–æ–≤</a></h3>
<p>–ù–∞ –æ—Å–Ω–æ–≤–µ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞ –º–æ–∂–Ω–æ –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å:</p>
<ul>
<li><strong>–ü–æ–∑–∏—Ç–∏–≤–Ω—ã–µ —Ç–µ—Å—Ç—ã</strong> (–≤–∞–ª–∏–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ)</li>
<li><strong>–ù–µ–≥–∞—Ç–∏–≤–Ω—ã–µ —Ç–µ—Å—Ç—ã</strong> (–Ω–µ–≤–∞–ª–∏–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ)</li>
</ul>
<pre><code class="language-javascript">function generateTests(contractName, contract) {
  const tests = [];

  // –ü–æ–∑–∏—Ç–∏–≤–Ω—ã–π —Ç–µ—Å—Ç
  tests.push({
    name: `${contractName} - should work with valid data`,
    run: async () =&gt; {
      const validData = generateTestData(contract.parameters);
      const result = await executeWithContract(contract, ...Object.values(validData));
      assert(checkType(result, contract.returns));
    }
  });

  // –ù–µ–≥–∞—Ç–∏–≤–Ω—ã–µ —Ç–µ—Å—Ç—ã –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞
  Object.keys(contract.parameters).forEach(paramName =&gt; {
    tests.push({
      name: `${contractName} - should fail with invalid ${paramName}`,
      run: async () =&gt; {
        const invalidData = generateTestData(contract.parameters);
        invalidData[paramName] = 'INVALID_VALUE';

        await assert.rejects(
          executeWithContract(contract, ...Object.values(invalidData))
        );
      }
    });
  });

  return tests;
}
</code></pre>
<hr />
<h2 id="–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞-–∫–æ–Ω—Ç—Ä–∞–∫—Ç–Ω–æ–≥–æ-–ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è"><a class="header" href="#–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞-–∫–æ–Ω—Ç—Ä–∞–∫—Ç–Ω–æ–≥–æ-–ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è">–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–Ω–æ–≥–æ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è</a></h2>
<h3 id="1-–ù–∞–¥—ë–∂–Ω–æ—Å—Ç—å-–∏-–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å"><a class="header" href="#1-–ù–∞–¥—ë–∂–Ω–æ—Å—Ç—å-–∏-–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å">1. –ù–∞–¥—ë–∂–Ω–æ—Å—Ç—å –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å</a></h3>
<ul>
<li>‚úÖ –ì–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è –Ω–∞ –≥—Ä–∞–Ω–∏—Ü–∞—Ö —Å–∏—Å—Ç–µ–º</li>
<li>‚úÖ –ó–∞—â–∏—Ç–∞ –æ—Ç –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö</li>
<li>‚úÖ –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ –æ—à–∏–±–æ–∫ –≤ runtime</li>
<li>‚úÖ –†–∞–Ω–Ω—è—è –¥–µ—Ç–µ–∫—Ü–∏—è –ø—Ä–æ–±–ª–µ–º</li>
</ul>
<h3 id="2-–†–∞–∑–¥–µ–ª–µ–Ω–∏–µ-–æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏"><a class="header" href="#2-–†–∞–∑–¥–µ–ª–µ–Ω–∏–µ-–æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏">2. –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏</a></h3>
<pre><code class="language-javascript">// –ë–ï–ó –∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤ - —Å–º–µ—à–µ–Ω–∏–µ –ª–æ–≥–∏–∫–∏
function processPayment(amount, currency, userId) {
  // –í–∞–ª–∏–¥–∞—Ü–∏—è —Å–º–µ—à–∞–Ω–∞ —Å –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–æ–π
  if (typeof amount !== 'number') throw new Error('Invalid amount');
  if (amount &lt;= 0) throw new Error('Amount must be positive');
  if (typeof currency !== 'string') throw new Error('Invalid currency');
  if (!['USD', 'EUR', 'GBP'].includes(currency)) throw new Error('Unsupported currency');
  if (typeof userId !== 'string') throw new Error('Invalid userId');

  // –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ —Ç–µ—Ä—è–µ—Ç—Å—è —Å—Ä–µ–¥–∏ –ø—Ä–æ–≤–µ—Ä–æ–∫
  const fee = amount * 0.03;
  const total = amount + fee;
  return { total, fee, currency };
}

// –° –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞–º–∏ - —á–∏—Å—Ç–∞—è –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞
const processPaymentContract = {
  method: async (amount, currency, userId) =&gt; {
    // –¢–æ–ª—å–∫–æ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞!
    const fee = amount * 0.03;
    const total = amount + fee;
    return { total, fee, currency };
  },

  parameters: {
    amount: { type: 'number', min: 0 },
    currency: { type: 'string', enum: ['USD', 'EUR', 'GBP'] },
    userId: 'string'
  },

  returns: {
    total: 'number',
    fee: 'number',
    currency: 'string'
  }
};
</code></pre>
<h3 id="3-–ö—É–ª—å—Ç—É—Ä–∞-—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏"><a class="header" href="#3-–ö—É–ª—å—Ç—É—Ä–∞-—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏">3. –ö—É–ª—å—Ç—É—Ä–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏</a></h3>
<p><strong>–ö–æ–Ω—Ç—Ä–∞–∫—Ç –∫–∞–∫ —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è:</strong></p>
<ul>
<li>–ö–æ–Ω—Ç—Ä–∞–∫—Ç –º–æ–∂–Ω–æ –ø–µ—Ä–µ–¥–∞—Ç—å –∫–æ–º–∞–Ω–¥–µ –¥–æ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏</li>
<li>–§—Ä–æ–Ω—Ç–µ–Ω–¥-—Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∏ –º–æ–≥—É—Ç –Ω–∞—á–∞—Ç—å —Ä–∞–±–æ—Ç—É, –∑–Ω–∞—è –∫–æ–Ω—Ç—Ä–∞–∫—Ç</li>
<li>QA –º–æ–∂–µ—Ç –ø–∏—Å–∞—Ç—å —Ç–µ—Å—Ç—ã –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ —Å —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–æ–π</li>
<li>–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏</li>
</ul>
<p><strong>–ü—Ä–∏–º–µ—Ä –ø—Ä–æ—Ü–µ—Å—Å–∞:</strong></p>
<pre><code>1. Backend –æ–ø–∏—Å—ã–≤–∞–µ—Ç –∫–æ–Ω—Ç—Ä–∞–∫—Ç API
2. Backend –ø–µ—Ä–µ–¥–∞—ë—Ç –∫–æ–Ω—Ç—Ä–∞–∫—Ç Frontend –∫–æ–º–∞–Ω–¥–µ
3. Frontend –Ω–∞—á–∏–Ω–∞–µ—Ç —Ä–∞–∑—Ä–∞–±–æ—Ç–∫—É –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
4. QA –ø–∏—à–µ—Ç —Ç–µ—Å—Ç—ã –Ω–∞ –æ—Å–Ω–æ–≤–µ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞
5. Backend —Ä–µ–∞–ª–∏–∑—É–µ—Ç –º–µ—Ç–æ–¥—ã
6. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –ø—Ä–æ—Ö–æ–¥–∏—Ç –≥–ª–∞–¥–∫–æ (–∫–æ–Ω—Ç—Ä–∞–∫—Ç —É–∂–µ —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω!)
</code></pre>
<h3 id="4-–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è-–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏"><a class="header" href="#4-–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è-–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏">4. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏</a></h3>
<p>–ö–æ–Ω—Ç—Ä–∞–∫—Ç—ã –º–æ–∂–Ω–æ –≤–∫–ª—é—á–∞—Ç—å/–≤—ã–∫–ª—é—á–∞—Ç—å:</p>
<pre><code class="language-javascript">const config = {
  enableContracts: process.env.NODE_ENV === 'development'
};

function executeMethod(contract, ...args) {
  if (config.enableContracts) {
    // –ü—Ä–æ–≤–µ—Ä—è–µ–º –∫–æ–Ω—Ç—Ä–∞–∫—Ç
    validateParameters(args, contract.parameters);
    const result = await contract.method(...args);
    validateResult(result, contract.returns);
    return result;
  } else {
    // –ü—Ä–æ–ø—É—Å–∫–∞–µ–º –ø—Ä–æ–≤–µ—Ä–∫–∏ –≤ production
    return contract.method(...args);
  }
}
</code></pre>
<p><strong>–°—Ç—Ä–∞—Ç–µ–≥–∏—è:</strong></p>
<ol>
<li>–í–∫–ª—é—á–∏—Ç—å –∫–æ–Ω—Ç—Ä–∞–∫—Ç—ã –≤ development –∏ testing</li>
<li>–£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –≤—Å–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ</li>
<li>–û—Ç–∫–ª—é—á–∏—Ç—å –∫–æ–Ω—Ç—Ä–∞–∫—Ç—ã –≤ production –¥–ª—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏</li>
<li>–ü—Ä–∏—Ä–æ—Å—Ç –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –º–æ–∂–µ—Ç –±—ã—Ç—å –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω—ã–º (10-30%)</li>
</ol>
<h3 id="5-–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ"><a class="header" href="#5-–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ">5. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ</a></h3>
<p><strong>–ë–µ–∑ —Ä—É—á–Ω–æ–≥–æ –Ω–∞–ø–∏—Å–∞–Ω–∏—è –±–∞–∑–æ–≤—ã—Ö —Ç–µ—Å—Ç–æ–≤:</strong></p>
<ul>
<li>–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è —Ç–µ—Å—Ç–æ–≤ –Ω–∞ —Ç–∏–ø—ã</li>
<li>–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –ø–æ–∑–∏—Ç–∏–≤–Ω—ã—Ö/–Ω–µ–≥–∞—Ç–∏–≤–Ω—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤</li>
<li>–§–æ–∫—É—Å –Ω–∞ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–µ, –∞ –Ω–µ –Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–µ —Ç–∏–ø–æ–≤</li>
</ul>
<p><strong>–≠–∫–æ–Ω–æ–º–∏—è –≤—Ä–µ–º–µ–Ω–∏:</strong></p>
<ul>
<li>–ù–µ –Ω—É–∂–Ω–æ –ø–∏—Å–∞—Ç—å —Ç–µ—Å—Ç—ã –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ç–∏–ø–æ–≤ –≤—Ä—É—á–Ω—É—é</li>
<li>–ù–µ –Ω—É–∂–Ω–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é –≤—Ä—É—á–Ω—É—é</li>
<li>–ú–æ–∂–Ω–æ —Å–æ—Å—Ä–µ–¥–æ—Ç–æ—á–∏—Ç—å—Å—è –Ω–∞ —Å–ª–æ–∂–Ω—ã—Ö edge cases</li>
</ul>
<hr />
<h2 id="–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è-–∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤"><a class="header" href="#–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è-–∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤">–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤</a></h2>
<h3 id="–ß—Ç–æ-–∫–æ–Ω—Ç—Ä–∞–∫—Ç—ã-–ù–ï-–¥–µ–ª–∞—é—Ç"><a class="header" href="#–ß—Ç–æ-–∫–æ–Ω—Ç—Ä–∞–∫—Ç—ã-–ù–ï-–¥–µ–ª–∞—é—Ç">–ß—Ç–æ –∫–æ–Ω—Ç—Ä–∞–∫—Ç—ã –ù–ï –¥–µ–ª–∞—é—Ç</a></h3>
<p>‚ùå <strong>–ù–µ –æ–ø–∏—Å—ã–≤–∞—é—Ç –ø–æ–≤–µ–¥–µ–Ω–∏–µ –ø–æ–ª–Ω–æ—Å—Ç—å—é</strong></p>
<ul>
<li>–ö–æ–Ω—Ç—Ä–∞–∫—Ç—ã –æ–ø–∏—Å—ã–≤–∞—é—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –∏ —Ç–∏–ø—ã</li>
<li>–°–ª–æ–∂–Ω–∞—è –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ —Ç—Ä–µ–±—É–µ—Ç –æ—Ç–¥–µ–ª—å–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤</li>
<li>–ö–æ–Ω—Ç—Ä–∞–∫—Ç—ã –Ω–µ –∑–∞–º–µ–Ω—è—é—Ç unit-—Ç–µ—Å—Ç—ã –ø–æ–ª–Ω–æ—Å—Ç—å—é</li>
</ul>
<p>‚ùå <strong>–ù–µ –ø—Ä–æ–≤–µ—Ä—è—é—Ç –∞–ª–≥–æ—Ä–∏—Ç–º—ã</strong></p>
<pre><code class="language-javascript">// –ö–æ–Ω—Ç—Ä–∞–∫—Ç –ø—Ä–æ–≤–µ—Ä–∏—Ç —Ç–∏–ø—ã, –Ω–æ –Ω–µ –ª–æ–≥–∏–∫—É
const sortContract = {
  method: async (arr) =&gt; {
    // –ö–æ–Ω—Ç—Ä–∞–∫—Ç –Ω–µ –ø—Ä–æ–≤–µ—Ä–∏—Ç, –ü–†–ê–í–ò–õ–¨–ù–û –ª–∏ –æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω –º–∞—Å—Å–∏–≤!
    return arr.sort(); // –ú–æ–∂–µ—Ç –±—ã—Ç—å –±–∞–≥ –≤ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–µ
  },
  parameters: { arr: 'Array' },
  returns: 'Array'
};
</code></pre>
<p>‚ùå <strong>–ù–µ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏</strong></p>
<pre><code class="language-javascript">// –ö–æ–Ω—Ç—Ä–∞–∫—Ç –Ω–µ –ø–æ–π–º–∞–µ—Ç –ª–æ–≥–∏—á–µ—Å–∫—É—é –æ—à–∏–±–∫—É
const calculateDiscountContract = {
  method: async (price, discountPercent) =&gt; {
    // –ë–ê–ì: –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å (1 - discountPercent/100)
    return price * discountPercent;  // –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è —Ñ–æ—Ä–º—É–ª–∞!
  },
  parameters: { price: 'number', discountPercent: 'number' },
  returns: 'number'  // –¢–∏–ø –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π, –Ω–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç ‚Äî –Ω–µ—Ç!
};
</code></pre>
<h3 id="–ö–æ–≥–¥–∞-–Ω—É–∂–Ω—ã-–¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ-–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã"><a class="header" href="#–ö–æ–≥–¥–∞-–Ω—É–∂–Ω—ã-–¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ-–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã">–ö–æ–≥–¥–∞ –Ω—É–∂–Ω—ã –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã</a></h3>
<p>–î–ª—è –æ–ø–∏—Å–∞–Ω–∏—è —Å–ª–æ–∂–Ω—ã—Ö –ø—Ä–æ—Ç–æ–∫–æ–ª–æ–≤ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è (—Ç–∞–∫–∏—Ö –∫–∞–∫ Thenable, Iterable) –Ω—É–∂–Ω—ã —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ DSL (Domain Specific Languages) –∏–ª–∏ –±–æ–ª–µ–µ –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ —Å–∏—Å—Ç–µ–º—ã –∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥—É—Ç –æ–ø–∏—Å—ã–≤–∞—Ç—å:</p>
<ul>
<li>–ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –≤—ã–∑–æ–≤–æ–≤ –º–µ—Ç–æ–¥–æ–≤</li>
<li>–°–æ—Å—Ç–æ—è–Ω–∏—è –æ–±—ä–µ–∫—Ç–æ–≤</li>
<li>–í—Ä–µ–º–µ–Ω–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏</li>
<li>–°–ª–æ–∂–Ω—ã–µ –∏–Ω–≤–∞—Ä–∏–∞–Ω—Ç—ã</li>
</ul>
<hr />
<h2 id="–ò—Å—Ç–æ—Ä–∏—è-–∏-–ø—Ä–æ–∏—Å—Ö–æ–∂–¥–µ–Ω–∏–µ"><a class="header" href="#–ò—Å—Ç–æ—Ä–∏—è-–∏-–ø—Ä–æ–∏—Å—Ö–æ–∂–¥–µ–Ω–∏–µ">–ò—Å—Ç–æ—Ä–∏—è –∏ –ø—Ä–æ–∏—Å—Ö–æ–∂–¥–µ–Ω–∏–µ</a></h2>
<h3 id="–Ø–∑—ã–∫-eiffel"><a class="header" href="#–Ø–∑—ã–∫-eiffel">–Ø–∑—ã–∫ Eiffel</a></h3>
<p>–ö–æ–Ω—Ç—Ä–∞–∫—Ç–Ω–æ–µ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–∞–∫ –∫–æ–Ω—Ü–µ–ø—Ü–∏—è –±—ã–ª–æ –≤–ø–µ—Ä–≤—ã–µ –≤—Å—Ç—Ä–æ–µ–Ω–æ –≤ —è–∑—ã–∫ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è <strong>Eiffel</strong> (—Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω –ë–µ—Ä—Ç—Ä–∞–Ω–æ–º –ú–µ–π–µ—Ä–æ–º –≤ 1980-—Ö).</p>
<p><strong>–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ Eiffel:</strong></p>
<ul>
<li>–ö–æ–Ω—Ç—Ä–∞–∫—Ç—ã –∫–∞–∫ —á–∞—Å—Ç—å —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞ —è–∑—ã–∫–∞</li>
<li>Preconditions (–ø—Ä–µ–¥—É—Å–ª–æ–≤–∏—è)</li>
<li>Postconditions (–ø–æ—Å—Ç—É—Å–ª–æ–≤–∏—è)</li>
<li>Class invariants (–∏–Ω–≤–∞—Ä–∏–∞–Ω—Ç—ã –∫–ª–∞—Å—Å–∞)</li>
</ul>
<p><strong>–ü—Ä–∏–º–µ—Ä –Ω–∞ Eiffel (–¥–ª—è –ø–æ–Ω–∏–º–∞–Ω–∏—è –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏):</strong></p>
<pre><code class="language-eiffel">deposit(amount: INTEGER)
  require
    amount &gt; 0  -- –ü—Ä–µ–¥—É—Å–ª–æ–≤–∏–µ
  ensure
    balance = old balance + amount  -- –ü–æ—Å—Ç—É—Å–ª–æ–≤–∏–µ
</code></pre>
<h3 id="–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ-–≤-–¥—Ä—É–≥–∏—Ö-—è–∑—ã–∫–∞—Ö"><a class="header" href="#–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ-–≤-–¥—Ä—É–≥–∏—Ö-—è–∑—ã–∫–∞—Ö">–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –≤ –¥—Ä—É–≥–∏—Ö —è–∑—ã–∫–∞—Ö</a></h3>
<p>–° —Ç–µ—Ö –ø–æ—Ä –∏–¥–µ–∏ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–Ω–æ–≥–æ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–∏–ª–∏—Å—å –Ω–∞ –º–Ω–æ–≥–∏–µ —è–∑—ã–∫–∏:</p>
<ul>
<li><strong>C#</strong>: Code Contracts</li>
<li><strong>Python</strong>: –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ —Ç–∏–ø–∞ <code>dpcontracts</code>, <code>contracts</code></li>
<li><strong>Java</strong>: —Ä–∞–∑–ª–∏—á–Ω—ã–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, Cofoja)</li>
<li><strong>JavaScript/Node.js</strong>: –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ (MetarhiaJS –∏ –¥—Ä—É–≥–∏–µ)</li>
</ul>
<hr />
<h2 id="–†–µ–∑—é–º–µ-9"><a class="header" href="#–†–µ–∑—é–º–µ-9">–†–µ–∑—é–º–µ</a></h2>
<h3 id="–ö–ª—é—á–µ–≤—ã–µ-–∫–æ–Ω—Ü–µ–ø—Ü–∏–∏-2"><a class="header" href="#–ö–ª—é—á–µ–≤—ã–µ-–∫–æ–Ω—Ü–µ–ø—Ü–∏–∏-2">–ö–ª—é—á–µ–≤—ã–µ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏</a></h3>
<ol>
<li><strong>–ü—Ä–æ—Ç–æ–∫–æ–ª—ã</strong> ‚Äî —ç—Ç–æ –±–æ–ª–µ–µ —à–∏—Ä–æ–∫–æ–µ –ø–æ–Ω—è—Ç–∏–µ, —á–µ–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã, –≤–∫–ª—é—á–∞—é—â–µ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ</li>
<li><strong>–ö–æ–Ω—Ç—Ä–∞–∫—Ç—ã</strong> ‚Äî —ç—Ç–æ –ø—Ä–æ—Ç–æ–∫–æ–ª—ã —Å runtime-–ø—Ä–æ–≤–µ—Ä–∫–æ–π</li>
<li><strong>–î–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ</strong> –∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤ –ª—É—á—à–µ –∏–º–ø–µ—Ä–∞—Ç–∏–≤–Ω–æ–≥–æ</li>
<li><strong>–ö–æ–Ω—Ç—Ä–∞–∫—Ç—ã –Ω–µ–∑–∞–º–µ–Ω–∏–º—ã</strong> –Ω–∞ –≥—Ä–∞–Ω–∏—Ü–∞—Ö —Å–∏—Å—Ç–µ–º (API, –ë–î, —Ñ–∞–π–ª—ã)</li>
<li><strong>–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –Ω–∞ –æ—Å–Ω–æ–≤–µ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤</strong> —ç–∫–æ–Ω–æ–º–∏—Ç –≤—Ä–µ–º—è –∏ —Å–Ω–∏–∂–∞–µ—Ç –æ—à–∏–±–∫–∏</li>
</ol>
<h3 id="–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ-—Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏-8"><a class="header" href="#–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ-—Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏-8">–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏</a></h3>
<p>‚úÖ <strong>–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–Ω—Ç—Ä–∞–∫—Ç—ã –¥–ª—è:</strong></p>
<ul>
<li>API –º–µ—Ç–æ–¥–æ–≤</li>
<li>–ú–µ–∂—Å–∏—Å—Ç–µ–º–Ω–æ–≥–æ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è</li>
<li>–†–∞–±–æ—Ç—ã —Å –≤–Ω–µ—à–Ω–∏–º–∏ –¥–∞–Ω–Ω—ã–º–∏ (–ë–î, —Ñ–∞–π–ª—ã, –æ—á–µ—Ä–µ–¥–∏)</li>
<li>–ü—É–±–ª–∏—á–Ω—ã—Ö –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤ –±–∏–±–ª–∏–æ—Ç–µ–∫</li>
</ul>
<p>‚úÖ <strong>–û–ø–∏—Å—ã–≤–∞–π—Ç–µ –∫–æ–Ω—Ç—Ä–∞–∫—Ç—ã –¥–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω–æ:</strong></p>
<ul>
<li>–û—Ç–¥–µ–ª—è–π—Ç–µ –∫–æ–Ω—Ç—Ä–∞–∫—Ç –æ—Ç —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏</li>
<li>–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ</li>
<li>–°—Å—ã–ª–∞–π—Ç–µ—Å—å –Ω–∞ –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —Å—Ö–µ–º—ã</li>
</ul>
<p>‚úÖ <strong>–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä—É–π—Ç–µ:</strong></p>
<ul>
<li>–ì–µ–Ω–µ—Ä–∏—Ä—É–π—Ç–µ —Ç–µ—Å—Ç—ã –∏–∑ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤</li>
<li>–ì–µ–Ω–µ—Ä–∏—Ä—É–π—Ç–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é</li>
<li>–ì–µ–Ω–µ—Ä–∏—Ä—É–π—Ç–µ —Å—Ö–µ–º—ã –ë–î</li>
</ul>
<p>‚úÖ <strong>–û–ø—Ç–∏–º–∏–∑–∏—Ä—É–π—Ç–µ:</strong></p>
<ul>
<li>–í–∫–ª—é—á–∞–π—Ç–µ –∫–æ–Ω—Ç—Ä–∞–∫—Ç—ã –≤ development/testing</li>
<li>–û—Ç–∫–ª—é—á–∞–π—Ç–µ –≤ production –ø–æ—Å–ª–µ –ø—Ä–æ–≤–µ—Ä–∫–∏</li>
<li>–û—Å—Ç–∞–≤–ª—è–π—Ç–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –≤–∫–ª—é—á–∏—Ç—å –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏</li>
</ul>
<h3 id="–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è-—Ü–µ–Ω–Ω–æ—Å—Ç—å-–∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤"><a class="header" href="#–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è-—Ü–µ–Ω–Ω–æ—Å—Ç—å-–∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤">–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è —Ü–µ–Ω–Ω–æ—Å—Ç—å –∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤</a></h3>
<p>–ö–æ–Ω—Ç—Ä–∞–∫—Ç—ã ‚Äî —ç—Ç–æ –Ω–µ –ø—Ä–æ—Å—Ç–æ –≤–∞–ª–∏–¥–∞—Ü–∏—è. –≠—Ç–æ:</p>
<ul>
<li><strong>–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è</strong> (—Ñ–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è –∏ —Ç–æ—á–Ω–∞—è)</li>
<li><strong>–°–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è</strong> (–æ–ø–∏—Å–∞–Ω–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π)</li>
<li><strong>–û—Å–Ω–æ–≤–∞ –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏</strong> (—Ç–µ—Å—Ç—ã, –ë–î, –∫–æ–¥)</li>
<li><strong>–ö—É–ª—å—Ç—É—Ä–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏</strong> (—Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤ –∑–∞—Ä–∞–Ω–µ–µ)</li>
<li><strong>–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –Ω–∞–¥—ë–∂–Ω–æ—Å—Ç–∏</strong> (–∑–∞—â–∏—Ç–∞ –≥—Ä–∞–Ω–∏—Ü —Å–∏—Å—Ç–µ–º—ã)</li>
</ul>
<hr />
<h2 id="–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ-–º–∞—Ç–µ—Ä–∏–∞–ª—ã-–¥–ª—è-–∏–∑—É—á–µ–Ω–∏—è-1"><a class="header" href="#–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ-–º–∞—Ç–µ—Ä–∏–∞–ª—ã-–¥–ª—è-–∏–∑—É—á–µ–Ω–∏—è-1">–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã –¥–ª—è –∏–∑—É—á–µ–Ω–∏—è</a></h2>
<h3 id="–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ-—Ç–µ–º—ã-–¥–ª—è-—É–≥–ª—É–±–ª–µ–Ω–∏—è"><a class="header" href="#–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ-—Ç–µ–º—ã-–¥–ª—è-—É–≥–ª—É–±–ª–µ–Ω–∏—è">–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ —Ç–µ–º—ã –¥–ª—è —É–≥–ª—É–±–ª–µ–Ω–∏—è</a></h3>
<ol>
<li><strong>Design by Contract</strong> (–∫–æ–Ω—Ü–µ–ø—Ü–∏—è –ë–µ—Ä—Ç—Ä–∞–Ω–∞ –ú–µ–π–µ—Ä–∞)</li>
<li><strong>JSON Schema</strong> ‚Äî —Å—Ç–∞–Ω–¥–∞—Ä—Ç –¥–ª—è –æ–ø–∏—Å–∞–Ω–∏—è JSON —Å—Ç—Ä—É–∫—Ç—É—Ä</li>
<li><strong>OpenAPI/Swagger</strong> ‚Äî —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è –¥–ª—è REST API</li>
<li><strong>gRPC –∏ Protocol Buffers</strong> ‚Äî –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π –ø–æ–¥—Ö–æ–¥ –∫ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞–º</li>
<li><strong>MetarhiaJS</strong> ‚Äî —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫ —Å –≤—Å—Ç—Ä–æ–µ–Ω–Ω–æ–π –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤</li>
</ol>
<h3 id="–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ-–∑–∞–¥–∞–Ω–∏—è-5"><a class="header" href="#–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ-–∑–∞–¥–∞–Ω–∏—è-5">–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –∑–∞–¥–∞–Ω–∏—è</a></h3>
<ol>
<li>–†–µ–∞–ª–∏–∑—É–π—Ç–µ –ø—Ä–æ—Å—Ç–æ–π runner –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤</li>
<li>–°–æ–∑–¥–∞–π—Ç–µ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö –Ω–∞ –æ—Å–Ω–æ–≤–µ —Å—Ö–µ–º</li>
<li>–ù–∞–ø–∏—à–∏—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ SQL –∏–∑ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤</li>
<li>–†–µ–∞–ª–∏–∑—É–π—Ç–µ —Å–∏—Å—Ç–µ–º—É –≤–∫–ª—é—á–µ–Ω–∏—è/–≤—ã–∫–ª—é—á–µ–Ω–∏—è –∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤</li>
<li>–°–æ–∑–¥–∞–π—Ç–µ –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤ —Ñ—É–Ω–∫—Ü–∏–π</li>
</ol>
<hr />
<p><strong>–ó–∞–∫–ª—é—á–µ–Ω–∏–µ:</strong> –ö–æ–Ω—Ç—Ä–∞–∫—Ç–Ω–æ–µ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ ‚Äî —ç—Ç–æ –º–æ—â–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –Ω–∞–¥—ë–∂–Ω—ã—Ö, –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã—Ö –∏ —Ö–æ—Ä–æ—à–æ –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Å–∏—Å—Ç–µ–º, –æ—Å–æ–±–µ–Ω–Ω–æ –≤ —É—Å–ª–æ–≤–∏—è—Ö —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã –∏ –º–µ–∂—Å–∏—Å—Ç–µ–º–Ω–æ–≥–æ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è. –î–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤ –ø–æ–∑–≤–æ–ª—è–µ—Ç –æ—Ç–¥–µ–ª–∏—Ç—å –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫—É –æ—Ç –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –∏ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ –º–Ω–æ–∂–µ—Å—Ç–≤–∞ –∑–∞–¥–∞—á —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="nodejs-–°–ª–æ–∏-–∏-–°–ª–∞–±–æ–µ-–ó–∞—Ü–µ–ø–ª–µ–Ω–∏–µ-–Ω–∞-–ø—Ä–∏–º–µ—Ä–µ-–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏-–∏-—Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞"><a class="header" href="#nodejs-–°–ª–æ–∏-–∏-–°–ª–∞–±–æ–µ-–ó–∞—Ü–µ–ø–ª–µ–Ω–∏–µ-–Ω–∞-–ø—Ä–∏–º–µ—Ä–µ-–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏-–∏-—Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞">Node.js: –°–ª–æ–∏ –∏ –°–ª–∞–±–æ–µ –ó–∞—Ü–µ–ø–ª–µ–Ω–∏–µ –Ω–∞ –ø—Ä–∏–º–µ—Ä–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –∏ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞</a></h1>
<h2 id="–û–±–∑–æ—Ä-19"><a class="header" href="#–û–±–∑–æ—Ä-19">–û–±–∑–æ—Ä</a></h2>
<p>–≠—Ç–∞ –ª–µ–∫—Ü–∏—è –ø–æ—Å–≤—è—â–µ–Ω–∞ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ Node.js –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π —Å –∞–∫—Ü–µ–Ω—Ç–æ–º –Ω–∞ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –ø–æ —Å–ª–æ—è–º (Layers) –∏ –ø—Ä–∏–Ω—Ü–∏–ø —Å–ª–∞–±–æ–≥–æ –∑–∞—Ü–µ–ø–ª–µ–Ω–∏—è (Low Coupling). –ú—ã —Ä–∞—Å—Å–º–æ—Ç—Ä–∏–º –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–∏–º–µ—Ä—ã —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞, –≤–∫–ª—é—á–∞—è –≤—ã–Ω–æ—Å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –∏–∑ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, –∞–±—Å—Ç—Ä–∞–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω—ã—Ö —Å–ª–æ–µ–≤ (HTTP –∏ WebSocket) –∏ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –ø—Ä–∏–Ω—Ü–∏–ø–∞ –∏–Ω—ä–µ–∫—Ü–∏–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π (Dependency Injection) —á–µ—Ä–µ–∑ —Ä–∞–∑–ª–∏—á–Ω—ã–µ –º–µ—Ö–∞–Ω–∏–∑–º—ã.</p>
<p><strong>–û—Å–Ω–æ–≤–Ω—ã–µ —Ç–µ–º—ã:</strong></p>
<ul>
<li>–í—ã–Ω–æ—Å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–π –º–æ–¥—É–ª—å</li>
<li>–ê–±—Å—Ç—Ä–∞–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–æ–≤</li>
<li>–°–ª–∞–±–æ–µ –∑–∞—Ü–µ–ø–ª–µ–Ω–∏–µ –º–æ–¥—É–ª–µ–π</li>
<li>–ò–Ω—ä–µ–∫—Ü–∏—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π —á–µ—Ä–µ–∑ –∑–∞–º—ã–∫–∞–Ω–∏—è</li>
<li>–û—Ç–∫–∞–∑ –æ—Ç –∫–∞—Å—Ç–æ–º–Ω–æ–≥–æ –ª–æ–∞–¥–µ—Ä–∞ –≤ –ø–æ–ª—å–∑—É CommonJS</li>
</ul>
<hr />
<h2 id="–ß–∞—Å—Ç—å-1-–í—ã–Ω–æ—Å-–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏-–∏–∑-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è"><a class="header" href="#–ß–∞—Å—Ç—å-1-–í—ã–Ω–æ—Å-–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏-–∏–∑-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è">–ß–∞—Å—Ç—å 1: –í—ã–Ω–æ—Å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –∏–∑ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è</a></h2>
<h3 id="–ü—Ä–æ–±–ª–µ–º–∞-–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è-—Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∞-–ø–æ-–∫–æ–¥—É"><a class="header" href="#–ü—Ä–æ–±–ª–µ–º–∞-–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è-—Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∞-–ø–æ-–∫–æ–¥—É">–ü—Ä–æ–±–ª–µ–º–∞: –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∞ –ø–æ –∫–æ–¥—É</a></h3>
<p>–†–∞–Ω—å—à–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –±—ã–ª–∞ –≤—Å—Ç—Ä–æ–µ–Ω–∞ –ø—Ä—è–º–æ –≤ –∫–æ–¥ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è. –≠—Ç–æ —Å–æ–∑–¥–∞–≤–∞–ª–æ –ø—Ä–æ–±–ª–µ–º—ã:</p>
<ul>
<li>–°–∏–ª—å–Ω–æ–µ –∑–∞—Ü–µ–ø–ª–µ–Ω–∏–µ (tight coupling) –º–µ–∂–¥—É –º–æ–¥—É–ª—è–º–∏ –∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π</li>
<li>–°–ª–æ–∂–Ω–æ—Å—Ç—å —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è</li>
<li>–ù–µ–≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ª–µ–≥–∫–æ –∏–∑–º–µ–Ω—è—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã</li>
<li>–ú–æ–¥—É–ª–∏ –∏–º–ø–æ—Ä—Ç–∏—Ä—É—é—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –ø–æ–≤—Å–µ–º–µ—Å—Ç–Ω–æ</li>
</ul>
<h3 id="–†–µ—à–µ–Ω–∏–µ-–¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è-–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è"><a class="header" href="#–†–µ—à–µ–Ω–∏–µ-–¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è-–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è">–†–µ—à–µ–Ω–∏–µ: –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è</a></h3>
<p>–í—Å–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤—ã–Ω–æ—Å—è—Ç—Å—è –≤ –æ–¥–∏–Ω —Ñ–∞–π–ª –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, <code>config.js</code>).</p>
<h4 id="–ü—Ä–∏–º–µ—Ä-—Å—Ç—Ä—É–∫—Ç—É—Ä—ã-–∫–æ–Ω—Ñ–∏–≥–∞"><a class="header" href="#–ü—Ä–∏–º–µ—Ä-—Å—Ç—Ä—É–∫—Ç—É—Ä—ã-–∫–æ–Ω—Ñ–∏–≥–∞">–ü—Ä–∏–º–µ—Ä —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –∫–æ–Ω—Ñ–∏–≥–∞</a></h4>
<pre><code class="language-javascript">// config.js
'use strict';

module.exports = {
  // –ü–æ—Ä—Ç –¥–ª—è –æ—Ç–¥–∞—á–∏ —Å—Ç–∞—Ç–∏–∫–∏
  static: {
    port: 8000
  },

  // –ü–æ—Ä—Ç –¥–ª—è API
  api: {
    port: 8001,
    transport: 'http' // –∏–ª–∏ 'ws' –¥–ª—è WebSocket
  },

  // –ù–∞—Å—Ç—Ä–æ–π–∫–∏ Sandbox –¥–ª—è –∏–∑–æ–ª—è—Ü–∏–∏ –ø—Ä–∏–∫–ª–∞–¥–Ω–æ–≥–æ –∫–æ–¥–∞
  sandbox: {
    timeout: 5000,
    displayErrors: false
  },

  // –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
  db: {
    host: 'localhost',
    port: 5432,
    database: 'application',
    user: 'user',
    password: 'password'
  }
};
</code></pre>
<h3 id="–ü—Ä–∏–Ω—Ü–∏–ø-–µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–π-—Ç–æ—á–∫–∏-–≤—Ö–æ–¥–∞"><a class="header" href="#–ü—Ä–∏–Ω—Ü–∏–ø-–µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–π-—Ç–æ—á–∫–∏-–≤—Ö–æ–¥–∞">–ü—Ä–∏–Ω—Ü–∏–ø –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–π —Ç–æ—á–∫–∏ –≤—Ö–æ–¥–∞</a></h3>
<p><strong>–í–∞–∂–Ω–æ:</strong> –ö–æ–Ω—Ñ–∏–≥ –¥–æ–ª–∂–µ–Ω –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å—Å—è <strong>—Ç–æ–ª—å–∫–æ –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ</strong> ‚Äî –≤ —Ç–æ—á–∫–µ –≤—Ö–æ–¥–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (<code>main.js</code>).</p>
<pre><code class="language-javascript">// main.js
'use strict';

const config = require('./config.js');

// –î–∞–ª—å—à–µ –∫–æ–Ω—Ñ–∏–≥ –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏,
// –∞ –Ω–µ –∏–º–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç—Å—è –ø–æ–≤—Å–µ–º–µ—Å—Ç–Ω–æ
</code></pre>
<p><strong>–ü–æ—á–µ–º—É —ç—Ç–æ –≤–∞–∂–Ω–æ:</strong></p>
<ul>
<li>–¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π</li>
<li>–õ–µ–≥–∫–æ –æ—Ç—Å–ª–µ–¥–∏—Ç—å, –≥–¥–µ –∏ –∫–∞–∫ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏</li>
<li>–£–ø—Ä–æ—â–∞–µ—Ç—Å—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (–º–æ–∂–Ω–æ –ø–æ–¥–º–µ–Ω–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥)</li>
<li>–°–Ω–∏–∂–∞–µ—Ç—Å—è –∑–∞—Ü–µ–ø–ª–µ–Ω–∏–µ –º–µ–∂–¥—É –º–æ–¥—É–ª—è–º–∏</li>
</ul>
<hr />
<h2 id="–ß–∞—Å—Ç—å-2-–ò–Ω—ä–µ–∫—Ü–∏—è-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π-—á–µ—Ä–µ–∑-–∑–∞–º—ã–∫–∞–Ω–∏—è"><a class="header" href="#–ß–∞—Å—Ç—å-2-–ò–Ω—ä–µ–∫—Ü–∏—è-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π-—á–µ—Ä–µ–∑-–∑–∞–º—ã–∫–∞–Ω–∏—è">–ß–∞—Å—Ç—å 2: –ò–Ω—ä–µ–∫—Ü–∏—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π —á–µ—Ä–µ–∑ –∑–∞–º—ã–∫–∞–Ω–∏—è</a></h2>
<h3 id="–ö–æ–Ω—Ü–µ–ø—Ü–∏—è-7"><a class="header" href="#–ö–æ–Ω—Ü–µ–ø—Ü–∏—è-7">–ö–æ–Ω—Ü–µ–ø—Ü–∏—è</a></h3>
<p>–í–º–µ—Å—Ç–æ –∏–º–ø–æ—Ä—Ç–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –≤ –∫–∞–∂–¥–æ–º –º–æ–¥—É–ª–µ, –º—ã <strong>–∏–Ω–∂–µ–∫—Ç–∏—Ä—É–µ–º</strong> –Ω—É–∂–Ω—ã–µ —á–∞—Å—Ç–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ –∑–∞–º—ã–∫–∞–Ω–∏—è (closures).</p>
<h3 id="–ü—Ä–∏–º–µ—Ä-1-–ò–Ω—ä–µ–∫—Ü–∏—è-–Ω–∞—Å—Ç—Ä–æ–µ–∫-–≤-sandbox-loader"><a class="header" href="#–ü—Ä–∏–º–µ—Ä-1-–ò–Ω—ä–µ–∫—Ü–∏—è-–Ω–∞—Å—Ç—Ä–æ–µ–∫-–≤-sandbox-loader">–ü—Ä–∏–º–µ—Ä 1: –ò–Ω—ä–µ–∫—Ü–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–∫ –≤ Sandbox loader</a></h3>
<p><strong>–î–æ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞:</strong></p>
<pre><code class="language-javascript">// loader.js
'use strict';

const config = require('./config.js'); // –ü–ª–æ—Ö–æ: –∏–º–ø–æ—Ä—Ç –∫–æ–Ω—Ñ–∏–≥–∞

module.exports = (filename) =&gt; {
  const timeout = config.sandbox.timeout;
  // ... –∫–æ–¥
};
</code></pre>
<p><strong>–ü–æ—Å–ª–µ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞:</strong></p>
<pre><code class="language-javascript">// loader.js
'use strict';

// –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–µ–º —Ñ—É–Ω–∫—Ü–∏—é, –∫–æ—Ç–æ—Ä–∞—è –ø—Ä–∏–Ω–∏–º–∞–µ—Ç options
module.exports = (options) =&gt; {
  // –í–æ–∑–≤—Ä–∞—â–∞–µ–º —Ñ—É–Ω–∫—Ü–∏—é-–∑–∞–≥—Ä—É–∑—á–∏–∫
  return (filename) =&gt; {
    const { timeout } = options; // options –ø–æ–ø–∞–¥–∞–µ—Ç –≤ –∑–∞–º—ã–∫–∞–Ω–∏–µ

    const sandbox = {
      console,
      setTimeout,
      // ... –æ—Å—Ç–∞–ª—å–Ω—ã–µ API
    };

    const context = vm.createContext(sandbox);
    // ... –∫–æ–¥ –∑–∞–ø—É—Å–∫–∞ –≤ sandbox
  };
};
</code></pre>
<p><strong>–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ main.js:</strong></p>
<pre><code class="language-javascript">// main.js
const config = require('./config.js');
const createLoader = require('./loader.js');

// –ü–µ—Ä–µ–¥–∞–µ–º —Ç–æ–ª—å–∫–æ –Ω—É–∂–Ω—É—é —á–∞—Å—Ç—å –∫–æ–Ω—Ñ–∏–≥–∞
const loader = createLoader(config.sandbox);

// –¢–µ–ø–µ—Ä—å loader —Å–æ–¥–µ—Ä–∂–∏—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤ –∑–∞–º—ã–∫–∞–Ω–∏–∏
</code></pre>
<p><strong>–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:</strong></p>
<ul>
<li>–ú–æ–¥—É–ª—å <code>loader.js</code> –Ω–µ –∑–Ω–∞–µ—Ç –ø—Ä–æ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–∞ <code>config.js</code></li>
<li>–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ–ø–∞–¥–∞—é—Ç –≤ –∑–∞–º—ã–∫–∞–Ω–∏–µ –∏ –¥–æ—Å—Ç—É–ø–Ω—ã –≤–Ω—É—Ç—Ä–∏ —Ñ—É–Ω–∫—Ü–∏–∏</li>
<li>–ú–æ–¥—É–ª—å –ø–æ–ª—É—á–∞–µ—Ç <strong>—Ç–æ–ª—å–∫–æ —Ç–æ, —á—Ç–æ –µ–º—É –Ω—É–∂–Ω–æ</strong>, –∞ –Ω–µ –≤–µ—Å—å –∫–æ–Ω—Ñ–∏–≥</li>
</ul>
<h3 id="–ü—Ä–∏–º–µ—Ä-2-–ò–Ω—ä–µ–∫—Ü–∏—è-–Ω–∞—Å—Ç—Ä–æ–µ–∫-–±–∞–∑—ã-–¥–∞–Ω–Ω—ã—Ö"><a class="header" href="#–ü—Ä–∏–º–µ—Ä-2-–ò–Ω—ä–µ–∫—Ü–∏—è-–Ω–∞—Å—Ç—Ä–æ–µ–∫-–±–∞–∑—ã-–¥–∞–Ω–Ω—ã—Ö">–ü—Ä–∏–º–µ—Ä 2: –ò–Ω—ä–µ–∫—Ü–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–∫ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö</a></h3>
<pre><code class="language-javascript">// db.js
'use strict';

const pg = require('pg');

// –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–µ–º —Ñ—É–Ω–∫—Ü–∏—é –≤—ã—Å—à–µ–≥–æ –ø–æ—Ä—è–¥–∫–∞
module.exports = (options) =&gt; {
  // –°–æ–∑–¥–∞–µ–º –ø—É–ª –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π —Å –ø–µ—Ä–µ–¥–∞–Ω–Ω—ã–º–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏
  const pool = new pg.Pool(options);

  // –í–æ–∑–≤—Ä–∞—â–∞–µ–º —Ñ—É–Ω–∫—Ü–∏—é –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è CRUD –æ–ø–µ—Ä–∞—Ü–∏–π
  const crud = (pool) =&gt; {
    return (tableName) =&gt; {
      return {
        async create(record) {
          const keys = Object.keys(record).join(', ');
          const values = Object.values(record);
          const params = values.map((_, i) =&gt; `$${i + 1}`).join(', ');
          const sql = `INSERT INTO ${tableName} (${keys}) VALUES (${params})`;
          const result = await pool.query(sql, values);
          return result.rows[0];
        },

        async read(id) {
          const sql = `SELECT * FROM ${tableName} WHERE id = $1`;
          const result = await pool.query(sql, [id]);
          return result.rows[0];
        },

        async update(id, record) {
          const keys = Object.keys(record);
          const values = Object.values(record);
          const set = keys.map((key, i) =&gt; `${key} = $${i + 2}`).join(', ');
          const sql = `UPDATE ${tableName} SET ${set} WHERE id = $1`;
          await pool.query(sql, [id, ...values]);
        },

        async delete(id) {
          const sql = `DELETE FROM ${tableName} WHERE id = $1`;
          await pool.query(sql, [id]);
        }
      };
    };
  };

  // –í—ã–∑—ã–≤–∞–µ–º crud —Å –ø—É–ª–æ–º –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç
  return crud(pool);
};
</code></pre>
<p><strong>–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:</strong></p>
<pre><code class="language-javascript">// main.js
const config = require('./config.js');
const db = require('./db.js');

// –ò–Ω–∂–µ–∫—Ç–∏—Ä—É–µ–º –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ë–î
const createCrud = db(config.db);

// –°–æ–∑–¥–∞–µ–º CRUD –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π —Ç–∞–±–ª–∏—Ü—ã
const usersCrud = createCrud('users');

// –ò—Å–ø–æ–ª—å–∑—É–µ–º
await usersCrud.create({ name: 'John', email: 'john@example.com' });
</code></pre>
<p><strong>–¶–µ–ø–æ—á–∫–∞ –≤—ã–∑–æ–≤–æ–≤:</strong></p>
<ol>
<li><code>db(config.db)</code> ‚Äî –ø–µ—Ä–µ–¥–∞–µ–º –Ω–∞—Å—Ç—Ä–æ–π–∫–∏, —Å–æ–∑–¥–∞–µ–º –ø—É–ª, –≤–æ–∑–≤—Ä–∞—â–∞–µ–º —Ñ—É–Ω–∫—Ü–∏—é <code>crud</code></li>
<li><code>createCrud('users')</code> ‚Äî –ø–µ—Ä–µ–¥–∞–µ–º –∏–º—è —Ç–∞–±–ª–∏—Ü—ã, –≤–æ–∑–≤—Ä–∞—â–∞–µ–º –æ–±—ä–µ–∫—Ç —Å –º–µ—Ç–æ–¥–∞–º–∏ CRUD</li>
<li>–ü—É–ª –∏ –∏–º—è —Ç–∞–±–ª–∏—Ü—ã –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ –∑–∞–º—ã–∫–∞–Ω–∏–∏</li>
</ol>
<hr />
<h2 id="–ß–∞—Å—Ç—å-3-–ò–Ω—ä–µ–∫—Ü–∏—è-–ª–æ–≥–≥–µ—Ä–∞"><a class="header" href="#–ß–∞—Å—Ç—å-3-–ò–Ω—ä–µ–∫—Ü–∏—è-–ª–æ–≥–≥–µ—Ä–∞">–ß–∞—Å—Ç—å 3: –ò–Ω—ä–µ–∫—Ü–∏—è –ª–æ–≥–≥–µ—Ä–∞</a></h2>
<h3 id="–ü—Ä–æ–±–ª–µ–º–∞-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è-–≥–ª–æ–±–∞–ª—å–Ω–æ–≥–æ-console"><a class="header" href="#–ü—Ä–æ–±–ª–µ–º–∞-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è-–≥–ª–æ–±–∞–ª—å–Ω–æ–≥–æ-console">–ü—Ä–æ–±–ª–µ–º–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≥–ª–æ–±–∞–ª—å–Ω–æ–≥–æ console</a></h3>
<p>–í–æ –º–Ω–æ–≥–∏—Ö –º–æ–¥—É–ª—è—Ö –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≥–ª–æ–±–∞–ª—å–Ω—ã–π –æ–±—ä–µ–∫—Ç <code>console</code>, –∫–æ—Ç–æ—Ä—ã–π:</p>
<ul>
<li>–ù–µ–≤–æ–∑–º–æ–∂–Ω–æ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –∏–ª–∏ –ø–æ–¥–º–µ–Ω–∏—Ç—å</li>
<li>–ù–µ –ø–æ–∑–≤–æ–ª—è–µ—Ç —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ —É–ø—Ä–∞–≤–ª—è—Ç—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ–º</li>
<li>–£—Å–ª–æ–∂–Ω—è–µ—Ç —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ</li>
</ul>
<h3 id="–†–µ—à–µ–Ω–∏–µ-–ò–Ω—ä–µ–∫—Ü–∏—è-–∫–∞—Å—Ç–æ–º–Ω–æ–≥–æ-–ª–æ–≥–≥–µ—Ä–∞"><a class="header" href="#–†–µ—à–µ–Ω–∏–µ-–ò–Ω—ä–µ–∫—Ü–∏—è-–∫–∞—Å—Ç–æ–º–Ω–æ–≥–æ-–ª–æ–≥–≥–µ—Ä–∞">–†–µ—à–µ–Ω–∏–µ: –ò–Ω—ä–µ–∫—Ü–∏—è –∫–∞—Å—Ç–æ–º–Ω–æ–≥–æ –ª–æ–≥–≥–µ—Ä–∞</a></h3>
<pre><code class="language-javascript">// logger.js
'use strict';

const pino = require('pino');

const logger = pino({
  level: 'info',
  transport: {
    target: 'pino-pretty',
    options: {
      colorize: true
    }
  }
});

// –°–æ–∑–¥–∞–µ–º –æ–±–µ—Ä—Ç–∫—É —Å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º console
module.exports = {
  log: (...args) =&gt; logger.info(...args),
  error: (...args) =&gt; logger.error(...args),
  warn: (...args) =&gt; logger.warn(...args),
  debug: (...args) =&gt; logger.debug(...args),
};
</code></pre>
<p><strong>–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–µ:</strong></p>
<pre><code class="language-javascript">// transport/ws.js
'use strict';

const { WebSocket } = require('ws');

module.exports = (routing, port, console) =&gt; {
  const ws = new WebSocket.Server({ port });

  ws.on('connection', (connection) =&gt; {
    console.log('WebSocket client connected'); // –ò—Å–ø–æ–ª—å–∑—É–µ–º –∏–Ω–∂–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ª–æ–≥–≥–µ—Ä

    connection.on('message', async (message) =&gt; {
      const { method, args } = JSON.parse(message);
      console.log(`Call: ${method}`, args);

      const handler = routing[method];
      if (!handler) {
        console.error(`Method not found: ${method}`);
        return;
      }

      const result = await handler(...args);
      connection.send(JSON.stringify(result));
    });
  });

  console.log(`WebSocket server on port ${port}`);
};
</code></pre>
<p><strong>–í main.js:</strong></p>
<pre><code class="language-javascript">// main.js
const logger = require('./logger.js');
const transport = require('./transport/ws.js');

// –ò–Ω–∂–µ–∫—Ç–∏—Ä—É–µ–º –ª–æ–≥–≥–µ—Ä –≤ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç
transport(routing, config.api.port, logger);
</code></pre>
<p><strong>–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ ‚Äî –ø–µ—Ä–µ–∫—Ä—ã—Ç–∏–µ –∏–º–µ–Ω–∏:</strong></p>
<pre><code class="language-javascript">// static.js
module.exports = (path, port, console) =&gt; {
  // console —Ç–µ–ø–µ—Ä—å —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ –ø–µ—Ä–µ–¥–∞–Ω–Ω—ã–π –ª–æ–≥–≥–µ—Ä,
  // –∞ –Ω–µ –Ω–∞ –≥–ª–æ–±–∞–ª—å–Ω—ã–π –æ–±—ä–µ–∫—Ç

  const server = http.createServer((req, res) =&gt; {
    console.log(`${req.method} ${req.url}`);
    // ...
  });

  server.listen(port);
  console.log(`Static server on port ${port}`);
};
</code></pre>
<hr />
<h2 id="–ß–∞—Å—Ç—å-4-–ê–±—Å—Ç—Ä–∞–≥–∏—Ä–æ–≤–∞–Ω–∏–µ-—Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–æ–≤"><a class="header" href="#–ß–∞—Å—Ç—å-4-–ê–±—Å—Ç—Ä–∞–≥–∏—Ä–æ–≤–∞–Ω–∏–µ-—Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–æ–≤">–ß–∞—Å—Ç—å 4: –ê–±—Å—Ç—Ä–∞–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–æ–≤</a></h2>
<h3 id="–¶–µ–ª—å-2"><a class="header" href="#–¶–µ–ª—å-2">–¶–µ–ª—å</a></h3>
<p>–°–¥–µ–ª–∞—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã–º –æ—Ç –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞ (HTTP –∏–ª–∏ WebSocket). –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞ –¥–æ–ª–∂–Ω–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏–µ–º <strong>–æ–¥–Ω–æ–≥–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏</strong>.</p>
<h3 id="–°—Ç—Ä—É–∫—Ç—É—Ä–∞-–ø–∞–ø–∫–∏-transport"><a class="header" href="#–°—Ç—Ä—É–∫—Ç—É—Ä–∞-–ø–∞–ø–∫–∏-transport">–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–∞–ø–∫–∏ transport</a></h3>
<pre><code>transport/
‚îú‚îÄ‚îÄ http.js    # HTTP —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç
‚îî‚îÄ‚îÄ ws.js      # WebSocket —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç
</code></pre>
<h3 id="–ö–æ–Ω—Ç—Ä–∞–∫—Ç-—Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞"><a class="header" href="#–ö–æ–Ω—Ç—Ä–∞–∫—Ç-—Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞">–ö–æ–Ω—Ç—Ä–∞–∫—Ç —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞</a></h3>
<p>–û–±–∞ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞ –¥–æ–ª–∂–Ω—ã —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é —Å –æ–¥–∏–Ω–∞–∫–æ–≤–æ–π —Å–∏–≥–Ω–∞—Ç—É—Ä–æ–π:</p>
<pre><code class="language-javascript">module.exports = (routing, port, console) =&gt; {
  // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞
  // ...
};
</code></pre>
<p><strong>–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:</strong></p>
<ul>
<li><code>routing</code> ‚Äî –æ–±—ä–µ–∫—Ç —Å –º–µ—Ç–æ–¥–∞–º–∏ API (–º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è)</li>
<li><code>port</code> ‚Äî –ø–æ—Ä—Ç –¥–ª—è –∑–∞–ø—É—Å–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞</li>
<li><code>console</code> ‚Äî –ª–æ–≥–≥–µ—Ä –¥–ª—è –≤—ã–≤–æ–¥–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏</li>
</ul>
<h3 id="–†–µ–∞–ª–∏–∑–∞—Ü–∏—è-http-—Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞"><a class="header" href="#–†–µ–∞–ª–∏–∑–∞—Ü–∏—è-http-—Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞">–†–µ–∞–ª–∏–∑–∞—Ü–∏—è HTTP —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞</a></h3>
<pre><code class="language-javascript">// transport/http.js
'use strict';

const http = require('http');

module.exports = (routing, port, console) =&gt; {
  const HEADERS = {
    'Content-Type': 'application/json',
    'Access-Control-Allow-Origin': '*',
    'Access-Control-Allow-Methods': 'POST, OPTIONS',
    'Access-Control-Allow-Headers': 'Content-Type',
  };

  const server = http.createServer(async (req, res) =&gt; {
    // –û–±—Ä–∞–±–æ—Ç–∫–∞ CORS preflight
    if (req.method === 'OPTIONS') {
      res.writeHead(200, HEADERS);
      res.end();
      return;
    }

    // –ü–∞—Ä—Å–∏–Ω–≥ URL: /api/interfaceName/methodName
    const url = req.url.split('/');
    const interfaceName = url[2];
    const methodName = url[3];

    console.log(`HTTP Call: ${interfaceName}.${methodName}`);

    // –ü–æ–ª—É—á–∞–µ–º —Ç–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞
    let body = '';
    req.on('data', chunk =&gt; {
      body += chunk.toString();
    });

    req.on('end', async () =&gt; {
      const args = JSON.parse(body);
      const method = routing[methodName];

      if (!method) {
        res.writeHead(404, HEADERS);
        res.end(JSON.stringify({ error: 'Method not found' }));
        return;
      }

      try {
        const result = await method(...args);
        res.writeHead(200, HEADERS);
        res.end(JSON.stringify(result));
      } catch (error) {
        console.error(error);
        res.writeHead(500, HEADERS);
        res.end(JSON.stringify({ error: error.message }));
      }
    });
  });

  server.listen(port);
  console.log(`HTTP API server on port ${port}`);
};
</code></pre>
<h3 id="–†–µ–∞–ª–∏–∑–∞—Ü–∏—è-websocket-—Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞"><a class="header" href="#–†–µ–∞–ª–∏–∑–∞—Ü–∏—è-websocket-—Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞">–†–µ–∞–ª–∏–∑–∞—Ü–∏—è WebSocket —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞</a></h3>
<pre><code class="language-javascript">// transport/ws.js
'use strict';

const { WebSocketServer } = require('ws');

module.exports = (routing, port, console) =&gt; {
  const wss = new WebSocketServer({ port });

  wss.on('connection', (connection) =&gt; {
    console.log('WebSocket client connected');

    connection.on('message', async (message) =&gt; {
      const packet = JSON.parse(message);
      const { method, args } = packet;

      console.log(`WS Call: ${method}`, args);

      const handler = routing[method];

      if (!handler) {
        console.error(`Method not found: ${method}`);
        connection.send(JSON.stringify({ error: 'Method not found' }));
        return;
      }

      try {
        const result = await handler(...args);
        connection.send(JSON.stringify({ result }));
      } catch (error) {
        console.error(error);
        connection.send(JSON.stringify({ error: error.message }));
      }
    });

    connection.on('close', () =&gt; {
      console.log('WebSocket client disconnected');
    });
  });

  console.log(`WebSocket API server on port ${port}`);
};
</code></pre>
<h3 id="–î–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è-–∑–∞–≥—Ä—É–∑–∫–∞-—Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞-–≤-mainjs"><a class="header" href="#–î–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è-–∑–∞–≥—Ä—É–∑–∫–∞-—Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞-–≤-mainjs">–î–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞ –≤ main.js</a></h3>
<pre><code class="language-javascript">// main.js
'use strict';

const config = require('./config.js');
const logger = require('./logger.js');

// –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –∑–∞–≥—Ä—É–∂–∞–µ–º —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç –∏–∑ –∫–æ–Ω—Ñ–∏–≥–∞
const transportName = config.api.transport; // 'http' –∏–ª–∏ 'ws'
const transport = require(`./transport/${transportName}.js`);

// –ó–∞–≥—Ä—É–∂–∞–µ–º API (routing)
const routing = {};
const apiPath = './api';
const files = fs.readdirSync(apiPath);

for (const file of files) {
  const modulePath = path.join(apiPath, file);
  const methods = require(modulePath);
  Object.assign(routing, methods);
}

// –ó–∞–ø—É—Å–∫–∞–µ–º —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç —Å –∏–Ω–∂–µ–∫—Ü–∏–µ–π –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
transport(routing, config.api.port, logger);
</code></pre>
<p><strong>–ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞:</strong></p>
<pre><code class="language-javascript">// config.js
module.exports = {
  api: {
    port: 8001,
    transport: 'http' // –ú–µ–Ω—è–µ–º –Ω–∞ 'ws' –¥–ª—è WebSocket
  }
};
</code></pre>
<hr />
<h2 id="–ß–∞—Å—Ç—å-5-–ê–±—Å—Ç—Ä–∞–≥–∏—Ä–æ–≤–∞–Ω–∏–µ-—Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞-–Ω–∞-–∫–ª–∏–µ–Ω—Ç–µ"><a class="header" href="#–ß–∞—Å—Ç—å-5-–ê–±—Å—Ç—Ä–∞–≥–∏—Ä–æ–≤–∞–Ω–∏–µ-—Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞-–Ω–∞-–∫–ª–∏–µ–Ω—Ç–µ">–ß–∞—Å—Ç—å 5: –ê–±—Å—Ç—Ä–∞–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞ –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ</a></h2>
<h3 id="–¶–µ–ª—å-3"><a class="header" href="#–¶–µ–ª—å-3">–¶–µ–ª—å</a></h3>
<p>–ö–ª–∏–µ–Ω—Ç—Å–∫–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–æ–ª–∂–Ω–æ —É–º–µ—Ç—å —Ä–∞–±–æ—Ç–∞—Ç—å —Å —Ä–∞–∑–Ω—ã–º–∏ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞–º–∏ –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏—è –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏.</p>
<h3 id="scaffold--–¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ-—Å–æ–∑–¥–∞–Ω–∏–µ-api"><a class="header" href="#scaffold--–¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ-—Å–æ–∑–¥–∞–Ω–∏–µ-api">Scaffold ‚Äî –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ API</a></h3>
<p><strong>–ò–¥–µ—è:</strong> –ù–∞ –∫–ª–∏–µ–Ω—Ç–µ –º—ã —Å–æ–∑–¥–∞–µ–º –ø—Ä–æ–∫—Å–∏-–æ–±—ä–µ–∫—Ç, –∫–æ—Ç–æ—Ä—ã–π –∏–º–∏—Ç–∏—Ä—É–µ—Ç —Å–µ—Ä–≤–µ—Ä–Ω–æ–µ API. –í—ã–∑–æ–≤ –º–µ—Ç–æ–¥–æ–≤ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–µ–≤—Ä–∞—â–∞–µ—Ç—Å—è –≤ —Å–µ—Ç–µ–≤—ã–µ –∑–∞–ø—Ä–æ—Å—ã.</p>
<pre><code class="language-javascript">// client.js
'use strict';

const scaffolds = {
  http: (url) =&gt; (structure) =&gt; {
    const api = {};
    for (const interfaceName in structure) {
      api[interfaceName] = {};
      const methods = structure[interfaceName];

      for (const methodName of methods) {
        api[interfaceName][methodName] = (...args) =&gt; {
          return fetch(`${url}/${interfaceName}/${methodName}`, {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify(args)
          }).then(res =&gt; res.json());
        };
      }
    }
    return api;
  },

  ws: (url) =&gt; (structure) =&gt; {
    const socket = new WebSocket(url);
    const api = {};
    const calls = new Map();
    let callId = 0;

    socket.addEventListener('message', (event) =&gt; {
      const packet = JSON.parse(event.data);
      const { id, result, error } = packet;
      const { resolve, reject } = calls.get(id);

      if (error) reject(new Error(error));
      else resolve(result);

      calls.delete(id);
    });

    for (const interfaceName in structure) {
      api[interfaceName] = {};
      const methods = structure[interfaceName];

      for (const methodName of methods) {
        api[interfaceName][methodName] = (...args) =&gt; {
          return new Promise((resolve, reject) =&gt; {
            const id = callId++;
            calls.set(id, { resolve, reject });

            const packet = { id, method: methodName, args };
            socket.send(JSON.stringify(packet));
          });
        };
      }
    }

    return new Promise((resolve) =&gt; {
      socket.addEventListener('open', () =&gt; resolve(api));
    });
  }
};

// –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞ –ø–æ URL
const scaffold = (url, structure) =&gt; {
  const protocol = url.startsWith('ws://') || url.startsWith('wss://') ? 'ws' : 'http';
  const transport = scaffolds[protocol];
  return transport(url)(structure);
};

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
const api = await scaffold('http://localhost:8001', {
  test: ['say']
});

// –í—ã–∑–æ–≤ –º–µ—Ç–æ–¥–∞ ‚Äî –ø—Ä–æ–∑—Ä–∞—á–Ω–æ, –±–µ–∑ –∑–Ω–∞–Ω–∏—è –æ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–µ
const result = await api.test.say('Hello');
console.log(result); // { status: 'OK' }
</code></pre>
<p><strong>–ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞:</strong></p>
<pre><code class="language-javascript">// –î–ª—è HTTP
const api = await scaffold('http://localhost:8001', structure);

// –î–ª—è WebSocket (–º–µ–Ω—è–µ–º —Ç–æ–ª—å–∫–æ URL)
const api = await scaffold('ws://localhost:8001', structure);
</code></pre>
<hr />
<h2 id="–ß–∞—Å—Ç—å-6-–°–ª–æ–∏-–∏-low-coupling"><a class="header" href="#–ß–∞—Å—Ç—å-6-–°–ª–æ–∏-–∏-low-coupling">–ß–∞—Å—Ç—å 6: –°–ª–æ–∏ –∏ Low Coupling</a></h2>
<h3 id="–ú–æ–¥–µ–ª—å-isoosi-–∫–∞–∫-–∞–Ω–∞–ª–æ–≥–∏—è"><a class="header" href="#–ú–æ–¥–µ–ª—å-isoosi-–∫–∞–∫-–∞–Ω–∞–ª–æ–≥–∏—è">–ú–æ–¥–µ–ª—å ISO/OSI –∫–∞–∫ –∞–Ω–∞–ª–æ–≥–∏—è</a></h3>
<p>–í —Å–µ—Ç–µ–≤–æ–π –º–æ–¥–µ–ª–∏ ISO/OSI –∫–∞–∂–¥—ã–π —Å–ª–æ–π –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤—É–µ—Ç <strong>—Ç–æ–ª—å–∫–æ —Å —Å–æ—Å–µ–¥–Ω–∏–º–∏ —Å–ª–æ—è–º–∏</strong>. –ù–∞–ø—Ä–∏–º–µ—Ä:</p>
<ul>
<li><strong>Application Layer</strong> –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ –æ–±—â–∞–µ—Ç—Å—è —Å <strong>Application Layer</strong> –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ</li>
<li>–ù–æ —Ñ–∏–∑–∏—á–µ—Å–∫–∏ –¥–∞–Ω–Ω—ã–µ –ø—Ä–æ—Ö–æ–¥—è—Ç —á–µ—Ä–µ–∑ –≤—Å–µ –Ω–∏–∂–µ–ª–µ–∂–∞—â–∏–µ —Å–ª–æ–∏ (Transport, Network, Data Link, Physical)</li>
</ul>
<p><strong>–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:</strong></p>
<ul>
<li>–ö–∞–∂–¥—ã–π —Å–ª–æ–π —Ä–µ—à–∞–µ—Ç —Å–≤–æ—é –∑–∞–¥–∞—á—É</li>
<li>–°–ª–æ–∏ –Ω–µ –∑–Ω–∞—é—Ç –æ –¥–µ—Ç–∞–ª—è—Ö —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –¥—Ä—É–≥–∏—Ö —Å–ª–æ–µ–≤</li>
<li>–ú–æ–∂–Ω–æ –∑–∞–º–µ–Ω–∏—Ç—å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é —Å–ª–æ—è –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏—è –¥—Ä—É–≥–∏—Ö</li>
</ul>
<h3 id="–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ-–≤-nodejs-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏"><a class="header" href="#–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ-–≤-nodejs-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏">–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –≤ Node.js –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏</a></h3>
<pre><code>‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   Business Logic (API methods)      ‚îÇ  ‚Üê –ü—Ä–∏–∫–ª–∞–¥–Ω–æ–π —É—Ä–æ–≤–µ–Ω—å
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ   Routing (–º–µ—Ç–æ–¥ ‚Üí –æ–±—Ä–∞–±–æ—Ç—á–∏–∫)      ‚îÇ  ‚Üê –£—Ä–æ–≤–µ–Ω—å –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ   Transport (HTTP / WebSocket)      ‚îÇ  ‚Üê –¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω—ã–π —É—Ä–æ–≤–µ–Ω—å
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ   Infrastructure (Config, Logger)   ‚îÇ  ‚Üê –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–Ω—ã–π —É—Ä–æ–≤–µ–Ω—å
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
</code></pre>
<p><strong>–ü—Ä–∏–Ω—Ü–∏–ø Low Coupling:</strong></p>
<ul>
<li>–ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ <strong>–Ω–µ –∑–Ω–∞–µ—Ç</strong> –ø—Ä–æ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç</li>
<li>–¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç <strong>–Ω–µ –∑–Ω–∞–µ—Ç</strong> –ø—Ä–æ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é (–ø–æ–ª—É—á–∞–µ—Ç —Ç–æ–ª—å–∫–æ –ø–æ—Ä—Ç)</li>
<li>–ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è <strong>–Ω–µ –∑–Ω–∞–µ—Ç</strong> –ø—Ä–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ (–ø–æ–ª—É—á–∞–µ—Ç –ª–æ–≥–≥–µ—Ä –∫–∞–∫ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å)</li>
</ul>
<h3 id="–ü—Ä–∏–º–µ—Ä-api-–º–µ—Ç–æ–¥-–Ω–µ-–∑–∞–≤–∏—Å–∏—Ç-–æ—Ç-—Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞"><a class="header" href="#–ü—Ä–∏–º–µ—Ä-api-–º–µ—Ç–æ–¥-–Ω–µ-–∑–∞–≤–∏—Å–∏—Ç-–æ—Ç-—Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞">–ü—Ä–∏–º–µ—Ä: API –º–µ—Ç–æ–¥ –Ω–µ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞</a></h3>
<pre><code class="language-javascript">// api/test.js
'use strict';

module.exports = {
  async say(message) {
    console.log('Received message:', message);
    return { status: 'OK', echo: message };
  }
};
</code></pre>
<p><strong>–≠—Ç–æ—Ç –∫–æ–¥ —Ä–∞–±–æ—Ç–∞–µ—Ç –æ–¥–∏–Ω–∞–∫–æ–≤–æ –ø—Ä–∏ –ª—é–±–æ–º —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–µ!</strong></p>
<hr />
<h2 id="–ß–∞—Å—Ç—å-7-–û—Ç–∫–∞–∑-–æ—Ç-–∫–∞—Å—Ç–æ–º–Ω–æ–≥–æ-–ª–æ–∞–¥–µ—Ä–∞"><a class="header" href="#–ß–∞—Å—Ç—å-7-–û—Ç–∫–∞–∑-–æ—Ç-–∫–∞—Å—Ç–æ–º–Ω–æ–≥–æ-–ª–æ–∞–¥–µ—Ä–∞">–ß–∞—Å—Ç—å 7: –û—Ç–∫–∞–∑ –æ—Ç –∫–∞—Å—Ç–æ–º–Ω–æ–≥–æ –ª–æ–∞–¥–µ—Ä–∞</a></h2>
<h3 id="–ó–∞—á–µ–º-–Ω—É–∂–µ–Ω-–±—ã–ª-–ª–æ–∞–¥–µ—Ä"><a class="header" href="#–ó–∞—á–µ–º-–Ω—É–∂–µ–Ω-–±—ã–ª-–ª–æ–∞–¥–µ—Ä">–ó–∞—á–µ–º –Ω—É–∂–µ–Ω –±—ã–ª –ª–æ–∞–¥–µ—Ä?</a></h3>
<p>–ö–∞—Å—Ç–æ–º–Ω—ã–π –ª–æ–∞–¥–µ—Ä –ø–æ–∑–≤–æ–ª—è–ª:</p>
<ul>
<li>–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–≥—Ä—É–∂–∞—Ç—å –º–æ–¥—É–ª–∏ –∏–∑ –ø–∞–ø–∫–∏</li>
<li>–ò–Ω–∂–µ–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç –º–æ–¥—É–ª—è —á–µ—Ä–µ–∑ VM sandbox</li>
<li>–ò–∑–æ–ª–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–∏–∫–ª–∞–¥–Ω–æ–π –∫–æ–¥</li>
</ul>
<h3 id="–ü–µ—Ä–µ—Ö–æ–¥-–Ω–∞-commonjs"><a class="header" href="#–ü–µ—Ä–µ—Ö–æ–¥-–Ω–∞-commonjs">–ü–µ—Ä–µ—Ö–æ–¥ –Ω–∞ CommonJS</a></h3>
<p>–í –ø—Ä–∏–º–µ—Ä–µ <strong>C</strong> –ª–æ–∞–¥–µ—Ä —É–¥–∞–ª–µ–Ω, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π <code>require</code>.</p>
<p><strong>–î–æ (—Å –ª–æ–∞–¥–µ—Ä–æ–º):</strong></p>
<pre><code class="language-javascript">// main.js
const loader = require('./loader.js');

const apiPath = './api';
const files = fs.readdirSync(apiPath);

const api = {};
for (const file of files) {
  const modulePath = path.join(apiPath, file);
  const module = loader(modulePath);
  Object.assign(api, module);
}
</code></pre>
<p><strong>–ü–æ—Å–ª–µ (–±–µ–∑ –ª–æ–∞–¥–µ—Ä–∞):</strong></p>
<pre><code class="language-javascript">// main.js
const apiPath = './api';
const files = fs.readdirSync(apiPath);

const routing = {};
for (const file of files) {
  const modulePath = path.join(apiPath, file);
  const methods = require(modulePath);
  Object.assign(routing, methods);
}
</code></pre>
<p><strong>–ü–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è:</strong></p>
<ul>
<li>–ö–æ–¥ –ø—Ä–æ—â–µ –∏ –ø–æ–Ω—è—Ç–Ω–µ–µ</li>
<li>–ú–∏–Ω—É—Å –æ–¥–∏–Ω —É—Ä–æ–≤–µ–Ω—å –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–∏</li>
<li>–ú–æ–¥—É–ª–∏ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –≤ –æ–±—â–µ–º –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ Node.js</li>
<li>–ù–æ —Ç–µ—Ä—è–µ—Ç—Å—è –∏–∑–æ–ª—è—Ü–∏—è</li>
</ul>
<hr />
<h2 id="–ß–∞—Å—Ç—å-8-mime-—Ç–∏–ø—ã-–¥–ª—è-—Å—Ç–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ-—Å–µ—Ä–≤–µ—Ä–∞"><a class="header" href="#–ß–∞—Å—Ç—å-8-mime-—Ç–∏–ø—ã-–¥–ª—è-—Å—Ç–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ-—Å–µ—Ä–≤–µ—Ä–∞">–ß–∞—Å—Ç—å 8: MIME-—Ç–∏–ø—ã –¥–ª—è —Å—Ç–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞</a></h2>
<p>–ü—Ä–∏ –æ—Ç–¥–∞—á–µ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Ñ–∞–π–ª–æ–≤ –Ω—É–∂–Ω–æ —É–∫–∞–∑—ã–≤–∞—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π <code>Content-Type</code>.</p>
<h3 id="–°–ª–æ–≤–∞—Ä—å-mime-—Ç–∏–ø–æ–≤"><a class="header" href="#–°–ª–æ–≤–∞—Ä—å-mime-—Ç–∏–ø–æ–≤">–°–ª–æ–≤–∞—Ä—å MIME-—Ç–∏–ø–æ–≤</a></h3>
<pre><code class="language-javascript">// static.js
const MIME_TYPES = {
  html: 'text/html; charset=UTF-8',
  js: 'application/javascript; charset=UTF-8',
  css: 'text/css',
  png: 'image/png',
  ico: 'image/x-icon',
  svg: 'image/svg+xml',
  json: 'application/json',
};
</code></pre>
<h3 id="–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ-6"><a class="header" href="#–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ-6">–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ</a></h3>
<pre><code class="language-javascript">// static.js
'use strict';

const http = require('http');
const fs = require('fs');
const path = require('path');

const MIME_TYPES = {
  html: 'text/html; charset=UTF-8',
  js: 'application/javascript; charset=UTF-8',
  css: 'text/css',
  png: 'image/png',
  ico: 'image/x-icon',
  svg: 'image/svg+xml',
};

const HEADERS = {
  'Access-Control-Allow-Origin': '*',
  'Access-Control-Allow-Methods': 'GET, OPTIONS',
  'Access-Control-Allow-Headers': 'Content-Type',
};

module.exports = (staticPath, port, console) =&gt; {
  const server = http.createServer((req, res) =&gt; {
    const filePath = path.join(staticPath, req.url === '/' ? 'index.html' : req.url);
    const ext = path.extname(filePath).substring(1);
    const mimeType = MIME_TYPES[ext] || 'application/octet-stream';

    fs.readFile(filePath, (err, data) =&gt; {
      if (err) {
        res.writeHead(404, { 'Content-Type': 'text/plain' });
        res.end('Not Found');
        return;
      }

      res.writeHead(200, { ...HEADERS, 'Content-Type': mimeType });
      res.end(data);
    });
  });

  server.listen(port);
  console.log(`Static server on port ${port}`);
};
</code></pre>
<hr />
<h2 id="–ß–∞—Å—Ç—å-9-–°–ø–æ—Å–æ–±—ã-–∏–Ω—ä–µ–∫—Ü–∏–∏-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π"><a class="header" href="#–ß–∞—Å—Ç—å-9-–°–ø–æ—Å–æ–±—ã-–∏–Ω—ä–µ–∫—Ü–∏–∏-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π">–ß–∞—Å—Ç—å 9: –°–ø–æ—Å–æ–±—ã –∏–Ω—ä–µ–∫—Ü–∏–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π</a></h2>
<p>–í –ª–µ–∫—Ü–∏–∏ –±—ã–ª–∏ —Ä–∞—Å—Å–º–æ—Ç—Ä–µ–Ω—ã <strong>–Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–ø–æ—Å–æ–±–æ–≤</strong> –≤–Ω–µ–¥—Ä–µ–Ω–∏—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π (Dependency Injection).</p>
<h3 id="–°–ø–æ—Å–æ–±-1-–ß–µ—Ä–µ–∑-–∑–∞–º—ã–∫–∞–Ω–∏–µ-closure-injection"><a class="header" href="#–°–ø–æ—Å–æ–±-1-–ß–µ—Ä–µ–∑-–∑–∞–º—ã–∫–∞–Ω–∏–µ-closure-injection">–°–ø–æ—Å–æ–± 1: –ß–µ—Ä–µ–∑ –∑–∞–º—ã–∫–∞–Ω–∏–µ (Closure Injection)</a></h3>
<pre><code class="language-javascript">// module.js
module.exports = (dependency) =&gt; {
  return () =&gt; {
    // dependency –¥–æ—Å—Ç—É–ø–Ω–∞ –≤ –∑–∞–º—ã–∫–∞–Ω–∏–∏
    dependency.doSomething();
  };
};

// main.js
const createModule = require('./module.js');
const module = createModule(someDependency);
</code></pre>
<p><strong>–ü–ª—é—Å—ã:</strong></p>
<ul>
<li>–ü—Ä–æ—Å—Ç–æ—Ç–∞</li>
<li>–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –ø–æ–ø–∞–¥–∞–µ—Ç –≤ –∑–∞–º—ã–∫–∞–Ω–∏–µ –∏ –≤—Å–µ–≥–¥–∞ –¥–æ—Å—Ç—É–ø–Ω–∞</li>
<li>–ù–µ—Ç –≥–ª–æ–±–∞–ª—å–Ω–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è</li>
</ul>
<h3 id="–°–ø–æ—Å–æ–±-2-–ß–µ—Ä–µ–∑-require-singleton"><a class="header" href="#–°–ø–æ—Å–æ–±-2-–ß–µ—Ä–µ–∑-require-singleton">–°–ø–æ—Å–æ–± 2: –ß–µ—Ä–µ–∑ require (Singleton)</a></h3>
<pre><code class="language-javascript">// logger.js
const pino = require('pino');
const logger = pino();
module.exports = logger;

// module1.js
const logger = require('./logger.js'); // –ü–æ–ª—É—á–∞–µ—Ç singleton
logger.info('Module 1');

// module2.js
const logger = require('./logger.js'); // –¢–æ—Ç –∂–µ —ç–∫–∑–µ–º–ø–ª—è—Ä
logger.info('Module 2');
</code></pre>
<p><strong>–ü–ª—é—Å—ã:</strong></p>
<ul>
<li>–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ —Å–∏–Ω–≥–ª—Ç–æ–Ω–∞ —á–µ—Ä–µ–∑ –∫—ç—à <code>require</code></li>
<li>–ù–µ –Ω—É–∂–Ω–æ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å —è–≤–Ω–æ</li>
</ul>
<p><strong>–ú–∏–Ω—É—Å—ã:</strong></p>
<ul>
<li>–°–∏–ª—å–Ω–æ–µ –∑–∞—Ü–µ–ø–ª–µ–Ω–∏–µ</li>
<li>–°–ª–æ–∂–Ω–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å (–Ω—É–∂–Ω–æ —á–∏—Å—Ç–∏—Ç—å –∫—ç—à <code>require</code>)</li>
</ul>
<h3 id="–°–ø–æ—Å–æ–±-3-–ß–µ—Ä–µ–∑-–∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä-–∫–ª–∞—Å—Å–∞-constructor-injection"><a class="header" href="#–°–ø–æ—Å–æ–±-3-–ß–µ—Ä–µ–∑-–∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä-–∫–ª–∞—Å—Å–∞-constructor-injection">–°–ø–æ—Å–æ–± 3: –ß–µ—Ä–µ–∑ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –∫–ª–∞—Å—Å–∞ (Constructor Injection)</a></h3>
<pre><code class="language-javascript">// Database.js
class Database {
  constructor(config, logger) {
    this.config = config;
    this.logger = logger;
    this.pool = new Pool(config);
  }

  async query(sql, params) {
    this.logger.info('Query:', sql);
    return this.pool.query(sql, params);
  }
}

module.exports = Database;

// main.js
const Database = require('./Database.js');
const db = new Database(config.db, logger);
</code></pre>
<p><strong>–ü–ª—é—Å—ã:</strong></p>
<ul>
<li>–Ø–≤–Ω–∞—è –ø–µ—Ä–µ–¥–∞—á–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π</li>
<li>–õ–µ–≥–∫–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å (–º–æ–∂–Ω–æ –ø–µ—Ä–µ–¥–∞—Ç—å –º–æ–∫–∏)</li>
<li>–û–û–ü –ø–æ–¥—Ö–æ–¥</li>
</ul>
<h3 id="–°–ø–æ—Å–æ–±-4-–ß–µ—Ä–µ–∑-sandbox-context-injection"><a class="header" href="#–°–ø–æ—Å–æ–±-4-–ß–µ—Ä–µ–∑-sandbox-context-injection">–°–ø–æ—Å–æ–± 4: –ß–µ—Ä–µ–∑ Sandbox (Context Injection)</a></h3>
<pre><code class="language-javascript">// loader.js
const vm = require('vm');

module.exports = (filename, context) =&gt; {
  const code = fs.readFileSync(filename, 'utf8');
  const sandbox = { ...context, console, setTimeout };
  vm.runInContext(code, vm.createContext(sandbox));
};

// main.js
const context = {
  db: database,
  logger: logger,
  config: config
};

loader('./app.js', context);
</code></pre>
<p><strong>–ü–ª—é—Å—ã:</strong></p>
<ul>
<li>–ü–æ–ª–Ω–∞—è –∏–∑–æ–ª—è—Ü–∏—è</li>
<li>–ö–æ–Ω—Ç—Ä–æ–ª—å –Ω–∞–¥ –¥–æ—Å—Ç—É–ø–Ω—ã–º API</li>
</ul>
<p><strong>–ú–∏–Ω—É—Å—ã:</strong></p>
<ul>
<li>–°–ª–æ–∂–Ω–æ—Å—Ç—å</li>
<li>–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å</li>
</ul>
<hr />
<h2 id="–†–µ–∑—é–º–µ-10"><a class="header" href="#–†–µ–∑—é–º–µ-10">–†–µ–∑—é–º–µ</a></h2>
<h3 id="–ß—Ç–æ-–±—ã–ª–æ-—Å–¥–µ–ª–∞–Ω–æ-–≤-–ª–µ–∫—Ü–∏–∏"><a class="header" href="#–ß—Ç–æ-–±—ã–ª–æ-—Å–¥–µ–ª–∞–Ω–æ-–≤-–ª–µ–∫—Ü–∏–∏">–ß—Ç–æ –±—ã–ª–æ —Å–¥–µ–ª–∞–Ω–æ –≤ –ª–µ–∫—Ü–∏–∏:</a></h3>
<ol>
<li><strong>–í—ã–Ω–µ—Å–ª–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é</strong> –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–π —Ñ–∞–π–ª</li>
<li><strong>–°–æ–∑–¥–∞–ª–∏ –µ–¥–∏–Ω—É—é —Ç–æ—á–∫—É –≤—Ö–æ–¥–∞</strong> –¥–ª—è –∏–º–ø–æ—Ä—Ç–∞ –∫–æ–Ω—Ñ–∏–≥–∞ (main.js)</li>
<li><strong>–ü—Ä–∏–º–µ–Ω–∏–ª–∏ –∏–Ω—ä–µ–∫—Ü–∏—é –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π —á–µ—Ä–µ–∑ –∑–∞–º—ã–∫–∞–Ω–∏—è</strong> –¥–ª—è –ø–µ—Ä–µ–¥–∞—á–∏:
<ul>
<li>–ù–∞—Å—Ç—Ä–æ–µ–∫ Sandbox –≤ loader</li>
<li>–ù–∞—Å—Ç—Ä–æ–µ–∫ –ë–î –≤ db –º–æ–¥—É–ª—å</li>
<li>–õ–æ–≥–≥–µ—Ä–∞ –≤ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç—ã</li>
<li>–ü–æ—Ä—Ç–∞ –≤ HTTP/WebSocket —Å–µ—Ä–≤–µ—Ä—ã</li>
</ul>
</li>
<li><strong>–ê–±—Å—Ç—Ä–∞–≥–∏—Ä–æ–≤–∞–ª–∏ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç—ã:</strong>
<ul>
<li>–°–æ–∑–¥–∞–ª–∏ –ø–∞–ø–∫—É <code>transport/</code> —Å –º–æ–¥—É–ª—è–º–∏ <code>http.js</code> –∏ <code>ws.js</code></li>
<li>–£–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–ª–∏ –∫–æ–Ω—Ç—Ä–∞–∫—Ç —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞: <code>(routing, port, console) =&gt; {}</code></li>
<li>–†–µ–∞–ª–∏–∑–æ–≤–∞–ª–∏ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫—É—é –∑–∞–≥—Ä—É–∑–∫—É —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞ –∏–∑ –∫–æ–Ω—Ñ–∏–≥–∞</li>
</ul>
</li>
<li><strong>–†–µ–∞–ª–∏–∑–æ–≤–∞–ª–∏ scaffold –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ</strong> –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —Å–æ–∑–¥–∞–Ω–∏—è API-–ø—Ä–æ–∫—Å–∏</li>
<li><strong>–ü–æ–∫–∞–∑–∞–ª–∏ –ø–µ—Ä–µ—Ö–æ–¥ –æ—Ç –∫–∞—Å—Ç–æ–º–Ω–æ–≥–æ –ª–æ–∞–¥–µ—Ä–∞ –∫ CommonJS</strong></li>
<li><strong>–ü—Ä–∏–º–µ–Ω–∏–ª–∏ –ø—Ä–∏–Ω—Ü–∏–ø Low Coupling:</strong>
<ul>
<li>–ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ –Ω–µ –∑–Ω–∞–µ—Ç –ø—Ä–æ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç</li>
<li>–¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç –Ω–µ –∑–Ω–∞–µ—Ç –ø—Ä–æ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é</li>
<li>–ú–æ–¥—É–ª–∏ –ø–æ–ª—É—á–∞—é—Ç —Ç–æ–ª—å–∫–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏</li>
</ul>
</li>
</ol>
<h3 id="–î–æ–º–∞—à–Ω–µ–µ-–∑–∞–¥–∞–Ω–∏–µ"><a class="header" href="#–î–æ–º–∞—à–Ω–µ–µ-–∑–∞–¥–∞–Ω–∏–µ">–î–æ–º–∞—à–Ω–µ–µ –∑–∞–¥–∞–Ω–∏–µ</a></h3>
<p><strong>–ó–∞–¥–∞–Ω–∏–µ 5:</strong> –°–¥–µ–ª–∞—Ç—å –ø–æ–¥–∫–ª—é—á–∞–µ–º—ã–π —Ñ—Ä–µ–π–º–≤–æ—Ä–∫ (–ø–æ –∞–Ω–∞–ª–æ–≥–∏–∏ —Å —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–æ–º)</p>
<p><strong>–ó–∞–¥–∞–Ω–∏–µ 7:</strong> –°–¥–µ–ª–∞—Ç—å –ø–æ–¥–∫–ª—é—á–∞–µ–º—ã–π –ª–æ–≥–≥–µ—Ä (Pino –∏–ª–∏ –¥—Ä—É–≥–æ–π):</p>
<ul>
<li>–°–æ–∑–¥–∞—Ç—å –æ–±–µ—Ä—Ç–∫—É, —Ä–µ–∞–ª–∏–∑—É—é—â—É—é –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å <code>console</code></li>
<li>–ò–Ω–∂–µ–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –≤–æ –≤—Å–µ –º–æ–¥—É–ª–∏ —á–µ—Ä–µ–∑ –∑–∞–º—ã–∫–∞–Ω–∏–µ</li>
<li>–û–±–µ—Å–ø–µ—á–∏—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è –º–µ–∂–¥—É –Ω–∞—Ç–∏–≤–Ω—ã–º <code>console</code> –∏ –∫–∞—Å—Ç–æ–º–Ω—ã–º –ª–æ–≥–≥–µ—Ä–æ–º</li>
</ul>
<h3 id="–ö–ª—é—á–µ–≤—ã–µ-–ø—Ä–∏–Ω—Ü–∏–ø—ã"><a class="header" href="#–ö–ª—é—á–µ–≤—ã–µ-–ø—Ä–∏–Ω—Ü–∏–ø—ã">–ö–ª—é—á–µ–≤—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã</a></h3>
<p><strong>Low Coupling (–°–ª–∞–±–æ–µ –∑–∞—Ü–µ–ø–ª–µ–Ω–∏–µ):</strong></p>
<ul>
<li>–ú–æ–¥—É–ª–∏ –∑–∞–≤–∏—Å—è—Ç –æ—Ç –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–π, –∞ –Ω–µ –æ—Ç –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–π</li>
<li>–ö–∞–∂–¥—ã–π –º–æ–¥—É–ª—å –ø–æ–ª—É—á–∞–µ—Ç —Ç–æ–ª—å–∫–æ —Ç–æ, —á—Ç–æ –µ–º—É –Ω—É–∂–Ω–æ</li>
<li>–ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ –æ–¥–Ω–æ–º –º–æ–¥—É–ª–µ –Ω–µ –∑–∞—Ç—Ä–∞–≥–∏–≤–∞—é—Ç –¥—Ä—É–≥–∏–µ</li>
</ul>
<p><strong>Layered Architecture (–°–ª–æ–∏—Å—Ç–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞):</strong></p>
<ul>
<li>–ß–µ—Ç–∫–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ –º–µ–∂–¥—É —Å–ª–æ—è–º–∏</li>
<li>–°–ª–æ–∏ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤—É—é—Ç —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã</li>
<li>–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∑–∞–º–µ–Ω–∏—Ç—å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é —Å–ª–æ—è –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏—è –¥—Ä—É–≥–∏—Ö</li>
</ul>
<p><strong>Dependency Injection (–ò–Ω—ä–µ–∫—Ü–∏—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π):</strong></p>
<ul>
<li>–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è –∏–∑–≤–Ω–µ, –∞ –Ω–µ —Å–æ–∑–¥–∞—é—Ç—Å—è –≤–Ω—É—Ç—Ä–∏ –º–æ–¥—É–ª—è</li>
<li>–£–ø—Ä–æ—â–∞–µ—Ç —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞</li>
<li>–ú–æ–∂–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —á–µ—Ä–µ–∑ –∑–∞–º—ã–∫–∞–Ω–∏—è, –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä—ã, –∏–ª–∏ –∫–æ–Ω—Ç–µ–∫—Å—Ç</li>
</ul>
<hr />
<h2 id="–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ-–ø—Ä–∏–º–µ—Ä—ã"><a class="header" href="#–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ-–ø—Ä–∏–º–µ—Ä—ã">–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø—Ä–∏–º–µ—Ä—ã</a></h2>
<h3 id="–ü—Ä–∏–º–µ—Ä-–ü–æ–ª–Ω—ã–π-—Ü–∏–∫–ª-–∑–∞–ø—Ä–æ—Å–∞-—á–µ—Ä–µ–∑-—Å–ª–æ–∏"><a class="header" href="#–ü—Ä–∏–º–µ—Ä-–ü–æ–ª–Ω—ã–π-—Ü–∏–∫–ª-–∑–∞–ø—Ä–æ—Å–∞-—á–µ—Ä–µ–∑-—Å–ª–æ–∏">–ü—Ä–∏–º–µ—Ä: –ü–æ–ª–Ω—ã–π —Ü–∏–∫–ª –∑–∞–ø—Ä–æ—Å–∞ —á–µ—Ä–µ–∑ —Å–ª–æ–∏</a></h3>
<p><strong>–ö–ª–∏–µ–Ω—Ç (Browser):</strong></p>
<pre><code class="language-javascript">const api = await scaffold('http://localhost:8001', {
  test: ['say']
});

const result = await api.test.say('Hello');
console.log(result); // { status: 'OK', echo: 'Hello' }
</code></pre>
<p><strong>–°–µ—Ä–≤–µ—Ä ‚Äî –¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω—ã–π —Å–ª–æ–π (HTTP):</strong></p>
<pre><code class="language-javascript">// transport/http.js
// –ü–æ–ª—É—á–∞–µ—Ç –∑–∞–ø—Ä–æ—Å POST /api/test/say
// –ü–∞—Ä—Å–∏—Ç —Ç–µ–ª–æ: ["Hello"]
// –í—ã–∑—ã–≤–∞–µ—Ç routing.say("Hello")
// –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –æ—Ç–≤–µ—Ç: {"status": "OK", "echo": "Hello"}
</code></pre>
<p><strong>–°–µ—Ä–≤–µ—Ä ‚Äî –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞:</strong></p>
<pre><code class="language-javascript">// api/test.js
module.exports = {
  async say(message) {
    return { status: 'OK', echo: message };
  }
};
</code></pre>
<p><strong>–ü–æ—Ç–æ–∫ –¥–∞–Ω–Ω—ã—Ö:</strong></p>
<pre><code>Client ‚Üí HTTP Request ‚Üí Transport Layer ‚Üí Routing ‚Üí Business Logic
                                                          ‚Üì
Client ‚Üê HTTP Response ‚Üê Transport Layer ‚Üê Return Value ‚Üê
</code></pre>
<h3 id="–ü—Ä–∏–º–µ—Ä-–ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ-—Å-http-–Ω–∞-websocket"><a class="header" href="#–ü—Ä–∏–º–µ—Ä-–ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ-—Å-http-–Ω–∞-websocket">–ü—Ä–∏–º–µ—Ä: –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Å HTTP –Ω–∞ WebSocket</a></h3>
<p><strong>–ò–∑–º–µ–Ω–µ–Ω–∏–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ:</strong></p>
<pre><code class="language-javascript">// config.js
module.exports = {
  api: {
    transport: 'ws' // –ë—ã–ª–æ: 'http'
  }
};
</code></pre>
<p><strong>–ò–∑–º–µ–Ω–µ–Ω–∏–µ –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ:</strong></p>
<pre><code class="language-javascript">// –ë—ã–ª–æ:
const api = await scaffold('http://localhost:8001', structure);

// –°—Ç–∞–ª–æ:
const api = await scaffold('ws://localhost:8001', structure);
</code></pre>
<p><strong>–ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ –Ω–µ –º–µ–Ω—è–µ—Ç—Å—è!</strong> –í—ã–∑–æ–≤—ã –æ—Å—Ç–∞—é—Ç—Å—è –ø—Ä–µ–∂–Ω–∏–º–∏:</p>
<pre><code class="language-javascript">await api.test.say('Hello'); // –†–∞–±–æ—Ç–∞–µ—Ç —Å –ª—é–±—ã–º —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–æ–º
</code></pre>
<hr />
<h2 id="–ó–∞–∫–ª—é—á–µ–Ω–∏–µ-12"><a class="header" href="#–ó–∞–∫–ª—é—á–µ–Ω–∏–µ-12">–ó–∞–∫–ª—é—á–µ–Ω–∏–µ</a></h2>
<p>–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –ø—Ä–∏–Ω—Ü–∏–ø–æ–≤ <strong>Layers</strong> –∏ <strong>Low Coupling</strong> –ø–æ–∑–≤–æ–ª—è–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å –≥–∏–±–∫–∏–µ, –ª–µ–≥–∫–æ —Ç–µ—Å—Ç–∏—Ä—É–µ–º—ã–µ –∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è. –ò–Ω—ä–µ–∫—Ü–∏—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π —á–µ—Ä–µ–∑ –∑–∞–º—ã–∫–∞–Ω–∏—è ‚Äî —ç–ª–µ–≥–∞–Ω—Ç–Ω—ã–π —Å–ø–æ—Å–æ–± —Å–Ω–∏–∑–∏—Ç—å –∑–∞—Ü–µ–ø–ª–µ–Ω–∏–µ –≤ JavaScript/Node.js –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è—Ö, —Å–æ—Ö—Ä–∞–Ω—è—è –ø—Ä–∏ —ç—Ç–æ–º –ø—Ä–æ—Å—Ç–æ—Ç—É –∫–æ–¥–∞.</p>
<p>–í —Å–ª–µ–¥—É—é—â–∏—Ö –ª–µ–∫—Ü–∏—è—Ö –º—ã:</p>
<ul>
<li>–ü–µ—Ä–µ–π–¥–µ–º –Ω–∞ ES Modules</li>
<li>–†–µ–∞–ª–∏–∑—É–µ–º –ø–æ–¥–∫–ª—é—á–∞–µ–º—ã–µ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∏</li>
<li>–î–æ–±–∞–≤–∏–º —Ä–∞–±–æ—Ç—É —Å –±–∞–∑–∞–º–∏ –¥–∞–Ω–Ω—ã—Ö</li>
<li>–°–ø—Ä–æ–µ–∫—Ç–∏—Ä—É–µ–º API –¥–ª—è –º–µ—Å—Å–µ–Ω–¥–∂–µ—Ä–∞</li>
<li>–†–∞–∑—Ä–∞–±–æ—Ç–∞–µ–º –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–∞ –±–∞–∑–µ —Å–æ–∑–¥–∞–Ω–Ω–æ–π –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="–ü–∞—Ç—Ç–µ—Ä–Ω-adapter-–ê–¥–∞–ø—Ç–µ—Ä-–∏–∑-gof-–¥–ª—è-javascript-–∏-typescript"><a class="header" href="#–ü–∞—Ç—Ç–µ—Ä–Ω-adapter-–ê–¥–∞–ø—Ç–µ—Ä-–∏–∑-gof-–¥–ª—è-javascript-–∏-typescript">–ü–∞—Ç—Ç–µ—Ä–Ω Adapter (–ê–¥–∞–ø—Ç–µ—Ä) –∏–∑ GoF –¥–ª—è JavaScript –∏ TypeScript</a></h1>
<h2 id="–û–±–∑–æ—Ä-20"><a class="header" href="#–û–±–∑–æ—Ä-20">–û–±–∑–æ—Ä</a></h2>
<p>–ü–∞—Ç—Ç–µ—Ä–Ω <strong>Adapter</strong> (–ê–¥–∞–ø—Ç–µ—Ä) ‚Äî –æ–¥–∏–Ω –∏–∑ —Å–∞–º—ã—Ö —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—ë–Ω–Ω—ã—Ö –∏ –≤–∞–∂–Ω—ã—Ö –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤ –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏–∑ –∫–Ω–∏–≥–∏ "Gang of Four". –û–Ω —Ä–µ—à–∞–µ—Ç —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–∞–ª—å–Ω—É—é –∑–∞–¥–∞—á—É –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è –æ–¥–Ω–æ–≥–æ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞ (–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞) –≤ –¥—Ä—É–≥–æ–π, –ø–æ–∑–≤–æ–ª—è—è —Å–æ–≤–º–µ—Å—Ç–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å –Ω–µ—Å–æ–≤–º–µ—Å—Ç–∏–º—ã–º –∞–±—Å—Ç—Ä–∞–∫—Ü–∏—è–º.</p>
<h2 id="–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ-–ø–∞—Ç—Ç–µ—Ä–Ω–∞"><a class="header" href="#–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ-–ø–∞—Ç—Ç–µ—Ä–Ω–∞">–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ –ø–∞—Ç—Ç–µ—Ä–Ω–∞</a></h2>
<p>–ü–∞—Ç—Ç–µ—Ä–Ω Adapter –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è:</p>
<ul>
<li><strong>–°–∫—Ä—ã—Ç–∏—è –æ–¥–Ω–æ–≥–æ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞ –≤–Ω—É—Ç—Ä–∏</strong> –∏ <strong>–≤—ã–¥–∞—á–∏ –¥—Ä—É–≥–æ–≥–æ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞ –Ω–∞—Ä—É–∂—É</strong></li>
<li>–°—Ç—ã–∫–æ–≤–∫–∏ –¥–≤—É—Ö –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–π —Å —Ä–∞–∑–Ω—ã–º–∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞–º–∏</li>
<li>–ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è –Ω–µ—Å–æ–≤–º–µ—Å—Ç–∏–º—ã—Ö –∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤ –¥–ª—è –∏—Ö –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è</li>
<li>–†–∞–∑–≤—è–∑—ã–≤–∞–Ω–∏—è –∫–æ–¥–∞ –∏ –ø–æ–≤—ã—à–µ–Ω–∏—è –≥–∏–±–∫–æ—Å—Ç–∏ —Å–∏—Å—Ç–µ–º—ã</li>
</ul>
<p><strong>–ö–ª—é—á–µ–≤–∞—è –∏–¥–µ—è</strong>: –ê–¥–∞–ø—Ç–µ—Ä –±–æ–∫—Å–∏—Ä—É–µ—Ç (–æ–±–æ—Ä–∞—á–∏–≤–∞–µ—Ç) –æ–¥–Ω—É –∞–±—Å—Ç—Ä–∞–∫—Ü–∏—é –≤ "–∫–æ—Ä–æ–±–æ—á–∫—É" –∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –¥—Ä—É–≥–æ–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –Ω–µ–π.</p>
<h2 id="–¢–µ–æ—Ä–µ—Ç–∏—á–µ—Å–∫–∏–µ-–æ—Å–Ω–æ–≤—ã"><a class="header" href="#–¢–µ–æ—Ä–µ—Ç–∏—á–µ—Å–∫–∏–µ-–æ—Å–Ω–æ–≤—ã">–¢–µ–æ—Ä–µ—Ç–∏—á–µ—Å–∫–∏–µ –æ—Å–Ω–æ–≤—ã</a></h2>
<h3 id="–ß—Ç–æ-–º–æ–∂–µ—Ç-–±—ã—Ç—å-–∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞–Ω–æ"><a class="header" href="#–ß—Ç–æ-–º–æ–∂–µ—Ç-–±—ã—Ç—å-–∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞–Ω–æ">–ß—Ç–æ –º–æ–∂–µ—Ç –±—ã—Ç—å –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞–Ω–æ?</a></h3>
<p>–í JavaScript/TypeScript –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞—Ç—å –º–æ–∂–Ω–æ –ª—é–±—É—é –∞–±—Å—Ç—Ä–∞–∫—Ü–∏—é:</p>
<ul>
<li>–§—É–Ω–∫—Ü–∏–∏ –∏ –ø—Ä–æ—Ü–µ–¥—É—Ä—ã</li>
<li>–ö–ª–∞—Å—Å—ã –∏ –ø—Ä–æ—Ç–æ—Ç–∏–ø—ã</li>
<li>–ú–æ–¥—É–ª–∏ –∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã</li>
<li>–§—É–Ω–∫—Ç–æ—Ä—ã –∏ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã</li>
<li>–ê–≤—Ç–æ–º–∞—Ç—ã –∏ —Å—Ç—Ä–∏–º—ã</li>
<li>–õ—é–±—ã–µ –¥—Ä—É–≥–∏–µ –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–∏</li>
</ul>
<h3 id="–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ-–Ω–∞–∑–≤–∞–Ω–∏—è-1"><a class="header" href="#–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ-–Ω–∞–∑–≤–∞–Ω–∏—è-1">–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ –Ω–∞–∑–≤–∞–Ω–∏—è</a></h3>
<p>–ü–∞—Ç—Ç–µ—Ä–Ω Adapter —Ç–∞–∫–∂–µ –º–æ–∂–µ—Ç –Ω–∞–∑—ã–≤–∞—Ç—å—Å—è:</p>
<ul>
<li><strong>Wrapper</strong> (–û–±—ë—Ä—Ç–∫–∞)</li>
<li><strong>Boxing</strong> (–ë–æ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏–µ)</li>
</ul>
<h3 id="–°–ø–æ—Å–æ–±—ã-—Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏"><a class="header" href="#–°–ø–æ—Å–æ–±—ã-—Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏">–°–ø–æ—Å–æ–±—ã —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏</a></h3>
<p>–ê–¥–∞–ø—Ç–µ—Ä –º–æ–∂–µ—Ç –±—ã—Ç—å —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω —Ç—Ä–µ–º—è –æ—Å–Ω–æ–≤–Ω—ã–º–∏ —Å–ø–æ—Å–æ–±–∞–º–∏:</p>
<ol>
<li><strong>–ù–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ (Extends)</strong> ‚Äî –∞–¥–∞–ø—Ç–µ—Ä —Ä–∞—Å—à–∏—Ä—è–µ—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –∫–ª–∞—Å—Å</li>
<li><strong>–ö–æ–º–ø–æ–∑–∏—Ü–∏—è</strong> ‚Äî –∞–¥–∞–ø—Ç–µ—Ä —Å–æ–∑–¥–∞—ë—Ç —ç–∫–∑–µ–º–ø–ª—è—Ä –≤–Ω—É—Ç—Ä–∏ —Å–µ–±—è</li>
<li><strong>–ê–≥—Ä–µ–≥–∞—Ü–∏—è</strong> ‚Äî –∞–¥–∞–ø—Ç–µ—Ä –ø–æ–ª—É—á–∞–µ—Ç —ç–∫–∑–µ–º–ø–ª—è—Ä –∏–∑–≤–Ω–µ</li>
</ol>
<h2 id="–°–ø–æ—Å–æ–±—ã-—Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏-–∞–¥–∞–ø—Ç–µ—Ä–∞"><a class="header" href="#–°–ø–æ—Å–æ–±—ã-—Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏-–∞–¥–∞–ø—Ç–µ—Ä–∞">–°–ø–æ—Å–æ–±—ã —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –∞–¥–∞–ø—Ç–µ—Ä–∞</a></h2>
<h3 id="1-–ù–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ-extends"><a class="header" href="#1-–ù–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ-extends">1. –ù–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ (Extends)</a></h3>
<p>–ü—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è –∞–¥–∞–ø—Ç–µ—Ä –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ —Ä–µ–∞–ª–∏–∑—É–µ—Ç –æ–±–∞ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞.</p>
<h4 id="–ü—Ä–∏–º–µ—Ä-array-to-queue-adapter-—Å-–Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ–º"><a class="header" href="#–ü—Ä–∏–º–µ—Ä-array-to-queue-adapter-—Å-–Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ–º">–ü—Ä–∏–º–µ—Ä: Array to Queue Adapter —Å –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ–º</a></h4>
<pre><code class="language-javascript">// –ê–¥–∞–ø—Ç–µ—Ä –ø—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å Array –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å Queue
class ArrayToQueueAdapter extends Array {
  // Queue –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å: enqueue, dequeue, count

  enqueue(item) {
    // –ò—Å–ø–æ–ª—å–∑—É–µ–º push –∏–∑ Array
    this.push(item);
  }

  dequeue() {
    // –ò—Å–ø–æ–ª—å–∑—É–µ–º shift –∏–∑ Array (—É–¥–∞–ª—è–µ—Ç –ø–µ—Ä–≤—ã–π —ç–ª–µ–º–µ–Ω—Ç)
    return this.shift();
  }

  get count() {
    // –ò—Å–ø–æ–ª—å–∑—É–µ–º length –∏–∑ Array
    return this.length;
  }
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
const queue = new ArrayToQueueAdapter();
queue.enqueue('first');
queue.enqueue('second');
queue.enqueue('third');

console.log(queue.dequeue()); // 'first'
console.log(queue.count);      // 2
</code></pre>
<p><strong>–í–∞–∂–Ω–æ–µ –∑–∞–º–µ—á–∞–Ω–∏–µ –æ —Ç–µ—Ä–º–∏–Ω–æ–ª–æ–≥–∏–∏:</strong></p>
<ul>
<li>–í –û–û–ü —ç—Ç–æ –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è <strong>—Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ</strong> (extends)</li>
<li>–í —Ç–µ–æ—Ä–∏–∏ —Ç–∏–ø–æ–≤ —ç—Ç–æ –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è <strong>—Å—É–∂–µ–Ω–∏–µ</strong></li>
<li>–ü—Ä–∏ extends –æ–±–ª–∞—Å—Ç—å –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Ç–∏–ø–∞/–∫–ª–∞—Å—Å–∞ –≤—Å–µ–≥–¥–∞ <strong>—Å—É–∂–∞–µ—Ç—Å—è</strong></li>
<li>Array –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø–æ–≤—Å–µ–º–µ—Å—Ç–Ω–æ, ArrayToQueueAdapter ‚Äî —Ä–µ–∂–µ, —Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ –µ–≥–æ –æ–±–ª–∞—Å—Ç—å –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è —É–∂–µ</li>
</ul>
<h3 id="2-–ê–≥—Ä–µ–≥–∞—Ü–∏—è-1"><a class="header" href="#2-–ê–≥—Ä–µ–≥–∞—Ü–∏—è-1">2. –ê–≥—Ä–µ–≥–∞—Ü–∏—è</a></h3>
<p>–ü—Ä–∏ –∞–≥—Ä–µ–≥–∞—Ü–∏–∏ –∞–¥–∞–ø—Ç–µ—Ä –ø–æ–ª—É—á–∞–µ—Ç –æ–±—ä–µ–∫—Ç –∏–∑–≤–Ω–µ –∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –µ–≥–æ –≤–Ω—É—Ç—Ä–∏.</p>
<h4 id="–ü—Ä–∏–º–µ—Ä-array-to-queue-adapter-—Å-–∞–≥—Ä–µ–≥–∞—Ü–∏–µ–π"><a class="header" href="#–ü—Ä–∏–º–µ—Ä-array-to-queue-adapter-—Å-–∞–≥—Ä–µ–≥–∞—Ü–∏–µ–π">–ü—Ä–∏–º–µ—Ä: Array to Queue Adapter —Å –∞–≥—Ä–µ–≥–∞—Ü–∏–µ–π</a></h4>
<pre><code class="language-javascript">class ArrayToQueueAdapter {
  #array;

  constructor(array) {
    // –ü–æ–ª—É—á–∞–µ–º –º–∞—Å—Å–∏–≤ –∏–∑–≤–Ω–µ
    this.#array = array;
  }

  enqueue(item) {
    this.#array.push(item);
  }

  dequeue() {
    return this.#array.shift();
  }

  get count() {
    return this.#array.length;
  }
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
const arr = []; // –°–æ–∑–¥–∞—ë–º –º–∞—Å—Å–∏–≤ —Å–Ω–∞—Ä—É–∂–∏
const queue = new ArrayToQueueAdapter(arr); // –ü–µ—Ä–µ–¥–∞—ë–º –≤ –∞–¥–∞–ø—Ç–µ—Ä

queue.enqueue('first');
queue.enqueue('second');
console.log(queue.count); // 2
</code></pre>
<h3 id="3-–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è-—Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è-–±–µ–∑-–∫–ª–∞—Å—Å–æ–≤"><a class="header" href="#3-–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è-—Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è-–±–µ–∑-–∫–ª–∞—Å—Å–æ–≤">3. –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è (–±–µ–∑ –∫–ª–∞—Å—Å–æ–≤)</a></h3>
<p>–ê–¥–∞–ø—Ç–µ—Ä –º–æ–∂–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –±–µ–∑ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∫–ª–∞—Å—Å–æ–≤, –ø—Ä–∏–º–µ–Ω—è—è –∑–∞–º—ã–∫–∞–Ω–∏—è.</p>
<h4 id="–ü—Ä–∏–º–µ—Ä-array-to-queue-adapter-–∫–∞–∫-—Ñ—É–Ω–∫—Ü–∏—è"><a class="header" href="#–ü—Ä–∏–º–µ—Ä-array-to-queue-adapter-–∫–∞–∫-—Ñ—É–Ω–∫—Ü–∏—è">–ü—Ä–∏–º–µ—Ä: Array to Queue Adapter –∫–∞–∫ —Ñ—É–Ω–∫—Ü–∏—è</a></h4>
<pre><code class="language-javascript">// –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –∞–¥–∞–ø—Ç–µ—Ä–∞
const arrayToQueueAdapter = (array) =&gt; {
  // –í–æ–∑–≤—Ä–∞—â–∞–µ–º –æ–±—ä–µ–∫—Ç —Å –º–µ—Ç–æ–¥–∞–º–∏ Queue –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
  return {
    enqueue(item) {
      array.push(item);
    },

    dequeue() {
      return array.shift();
    },

    get count() {
      return array.length;
    }
  };
};

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
const arr = [];
const queue = arrayToQueueAdapter(arr);

queue.enqueue('first');
queue.enqueue('second');
console.log(queue.count); // 2
console.log(queue.dequeue()); // 'first'
</code></pre>
<p><strong>–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏:</strong></p>
<ul>
<li>–û–±—ä–µ–∫—Ç—ã –≤—Å–µ–≥–¥–∞ –∏–º–µ—é—Ç –æ–¥–∏–Ω–∞–∫–æ–≤—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å</li>
<li>–û–¥–∏–Ω–∞–∫–æ–≤–∞—è –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Å–æ–∑–¥–∞–Ω–∏—è –ø–æ–ª–µ–π –∏ –º–µ—Ç–æ–¥–æ–≤</li>
<li>–û—Ç–ª–∏—á–Ω–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –≤ V8 –±–ª–∞–≥–æ–¥–∞—Ä—è —Å—Ç–∞–±–∏–ª—å–Ω–æ–π "—Ñ–æ—Ä–º–µ –æ–±—ä–µ–∫—Ç–∞"</li>
<li>–ù–µ—Ç –Ω–∞–∫–ª–∞–¥–Ω—ã—Ö —Ä–∞—Å—Ö–æ–¥–æ–≤ –Ω–∞ –∫–ª–∞—Å—Å—ã –∏ –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ</li>
</ul>
<h2 id="–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ-–ø—Ä–∏–º–µ—Ä—ã-–∏–∑-—Ä–µ–∞–ª—å–Ω–æ–≥–æ-–∫–æ–¥–∞"><a class="header" href="#–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ-–ø—Ä–∏–º–µ—Ä—ã-–∏–∑-—Ä–µ–∞–ª—å–Ω–æ–≥–æ-–∫–æ–¥–∞">–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–∏–º–µ—Ä—ã –∏–∑ —Ä–µ–∞–ª—å–Ω–æ–≥–æ –∫–æ–¥–∞</a></h2>
<h3 id="–ü—Ä–∏–º–µ—Ä-1-hashmapfs--–ê–¥–∞–ø—Ç–µ—Ä-—Ñ–∞–π–ª–æ–≤–æ–π-—Å–∏—Å—Ç–µ–º—ã-–∫-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É-map"><a class="header" href="#–ü—Ä–∏–º–µ—Ä-1-hashmapfs--–ê–¥–∞–ø—Ç–µ—Ä-—Ñ–∞–π–ª–æ–≤–æ–π-—Å–∏—Å—Ç–µ–º—ã-–∫-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É-map">–ü—Ä–∏–º–µ—Ä 1: HashMapFS ‚Äî –ê–¥–∞–ø—Ç–µ—Ä —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã –∫ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É Map</a></h3>
<p>–≠—Ç–æ—Ç –ø—Ä–∏–º–µ—Ä –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç, –∫–∞–∫ –º–æ–∂–Ω–æ —Å–∫—Ä—ã—Ç—å —Ä–∞–±–æ—Ç—É —Å —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º–æ–π –∑–∞ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–≥–æ Map.</p>
<pre><code class="language-javascript">class HashMapFS {
  #fs;
  #path;

  constructor(fs, path) {
    // –ê–≥—Ä–µ–≥–∞—Ü–∏—è: –ø–æ–ª—É—á–∞–µ–º FS –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∏–∑–≤–Ω–µ
    this.#fs = fs;
    this.#path = path;
  }

  // –†–µ–∞–ª–∏–∑—É–µ–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å Map
  set(key, value) {
    const filepath = `${this.#path}/${key}`;
    this.#fs.writeFileSync(filepath, JSON.stringify(value));
  }

  get(key) {
    const filepath = `${this.#path}/${key}`;
    try {
      const data = this.#fs.readFileSync(filepath, 'utf8');
      return JSON.parse(data);
    } catch (err) {
      return undefined;
    }
  }

  has(key) {
    const filepath = `${this.#path}/${key}`;
    try {
      this.#fs.accessSync(filepath);
      return true;
    } catch {
      return false;
    }
  }

  delete(key) {
    const filepath = `${this.#path}/${key}`;
    try {
      this.#fs.unlinkSync(filepath);
      return true;
    } catch {
      return false;
    }
  }

  get size() {
    const files = this.#fs.readdirSync(this.#path);
    return files.length;
  }

  keys() {
    return this.#fs.readdirSync(this.#path);
  }

  clear() {
    const files = this.#fs.readdirSync(this.#path);
    for (const file of files) {
      this.#fs.unlinkSync(`${this.#path}/${file}`);
    }
  }
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
import fs from 'fs';

const hashMap = new HashMapFS(fs, './data');

hashMap.set('user1', { name: 'Alice', age: 30 });
hashMap.set('user2', { name: 'Bob', age: 25 });

console.log(hashMap.get('user1')); // { name: 'Alice', age: 30 }
console.log(hashMap.has('user2')); // true
console.log(hashMap.size);          // 2
</code></pre>
<p><strong>–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ —Ç–∞–∫–æ–≥–æ –ø–æ–¥—Ö–æ–¥–∞:</strong></p>
<ol>
<li><strong>–†–∞–∑–≤—è–∑–∫–∞ –∫–æ–¥–∞</strong> ‚Äî –º–æ–¥—É–ª—å, –∏—Å–ø–æ–ª—å–∑—É—é—â–∏–π Map, –Ω–µ –∑–Ω–∞–µ—Ç –æ Node.js –∏ —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º–µ</li>
<li><strong>–í–∑–∞–∏–º–æ–∑–∞–º–µ–Ω—è–µ–º–æ—Å—Ç—å</strong> ‚Äî –º–æ–∂–Ω–æ –ª–µ–≥–∫–æ –∑–∞–º–µ–Ω–∏—Ç—å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é:
<ul>
<li><code>HashMapMemory</code> ‚Äî —Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ –ø–∞–º—è—Ç–∏</li>
<li><code>HashMapRedis</code> ‚Äî —Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ Redis</li>
<li><code>HashMapMongo</code> ‚Äî —Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ MongoDB</li>
<li><code>HashMapS3</code> ‚Äî —Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ Amazon S3</li>
</ul>
</li>
<li><strong>–ü–µ—Ä–µ–Ω–æ—Å–∏–º–æ—Å—Ç—å</strong> ‚Äî –∫–æ–¥ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ —Ä–∞–∑–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è—Ö (Node.js, Lambda, –±—Ä–∞—É–∑–µ—Ä)</li>
<li><strong>–¢–µ—Å—Ç–∏—Ä—É–µ–º–æ—Å—Ç—å</strong> ‚Äî –º–æ–∂–Ω–æ –ø–µ—Ä–µ–¥–∞—Ç—å mock –æ–±—ä–µ–∫—Ç –≤–º–µ—Å—Ç–æ –Ω–∞—Å—Ç–æ—è—â–µ–≥–æ fs</li>
</ol>
<h3 id="–ü—Ä–∏–º–µ—Ä-2-promisify--–ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π-–∞–¥–∞–ø—Ç–µ—Ä-–∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤"><a class="header" href="#–ü—Ä–∏–º–µ—Ä-2-promisify--–ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π-–∞–¥–∞–ø—Ç–µ—Ä-–∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤">–ü—Ä–∏–º–µ—Ä 2: Promisify ‚Äî –ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π –∞–¥–∞–ø—Ç–µ—Ä –∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤</a></h3>
<p><code>promisify</code> ‚Äî –æ–¥–∏–Ω –∏–∑ —Å–∞–º—ã—Ö –∏–∑–≤–µ—Å—Ç–Ω—ã—Ö –∞–¥–∞–ø—Ç–µ—Ä–æ–≤ –≤ JavaScript, –ø—Ä–µ–æ–±—Ä–∞–∑—É—é—â–∏–π callback-–∫–æ–Ω—Ç—Ä–∞–∫—Ç –≤ Promise-–∫–æ–Ω—Ç—Ä–∞–∫—Ç.</p>
<h4 id="–ë–∞–∑–æ–≤–∞—è-—Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è-promisify"><a class="header" href="#–ë–∞–∑–æ–≤–∞—è-—Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è-promisify">–ë–∞–∑–æ–≤–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è promisify</a></h4>
<pre><code class="language-javascript">// –ü—Ä–æ—Å—Ç–µ–π—à–∞—è –≤–µ—Ä—Å–∏—è promisify
const promisify = (fn) =&gt; {
  return (...args) =&gt; {
    return new Promise((resolve, reject) =&gt; {
      // –°–æ–∑–¥–∞—ë–º callback –¥–ª—è –ø–µ—Ä–µ–¥–∞—á–∏ –≤ —Ñ—É–Ω–∫—Ü–∏—é
      const callback = (err, data) =&gt; {
        if (err) {
          reject(err);
        } else {
          resolve(data);
        }
      };

      // –í—ã–∑—ã–≤–∞–µ–º –∏—Å—Ö–æ–¥–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é —Å callback
      fn(...args, callback);
    });
  };
};

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
import fs from 'fs';

const readFile = promisify(fs.readFile);

// –¢–µ–ø–µ—Ä—å –º–æ–∂–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å async/await
async function loadConfig() {
  try {
    const data = await readFile('./config.json', 'utf8');
    return JSON.parse(data);
  } catch (err) {
    console.error('–û—à–∏–±–∫–∞ —á—Ç–µ–Ω–∏—è —Ñ–∞–π–ª–∞:', err);
  }
}
</code></pre>
<h4 id="promisify-—Å-timeout"><a class="header" href="#promisify-—Å-timeout">Promisify —Å timeout</a></h4>
<p>–†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π —Ç–∞–π–º–∞—É—Ç–∞:</p>
<pre><code class="language-javascript">const promisifyWithTimeout = (fn) =&gt; {
  return (...args) =&gt; {
    // –°–æ–∑–¥–∞—ë–º Promise —Å –¥–æ—Å—Ç—É–ø–æ–º –∫ resolve/reject
    let resolve, reject;
    const promise = new Promise((res, rej) =&gt; {
      resolve = res;
      reject = rej;
    });

    // –°–æ—Å—Ç–æ—è–Ω–∏–µ –ø—Ä–æ–º–∏—Å–∞
    let pending = true;
    let timer = null;

    // –ò–∑–≤–ª–µ–∫–∞–µ–º options –∏–∑ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –∞—Ä–≥—É–º–µ–Ω—Ç–∞
    const lastArg = args[args.length - 1];
    const options = typeof lastArg === 'object' ? lastArg : {};
    const timeout = options.timeout;

    // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Ç–∞–π–º–µ—Ä, –µ—Å–ª–∏ —É–∫–∞–∑–∞–Ω timeout
    if (timeout) {
      timer = setTimeout(() =&gt; {
        if (!pending) return;

        pending = false;
        timer = null;
        reject(new Error('Timed out'));
      }, timeout);
    }

    // –°–æ–∑–¥–∞—ë–º callback
    const callback = (err, data) =&gt; {
      if (!pending) return; // –ü—Ä–æ–º–∏—Å —É–∂–µ —Ä–∞–∑—Ä–µ—à—ë–Ω

      // –û—Ç–º–µ–Ω—è–µ–º —Ç–∞–π–º–µ—Ä
      if (timer) {
        clearTimeout(timer);
        timer = null;
      }

      pending = false;

      if (err) {
        reject(err);
      } else {
        resolve(data);
      }
    };

    // –í—ã–∑—ã–≤–∞–µ–º –∏—Å—Ö–æ–¥–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é
    fn(...args, callback);

    return promise;
  };
};

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å timeout
const readFile = promisifyWithTimeout(fs.readFile);

try {
  // –§–∞–π–ª –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –ø—Ä–æ—á–∏—Ç–∞–Ω –∑–∞ 1000 –º—Å
  const data = await readFile('./large-file.txt', 'utf8', { timeout: 1000 });
  console.log(data);
} catch (err) {
  console.error(err.message); // "Timed out" –µ—Å–ª–∏ –ø—Ä–µ–≤—ã—à–µ–Ω timeout
}
</code></pre>
<h4 id="promisify-—Å-—Ä–∞–∑–¥–µ–ª—å–Ω—ã–º–∏-options"><a class="header" href="#promisify-—Å-—Ä–∞–∑–¥–µ–ª—å–Ω—ã–º–∏-options">Promisify —Å —Ä–∞–∑–¥–µ–ª—å–Ω—ã–º–∏ options</a></h4>
<p>–ë–æ–ª–µ–µ —Å–ª–æ–∂–Ω–∞—è –≤–µ—Ä—Å–∏—è, –≥–¥–µ options –ø—Ä–æ–º–∏—Å–∏—Ñ–∏–∫–∞—Ü–∏–∏ –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è –æ—Ç–¥–µ–ª—å–Ω–æ:</p>
<pre><code class="language-javascript">const promisifyAdvanced = (fn, options = {}) =&gt; {
  return (...args) =&gt; {
    let resolve, reject;
    const promise = new Promise((res, rej) =&gt; {
      resolve = res;
      reject = rej;
    });

    let pending = true;
    let timer = null;

    const { timeout } = options;

    if (timeout) {
      timer = setTimeout(() =&gt; {
        if (!pending) return;
        pending = false;
        timer = null;
        reject(new Error('Timed out'));
      }, timeout);
    }

    const callback = (err, data) =&gt; {
      if (!pending) return;

      if (timer) {
        clearTimeout(timer);
        timer = null;
      }

      pending = false;

      if (err) {
        reject(err);
      } else {
        resolve(data);
      }
    };

    fn(...args, callback);

    return promise;
  };
};

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
const read = promisifyAdvanced(fs.readFile);

// –í—ã–∑—ã–≤–∞–µ–º —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ –¥–ª—è readFile –∏ –æ—Ç–¥–µ–ª—å–Ω–æ —Å timeout
const data = await read('./file.txt', 'utf8', { timeout: 1000 });
</code></pre>
<h4 id="promisify-—Å-abortcontroller"><a class="header" href="#promisify-—Å-abortcontroller">Promisify —Å AbortController</a></h4>
<p>–°–æ–≤—Ä–µ–º–µ–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –æ—Ç–º–µ–Ω—ã —á–µ—Ä–µ–∑ AbortSignal:</p>
<pre><code class="language-javascript">const promisifyWithAbort = (fn) =&gt; {
  return (...args) =&gt; {
    const lastArg = args[args.length - 1];
    const options = typeof lastArg === 'object' ? lastArg : {};
    const signal = options.signal;

    return new Promise((resolve, reject) =&gt; {
      // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –Ω–µ –æ—Ç–º–µ–Ω—ë–Ω –ª–∏ —É–∂–µ —Å–∏–≥–Ω–∞–ª
      if (signal?.aborted) {
        reject(new Error('Operation aborted'));
        return;
      }

      // –ü–æ–¥–ø–∏—Å—ã–≤–∞–µ–º—Å—è –Ω–∞ —Å–æ–±—ã—Ç–∏–µ –æ—Ç–º–µ–Ω—ã
      const abortHandler = () =&gt; {
        reject(new Error('Operation aborted'));
      };

      signal?.addEventListener('abort', abortHandler);

      const callback = (err, data) =&gt; {
        // –û—Ç–ø–∏—Å—ã–≤–∞–µ–º—Å—è –æ—Ç —Å–æ–±—ã—Ç–∏—è
        signal?.removeEventListener('abort', abortHandler);

        if (err) {
          reject(err);
        } else {
          resolve(data);
        }
      };

      fn(...args, callback);
    });
  };
};

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å AbortController
const read = promisifyWithAbort(fs.readFile);

// –í–∞—Ä–∏–∞–Ω—Ç 1: –°–∏–≥–Ω–∞–ª —É–∂–µ –æ—Ç–º–µ–Ω—ë–Ω
const ac1 = new AbortController();
ac1.abort(); // –°—Ä–∞–∑—É –æ—Ç–º–µ–Ω—è–µ–º

try {
  await read('./file.txt', 'utf8', { signal: ac1.signal });
} catch (err) {
  console.error(err.message); // "Operation aborted"
}

// –í–∞—Ä–∏–∞–Ω—Ç 2: –û—Ç–º–µ–Ω–∞ —á–µ—Ä–µ–∑ timeout
const ac2 = AbortController.timeout(1000); // AbortSignal —Å —Ç–∞–π–º–∞—É—Ç–æ–º

try {
  await read('./large-file.txt', 'utf8', { signal: ac2.signal });
} catch (err) {
  console.error(err.message); // "Operation aborted" –µ—Å–ª–∏ —Ñ–∞–π–ª —á–∏—Ç–∞–µ—Ç—Å—è &gt; 1 —Å–µ–∫
}
</code></pre>
<h3 id="–ü—Ä–∏–º–µ—Ä-3-–ê–¥–∞–ø—Ç–µ—Ä-setinterval-–∫-asynciterator"><a class="header" href="#–ü—Ä–∏–º–µ—Ä-3-–ê–¥–∞–ø—Ç–µ—Ä-setinterval-–∫-asynciterator">–ü—Ä–∏–º–µ—Ä 3: –ê–¥–∞–ø—Ç–µ—Ä setInterval –∫ AsyncIterator</a></h3>
<p>–ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ —Ç–∞–π–º–µ—Ä–∞ –≤ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –∏—Ç–µ—Ä–∞—Ç–æ—Ä –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Å <code>for await...of</code>.</p>
<pre><code class="language-javascript">class Timer {
  #interval;
  #queue = [];
  #waiting = null;

  constructor(interval) {
    this.#interval = interval;

    // –ó–∞–ø—É—Å–∫–∞–µ–º —Ç–∞–π–º–µ—Ä
    const timerId = setInterval(() =&gt; {
      const timestamp = Date.now();

      // –ï—Å–ª–∏ –µ—Å—Ç—å –æ–∂–∏–¥–∞—é—â–∏–π Promise, —Ä–∞–∑—Ä–µ—à–∞–µ–º –µ–≥–æ
      if (this.#waiting) {
        this.#waiting.resolve({ value: timestamp, done: false });
        this.#waiting = null;
      } else {
        // –ò–Ω–∞—á–µ –¥–æ–±–∞–≤–ª—è–µ–º –≤ –æ—á–µ—Ä–µ–¥—å
        this.#queue.push(timestamp);
      }
    }, interval);

    // –°–æ—Ö—Ä–∞–Ω—è–µ–º timerId –¥–ª—è –æ—á–∏—Å—Ç–∫–∏
    this.#timerId = timerId;
  }

  // –†–µ–∞–ª–∏–∑–∞—Ü–∏—è async iterator –ø—Ä–æ—Ç–æ–∫–æ–ª–∞
  async next() {
    // –ï—Å–ª–∏ –≤ –æ—á–µ—Ä–µ–¥–∏ –µ—Å—Ç—å –∑–Ω–∞—á–µ–Ω–∏—è, –≤–æ–∑–≤—Ä–∞—â–∞–µ–º –ø–µ—Ä–≤–æ–µ
    if (this.#queue.length &gt; 0) {
      return { value: this.#queue.shift(), done: false };
    }

    // –ò–Ω–∞—á–µ —Å–æ–∑–¥–∞—ë–º Promise –∏ –∂–¥—ë–º —Å–ª–µ–¥—É—é—â–µ–≥–æ —Ç–∏–∫–∞
    return new Promise((resolve) =&gt; {
      this.#waiting = { resolve };
    });
  }

  // Symbol.asyncIterator –¥–µ–ª–∞–µ—Ç –æ–±—ä–µ–∫—Ç –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ –∏—Ç–µ—Ä–∏—Ä—É–µ–º—ã–º
  [Symbol.asyncIterator]() {
    return this;
  }

  // –ú–µ—Ç–æ–¥ –¥–ª—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ —Ç–∞–π–º–µ—Ä–∞
  stop() {
    clearInterval(this.#timerId);
    if (this.#waiting) {
      this.#waiting.resolve({ done: true });
    }
  }
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
const timer = new Timer(1000); // –¢–∏–∫ –∫–∞–∂–¥—É—é —Å–µ–∫—É–Ω–¥—É

// –ü—Ä–æ—Ö–æ–¥–∏–º –ø–æ —Ç–∞–π–º–µ—Ä—É —Ü–∏–∫–ª–æ–º
for await (const timestamp of timer) {
  console.log('Tick:', new Date(timestamp).toISOString());

  // –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —á–µ—Ä–µ–∑ 5 —Å–µ–∫—É–Ω–¥
  if (timestamp &gt; Date.now() - 5000) {
    timer.stop();
    break;
  }
}
</code></pre>
<p><strong>–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:</strong></p>
<ul>
<li>–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å <code>for await...of</code> –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Ç–∞–π–º–µ—Ä–∞–º–∏</li>
<li>–°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å–æ Stream Composition API</li>
<li>–ï–¥–∏–Ω–æ–æ–±—Ä–∞–∑–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏</li>
</ul>
<h3 id="–ü—Ä–∏–º–µ—Ä-4-–ê–¥–∞–ø—Ç–µ—Ä-setinterval-–∫-eventtarget"><a class="header" href="#–ü—Ä–∏–º–µ—Ä-4-–ê–¥–∞–ø—Ç–µ—Ä-setinterval-–∫-eventtarget">–ü—Ä–∏–º–µ—Ä 4: –ê–¥–∞–ø—Ç–µ—Ä setInterval –∫ EventTarget</a></h3>
<p>–ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ —Ç–∞–π–º–µ—Ä–∞ –≤ EventTarget –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Å–æ–±—ã—Ç–∏—è–º–∏.</p>
<pre><code class="language-javascript">class TimerEventTarget extends EventTarget {
  #interval;
  #timerId;

  constructor(interval) {
    super();
    this.#interval = interval;
  }

  start() {
    this.#timerId = setInterval(() =&gt; {
      // –°–æ–∑–¥–∞—ë–º –∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º —Å–æ–±—ã—Ç–∏–µ
      const event = new CustomEvent('tick', {
        detail: { timestamp: Date.now() }
      });
      this.dispatchEvent(event);
    }, this.#interval);
  }

  stop() {
    clearInterval(this.#timerId);
  }
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
const timer = new TimerEventTarget(1000);

timer.addEventListener('tick', (event) =&gt; {
  console.log('Tick:', event.detail.timestamp);
});

timer.start();

// –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —á–µ—Ä–µ–∑ 5 —Å–µ–∫—É–Ω–¥
setTimeout(() =&gt; timer.stop(), 5000);
</code></pre>
<h3 id="–ü—Ä–∏–º–µ—Ä-5-eventtarget-to-asynciterator"><a class="header" href="#–ü—Ä–∏–º–µ—Ä-5-eventtarget-to-asynciterator">–ü—Ä–∏–º–µ—Ä 5: EventTarget to AsyncIterator</a></h3>
<p>–ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ EventTarget –≤ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –∏—Ç–µ—Ä–∞—Ç–æ—Ä.</p>
<pre><code class="language-javascript">class TargetIterator {
  #target;
  #eventName;
  #queue = [];
  #waiting = null;

  constructor(target, eventName) {
    this.#target = target;
    this.#eventName = eventName;

    // –ü–æ–¥–ø–∏—Å—ã–≤–∞–µ–º—Å—è –Ω–∞ —Å–æ–±—ã—Ç–∏—è
    this.#target.addEventListener(eventName, (event) =&gt; {
      if (this.#waiting) {
        // –ï—Å–ª–∏ –µ—Å—Ç—å –æ–∂–∏–¥–∞—é—â–∏–π next(), —Ä–∞–∑—Ä–µ—à–∞–µ–º –ø—Ä–æ–º–∏—Å
        this.#waiting.resolve({ value: event, done: false });
        this.#waiting = null;
      } else {
        // –î–æ–±–∞–≤–ª—è–µ–º —Å–æ–±—ã—Ç–∏–µ –≤ –æ—á–µ—Ä–µ–¥—å
        this.#queue.push(event);
      }
    });
  }

  async next() {
    // –ï—Å–ª–∏ –≤ –æ—á–µ—Ä–µ–¥–∏ –µ—Å—Ç—å —Å–æ–±—ã—Ç–∏—è, –≤–æ–∑–≤—Ä–∞—â–∞–µ–º –ø–µ—Ä–≤–æ–µ
    if (this.#queue.length &gt; 0) {
      return { value: this.#queue.shift(), done: false };
    }

    // –°–æ–∑–¥–∞—ë–º Promise –∏ –∂–¥—ë–º —Å–ª–µ–¥—É—é—â–µ–≥–æ —Å–æ–±—ã—Ç–∏—è
    return new Promise((resolve) =&gt; {
      this.#waiting = { resolve };
    });
  }

  [Symbol.asyncIterator]() {
    return this;
  }
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
const eventTarget = new EventTarget();

// –°–æ–∑–¥–∞—ë–º –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –∏—Ç–µ—Ä–∞—Ç–æ—Ä –¥–ª—è —Å–æ–±—ã—Ç–∏–π 'tick'
const iterator = new TargetIterator(eventTarget, 'tick');

// –û—Ç–ø—Ä–∞–≤–ª—è–µ–º —Å–æ–±—ã—Ç–∏—è —á–µ—Ä–µ–∑ setInterval
setInterval(() =&gt; {
  const event = new CustomEvent('tick', {
    detail: { timestamp: Date.now() }
  });
  eventTarget.dispatchEvent(event);
}, 1000);

// –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º —Å–æ–±—ã—Ç–∏—è —á–µ—Ä–µ–∑ for await...of
for await (const event of iterator) {
  console.log('Received event:', event.detail.timestamp);
}
</code></pre>
<p><strong>–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ:</strong></p>
<ul>
<li>–ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ —Å–æ–±—ã—Ç–∏–π–Ω–æ–π –º–æ–¥–µ–ª–∏ –≤ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—É—é –∏—Ç–µ—Ä–∞—Ü–∏—é</li>
<li>–£–¥–æ–±–Ω–∞—è —Ä–∞–±–æ—Ç–∞ —Å –ø–æ—Ç–æ–∫–∞–º–∏ —Å–æ–±—ã—Ç–∏–π</li>
<li>–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è async/await —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞</li>
</ul>
<h2 id="–ö–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ-–ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤"><a class="header" href="#–ö–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ-–ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤">–ö–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤</a></h2>
<p>–ê–¥–∞–ø—Ç–µ—Ä —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ –∫–æ–º–±–∏–Ω–∞—Ü–∏–∏ —Å –¥—Ä—É–≥–∏–º–∏ –ø–∞—Ç—Ç–µ—Ä–Ω–∞–º–∏:</p>
<h3 id="adapter--revealing-constructor"><a class="header" href="#adapter--revealing-constructor">Adapter + Revealing Constructor</a></h3>
<pre><code class="language-javascript">class ReadableStreamAdapter {
  #stream;

  constructor(readFunction) {
    // Revealing Constructor Pattern
    // readFunction –∏–Ω–∂–µ–∫—Ç–∏—Ç—Å—è –≤ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä
    this.#stream = new ReadableStream({
      async start(controller) {
        try {
          const data = await readFunction();
          controller.enqueue(data);
          controller.close();
        } catch (err) {
          controller.error(err);
        }
      }
    });
  }

  // –ê–¥–∞–ø—Ç–∏—Ä—É–µ–º –∫ AsyncIterator
  async *[Symbol.asyncIterator]() {
    const reader = this.#stream.getReader();
    try {
      while (true) {
        const { done, value } = await reader.read();
        if (done) break;
        yield value;
      }
    } finally {
      reader.releaseLock();
    }
  }
}
</code></pre>
<h3 id="adapter--strategy"><a class="header" href="#adapter--strategy">Adapter + Strategy</a></h3>
<pre><code class="language-javascript">// –ü–∞—Ç—Ç–µ—Ä–Ω Strategy –¥–ª—è –≤—ã–±–æ—Ä–∞ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ Map
const mapStrategies = {
  memory: () =&gt; new Map(),

  fs: (fs, path) =&gt; new HashMapFS(fs, path),

  redis: (client) =&gt; ({
    async set(key, value) {
      await client.set(key, JSON.stringify(value));
    },
    async get(key) {
      const data = await client.get(key);
      return data ? JSON.parse(data) : undefined;
    },
    // ... –¥—Ä—É–≥–∏–µ –º–µ—Ç–æ–¥—ã Map
  }),

  s3: (s3Client, bucket) =&gt; ({
    async set(key, value) {
      await s3Client.putObject({
        Bucket: bucket,
        Key: key,
        Body: JSON.stringify(value)
      });
    },
    // ... –¥—Ä—É–≥–∏–µ –º–µ—Ç–æ–¥—ã Map
  })
};

// –§–∞–±—Ä–∏–∫–∞ —Å –ø–∞—Ç—Ç–µ—Ä–Ω–æ–º Strategy
function createHashMap(strategy, ...args) {
  const factory = mapStrategies[strategy];
  if (!factory) {
    throw new Error(`Unknown strategy: ${strategy}`);
  }
  return factory(...args);
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
import fs from 'fs';

// –í—ã–±–∏—Ä–∞–µ–º —Å—Ç—Ä–∞—Ç–µ–≥–∏—é –≤ runtime
const config = process.env.MAP_STORAGE || 'memory';

const hashMap = createHashMap(config, fs, './data');
// –ö–æ–¥ —Ä–∞–±–æ—Ç–∞–µ—Ç –æ–¥–∏–Ω–∞–∫–æ–≤–æ –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏
hashMap.set('key', 'value');
</code></pre>
<h2 id="–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è-–∞–¥–∞–ø—Ç–µ—Ä–∞"><a class="header" href="#–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è-–∞–¥–∞–ø—Ç–µ—Ä–∞">–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∞–¥–∞–ø—Ç–µ—Ä–∞</a></h2>
<h3 id="1-–†–∞–∑–≤—è–∑–∫–∞-–∫–æ–¥–∞-decoupling"><a class="header" href="#1-–†–∞–∑–≤—è–∑–∫–∞-–∫–æ–¥–∞-decoupling">1. –†–∞–∑–≤—è–∑–∫–∞ –∫–æ–¥–∞ (Decoupling)</a></h3>
<pre><code class="language-javascript">// –ë–ï–ó –∞–¥–∞–ø—Ç–µ—Ä–∞ - –∫–æ–¥ –ø—Ä–∏–≤—è–∑–∞–Ω –∫ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏
class UserService {
  saveUser(user) {
    // –ñ—ë—Å—Ç–∫–æ –ø—Ä–∏–≤—è–∑–∞–Ω—ã –∫ —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º–µ Node.js
    fs.writeFileSync(`./users/${user.id}.json`, JSON.stringify(user));
  }

  loadUser(id) {
    return JSON.parse(fs.readFileSync(`./users/${id}.json`, 'utf8'));
  }
}

// –° –∞–¥–∞–ø—Ç–µ—Ä–æ–º - –∫–æ–¥ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–µ–π
class UserService {
  #storage;

  constructor(storage) {
    this.#storage = storage; // –õ—é–±–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è Map –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
  }

  saveUser(user) {
    this.#storage.set(user.id, user);
  }

  loadUser(id) {
    return this.#storage.get(id);
  }
}

// –ú–æ–∂–µ–º –ª–µ–≥–∫–æ –º–µ–Ω—è—Ç—å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é
const service1 = new UserService(new Map()); // –í –ø–∞–º—è—Ç–∏
const service2 = new UserService(new HashMapFS(fs, './users')); // –í —Ñ–∞–π–ª–∞—Ö
const service3 = new UserService(new HashMapRedis(redis)); // –í Redis
</code></pre>
<h3 id="2-–ü–µ—Ä–µ–Ω–æ—Å–∏–º–æ—Å—Ç—å-–º–µ–∂–¥—É-–æ–∫—Ä—É–∂–µ–Ω–∏—è–º–∏"><a class="header" href="#2-–ü–µ—Ä–µ–Ω–æ—Å–∏–º–æ—Å—Ç—å-–º–µ–∂–¥—É-–æ–∫—Ä—É–∂–µ–Ω–∏—è–º–∏">2. –ü–µ—Ä–µ–Ω–æ—Å–∏–º–æ—Å—Ç—å –º–µ–∂–¥—É –æ–∫—Ä—É–∂–µ–Ω–∏—è–º–∏</a></h3>
<pre><code class="language-javascript">// –û–¥–∏–Ω –∏ —Ç–æ—Ç –∂–µ –∫–æ–¥ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤–µ–∑–¥–µ
class DataProcessor {
  #cache;

  constructor(cache) {
    this.#cache = cache;
  }

  async process(data) {
    // –û–¥–∏–Ω–∞–∫–æ–≤—ã–π –∫–æ–¥ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏–π
    const cached = await this.#cache.get(data.id);
    if (cached) return cached;

    const result = await this.heavyComputation(data);
    await this.#cache.set(data.id, result);
    return result;
  }
}

// –í Node.js
const processor1 = new DataProcessor(new HashMapFS(fs, './cache'));

// –í AWS Lambda
const processor2 = new DataProcessor(new HashMapS3(s3, 'my-bucket'));

// –í –±—Ä–∞—É–∑–µ—Ä–µ
const processor3 = new DataProcessor(new Map());
</code></pre>
<h3 id="3-–£–ø—Ä–æ—â–µ–Ω–∏–µ-—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è"><a class="header" href="#3-–£–ø—Ä–æ—â–µ–Ω–∏–µ-—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è">3. –£–ø—Ä–æ—â–µ–Ω–∏–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è</a></h3>
<pre><code class="language-javascript">// Mock —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –¥–ª—è —Ç–µ—Å—Ç–æ–≤
class HashMapMock {
  #data = new Map();
  #calls = [];

  set(key, value) {
    this.#calls.push({ method: 'set', key, value });
    this.#data.set(key, value);
  }

  get(key) {
    this.#calls.push({ method: 'get', key });
    return this.#data.get(key);
  }

  getCalls() {
    return this.#calls;
  }
}

// –í —Ç–µ—Å—Ç–∞—Ö
describe('UserService', () =&gt; {
  it('should save user', () =&gt; {
    const storage = new HashMapMock();
    const service = new UserService(storage);

    service.saveUser({ id: 1, name: 'Alice' });

    const calls = storage.getCalls();
    expect(calls).toHaveLength(1);
    expect(calls[0]).toEqual({
      method: 'set',
      key: 1,
      value: { id: 1, name: 'Alice' }
    });
  });
});
</code></pre>
<h3 id="4-–°–∫—Ä—ã—Ç–∏–µ-—Å–ª–æ–∂–Ω–æ—Å—Ç–∏"><a class="header" href="#4-–°–∫—Ä—ã—Ç–∏–µ-—Å–ª–æ–∂–Ω–æ—Å—Ç–∏">4. –°–∫—Ä—ã—Ç–∏–µ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏</a></h3>
<pre><code class="language-javascript">// –í—Å—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å —Ä–∞–±–æ—Ç—ã —Å EventTarget —Å–∫—Ä—ã—Ç–∞ –≤ –∞–¥–∞–ø—Ç–µ—Ä–µ
class EventProcessor {
  async processEvents(eventSource) {
    // –ü—Ä–æ—Å—Ç–æ–π –∏ –ø–æ–Ω—è—Ç–Ω—ã–π –∫–æ–¥ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏
    for await (const event of eventSource) {
      await this.handleEvent(event);
    }
  }

  async handleEvent(event) {
    // –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–±—ã—Ç–∏—è
    console.log('Processing:', event.type);
  }
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
const target = new EventTarget();
const iterator = new TargetIterator(target, 'data');

const processor = new EventProcessor();
processor.processEvents(iterator);
// –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ –Ω–µ –∑–Ω–∞–µ—Ç –ø—Ä–æ EventTarget, addEventListener –∏ —Ç.–¥.
</code></pre>
<h2 id="–¢–µ—Ä–º–∏–Ω–æ–ª–æ–≥–∏—è-–∏-–∫–æ–Ω—Ü–µ–ø—Ü–∏–∏"><a class="header" href="#–¢–µ—Ä–º–∏–Ω–æ–ª–æ–≥–∏—è-–∏-–∫–æ–Ω—Ü–µ–ø—Ü–∏–∏">–¢–µ—Ä–º–∏–Ω–æ–ª–æ–≥–∏—è –∏ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏</a></h2>
<h3 id="–ö–æ–º–ø–æ–∑–∏—Ü–∏—è-vs-–ê–≥—Ä–µ–≥–∞—Ü–∏—è"><a class="header" href="#–ö–æ–º–ø–æ–∑–∏—Ü–∏—è-vs-–ê–≥—Ä–µ–≥–∞—Ü–∏—è">–ö–æ–º–ø–æ–∑–∏—Ü–∏—è vs –ê–≥—Ä–µ–≥–∞—Ü–∏—è</a></h3>
<p><strong>–ö–æ–º–ø–æ–∑–∏—Ü–∏—è</strong> ‚Äî –∞–¥–∞–ø—Ç–µ—Ä —Å–æ–∑–¥–∞—ë—Ç –æ–±—ä–µ–∫—Ç –≤–Ω—É—Ç—Ä–∏ —Å–µ–±—è:</p>
<pre><code class="language-javascript">class ArrayQueueComposition {
  #array;

  constructor() {
    // –°–æ–∑–¥–∞—ë–º –º–∞—Å—Å–∏–≤ –í–ù–£–¢–†–ò
    this.#array = [];
  }

  enqueue(item) {
    this.#array.push(item);
  }
}
</code></pre>
<p><strong>–ê–≥—Ä–µ–≥–∞—Ü–∏—è</strong> ‚Äî –∞–¥–∞–ø—Ç–µ—Ä –ø–æ–ª—É—á–∞–µ—Ç –æ–±—ä–µ–∫—Ç –∏–∑–≤–Ω–µ:</p>
<pre><code class="language-javascript">class ArrayQueueAggregation {
  #array;

  constructor(array) {
    // –ü–æ–ª—É—á–∞–µ–º –º–∞—Å—Å–∏–≤ –°–ù–ê–†–£–ñ–ò
    this.#array = array;
  }

  enqueue(item) {
    this.#array.push(item);
  }
}
</code></pre>
<h3 id="boxing-–ë–æ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏–µ"><a class="header" href="#boxing-–ë–æ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏–µ">Boxing (–ë–æ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏–µ)</a></h3>
<p>–¢–µ—Ä–º–∏–Ω "boxing" –æ–∑–Ω–∞—á–∞–µ—Ç –ø–æ–º–µ—â–µ–Ω–∏–µ –æ–±—ä–µ–∫—Ç–∞ –≤ "–∫–æ—Ä–æ–±–∫—É" (wrapper):</p>
<pre><code class="language-javascript">// –ë–æ–∫—Å–∏—Ä—É–µ–º –ø—Ä–∏–º–∏—Ç–∏–≤–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ
const boxed = { value: 42 };

// –ë–æ–∫—Å–∏—Ä—É–µ–º —Ñ—É–Ω–∫—Ü–∏—é –≤ –æ–±—ä–µ–∫—Ç
const boxedFunction = {
  execute: () =&gt; console.log('Hello')
};

// –ë–æ–∫—Å–∏—Ä—É–µ–º –∫–ª–∞—Å—Å –≤ —Ñ—É–Ω–∫—Ü–∏—é
const boxedClass = () =&gt; {
  const instance = new SomeClass();
  return {
    method: () =&gt; instance.method()
  };
};
</code></pre>
<h3 id="extends--—Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ-–∏–ª–∏-—Å—É–∂–µ–Ω–∏–µ"><a class="header" href="#extends--—Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ-–∏–ª–∏-—Å—É–∂–µ–Ω–∏–µ">Extends ‚Äî —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ –∏–ª–∏ —Å—É–∂–µ–Ω–∏–µ?</a></h3>
<p><strong>–í–∞–∂–Ω–∞—è –∫–æ–Ω—Ü–µ–ø—Ü–∏—è –∏–∑ —Ç–µ–æ—Ä–∏–∏ —Ç–∏–ø–æ–≤:</strong></p>
<pre><code class="language-typescript">// –í –û–û–ü –≥–æ–≤–æ—Ä—è—Ç "—Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ"
class ExtendedArray extends Array {
  // –î–æ–±–∞–≤–ª—è–µ–º –Ω–æ–≤—ã–µ –º–µ—Ç–æ–¥—ã
  sum() {
    return this.reduce((a, b) =&gt; a + b, 0);
  }
}

// –ù–æ –≤ —Ç–µ–æ—Ä–∏–∏ —Ç–∏–ø–æ–≤ —ç—Ç–æ "—Å—É–∂–µ–Ω–∏–µ"!
// Array –º–æ–∂–µ—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å –ª—é–±—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã
// ExtendedArray ‚Äî –±–æ–ª–µ–µ —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ç–∏–ø

// –ú–Ω–æ–∂–µ—Å—Ç–≤–æ –≤—Å–µ—Ö –≤–æ–∑–º–æ–∂–Ω—ã—Ö Array &gt; –º–Ω–æ–∂–µ—Å—Ç–≤–æ –≤—Å–µ—Ö –≤–æ–∑–º–æ–∂–Ω—ã—Ö ExtendedArray
// –°–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ, —Ç–∏–ø –°–£–ñ–ê–ï–¢–°–Ø
</code></pre>
<h2 id="–•—Ä–∞–Ω–µ–Ω–∏–µ-—Å–æ—Å—Ç–æ—è–Ω–∏—è-–≤-–∞–¥–∞–ø—Ç–µ—Ä–∞—Ö"><a class="header" href="#–•—Ä–∞–Ω–µ–Ω–∏–µ-—Å–æ—Å—Ç–æ—è–Ω–∏—è-–≤-–∞–¥–∞–ø—Ç–µ—Ä–∞—Ö">–•—Ä–∞–Ω–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è –≤ –∞–¥–∞–ø—Ç–µ—Ä–∞—Ö</a></h2>
<p>–°—É—â–µ—Å—Ç–≤—É–µ—Ç –º–Ω–æ–∂–µ—Å—Ç–≤–æ —Å–ø–æ—Å–æ–±–æ–≤ —Ö—Ä–∞–Ω–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è:</p>
<h3 id="1-–ó–∞–º—ã–∫–∞–Ω–∏—è"><a class="header" href="#1-–ó–∞–º—ã–∫–∞–Ω–∏—è">1. –ó–∞–º—ã–∫–∞–Ω–∏—è</a></h3>
<pre><code class="language-javascript">function createAdapter() {
  // –°–æ—Å—Ç–æ—è–Ω–∏–µ –≤ –∑–∞–º—ã–∫–∞–Ω–∏–∏
  let state = { count: 0 };

  return {
    increment() {
      state.count++;
    },
    getCount() {
      return state.count;
    }
  };
}
</code></pre>
<h3 id="2-–ü—Ä–∏–≤–∞—Ç–Ω—ã–µ-–ø–æ–ª—è-private-fields"><a class="header" href="#2-–ü—Ä–∏–≤–∞—Ç–Ω—ã–µ-–ø–æ–ª—è-private-fields">2. –ü—Ä–∏–≤–∞—Ç–Ω—ã–µ –ø–æ–ª—è (Private Fields)</a></h3>
<pre><code class="language-javascript">class Adapter {
  // –ü—Ä–∏–≤–∞—Ç–Ω—ã–µ –ø–æ–ª—è
  #state = { count: 0 };

  increment() {
    this.#state.count++;
  }

  getCount() {
    return this.#state.count;
  }
}
</code></pre>
<h3 id="3-–ü—É–±–ª–∏—á–Ω—ã–µ-–ø–æ–ª—è"><a class="header" href="#3-–ü—É–±–ª–∏—á–Ω—ã–µ-–ø–æ–ª—è">3. –ü—É–±–ª–∏—á–Ω—ã–µ –ø–æ–ª—è</a></h3>
<pre><code class="language-javascript">class Adapter {
  // –ü—É–±–ª–∏—á–Ω—ã–µ –ø–æ–ª—è
  state = { count: 0 };

  increment() {
    this.state.count++;
  }
}
</code></pre>
<h3 id="4-–°–∏–º–≤–æ–ª—ã-symbols"><a class="header" href="#4-–°–∏–º–≤–æ–ª—ã-symbols">4. –°–∏–º–≤–æ–ª—ã (Symbols)</a></h3>
<pre><code class="language-javascript">const stateSymbol = Symbol('state');

class Adapter {
  constructor() {
    // –°–æ—Å—Ç–æ—è–Ω–∏–µ –≤ —Å–∏–º–≤–æ–ª–µ
    this[stateSymbol] = { count: 0 };
  }

  increment() {
    this[stateSymbol].count++;
  }
}
</code></pre>
<h3 id="5-weakmap"><a class="header" href="#5-weakmap">5. WeakMap</a></h3>
<pre><code class="language-javascript">const states = new WeakMap();

class Adapter {
  constructor() {
    // –°–æ—Å—Ç–æ—è–Ω–∏–µ –≤ WeakMap
    states.set(this, { count: 0 });
  }

  increment() {
    const state = states.get(this);
    state.count++;
  }
}
</code></pre>
<h2 id="–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ-vs-–ö–∞—Å—Ç–æ–º–Ω—ã–µ-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã"><a class="header" href="#–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ-vs-–ö–∞—Å—Ç–æ–º–Ω—ã–µ-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã">–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ vs –ö–∞—Å—Ç–æ–º–Ω—ã–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã</a></h2>
<h3 id="–ü—Ä–µ–¥–ø–æ—á–∏—Ç–∞–π—Ç–µ-—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã"><a class="header" href="#–ü—Ä–µ–¥–ø–æ—á–∏—Ç–∞–π—Ç–µ-—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã">–ü—Ä–µ–¥–ø–æ—á–∏—Ç–∞–π—Ç–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã</a></h3>
<p><strong>–•–æ—Ä–æ—à–æ</strong> ‚Äî –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã—Ö –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤:</p>
<pre><code class="language-javascript">// Iterable ‚Äî —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
class MyCollection {
  *[Symbol.iterator]() {
    yield 1;
    yield 2;
    yield 3;
  }
}

// –ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å for...of
for (const item of new MyCollection()) {
  console.log(item);
}
</code></pre>
<p><strong>–ü–ª–æ—Ö–æ</strong> ‚Äî –∏–∑–æ–±—Ä–µ—Ç–µ–Ω–∏–µ –≤–µ–ª–æ—Å–∏–ø–µ–¥–∞:</p>
<pre><code class="language-javascript">// –ö–∞—Å—Ç–æ–º–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∏—Ç–µ—Ä–∞—Ü–∏–∏
class MyCollection {
  forEach(callback) {
    callback(1);
    callback(2);
    callback(3);
  }
}

// –ù–µ–ª—å–∑—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–º–∏ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º–∏
const collection = new MyCollection();
collection.forEach(item =&gt; console.log(item)); // –†–∞–±–æ—Ç–∞–µ—Ç
// for (const item of collection) {} // –ù–ï —Ä–∞–±–æ—Ç–∞–µ—Ç!
</code></pre>
<h3 id="–ü—Ä–∏–º–µ—Ä—ã-—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã—Ö-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤"><a class="header" href="#–ü—Ä–∏–º–µ—Ä—ã-—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã—Ö-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤">–ü—Ä–∏–º–µ—Ä—ã —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã—Ö –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤</a></h3>
<ol>
<li><strong>Iterable / Iterator</strong> ‚Äî —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –∏—Ç–µ—Ä–∞—Ü–∏—è</li>
<li><strong>AsyncIterable / AsyncIterator</strong> ‚Äî –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –∏—Ç–µ—Ä–∞—Ü–∏—è</li>
<li><strong>Promise / Thenable</strong> ‚Äî –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏</li>
<li><strong>EventTarget</strong> ‚Äî —Å–æ–±—ã—Ç–∏–π–Ω–∞—è –º–æ–¥–µ–ª—å</li>
<li><strong>ReadableStream / WritableStream</strong> ‚Äî –ø–æ—Ç–æ–∫–æ–≤–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞</li>
<li><strong>Map / Set</strong> ‚Äî –∫–æ–ª–ª–µ–∫—Ü–∏–∏</li>
<li><strong>AbortSignal</strong> ‚Äî –æ—Ç–º–µ–Ω–∞ –æ–ø–µ—Ä–∞—Ü–∏–π</li>
</ol>
<h2 id="–ò—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–π-–∫–æ–Ω—Ç–µ–∫—Å—Ç"><a class="header" href="#–ò—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–π-–∫–æ–Ω—Ç–µ–∫—Å—Ç">–ò—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–π –∫–æ–Ω—Ç–µ–∫—Å—Ç</a></h2>
<h3 id="–≠–≤–æ–ª—é—Ü–∏—è-–∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö-–∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤-–≤-javascript"><a class="header" href="#–≠–≤–æ–ª—é—Ü–∏—è-–∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö-–∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤-–≤-javascript">–≠–≤–æ–ª—é—Ü–∏—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö –∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤ –≤ JavaScript</a></h3>
<pre><code class="language-javascript">// 1. Callbacks (–ø–µ—Ä–≤–æ–µ –ø–æ–∫–æ–ª–µ–Ω–∏–µ)
fs.readFile('./file.txt', 'utf8', (err, data) =&gt; {
  if (err) {
    console.error(err);
  } else {
    console.log(data);
  }
});

// 2. Promises (–≤—Ç–æ—Ä–æ–µ –ø–æ–∫–æ–ª–µ–Ω–∏–µ)
readFile('./file.txt', 'utf8')
  .then(data =&gt; console.log(data))
  .catch(err =&gt; console.error(err));

// 3. Async/Await (—Ç—Ä–µ—Ç—å–µ –ø–æ–∫–æ–ª–µ–Ω–∏–µ)
try {
  const data = await readFile('./file.txt', 'utf8');
  console.log(data);
} catch (err) {
  console.error(err);
}

// 4. Async Iterators (—á–µ—Ç–≤—ë—Ä—Ç–æ–µ –ø–æ–∫–æ–ª–µ–Ω–∏–µ)
for await (const chunk of readableStream) {
  console.log(chunk);
}

// –ê–¥–∞–ø—Ç–µ—Ä—ã –ø–æ–∑–≤–æ–ª—è—é—Ç –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç—å –º–µ–∂–¥—É —ç—Ç–∏–º–∏ –ø–æ–∫–æ–ª–µ–Ω–∏—è–º–∏!
</code></pre>
<h3 id="–î—Ä—É–≥–∏–µ-–∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ-–∞–±—Å—Ç—Ä–∞–∫—Ü–∏–∏"><a class="header" href="#–î—Ä—É–≥–∏–µ-–∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ-–∞–±—Å—Ç—Ä–∞–∫—Ü–∏–∏">–î—Ä—É–≥–∏–µ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–∏</a></h3>
<ul>
<li><strong>Deferreds</strong> ‚Äî –ø—Ä–µ–¥—à–µ—Å—Ç–≤–µ–Ω–Ω–∏–∫–∏ Promise (–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏—Å—å –≤ jQuery)</li>
<li><strong>Observables</strong> ‚Äî —Ä–µ–∞–∫—Ç–∏–≤–Ω–æ–µ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ (RxJS)</li>
<li><strong>Async Generators</strong> ‚Äî –∫–æ–º–±–∏–Ω–∞—Ü–∏—è async/await –∏ generators</li>
<li><strong>Disposables</strong> ‚Äî —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–∞–º–∏</li>
</ul>
<h2 id="–†–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—ë–Ω–Ω–æ—Å—Ç—å-–ø–∞—Ç—Ç–µ—Ä–Ω–∞"><a class="header" href="#–†–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—ë–Ω–Ω–æ—Å—Ç—å-–ø–∞—Ç—Ç–µ—Ä–Ω–∞">–†–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—ë–Ω–Ω–æ—Å—Ç—å –ø–∞—Ç—Ç–µ—Ä–Ω–∞</a></h2>
<p>Adapter ‚Äî –æ–¥–∏–Ω –∏–∑ <strong>—Å–∞–º—ã—Ö —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—ë–Ω–Ω—ã—Ö –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤</strong> –≤ JavaScript –ø–æ —Å–ª–µ–¥—É—é—â–∏–º –ø—Ä–∏—á–∏–Ω–∞–º:</p>
<ol>
<li><strong>–ü–æ—Å—Ç–æ—è–Ω–Ω—ã–µ –Ω–µ—Å–æ–≤–ø–∞–¥–µ–Ω–∏—è –∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤</strong> –≤ —ç–∫–æ—Å–∏—Å—Ç–µ–º–µ JavaScript</li>
<li><strong>–≠–≤–æ–ª—é—Ü–∏—è —è–∑—ã–∫–∞</strong> ‚Äî –Ω–æ–≤—ã–µ –∫–æ–Ω—Ç—Ä–∞–∫—Ç—ã –ø–æ—è–≤–ª—è—é—Ç—Å—è, —Å—Ç–∞—Ä—ã–µ –æ—Å—Ç–∞—é—Ç—Å—è</li>
<li><strong>–ú–Ω–æ–∂–µ—Å—Ç–≤–æ –æ–∫—Ä—É–∂–µ–Ω–∏–π</strong> ‚Äî –±—Ä–∞—É–∑–µ—Ä, Node.js, Deno, Bun</li>
<li><strong>–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –±–∏–±–ª–∏–æ—Ç–µ–∫</strong> ‚Äî —Ä–∞–∑–Ω—ã–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç —Ä–∞–∑–Ω—ã–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã</li>
<li><strong>–ú–µ–∂–ø–ª–∞—Ç—Ñ–æ—Ä–º–µ–Ω–Ω–æ—Å—Ç—å</strong> ‚Äî –æ–¥–∏–Ω –∫–æ–¥ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –ø–ª–∞—Ç—Ñ–æ—Ä–º</li>
</ol>
<h3 id="–ü—Ä–∏–º–µ—Ä—ã-–ø–æ–≤—Å–µ–º–µ—Å—Ç–Ω–æ–≥–æ-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è"><a class="header" href="#–ü—Ä–∏–º–µ—Ä—ã-–ø–æ–≤—Å–µ–º–µ—Å—Ç–Ω–æ–≥–æ-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è">–ü—Ä–∏–º–µ—Ä—ã –ø–æ–≤—Å–µ–º–µ—Å—Ç–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è</a></h3>
<pre><code class="language-javascript">// –í Node.js
util.promisify()      // Callback ‚Üí Promise
stream.pipeline()     // –°—Ç—ã–∫–æ–≤–∫–∞ —Å—Ç—Ä–∏–º–æ–≤
Buffer.from()         // –†–∞–∑–ª–∏—á–Ω—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã ‚Üí Buffer

// –í –±—Ä–∞—É–∑–µ—Ä–∞—Ö
fetch()               // XMLHttpRequest ‚Üí Promise
new Response()        // Stream ‚Üí Response
new FormData()        // –û–±—ä–µ–∫—Ç ‚Üí FormData

// –ë–∏–±–ª–∏–æ—Ç–µ–∫–∏
axios                 // –ê–¥–∞–ø—Ç–µ—Ä –¥–ª—è XHR –∏ fetch
bluebird.promisify()  // Callback ‚Üí Promise
lodash.wrap()         // –§—É–Ω–∫—Ü–∏—è ‚Üí –æ–±—ë—Ä–Ω—É—Ç–∞—è —Ñ—É–Ω–∫—Ü–∏—è
</code></pre>
<h2 id="–í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ-—Å-–¥—Ä—É–≥–∏–º–∏-—è–∑—ã–∫–∞–º–∏"><a class="header" href="#–í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ-—Å-–¥—Ä—É–≥–∏–º–∏-—è–∑—ã–∫–∞–º–∏">–í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Å –¥—Ä—É–≥–∏–º–∏ —è–∑—ã–∫–∞–º–∏</a></h2>
<p>–ó–Ω–∞–Ω–∏–µ –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤ –∏ —Ç–µ—Ä–º–∏–Ω–æ–ª–æ–≥–∏–∏ –ø–æ–∑–≤–æ–ª—è–µ—Ç –æ–±—â–∞—Ç—å—Å—è —Å —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞–º–∏ –∏–∑ –¥—Ä—É–≥–∏—Ö —ç–∫–æ—Å–∏—Å—Ç–µ–º:</p>
<ul>
<li><strong>Java</strong> ‚Äî –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã, –∞–¥–∞–ø—Ç–µ—Ä—ã –∫–ª–∞—Å—Å–æ–≤</li>
<li><strong>C#</strong> ‚Äî —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è, –¥–µ–ª–µ–≥–∞—Ç—ã, –∞–¥–∞–ø—Ç–µ—Ä—ã</li>
<li><strong>C++</strong> ‚Äî —à–∞–±–ª–æ–Ω—ã –∞–¥–∞–ø—Ç–µ—Ä–æ–≤, proxy</li>
<li><strong>Python</strong> ‚Äî –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä—ã, wrapper</li>
<li><strong>PHP</strong> ‚Äî trait, adapter</li>
<li><strong>Kotlin</strong> ‚Äî extension functions</li>
<li><strong>Go</strong> ‚Äî interface{}, type embedding</li>
</ul>
<p><strong>–í–∞–∂–Ω–æ:</strong> –¢–µ—Ä–º–∏–Ω–æ–ª–æ–≥–∏—è –ø–æ–º–æ–≥–∞–µ—Ç —Å–æ–∑–¥–∞—Ç—å –æ–±—â–∏–π —è–∑—ã–∫ –¥–ª—è –æ–±—Å—É–∂–¥–µ–Ω–∏—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã –∏ –¥–∏–∑–∞–π–Ω–∞.</p>
<h2 id="–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è-–∏-–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å"><a class="header" href="#–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è-–∏-–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å">–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å</a></h2>
<h3 id="v8-–æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏-–¥–ª—è-—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã—Ö-–∞–¥–∞–ø—Ç–µ—Ä–æ–≤"><a class="header" href="#v8-–æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏-–¥–ª—è-—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã—Ö-–∞–¥–∞–ø—Ç–µ—Ä–æ–≤">V8 –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –¥–ª—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã—Ö –∞–¥–∞–ø—Ç–µ—Ä–æ–≤</a></h3>
<pre><code class="language-javascript">// –≠—Ç–æ—Ç –∫–æ–¥ –û–ß–ï–ù–¨ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–µ–Ω –¥–ª—è V8
function createAdapter(data) {
  // –í—Å–µ–≥–¥–∞ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º –æ–±—ä–µ–∫—Ç —Å –æ–¥–∏–Ω–∞–∫–æ–≤–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π
  return {
    get() { return data; },
    set(value) { data = value; },
    transform(fn) { return fn(data); }
  };
}

// V8 —Å–æ–∑–¥–∞—ë—Ç "hidden class" (—Ñ–æ—Ä–º—É –æ–±—ä–µ–∫—Ç–∞)
// –í—Å–µ –æ–±—ä–µ–∫—Ç—ã –∏–º–µ—é—Ç –æ–¥–∏–Ω–∞–∫–æ–≤—É—é —Ñ–æ—Ä–º—É
// –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ inline caching —Ä–∞–±–æ—Ç–∞—é—Ç –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ

const adapter1 = createAdapter(10);
const adapter2 = createAdapter(20);
const adapter3 = createAdapter(30);

// –í—Å–µ —Ç—Ä–∏ –æ–±—ä–µ–∫—Ç–∞ –∏–º–µ—é—Ç –û–î–ò–ù–ê–ö–û–í–£–Æ –≤–Ω—É—Ç—Ä–µ–Ω–Ω—é—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É
// V8 –º–æ–∂–µ—Ç –ø—Ä–∏–º–µ–Ω–∏—Ç—å –∞–≥—Ä–µ—Å—Å–∏–≤–Ω—É—é –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—é
</code></pre>
<h3 id="–ê–Ω—Ç–∏–ø–∞—Ç—Ç–µ—Ä–Ω—ã-–≤—ã–∑—ã–≤–∞—é—â–∏–µ-–¥–µ–æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—é"><a class="header" href="#–ê–Ω—Ç–∏–ø–∞—Ç—Ç–µ—Ä–Ω—ã-–≤—ã–∑—ã–≤–∞—é—â–∏–µ-–¥–µ–æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—é">–ê–Ω—Ç–∏–ø–∞—Ç—Ç–µ—Ä–Ω—ã, –≤—ã–∑—ã–≤–∞—é—â–∏–µ –¥–µ–æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—é</a></h3>
<pre><code class="language-javascript">// –ü–õ–û–•–û - –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ —Å–≤–æ–π—Å—Ç–≤
function createBadAdapter(data) {
  const obj = { get() { return data; } };

  // –ò–∑–º–µ–Ω—è–µ–º —Å—Ç—Ä—É–∫—Ç—É—Ä—É –ø–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è
  if (typeof data === 'string') {
    obj.length = () =&gt; data.length; // –î–µ–æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è!
  }

  return obj;
}
</code></pre>
<h2 id="–ö–ª—é—á–µ–≤—ã–µ-–≤—ã–≤–æ–¥—ã-22"><a class="header" href="#–ö–ª—é—á–µ–≤—ã–µ-–≤—ã–≤–æ–¥—ã-22">–ö–ª—é—á–µ–≤—ã–µ –≤—ã–≤–æ–¥—ã</a></h2>
<h3 id="–ö–æ–≥–¥–∞-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å-adapter"><a class="header" href="#–ö–æ–≥–¥–∞-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å-adapter">–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Adapter</a></h3>
<p>‚úÖ <strong>–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∞–¥–∞–ø—Ç–µ—Ä –∫–æ–≥–¥–∞:</strong></p>
<ul>
<li>–ù—É–∂–Ω–æ —Å–æ—Å—Ç—ã–∫–æ–≤–∞—Ç—å –¥–≤–∞ –Ω–µ—Å–æ–≤–º–µ—Å—Ç–∏–º—ã—Ö –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞</li>
<li>–•–æ—Ç–∏—Ç–µ —Å–∫—Ä—ã—Ç—å –¥–µ—Ç–∞–ª–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –∑–∞ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º</li>
<li>–¢—Ä–µ–±—É–µ—Ç—Å—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–π –æ–¥–Ω–æ–≥–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞</li>
<li>–ù–µ–æ–±—Ö–æ–¥–∏–º–æ –∏–∑–æ–ª–∏—Ä–æ–≤–∞—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö –±–∏–±–ª–∏–æ—Ç–µ–∫/–ø–ª–∞—Ç—Ñ–æ—Ä–º</li>
<li>–ù—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å –∫–æ–¥ –±–æ–ª–µ–µ —Ç–µ—Å—Ç–∏—Ä—É–µ–º—ã–º</li>
</ul>
<p>‚ùå <strong>–ù–ï –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∞–¥–∞–ø—Ç–µ—Ä –∫–æ–≥–¥–∞:</strong></p>
<ul>
<li>–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã —É–∂–µ —Å–æ–≤–º–µ—Å—Ç–∏–º—ã</li>
<li>–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∞–¥–∞–ø—Ç–µ—Ä–∞ —Å–æ–∑–¥–∞—ë—Ç –∏–∑–±—ã—Ç–æ—á–Ω—É—é —Å–ª–æ–∂–Ω–æ—Å—Ç—å</li>
<li>–ú–æ–∂–Ω–æ –ø—Ä–æ—Å—Ç–æ –∏–∑–º–µ–Ω–∏—Ç—å –∏—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥</li>
</ul>
<h3 id="–ó–æ–ª–æ—Ç—ã–µ-–ø—Ä–∞–≤–∏–ª–∞"><a class="header" href="#–ó–æ–ª–æ—Ç—ã–µ-–ø—Ä–∞–≤–∏–ª–∞">–ó–æ–ª–æ—Ç—ã–µ –ø—Ä–∞–≤–∏–ª–∞</a></h3>
<ol>
<li><strong>–°–∫—Ä—ã–≤–∞–π—Ç–µ —Å–ª–æ–∂–Ω–æ—Å—Ç—å –∑–∞ –∞–¥–∞–ø—Ç–µ—Ä–∞–º–∏</strong> ‚Äî –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å —á–∏—Å—Ç–æ–π</li>
<li><strong>–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã</strong> ‚Äî Iterable, Promise, EventTarget –∏ —Ç.–¥.</li>
<li><strong>–ö–æ–º–±–∏–Ω–∏—Ä—É–π—Ç–µ —Å –¥—Ä—É–≥–∏–º–∏ –ø–∞—Ç—Ç–µ—Ä–Ω–∞–º–∏</strong> ‚Äî Strategy, Factory, Revealing Constructor</li>
<li><strong>–î—É–º–∞–π—Ç–µ –æ —Ç–µ—Å—Ç–∏—Ä—É–µ–º–æ—Å—Ç–∏</strong> ‚Äî –∞–¥–∞–ø—Ç–µ—Ä –¥–æ–ª–∂–µ–Ω –ª–µ–≥–∫–æ –º–æ–∫–∏—Ä–æ–≤–∞—Ç—å—Å—è</li>
<li><strong>–ü–æ–º–Ω–∏—Ç–µ –æ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏</strong> ‚Äî —Å—Ç–∞–±–∏–ª—å–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –æ–±—ä–µ–∫—Ç–æ–≤ = –±—ã—Å—Ç—Ä—ã–π –∫–æ–¥</li>
</ol>
<h2 id="–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ-—Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏-9"><a class="header" href="#–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ-—Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏-9">–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏</a></h2>
<h3 id="–ß–µ–∫-–ª–∏—Å—Ç-–ø—Ä–∏-–ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏-–∞–¥–∞–ø—Ç–µ—Ä–∞"><a class="header" href="#–ß–µ–∫-–ª–∏—Å—Ç-–ø—Ä–∏-–ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏-–∞–¥–∞–ø—Ç–µ—Ä–∞">–ß–µ–∫-–ª–∏—Å—Ç –ø—Ä–∏ –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ –∞–¥–∞–ø—Ç–µ—Ä–∞</a></h3>
<ul>
<li><input disabled="" type="checkbox"/>
–û–ø—Ä–µ–¥–µ–ª—ë–Ω —á—ë—Ç–∫–∏–π –∫–æ–Ω—Ç—Ä–∞–∫—Ç –≤—Ö–æ–¥–∞ (—á—Ç–æ –∞–¥–∞–ø—Ç–∏—Ä—É–µ–º)</li>
<li><input disabled="" type="checkbox"/>
–û–ø—Ä–µ–¥–µ–ª—ë–Ω —á—ë—Ç–∫–∏–π –∫–æ–Ω—Ç—Ä–∞–∫—Ç –≤—ã—Ö–æ–¥–∞ (–≤–æ —á—Ç–æ –∞–¥–∞–ø—Ç–∏—Ä—É–µ–º)</li>
<li><input disabled="" type="checkbox"/>
–í—ã–±—Ä–∞–Ω —Å–ø–æ—Å–æ–± —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ (extends/composition/aggregation)</li>
<li><input disabled="" type="checkbox"/>
–†–µ—à–µ–Ω–æ –≥–¥–µ —Ö—Ä–∞–Ω–∏—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ (closure/fields/WeakMap)</li>
<li><input disabled="" type="checkbox"/>
–£—á—Ç–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫</li>
<li><input disabled="" type="checkbox"/>
–ü—Ä–æ–¥—É–º–∞–Ω–∞ –æ—á–∏—Å—Ç–∫–∞ —Ä–µ—Å—É—Ä—Å–æ–≤ (–µ—Å–ª–∏ –Ω—É–∂–Ω–∞)</li>
<li><input disabled="" type="checkbox"/>
–ù–∞–ø–∏—Å–∞–Ω—ã —Ç–µ—Å—Ç—ã –¥–ª—è –≤—Å–µ—Ö –º–µ—Ç–æ–¥–æ–≤ –∞–¥–∞–ø—Ç–µ—Ä–∞</li>
<li><input disabled="" type="checkbox"/>
–ü—Ä–æ–≤–µ—Ä–µ–Ω–∞ —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å —Ü–µ–ª–µ–≤—ã–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º</li>
</ul>
<h3 id="–ü–∞—Ç—Ç–µ—Ä–Ω—ã-–∏–º–µ–Ω–æ–≤–∞–Ω–∏—è"><a class="header" href="#–ü–∞—Ç—Ç–µ—Ä–Ω—ã-–∏–º–µ–Ω–æ–≤–∞–Ω–∏—è">–ü–∞—Ç—Ç–µ—Ä–Ω—ã –∏–º–µ–Ω–æ–≤–∞–Ω–∏—è</a></h3>
<pre><code class="language-javascript">// –•–æ—Ä–æ—à–∏–µ –∏–º–µ–Ω–∞ –∞–¥–∞–ø—Ç–µ—Ä–æ–≤
promisify()           // Verb - –æ–ø–∏—Å—ã–≤–∞–µ—Ç –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ
ArrayToQueue          // SourceToTarget - –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
HashMapFS             // TargetStorage - —Ü–µ–ª—å + —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è
TargetIterator        // SourceAdapter - —á—Ç–æ –∞–¥–∞–ø—Ç–∏—Ä—É–µ–º

// –ü–ª–æ—Ö–∏–µ –∏–º–µ–Ω–∞
Adapter               // –°–ª–∏—à–∫–æ–º –æ–±—â–µ–µ
Helper                // –ù–µ–ø–æ–Ω—è—Ç–Ω–æ–µ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ
Utils                 // –ù–µ–∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω–æ–µ
</code></pre>
<h2 id="–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ-–º–∞—Ç–µ—Ä–∏–∞–ª—ã-9"><a class="header" href="#–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ-–º–∞—Ç–µ—Ä–∏–∞–ª—ã-9">–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã</a></h2>
<h3 id="–°–≤—è–∑–∞–Ω–Ω—ã–µ-–ø–∞—Ç—Ç–µ—Ä–Ω—ã-3"><a class="header" href="#–°–≤—è–∑–∞–Ω–Ω—ã–µ-–ø–∞—Ç—Ç–µ—Ä–Ω—ã-3">–°–≤—è–∑–∞–Ω–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã</a></h3>
<ul>
<li><strong>Facade</strong> ‚Äî —É–ø—Ä–æ—â–∞–µ—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Å–ª–æ–∂–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã</li>
<li><strong>Proxy</strong> ‚Äî –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ—Ç –¥–æ—Å—Ç—É–ø –∫ –æ–±—ä–µ–∫—Ç—É</li>
<li><strong>Decorator</strong> ‚Äî –¥–æ–±–∞–≤–ª—è–µ—Ç —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –æ–±—ä–µ–∫—Ç—É</li>
<li><strong>Bridge</strong> ‚Äî —Ä–∞–∑–¥–µ–ª—è–µ—Ç –∞–±—Å—Ç—Ä–∞–∫—Ü–∏—é –∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é</li>
<li><strong>Strategy</strong> ‚Äî –∏–Ω–∫–∞–ø—Å—É–ª–∏—Ä—É–µ—Ç —Å–µ–º–µ–π—Å—Ç–≤–æ –∞–ª–≥–æ—Ä–∏—Ç–º–æ–≤</li>
</ul>
<h3 id="–ü—Ä–∏–º–µ—Ä—ã-–∏–∑-—Ä–µ–∞–ª—å–Ω—ã—Ö-–ø—Ä–æ–µ–∫—Ç–æ–≤"><a class="header" href="#–ü—Ä–∏–º–µ—Ä—ã-–∏–∑-—Ä–µ–∞–ª—å–Ω—ã—Ö-–ø—Ä–æ–µ–∫—Ç–æ–≤">–ü—Ä–∏–º–µ—Ä—ã –∏–∑ —Ä–µ–∞–ª—å–Ω—ã—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤</a></h3>
<pre><code class="language-javascript">// Express.js middleware ‚Äî –∞–¥–∞–ø—Ç–µ—Ä—ã –¥–ª—è HTTP
app.use(express.json());        // Body parser adapter
app.use(express.static('./'));  // Static files adapter

// Mongoose ‚Äî –∞–¥–∞–ø—Ç–µ—Ä MongoDB –∫ ORM –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É
const User = mongoose.model('User', schema);

// Sequelize ‚Äî –∞–¥–∞–ø—Ç–µ—Ä SQL –∫ ORM –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É
const User = sequelize.define('User', { ... });

// Socket.io ‚Äî –∞–¥–∞–ø—Ç–µ—Ä WebSocket –∫ —Å–æ–±—ã—Ç–∏–π–Ω–æ–π –º–æ–¥–µ–ª–∏
io.on('connection', socket =&gt; { ... });
</code></pre>
<h2 id="–ó–∞–∫–ª—é—á–µ–Ω–∏–µ-13"><a class="header" href="#–ó–∞–∫–ª—é—á–µ–Ω–∏–µ-13">–ó–∞–∫–ª—é—á–µ–Ω–∏–µ</a></h2>
<p>–ü–∞—Ç—Ç–µ—Ä–Ω Adapter ‚Äî —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–∞–ª—å–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –≤ –∞—Ä—Å–µ–Ω–∞–ª–µ JavaScript/TypeScript —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞. –û–Ω —Ä–µ—à–∞–µ—Ç –æ–¥–Ω—É –∏–∑ —Å–∞–º—ã—Ö —á–∞—Å—Ç—ã—Ö –∑–∞–¥–∞—á ‚Äî –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –Ω–µ—Å–æ–≤–º–µ—Å—Ç–∏–º—ã—Ö –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤ ‚Äî –∏ –¥–µ–ª–∞–µ—Ç —ç—Ç–æ —ç–ª–µ–≥–∞–Ω—Ç–Ω–æ –∏ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ.</p>
<p><strong>–û—Å–Ω–æ–≤–Ω–∞—è —Ü–µ–Ω–Ω–æ—Å—Ç—å –∞–¥–∞–ø—Ç–µ—Ä–∞:</strong></p>
<ul>
<li>–†–∞–∑–≤—è–∑—ã–≤–∞–µ—Ç –∫–æ–¥ –∏ –ø–æ–≤—ã—à–∞–µ—Ç –≥–∏–±–∫–æ—Å—Ç—å</li>
<li>–°–∫—Ä—ã–≤–∞–µ—Ç —Å–ª–æ–∂–Ω–æ—Å—Ç—å –∑–∞ –ø—Ä–æ—Å—Ç—ã–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º</li>
<li>–û–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –ø–µ—Ä–µ–Ω–æ—Å–∏–º–æ—Å—Ç—å –º–µ–∂–¥—É –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞–º–∏</li>
<li>–£–ª—É—á—à–∞–µ—Ç —Ç–µ—Å—Ç–∏—Ä—É–µ–º–æ—Å—Ç—å –∫–æ–¥–∞</li>
<li>–ü–æ–∑–≤–æ–ª—è–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –∫–æ–Ω—Ç—Ä–∞–∫—Ç—ã</li>
</ul>
<p>–ì–ª—É–±–æ–∫–æ–µ –ø–æ–Ω–∏–º–∞–Ω–∏–µ —ç—Ç–æ–≥–æ –ø–∞—Ç—Ç–µ—Ä–Ω–∞ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç –ø—É—Ç—å –∫ –Ω–∞–ø–∏—Å–∞–Ω–∏—é –ø–æ-–Ω–∞—Å—Ç–æ—è—â–µ–º—É –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–æ–≥–æ, –≥–∏–±–∫–æ–≥–æ –∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º–æ–≥–æ –∫–æ–¥–∞.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="–ü–∞—Ç—Ç–µ—Ä–Ω-proxy-–ü—Ä–æ–∫—Å–∏--gof-–∏-–≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π-–∫–ª–∞—Å—Å-proxy-–≤-javascript"><a class="header" href="#–ü–∞—Ç—Ç–µ—Ä–Ω-proxy-–ü—Ä–æ–∫—Å–∏--gof-–∏-–≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π-–∫–ª–∞—Å—Å-proxy-–≤-javascript">–ü–∞—Ç—Ç–µ—Ä–Ω Proxy (–ü—Ä–æ–∫—Å–∏) ‚Äî GoF –∏ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –∫–ª–∞—Å—Å Proxy –≤ JavaScript</a></h1>
<h2 id="–û–±–∑–æ—Ä-21"><a class="header" href="#–û–±–∑–æ—Ä-21">–û–±–∑–æ—Ä</a></h2>
<p>–ü–∞—Ç—Ç–µ—Ä–Ω Proxy (–ü—Ä–æ–∫—Å–∏) ‚Äî —ç—Ç–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–Ω—ã–π –ø–∞—Ç—Ç–µ—Ä–Ω –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏–∑ –∫–∞—Ç–∞–ª–æ–≥–∞ Gang of Four, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞—Ç—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞–¥ –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–µ–π –∏ –æ–±–æ—Ä–∞—á–∏–≤–∞—Ç—å –µ—ë. –í JavaScript —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –∫–ª–∞—Å—Å <code>Proxy</code>, –∫–æ—Ç–æ—Ä—ã–π —Ä–µ—à–∞–µ—Ç —Å—Ö–æ–∂—É—é –∑–∞–¥–∞—á—É, –Ω–æ –¥—Ä—É–≥–∏–º —Å–ø–æ—Å–æ–±–æ–º. –≠—Ç–æ—Ç –ø–∞—Ç—Ç–µ—Ä–Ω –æ—Ç–Ω–æ—Å–∏—Ç—Å—è –∫ —Å–µ–º–µ–π—Å—Ç–≤—É –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤, –≤–∫–ª—é—á–∞—é—â–µ–º—É Adapter –∏ Facade, –∫–æ—Ç–æ—Ä—ã–µ –∏–º–µ—é—Ç –ø–æ—Ö–æ–∂–∏–µ —Ü–µ–ª–∏ –∏ –∑–∞–¥–∞—á–∏.</p>
<h2 id="–û—Å–Ω–æ–≤–Ω—ã–µ-–∫–æ–Ω—Ü–µ–ø—Ü–∏–∏-6"><a class="header" href="#–û—Å–Ω–æ–≤–Ω—ã–µ-–∫–æ–Ω—Ü–µ–ø—Ü–∏–∏-6">–û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏</a></h2>
<h3 id="–°—É—Ç—å-–ø–∞—Ç—Ç–µ—Ä–Ω–∞-proxy"><a class="header" href="#–°—É—Ç—å-–ø–∞—Ç—Ç–µ—Ä–Ω–∞-proxy">–°—É—Ç—å –ø–∞—Ç—Ç–µ—Ä–Ω–∞ Proxy</a></h3>
<p><strong>–û—Å–Ω–æ–≤–Ω–∞—è –∑–∞–¥–∞—á–∞</strong> –ø–∞—Ç—Ç–µ—Ä–Ω–∞ Proxy ‚Äî <strong>–ø–µ—Ä–µ—Ö–≤–∞—Ç —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –Ω–∞–¥ –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–µ–π –∏ –µ—ë –æ–±—ë—Ä—Ç–∫–∞</strong>.</p>
<p>–ú–æ–∂–Ω–æ –æ–±–æ—Ä–∞—á–∏–≤–∞—Ç—å –ª—é–±—É—é –∞–±—Å—Ç—Ä–∞–∫—Ü–∏—é:</p>
<ul>
<li>–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—É—é (—Ñ—É–Ω–∫—Ç–æ—Ä—ã, —Ñ—É–Ω–∫—Ü–∏–∏)</li>
<li>–û–±—ä–µ–∫—Ç–Ω—É—é (—ç–∫–∑–µ–º–ø–ª—è—Ä—ã –∫–ª–∞—Å—Å–æ–≤, –æ–±—ä–µ–∫—Ç—ã)</li>
<li>–õ—é–±—ã–µ –¥—Ä—É–≥–∏–µ —Å—É—â–Ω–æ—Å—Ç–∏</li>
</ul>
<h3 id="–†–∞–∑–ª–∏—á–∏—è-–º–µ–∂–¥—É-gof-proxy-–∏-–≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–º-proxy-–≤-javascript"><a class="header" href="#–†–∞–∑–ª–∏—á–∏—è-–º–µ–∂–¥—É-gof-proxy-–∏-–≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–º-proxy-–≤-javascript">–†–∞–∑–ª–∏—á–∏—è –º–µ–∂–¥—É GoF Proxy –∏ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–º Proxy –≤ JavaScript</a></h3>
<div class="table-wrapper"><table><thead><tr><th>–ê—Å–ø–µ–∫—Ç</th><th>GoF Proxy</th><th>JavaScript Proxy</th></tr></thead><tbody>
<tr><td><strong>–†–µ–∞–ª–∏–∑–∞—Ü–∏—è</strong></td><td>–ß–µ—Ä–µ–∑ –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ –∏ –¥–µ–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ</td><td>–ß–µ—Ä–µ–∑ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –º–µ—Ö–∞–Ω–∏–∑–º –ø–µ—Ä–µ—Ö–≤–∞—Ç—á–∏–∫–æ–≤</td></tr>
<tr><td><strong>–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å</strong></td><td>–ë–æ–ª–µ–µ –ª–µ–≥–∫–æ–≤–µ—Å–Ω—ã–π, –º–µ–Ω—å—à–µ –Ω–∞–∫–ª–∞–¥–Ω—ã—Ö —Ä–∞—Å—Ö–æ–¥–æ–≤</td><td>–ë–æ–ª—å—à–∏–π overhead –Ω–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å</td></tr>
<tr><td><strong>–ì–∏–±–∫–æ—Å—Ç—å</strong></td><td>–¢—Ä–µ–±—É–µ—Ç —è–≤–Ω–æ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞</td><td>–ú–æ–∂–µ—Ç –ø–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞—Ç—å –ª—é–±—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏</td></tr>
<tr><td><strong>–°–ª–æ–∂–Ω–æ—Å—Ç—å –∫–æ–¥–∞</strong></td><td>–ë–æ–ª—å—à–µ –∫–æ–¥–∞, —Å–ª–æ–∂–Ω–µ–µ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞</td><td>–ö–æ–º–ø–∞–∫—Ç–Ω–µ–µ, –Ω–æ —Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è–º–∏</td></tr>
</tbody></table>
</div>
<h2 id="–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞-–ø–∞—Ç—Ç–µ—Ä–Ω–∞-proxy"><a class="header" href="#–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞-–ø–∞—Ç—Ç–µ—Ä–Ω–∞-proxy">–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –ø–∞—Ç—Ç–µ—Ä–Ω–∞ Proxy</a></h2>
<h3 id="1-–î–æ–±–∞–≤–ª–µ–Ω–∏–µ-—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏-–±–µ–∑-–Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è"><a class="header" href="#1-–î–æ–±–∞–≤–ª–µ–Ω–∏–µ-—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏-–±–µ–∑-–Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è">1. –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏ –±–µ–∑ –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è</a></h3>
<p>–í–º–µ—Å—Ç–æ —Å–æ–∑–¥–∞–Ω–∏—è –Ω–∞—Å–ª–µ–¥–Ω–∏–∫–∞ –∫–ª–∞—Å—Å–∞ –∏ —É–≤–µ–ª–∏—á–µ–Ω–∏—è –¥–µ—Ä–µ–≤–∞ –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è, –º–æ–∂–Ω–æ:</p>
<ul>
<li>–£–ø—Ä–æ—Å—Ç–∏—Ç—å –∑–∞–¥–∞—á—É —á–µ—Ä–µ–∑ –∫–æ–º–ø–æ–∑–∏—Ü–∏—é</li>
<li>–ò–∑–±–µ–∂–∞—Ç—å —Å–æ–∑–¥–∞–Ω–∏—è –º–Ω–æ–∂–µ—Å—Ç–≤–∞ –∫–ª–∞—Å—Å–æ–≤</li>
<li>–ü—Ä–∏–º–µ–Ω–∏—Ç—å –æ–¥–Ω—É –∏ —Ç—É –∂–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –∫ –¥–µ—Å—è—Ç–∫–∞–º –∫–ª–∞—Å—Å–æ–≤</li>
</ul>
<p><strong>–ü—Ä–∏–º–µ—Ä –ø—Ä–æ–±–ª–µ–º—ã —Å –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ–º:</strong></p>
<pre><code class="language-javascript">// –ü—Ä–∏ –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–∏: –æ–¥–Ω–∞ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å = –æ–¥–∏–Ω –Ω–æ–≤—ã–π –∫–ª–∞—Å—Å
class BaseClass {
  doSomething() { }
}

class DerivedWithLogging extends BaseClass {
  doSomething() {
    console.log('Logging...');
    super.doSomething();
  }
}

// –ù—É–∂–Ω–∞ —Ç–∞ –∂–µ –ª–æ–≥–∏–∫–∞ –¥–ª—è –¥—Ä—É–≥–æ–≥–æ –∫–ª–∞—Å—Å–∞? –ï—â—ë –æ–¥–∏–Ω –Ω–∞—Å–ª–µ–¥–Ω–∏–∫!
class AnotherDerivedWithLogging extends AnotherClass {
  doSomething() {
    console.log('Logging...');
    super.doSomething();
  }
}
</code></pre>
<p><strong>–†–µ—à–µ–Ω–∏–µ —á–µ—Ä–µ–∑ Proxy:</strong></p>
<pre><code class="language-javascript">// –û–¥–∏–Ω –ø—Ä–æ–∫—Å–∏ –¥–ª—è –º–Ω–æ–≥–∏—Ö –∫–ª–∞—Å—Å–æ–≤ —Å –ø–æ–¥—Ö–æ–¥—è—â–∏–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º
class LoggingProxy {
  constructor(target) {
    this.target = target;
  }

  doSomething() {
    console.log('Logging...');
    return this.target.doSomething();
  }
}

// –ü—Ä–∏–º–µ–Ω—è–µ–º –∫ –ª—é–±–æ–º—É –æ–±—ä–µ–∫—Ç—É
const proxy1 = new LoggingProxy(new BaseClass());
const proxy2 = new LoggingProxy(new AnotherClass());
</code></pre>
<h3 id="2-–î–æ–±–∞–≤–ª–µ–Ω–∏–µ-–∫—Ä–æ—Å—Å-—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã—Ö-–≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π"><a class="header" href="#2-–î–æ–±–∞–≤–ª–µ–Ω–∏–µ-–∫—Ä–æ—Å—Å-—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã—Ö-–≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π">2. –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∫—Ä–æ—Å—Å-—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã—Ö –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π</a></h3>
<p>–ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–ª—è—Ç—å —Ä–∞–∑–ª–∏—á–Ω—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã:</p>
<ul>
<li><strong>–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ</strong> (logging)</li>
<li><strong>–¢–µ–ª–µ–º–µ—Ç—Ä–∏—è</strong> (telemetry)</li>
<li><strong>–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ</strong></li>
<li><strong>–í–∞–ª–∏–¥–∞—Ü–∏—è</strong></li>
<li><strong>–ö–æ–Ω—Ç—Ä–æ–ª—å –¥–æ—Å—Ç—É–ø–∞</strong></li>
</ul>
<p>–≠—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–æ—á—Ç–∏ –∫–∞–∫ –ø—Ä–∏–º–µ—Å—å (mixin), –Ω–æ –±–µ–∑ —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–æ–≥–æ –ø—Ä–∏–º–µ—à–∏–≤–∞–Ω–∏—è –∫–æ–¥–∞.</p>
<h3 id="3-–°–æ–∫—Ä–∞—â–µ–Ω–∏–µ-–∫–æ–ª–∏—á–µ—Å—Ç–≤–∞-–∫–ª–∞—Å—Å–æ–≤"><a class="header" href="#3-–°–æ–∫—Ä–∞—â–µ–Ω–∏–µ-–∫–æ–ª–∏—á–µ—Å—Ç–≤–∞-–∫–ª–∞—Å—Å–æ–≤">3. –°–æ–∫—Ä–∞—â–µ–Ω–∏–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –∫–ª–∞—Å—Å–æ–≤</a></h3>
<p>–ü—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ –ø—Ä–æ–∫—Å–∏ –º–æ–∂–Ω–æ –æ–±–µ—Ä–Ω—É—Ç—å –º–Ω–æ–∂–µ—Å—Ç–≤–æ –æ–±—ä–µ–∫—Ç–æ–≤, –ø–æ–¥—Ö–æ–¥—è—â–∏—Ö –ø–æ–¥ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å, –±–µ–∑ —Å–æ–∑–¥–∞–Ω–∏—è –æ—Ç–¥–µ–ª—å–Ω–æ–≥–æ –∫–ª–∞—Å—Å–∞ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –≤–∞—Ä–∏–∞–Ω—Ç–∞.</p>
<h2 id="–ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏-–ø–∞—Ç—Ç–µ—Ä–Ω–∞-proxy"><a class="header" href="#–ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏-–ø–∞—Ç—Ç–µ—Ä–Ω–∞-proxy">–ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏ –ø–∞—Ç—Ç–µ—Ä–Ω–∞ Proxy</a></h2>
<h3 id="1-–ù–∞–∫–ª–∞–¥–Ω—ã–µ-—Ä–∞—Å—Ö–æ–¥—ã-–Ω–∞-–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å"><a class="header" href="#1-–ù–∞–∫–ª–∞–¥–Ω—ã–µ-—Ä–∞—Å—Ö–æ–¥—ã-–Ω–∞-–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å">1. –ù–∞–∫–ª–∞–¥–Ω—ã–µ —Ä–∞—Å—Ö–æ–¥—ã –Ω–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å</a></h3>
<p><strong>–î–ª—è –≤—Å—Ç—Ä–æ–µ–Ω–Ω–æ–≥–æ JavaScript Proxy:</strong></p>
<ul>
<li>–û—á–µ–Ω—å –±–æ–ª—å—à–æ–π penalty –ø–æ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏</li>
<li>–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã –ø–∞–º—è—Ç–∏</li>
<li>–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã</li>
<li>–í—Å–µ –≤—ã–∑–æ–≤—ã –æ–±–æ—Ä–∞—á–∏–≤–∞—é—Ç—Å—è</li>
</ul>
<p><strong>–î–ª—è GoF Proxy:</strong></p>
<ul>
<li>–ú–µ–Ω—å—à–µ –Ω–∞–∫–ª–∞–¥–Ω—ã—Ö —Ä–∞—Å—Ö–æ–¥–æ–≤</li>
<li>–ë–æ–ª–µ–µ –ª–µ–≥–∫–æ–≤–µ—Å–Ω—ã–π</li>
<li>–ù–æ –≤—Å—ë —Ä–∞–≤–Ω–æ –µ—Å—Ç—å overhead</li>
</ul>
<h3 id="2-–£—Å–ª–æ–∂–Ω–µ–Ω–∏–µ-–∫–æ–¥–∞"><a class="header" href="#2-–£—Å–ª–æ–∂–Ω–µ–Ω–∏–µ-–∫–æ–¥–∞">2. –£—Å–ª–æ–∂–Ω–µ–Ω–∏–µ –∫–æ–¥–∞</a></h3>
<ul>
<li>–ö–æ–¥ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –±–æ–ª—å—à–µ</li>
<li>–°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è —Å–ª–æ–∂–Ω–µ–µ</li>
<li>–ü–æ—è–≤–ª—è—é—Ç—Å—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —É—Ä–æ–≤–Ω–∏ –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–∏</li>
</ul>
<h2 id="–í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π-–∫–ª–∞—Å—Å-proxy-–≤-javascript"><a class="header" href="#–í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π-–∫–ª–∞—Å—Å-proxy-–≤-javascript">–í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –∫–ª–∞—Å—Å Proxy –≤ JavaScript</a></h2>
<h3 id="–û—Å–Ω–æ–≤—ã-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è"><a class="header" href="#–û—Å–Ω–æ–≤—ã-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è">–û—Å–Ω–æ–≤—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è</a></h3>
<p>JavaScript –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –∫–ª–∞—Å—Å <code>Proxy</code>, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞—Ç—å –æ–ø–µ—Ä–∞—Ü–∏–∏ –Ω–∞–¥ –æ–±—ä–µ–∫—Ç–∞–º–∏.</p>
<h4 id="–ü—Ä–∏–º–µ—Ä-–±–∞–∑–æ–≤–æ–µ-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ-proxy"><a class="header" href="#–ü—Ä–∏–º–µ—Ä-–±–∞–∑–æ–≤–æ–µ-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ-proxy">–ü—Ä–∏–º–µ—Ä: –±–∞–∑–æ–≤–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Proxy</a></h4>
<pre><code class="language-javascript">const target = {
  name: 'John',
  age: 30
};

const handler = {
  get(target, property) {
    console.log(`–ü–æ–ª—É—á–µ–Ω–∏–µ —Å–≤–æ–π—Å—Ç–≤–∞: ${property}`);
    return target[property];
  },

  set(target, property, value) {
    console.log(`–£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å–≤–æ–π—Å—Ç–≤–∞: ${property} = ${value}`);
    target[property] = value;
    return true;
  }
};

const proxy = new Proxy(target, handler);

console.log(proxy.name); // –õ–æ–≥–∏—Ä—É–µ—Ç: "–ü–æ–ª—É—á–µ–Ω–∏–µ —Å–≤–æ–π—Å—Ç–≤–∞: name"
                         // –í—ã–≤–æ–¥–∏—Ç: "John"
proxy.age = 31;          // –õ–æ–≥–∏—Ä—É–µ—Ç: "–£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å–≤–æ–π—Å—Ç–≤–∞: age = 31"
</code></pre>
<h3 id="–î–æ—Å—Ç—É–ø–Ω—ã–µ-–ø–µ—Ä–µ—Ö–≤–∞—Ç—á–∏–∫–∏-traps"><a class="header" href="#–î–æ—Å—Ç—É–ø–Ω—ã–µ-–ø–µ—Ä–µ—Ö–≤–∞—Ç—á–∏–∫–∏-traps">–î–æ—Å—Ç—É–ø–Ω—ã–µ –ø–µ—Ä–µ—Ö–≤–∞—Ç—á–∏–∫–∏ (traps)</a></h3>
<p>–ö–ª–∞—Å—Å <code>Proxy</code> –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –º–Ω–æ–∂–µ—Å—Ç–≤–æ –ø–µ—Ä–µ—Ö–≤–∞—Ç—á–∏–∫–æ–≤:</p>
<ul>
<li><code>get(target, property, receiver)</code> ‚Äî —á—Ç–µ–Ω–∏–µ —Å–≤–æ–π—Å—Ç–≤–∞</li>
<li><code>set(target, property, value, receiver)</code> ‚Äî –∑–∞–ø–∏—Å—å —Å–≤–æ–π—Å—Ç–≤–∞</li>
<li><code>has(target, property)</code> ‚Äî –æ–ø–µ—Ä–∞—Ç–æ—Ä <code>in</code></li>
<li><code>deleteProperty(target, property)</code> ‚Äî –æ–ø–µ—Ä–∞—Ç–æ—Ä <code>delete</code></li>
<li><code>apply(target, thisArg, argumentsList)</code> ‚Äî –≤—ã–∑–æ–≤ —Ñ—É–Ω–∫—Ü–∏–∏</li>
<li><code>construct(target, argumentsList, newTarget)</code> ‚Äî –æ–ø–µ—Ä–∞—Ç–æ—Ä <code>new</code></li>
<li><code>getPrototypeOf(target)</code> ‚Äî –ø–æ–ª—É—á–µ–Ω–∏–µ –ø—Ä–æ—Ç–æ—Ç–∏–ø–∞</li>
<li><code>setPrototypeOf(target, prototype)</code> ‚Äî —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø—Ä–æ—Ç–æ—Ç–∏–ø–∞</li>
<li><code>isExtensible(target)</code> ‚Äî –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞—Å—à–∏—Ä—è–µ–º–æ—Å—Ç–∏</li>
<li><code>preventExtensions(target)</code> ‚Äî –∑–∞–ø—Ä–µ—Ç —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è</li>
<li><code>getOwnPropertyDescriptor(target, property)</code> ‚Äî –ø–æ–ª—É—á–µ–Ω–∏–µ –¥–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä–∞</li>
<li><code>defineProperty(target, property, descriptor)</code> ‚Äî –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Å–≤–æ–π—Å—Ç–≤–∞</li>
<li><code>ownKeys(target)</code> ‚Äî –ø–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –∫–ª—é—á–µ–π</li>
</ul>
<h4 id="–ü—Ä–∏–º–µ—Ä-–ø–µ—Ä–µ—Ö–≤–∞—Ç-–≤—ã–∑–æ–≤–∞-—Ñ—É–Ω–∫—Ü–∏–∏"><a class="header" href="#–ü—Ä–∏–º–µ—Ä-–ø–µ—Ä–µ—Ö–≤–∞—Ç-–≤—ã–∑–æ–≤–∞-—Ñ—É–Ω–∫—Ü–∏–∏">–ü—Ä–∏–º–µ—Ä: –ø–µ—Ä–µ—Ö–≤–∞—Ç –≤—ã–∑–æ–≤–∞ —Ñ—É–Ω–∫—Ü–∏–∏</a></h4>
<pre><code class="language-javascript">function sum(a, b) {
  return a + b;
}

const handler = {
  apply(target, thisArg, argumentsList) {
    console.log(`–í—ã–∑–æ–≤ —Ñ—É–Ω–∫—Ü–∏–∏ —Å –∞—Ä–≥—É–º–µ–Ω—Ç–∞–º–∏: ${argumentsList}`);
    const result = target.apply(thisArg, argumentsList);
    console.log(`–†–µ–∑—É–ª—å—Ç–∞—Ç: ${result}`);
    return result;
  }
};

const proxySum = new Proxy(sum, handler);

proxySum(5, 3);
// –õ–æ–≥–∏—Ä—É–µ—Ç: "–í—ã–∑–æ–≤ —Ñ—É–Ω–∫—Ü–∏–∏ —Å –∞—Ä–≥—É–º–µ–Ω—Ç–∞–º–∏: 5,3"
// –õ–æ–≥–∏—Ä—É–µ—Ç: "–†–µ–∑—É–ª—å—Ç–∞—Ç: 8"
// –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç: 8
</code></pre>
<h2 id="–ü–∞—Ç—Ç–µ—Ä–Ω-proxy-–∏–∑-gang-of-four"><a class="header" href="#–ü–∞—Ç—Ç–µ—Ä–Ω-proxy-–∏–∑-gang-of-four">–ü–∞—Ç—Ç–µ—Ä–Ω Proxy –∏–∑ Gang of Four</a></h2>
<h3 id="–°—Ç—Ä—É–∫—Ç—É—Ä–∞-–ø–∞—Ç—Ç–µ—Ä–Ω–∞-2"><a class="header" href="#–°—Ç—Ä—É–∫—Ç—É—Ä–∞-–ø–∞—Ç—Ç–µ—Ä–Ω–∞-2">–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–∞—Ç—Ç–µ—Ä–Ω–∞</a></h3>
<p>GoF Proxy —Ä–µ–∞–ª–∏–∑—É–µ—Ç—Å—è —á–µ—Ä–µ–∑ <strong>–¥–µ–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ</strong> ‚Äî –∫–ª–∞—Å—Å-–ø—Ä–æ–∫—Å–∏ —Ä–µ–∞–ª–∏–∑—É–µ—Ç —Ç–æ—Ç –∂–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å, —á—Ç–æ –∏ –æ–±–æ—Ä–∞—á–∏–≤–∞–µ–º—ã–π –∫–ª–∞—Å—Å, –∏ –¥–µ–ª–µ–≥–∏—Ä—É–µ—Ç –µ–º—É –≤—ã–∑–æ–≤—ã.</p>
<h4 id="–ë–∞–∑–æ–≤—ã–π-–ø—Ä–∏–º–µ—Ä-—Å—Ç—Ä—É–∫—Ç—É—Ä—ã"><a class="header" href="#–ë–∞–∑–æ–≤—ã–π-–ø—Ä–∏–º–µ—Ä-—Å—Ç—Ä—É–∫—Ç—É—Ä—ã">–ë–∞–∑–æ–≤—ã–π –ø—Ä–∏–º–µ—Ä —Å—Ç—Ä—É–∫—Ç—É—Ä—ã</a></h4>
<pre><code class="language-javascript">// –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å (–≤ TypeScript)
interface IService {
  operation(a: number, b: number): { result: number; message: string };
}

// –†–µ–∞–ª—å–Ω—ã–π –∫–ª–∞—Å—Å
class RealService implements IService {
  operation(a: number, b: number) {
    return {
      result: a + b,
      message: 'Operation completed'
    };
  }
}

// –ü—Ä–æ–∫—Å–∏ –∫–ª–∞—Å—Å
class ServiceProxy implements IService {
  private realService: RealService;

  constructor(realService: RealService) {
    this.realService = realService;
  }

  operation(a: number, b: number) {
    // –ó–¥–µ—Å—å –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—É—é –ª–æ–≥–∏–∫—É
    console.log(`–í—ã–∑–æ–≤ operation —Å –∞—Ä–≥—É–º–µ–Ω—Ç–∞–º–∏: ${a}, ${b}`);

    // –î–µ–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∞–ª—å–Ω–æ–º—É –æ–±—ä–µ–∫—Ç—É
    const result = this.realService.operation(a, b);

    console.log(`–†–µ–∑—É–ª—å—Ç–∞—Ç: ${result.result}`);
    return result;
  }
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
const service = new RealService();
const proxy = new ServiceProxy(service);

proxy.operation(5, 3);
// –õ–æ–≥–∏—Ä—É–µ—Ç: "–í—ã–∑–æ–≤ operation —Å –∞—Ä–≥—É–º–µ–Ω—Ç–∞–º–∏: 5, 3"
// –õ–æ–≥–∏—Ä—É–µ—Ç: "–†–µ–∑—É–ª—å—Ç–∞—Ç: 8"
// –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç: { result: 8, message: 'Operation completed' }
</code></pre>
<h3 id="–ö–ª—é—á–µ–≤—ã–µ-—ç–ª–µ–º–µ–Ω—Ç—ã-—Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏"><a class="header" href="#–ö–ª—é—á–µ–≤—ã–µ-—ç–ª–µ–º–µ–Ω—Ç—ã-—Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏">–ö–ª—é—á–µ–≤—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏</a></h3>
<ol>
<li><strong>–û–±—â–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å</strong> ‚Äî –∏ –ø—Ä–æ–∫—Å–∏, –∏ —Ä–µ–∞–ª—å–Ω—ã–π –æ–±—ä–µ–∫—Ç —Ä–µ–∞–ª–∏–∑—É—é—Ç –æ–¥–∏–Ω –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å</li>
<li><strong>–ò–Ω–∫–∞–ø—Å—É–ª—è—Ü–∏—è –æ–±—ä–µ–∫—Ç–∞</strong> ‚Äî –ø—Ä–æ–∫—Å–∏ —Ö—Ä–∞–Ω–∏—Ç —Å—Å—ã–ª–∫—É –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–π –æ–±—ä–µ–∫—Ç (–≤ –ø—Ä–∏–≤–∞—Ç–Ω–æ–º —Å–≤–æ–π—Å—Ç–≤–µ)</li>
<li><strong>–î–µ–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ</strong> ‚Äî –ø—Ä–æ–∫—Å–∏ –≤—ã–∑—ã–≤–∞–µ—Ç –º–µ—Ç–æ–¥—ã —Ä–µ–∞–ª—å–Ω–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞</li>
<li><strong>–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –ª–æ–≥–∏–∫–∞</strong> ‚Äî –ø—Ä–æ–∫—Å–∏ –º–æ–∂–µ—Ç –¥–æ–±–∞–≤–ª—è—Ç—å —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –¥–æ –∏ –ø–æ—Å–ª–µ –¥–µ–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–∏—è</li>
</ol>
<h2 id="–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ-–ø—Ä–∏–º–µ—Ä—ã-1"><a class="header" href="#–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ-–ø—Ä–∏–º–µ—Ä—ã-1">–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–∏–º–µ—Ä—ã</a></h2>
<h3 id="–ü—Ä–∏–º–µ—Ä-1-config-—Å-–ª–µ–Ω–∏–≤–æ–π-–∑–∞–≥—Ä—É–∑–∫–æ–π"><a class="header" href="#–ü—Ä–∏–º–µ—Ä-1-config-—Å-–ª–µ–Ω–∏–≤–æ–π-–∑–∞–≥—Ä—É–∑–∫–æ–π">–ü—Ä–∏–º–µ—Ä 1: Config —Å –ª–µ–Ω–∏–≤–æ–π –∑–∞–≥—Ä—É–∑–∫–æ–π</a></h3>
<h4 id="–†–µ–∞–ª—å–Ω—ã–π-–∫–ª–∞—Å—Å-config"><a class="header" href="#–†–µ–∞–ª—å–Ω—ã–π-–∫–ª–∞—Å—Å-config">–†–µ–∞–ª—å–Ω—ã–π –∫–ª–∞—Å—Å Config</a></h4>
<pre><code class="language-javascript">// config.js
const fs = require('fs');

class Config {
  constructor(filePath) {
    // –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–∞ –≤ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–µ
    const fileContent = require(filePath);
    this.data = this.parseConfig(fileContent);
  }

  parseConfig(content) {
    // –ü–∞—Ä—Å–∏–Ω–≥ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
    return content;
  }

  read(key) {
    return this.data[key];
  }
}

module.exports = Config;
</code></pre>
<h4 id="–ü—Ä–æ–∫—Å–∏-—Å-–ª–µ–Ω–∏–≤–æ–π-–∑–∞–≥—Ä—É–∑–∫–æ–π"><a class="header" href="#–ü—Ä–æ–∫—Å–∏-—Å-–ª–µ–Ω–∏–≤–æ–π-–∑–∞–≥—Ä—É–∑–∫–æ–π">–ü—Ä–æ–∫—Å–∏ —Å –ª–µ–Ω–∏–≤–æ–π –∑–∞–≥—Ä—É–∑–∫–æ–π</a></h4>
<pre><code class="language-javascript">// config-proxy.js
const Config = require('./config');

class ConfigProxy {
  constructor(filePath) {
    this.filePath = filePath;
    this.config = null; // –õ–µ–Ω–∏–≤–∞—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
  }

  read(key) {
    // –°–æ–∑–¥–∞—ë–º —ç–∫–∑–µ–º–ø–ª—è—Ä —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –æ–±—Ä–∞—â–µ–Ω–∏–∏
    if (!this.config) {
      console.log('–ó–∞–≥—Ä—É–∑–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏...');
      this.config = new Config(this.filePath);
    }

    // –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–±—Ä–∞—â–µ–Ω–∏—è –∫ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
    console.log(`–ß—Ç–µ–Ω–∏–µ –∫–ª—é—á–∞: ${key}`);

    return this.config.read(key);
  }
}

module.exports = ConfigProxy;
</code></pre>
<h4 id="–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ-7"><a class="header" href="#–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ-7">–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ</a></h4>
<pre><code class="language-javascript">const ConfigProxy = require('./config-proxy');

const config = new ConfigProxy('./config.json');

// –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –µ—â—ë –Ω–µ –∑–∞–≥—Ä—É–∂–µ–Ω–∞
console.log('Config proxy —Å–æ–∑–¥–∞–Ω');

// –ü—Ä–∏ –ø–µ—Ä–≤–æ–º –æ–±—Ä–∞—â–µ–Ω–∏–∏ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è —Ñ–∞–π–ª
const dbHost = config.read('database.host');
// –õ–æ–≥–∏—Ä—É–µ—Ç: "–ó–∞–≥—Ä—É–∑–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏..."
// –õ–æ–≥–∏—Ä—É–µ—Ç: "–ß—Ç–µ–Ω–∏–µ –∫–ª—é—á–∞: database.host"

// –ü—Ä–∏ –ø–æ–≤—Ç–æ—Ä–Ω–æ–º –æ–±—Ä–∞—â–µ–Ω–∏–∏ —Ñ–∞–π–ª –Ω–µ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è
const dbPort = config.read('database.port');
// –õ–æ–≥–∏—Ä—É–µ—Ç: "–ß—Ç–µ–Ω–∏–µ –∫–ª—é—á–∞: database.port"
</code></pre>
<p><strong>–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ —ç—Ç–æ–≥–æ –ø–æ–¥—Ö–æ–¥–∞:</strong></p>
<ul>
<li>–§–∞–π–ª –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –∫–æ–≥–¥–∞ –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –Ω—É–∂–µ–Ω</li>
<li>–ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∫–ª–∞—Å—Å–∞ Config</li>
<li>–ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π –ø–∞—Ä—Å–∏–Ω–≥ –¥–∞–Ω–Ω—ã—Ö</li>
<li>–ú–æ–∂–Ω–æ –∫—ç—à–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã</li>
</ul>
<h3 id="–ü—Ä–∏–º–µ—Ä-2-–ü—Ä–æ–∫—Å–∏-–¥–ª—è-—Ñ–∞–π–ª–æ–≤—ã—Ö-–ø–æ—Ç–æ–∫–æ–≤-—Å-—Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–æ–π"><a class="header" href="#–ü—Ä–∏–º–µ—Ä-2-–ü—Ä–æ–∫—Å–∏-–¥–ª—è-—Ñ–∞–π–ª–æ–≤—ã—Ö-–ø–æ—Ç–æ–∫–æ–≤-—Å-—Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–æ–π">–ü—Ä–∏–º–µ—Ä 2: –ü—Ä–æ–∫—Å–∏ –¥–ª—è —Ñ–∞–π–ª–æ–≤—ã—Ö –ø–æ—Ç–æ–∫–æ–≤ —Å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–æ–π</a></h3>
<p>–≠—Ç–æ –±–æ–ª–µ–µ —Å–ª–æ–∂–Ω—ã–π –∏ —Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω—ã–π –ø—Ä–∏–º–µ—Ä, –ø–æ–∫–∞–∑—ã–≤–∞—é—â–∏–π –º–æ—â—å –ø–∞—Ç—Ç–µ—Ä–Ω–∞ Proxy.</p>
<h4 id="–ó–∞–¥–∞—á–∞-1"><a class="header" href="#–ó–∞–¥–∞—á–∞-1">–ó–∞–¥–∞—á–∞</a></h4>
<p>–ù–µ–æ–±—Ö–æ–¥–∏–º–æ —Å–æ–±–∏—Ä–∞—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –ø–æ —Ä–∞–±–æ—Ç–µ —Å —Ñ–∞–π–ª–æ–≤—ã–º–∏ –ø–æ—Ç–æ–∫–∞–º–∏:</p>
<ul>
<li>–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –±–∞–π—Ç, –ø—Ä–æ—á–∏—Ç–∞–Ω–Ω—ã—Ö –∏–∑ —Ñ–∞–π–ª–æ–≤</li>
<li>–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —á–∞–Ω–∫–æ–≤ –¥–∞–Ω–Ω—ã—Ö</li>
<li>–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Å–æ–±—ã—Ç–∏–π</li>
</ul>
<h4 id="–†–µ—à–µ–Ω–∏–µ-—á–µ—Ä–µ–∑-–Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ-–∏-–∑–∞–º—ã–∫–∞–Ω–∏–µ-–º–æ–¥—É–ª—è"><a class="header" href="#–†–µ—à–µ–Ω–∏–µ-—á–µ—Ä–µ–∑-–Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ-–∏-–∑–∞–º—ã–∫–∞–Ω–∏–µ-–º–æ–¥—É–ª—è">–†–µ—à–µ–Ω–∏–µ —á–µ—Ä–µ–∑ –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ –∏ –∑–∞–º—ã–∫–∞–Ω–∏–µ –º–æ–¥—É–ª—è</a></h4>
<pre><code class="language-javascript">// fs-proxy.js
const fs = require('fs');

// –ó–∞–º—ã–∫–∞–Ω–∏–µ –º–æ–¥—É–ª—è ‚Äî statistics –±—É–¥–µ—Ç –ª–æ–∫–∞–ª—å–Ω—ã–º —Å–∏–Ω–≥–ª—Ç–æ–Ω–æ–º
const statistics = {
  bytes: 0,
  chunks: 0,
  events: new Map() // –•—Ä–∞–Ω–∏–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–∞–∂–¥–æ–≥–æ —Ç–∏–ø–∞ —Å–æ–±—ã—Ç–∏—è
};

// –ù–∞—Å–ª–µ–¥—É–µ–º –æ—Ç fs.ReadStream
class StatReadStream extends fs.ReadStream {
  emit(eventName, ...args) {
    // –°–æ–±–∏—Ä–∞–µ–º —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –ø–µ—Ä–µ–¥ –≤—ã–∑–æ–≤–æ–º —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–≥–æ –º–µ—Ç–æ–¥–∞

    if (eventName === 'data') {
      const chunk = args[0];
      statistics.bytes += chunk.length;
      statistics.chunks++;
    }

    // –£–≤–µ–ª–∏—á–∏–≤–∞–µ–º —Å—á—ë—Ç—á–∏–∫ –¥–ª—è —ç—Ç–æ–≥–æ —Ç–∏–ø–∞ —Å–æ–±—ã—Ç–∏—è
    const count = statistics.events.get(eventName) || 0;
    statistics.events.set(eventName, count + 1);

    // –î–µ–ª–µ–≥–∏—Ä—É–µ–º –≤—ã–∑–æ–≤ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–º—É –∫–ª–∞—Å—Å—É (EventEmitter)
    return super.emit(eventName, ...args);
  }
}

// –§–∞–±—Ä–∏–∫–∞ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –ø–æ—Ç–æ–∫–æ–≤
function createReadStream(path, options) {
  return new StatReadStream(path, options);
}

// –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
function getStatistics() {
  // –í–æ–∑–≤—Ä–∞—â–∞–µ–º –∫–ª–æ–Ω, —á—Ç–æ–±—ã –Ω–∏–∫—Ç–æ –Ω–µ –º–æ–≥ –∏–∑–º–µ–Ω–∏—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É —Å–Ω–∞—Ä—É–∂–∏
  return {
    bytes: statistics.bytes,
    chunks: statistics.chunks,
    events: new Map(statistics.events)
  };
}

// –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–µ–º –≤—Å—ë –∏–∑ fs, –∫—Ä–æ–º–µ createReadStream
module.exports = {
  ...fs,
  createReadStream,
  getStatistics
};
</code></pre>
<h4 id="–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ-fs-proxy"><a class="header" href="#–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ-fs-proxy">–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ fs-proxy</a></h4>
<pre><code class="language-javascript">// app.js
// –í–º–µ—Å—Ç–æ const fs = require('fs');
const fs = require('./fs-proxy');

// –°–æ–∑–¥–∞—ë–º –ø–æ—Ç–æ–∫ –¥–ª—è —á—Ç–µ–Ω–∏—è —Ñ–∞–π–ª–∞
const stream = fs.createReadStream('./large-file.txt');

stream.on('data', (chunk) =&gt; {
  console.log(`–ü–æ–ª—É—á–µ–Ω —á–∞–Ω–∫ —Ä–∞–∑–º–µ—Ä–æ–º ${chunk.length} –±–∞–π—Ç`);
});

stream.on('end', () =&gt; {
  console.log('–ß—Ç–µ–Ω–∏–µ –∑–∞–≤–µ—Ä—à–µ–Ω–æ');

  // –ü–æ–ª—É—á–∞–µ–º —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
  const stats = fs.getStatistics();
  console.log('–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞:');
  console.log(`  –ë–∞–π—Ç –ø—Ä–æ—á–∏—Ç–∞–Ω–æ: ${stats.bytes}`);
  console.log(`  –ß–∞–Ω–∫–æ–≤ –ø–æ–ª—É—á–µ–Ω–æ: ${stats.chunks}`);
  console.log(`  –°–æ–±—ã—Ç–∏—è:`);

  stats.events.forEach((count, eventName) =&gt; {
    console.log(`    ${eventName}: ${count}`);
  });
});

// –î—Ä—É–≥–∏–µ –º–µ—Ç–æ–¥—ã fs —Ä–∞–±–æ—Ç–∞—é—Ç –∫–∞–∫ –æ–±—ã—á–Ω–æ
const files = fs.readdirSync('./');
console.log(files);

// –ú–æ–∂–Ω–æ –¥–∞–∂–µ –Ω–∞—Å–ª–µ–¥–æ–≤–∞—Ç—å—Å—è –æ—Ç fs.ReadStream, –µ—Å–ª–∏ –Ω—É–∂–Ω–æ
class CustomStream extends fs.ReadStream {
  // –í–∞—à–∞ –∫–∞—Å—Ç–æ–º–Ω–∞—è –ª–æ–≥–∏–∫–∞
}
</code></pre>
<h4 id="–ß—Ç–æ-–¥–µ–ª–∞–µ—Ç-—ç—Ç–æ—Ç-–ø—Ä–æ–∫—Å–∏"><a class="header" href="#–ß—Ç–æ-–¥–µ–ª–∞–µ—Ç-—ç—Ç–æ—Ç-–ø—Ä–æ–∫—Å–∏">–ß—Ç–æ –¥–µ–ª–∞–µ—Ç —ç—Ç–æ—Ç –ø—Ä–æ–∫—Å–∏?</a></h4>
<ol>
<li><strong>–ü–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Ç–æ–ª—å–∫–æ –Ω—É–∂–Ω–æ–µ</strong> ‚Äî —Ç–æ–ª—å–∫–æ <code>createReadStream</code>, –æ—Å—Ç–∞–ª—å–Ω–æ–π API fs –æ—Å—Ç–∞—ë—Ç—Å—è –Ω–µ–∏–∑–º–µ–Ω–Ω—ã–º</li>
<li><strong>–ò—Å–ø–æ–ª—å–∑—É–µ—Ç –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ</strong> ‚Äî <code>StatReadStream</code> –Ω–∞—Å–ª–µ–¥—É–µ—Ç—Å—è –æ—Ç <code>fs.ReadStream</code></li>
<li><strong>–ü—Ä–∏–º–µ–Ω—è–µ—Ç –¥–µ–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ</strong> ‚Äî –≤—ã–∑—ã–≤–∞–µ—Ç <code>super.emit()</code> –¥–ª—è –¥–µ–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–∏—è —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–º—É –∫–ª–∞—Å—Å—É</li>
<li><strong>–ò—Å–ø–æ–ª—å–∑—É–µ—Ç –∑–∞–º—ã–∫–∞–Ω–∏–µ –º–æ–¥—É–ª—è</strong> ‚Äî <code>statistics</code> —è–≤–ª—è–µ—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω—ã–º —Å–∏–Ω–≥–ª—Ç–æ–Ω–æ–º –º–æ–¥—É–ª—è</li>
<li><strong>–ó–∞—â–∏—â–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ</strong> ‚Äî <code>getStatistics()</code> –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∫–ª–æ–Ω —á–µ—Ä–µ–∑ —Å—Ç—Ä—É–∫—Ç—É—Ä–Ω–æ–µ –∫–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ</li>
<li><strong>–ü—Ä–æ–∑—Ä–∞—á–µ–Ω –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π</strong> ‚Äî –∫–æ–¥, –∏—Å–ø–æ–ª—å–∑—É—é—â–∏–π <code>fs</code>, –ø–æ—á—Ç–∏ –Ω–µ –º–µ–Ω—è–µ—Ç—Å—è</li>
</ol>
<h3 id="–û–±—ä—è—Å–Ω–µ–Ω–∏–µ-–∑–∞–º—ã–∫–∞–Ω–∏—è-–º–æ–¥—É–ª—è"><a class="header" href="#–û–±—ä—è—Å–Ω–µ–Ω–∏–µ-–∑–∞–º—ã–∫–∞–Ω–∏—è-–º–æ–¥—É–ª—è">–û–±—ä—è—Å–Ω–µ–Ω–∏–µ –∑–∞–º—ã–∫–∞–Ω–∏—è –º–æ–¥—É–ª—è</a></h3>
<pre><code class="language-javascript">// –ö–∞–∂–¥—ã–π –º–æ–¥—É–ª—å –≤ Node.js –æ–±–µ—Ä–Ω—É—Ç –≤ —Ñ—É–Ω–∫—Ü–∏—é:
(function(exports, require, module, __filename, __dirname) {

  // –≠—Ç–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è –ø–æ–ø–∞–¥–∞–µ—Ç –≤ –∑–∞–º—ã–∫–∞–Ω–∏–µ –≤—Å–µ—Ö —Ñ—É–Ω–∫—Ü–∏–π –º–æ–¥—É–ª—è
  const statistics = {
    bytes: 0,
    chunks: 0,
    events: new Map()
  };

  class StatReadStream extends fs.ReadStream {
    emit(eventName, ...args) {
      // –ò–º–µ–µ—Ç –¥–æ—Å—Ç—É–ø –∫ statistics —á–µ—Ä–µ–∑ –∑–∞–º—ã–∫–∞–Ω–∏–µ
      statistics.bytes += chunk.length;
      return super.emit(eventName, ...args);
    }
  }

  function getStatistics() {
    // –¢–∞–∫–∂–µ –∏–º–µ–µ—Ç –¥–æ—Å—Ç—É–ø –∫ statistics
    return { ...statistics };
  }

  // –ï—Å–ª–∏ –Ω–µ —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å statistics, –æ–Ω –æ—Å—Ç–∞—ë—Ç—Å—è –ø—Ä–∏–≤–∞—Ç–Ω—ã–º
  module.exports = {
    createReadStream,
    getStatistics
    // statistics –ù–ï —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç—Å—è!
  };

})(/* –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –æ—Ç Node.js */);
</code></pre>
<p><strong>–ö–ª—é—á–µ–≤—ã–µ –º–æ–º–µ–Ω—Ç—ã:</strong></p>
<ul>
<li>–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –Ω–∞ —É—Ä–æ–≤–Ω–µ –º–æ–¥—É–ª—è —Å—Ç–∞–Ω–æ–≤—è—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω—ã–º–∏ —Å–∏–Ω–≥–ª—Ç–æ–Ω–∞–º–∏</li>
<li>–û–Ω–∏ –¥–æ—Å—Ç—É–ø–Ω—ã –≤—Å–µ–º —Ñ—É–Ω–∫—Ü–∏—è–º –∏ –∫–ª–∞—Å—Å–∞–º –º–æ–¥—É–ª—è —á–µ—Ä–µ–∑ –∑–∞–º—ã–∫–∞–Ω–∏–µ</li>
<li>–ï—Å–ª–∏ –Ω–µ —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å, –æ–Ω–∏ –æ—Å—Ç–∞—é—Ç—Å—è –ø—Ä–∏–≤–∞—Ç–Ω—ã–º–∏</li>
<li>–≠—Ç–æ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–º –ø–æ–ª—è–º –∫–ª–∞—Å—Å–∞</li>
</ul>
<h2 id="–°—Ä–∞–≤–Ω–µ–Ω–∏–µ-–ø–æ–¥—Ö–æ–¥–æ–≤-1"><a class="header" href="#–°—Ä–∞–≤–Ω–µ–Ω–∏–µ-–ø–æ–¥—Ö–æ–¥–æ–≤-1">–°—Ä–∞–≤–Ω–µ–Ω–∏–µ –ø–æ–¥—Ö–æ–¥–æ–≤</a></h2>
<h3 id="–§–∞—Å–∞–¥-vs-–ü—Ä–æ–∫—Å–∏"><a class="header" href="#–§–∞—Å–∞–¥-vs-–ü—Ä–æ–∫—Å–∏">–§–∞—Å–∞–¥ vs –ü—Ä–æ–∫—Å–∏</a></h3>
<p>–í –ø—Ä–∏–º–µ—Ä–µ —Å <code>fs-proxy</code> –º—ã —Å–æ–∑–¥–∞–ª–∏ —á—Ç–æ-—Ç–æ –ø–æ—Ö–æ–∂–µ–µ –Ω–∞ <strong>Facade</strong> (–§–∞—Å–∞–¥):</p>
<ul>
<li>–û–±–µ—Ä–Ω—É–ª–∏ –º–æ–¥—É–ª—å <code>fs</code> –≤ —É–ø—Ä–æ—â—ë–Ω–Ω—É—é –æ–±—ë—Ä—Ç–∫—É</li>
<li>–ü–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–∏–ª–∏ —Ç–æ–ª—å–∫–æ —á–∞—Å—Ç—å —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏</li>
<li>–û—Å—Ç–∞–ª—å–Ω–æ–π API –æ—Å—Ç–∞–ª—Å—è –¥–æ—Å—Ç—É–ø–Ω—ã–º</li>
</ul>
<p><strong>–û—Ç–ª–∏—á–∏—è –æ—Ç —á–∏—Å—Ç–æ–≥–æ Proxy:</strong></p>
<ul>
<li>Proxy –æ–±—ã—á–Ω–æ –æ–¥–∏–Ω-–∫-–æ–¥–Ω–æ–º—É –ø–æ–≤—Ç–æ—Ä—è–µ—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å</li>
<li>–§–∞—Å–∞–¥ –º–æ–∂–µ—Ç —É–ø—Ä–æ—â–∞—Ç—å –∏–ª–∏ –æ–±—ä–µ–¥–∏–Ω—è—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã</li>
<li>–í –¥–∞–Ω–Ω–æ–º —Å–ª—É—á–∞–µ –º—ã –¥–æ–±–∞–≤–∏–ª–∏ –Ω–æ–≤—ã–π –º–µ—Ç–æ–¥ <code>getStatistics()</code></li>
</ul>
<h3 id="–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å-gof-proxy-vs-javascript-proxy"><a class="header" href="#–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å-gof-proxy-vs-javascript-proxy">–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å: GoF Proxy vs JavaScript Proxy</a></h3>
<pre><code class="language-javascript">// GOF Proxy - –±–æ–ª–µ–µ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–µ–Ω
class ServiceProxy {
  constructor(service) {
    this.service = service;
  }

  operation() {
    // –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π overhead
    return this.service.operation();
  }
}

// JavaScript Proxy - –º–µ–Ω–µ–µ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–µ–Ω
const serviceProxy = new Proxy(service, {
  get(target, property) {
    // –ë–æ–ª—å—à–∏–π overhead –Ω–∞ –∫–∞–∂–¥–æ–µ –æ–±—Ä–∞—â–µ–Ω–∏–µ
    return target[property];
  }
});
</code></pre>
<p><strong>–†–µ–∑—É–ª—å—Ç–∞—Ç—ã –±–µ–Ω—á–º–∞—Ä–∫–æ–≤ (–ø—Ä–∏–º–µ—Ä–Ω–æ):</strong></p>
<ul>
<li>GoF Proxy: ~5-10% overhead</li>
<li>JavaScript Proxy: ~50-200% overhead</li>
</ul>
<p><strong>–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–∞–∂–¥—ã–π –ø–æ–¥—Ö–æ–¥:</strong></p>
<div class="table-wrapper"><table><thead><tr><th>–ö—Ä–∏—Ç–µ—Ä–∏–π</th><th>GoF Proxy</th><th>JavaScript Proxy</th></tr></thead><tbody>
<tr><td>–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –≤–∞–∂–Ω–∞</td><td>‚úÖ –î–∞</td><td>‚ùå –ù–µ—Ç</td></tr>
<tr><td>–ù—É–∂–Ω–∞ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –≥–∏–±–∫–æ—Å—Ç—å</td><td>‚ùå –ù–µ—Ç</td><td>‚úÖ –î–∞</td></tr>
<tr><td>–ò–∑–≤–µ—Å—Ç–µ–Ω –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å</td><td>‚úÖ –î–∞</td><td>‚Äî –ù–µ –≤–∞–∂–Ω–æ</td></tr>
<tr><td>–î–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ</td><td>‚ùå –°–ª–æ–∂–Ω–µ–µ</td><td>‚úÖ –õ–µ–≥–∫–æ</td></tr>
<tr><td>Production –∫–æ–¥</td><td>‚úÖ –ü—Ä–µ–¥–ø–æ—á—Ç–∏—Ç–µ–ª—å–Ω–æ</td><td>‚ö†Ô∏è –° –æ—Å—Ç–æ—Ä–æ–∂–Ω–æ—Å—Ç—å—é</td></tr>
<tr><td>–ü—Ä–æ—Ç–æ—Ç–∏–ø–∏—Ä–æ–≤–∞–Ω–∏–µ/–æ—Ç–ª–∞–¥–∫–∞</td><td>‚Äî –ú–æ–∂–Ω–æ</td><td>‚úÖ –£–¥–æ–±–Ω–æ</td></tr>
</tbody></table>
</div>
<h2 id="–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ-–ø—Ä–∏–º–µ—Ä—ã-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è-proxy"><a class="header" href="#–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ-–ø—Ä–∏–º–µ—Ä—ã-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è-proxy">–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è Proxy</a></h2>
<h3 id="–ü—Ä–∏–º–µ—Ä-3-–í–∞–ª–∏–¥–∞—Ü–∏—è-–¥–∞–Ω–Ω—ã—Ö"><a class="header" href="#–ü—Ä–∏–º–µ—Ä-3-–í–∞–ª–∏–¥–∞—Ü–∏—è-–¥–∞–Ω–Ω—ã—Ö">–ü—Ä–∏–º–µ—Ä 3: –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö</a></h3>
<pre><code class="language-javascript">function createValidatedUser(userData) {
  return new Proxy(userData, {
    set(target, property, value) {
      if (property === 'age') {
        if (typeof value !== 'number' || value &lt; 0 || value &gt; 150) {
          throw new TypeError('–í–æ–∑—Ä–∞—Å—Ç –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —á–∏—Å–ª–æ–º –æ—Ç 0 –¥–æ 150');
        }
      }

      if (property === 'email') {
        if (!value.includes('@')) {
          throw new TypeError('Email –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å @');
        }
      }

      target[property] = value;
      return true;
    }
  });
}

const user = createValidatedUser({
  name: 'John',
  age: 30,
  email: 'john@example.com'
});

user.age = 25; // OK
user.age = -5; // –û—à–∏–±–∫–∞: –í–æ–∑—Ä–∞—Å—Ç –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —á–∏—Å–ª–æ–º –æ—Ç 0 –¥–æ 150
user.email = 'invalid'; // –û—à–∏–±–∫–∞: Email –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å @
</code></pre>
<h3 id="–ü—Ä–∏–º–µ—Ä-4-–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ-—Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤"><a class="header" href="#–ü—Ä–∏–º–µ—Ä-4-–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ-—Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤">–ü—Ä–∏–º–µ—Ä 4: –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤</a></h3>
<pre><code class="language-javascript">class ExpensiveCalculator {
  calculate(n) {
    console.log(`–í—ã—á–∏—Å–ª–µ–Ω–∏–µ –¥–ª—è ${n}...`);
    // –î–æ–ª–≥–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è
    let result = 0;
    for (let i = 0; i &lt;= n; i++) {
      result += i;
    }
    return result;
  }
}

class CachingProxy {
  constructor(calculator) {
    this.calculator = calculator;
    this.cache = new Map();
  }

  calculate(n) {
    if (this.cache.has(n)) {
      console.log(`–í–æ–∑–≤—Ä–∞—Ç –∏–∑ –∫—ç—à–∞ –¥–ª—è ${n}`);
      return this.cache.get(n);
    }

    const result = this.calculator.calculate(n);
    this.cache.set(n, result);
    return result;
  }
}

const calculator = new ExpensiveCalculator();
const proxy = new CachingProxy(calculator);

console.log(proxy.calculate(1000)); // –í—ã—á–∏—Å–ª–µ–Ω–∏–µ –¥–ª—è 1000...
console.log(proxy.calculate(1000)); // –í–æ–∑–≤—Ä–∞—Ç –∏–∑ –∫—ç—à–∞ –¥–ª—è 1000
console.log(proxy.calculate(2000)); // –í—ã—á–∏—Å–ª–µ–Ω–∏–µ –¥–ª—è 2000...
</code></pre>
<h3 id="–ü—Ä–∏–º–µ—Ä-5-–ö–æ–Ω—Ç—Ä–æ–ª—å-–¥–æ—Å—Ç—É–ø–∞"><a class="header" href="#–ü—Ä–∏–º–µ—Ä-5-–ö–æ–Ω—Ç—Ä–æ–ª—å-–¥–æ—Å—Ç—É–ø–∞">–ü—Ä–∏–º–µ—Ä 5: –ö–æ–Ω—Ç—Ä–æ–ª—å –¥–æ—Å—Ç—É–ø–∞</a></h3>
<pre><code class="language-javascript">class SecureDatabase {
  constructor() {
    this.data = {
      users: ['Alice', 'Bob'],
      admin: ['SuperUser']
    };
  }

  getData(table) {
    return this.data[table];
  }
}

class AccessControlProxy {
  constructor(database, userRole) {
    this.database = database;
    this.userRole = userRole;
  }

  getData(table) {
    // –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞
    if (table === 'admin' &amp;&amp; this.userRole !== 'admin') {
      throw new Error('–î–æ—Å—Ç—É–ø –∑–∞–ø—Ä–µ—â—ë–Ω: —Ç—Ä–µ–±—É—é—Ç—Å—è –ø—Ä–∞–≤–∞ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞');
    }

    console.log(`–î–æ—Å—Ç—É–ø —Ä–∞–∑—Ä–µ—à—ë–Ω –¥–ª—è —Ä–æ–ª–∏ ${this.userRole} –∫ —Ç–∞–±–ª–∏—Ü–µ ${table}`);
    return this.database.getData(table);
  }
}

const db = new SecureDatabase();

const userProxy = new AccessControlProxy(db, 'user');
console.log(userProxy.getData('users')); // OK: ['Alice', 'Bob']
console.log(userProxy.getData('admin')); // –û—à–∏–±–∫–∞: –î–æ—Å—Ç—É–ø –∑–∞–ø—Ä–µ—â—ë–Ω

const adminProxy = new AccessControlProxy(db, 'admin');
console.log(adminProxy.getData('admin')); // OK: ['SuperUser']
</code></pre>
<h2 id="–ü–∞—Ç—Ç–µ—Ä–Ω—ã-—Å–≤—è–∑–∞–Ω–Ω—ã–µ-—Å-proxy"><a class="header" href="#–ü–∞—Ç—Ç–µ—Ä–Ω—ã-—Å–≤—è–∑–∞–Ω–Ω—ã–µ-—Å-proxy">–ü–∞—Ç—Ç–µ—Ä–Ω—ã, —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å Proxy</a></h2>
<h3 id="proxy-vs-adapter"><a class="header" href="#proxy-vs-adapter">Proxy vs Adapter</a></h3>
<p><strong>Adapter</strong> (–ê–¥–∞–ø—Ç–µ—Ä):</p>
<ul>
<li>–ü—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –æ–¥–Ω–æ–≥–æ –∫–ª–∞—Å—Å–∞ –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥—Ä—É–≥–æ–≥–æ</li>
<li>–î–µ–ª–∞–µ—Ç —Å–æ–≤–º–µ—Å—Ç–∏–º—ã–º–∏ –Ω–µ—Å–æ–≤–º–µ—Å—Ç–∏–º—ã–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã</li>
<li>–ò–∑–º–µ–Ω—è–µ—Ç —Å–∏–≥–Ω–∞—Ç—É—Ä—ã –º–µ—Ç–æ–¥–æ–≤</li>
</ul>
<p><strong>Proxy</strong>:</p>
<ul>
<li>–°–æ—Ö—Ä–∞–Ω—è–µ—Ç —Ç–æ—Ç –∂–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å</li>
<li>–î–æ–±–∞–≤–ª—è–µ—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ</li>
<li>–ù–µ –∏–∑–º–µ–Ω—è–µ—Ç —Å–∏–≥–Ω–∞—Ç—É—Ä—ã</li>
</ul>
<pre><code class="language-javascript">// Adapter - –∏–∑–º–µ–Ω—è–µ—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
class OldAPI {
  getUser(id) {
    return { userId: id, userName: 'John' };
  }
}

class NewAPIAdapter {
  constructor(oldAPI) {
    this.oldAPI = oldAPI;
  }

  // –ù–æ–≤—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å: fetchUserById –≤–º–µ—Å—Ç–æ getUser
  fetchUserById(id) {
    const oldFormat = this.oldAPI.getUser(id);
    // –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ —Ñ–æ—Ä–º–∞—Ç–∞
    return {
      id: oldFormat.userId,
      name: oldFormat.userName
    };
  }
}

// Proxy - —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
class UserAPIProxy {
  constructor(api) {
    this.api = api;
  }

  // –¢–æ—Ç –∂–µ –º–µ—Ç–æ–¥ getUser
  getUser(id) {
    console.log(`–ó–∞–ø—Ä–æ—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è ${id}`);
    return this.api.getUser(id);
  }
}
</code></pre>
<h3 id="proxy-vs-decorator"><a class="header" href="#proxy-vs-decorator">Proxy vs Decorator</a></h3>
<p><strong>Decorator</strong> (–î–µ–∫–æ—Ä–∞—Ç–æ—Ä):</p>
<ul>
<li>–î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –¥–æ–±–∞–≤–ª—è–µ—Ç –Ω–æ–≤—ã–µ –æ–±—è–∑–∞–Ω–Ω–æ—Å—Ç–∏ –æ–±—ä–µ–∫—Ç—É</li>
<li>–ú–æ–∂–Ω–æ –∫–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä–æ–≤</li>
<li>–û–±—ã—á–Ω–æ –¥–æ–±–∞–≤–ª—è–µ—Ç –Ω–æ–≤—É—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å</li>
</ul>
<p><strong>Proxy</strong>:</p>
<ul>
<li>–ö–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ—Ç –¥–æ—Å—Ç—É–ø –∫ –æ–±—ä–µ–∫—Ç—É</li>
<li>–û–±—ã—á–Ω–æ –æ–¥–∏–Ω –ø—Ä–æ–∫—Å–∏ –Ω–∞ –æ–±—ä–µ–∫—Ç</li>
<li>–§–æ–∫—É—Å –Ω–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–∏ –¥–æ—Å—Ç—É–ø–æ–º</li>
</ul>
<p>–≠—Ç–∏ –ø–∞—Ç—Ç–µ—Ä–Ω—ã –æ—á–µ–Ω—å –ø–æ—Ö–æ–∂–∏, –∏ –≥—Ä–∞–Ω–∏—Ü–∞ –º–µ–∂–¥—É –Ω–∏–º–∏ —Ä–∞–∑–º—ã—Ç–∞.</p>
<h3 id="proxy-vs-facade"><a class="header" href="#proxy-vs-facade">Proxy vs Facade</a></h3>
<p><strong>Facade</strong> (–§–∞—Å–∞–¥):</p>
<ul>
<li>–ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —É–ø—Ä–æ—â—ë–Ω–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∫ —Å–ª–æ–∂–Ω–æ–π –ø–æ–¥—Å–∏—Å—Ç–µ–º–µ</li>
<li>–ú–æ–∂–µ—Ç –æ–±—ä–µ–¥–∏–Ω—è—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –∫–ª–∞—Å—Å–æ–≤</li>
<li>–£–ø—Ä–æ—â–∞–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ</li>
</ul>
<p><strong>Proxy</strong>:</p>
<ul>
<li>–†–∞–±–æ—Ç–∞–µ—Ç —Å –æ–¥–Ω–∏–º –æ–±—ä–µ–∫—Ç–æ–º</li>
<li>–°–æ—Ö—Ä–∞–Ω—è–µ—Ç —Ç–æ—Ç –∂–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å</li>
<li>–ù–µ —É–ø—Ä–æ—â–∞–µ—Ç, –∞ –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ—Ç</li>
</ul>
<h2 id="–†–µ–∑—é–º–µ-11"><a class="header" href="#–†–µ–∑—é–º–µ-11">–†–µ–∑—é–º–µ</a></h2>
<h3 id="–ö–ª—é—á–µ–≤—ã–µ-–∫–æ–Ω—Ü–µ–ø—Ü–∏–∏-3"><a class="header" href="#–ö–ª—é—á–µ–≤—ã–µ-–∫–æ–Ω—Ü–µ–ø—Ü–∏–∏-3">–ö–ª—é—á–µ–≤—ã–µ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏</a></h3>
<ol>
<li><strong>–ü–∞—Ç—Ç–µ—Ä–Ω Proxy</strong> –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞—Ç—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞–¥ –æ–±—ä–µ–∫—Ç–æ–º –∏ –¥–æ–±–∞–≤–ª—è—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—É—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å</li>
<li><strong>JavaScript Proxy</strong> –∏ <strong>GoF Proxy</strong> —Ä–µ—à–∞—é—Ç –æ–¥–Ω—É –∑–∞–¥–∞—á—É —Ä–∞–∑–Ω—ã–º–∏ —Å–ø–æ—Å–æ–±–∞–º–∏</li>
<li><strong>–î–µ–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ</strong> ‚Äî –∫–ª—é—á–µ–≤–∞—è —Ç–µ—Ö–Ω–∏–∫–∞ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ GoF Proxy</li>
<li><strong>–ó–∞–º—ã–∫–∞–Ω–∏–µ –º–æ–¥—É–ª—è</strong> ‚Äî –ø–æ–ª–µ–∑–Ω–∞—è —Ç–µ—Ö–Ω–∏–∫–∞ –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –ø—Ä–∏–≤–∞—Ç–Ω–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è</li>
</ol>
<h3 id="–ö–æ–≥–¥–∞-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å-proxy"><a class="header" href="#–ö–æ–≥–¥–∞-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å-proxy">–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Proxy</a></h3>
<p><strong>–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–∞—Ç—Ç–µ—Ä–Ω Proxy, –∫–æ–≥–¥–∞:</strong></p>
<ul>
<li>‚úÖ –ù—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –±–µ–∑ –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è</li>
<li>‚úÖ –¢—Ä–µ–±—É–µ—Ç—Å—è –ª–µ–Ω–∏–≤–∞—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è</li>
<li>‚úÖ –ù–µ–æ–±—Ö–æ–¥–∏–º–æ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤</li>
<li>‚úÖ –ù—É–∂–µ–Ω –∫–æ–Ω—Ç—Ä–æ–ª—å –¥–æ—Å—Ç—É–ø–∞</li>
<li>‚úÖ –¢—Ä–µ–±—É–µ—Ç—Å—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–ª–∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥</li>
<li>‚úÖ –í–∞–∂–Ω–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å (–∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ GoF Proxy)</li>
</ul>
<p><strong>–ò–∑–±–µ–≥–∞–π—Ç–µ –ø–∞—Ç—Ç–µ—Ä–Ω–∞ Proxy, –∫–æ–≥–¥–∞:</strong></p>
<ul>
<li>‚ùå Overhead –Ω–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –Ω–µ–ø—Ä–∏–µ–º–ª–µ–º</li>
<li>‚ùå –ö–æ–¥ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è —Å–ª–∏—à–∫–æ–º —Å–ª–æ–∂–Ω—ã–º</li>
<li>‚ùå –ü—Ä–æ—Å—Ç–æ–µ –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ —Ä–µ—à–∞–µ—Ç –∑–∞–¥–∞—á—É –ª—É—á—à–µ</li>
</ul>
<h3 id="–í—ã–±–æ—Ä-–º–µ–∂–¥—É-–ø–æ–¥—Ö–æ–¥–∞–º–∏"><a class="header" href="#–í—ã–±–æ—Ä-–º–µ–∂–¥—É-–ø–æ–¥—Ö–æ–¥–∞–º–∏">–í—ã–±–æ—Ä –º–µ–∂–¥—É –ø–æ–¥—Ö–æ–¥–∞–º–∏</a></h3>
<pre><code class="language-javascript">// JavaScript Proxy - –¥–ª—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π –≥–∏–±–∫–æ—Å—Ç–∏
const proxy = new Proxy(obj, {
  get(target, property) { /* ... */ },
  set(target, property, value) { /* ... */ },
  // ... –º–Ω–æ–≥–æ –¥—Ä—É–≥–∏—Ö –ø–µ—Ä–µ—Ö–≤–∞—Ç—á–∏–∫–æ–≤
});

// GoF Proxy - –¥–ª—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –∏ —è—Å–Ω–æ—Å—Ç–∏
class OptimizedProxy {
  constructor(obj) {
    this.obj = obj;
  }

  method() {
    // –ö–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ–º–æ–µ –¥–µ–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
    return this.obj.method();
  }
}
</code></pre>
<h3 id="–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ-—Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏-10"><a class="header" href="#–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ-—Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏-10">–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏</a></h3>
<ol>
<li><strong>–î–ª—è production –∫–æ–¥–∞</strong> –æ—Ç–¥–∞–≤–∞–π—Ç–µ –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏–µ GoF Proxy</li>
<li><strong>–î–ª—è –æ—Ç–ª–∞–¥–∫–∏ –∏ –ø—Ä–æ—Ç–æ—Ç–∏–ø–∏—Ä–æ–≤–∞–Ω–∏—è</strong> –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ JavaScript Proxy</li>
<li><strong>–ö–æ–º–±–∏–Ω–∏—Ä—É–π—Ç–µ</strong> —Å –∑–∞–º—ã–∫–∞–Ω–∏–µ–º –º–æ–¥—É–ª—è –¥–ª—è –ø—Ä–∏–≤–∞—Ç–Ω–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è</li>
<li><strong>–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ TypeScript</strong> –¥–ª—è —è–≤–Ω–æ–≥–æ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤</li>
<li><strong>–î–æ–∫—É–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ</strong> –¥–æ–±–∞–≤–ª–µ–Ω–Ω—É—é –ø—Ä–æ–∫—Å–∏ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å</li>
<li><strong>–ò–∑–º–µ—Ä—è–π—Ç–µ</strong> –≤–ª–∏—è–Ω–∏–µ –Ω–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å</li>
</ol>
<h2 id="–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ-–º–∞—Ç–µ—Ä–∏–∞–ª—ã-10"><a class="header" href="#–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ-–º–∞—Ç–µ—Ä–∏–∞–ª—ã-10">–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã</a></h2>
<h3 id="–°–≤—è–∑–∞–Ω–Ω—ã–µ-–ø–∞—Ç—Ç–µ—Ä–Ω—ã-4"><a class="header" href="#–°–≤—è–∑–∞–Ω–Ω—ã–µ-–ø–∞—Ç—Ç–µ—Ä–Ω—ã-4">–°–≤—è–∑–∞–Ω–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã</a></h3>
<ul>
<li><strong>Adapter</strong> ‚Äî –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤</li>
<li><strong>Decorator</strong> ‚Äî –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏</li>
<li><strong>Facade</strong> ‚Äî —É–ø—Ä–æ—â–µ–Ω–∏–µ —Å–ª–æ–∂–Ω—ã—Ö –ø–æ–¥—Å–∏—Å—Ç–µ–º</li>
</ul>
<h3 id="–°–≤—è–∑–∞–Ω–Ω—ã–µ-–∫–æ–Ω—Ü–µ–ø—Ü–∏–∏-2"><a class="header" href="#–°–≤—è–∑–∞–Ω–Ω—ã–µ-–∫–æ–Ω—Ü–µ–ø—Ü–∏–∏-2">–°–≤—è–∑–∞–Ω–Ω—ã–µ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏</a></h3>
<ul>
<li><strong>–î–µ–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ</strong> ‚Äî –ø–µ—Ä–µ–¥–∞—á–∞ –≤—ã–∑–æ–≤–æ–≤ –¥—Ä—É–≥–æ–º—É –æ–±—ä–µ–∫—Ç—É</li>
<li><strong>–ó–∞–º—ã–∫–∞–Ω–∏–µ</strong> ‚Äî —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–∏–≤–∞—Ç–Ω–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è</li>
<li><strong>–ö–æ–º–ø–æ–∑–∏—Ü–∏—è</strong> ‚Äî –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏—é</li>
</ul>
<h3 id="–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ-–≤-—Ä–µ–∞–ª—å–Ω—ã—Ö-–ø—Ä–æ–µ–∫—Ç–∞—Ö-1"><a class="header" href="#–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ-–≤-—Ä–µ–∞–ª—å–Ω—ã—Ö-–ø—Ä–æ–µ–∫—Ç–∞—Ö-1">–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –≤ —Ä–µ–∞–ª—å–Ω—ã—Ö –ø—Ä–æ–µ–∫—Ç–∞—Ö</a></h3>
<ul>
<li>–§—Ä–µ–π–º–≤–æ—Ä–∫–∏ –¥–ª—è —Ä–µ–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ (Vue.js, MobX)</li>
<li>ORM –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ (Sequelize, TypeORM)</li>
<li>–°–∏—Å—Ç–µ–º—ã –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞</li>
<li>–ë–∏–±–ª–∏–æ—Ç–µ–∫–∏ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å API</li>
<li>–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è (–º–æ–∫–∏ –∏ —Å—Ç–∞–±—ã)</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="–ü–∞—Ç—Ç–µ—Ä–Ω-facade-–§–∞—Å–∞–¥"><a class="header" href="#–ü–∞—Ç—Ç–µ—Ä–Ω-facade-–§–∞—Å–∞–¥">–ü–∞—Ç—Ç–µ—Ä–Ω Facade (–§–∞—Å–∞–¥)</a></h1>
<h2 id="–û–±–∑–æ—Ä-22"><a class="header" href="#–û–±–∑–æ—Ä-22">–û–±–∑–æ—Ä</a></h2>
<p><strong>–§–∞—Å–∞–¥</strong> ‚Äî —ç—Ç–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–Ω—ã–π –ø–∞—Ç—Ç–µ—Ä–Ω –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –ø—Ä–æ—Å—Ç–æ–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∫ —Å–ª–æ–∂–Ω–æ–π –ø–æ–¥—Å–∏—Å—Ç–µ–º–µ, —Å–æ–¥–µ—Ä–∂–∞—â–µ–π –º–Ω–æ–∂–µ—Å—Ç–≤–æ –≤–∑–∞–∏–º–æ—Å–≤—è–∑–∞–Ω–Ω—ã—Ö –∫–ª–∞—Å—Å–æ–≤. –§–∞—Å–∞–¥ –∏–∑–æ–ª–∏—Ä—É–µ—Ç –≤–Ω—É—Ç—Ä–µ–Ω–Ω—é—é —Å–ª–æ–∂–Ω–æ—Å—Ç—å –ø–æ–¥—Å–∏—Å—Ç–µ–º—ã, –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—è –Ω–∞—Ä—É–∂—É –ø—Ä–æ—Å—Ç–æ–π –∏ –ø–æ–Ω—è—Ç–Ω—ã–π API.</p>
<p><strong>–û—Å–Ω–æ–≤–Ω–∞—è –∏–¥–µ—è</strong>: –°–∫—Ä—ã—Ç—å —Å–ª–æ–∂–Ω–æ—Å—Ç—å –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –∑–∞ –ø—Ä–æ—Å—Ç—ã–º, —Å—Ç–∞–±–∏–ª—å–Ω—ã–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º.</p>
<hr />
<h2 id="–û—Ç–ª–∏—á–∏–µ-–æ—Ç-–ø–æ—Ö–æ–∂–∏—Ö-–ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤"><a class="header" href="#–û—Ç–ª–∏—á–∏–µ-–æ—Ç-–ø–æ—Ö–æ–∂–∏—Ö-–ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤">–û—Ç–ª–∏—á–∏–µ –æ—Ç –ø–æ—Ö–æ–∂–∏—Ö –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤</a></h2>
<h3 id="–§–∞—Å–∞–¥-vs-–ê–¥–∞–ø—Ç–µ—Ä"><a class="header" href="#–§–∞—Å–∞–¥-vs-–ê–¥–∞–ø—Ç–µ—Ä">–§–∞—Å–∞–¥ vs –ê–¥–∞–ø—Ç–µ—Ä</a></h3>
<p><strong>–ê–¥–∞–ø—Ç–µ—Ä</strong>:</p>
<ul>
<li>–ó–∞–∫—Ä—ã–≤–∞–µ—Ç <strong>–æ–¥–Ω—É –∞–±—Å—Ç—Ä–∞–∫—Ü–∏—é</strong> (–æ–¥–∏–Ω –∫–ª–∞—Å—Å –∏–ª–∏ –æ–±—ä–µ–∫—Ç)</li>
<li>–ü—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –æ–¥–Ω–æ–≥–æ –∫–ª–∞—Å—Å–∞ –≤ –¥—Ä—É–≥–æ–π</li>
</ul>
<p><strong>–§–∞—Å–∞–¥</strong>:</p>
<ul>
<li>–ó–∞–∫—Ä—ã–≤–∞–µ—Ç –∏ –∏–∑–æ–ª–∏—Ä—É–µ—Ç <strong>—Ü–µ–ª—É—é –ø–æ–¥—Å–∏—Å—Ç–µ–º—É</strong> (–º–Ω–æ–≥–æ –∫–ª–∞—Å—Å–æ–≤)</li>
<li>–£–ø—Ä–æ—â–∞–µ—Ç —Ä–∞–±–æ—Ç—É —Å–æ –º–Ω–æ–∂–µ—Å—Ç–≤–æ–º –≤–∑–∞–∏–º–æ—Å–≤—è–∑–∞–Ω–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤</li>
</ul>
<h3 id="–§–∞—Å–∞–¥-vs-–ü—Ä–æ–∫—Å–∏-1"><a class="header" href="#–§–∞—Å–∞–¥-vs-–ü—Ä–æ–∫—Å–∏-1">–§–∞—Å–∞–¥ vs –ü—Ä–æ–∫—Å–∏</a></h3>
<p><strong>–ü—Ä–æ–∫—Å–∏</strong>:</p>
<ul>
<li>–ö–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ—Ç –¥–æ—Å—Ç—É–ø –∫ –æ–¥–Ω–æ–º—É –æ–±—ä–µ–∫—Ç—É</li>
</ul>
<p><strong>–§–∞—Å–∞–¥</strong>:</p>
<ul>
<li>–ü–æ—Ö–æ–∂ –Ω–∞ –ø—Ä–æ–∫—Å–∏, –Ω–æ –¥–ª—è <strong>–±–æ–ª—å—à–∏—Ö –ø–æ–¥—Å–∏—Å—Ç–µ–º</strong></li>
<li>–°–æ–∑–¥–∞—ë—Ç –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—É—é –≥—Ä–∞–Ω–∏—Ü—É –º–µ–∂–¥—É –º–æ–¥—É–ª—è–º–∏</li>
</ul>
<hr />
<h2 id="–ó–∞—á–µ–º-–Ω—É–∂–µ–Ω-–ø–∞—Ç—Ç–µ—Ä–Ω-–§–∞—Å–∞–¥"><a class="header" href="#–ó–∞—á–µ–º-–Ω—É–∂–µ–Ω-–ø–∞—Ç—Ç–µ—Ä–Ω-–§–∞—Å–∞–¥">–ó–∞—á–µ–º –Ω—É–∂–µ–Ω –ø–∞—Ç—Ç–µ—Ä–Ω –§–∞—Å–∞–¥?</a></h2>
<h3 id="1-–°–æ–∑–¥–∞–Ω–∏–µ-–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–æ–π-–≥—Ä–∞–Ω–∏—Ü—ã"><a class="header" href="#1-–°–æ–∑–¥–∞–Ω–∏–µ-–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–æ–π-–≥—Ä–∞–Ω–∏—Ü—ã">1. –°–æ–∑–¥–∞–Ω–∏–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–æ–π –≥—Ä–∞–Ω–∏—Ü—ã</a></h3>
<p>–§–∞—Å–∞–¥ <strong>–Ω–µ –ø–æ–∑–≤–æ–ª—è–µ—Ç "—Ä—ã—Ç—å—Å—è –≤ –∫–∏—à–∫–∞—Ö" –ø–æ–¥—Å–∏—Å—Ç–µ–º—ã</strong>. –û–Ω —Å–æ–∑–¥–∞—ë—Ç —á—ë—Ç–∫—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—É—é –≥—Ä–∞–Ω–∏—Ü—É, –∫–æ—Ç–æ—Ä—É—é –Ω–µ–ª—å–∑—è –ø–µ—Ä–µ—Å–µ–∫–∞—Ç—å.</p>
<pre><code class="language-javascript">// ‚ùå –ë–µ–∑ —Ñ–∞—Å–∞–¥–∞ - –¥–æ—Å—Ç—É–ø –∫–æ –≤—Å–µ–º –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º
const logger = new EventLogger();
const task = new Task('myTask', 5000, () =&gt; {});
task.on('done', () =&gt; logger.log('Task completed'));
task.run();

// ‚úÖ –° —Ñ–∞—Å–∞–¥–æ–º - –ø—Ä–æ—Å—Ç–æ–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
const scheduler = new Scheduler();
scheduler.task('myTask', 5000, () =&gt; {
  console.log('Task executed');
});
</code></pre>
<h3 id="2-–ò–∑–æ–ª—è—Ü–∏—è-—Å–ª–æ–∂–Ω–æ—Å—Ç–∏"><a class="header" href="#2-–ò–∑–æ–ª—è—Ü–∏—è-—Å–ª–æ–∂–Ω–æ—Å—Ç–∏">2. –ò–∑–æ–ª—è—Ü–∏—è —Å–ª–æ–∂–Ω–æ—Å—Ç–∏</a></h3>
<p>–ü–æ–¥—Å–∏—Å—Ç–µ–º–æ–π —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è <strong>–ø—Ä–æ—â–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è</strong>. –í—Å—è –≤–Ω—É—Ç—Ä–µ–Ω–Ω—è—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å —Å–∫—Ä—ã—Ç–∞ –∑–∞ –ø—Ä–æ—Å—Ç—ã–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º.</p>
<p><strong>–ü—Ä–∏–º–µ—Ä</strong>: –í–Ω—É—Ç—Ä–∏ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞ (scheduler) –º–æ–∂–µ—Ç –±—ã—Ç—å:</p>
<ul>
<li>–°–ª–æ–∂–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —Ç–∞–π–º–µ—Ä–æ–≤</li>
<li>–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è</li>
<li>–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–±—ã—Ç–∏–π</li>
<li>–í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –Ω–∞ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö –ø—Ä–æ—Ü–µ—Å—Å–∞—Ö/–ø–æ—Ç–æ–∫–∞—Ö</li>
</ul>
<p><strong>–°–Ω–∞—Ä—É–∂–∏</strong>: –í—Å–µ–≥–æ –æ–¥–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è <code>scheduler.task()</code> –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –∑–∞–¥–∞—á–∏.</p>
<h3 id="3-–ö–æ–Ω—Ç—Ä–∞–∫—Ç–Ω–æ–µ-–ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ"><a class="header" href="#3-–ö–æ–Ω—Ç—Ä–∞–∫—Ç–Ω–æ–µ-–ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ">3. –ö–æ–Ω—Ç—Ä–∞–∫—Ç–Ω–æ–µ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ</a></h3>
<p>–û–¥–Ω–∞ –ø–æ–¥—Å–∏—Å—Ç–µ–º–∞ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤—É–µ—Ç —Å –¥—Ä—É–≥–æ–π <strong>—á–µ—Ä–µ–∑ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã–π –∫–æ–Ω—Ç—Ä–∞–∫—Ç</strong>, –æ—Ç –∫–æ—Ç–æ—Ä–æ–≥–æ –Ω–µ–ª—å–∑—è –æ—Ç—Å—Ç—É–ø–∞—Ç—å.</p>
<p><strong>–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–∞—è –≥—Ä–∞–Ω–∏—Ü–∞ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å</strong>:</p>
<ul>
<li>–ü–æ–∫—Ä—ã—Ç–∞ —Ç–µ—Å—Ç–∞–º–∏</li>
<li>–ü–æ–∫—Ä—ã—Ç–∞ —Ç–∏–ø–∏–∑–∞—Ü–∏–µ–π (TypeScript)</li>
<li>–í–æ—Å–ø—Ä–∏–Ω–∏–º–∞–µ—Ç—Å—è –ø—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç–∞–º–∏ –∫–∞–∫ <strong>—Ä—É–±–µ–∂, –∫–æ—Ç–æ—Ä—ã–π –Ω–µ–ª—å–∑—è –ø–µ—Ä–µ—Å–µ–∫–∞—Ç—å</strong></li>
</ul>
<h3 id="4-–°—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞"><a class="header" href="#4-–°—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞">4. –°—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞</a></h3>
<p>–°–æ–∑–¥–∞—ë—Ç—Å—è <strong>–ø—Ä–æ—Å—Ç–æ–π –∏ —Å—Ç–∞–±–∏–ª—å–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å</strong>. –í–Ω—É—Ç—Ä–∏ –ø–æ–¥—Å–∏—Å—Ç–µ–º—ã –º–æ–∂–Ω–æ —Å–≤–æ–±–æ–¥–Ω–æ –º–µ–Ω—è—Ç—å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é, <strong>–Ω–µ –º–µ–Ω—è—è –≤–Ω–µ—à–Ω–µ–≥–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞</strong>.</p>
<p><strong>–í–æ–∑–º–æ–∂–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤–Ω—É—Ç—Ä–∏</strong>:</p>
<ul>
<li>–†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –ø–∞—Ç—Ç–µ—Ä–Ω–∞ Strategy</li>
<li>–ü–µ—Ä–µ—Ö–æ–¥ –Ω–∞ –º–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω–æ—Å—Ç—å (worker threads)</li>
<li>–ò–∑–º–µ–Ω–µ–Ω–∏–µ –º–µ—Ö–∞–Ω–∏–∑–º–∞ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è</li>
<li>–ó–∞–º–µ–Ω–∞ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞ –¥–∞–Ω–Ω—ã—Ö</li>
</ul>
<p><strong>–ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π –∫–æ–¥ –ø—Ä–∏ —ç—Ç–æ–º –Ω–µ –∏–∑–º–µ–Ω—è–µ—Ç—Å—è!</strong></p>
<hr />
<h2 id="–ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏-–ø–∞—Ç—Ç–µ—Ä–Ω–∞-–§–∞—Å–∞–¥"><a class="header" href="#–ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏-–ø–∞—Ç—Ç–µ—Ä–Ω–∞-–§–∞—Å–∞–¥">–ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏ –ø–∞—Ç—Ç–µ—Ä–Ω–∞ –§–∞—Å–∞–¥</a></h2>
<h3 id="1-–ü–æ—Ç–µ—Ä–∏-–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏-performance-penalty"><a class="header" href="#1-–ü–æ—Ç–µ—Ä–∏-–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏-performance-penalty">1. –ü–æ—Ç–µ—Ä–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ (Performance Penalty)</a></h3>
<p>–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π —É—Ä–æ–≤–µ–Ω—å –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–∏ <strong>–∑–∞–±–∏—Ä–∞–µ—Ç —Ä–µ—Å—É—Ä—Å—ã</strong>:</p>
<ul>
<li>–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –≤—ã–∑–æ–≤—ã —Ñ—É–Ω–∫—Ü–∏–π</li>
<li>–û–±—ë—Ä—Ç—ã–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö</li>
<li>–ö–æ—Å–≤–µ–Ω–Ω–æ—Å—Ç—å (indirection)</li>
</ul>
<pre><code class="language-javascript">// –ü—Ä—è–º–æ–π –≤—ã–∑–æ–≤ (–±—ã—Å—Ç—Ä–µ–µ)
task.execute();

// –ß–µ—Ä–µ–∑ —Ñ–∞—Å–∞–¥ (–º–µ–¥–ª–µ–Ω–Ω–µ–µ, –Ω–æ –ø—Ä–æ—â–µ –∏ –±–µ–∑–æ–ø–∞—Å–Ω–µ–µ)
scheduler.task('myTask', 1000, () =&gt; task.execute());
</code></pre>
<h3 id="2-–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π-–¥–æ–ª–≥-–∞–Ω—Ç–∏–ø–∞—Ç—Ç–µ—Ä–Ω-god-object"><a class="header" href="#2-–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π-–¥–æ–ª–≥-–∞–Ω—Ç–∏–ø–∞—Ç—Ç–µ—Ä–Ω-god-object">2. –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π –¥–æ–ª–≥: –∞–Ω—Ç–∏–ø–∞—Ç—Ç–µ—Ä–Ω God Object</a></h3>
<p>–§–∞—Å–∞–¥—ã –∏–º–µ—é—Ç <strong>—Ç–µ–Ω–¥–µ–Ω—Ü–∏—é —Ä–∞–∑—Ä–∞—Å—Ç–∞—Ç—å—Å—è</strong> –≤ –∞–Ω—Ç–∏–ø–∞—Ç—Ç–µ—Ä–Ω <strong>God Object</strong> (–ë–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–π –æ–±—ä–µ–∫—Ç).</p>
<p><strong>–ö–∞–∫ —ç—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç</strong>:</p>
<pre><code class="language-javascript">// –ù–∞—á–∞–ª–æ - –ø—Ä–æ—Å—Ç–æ–π —Ñ–∞—Å–∞–¥
class Scheduler {
  task(name, time, fn) { /* ... */ }
}

// –°–æ –≤—Ä–µ–º–µ–Ω–µ–º –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è –Ω–æ–≤—ã–µ –º–µ—Ç–æ–¥—ã
class Scheduler {
  task(name, time, fn) { /* ... */ }
  repeatingTask(name, interval, fn) { /* ... */ }
  stopTask(name) { /* ... */ }
  pauseTask(name) { /* ... */ }
  resumeTask(name) { /* ... */ }
  getTaskStatus(name) { /* ... */ }
  getAllTasks() { /* ... */ }
  clearAllTasks() { /* ... */ }
  // ... –∏ —Ç–∞–∫ –¥–∞–ª–µ–µ
}
</code></pre>
<p><strong>–ü—Ä–æ–±–ª–µ–º–∞</strong>: –ö–æ–≥–¥–∞ –ø–æ–¥—Å–∏—Å—Ç–µ–º—ã –∏–º–µ—é—Ç <strong>–±–æ–ª—å—à–æ–µ –∑–∞—Ü–µ–ø–ª–µ–Ω–∏–µ</strong> (coupling), —Ñ–∞—Å–∞–¥ —Ä–∞–∑—Ä–∞—Å—Ç–∞–µ—Ç—Å—è.</p>
<p><strong>–†–µ—à–µ–Ω–∏–µ</strong>: –ü–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏ –∏–∑–≤–ª–µ–∫–∞—Ç—å –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–∏ –∏–∑ –ø–æ–¥—Å–∏—Å—Ç–µ–º—ã, —á—Ç–æ–±—ã —É–º–µ–Ω—å—à–∏—Ç—å –æ–±—ä—ë–º —Ñ–∞—Å–∞–¥–∞.</p>
<hr />
<h2 id="–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–π-–ø—Ä–∏–º–µ—Ä-scheduler-–ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫-–∑–∞–¥–∞—á"><a class="header" href="#–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–π-–ø—Ä–∏–º–µ—Ä-scheduler-–ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫-–∑–∞–¥–∞—á">–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–π –ø—Ä–∏–º–µ—Ä: Scheduler (–ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –∑–∞–¥–∞—á)</a></h2>
<p>–†–∞—Å—Å–º–æ—Ç—Ä–∏–º —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é –ø—Ä–æ—Å—Ç–æ–≥–æ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞ –∑–∞–¥–∞—á, –ø–æ—Ö–æ–∂–µ–≥–æ –Ω–∞ cron, –Ω–æ —Ä–∞–±–æ—Ç–∞—é—â–µ–≥–æ in-memory.</p>
<h3 id="–°—Ç—Ä—É–∫—Ç—É—Ä–∞-–ø–æ–¥—Å–∏—Å—Ç–µ–º—ã"><a class="header" href="#–°—Ç—Ä—É–∫—Ç—É—Ä–∞-–ø–æ–¥—Å–∏—Å—Ç–µ–º—ã">–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–æ–¥—Å–∏—Å—Ç–µ–º—ã</a></h3>
<pre><code>Scheduler (–§–∞—Å–∞–¥)
‚îú‚îÄ‚îÄ EventLogger (–ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–±—ã—Ç–∏–π)
‚îú‚îÄ‚îÄ Task (–±–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å –∑–∞–¥–∞—á–∏)
‚îÇ   ‚îú‚îÄ‚îÄ –ù–∞—Å–ª–µ–¥—É–µ—Ç –æ—Ç EventEmitter
‚îÇ   ‚îú‚îÄ‚îÄ –ú–æ–∂–µ—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å—Å—è –ø–æ timeout
‚îÇ   ‚îî‚îÄ‚îÄ –ú–æ–∂–µ—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å—Å—è –ø–æ interval
‚îî‚îÄ‚îÄ TaskRunner (—É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–¥–∞—á–∞–º–∏)
</code></pre>
<h3 id="–ö–æ–º–ø–æ–Ω–µ–Ω—Ç-1-eventlogger"><a class="header" href="#–ö–æ–º–ø–æ–Ω–µ–Ω—Ç-1-eventlogger">–ö–æ–º–ø–æ–Ω–µ–Ω—Ç 1: EventLogger</a></h3>
<pre><code class="language-javascript">// EventLogger - –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–±—ã—Ç–∏–π –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞
class EventLogger {
  log(message) {
    console.log(`[${new Date().toISOString()}] ${message}`);
  }

  error(message, err) {
    console.error(`[${new Date().toISOString()}] ERROR: ${message}`, err);
  }

  info(message) {
    console.info(`[${new Date().toISOString()}] INFO: ${message}`);
  }
}
</code></pre>
<p><strong>–í–∞–∂–Ω–æ</strong>: Logger –º–æ–∂–µ—Ç –±—ã—Ç—å –∑–∞–º–µ–Ω—ë–Ω ‚Äî –º–æ–∂–µ—Ç –ø–∏—Å–∞—Ç—å –≤ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö, –≤ —Ñ–∞–π–ª, –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å –≤ —Å–∏—Å—Ç–µ–º—É –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –∏ —Ç.–¥.</p>
<h3 id="–ö–æ–º–ø–æ–Ω–µ–Ω—Ç-2-task-–ó–∞–¥–∞—á–∞"><a class="header" href="#–ö–æ–º–ø–æ–Ω–µ–Ω—Ç-2-task-–ó–∞–¥–∞—á–∞">–ö–æ–º–ø–æ–Ω–µ–Ω—Ç 2: Task (–ó–∞–¥–∞—á–∞)</a></h3>
<pre><code class="language-javascript">const { EventEmitter } = require('events');

// Task - –±–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å –¥–ª—è –∑–∞–¥–∞—á –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞
class Task extends EventEmitter {
  constructor(name, time, fn, isInterval = false) {
    super();
    this.name = name;
    this.time = time;        // –ó–∞–¥–µ—Ä–∂–∫–∞ –≤ –º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥–∞—Ö
    this.fn = fn;            // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
    this.isInterval = isInterval;  // timeout –∏–ª–∏ interval
    this.timerId = null;
  }

  run() {
    this.emit('start', this.name);

    if (this.isInterval) {
      // –ü–æ–≤—Ç–æ—Ä—è—é—â–∞—è—Å—è –∑–∞–¥–∞—á–∞ —á–µ—Ä–µ–∑ setInterval
      this.timerId = setInterval(() =&gt; {
        try {
          this.fn();
          this.emit('tick', this.name);
        } catch (err) {
          this.emit('error', this.name, err);
        }
      }, this.time);
    } else {
      // –û–¥–Ω–æ—Ä–∞–∑–æ–≤–∞—è –∑–∞–¥–∞—á–∞ —á–µ—Ä–µ–∑ setTimeout
      this.timerId = setTimeout(() =&gt; {
        try {
          this.fn();
          this.emit('done', this.name);
        } catch (err) {
          this.emit('error', this.name, err);
        }
      }, this.time);
    }
  }

  stop() {
    if (this.timerId) {
      if (this.isInterval) {
        clearInterval(this.timerId);
      } else {
        clearTimeout(this.timerId);
      }
      this.timerId = null;
      this.emit('stop', this.name);
    }
  }
}
</code></pre>
<p><strong>–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ</strong>: –í –¥–∞–Ω–Ω–æ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ñ–ª–∞–≥ <code>isInterval</code> –¥–ª—è —Ä–∞–∑–ª–∏—á–µ–Ω–∏—è —Ç–∏–ø–æ–≤ –∑–∞–¥–∞—á. <strong>–õ—É—á—à–∏–º —Ä–µ—à–µ–Ω–∏–µ–º</strong> –±—ã–ª–æ –±—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–∞—Ç—Ç–µ—Ä–Ω <strong>Strategy</strong> —Å –¥–≤—É–º—è –Ω–∞—Å–ª–µ–¥–Ω–∏–∫–∞–º–∏:</p>
<ul>
<li><code>IntervalTask</code> ‚Äî –¥–ª—è –ø–æ–≤—Ç–æ—Ä—è—é—â–∏—Ö—Å—è –∑–∞–¥–∞—á</li>
<li><code>TimeoutTask</code> ‚Äî –¥–ª—è –æ–¥–Ω–æ—Ä–∞–∑–æ–≤—ã—Ö –∑–∞–¥–∞—á</li>
</ul>
<p>–û–¥–Ω–∞–∫–æ —Ç–µ–∫—É—â–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç, —á—Ç–æ –º—ã –º–æ–∂–µ–º <strong>—Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏—Ç—å –≤–Ω—É—Ç—Ä–µ–Ω–Ω—é—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É, –Ω–µ –º–µ–Ω—è—è –≤–Ω–µ—à–Ω–µ–≥–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ —Ñ–∞—Å–∞–¥–∞</strong>.</p>
<h3 id="–ö–æ–º–ø–æ–Ω–µ–Ω—Ç-3-scheduler-–§–∞—Å–∞–¥"><a class="header" href="#–ö–æ–º–ø–æ–Ω–µ–Ω—Ç-3-scheduler-–§–∞—Å–∞–¥">–ö–æ–º–ø–æ–Ω–µ–Ω—Ç 3: Scheduler (–§–∞—Å–∞–¥)</a></h3>
<pre><code class="language-javascript">// Scheduler - —Ñ–∞—Å–∞–¥ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∑–∞–¥–∞—á–∞–º–∏
class Scheduler extends EventEmitter {
  constructor() {
    super();
    this.tasks = new Map();  // –ö–æ–ª–ª–µ–∫—Ü–∏—è –∑–∞–¥–∞—á
    this.logger = new EventLogger();
  }

  // –ì–ª–∞–≤–Ω—ã–π –º–µ—Ç–æ–¥ —Ñ–∞—Å–∞–¥–∞ - –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –∑–∞–¥–∞—á–∏
  task(name, time, fn) {
    // –°–æ–∑–¥–∞–Ω–∏–µ —ç–∫–∑–µ–º–ø–ª—è—Ä–∞ –∑–∞–¥–∞—á–∏
    const taskInstance = new Task(name, time, fn);

    // –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤ –∫–æ–ª–ª–µ–∫—Ü–∏—é
    this.tasks.set(name, taskInstance);

    // –ü–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ —Å–æ–±—ã—Ç–∏—è –∑–∞–¥–∞—á–∏
    taskInstance.on('start', (taskName) =&gt; {
      this.logger.log(`Task "${taskName}" started`);
    });

    taskInstance.on('done', (taskName) =&gt; {
      this.logger.log(`Task "${taskName}" completed`);
      this.emit('taskDone', taskName);
    });

    taskInstance.on('error', (taskName, err) =&gt; {
      this.logger.error(`Task "${taskName}" failed`, err);
      this.emit('taskError', taskName, err);
    });

    // –ó–∞–ø—É—Å–∫ –∑–∞–¥–∞—á–∏
    taskInstance.run();

    return this; // –î–ª—è —Ü–µ–ø–æ—á–∫–∏ –≤—ã–∑–æ–≤–æ–≤
  }

  // –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –∑–∞–¥–∞—á–∏
  stop(name) {
    const task = this.tasks.get(name);
    if (task) {
      task.stop();
      this.tasks.delete(name);
    }
  }

  // –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –≤—Å–µ—Ö –∑–∞–¥–∞—á
  stopAll() {
    for (const [name, task] of this.tasks) {
      task.stop();
    }
    this.tasks.clear();
  }
}
</code></pre>
<h3 id="–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ-—Ñ–∞—Å–∞–¥–∞-usage"><a class="header" href="#–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ-—Ñ–∞—Å–∞–¥–∞-usage">–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ñ–∞—Å–∞–¥–∞ (Usage)</a></h3>
<pre><code class="language-javascript">// ============================================
// USAGE SECTION (–Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ –¥—Ä—É–≥–æ–º —Ñ–∞–π–ª–µ)
// ============================================

const scheduler = new Scheduler();

// –ü–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ —Å–æ–±—ã—Ç–∏—è –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
scheduler.on('taskDone', (taskName) =&gt; {
  console.log(`‚úÖ –ó–∞–¥–∞—á–∞ "${taskName}" –≤—ã–ø–æ–ª–Ω–µ–Ω–∞!`);
});

scheduler.on('taskError', (taskName, err) =&gt; {
  console.error(`‚ùå –û—à–∏–±–∫–∞ –≤ –∑–∞–¥–∞—á–µ "${taskName}":`, err.message);
});

// –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∑–∞–¥–∞—á —á–µ—Ä–µ–∑ –ø—Ä–æ—Å—Ç–æ–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
scheduler.task('sendEmail', 3000, () =&gt; {
  console.log('üìß –û—Ç–ø—Ä–∞–≤–∫–∞ email...');
  // –õ–æ–≥–∏–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ email
});

scheduler.task('cleanupTemp', 5000, () =&gt; {
  console.log('üßπ –û—á–∏—Å—Ç–∫–∞ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤...');
  // –õ–æ–≥–∏–∫–∞ –æ—á–∏—Å—Ç–∫–∏
});

scheduler.task('backupDatabase', 10000, () =&gt; {
  console.log('üíæ –†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö...');
  // –õ–æ–≥–∏–∫–∞ –±—ç–∫–∞–ø–∞
});

// –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –∑–∞–¥–∞—á–∏
setTimeout(() =&gt; {
  scheduler.stop('sendEmail');
}, 8000);

// –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –≤—Å–µ—Ö –∑–∞–¥–∞—á –ø—Ä–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏ –ø—Ä–æ–≥—Ä–∞–º–º—ã
process.on('SIGINT', () =&gt; {
  console.log('\nüõë –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –≤—Å–µ—Ö –∑–∞–¥–∞—á...');
  scheduler.stopAll();
  process.exit(0);
});
</code></pre>
<hr />
<h2 id="–ö–ª—é—á–µ–≤—ã–µ-–Ω–∞–±–ª—é–¥–µ–Ω–∏—è-–∏–∑-–ø—Ä–∏–º–µ—Ä–∞"><a class="header" href="#–ö–ª—é—á–µ–≤—ã–µ-–Ω–∞–±–ª—é–¥–µ–Ω–∏—è-–∏–∑-–ø—Ä–∏–º–µ—Ä–∞">–ö–ª—é—á–µ–≤—ã–µ –Ω–∞–±–ª—é–¥–µ–Ω–∏—è –∏–∑ –ø—Ä–∏–º–µ—Ä–∞</a></h2>
<h3 id="1-–ò–∑–æ–ª—è—Ü–∏—è-—Å–ª–æ–∂–Ω–æ—Å—Ç–∏"><a class="header" href="#1-–ò–∑–æ–ª—è—Ü–∏—è-—Å–ª–æ–∂–Ω–æ—Å—Ç–∏">1. –ò–∑–æ–ª—è—Ü–∏—è —Å–ª–æ–∂–Ω–æ—Å—Ç–∏</a></h3>
<p><strong>–ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π –∫–æ–¥ –Ω–µ –∑–Ω–∞–µ—Ç</strong>:</p>
<ul>
<li>–ß—Ç–æ –≤–Ω—É—Ç—Ä–∏ –µ—Å—Ç—å –∫–ª–∞—Å—Å <code>Task</code></li>
<li>–ö–∞–∫ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã —Ç–∞–π–º–µ—Ä—ã</li>
<li>–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å–∏—Å—Ç–µ–º–∞ —Å–æ–±—ã—Ç–∏–π</li>
<li>–ß—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è <code>EventEmitter</code></li>
</ul>
<p><strong>–ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π –∫–æ–¥ –≤–∏–¥–∏—Ç —Ç–æ–ª—å–∫–æ</strong>:</p>
<pre><code class="language-javascript">scheduler.task(name, time, fn);
</code></pre>
<h3 id="2-–°–≤–æ–±–æ–¥–∞-—Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞"><a class="header" href="#2-–°–≤–æ–±–æ–¥–∞-—Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞">2. –°–≤–æ–±–æ–¥–∞ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞</a></h3>
<p>–ú—ã –º–æ–∂–µ–º –∏–∑–º–µ–Ω–∏—Ç—å –≤–Ω—É—Ç—Ä–µ–Ω–Ω—é—é —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é:</p>
<h4 id="–†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥-1-–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ-strategy"><a class="header" href="#–†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥-1-–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ-strategy">–†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ 1: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Strategy</a></h4>
<pre><code class="language-javascript">// –ë–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å –∑–∞–¥–∞—á–∏
class Task extends EventEmitter {
  constructor(name, strategy, fn) {
    super();
    this.name = name;
    this.strategy = strategy; // –°—Ç—Ä–∞—Ç–µ–≥–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
    this.fn = fn;
  }

  run() {
    this.strategy.execute(this);
  }
}

// –°—Ç—Ä–∞—Ç–µ–≥–∏—è –¥–ª—è timeout
class TimeoutStrategy {
  constructor(time) {
    this.time = time;
  }

  execute(task) {
    setTimeout(() =&gt; {
      task.fn();
      task.emit('done', task.name);
    }, this.time);
  }
}

// –°—Ç—Ä–∞—Ç–µ–≥–∏—è –¥–ª—è interval
class IntervalStrategy {
  constructor(interval) {
    this.interval = interval;
  }

  execute(task) {
    setInterval(() =&gt; {
      task.fn();
      task.emit('tick', task.name);
    }, this.interval);
  }
}
</code></pre>
<p><strong>–í–∞–∂–Ω–æ</strong>: –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Ñ–∞—Å–∞–¥–∞ <code>scheduler.task(name, time, fn)</code> <strong>–æ—Å—Ç–∞—ë—Ç—Å—è –Ω–µ–∏–∑–º–µ–Ω–Ω—ã–º</strong>!</p>
<h4 id="–†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥-2-–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ-worker-threads"><a class="header" href="#–†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥-2-–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ-worker-threads">–†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ 2: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Worker Threads</a></h4>
<pre><code class="language-javascript">const { Worker } = require('worker_threads');

class Scheduler extends EventEmitter {
  task(name, time, fn) {
    // –¢–µ–ø–µ—Ä—å –∑–∞–¥–∞—á–∏ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –≤ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö –ø–æ—Ç–æ–∫–∞—Ö
    const worker = new Worker('./task-worker.js', {
      workerData: { name, time, fn: fn.toString() }
    });

    worker.on('message', (msg) =&gt; {
      if (msg.type === 'done') {
        this.emit('taskDone', name);
      }
    });

    // –í–Ω–µ—à–Ω–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –ù–ï –ò–ó–ú–ï–ù–ò–õ–°–Ø!
  }
}
</code></pre>
<h3 id="3-–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–∞—è-–≥—Ä–∞–Ω–∏—Ü–∞"><a class="header" href="#3-–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–∞—è-–≥—Ä–∞–Ω–∏—Ü–∞">3. –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–∞—è –≥—Ä–∞–Ω–∏—Ü–∞</a></h3>
<pre><code>‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ         –ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π –∫–æ–¥                  ‚îÇ
‚îÇ  (–±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è)             ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
               ‚îÇ
               ‚îÇ scheduler.task(...)
               ‚îÇ
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ         –§–ê–°–ê–î (Scheduler)               ‚îÇ ‚Üê –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–∞—è –≥—Ä–∞–Ω–∏—Ü–∞
‚îÇ  - –ü—Ä–æ—Å—Ç–æ–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å                    ‚îÇ
‚îÇ  - –°—Ç–∞–±–∏–ª—å–Ω—ã–π –∫–æ–Ω—Ç—Ä–∞–∫—Ç                  ‚îÇ
‚îÇ  - –ü–æ–∫—Ä—ã—Ç —Ç–µ—Å—Ç–∞–º–∏ –∏ —Ç–∏–ø–∞–º–∏              ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
               ‚îÇ
    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
    ‚îÇ                     ‚îÇ
‚îå‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îê          ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  Task  ‚îÇ          ‚îÇ  Logger  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò          ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
    ‚îÇ                     ‚îÇ
  (–°–ª–æ–∂–Ω–∞—è –≤–Ω—É—Ç—Ä–µ–Ω–Ω—è—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞)
</code></pre>
<p><strong>–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –≥—Ä–∞–Ω–∏—Ü—ã</strong>:</p>
<ul>
<li>–ë–∏–∑–Ω–µ—Å-–∫–æ–¥ –Ω–µ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π</li>
<li>–ú–æ–∂–Ω–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏—Ç—å –ø–æ–¥—Å–∏—Å—Ç–µ–º—É</li>
<li>–£–ø—Ä–æ—â–∞–µ—Ç—Å—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ</li>
<li>–£–ª—É—á—à–∞–µ—Ç—Å—è —á–∏—Ç–∞–µ–º–æ—Å—Ç—å –∫–æ–¥–∞</li>
</ul>
<hr />
<h2 id="–ü—Ä–∏–Ω—Ü–∏–ø-–ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞-—Ñ–∞—Å–∞–¥–∞"><a class="header" href="#–ü—Ä–∏–Ω—Ü–∏–ø-–ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞-—Ñ–∞—Å–∞–¥–∞">–ü—Ä–∏–Ω—Ü–∏–ø –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ —Ñ–∞—Å–∞–¥–∞</a></h2>
<h3 id="–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å-–ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∏—Ç-–∫–ª–∏–µ–Ω—Ç—É"><a class="header" href="#–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å-–ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∏—Ç-–∫–ª–∏–µ–Ω—Ç—É">–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∏—Ç –∫–ª–∏–µ–Ω—Ç—É</a></h3>
<blockquote>
<p><strong>–í–∞–∂–Ω—ã–π –ø—Ä–∏–Ω—Ü–∏–ø</strong>: –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Ñ–∞—Å–∞–¥–∞ ‚Äî —ç—Ç–æ <strong>–∞—Ç—Ä–∏–±—É—Ç –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–π —Å—Ç–æ—Ä–æ–Ω—ã</strong>, –∞ –Ω–µ —Ä–µ–∞–ª–∏–∑—É—é—â–µ–π —Å—Ç–æ—Ä–æ–Ω—ã.</p>
</blockquote>
<p><strong>–ö–ª–∏–µ–Ω—Ç—Å–∫–∞—è —Å—Ç–æ—Ä–æ–Ω–∞</strong> ‚Äî —Ç–∞, –∫–æ—Ç–æ—Ä–∞—è <strong>–∏—Å–ø–æ–ª—å–∑—É–µ—Ç</strong> –∞–±—Å—Ç—Ä–∞–∫—Ü–∏—é.
<strong>–°–µ—Ä–≤–µ—Ä–Ω–∞—è —Å—Ç–æ—Ä–æ–Ω–∞</strong> ‚Äî —Ç–∞, –∫–æ—Ç–æ—Ä–∞—è <strong>–ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç</strong> —É—Å–ª—É–≥–∏.</p>
<pre><code class="language-javascript">// ‚ùå –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ - –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –æ—Ç —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏
class Scheduler {
  addTaskToCollection(task) { /* ... */ }
  createTimerForTask(task) { /* ... */ }
  attachEventListeners(task) { /* ... */ }
  // –≠—Ç–∏ –º–µ—Ç–æ–¥—ã –æ—Ç—Ä–∞–∂–∞—é—Ç –í–ù–£–¢–†–ï–ù–ù–Æ–Æ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é
}

// ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ - –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –æ—Ç –ø–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç–µ–π –∫–ª–∏–µ–Ω—Ç–∞
class Scheduler {
  task(name, time, fn) { /* ... */ }
  // –≠—Ç–æ—Ç –º–µ—Ç–æ–¥ –æ—Ç—Ä–∞–∂–∞–µ—Ç —Ç–æ, —á—Ç–æ –ù–£–ñ–ù–û –∫–ª–∏–µ–Ω—Ç—É
}
</code></pre>
<h3 id="–ö–ª–∏–µ–Ω—Ç-—Å–µ—Ä–≤–µ—Ä–Ω–æ–µ-–≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ-–≤-–∫–æ–Ω—Ç–µ–∫—Å—Ç–µ-–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã"><a class="header" href="#–ö–ª–∏–µ–Ω—Ç-—Å–µ—Ä–≤–µ—Ä–Ω–æ–µ-–≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ-–≤-–∫–æ–Ω—Ç–µ–∫—Å—Ç–µ-–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã">–ö–ª–∏–µ–Ω—Ç-—Å–µ—Ä–≤–µ—Ä–Ω–æ–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ (–≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã)</a></h3>
<p><strong>–≠—Ç–æ –Ω–µ –ø—Ä–æ —Å–µ—Ç–µ–≤–æ–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ!</strong></p>
<p>–≠—Ç–æ –ø—Ä–æ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏:</p>
<ul>
<li><strong>–ö–ª–∏–µ–Ω—Ç</strong> ‚Äî –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å–µ—Ä–≤–∏—Å</li>
<li><strong>–°–µ—Ä–≤–µ—Ä</strong> ‚Äî –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —Å–µ—Ä–≤–∏—Å</li>
</ul>
<p><strong>–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–∞—è –≥—Ä–∞–Ω–∏—Ü–∞</strong> –º–µ–∂–¥—É –Ω–∏–º–∏:</p>
<ol>
<li>–°–æ—Ö—Ä–∞–Ω—è–µ—Ç —Å–ª–æ–∂–Ω–æ—Å—Ç—å –≤–Ω—É—Ç—Ä–∏</li>
<li>–ù–µ –ø–æ–∑–≤–æ–ª—è–µ—Ç —Å–ª–æ–∂–Ω–æ—Å—Ç–∏ "–ø—Ä–æ—Å–æ—á–∏—Ç—å—Å—è" –≤ –∫–ª–∏–µ–Ω—Ç—Å–∫–∏–π –∫–æ–¥</li>
<li>–§–∞—Å–∞–¥ –º–æ–∂–µ—Ç —Å–ø–æ–∫–æ–π–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –≤ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–µ</li>
</ol>
<pre><code class="language-javascript">// –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ (–∫–ª–∏–µ–Ω—Ç)
class OrderService {
  async processOrder(order) {
    // –ò—Å–ø–æ–ª—å–∑—É–µ–º –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ —á–µ—Ä–µ–∑ –ø—Ä–æ—Å—Ç–æ–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
    scheduler.task('sendConfirmation', 1000, () =&gt; {
      this.sendEmail(order.customer.email);
    });

    // –ù–µ –Ω—É–∂–Ω–æ –∑–Ω–∞—Ç—å –ø—Ä–æ Task, EventLogger –∏ —Ç.–¥.
  }
}
</code></pre>
<hr />
<h2 id="–ö–æ–≥–¥–∞-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å-–ø–∞—Ç—Ç–µ—Ä–Ω-–§–∞—Å–∞–¥"><a class="header" href="#–ö–æ–≥–¥–∞-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å-–ø–∞—Ç—Ç–µ—Ä–Ω-–§–∞—Å–∞–¥">–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–∞—Ç—Ç–µ—Ä–Ω –§–∞—Å–∞–¥</a></h2>
<h3 id="-–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ-–§–∞—Å–∞–¥-–∫–æ–≥–¥–∞"><a class="header" href="#-–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ-–§–∞—Å–∞–¥-–∫–æ–≥–¥–∞">‚úÖ –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –§–∞—Å–∞–¥, –∫–æ–≥–¥–∞:</a></h3>
<ol>
<li>
<p><strong>–ù—É–∂–Ω–æ —É–ø—Ä–æ—Å—Ç–∏—Ç—å —Ä–∞–±–æ—Ç—É —Å–æ —Å–ª–æ–∂–Ω–æ–π –ø–æ–¥—Å–∏—Å—Ç–µ–º–æ–π</strong></p>
<pre><code class="language-javascript">// –í–º–µ—Å—Ç–æ —Ä–∞–±–æ—Ç—ã —Å –º–Ω–æ–∂–µ—Å—Ç–≤–æ–º –∫–ª–∞—Å—Å–æ–≤
const logger = new Logger();
const validator = new Validator();
const parser = new Parser();
const transformer = new Transformer();

// –û–¥–∏–Ω —Ñ–∞—Å–∞–¥
const dataProcessor = new DataProcessor();
dataProcessor.process(data);
</code></pre>
</li>
<li>
<p><strong>–ù—É–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—É—é –≥—Ä–∞–Ω–∏—Ü—É –º–µ–∂–¥—É —Å–ª–æ—è–º–∏</strong></p>
<pre><code>Presentation Layer ‚Üí Facade ‚Üí Business Logic Layer
</code></pre>
</li>
<li>
<p><strong>–ù—É–∂–Ω–∞ —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏</strong></p>
<ul>
<li>–†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤</li>
<li>–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏</li>
<li>–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π</li>
</ul>
</li>
<li>
<p><strong>–•–æ—Ç–∏—Ç–µ —É–º–µ–Ω—å—à–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –º–µ–∂–¥—É –º–æ–¥—É–ª—è–º–∏</strong></p>
<ul>
<li>–ù–∏–∑–∫–æ–µ –∑–∞—Ü–µ–ø–ª–µ–Ω–∏–µ (low coupling)</li>
<li>–í—ã—Å–æ–∫–∞—è —Å–≤—è–∑–Ω–æ—Å—Ç—å (high cohesion)</li>
</ul>
</li>
</ol>
<h3 id="-–ù–µ-–∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ-–§–∞—Å–∞–¥-–∫–æ–≥–¥–∞"><a class="header" href="#-–ù–µ-–∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ-–§–∞—Å–∞–¥-–∫–æ–≥–¥–∞">‚ùå –ù–µ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –§–∞—Å–∞–¥, –∫–æ–≥–¥–∞:</a></h3>
<ol>
<li>
<p><strong>–ü–æ–¥—Å–∏—Å—Ç–µ–º–∞ —É–∂–µ –ø—Ä–æ—Å—Ç–∞</strong></p>
<ul>
<li>–î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ñ–∞—Å–∞–¥–∞ —Ç–æ–ª—å–∫–æ —É—Å–ª–æ–∂–Ω–∏—Ç –∫–æ–¥</li>
</ul>
</li>
<li>
<p><strong>–ù—É–∂–µ–Ω –¥–æ—Å—Ç—É–ø –∫ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º</strong></p>
<ul>
<li>–§–∞—Å–∞–¥ —Å–∫—Ä–æ–µ—Ç –¥–µ—Ç–∞–ª–∏, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥—É—Ç –ø–æ–Ω–∞–¥–æ–±–∏—Ç—å—Å—è</li>
</ul>
</li>
<li>
<p><strong>–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∫—Ä–∏—Ç–∏—á–Ω–∞</strong></p>
<ul>
<li>–ö–∞–∂–¥—ã–π —É—Ä–æ–≤–µ–Ω—å –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–∏ –∏–º–µ–µ—Ç —Å—Ç–æ–∏–º–æ—Å—Ç—å</li>
</ul>
</li>
</ol>
<hr />
<h2 id="–°–≤—è–∑—å-—Å-–¥—Ä—É–≥–∏–º–∏-–ø–∞—Ç—Ç–µ—Ä–Ω–∞–º–∏-4"><a class="header" href="#–°–≤—è–∑—å-—Å-–¥—Ä—É–≥–∏–º–∏-–ø–∞—Ç—Ç–µ—Ä–Ω–∞–º–∏-4">–°–≤—è–∑—å —Å –¥—Ä—É–≥–∏–º–∏ –ø–∞—Ç—Ç–µ—Ä–Ω–∞–º–∏</a></h2>
<h3 id="–§–∞—Å–∞–¥--singleton"><a class="header" href="#–§–∞—Å–∞–¥--singleton">–§–∞—Å–∞–¥ + Singleton</a></h3>
<pre><code class="language-javascript">// –ß–∞—Å—Ç–æ —Ñ–∞—Å–∞–¥ —Ä–µ–∞–ª–∏–∑—É–µ—Ç—Å—è –∫–∞–∫ –æ–¥–∏–Ω–æ—á–∫–∞
class Scheduler {
  static #instance = null;

  static getInstance() {
    if (!Scheduler.#instance) {
      Scheduler.#instance = new Scheduler();
    }
    return Scheduler.#instance;
  }

  // ... –º–µ—Ç–æ–¥—ã —Ñ–∞—Å–∞–¥–∞
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
const scheduler = Scheduler.getInstance();
</code></pre>
<h3 id="–§–∞—Å–∞–¥--factory"><a class="header" href="#–§–∞—Å–∞–¥--factory">–§–∞—Å–∞–¥ + Factory</a></h3>
<pre><code class="language-javascript">class Scheduler {
  task(name, time, fn) {
    // –§–∞—Å–∞–¥ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ñ–∞–±—Ä–∏–∫—É –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–¥–∞—á
    const task = TaskFactory.create(time, fn);
    // ...
  }
}
</code></pre>
<h3 id="–§–∞—Å–∞–¥--strategy"><a class="header" href="#–§–∞—Å–∞–¥--strategy">–§–∞—Å–∞–¥ + Strategy</a></h3>
<pre><code class="language-javascript">class Scheduler {
  constructor(executionStrategy) {
    this.strategy = executionStrategy; // –ú–æ–∂–Ω–æ –º–µ–Ω—è—Ç—å —Å—Ç—Ä–∞—Ç–µ–≥–∏—é
  }

  task(name, time, fn) {
    this.strategy.execute(name, time, fn);
  }
}
</code></pre>
<hr />
<h2 id="–ö–ª—é—á–µ–≤—ã–µ-–≤—ã–≤–æ–¥—ã-23"><a class="header" href="#–ö–ª—é—á–µ–≤—ã–µ-–≤—ã–≤–æ–¥—ã-23">–ö–ª—é—á–µ–≤—ã–µ –≤—ã–≤–æ–¥—ã</a></h2>
<h3 id="1-–û—Å–Ω–æ–≤–Ω–∞—è-—Ü–µ–ª—å-—Ñ–∞—Å–∞–¥–∞"><a class="header" href="#1-–û—Å–Ω–æ–≤–Ω–∞—è-—Ü–µ–ª—å-—Ñ–∞—Å–∞–¥–∞">1. –û—Å–Ω–æ–≤–Ω–∞—è —Ü–µ–ª—å —Ñ–∞—Å–∞–¥–∞</a></h3>
<p><strong>–ò–∑–æ–ª—è—Ü–∏—è —Å–ª–æ–∂–Ω–æ—Å—Ç–∏</strong> –ø–æ–¥—Å–∏—Å—Ç–µ–º—ã –∑–∞ <strong>–ø—Ä–æ—Å—Ç—ã–º –∏ —Å—Ç–∞–±–∏–ª—å–Ω—ã–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º</strong>.</p>
<h3 id="2-–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞"><a class="header" href="#2-–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞">2. –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞</a></h3>
<ul>
<li>‚úÖ –£–ø—Ä–æ—â–µ–Ω–∏–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Å–ª–æ–∂–Ω—ã—Ö –ø–æ–¥—Å–∏—Å—Ç–µ–º</li>
<li>‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã—Ö –≥—Ä–∞–Ω–∏—Ü</li>
<li>‚úÖ –°–≤–æ–±–æ–¥–∞ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏</li>
<li>‚úÖ –£–º–µ–Ω—å—à–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –º–µ–∂–¥—É –º–æ–¥—É–ª—è–º–∏</li>
<li>‚úÖ –ö–æ–Ω—Ç—Ä–∞–∫—Ç–Ω–æ–µ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ</li>
</ul>
<h3 id="3-–ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏"><a class="header" href="#3-–ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏">3. –ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏</a></h3>
<ul>
<li>‚ùå –°–Ω–∏–∂–µ–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ (performance penalty)</li>
<li>‚ùå –†–∏—Å–∫ –ø—Ä–µ–≤—Ä–∞—â–µ–Ω–∏—è –≤ God Object</li>
<li>‚ùå –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π —É—Ä–æ–≤–µ–Ω—å –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–∏</li>
</ul>
<h3 id="4-–ó–æ–ª–æ—Ç–æ–µ-–ø—Ä–∞–≤–∏–ª–æ"><a class="header" href="#4-–ó–æ–ª–æ—Ç–æ–µ-–ø—Ä–∞–≤–∏–ª–æ">4. –ó–æ–ª–æ—Ç–æ–µ –ø—Ä–∞–≤–∏–ª–æ</a></h3>
<blockquote>
<p>–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Ñ–∞—Å–∞–¥–∞ –¥–æ–ª–∂–µ–Ω –æ—Ç—Ä–∞–∂–∞—Ç—å <strong>–ø–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç–∏ –∫–ª–∏–µ–Ω—Ç–∞</strong>, –∞ –Ω–µ <strong>–¥–µ—Ç–∞–ª–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏</strong>.</p>
</blockquote>
<h3 id="5-–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–∞—è-–≥—Ä–∞–Ω–∏—Ü–∞"><a class="header" href="#5-–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–∞—è-–≥—Ä–∞–Ω–∏—Ü–∞">5. –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–∞—è –≥—Ä–∞–Ω–∏—Ü–∞</a></h3>
<p>–§–∞—Å–∞–¥ ‚Äî —ç—Ç–æ <strong>—Ä—É–±–µ–∂, –∫–æ—Ç–æ—Ä—ã–π –Ω–µ–ª—å–∑—è –ø–µ—Ä–µ—Å–µ–∫–∞—Ç—å</strong>:</p>
<ul>
<li>–î–æ–ª–∂–µ–Ω –±—ã—Ç—å –ø–æ–∫—Ä—ã—Ç —Ç–µ—Å—Ç–∞–º–∏</li>
<li>–î–æ–ª–∂–µ–Ω –±—ã—Ç—å —Ç–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω</li>
<li>–î–æ–ª–∂–µ–Ω –±—ã—Ç—å —Å—Ç–∞–±–∏–ª—å–Ω—ã–º</li>
</ul>
<h3 id="6-–ö–æ–≥–¥–∞-—Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏—Ç—å"><a class="header" href="#6-–ö–æ–≥–¥–∞-—Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏—Ç—å">6. –ö–æ–≥–¥–∞ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏—Ç—å</a></h3>
<p>–ï—Å–ª–∏ —Ñ–∞—Å–∞–¥ —Ä–∞–∑—Ä–∞—Å—Ç–∞–µ—Ç—Å—è ‚Äî <strong>–∏–∑–≤–ª–µ–∫–∞–π—Ç–µ –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–∏</strong> –∏–∑ –ø–æ–¥—Å–∏—Å—Ç–µ–º—ã –Ω–∞—Ä—É–∂—É, —á—Ç–æ–±—ã —É–º–µ–Ω—å—à–∏—Ç—å –æ–±—ä—ë–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞.</p>
<hr />
<h2 id="–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ-–ø—Ä–∏–º–µ—Ä—ã-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è"><a class="header" href="#–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ-–ø—Ä–∏–º–µ—Ä—ã-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è">–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è</a></h2>
<h3 id="–ü—Ä–∏–º–µ—Ä-1-–§–∞—Å–∞–¥-–¥–ª—è-—Ä–∞–±–æ—Ç—ã-—Å-—Ñ–∞–π–ª–æ–≤–æ–π-—Å–∏—Å—Ç–µ–º–æ–π"><a class="header" href="#–ü—Ä–∏–º–µ—Ä-1-–§–∞—Å–∞–¥-–¥–ª—è-—Ä–∞–±–æ—Ç—ã-—Å-—Ñ–∞–π–ª–æ–≤–æ–π-—Å–∏—Å—Ç–µ–º–æ–π">–ü—Ä–∏–º–µ—Ä 1: –§–∞—Å–∞–¥ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º–æ–π</a></h3>
<pre><code class="language-javascript">class FileSystem {
  async saveFile(path, content) {
    // –í–Ω—É—Ç—Ä–∏: –≤–∞–ª–∏–¥–∞—Ü–∏—è, —Å–æ–∑–¥–∞–Ω–∏–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π, –∑–∞–ø–∏—Å—å, –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
    await this.#validatePath(path);
    await this.#ensureDirectory(path);
    await this.#writeFile(path, content);
    await this.#logOperation('save', path);
  }

  async readFile(path) {
    // –í–Ω—É—Ç—Ä–∏: –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è, —á—Ç–µ–Ω–∏–µ, –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ
    await this.#checkExists(path);
    const content = await this.#readFromDisk(path);
    this.#cache.set(path, content);
    return content;
  }

  // –ü—Ä–∏–≤–∞—Ç–Ω—ã–µ –º–µ—Ç–æ–¥—ã —Å–∫—Ä—ã—Ç—ã
  #validatePath(path) { /* ... */ }
  #ensureDirectory(path) { /* ... */ }
  #writeFile(path, content) { /* ... */ }
  #logOperation(type, path) { /* ... */ }
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
const fs = new FileSystem();
await fs.saveFile('/data/user.json', JSON.stringify(user));
</code></pre>
<h3 id="–ü—Ä–∏–º–µ—Ä-2-–§–∞—Å–∞–¥-–¥–ª—è-http-–∫–ª–∏–µ–Ω—Ç–∞"><a class="header" href="#–ü—Ä–∏–º–µ—Ä-2-–§–∞—Å–∞–¥-–¥–ª—è-http-–∫–ª–∏–µ–Ω—Ç–∞">–ü—Ä–∏–º–µ—Ä 2: –§–∞—Å–∞–¥ –¥–ª—è HTTP-–∫–ª–∏–µ–Ω—Ç–∞</a></h3>
<pre><code class="language-javascript">class ApiClient {
  async get(endpoint) {
    // –í–Ω—É—Ç—Ä–∏: –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤, –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫, retry –ª–æ–≥–∏–∫–∞
    return this.#request('GET', endpoint);
  }

  async post(endpoint, data) {
    return this.#request('POST', endpoint, data);
  }

  #request(method, endpoint, data) {
    // –°–ª–æ–∂–Ω–∞—è –ª–æ–≥–∏–∫–∞: headers, auth, retries, error handling
  }
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
const api = new ApiClient();
const users = await api.get('/users');
</code></pre>
<hr />
<h2 id="–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ-—Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏-11"><a class="header" href="#–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ-—Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏-11">–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏</a></h2>
<h3 id="1-–î–µ—Ä–∂–∏—Ç–µ-—Ñ–∞—Å–∞–¥-–ø—Ä–æ—Å—Ç—ã–º"><a class="header" href="#1-–î–µ—Ä–∂–∏—Ç–µ-—Ñ–∞—Å–∞–¥-–ø—Ä–æ—Å—Ç—ã–º">1. –î–µ—Ä–∂–∏—Ç–µ —Ñ–∞—Å–∞–¥ –ø—Ä–æ—Å—Ç—ã–º</a></h3>
<pre><code class="language-javascript">// ‚úÖ –•–æ—Ä–æ—à–æ
class Scheduler {
  task(name, time, fn) { /* ... */ }
  stop(name) { /* ... */ }
}

// ‚ùå –ü–ª–æ—Ö–æ - —Å–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ –º–µ—Ç–æ–¥–æ–≤
class Scheduler {
  task() { /* ... */ }
  repeatingTask() { /* ... */ }
  dailyTask() { /* ... */ }
  weeklyTask() { /* ... */ }
  monthlyTask() { /* ... */ }
  cronTask() { /* ... */ }
  // ... –µ—â—ë 20 –º–µ—Ç–æ–¥–æ–≤
}
</code></pre>
<h3 id="2-–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ-typescript-–¥–ª—è-–∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞"><a class="header" href="#2-–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ-typescript-–¥–ª—è-–∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞">2. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ TypeScript –¥–ª—è –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞</a></h3>
<pre><code class="language-typescript">interface IScheduler {
  task(name: string, time: number, fn: () =&gt; void): void;
  stop(name: string): void;
}

class Scheduler implements IScheduler {
  // –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –∫–æ–Ω—Ç—Ä–∞–∫—Ç—É
}
</code></pre>
<h3 id="3-–ü–æ–∫—Ä—ã–≤–∞–π—Ç–µ-—Ç–µ—Å—Ç–∞–º–∏"><a class="header" href="#3-–ü–æ–∫—Ä—ã–≤–∞–π—Ç–µ-—Ç–µ—Å—Ç–∞–º–∏">3. –ü–æ–∫—Ä—ã–≤–∞–π—Ç–µ —Ç–µ—Å—Ç–∞–º–∏</a></h3>
<pre><code class="language-javascript">describe('Scheduler Facade', () =&gt; {
  it('should execute task after specified time', (done) =&gt; {
    const scheduler = new Scheduler();
    const startTime = Date.now();

    scheduler.task('test', 100, () =&gt; {
      const elapsed = Date.now() - startTime;
      expect(elapsed).toBeGreaterThanOrEqual(100);
      done();
    });
  });

  it('should stop task by name', () =&gt; {
    const scheduler = new Scheduler();
    scheduler.task('test', 1000, () =&gt; {});
    scheduler.stop('test');

    expect(scheduler.tasks.has('test')).toBe(false);
  });
});
</code></pre>
<h3 id="4-–î–æ–∫—É–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ-–∫–æ–Ω—Ç—Ä–∞–∫—Ç"><a class="header" href="#4-–î–æ–∫—É–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ-–∫–æ–Ω—Ç—Ä–∞–∫—Ç">4. –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ –∫–æ–Ω—Ç—Ä–∞–∫—Ç</a></h3>
<pre><code class="language-javascript">/**
 * –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –∑–∞–¥–∞—á - —Ñ–∞—Å–∞–¥ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –æ—Ç–ª–æ–∂–µ–Ω–Ω—ã–º –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ–º —Ñ—É–Ω–∫—Ü–∏–π
 *
 * @example
 * const scheduler = new Scheduler();
 * scheduler.task('cleanup', 5000, () =&gt; {
 *   console.log('Cleaning up...');
 * });
 */
class Scheduler {
  /**
   * –î–æ–±–∞–≤–ª—è–µ—Ç –∑–∞–¥–∞—á—É –≤ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫
   * @param {string} name - –£–Ω–∏–∫–∞–ª—å–Ω–æ–µ –∏–º—è –∑–∞–¥–∞—á–∏
   * @param {number} time - –ó–∞–¥–µ—Ä–∂–∫–∞ –≤ –º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥–∞—Ö
   * @param {Function} fn - –§—É–Ω–∫—Ü–∏—è –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
   */
  task(name, time, fn) { /* ... */ }
}
</code></pre>
<hr />
<h2 id="–ó–∞–∫–ª—é—á–µ–Ω–∏–µ-14"><a class="header" href="#–ó–∞–∫–ª—é—á–µ–Ω–∏–µ-14">–ó–∞–∫–ª—é—á–µ–Ω–∏–µ</a></h2>
<p>–ü–∞—Ç—Ç–µ—Ä–Ω <strong>–§–∞—Å–∞–¥</strong> ‚Äî —ç—Ç–æ –º–æ—â–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è <strong>–ø—Ä–æ—Å—Ç—ã—Ö –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤</strong> –∫ <strong>—Å–ª–æ–∂–Ω—ã–º –ø–æ–¥—Å–∏—Å—Ç–µ–º–∞–º</strong>. –û–Ω –ø–æ–∑–≤–æ–ª—è–µ—Ç:</p>
<ol>
<li><strong>–ò–∑–æ–ª–∏—Ä–æ–≤–∞—Ç—å</strong> –≤–Ω—É—Ç—Ä–µ–Ω–Ω—é—é —Å–ª–æ–∂–Ω–æ—Å—Ç—å</li>
<li><strong>–°–æ–∑–¥–∞–≤–∞—Ç—å</strong> –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ –≥—Ä–∞–Ω–∏—Ü—ã –º–µ–∂–¥—É –º–æ–¥—É–ª—è–º–∏</li>
<li><strong>–û–±–µ—Å–ø–µ—á–∏–≤–∞—Ç—å</strong> —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å –≤–Ω–µ—à–Ω–µ–≥–æ API</li>
<li><strong>–£–ø—Ä–æ—â–∞—Ç—å</strong> –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–æ–¥—Å–∏—Å—Ç–µ–º—ã</li>
</ol>
<p>–ü—Ä–∏ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–∏ —Ñ–∞—Å–∞–¥ –¥–µ–ª–∞–µ—Ç –∫–æ–¥ –±–æ–ª–µ–µ <strong>–ø–æ–Ω—è—Ç–Ω—ã–º</strong>, <strong>–ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–º</strong> –∏ <strong>–≥–∏–±–∫–∏–º</strong> –∫ –∏–∑–º–µ–Ω–µ–Ω–∏—è–º.</p>
<p><strong>–ì–ª–∞–≤–Ω–æ–µ –ø—Ä–∞–≤–∏–ª–æ</strong>: –ü—Ä–æ–µ–∫—Ç–∏—Ä—É–π—Ç–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Ñ–∞—Å–∞–¥–∞ –∏—Å—Ö–æ–¥—è –∏–∑ <strong>–ø–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç–µ–π –∫–ª–∏–µ–Ω—Ç–∞</strong>, –∞ –Ω–µ –∏–∑ <strong>–¥–µ—Ç–∞–ª–µ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏</strong>.</p>
<hr />
<h2 id="–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ-–º–∞—Ç–µ—Ä–∏–∞–ª—ã-11"><a class="header" href="#–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ-–º–∞—Ç–µ—Ä–∏–∞–ª—ã-11">–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã</a></h2>
<h3 id="–°–≤—è–∑–∞–Ω–Ω—ã–µ-–ø–∞—Ç—Ç–µ—Ä–Ω—ã-5"><a class="header" href="#–°–≤—è–∑–∞–Ω–Ω—ã–µ-–ø–∞—Ç—Ç–µ—Ä–Ω—ã-5">–°–≤—è–∑–∞–Ω–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã</a></h3>
<ul>
<li><strong>Adapter</strong> ‚Äî –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ –æ–¥–Ω–æ–≥–æ –∫–ª–∞—Å—Å–∞</li>
<li><strong>Proxy</strong> ‚Äî –∫–æ–Ω—Ç—Ä–æ–ª—å –¥–æ—Å—Ç—É–ø–∞ –∫ –æ–±—ä–µ–∫—Ç—É</li>
<li><strong>Mediator</strong> ‚Äî –∫–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è –º–µ–∂–¥—É –æ–±—ä–µ–∫—Ç–∞–º–∏</li>
<li><strong>Strategy</strong> ‚Äî –∏–Ω–∫–∞–ø—Å—É–ª—è—Ü–∏—è –∞–ª–≥–æ—Ä–∏—Ç–º–æ–≤</li>
</ul>
<h3 id="–ü—Ä–∏–Ω—Ü–∏–ø—ã-–ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è-1"><a class="header" href="#–ü—Ä–∏–Ω—Ü–∏–ø—ã-–ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è-1">–ü—Ä–∏–Ω—Ü–∏–ø—ã –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è</a></h3>
<ul>
<li><strong>Low Coupling</strong> ‚Äî –Ω–∏–∑–∫–æ–µ –∑–∞—Ü–µ–ø–ª–µ–Ω–∏–µ –º–µ–∂–¥—É –º–æ–¥—É–ª—è–º–∏</li>
<li><strong>High Cohesion</strong> ‚Äî –≤—ã—Å–æ–∫–∞—è —Å–≤—è–∑–Ω–æ—Å—Ç—å –≤–Ω—É—Ç—Ä–∏ –º–æ–¥—É–ª—è</li>
<li><strong>Interface Segregation Principle</strong> ‚Äî –∫–ª–∏–µ–Ω—Ç—ã –Ω–µ –¥–æ–ª–∂–Ω—ã –∑–∞–≤–∏—Å–µ—Ç—å –æ—Ç –º–µ—Ç–æ–¥–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç</li>
<li><strong>Dependency Inversion Principle</strong> ‚Äî –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –æ—Ç –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–π, –∞ –Ω–µ –æ—Ç –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–π</li>
</ul>
<h3 id="–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–∞—è-–ª–∏—Ç–µ—Ä–∞—Ç—É—Ä–∞-2"><a class="header" href="#–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–∞—è-–ª–∏—Ç–µ—Ä–∞—Ç—É—Ä–∞-2">–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–∞—è –ª–∏—Ç–µ—Ä–∞—Ç—É—Ä–∞</a></h3>
<ul>
<li>"Design Patterns: Elements of Reusable Object-Oriented Software" (GoF)</li>
<li>"Clean Architecture" by Robert C. Martin</li>
<li>"Patterns of Enterprise Application Architecture" by Martin Fowler</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="–ü–∞—Ç—Ç–µ—Ä–Ω-–ö–æ–º–ø–æ–∑–∏—Ç-composite-–¥–ª—è-javascript-–∏-typescript"><a class="header" href="#–ü–∞—Ç—Ç–µ—Ä–Ω-–ö–æ–º–ø–æ–∑–∏—Ç-composite-–¥–ª—è-javascript-–∏-typescript">–ü–∞—Ç—Ç–µ—Ä–Ω ¬´–ö–æ–º–ø–æ–∑–∏—Ç¬ª (Composite) –¥–ª—è JavaScript –∏ TypeScript</a></h1>
<h2 id="–û–±–∑–æ—Ä-23"><a class="header" href="#–û–±–∑–æ—Ä-23">–û–±–∑–æ—Ä</a></h2>
<p><strong>–ö–æ–º–ø–æ–∑–∏—Ç</strong> (Composite) ‚Äî —ç—Ç–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–Ω—ã–π –ø–∞—Ç—Ç–µ—Ä–Ω –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏–∑ –Ω–∞–±–æ—Ä–∞ GoF (Gang of Four), –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∑–≤–æ–ª—è–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å —Å–æ —Å–ª–æ–∂–Ω—ã–º–∏ –∏–µ—Ä–∞—Ä—Ö–∏—á–µ—Å–∫–∏–º–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞–º–∏ –¥–∞–Ω–Ω—ã—Ö —á–µ—Ä–µ–∑ –µ–¥–∏–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å. –ü–∞—Ç—Ç–µ—Ä–Ω —Å–∫—Ä—ã–≤–∞–µ—Ç —Å–ª–æ–∂–Ω–æ—Å—Ç—å –æ–±—Ö–æ–¥–∞ –¥—Ä–µ–≤–æ–≤–∏–¥–Ω—ã—Ö —Å—Ç—Ä—É–∫—Ç—É—Ä –∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —É–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Å–ø–æ—Å–æ–± –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å–æ –≤—Å–µ–º–∏ —É—Ä–æ–≤–Ω—è–º–∏ –≤–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç–∏.</p>
<h2 id="–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ-–ø–∞—Ç—Ç–µ—Ä–Ω–∞-1"><a class="header" href="#–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ-–ø–∞—Ç—Ç–µ—Ä–Ω–∞-1">–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ –ø–∞—Ç—Ç–µ—Ä–Ω–∞</a></h2>
<p>–ü–∞—Ç—Ç–µ—Ä–Ω –ö–æ–º–ø–æ–∑–∏—Ç –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω –¥–ª—è:</p>
<ul>
<li><strong>–†–∞–±–æ—Ç—ã —Å –∏–µ—Ä–∞—Ä—Ö–∏—á–µ—Å–∫–∏–º–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞–º–∏</strong> ‚Äî —É–ø—Ä–æ—â–∞–µ—Ç –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Å –¥–µ—Ä–µ–≤—å—è–º–∏ –æ–±—ä–µ–∫—Ç–æ–≤</li>
<li><strong>–°–æ–∫—Ä—ã—Ç–∏—è —Å–ª–æ–∂–Ω–æ—Å—Ç–∏</strong> ‚Äî –∏–∑–±–∞–≤–ª—è–µ—Ç –æ—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –≤—Ä—É—á–Ω—É—é –æ–±—Ö–æ–¥–∏—Ç—å –∏–µ—Ä–∞—Ä—Ö–∏—é</li>
<li><strong>–£–Ω–∏—Ñ–∏–∫–∞—Ü–∏–∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞</strong> ‚Äî –ø–æ–∑–≤–æ–ª—è–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å —Å –æ—Ç–¥–µ–ª—å–Ω—ã–º–∏ –æ–±—ä–µ–∫—Ç–∞–º–∏ –∏ –∏—Ö –≥—Ä—É–ø–ø–∞–º–∏ –æ–¥–∏–Ω–∞–∫–æ–≤–æ</li>
<li><strong>–ò–∑–±–µ–∂–∞–Ω–∏—è —É—Å–ª–æ–≤–Ω–æ–π –ª–æ–≥–∏–∫–∏</strong> ‚Äî –≤–º–µ—Å—Ç–æ –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ç–∏–ø–æ–≤ —á–µ—Ä–µ–∑ <code>if</code> –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º</li>
</ul>
<h2 id="–ö–ª—é—á–µ–≤–∞—è-–∏–¥–µ—è-1"><a class="header" href="#–ö–ª—é—á–µ–≤–∞—è-–∏–¥–µ—è-1">–ö–ª—é—á–µ–≤–∞—è –∏–¥–µ—è</a></h2>
<p>–í–º–µ—Å—Ç–æ —Ç–æ–≥–æ —á—Ç–æ–±—ã —Ä–µ–∫—É—Ä—Å–∏–≤–Ω–æ –æ–±—Ö–æ–¥–∏—Ç—å –∏–µ—Ä–∞—Ä—Ö–∏—á–µ—Å–∫—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É –∏ –ø—Ä–æ–≤–µ—Ä—è—Ç—å —Å –ø–æ–º–æ—â—å—é —É—Å–ª–æ–≤–∏–π (<code>if</code>), –∫ –∫–∞–∫–æ–º—É –∫–ª–∞—Å—Å—É –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∏—Ç –∫–∞–∂–¥—ã–π —ç–ª–µ–º–µ–Ω—Ç, –ø–∞—Ç—Ç–µ—Ä–Ω –ö–æ–º–ø–æ–∑–∏—Ç –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç <strong>–µ–¥–∏–Ω—ã–π –≤–Ω–µ—à–Ω–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å</strong> –¥–ª—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å–æ –≤—Å–µ–π –≤–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç—å—é —ç–ª–µ–º–µ–Ω—Ç–æ–≤.</p>
<h2 id="–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–π-–ø—Ä–∏–º–µ—Ä-–ö–æ—Ä–∑–∏–Ω–∞-—Ç–æ–≤–∞—Ä–æ–≤"><a class="header" href="#–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–π-–ø—Ä–∏–º–µ—Ä-–ö–æ—Ä–∑–∏–Ω–∞-—Ç–æ–≤–∞—Ä–æ–≤">–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–π –ø—Ä–∏–º–µ—Ä: –ö–æ—Ä–∑–∏–Ω–∞ —Ç–æ–≤–∞—Ä–æ–≤</a></h2>
<h3 id="–û–ø–∏—Å–∞–Ω–∏–µ-–∑–∞–¥–∞—á–∏"><a class="header" href="#–û–ø–∏—Å–∞–Ω–∏–µ-–∑–∞–¥–∞—á–∏">–û–ø–∏—Å–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏</a></h3>
<p>–¢–∏–ø–∏—á–Ω—ã–π –ø—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –ø–∞—Ç—Ç–µ—Ä–Ω–∞ –ö–æ–º–ø–æ–∑–∏—Ç ‚Äî —ç—Ç–æ <strong>–∫–æ—Ä–∑–∏–Ω–∞ —Ç–æ–≤–∞—Ä–æ–≤ –≤ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–º–∞–≥–∞–∑–∏–Ω–µ</strong>, –≥–¥–µ:</p>
<ul>
<li>–ï—Å—Ç—å –æ—Ç–¥–µ–ª—å–Ω—ã–µ <strong>—Ç–æ–≤–∞—Ä—ã</strong> (–ª–∏—Å—Ç—å—è –¥–µ—Ä–µ–≤–∞)</li>
<li>–ï—Å—Ç—å <strong>–≥—Ä—É–ø–ø—ã —Ç–æ–≤–∞—Ä–æ–≤</strong> (—É–∑–ª—ã –¥–µ—Ä–µ–≤–∞)</li>
<li>–ï—Å—Ç—å <strong>–ø–æ–¥–≥—Ä—É–ø–ø—ã</strong> (–≤–ª–æ–∂–µ–Ω–Ω—ã–µ —É–∑–ª—ã)</li>
<li>–£ –∫–∞–∂–¥–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –º–µ—Ç–æ–¥ <code>getPrice()</code> –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Å—Ç–æ–∏–º–æ—Å—Ç–∏</li>
</ul>
<p>–ü—Ä–∏ —ç—Ç–æ–º:</p>
<ul>
<li>–£ —Ç–æ–≤–∞—Ä–∞ <code>getPrice()</code> –ø—Ä–æ—Å—Ç–æ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ü–µ–Ω—É –∏–∑ –ø–æ–ª—è</li>
<li>–£ –≥—Ä—É–ø–ø—ã <code>getPrice()</code> —Å—É–º–º–∏—Ä—É–µ—Ç —Ü–µ–Ω—ã –≤—Å–µ—Ö –≤–ª–æ–∂–µ–Ω–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤</li>
<li>–£ –∫–æ—Ä–∑–∏–Ω—ã <code>getPrice()</code> –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ–±—â—É—é —Å—Ç–æ–∏–º–æ—Å—Ç—å –≤—Å–µ—Ö —Ç–æ–≤–∞—Ä–æ–≤</li>
</ul>
<p>–¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, <strong>–æ–¥–∏–Ω –≤—ã–∑–æ–≤ –∏–∑–≤–Ω–µ</strong> –∑–∞–ø—É—Å–∫–∞–µ—Ç —Ü–µ–ø–æ—á–∫—É –≤—ã–∑–æ–≤–æ–≤ –≤–Ω—É—Ç—Ä–∏ –∏–µ—Ä–∞—Ä—Ö–∏–∏, –∏ —Ü–µ–Ω–∞ —Å–æ–±–∏—Ä–∞–µ—Ç—Å—è –∏–∑ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —É—Ä–æ–≤–Ω–µ–π –≥–ª—É–±–∏–Ω—ã.</p>
<h2 id="–†–µ–∞–ª–∏–∑–∞—Ü–∏—è-–Ω–∞-typescript"><a class="header" href="#–†–µ–∞–ª–∏–∑–∞—Ü–∏—è-–Ω–∞-typescript">–†–µ–∞–ª–∏–∑–∞—Ü–∏—è –Ω–∞ TypeScript</a></h2>
<h3 id="–ë–∞–∑–æ–≤—ã–π-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å"><a class="header" href="#–ë–∞–∑–æ–≤—ã–π-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å">–ë–∞–∑–æ–≤—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å</a></h3>
<pre><code class="language-typescript">// –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥—É—Ç —Ä–µ–∞–ª–∏–∑–æ–≤—ã–≤–∞—Ç—å –≤—Å–µ —ç–ª–µ–º–µ–Ω—Ç—ã –¥–µ—Ä–µ–≤–∞
interface IPriced {
  readonly price: number;
}
</code></pre>
<p><strong>–ö–ª—é—á–µ–≤–æ–π –º–æ–º–µ–Ω—Ç</strong>: –í—Å–µ —ç–ª–µ–º–µ–Ω—Ç—ã –∏–µ—Ä–∞—Ä—Ö–∏–∏ (–∏ —Ç–æ–≤–∞—Ä—ã, –∏ –≥—Ä—É–ø–ø—ã) —Ä–µ–∞–ª–∏–∑—É—é—Ç –æ–¥–∏–Ω –∏ —Ç–æ—Ç –∂–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å <code>IPriced</code> —Å –º–µ—Ç–æ–¥–æ–º –ø–æ–ª—É—á–µ–Ω–∏—è —Ü–µ–Ω—ã.</p>
<h3 id="–ö–ª–∞—Å—Å-—Ç–æ–≤–∞—Ä–∞-leaf--–ª–∏—Å—Ç–æ–≤–æ–π-—ç–ª–µ–º–µ–Ω—Ç"><a class="header" href="#–ö–ª–∞—Å—Å-—Ç–æ–≤–∞—Ä–∞-leaf--–ª–∏—Å—Ç–æ–≤–æ–π-—ç–ª–µ–º–µ–Ω—Ç">–ö–ª–∞—Å—Å —Ç–æ–≤–∞—Ä–∞ (Leaf ‚Äî –ª–∏—Å—Ç–æ–≤–æ–π —ç–ª–µ–º–µ–Ω—Ç)</a></h3>
<pre><code class="language-typescript">// –õ–∏—Å—Ç–æ–≤–æ–π —ç–ª–µ–º–µ–Ω—Ç ‚Äî —Ç–æ–≤–∞—Ä
class Product implements IPriced {
  private _price: number;

  constructor(price: number) {
    this._price = price;
  }

  // –ì–µ—Ç—Ç–µ—Ä –ø—Ä–æ—Å—Ç–æ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ –∏–∑ –ø–æ–ª—è
  get price(): number {
    return this._price;
  }
}
</code></pre>
<p><strong>–û–±—ä—è—Å–Ω–µ–Ω–∏–µ</strong>:</p>
<ul>
<li><code>Product</code> ‚Äî —ç—Ç–æ –ª–∏—Å—Ç–æ–≤–æ–π —ç–ª–µ–º–µ–Ω—Ç –¥–µ—Ä–µ–≤–∞ (–Ω–µ —Å–æ–¥–µ—Ä–∂–∏—Ç –≤–ª–æ–∂–µ–Ω–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤)</li>
<li>–ú–µ—Ç–æ–¥ <code>get price()</code> –ø—Ä–æ—Å—Ç–æ —á–∏—Ç–∞–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ –∏–∑ –ø—Ä–∏–≤–∞—Ç–Ω–æ–≥–æ –ø–æ–ª—è <code>_price</code></li>
<li>–≠—Ç–æ —Å–∞–º—ã–π –ø—Ä–æ—Å—Ç–æ–π —Å–ª—É—á–∞–π ‚Äî –Ω–µ—Ç –≤–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç–∏, –Ω–µ—Ç —Å–ª–æ–∂–Ω–æ–π –ª–æ–≥–∏–∫–∏</li>
</ul>
<h3 id="–ö–ª–∞—Å—Å-–∫–æ–ª–ª–µ–∫—Ü–∏–∏-composite--–∫–æ–º–ø–æ–∑–∏—Ç–Ω—ã–π-—ç–ª–µ–º–µ–Ω—Ç"><a class="header" href="#–ö–ª–∞—Å—Å-–∫–æ–ª–ª–µ–∫—Ü–∏–∏-composite--–∫–æ–º–ø–æ–∑–∏—Ç–Ω—ã–π-—ç–ª–µ–º–µ–Ω—Ç">–ö–ª–∞—Å—Å –∫–æ–ª–ª–µ–∫—Ü–∏–∏ (Composite ‚Äî –∫–æ–º–ø–æ–∑–∏—Ç–Ω—ã–π —ç–ª–µ–º–µ–Ω—Ç)</a></h3>
<pre><code class="language-typescript">// –ö–æ–º–ø–æ–∑–∏—Ç–Ω—ã–π —ç–ª–µ–º–µ–Ω—Ç ‚Äî –∫–æ–ª–ª–µ–∫—Ü–∏—è —Ç–æ–≤–∞—Ä–æ–≤
class ProductCollection implements IPriced {
  private items: IPriced[] = [];

  add(item: IPriced): void {
    this.items.push(item);
  }

  // –ì–µ—Ç—Ç–µ—Ä –∏—Ç–µ—Ä–∏—Ä—É–µ—Ç—Å—è –ø–æ –≤—Å–µ–º —ç–ª–µ–º–µ–Ω—Ç–∞–º –∏ —Å—É–º–º–∏—Ä—É–µ—Ç –∏—Ö —Ü–µ–Ω—ã
  get price(): number {
    let total = 0;
    for (const item of this.items) {
      total += item.price; // –†–µ–∫—É—Ä—Å–∏–≤–Ω—ã–π –≤—ã–∑–æ–≤ price –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞
    }
    return total;
  }
}
</code></pre>
<p><strong>–û–±—ä—è—Å–Ω–µ–Ω–∏–µ</strong>:</p>
<ul>
<li><code>ProductCollection</code> ‚Äî —ç—Ç–æ –∫–æ–º–ø–æ–∑–∏—Ç–Ω—ã–π —ç–ª–µ–º–µ–Ω—Ç, –∫–æ—Ç–æ—Ä—ã–π —Å–æ–¥–µ—Ä–∂–∏—Ç –∫–æ–ª–ª–µ–∫—Ü–∏—é –¥—Ä—É–≥–∏—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤</li>
<li>–ú–∞—Å—Å–∏–≤ <code>items</code> —Ö—Ä–∞–Ω–∏—Ç —ç–ª–µ–º–µ–Ω—Ç—ã —Ç–∏–ø–∞ <code>IPriced</code> (—ç—Ç–æ –º–æ–≥—É—Ç –±—ã—Ç—å –∫–∞–∫ <code>Product</code>, —Ç–∞–∫ –∏ –¥—Ä—É–≥–∏–µ <code>ProductCollection</code>)</li>
<li>–ú–µ—Ç–æ–¥ <code>get price()</code> —Å–æ–¥–µ—Ä–∂–∏—Ç —Ü–∏–∫–ª, –∫–æ—Ç–æ—Ä—ã–π –≤—ã–∑—ã–≤–∞–µ—Ç <code>price</code> –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –≤–ª–æ–∂–µ–Ω–Ω–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞</li>
<li><strong>–†–µ–∫—É—Ä—Å–∏—è</strong>: –µ—Å–ª–∏ —ç–ª–µ–º–µ–Ω—Ç ‚Äî —ç—Ç–æ —Ç–æ–∂–µ –∫–æ–ª–ª–µ–∫—Ü–∏—è, —Ç–æ –µ—ë <code>price</code> –∑–∞–ø—É—Å—Ç–∏—Ç —Å–≤–æ–π —Ü–∏–∫–ª –∏ —Ç–∞–∫ –¥–∞–ª–µ–µ –≤–≥–ª—É–±—å</li>
</ul>
<h3 id="–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ-–ø–∞—Ç—Ç–µ—Ä–Ω–∞"><a class="header" href="#–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ-–ø–∞—Ç—Ç–µ—Ä–Ω–∞">–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞—Ç—Ç–µ—Ä–Ω–∞</a></h3>
<pre><code class="language-typescript">// –°–æ–∑–¥–∞—ë–º —Ç–æ–≤–∞—Ä—ã
const product1 = new Product(100);
const product2 = new Product(200);
const product3 = new Product(150);
const product4 = new Product(300);

// –°–æ–∑–¥–∞—ë–º –≥—Ä—É–ø–ø—É "–ü—Ä–æ–¥—É–∫—Ç—ã –ø–∏—Ç–∞–Ω–∏—è"
const foodGroup = new ProductCollection();
foodGroup.add(product1);
foodGroup.add(product2);
foodGroup.add(product3);
foodGroup.add(product4);

// –°–æ–∑–¥–∞—ë–º —Ç–æ–≤–∞—Ä—ã –¥–ª—è –¥—Ä—É–≥–æ–π –≥—Ä—É–ø–ø—ã
const textile1 = new Product(500);
const textile2 = new Product(400);

// –°–æ–∑–¥–∞—ë–º –≥—Ä—É–ø–ø—É "–¢–µ–∫—Å—Ç–∏–ª—å"
const textileGroup = new ProductCollection();
textileGroup.add(textile1);
textileGroup.add(textile2);

// –°–æ–∑–¥–∞—ë–º –æ–±—â—É—é –∫–æ—Ä–∑–∏–Ω—É –ø–æ–∫—É–ø–æ–∫
const cart = new ProductCollection();
cart.add(foodGroup);
cart.add(textileGroup);

// –ü–æ–ª—É—á–∞–µ–º –æ–±—â—É—é —Å—Ç–æ–∏–º–æ—Å—Ç—å –æ–¥–Ω–∏–º –≤—ã–∑–æ–≤–æ–º
console.log(cart.price); // –í—ã–≤–µ–¥–µ—Ç: 1650

// –ú–æ–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å —Ü–µ–Ω—É –æ—Ç–¥–µ–ª—å–Ω–æ–π –≥—Ä—É–ø–ø—ã
console.log(foodGroup.price); // –í—ã–≤–µ–¥–µ—Ç: 750
console.log(textileGroup.price); // –í—ã–≤–µ–¥–µ—Ç: 900
</code></pre>
<p><strong>–ö–ª—é—á–µ–≤—ã–µ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞</strong>:</p>
<ul>
<li>–°–Ω–∞—Ä—É–∂–∏ –º—ã <strong>–ø—Ä–æ—Å—Ç–æ —á–∏—Ç–∞–µ–º —Å–≤–æ–π—Å—Ç–≤–æ</strong> <code>cart.price</code>, –∫–∞–∫ –±—É–¥—Ç–æ —ç—Ç–æ –æ–±—ã—á–Ω–æ–µ –ø–æ–ª–µ</li>
<li>–í–Ω—É—Ç—Ä–∏ –∂–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è <strong>—Ü–µ–ª–∞—è –º–∞—à–∏–Ω–µ—Ä–∏—è</strong> —Ä–µ–∫—É—Ä—Å–∏–≤–Ω—ã—Ö –≤—ã–∑–æ–≤–æ–≤</li>
<li>–ù–µ –Ω—É–∂–Ω–æ –∑–Ω–∞—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É –¥–µ—Ä–µ–≤–∞ ‚Äî –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Å–∫—Ä—ã–≤–∞–µ—Ç —Å–ª–æ–∂–Ω–æ—Å—Ç—å</li>
<li>–ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ —Ç–∏–ø—ã —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ –∫–æ–¥–∞ (–ø—Ä–∏–Ω—Ü–∏–ø Open/Closed)</li>
</ul>
<h2 id="–°–æ–±–ª—é–¥–µ–Ω–∏–µ-–ø—Ä–∏–Ω—Ü–∏–ø–æ–≤-solid-1"><a class="header" href="#–°–æ–±–ª—é–¥–µ–Ω–∏–µ-–ø—Ä–∏–Ω—Ü–∏–ø–æ–≤-solid-1">–°–æ–±–ª—é–¥–µ–Ω–∏–µ –ø—Ä–∏–Ω—Ü–∏–ø–æ–≤ SOLID</a></h2>
<h3 id="openclosed-–ø—Ä–∏–Ω—Ü–∏–ø"><a class="header" href="#openclosed-–ø—Ä–∏–Ω—Ü–∏–ø">Open/Closed –ø—Ä–∏–Ω—Ü–∏–ø</a></h3>
<p>–ë–ª–∞–≥–æ–¥–∞—Ä—è –æ–±—â–µ–º—É –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É <code>IPriced</code>:</p>
<ul>
<li>–ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ –∫–ª–∞—Å—Å—ã —ç–ª–µ–º–µ–Ω—Ç–æ–≤ (–Ω–∞–ø—Ä–∏–º–µ—Ä, <code>DiscountedProduct</code>, <code>BundleProduct</code>)</li>
<li>–°—É—â–µ—Å—Ç–≤—É—é—â–∏–π –∫–æ–¥ –Ω–µ –Ω—É–∂–Ω–æ –∏–∑–º–µ–Ω—è—Ç—å</li>
<li>–í—Å–µ –Ω–æ–≤—ã–µ –∫–ª–∞—Å—Å—ã –¥–æ–ª–∂–Ω—ã –ª–∏—à—å —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å <code>IPriced</code></li>
</ul>
<pre><code class="language-typescript">// –ù–æ–≤—ã–π —Ç–∏–ø —ç–ª–µ–º–µ–Ω—Ç–∞ ‚Äî —Ç–æ–≤–∞—Ä —Å–æ —Å–∫–∏–¥–∫–æ–π
class DiscountedProduct implements IPriced {
  private basePrice: number;
  private discount: number;

  constructor(basePrice: number, discount: number) {
    this.basePrice = basePrice;
    this.discount = discount;
  }

  get price(): number {
    return this.basePrice * (1 - this.discount);
  }
}

// –ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –≤ –ª—é–±—É—é –∫–æ–ª–ª–µ–∫—Ü–∏—é –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏—è –µ—ë –∫–æ–¥–∞
const discounted = new DiscountedProduct(1000, 0.2); // 20% —Å–∫–∏–¥–∫–∞
foodGroup.add(discounted);
</code></pre>
<h2 id="–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π-–ø–æ–¥—Ö–æ–¥-–†–µ–∫—É—Ä—Å–∏—è-–≤-javascript"><a class="header" href="#–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π-–ø–æ–¥—Ö–æ–¥-–†–µ–∫—É—Ä—Å–∏—è-–≤-javascript">–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π –ø–æ–¥—Ö–æ–¥: –†–µ–∫—É—Ä—Å–∏—è –≤ JavaScript</a></h2>
<p>–í JavaScript –º–æ–∂–Ω–æ —Ä–µ—à–∏—Ç—å –ø–æ–¥–æ–±–Ω—ã–µ –∑–∞–¥–∞—á–∏ –±–µ–∑ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∫–ª–∞—Å—Å–æ–≤ –∏ –ø–∞—Ç—Ç–µ—Ä–Ω–∞ –ö–æ–º–ø–æ–∑–∏—Ç, –ø—Ä–∏–º–µ–Ω—è—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –ø–æ–¥—Ö–æ–¥ —Å —Ä–µ–∫—É—Ä—Å–∏–µ–π.</p>
<h3 id="–ü—Ä–æ—Å—Ç–æ–π-—Å–ª—É—á–∞–π-–¥–≤—É—Ö—É—Ä–æ–≤–Ω–µ–≤–∞—è-—Å—Ç—Ä—É–∫—Ç—É—Ä–∞"><a class="header" href="#–ü—Ä–æ—Å—Ç–æ–π-—Å–ª—É—á–∞–π-–¥–≤—É—Ö—É—Ä–æ–≤–Ω–µ–≤–∞—è-—Å—Ç—Ä—É–∫—Ç—É—Ä–∞">–ü—Ä–æ—Å—Ç–æ–π —Å–ª—É—á–∞–π: –¥–≤—É—Ö—É—Ä–æ–≤–Ω–µ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞</a></h3>
<pre><code class="language-javascript">// –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö: –º–∞—Å—Å–∏–≤ –≥—Ä—É–ø–ø, –∫–∞–∂–¥–∞—è –≥—Ä—É–ø–ø–∞ —Å–æ–¥–µ—Ä–∂–∏—Ç –º–∞—Å—Å–∏–≤ —Ç–æ–≤–∞—Ä–æ–≤
const orders = [
  {
    name: '–ü—Ä–æ–¥—É–∫—Ç—ã',
    items: [
      { name: '–•–ª–µ–±', price: 50 },
      { name: '–ú–æ–ª–æ–∫–æ', price: 80 },
      { name: '–Ø–π—Ü–∞', price: 120 }
    ]
  },
  {
    name: '–¢–µ–∫—Å—Ç–∏–ª—å',
    items: [
      { name: '–ü–æ–ª–æ—Ç–µ–Ω—Ü–µ', price: 300 },
      { name: '–ü—Ä–æ—Å—Ç—ã–Ω—å', price: 500 }
    ]
  }
];

// –§—É–Ω–∫—Ü–∏—è –ø–æ–¥—Å—á—ë—Ç–∞ –æ–±—â–µ–π —Å—Ç–æ–∏–º–æ—Å—Ç–∏
function calculateTotal(orders) {
  let total = 0;

  // –ò—Ç–µ—Ä–∏—Ä—É–µ–º—Å—è –ø–æ –≥—Ä—É–ø–ø–∞–º (–≤–Ω–µ—à–Ω–∏–π —Ü–∏–∫–ª)
  for (const group of orders) {
    // –°—É–º–º–∏—Ä—É–µ–º —Ü–µ–Ω—ã —Ç–æ–≤–∞—Ä–æ–≤ –≤ –∫–∞–∂–¥–æ–π –≥—Ä—É–ø–ø–µ (reduce)
    total += group.items.reduce((sum, item) =&gt; sum + item.price, 0);
  }

  return total;
}

console.log(calculateTotal(orders)); // –í—ã–≤–µ–¥–µ—Ç: 1050
</code></pre>
<p><strong>–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏</strong>:</p>
<ul>
<li>–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ü–∏–∫–ª <code>for...of</code> –¥–ª—è –æ–±—Ö–æ–¥–∞ –≥—Ä—É–ø–ø</li>
<li>–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –º–µ—Ç–æ–¥ <code>reduce()</code> –¥–ª—è —Å—É–º–º–∏—Ä–æ–≤–∞–Ω–∏—è —Ü–µ–Ω —Ç–æ–≤–∞—Ä–æ–≤</li>
<li><strong>–ù–µ–±–æ–ª—å—à–∞—è –Ω–µ–ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å</strong>: –¥–≤–∞ —Ä–∞–∑–Ω—ã—Ö —Å–ø–æ—Å–æ–±–∞ –∏—Ç–µ—Ä–∞—Ü–∏–∏</li>
<li>–ö–æ–º–ø–∞–∫—Ç–Ω—ã–π –∫–æ–¥ –±–ª–∞–≥–æ–¥–∞—Ä—è –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—è–º JavaScript</li>
</ul>
<h3 id="–°–ª–æ–∂–Ω—ã–π-—Å–ª—É—á–∞–π-–º–Ω–æ–≥–æ—É—Ä–æ–≤–Ω–µ–≤–∞—è-–∏–µ—Ä–∞—Ä—Ö–∏—è"><a class="header" href="#–°–ª–æ–∂–Ω—ã–π-—Å–ª—É—á–∞–π-–º–Ω–æ–≥–æ—É—Ä–æ–≤–Ω–µ–≤–∞—è-–∏–µ—Ä–∞—Ä—Ö–∏—è">–°–ª–æ–∂–Ω—ã–π —Å–ª—É—á–∞–π: –º–Ω–æ–≥–æ—É—Ä–æ–≤–Ω–µ–≤–∞—è –∏–µ—Ä–∞—Ä—Ö–∏—è</a></h3>
<p>–ö–æ–≥–¥–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —É—Å–ª–æ–∂–Ω—è–µ—Ç—Å—è (–≥—Ä—É–ø–ø—ã –º–æ–≥—É—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å –ø–æ–¥–≥—Ä—É–ø–ø—ã –∏ —Ç–æ–≤–∞—Ä—ã –≤–ø–µ—Ä–µ–º–µ—à–∫—É):</p>
<pre><code class="language-javascript">// –°–ª–æ–∂–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞: –≥—Ä—É–ø–ø—ã –º–æ–≥—É—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å –ø–æ–¥–≥—Ä—É–ø–ø—ã –∏ —Ç–æ–≤–∞—Ä—ã
const purchase = {
  electronics: {
    computers: {
      laptop: { price: 50000 },
      desktop: { price: 40000 }
    },
    phones: {
      smartphone: { price: 30000 }
    },
    tablet: { price: 25000 } // –¢–æ–≤–∞—Ä –Ω–∞–ø—Ä—è–º—É—é –≤ –≥—Ä—É–ø–ø–µ
  },
  clothing: {
    shirts: { price: 1500 },
    pants: { price: 2500 }
  }
};

// –†–µ–∫—É—Ä—Å–∏–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è –æ–±—Ö–æ–¥–∞ –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω–æ–π –≥–ª—É–±–∏–Ω—ã
function calculateTotal(order) {
  // –ü—Ä–∏–≤–æ–¥–∏–º –∫ –º–∞—Å—Å–∏–≤—É: –µ—Å–ª–∏ –º–∞—Å—Å–∏–≤ ‚Äî –æ—Å—Ç–∞–≤–ª—è–µ–º, –µ—Å–ª–∏ –æ–±—ä–µ–∫—Ç ‚Äî –±–µ—Ä—ë–º –∑–Ω–∞—á–µ–Ω–∏—è
  const items = Array.isArray(order) ? order : Object.values(order);

  // –ü—Ä–æ—Ö–æ–¥–∏–º –ø–æ —ç–ª–µ–º–µ–Ω—Ç–∞–º –∏ —Å—É–º–º–∏—Ä—É–µ–º
  return items.reduce((sum, item) =&gt; {
    // –ï—Å–ª–∏ –µ—Å—Ç—å –ø–æ–ª–µ price –∏ –æ–Ω–æ —á–∏—Å–ª–æ ‚Äî —ç—Ç–æ —Ç–æ–≤–∞—Ä, –¥–æ–±–∞–≤–ª—è–µ–º –∫ —Å—É–º–º–µ
    if (typeof item.price === 'number') {
      return sum + item.price;
    }
    // –ò–Ω–∞—á–µ —ç—Ç–æ –≥—Ä—É–ø–ø–∞ ‚Äî —Ä–µ–∫—É—Ä—Å–∏–≤–Ω–æ –≤—ã–∑—ã–≤–∞–µ–º –¥–ª—è –Ω–µ—ë calculateTotal
    return sum + calculateTotal(item);
  }, 0);
}

console.log(calculateTotal(purchase)); // –í—ã–≤–µ–¥–µ—Ç –æ–±—â—É—é —Å—É–º–º—É –≤—Å–µ—Ö —Ç–æ–≤–∞—Ä–æ–≤
</code></pre>
<p><strong>–ö–ª—é—á–µ–≤—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏</strong>:</p>
<ol>
<li>
<p><strong>–ü—Ä–∏–≤–µ–¥–µ–Ω–∏–µ –∫ –µ–¥–∏–Ω–æ–º—É –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É</strong>:</p>
<ul>
<li><code>Array.isArray(order) ? order : Object.values(order)</code></li>
<li>–ü—Ä–µ–≤—Ä–∞—â–∞–µ–º –ª—é–±—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É –≤ –º–∞—Å—Å–∏–≤ –¥–ª—è –µ–¥–∏–Ω–æ–æ–±—Ä–∞–∑–Ω–æ–≥–æ –æ–±—Ö–æ–¥–∞</li>
</ul>
</li>
<li>
<p><strong>–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–∞ —ç–ª–µ–º–µ–Ω—Ç–∞</strong>:</p>
<ul>
<li><code>typeof item.price === 'number'</code> ‚Äî –µ—Å–ª–∏ –µ—Å—Ç—å —á–∏—Å–ª–æ–≤–æ–µ –ø–æ–ª–µ <code>price</code>, —ç—Ç–æ —Ç–æ–≤–∞—Ä</li>
<li>–ò–Ω–∞—á–µ —ç—Ç–æ –≥—Ä—É–ø–ø–∞, –∏ –Ω—É–∂–µ–Ω —Ä–µ–∫—É—Ä—Å–∏–≤–Ω—ã–π –≤—ã–∑–æ–≤</li>
</ul>
</li>
<li>
<p><strong>–û–¥–Ω–∞ –ª–æ–≥–∏–∫–∞ –æ–±—Ö–æ–¥–∞</strong>:</p>
<ul>
<li>–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ <code>reduce()</code>, –Ω–µ—Ç —Å–º–µ—à–∏–≤–∞–Ω–∏—è —Ä–∞–∑–Ω—ã—Ö —Å–ø–æ—Å–æ–±–æ–≤ –∏—Ç–µ—Ä–∞—Ü–∏–∏</li>
<li>–†–µ–∫—É—Ä—Å–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –ª—é–±—É—é –≥–ª—É–±–∏–Ω—É –≤–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç–∏</li>
</ul>
</li>
<li>
<p><strong>–ö–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å</strong>:</p>
<ul>
<li>–í—Å—è –ª–æ–≥–∏–∫–∞ —Å–≤–æ–¥–∏—Ç—Å—è –∫ –æ–¥–Ω–æ–º—É —É—Å–ª–æ–≤–∏—é (<code>if</code>)</li>
<li>–ù–µ –Ω—É–∂–Ω–æ –≤—Ä—É—á–Ω—É—é –ø–∏—Å–∞—Ç—å –≤–ª–æ–∂–µ–Ω–Ω—ã–µ —Ü–∏–∫–ª—ã</li>
</ul>
</li>
</ol>
<h2 id="–°—Ä–∞–≤–Ω–µ–Ω–∏–µ-–ø–æ–¥—Ö–æ–¥–æ–≤-2"><a class="header" href="#–°—Ä–∞–≤–Ω–µ–Ω–∏–µ-–ø–æ–¥—Ö–æ–¥–æ–≤-2">–°—Ä–∞–≤–Ω–µ–Ω–∏–µ –ø–æ–¥—Ö–æ–¥–æ–≤</a></h2>
<h3 id="–ü–∞—Ç—Ç–µ—Ä–Ω-–ö–æ–º–ø–æ–∑–∏—Ç-–∫–ª–∞—Å—Å—ã-–∏-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã"><a class="header" href="#–ü–∞—Ç—Ç–µ—Ä–Ω-–ö–æ–º–ø–æ–∑–∏—Ç-–∫–ª–∞—Å—Å—ã-–∏-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã">–ü–∞—Ç—Ç–µ—Ä–Ω –ö–æ–º–ø–æ–∑–∏—Ç (–∫–ª–∞—Å—Å—ã –∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã)</a></h3>
<p><strong>–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞</strong>:</p>
<ul>
<li>‚úÖ –ß—ë—Ç–∫–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∏ —Ç–∏–ø–∏–∑–∞—Ü–∏—è (–æ—Å–æ–±–µ–Ω–Ω–æ –≤ TypeScript)</li>
<li>‚úÖ –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –ø—Ä–∏–Ω—Ü–∏–ø–∞–º –û–û–ü (–ø–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º, –∏–Ω–∫–∞–ø—Å—É–ª—è—Ü–∏—è)</li>
<li>‚úÖ –õ–µ–≥–∫–æ –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ —Ç–∏–ø—ã —ç–ª–µ–º–µ–Ω—Ç–æ–≤ (Open/Closed)</li>
<li>‚úÖ –ü–æ–Ω—è—Ç–Ω–∞—è —Å–µ–º–∞–Ω—Ç–∏–∫–∞ ‚Äî –∫–∞–∂–¥—ã–π –∫–ª–∞—Å—Å –∏–º–µ–µ—Ç —è–≤–Ω—É—é —Ä–æ–ª—å</li>
<li>‚úÖ –°–∫—Ä—ã–≤–∞–µ—Ç —Å–ª–æ–∂–Ω–æ—Å—Ç—å –æ–±—Ö–æ–¥–∞ –¥–µ—Ä–µ–≤–∞</li>
</ul>
<p><strong>–ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏</strong>:</p>
<ul>
<li>‚ùå –ë–æ–ª—å—à–µ –∫–æ–¥–∞ (–∫–ª–∞—Å—Å—ã, –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã, –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä—ã)</li>
<li>‚ùå Performance penalty ‚Äî –Ω–∞–∫–ª–∞–¥–Ω—ã–µ —Ä–∞—Å—Ö–æ–¥—ã –Ω–∞ –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–∏</li>
<li>‚ùå –ú–æ–∂–µ—Ç –±—ã—Ç—å –∏–∑–±—ã—Ç–æ—á–Ω—ã–º –¥–ª—è –ø—Ä–æ—Å—Ç—ã—Ö –∑–∞–¥–∞—á</li>
</ul>
<h3 id="–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π-–ø–æ–¥—Ö–æ–¥-—Ä–µ–∫—É—Ä—Å–∏—è"><a class="header" href="#–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π-–ø–æ–¥—Ö–æ–¥-—Ä–µ–∫—É—Ä—Å–∏—è">–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –ø–æ–¥—Ö–æ–¥ (—Ä–µ–∫—É—Ä—Å–∏—è)</a></h3>
<p><strong>–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞</strong>:</p>
<ul>
<li>‚úÖ –ö–æ–º–ø–∞–∫—Ç–Ω—ã–π –∫–æ–¥</li>
<li>‚úÖ –ú–µ–Ω—å—à–µ –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–π ‚Äî –ø—Ä–æ—â–µ –ø–æ–Ω—è—Ç—å</li>
<li>‚úÖ –•–æ—Ä–æ—à–æ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è JavaScript-—ç–∫–æ—Å–∏—Å—Ç–µ–º—ã</li>
<li>‚úÖ –ù–µ—Ç –Ω–∞–∫–ª–∞–¥–Ω—ã—Ö —Ä–∞—Å—Ö–æ–¥–æ–≤ –Ω–∞ —Å–æ–∑–¥–∞–Ω–∏–µ –æ–±—ä–µ–∫—Ç–æ–≤</li>
</ul>
<p><strong>–ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏</strong>:</p>
<ul>
<li>‚ùå –¢—Ä–µ–±—É–µ—Ç –ø–æ–Ω–∏–º–∞–Ω–∏—è —Ä–µ–∫—É—Ä—Å–∏–∏</li>
<li>‚ùå –°–ª–æ–∂–Ω–µ–µ –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ</li>
<li>‚ùå –õ–æ–≥–∏–∫–∞ –æ–±—Ö–æ–¥–∞ —Å–º–µ—à–∞–Ω–∞ —Å –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–æ–π</li>
<li>‚ùå –ú–æ–∂–µ—Ç –±—ã—Ç—å —Å–ª–æ–∂–Ω–æ –æ—Ç–ª–∞–∂–∏–≤–∞—Ç—å –ø—Ä–∏ –≥–ª—É–±–æ–∫–æ–π –≤–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç–∏</li>
</ul>
<h2 id="–ö–æ–≥–¥–∞-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å-–ø–∞—Ç—Ç–µ—Ä–Ω-–ö–æ–º–ø–æ–∑–∏—Ç"><a class="header" href="#–ö–æ–≥–¥–∞-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å-–ø–∞—Ç—Ç–µ—Ä–Ω-–ö–æ–º–ø–æ–∑–∏—Ç">–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–∞—Ç—Ç–µ—Ä–Ω –ö–æ–º–ø–æ–∑–∏—Ç</a></h2>
<h3 id="–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ-–∫–æ–≥–¥–∞"><a class="header" href="#–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ-–∫–æ–≥–¥–∞">–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ, –∫–æ–≥–¥–∞:</a></h3>
<ol>
<li><strong>–ò–µ—Ä–∞—Ä—Ö–∏—á–µ—Å–∫–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö</strong> ‚Äî —Ä–∞–±–æ—Ç–∞–µ—Ç–µ —Å –¥—Ä–µ–≤–æ–≤–∏–¥–Ω—ã–º–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞–º–∏ (–º–µ–Ω—é, —Ñ–∞–π–ª–æ–≤—ã–µ —Å–∏—Å—Ç–µ–º—ã, DOM)</li>
<li><strong>–ï–¥–∏–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å</strong> ‚Äî –Ω—É–∂–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã –∏ –∫–æ–º–ø–æ–∑–∏—Ü–∏–∏ –æ–¥–∏–Ω–∞–∫–æ–≤–æ</li>
<li><strong>–°–ª–æ–∂–Ω–∞—è –ª–æ–≥–∏–∫–∞</strong> ‚Äî —É —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–æ–≤ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ —Ä–∞–∑–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ, –Ω–æ –æ–±—â–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å</li>
<li><strong>–†–∞—Å—à–∏—Ä—è–µ–º–æ—Å—Ç—å</strong> ‚Äî –ø–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö —Ç–∏–ø–æ–≤ —ç–ª–µ–º–µ–Ω—Ç–æ–≤</li>
<li><strong>–¢–∏–ø–∏–∑–∞—Ü–∏—è –≤–∞–∂–Ω–∞</strong> ‚Äî —Ä–∞–±–æ—Ç–∞–µ—Ç–µ —Å TypeScript –∏ –Ω—É–∂–Ω–∞ —Å—Ç—Ä–æ–≥–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è</li>
</ol>
<h3 id="–ù–µ-–∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ-–∫–æ–≥–¥–∞"><a class="header" href="#–ù–µ-–∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ-–∫–æ–≥–¥–∞">–ù–µ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ, –∫–æ–≥–¥–∞:</a></h3>
<ol>
<li><strong>–ü—Ä–æ—Å—Ç–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞</strong> ‚Äî –≤—Å–µ–≥–æ 1-2 —É—Ä–æ–≤–Ω—è –≤–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç–∏</li>
<li><strong>–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∫—Ä–∏—Ç–∏—á–Ω–∞</strong> ‚Äî –∫–∞–∂–¥–∞—è –º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥–∞ –≤–∞–∂–Ω–∞</li>
<li><strong>–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π —Å—Ç–∏–ª—å</strong> ‚Äî –ø—Ä–æ–µ–∫—Ç –ø—Ä–∏–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–≥–æ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è</li>
<li><strong>–ú–∞–ª—ã–π –æ–±—ä—ë–º –∫–æ–¥–∞</strong> ‚Äî –ø–∞—Ç—Ç–µ—Ä–Ω –±—É–¥–µ—Ç –∏–∑–±—ã—Ç–æ—á–Ω—ã–º –¥–ª—è –ø—Ä–æ—Å—Ç–æ–π –∑–∞–¥–∞—á–∏</li>
</ol>
<h2 id="–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å-performance-penalty"><a class="header" href="#–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å-performance-penalty">–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å (Performance Penalty)</a></h2>
<h3 id="–ù–∞–∫–ª–∞–¥–Ω—ã–µ-—Ä–∞—Å—Ö–æ–¥—ã-–ø–∞—Ç—Ç–µ—Ä–Ω–∞-–ö–æ–º–ø–æ–∑–∏—Ç"><a class="header" href="#–ù–∞–∫–ª–∞–¥–Ω—ã–µ-—Ä–∞—Å—Ö–æ–¥—ã-–ø–∞—Ç—Ç–µ—Ä–Ω–∞-–ö–æ–º–ø–æ–∑–∏—Ç">–ù–∞–∫–ª–∞–¥–Ω—ã–µ —Ä–∞—Å—Ö–æ–¥—ã –ø–∞—Ç—Ç–µ—Ä–Ω–∞ –ö–æ–º–ø–æ–∑–∏—Ç:</a></h3>
<pre><code class="language-typescript">// –° –ø–∞—Ç—Ç–µ—Ä–Ω–æ–º –ö–æ–º–ø–æ–∑–∏—Ç
get price(): number {
  let total = 0;
  for (const item of this.items) {
    total += item.price; // –í—ã–∑–æ–≤ –º–µ—Ç–æ–¥–∞ —á–µ—Ä–µ–∑ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å (–≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–π –≤—ã–∑–æ–≤)
  }
  return total;
}

// –ü—Ä—è–º–æ–π –¥–æ—Å—Ç—É–ø –∫ –¥–∞–Ω–Ω—ã–º (–±—ã—Å—Ç—Ä–µ–µ)
function getPrice(items) {
  let total = 0;
  for (const item of items) {
    total += item.price; // –ü—Ä—è–º–æ–π –¥–æ—Å—Ç—É–ø –∫ —Å–≤–æ–π—Å—Ç–≤—É
  }
  return total;
}
</code></pre>
<p><strong>–ß—Ç–æ –¥–æ–±–∞–≤–ª—è–µ—Ç –Ω–∞–∫–ª–∞–¥–Ω—ã–µ —Ä–∞—Å—Ö–æ–¥—ã</strong>:</p>
<ul>
<li>–°–æ–∑–¥–∞–Ω–∏–µ –æ–±—ä–µ–∫—Ç–æ–≤ –∫–ª–∞—Å—Å–æ–≤</li>
<li>–í—ã–∑–æ–≤—ã –º–µ—Ç–æ–¥–æ–≤ —á–µ—Ä–µ–∑ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å (–≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ –≤—ã–∑–æ–≤—ã)</li>
<li>–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ç–∏–ø–æ–≤ –≤ runtime</li>
<li>–ü–∞–º—è—Ç—å –ø–æ–¥ —Ö—Ä–∞–Ω–µ–Ω–∏–µ –æ–±—ä–µ–∫—Ç–æ–≤</li>
</ul>
<p><strong>–ö–æ–≥–¥–∞ —ç—Ç–æ –≤–∞–∂–Ω–æ</strong>:</p>
<ul>
<li>–û–±—Ä–∞–±–æ—Ç–∫–∞ –±–æ–ª—å—à–∏—Ö –æ–±—ä—ë–º–æ–≤ –¥–∞–Ω–Ω—ã—Ö (—Ç—ã—Å—è—á–∏ —ç–ª–µ–º–µ–Ω—Ç–æ–≤)</li>
<li>–ß–∞—Å—Ç—ã–µ –≤—ã–∑–æ–≤—ã –≤ –≥–æ—Ä—è—á–∏—Ö –ø—É—Ç—è—Ö –∫–æ–¥–∞</li>
<li>–ü—Ä–∏–ª–æ–∂–µ–Ω–∏—è —Ä–µ–∞–ª—å–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏</li>
</ul>
<p><strong>–ö–æ–≥–¥–∞ —ç—Ç–æ –Ω–µ –∫—Ä–∏—Ç–∏—á–Ω–æ</strong>:</p>
<ul>
<li>–†–∞–±–æ—Ç–∞ —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º</li>
<li>–ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ —Å –Ω–µ–±–æ–ª—å—à–∏–º–∏ –æ–±—ä—ë–º–∞–º–∏ –¥–∞–Ω–Ω—ã—Ö</li>
<li>–ö–æ–¥, –∫–æ—Ç–æ—Ä—ã–π –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è —Ä–µ–¥–∫–æ</li>
</ul>
<h2 id="–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞-–∏-–∫–æ–º–ø—Ä–æ–º–∏—Å—Å—ã"><a class="header" href="#–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞-–∏-–∫–æ–º–ø—Ä–æ–º–∏—Å—Å—ã">–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –∏ –∫–æ–º–ø—Ä–æ–º–∏—Å—Å—ã</a></h2>
<h3 id="–ß—Ç–æ-–¥–∞—ë—Ç-–ø–∞—Ç—Ç–µ—Ä–Ω-–ö–æ–º–ø–æ–∑–∏—Ç"><a class="header" href="#–ß—Ç–æ-–¥–∞—ë—Ç-–ø–∞—Ç—Ç–µ—Ä–Ω-–ö–æ–º–ø–æ–∑–∏—Ç">–ß—Ç–æ –¥–∞—ë—Ç –ø–∞—Ç—Ç–µ—Ä–Ω –ö–æ–º–ø–æ–∑–∏—Ç</a></h3>
<ol>
<li><strong>–£–ø—Ä–æ—â–µ–Ω–∏–µ –∏ —É–ª—É—á—à–µ–Ω–∏–µ –ø–æ–Ω—è—Ç–Ω–æ—Å—Ç–∏ –∫–æ–¥–∞</strong> ‚Äî —Å–∫—Ä—ã–≤–∞–µ—Ç —Å–ª–æ–∂–Ω–æ—Å—Ç—å –æ–±—Ö–æ–¥–∞ –∏–µ—Ä–∞—Ä—Ö–∏–∏</li>
<li><strong>–ü–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º</strong> ‚Äî –º–æ–∂–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å —Å –æ–±—ä–µ–∫—Ç–∞–º–∏ —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–æ–≤ —á–µ—Ä–µ–∑ –æ–±—â–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å</li>
<li><strong>–ò–∑–±–µ–∂–∞–Ω–∏–µ —É—Å–ª–æ–≤–Ω–æ–π –ª–æ–≥–∏–∫–∏</strong> ‚Äî –Ω–µ –Ω—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä—è—Ç—å —Ç–∏–ø—ã —ç–ª–µ–º–µ–Ω—Ç–æ–≤ —á–µ—Ä–µ–∑ <code>if</code></li>
<li><strong>–ì–∏–±–∫–æ—Å—Ç—å</strong> ‚Äî –ª–µ–≥–∫–æ –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ —Ç–∏–ø—ã —ç–ª–µ–º–µ–Ω—Ç–æ–≤</li>
</ol>
<h3 id="–ö–æ–º–ø—Ä–æ–º–∏—Å—Å—ã"><a class="header" href="#–ö–æ–º–ø—Ä–æ–º–∏—Å—Å—ã">–ö–æ–º–ø—Ä–æ–º–∏—Å—Å—ã</a></h3>
<ol>
<li><strong>–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π –∫–æ–¥</strong> ‚Äî –Ω—É–∂–Ω–æ –ø–∏—Å–∞—Ç—å –∫–ª–∞—Å—Å—ã, –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã, –º–µ—Ç–æ–¥—ã</li>
<li><strong>–ù–∞–∫–ª–∞–¥–Ω—ã–µ —Ä–∞—Å—Ö–æ–¥—ã</strong> ‚Äî –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–∏ —Ç—Ä–µ–±—É—é—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –≤—ã—á–∏—Å–ª–∏—Ç–µ–ª—å–Ω—ã—Ö —Ä–µ—Å—É—Ä—Å–æ–≤</li>
<li><strong>–°–ª–æ–∂–Ω–æ—Å—Ç—å –¥–ª—è –ø—Ä–æ—Å—Ç—ã—Ö –∑–∞–¥–∞—á</strong> ‚Äî –º–æ–∂–µ—Ç –±—ã—Ç—å –∏–∑–±—ã—Ç–æ—á–Ω—ã–º –¥–ª—è –ø—Ä–∏–º–∏—Ç–∏–≤–Ω—ã—Ö —Å—Ç—Ä—É–∫—Ç—É—Ä</li>
</ol>
<h2 id="–í–∞–∂–Ω—ã–µ-–º–æ–º–µ–Ω—Ç—ã-—Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏"><a class="header" href="#–í–∞–∂–Ω—ã–µ-–º–æ–º–µ–Ω—Ç—ã-—Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏">–í–∞–∂–Ω—ã–µ –º–æ–º–µ–Ω—Ç—ã —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏</a></h2>
<h3 id="1-–ì–µ—Ç—Ç–µ—Ä—ã-–≤-typescript"><a class="header" href="#1-–ì–µ—Ç—Ç–µ—Ä—ã-–≤-typescript">1. –ì–µ—Ç—Ç–µ—Ä—ã –≤ TypeScript</a></h3>
<pre><code class="language-typescript">// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≥–µ—Ç—Ç–µ—Ä–∞ –¥–µ–ª–∞–µ—Ç —Å–∏–Ω—Ç–∞–∫—Å–∏—Å –±–æ–ª–µ–µ –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω—ã–º
get price(): number {
  return this._price;
}

// –í—ã–∑–æ–≤ –≤—ã–≥–ª—è–¥–∏—Ç –∫–∞–∫ —á—Ç–µ–Ω–∏–µ —Å–≤–æ–π—Å—Ç–≤–∞
console.log(product.price); // –í–º–µ—Å—Ç–æ product.getPrice()
</code></pre>
<p><strong>–í JavaScript —ç—Ç–æ –º–µ–Ω–µ–µ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–æ</strong> ‚Äî –æ–±—ã—á–Ω–æ –∏—Å–ø–æ–ª—å–∑—É—é—Ç –æ–±—ã—á–Ω—ã–µ –º–µ—Ç–æ–¥—ã:</p>
<pre><code class="language-javascript">// –ë–æ–ª–µ–µ —Ç–∏–ø–∏—á–Ω—ã–π –ø–æ–¥—Ö–æ–¥ –¥–ª—è JavaScript
getPrice() {
  return this._price;
}

// –Ø–≤–Ω—ã–π –≤—ã–∑–æ–≤ –º–µ—Ç–æ–¥–∞
console.log(product.getPrice());
</code></pre>
<h3 id="2-–†–µ–∫—É—Ä—Å–∏–≤–Ω—ã–µ-–≤—ã–∑–æ–≤—ã"><a class="header" href="#2-–†–µ–∫—É—Ä—Å–∏–≤–Ω—ã–µ-–≤—ã–∑–æ–≤—ã">2. –†–µ–∫—É—Ä—Å–∏–≤–Ω—ã–µ –≤—ã–∑–æ–≤—ã</a></h3>
<pre><code class="language-typescript">// –ö–æ–º–ø–æ–∑–∏—Ç–Ω—ã–π —ç–ª–µ–º–µ–Ω—Ç –≤—ã–∑—ã–≤–∞–µ—Ç –º–µ—Ç–æ–¥—ã –≤–ª–æ–∂–µ–Ω–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤
get price(): number {
  let total = 0;
  for (const item of this.items) {
    total += item.price; // –ú–æ–∂–µ—Ç –±—ã—Ç—å –∫–∞–∫ Product, —Ç–∞–∫ –∏ ProductCollection
  }
  return total;
}
</code></pre>
<p><strong>–í–∞–∂–Ω–æ</strong>: –≥–µ—Ç—Ç–µ—Ä –≤ <code>ProductCollection</code> –≤—ã–∑—ã–≤–∞–µ—Ç –≥–µ—Ç—Ç–µ—Ä –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞, —á—Ç–æ —Å–æ–∑–¥–∞—ë—Ç —Ä–µ–∫—É—Ä—Å–∏—é –ø—Ä–∏ –Ω–∞–ª–∏—á–∏–∏ –≤–ª–æ–∂–µ–Ω–Ω—ã—Ö –∫–æ–ª–ª–µ–∫—Ü–∏–π.</p>
<h3 id="3-–¢–∏–ø–∏–∑–∞—Ü–∏—è-–≤-typescript"><a class="header" href="#3-–¢–∏–ø–∏–∑–∞—Ü–∏—è-–≤-typescript">3. –¢–∏–ø–∏–∑–∞—Ü–∏—è –≤ TypeScript</a></h3>
<pre><code class="language-typescript">// –ú–∞—Å—Å–∏–≤ —Ö—Ä–∞–Ω–∏—Ç —ç–ª–µ–º–µ–Ω—Ç—ã –±–∞–∑–æ–≤–æ–≥–æ —Ç–∏–ø–∞
private items: IPriced[] = [];

// –ú–æ–∂–µ–º –¥–æ–±–∞–≤–ª—è—Ç—å –ª—é–±—ã–µ –æ–±—ä–µ–∫—Ç—ã, —Ä–µ–∞–ª–∏–∑—É—é—â–∏–µ IPriced
add(item: IPriced): void {
  this.items.push(item);
}
</code></pre>
<p>–ë–ª–∞–≥–æ–¥–∞—Ä—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É <code>IPriced</code> –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä TypeScript –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, —á—Ç–æ –≤—Å–µ —ç–ª–µ–º–µ–Ω—Ç—ã –∏–º–µ—é—Ç —Å–≤–æ–π—Å—Ç–≤–æ <code>price</code>.</p>
<h2 id="–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ-–ø—Ä–∏–º–µ—Ä—ã-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è-2"><a class="header" href="#–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ-–ø—Ä–∏–º–µ—Ä—ã-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è-2">–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è</a></h2>
<h3 id="1-–§–∞–π–ª–æ–≤–∞—è-—Å–∏—Å—Ç–µ–º–∞"><a class="header" href="#1-–§–∞–π–ª–æ–≤–∞—è-—Å–∏—Å—Ç–µ–º–∞">1. –§–∞–π–ª–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞</a></h3>
<pre><code class="language-typescript">interface IFileSystemItem {
  readonly size: number;
  readonly name: string;
}

class File implements IFileSystemItem {
  constructor(
    public readonly name: string,
    public readonly size: number
  ) {}
}

class Directory implements IFileSystemItem {
  private items: IFileSystemItem[] = [];

  constructor(public readonly name: string) {}

  add(item: IFileSystemItem): void {
    this.items.push(item);
  }

  get size(): number {
    return this.items.reduce((sum, item) =&gt; sum + item.size, 0);
  }
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
const root = new Directory('root');
const documents = new Directory('Documents');
const photos = new Directory('Photos');

documents.add(new File('report.pdf', 1024));
documents.add(new File('notes.txt', 256));

photos.add(new File('photo1.jpg', 2048));
photos.add(new File('photo2.jpg', 3072));

root.add(documents);
root.add(photos);

console.log(root.size); // –û–±—â–∏–π —Ä–∞–∑–º–µ—Ä –≤—Å–µ—Ö —Ñ–∞–π–ª–æ–≤
</code></pre>
<h3 id="2-–ú–µ–Ω—é-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞"><a class="header" href="#2-–ú–µ–Ω—é-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞">2. –ú–µ–Ω—é –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞</a></h3>
<pre><code class="language-typescript">interface IMenuItem {
  render(): string;
}

class MenuItem implements IMenuItem {
  constructor(private label: string, private url: string) {}

  render(): string {
    return `&lt;a href="${this.url}"&gt;${this.label}&lt;/a&gt;`;
  }
}

class MenuGroup implements IMenuItem {
  private items: IMenuItem[] = [];

  constructor(private label: string) {}

  add(item: IMenuItem): void {
    this.items.push(item);
  }

  render(): string {
    const itemsHtml = this.items.map(item =&gt; item.render()).join('');
    return `&lt;div class="menu-group"&gt;
      &lt;span&gt;${this.label}&lt;/span&gt;
      &lt;div class="submenu"&gt;${itemsHtml}&lt;/div&gt;
    &lt;/div&gt;`;
  }
}
</code></pre>
<h2 id="–†–µ–∑—é–º–µ-12"><a class="header" href="#–†–µ–∑—é–º–µ-12">–†–µ–∑—é–º–µ</a></h2>
<h3 id="–ö–ª—é—á–µ–≤—ã–µ-–∫–æ–Ω—Ü–µ–ø—Ü–∏–∏-4"><a class="header" href="#–ö–ª—é—á–µ–≤—ã–µ-–∫–æ–Ω—Ü–µ–ø—Ü–∏–∏-4">–ö–ª—é—á–µ–≤—ã–µ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏</a></h3>
<ol>
<li><strong>–ö–æ–º–ø–æ–∑–∏—Ç</strong> ‚Äî —Å—Ç—Ä—É–∫—Ç—É—Ä–Ω—ã–π –ø–∞—Ç—Ç–µ—Ä–Ω –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –∏–µ—Ä–∞—Ä—Ö–∏—á–µ—Å–∫–∏–º–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞–º–∏</li>
<li><strong>–ï–¥–∏–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å</strong> ‚Äî –≤—Å–µ —ç–ª–µ–º–µ–Ω—Ç—ã –¥–µ—Ä–µ–≤–∞ —Ä–µ–∞–ª–∏–∑—É—é—Ç –æ–±—â–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å</li>
<li><strong>–†–µ–∫—É—Ä—Å–∏—è</strong> ‚Äî –∫–æ–º–ø–æ–∑–∏—Ç–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã –≤—ã–∑—ã–≤–∞—é—Ç –º–µ—Ç–æ–¥—ã –≤–ª–æ–∂–µ–Ω–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤</li>
<li><strong>–ü–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º</strong> ‚Äî –Ω–µ –Ω—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä—è—Ç—å —Ç–∏–ø—ã, –≤—Å–µ —Ä–∞–±–æ—Ç–∞—é—Ç —á–µ—Ä–µ–∑ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å</li>
</ol>
<h3 id="–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—ã-–≤-javascript"><a class="header" href="#–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—ã-–≤-javascript">–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—ã –≤ JavaScript</a></h3>
<ul>
<li><strong>–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è —Ä–µ–∫—É—Ä—Å–∏—è</strong> ‚Äî —á–∞—Å—Ç–æ –±–æ–ª–µ–µ –ø–æ–¥—Ö–æ–¥—è—â–∏–π –≤–∞—Ä–∏–∞–Ω—Ç –¥–ª—è JavaScript</li>
<li><strong>–ú–µ—Ç–æ–¥—ã –º–∞—Å—Å–∏–≤–æ–≤</strong> ‚Äî <code>reduce()</code>, <code>map()</code>, <code>filter()</code> —É–ø—Ä–æ—â–∞—é—Ç –æ–±—Ö–æ–¥ —Å—Ç—Ä—É–∫—Ç—É—Ä</li>
<li><strong>Object.values()</strong> ‚Äî –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –æ–±—ä–µ–∫—Ç—ã –∫ –º–∞—Å—Å–∏–≤–∞–º –¥–ª—è –µ–¥–∏–Ω–æ–æ–±—Ä–∞–∑–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏</li>
</ul>
<h3 id="–í—ã–±–æ—Ä-–ø–æ–¥—Ö–æ–¥–∞"><a class="header" href="#–í—ã–±–æ—Ä-–ø–æ–¥—Ö–æ–¥–∞">–í—ã–±–æ—Ä –ø–æ–¥—Ö–æ–¥–∞</a></h3>
<p><strong>–ö–æ–º–ø–æ–∑–∏—Ç —á–µ—Ä–µ–∑ –∫–ª–∞—Å—Å—ã</strong> ‚Äî –∫–æ–≥–¥–∞ –≤–∞–∂–Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞, —Ç–∏–ø–∏–∑–∞—Ü–∏—è, —Ä–∞—Å—à–∏—Ä—è–µ–º–æ—Å—Ç—å
<strong>–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è —Ä–µ–∫—É—Ä—Å–∏—è</strong> ‚Äî –∫–æ–≥–¥–∞ –≤–∞–∂–Ω–∞ –ø—Ä–æ—Å—Ç–æ—Ç–∞, –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å, —Å—Ç–∏–ª—å JavaScript</p>
<h3 id="–ì–ª–∞–≤–Ω–æ–µ-–ø—Ä–∞–≤–∏–ª–æ"><a class="header" href="#–ì–ª–∞–≤–Ω–æ–µ-–ø—Ä–∞–≤–∏–ª–æ">–ì–ª–∞–≤–Ω–æ–µ –ø—Ä–∞–≤–∏–ª–æ</a></h3>
<p>–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–∞—Ç—Ç–µ—Ä–Ω –ö–æ–º–ø–æ–∑–∏—Ç, –∫–æ–≥–¥–∞ <strong>–≤—ã–≥–æ–¥–∞ –æ—Ç —É–ø—Ä–æ—â–µ–Ω–∏—è –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–∏—è –∫–æ–¥–∞</strong> –ø–µ—Ä–µ–≤–µ—à–∏–≤–∞–µ—Ç <strong>–Ω–∞–∫–ª–∞–¥–Ω—ã–µ —Ä–∞—Å—Ö–æ–¥—ã –Ω–∞ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–∏</strong>.</p>
<h2 id="–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ-–º–∞—Ç–µ—Ä–∏–∞–ª—ã-12"><a class="header" href="#–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ-–º–∞—Ç–µ—Ä–∏–∞–ª—ã-12">–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã</a></h2>
<h3 id="–°–≤—è–∑–∞–Ω–Ω—ã–µ-–ø–∞—Ç—Ç–µ—Ä–Ω—ã-6"><a class="header" href="#–°–≤—è–∑–∞–Ω–Ω—ã–µ-–ø–∞—Ç—Ç–µ—Ä–Ω—ã-6">–°–≤—è–∑–∞–Ω–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã</a></h3>
<ul>
<li><strong>Iterator</strong> ‚Äî —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤–º–µ—Å—Ç–µ —Å –ö–æ–º–ø–æ–∑–∏—Ç–æ–º –¥–ª—è –æ–±—Ö–æ–¥–∞ –¥–µ—Ä–µ–≤–∞</li>
<li><strong>Visitor</strong> ‚Äî –ø–æ–∑–≤–æ–ª—è–µ—Ç –¥–æ–±–∞–≤–ª—è—Ç—å –æ–ø–µ—Ä–∞—Ü–∏–∏ –∫ —ç–ª–µ–º–µ–Ω—Ç–∞–º —Å—Ç—Ä—É–∫—Ç—É—Ä—ã</li>
<li><strong>Decorator</strong> ‚Äî –º–æ–∂–Ω–æ –∫–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞—Ç—å –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏</li>
</ul>
<h3 id="–ü—Ä–∏–Ω—Ü–∏–ø—ã-solid-3"><a class="header" href="#–ü—Ä–∏–Ω—Ü–∏–ø—ã-solid-3">–ü—Ä–∏–Ω—Ü–∏–ø—ã SOLID</a></h3>
<ul>
<li><strong>Open/Closed</strong> ‚Äî –æ—Ç–∫—Ä—ã—Ç –¥–ª—è —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è, –∑–∞–∫—Ä—ã—Ç –¥–ª—è –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏–∏</li>
<li><strong>Dependency Inversion</strong> ‚Äî –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –æ—Ç –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–∏ (–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞), –∞ –Ω–µ –æ—Ç –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö –∫–ª–∞—Å—Å–æ–≤</li>
<li><strong>Interface Segregation</strong> ‚Äî —É–∑–∫–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –∑–∞–¥–∞—á–∏</li>
</ul>
<h3 id="–ö–æ–≥–¥–∞-–∏–∑–±–µ–≥–∞—Ç—å-—Ä–µ–∫—É—Ä—Å–∏–∏"><a class="header" href="#–ö–æ–≥–¥–∞-–∏–∑–±–µ–≥–∞—Ç—å-—Ä–µ–∫—É—Ä—Å–∏–∏">–ö–æ–≥–¥–∞ –∏–∑–±–µ–≥–∞—Ç—å —Ä–µ–∫—É—Ä—Å–∏–∏</a></h3>
<p>‚ö†Ô∏è <strong>–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —Å—Ç–µ–∫–∞ –≤—ã–∑–æ–≤–æ–≤</strong> ‚Äî –ø—Ä–∏ –æ—á–µ–Ω—å –≥–ª—É–±–æ–∫–æ–π –≤–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç–∏ –º–æ–∂–µ—Ç –ø—Ä–æ–∏–∑–æ–π—Ç–∏ –ø–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω–∏–µ —Å—Ç–µ–∫–∞</p>
<pre><code class="language-javascript">// –î–ª—è –æ—á–µ–Ω—å –≥–ª—É–±–æ–∫–∏—Ö —Å—Ç—Ä—É–∫—Ç—É—Ä –ª—É—á—à–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∏—Ç–µ—Ä–∞—Ç–∏–≤–Ω—ã–π –ø–æ–¥—Ö–æ–¥
function calculateTotalIterative(root) {
  const stack = [root];
  let total = 0;

  while (stack.length &gt; 0) {
    const item = stack.pop();

    if (typeof item.price === 'number') {
      total += item.price;
    } else {
      const children = Object.values(item);
      stack.push(...children);
    }
  }

  return total;
}
</code></pre>
<hr />
<p><strong>–ê–≤—Ç–æ—Ä</strong>: –ö–æ–Ω—Å–ø–µ–∫—Ç –ª–µ–∫—Ü–∏–∏ –æ –ø–∞—Ç—Ç–µ—Ä–Ω–µ –ö–æ–º–ø–æ–∑–∏—Ç (GoF)
<strong>–Ø–∑—ã–∫</strong>: JavaScript, TypeScript
<strong>–£—Ä–æ–≤–µ–Ω—å</strong>: –°—Ä–µ–¥–Ω–∏–π / –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="grasp-–ó–∞—Ü–µ–ø–ª–µ–Ω–∏–µ-–∏-–°–≤—è–∑–Ω–æ—Å—Ç—å-–≤-javascript-–∏-nodejs"><a class="header" href="#grasp-–ó–∞—Ü–µ–ø–ª–µ–Ω–∏–µ-–∏-–°–≤—è–∑–Ω–æ—Å—Ç—å-–≤-javascript-–∏-nodejs">GRASP: –ó–∞—Ü–µ–ø–ª–µ–Ω–∏–µ –∏ –°–≤—è–∑–Ω–æ—Å—Ç—å –≤ JavaScript –∏ Node.js</a></h1>
<h2 id="–û–±–∑–æ—Ä-24"><a class="header" href="#–û–±–∑–æ—Ä-24">–û–±–∑–æ—Ä</a></h2>
<p>–í —ç—Ç–æ–π –ª–µ–∫—Ü–∏–∏ —Ä–∞—Å—Å–º–∞—Ç—Ä–∏–≤–∞—é—Ç—Å—è –¥–≤–∞ –∫–ª—é—á–µ–≤—ã—Ö –ø—Ä–∏–Ω—Ü–∏–ø–∞ GRASP (General Responsibility Assignment Software Patterns) - –ø—Ä–∏–Ω—Ü–∏–ø—ã —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏:</p>
<ol>
<li><strong>–ù–∏–∑–∫–æ–µ –∑–∞—Ü–µ–ø–ª–µ–Ω–∏–µ (Low Coupling)</strong> - –º–∏–Ω–∏–º–∏–∑–∞—Ü–∏—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –º–µ–∂–¥—É –º–æ–¥—É–ª—è–º–∏</li>
<li><strong>–í—ã—Å–æ–∫–∞—è —Å–≤—è–∑–Ω–æ—Å—Ç—å (High Cohesion)</strong> - –º–∞–∫—Å–∏–º–∏–∑–∞—Ü–∏—è —Å–≤—è–∑–Ω–æ—Å—Ç–∏ –≤–Ω—É—Ç—Ä–∏ –º–æ–¥—É–ª–µ–π</li>
</ol>
<p>–≠—Ç–∏ –ø—Ä–∏–Ω—Ü–∏–ø—ã –ø–æ–º–æ–≥–∞—é—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å –≥–∏–±–∫—É—é, –ø–æ–Ω—è—Ç–Ω—É—é –∏ –ª–µ–≥–∫–æ –∏–∑–º–µ–Ω—è–µ–º—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π –Ω–∞ Node.js –∏ JavaScript.</p>
<hr />
<h2 id="–û—Å–Ω–æ–≤–Ω—ã–µ-–∫–æ–Ω—Ü–µ–ø—Ü–∏–∏-7"><a class="header" href="#–û—Å–Ω–æ–≤–Ω—ã–µ-–∫–æ–Ω—Ü–µ–ø—Ü–∏–∏-7">–û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏</a></h2>
<h3 id="–ß—Ç–æ-—Ç–∞–∫–æ–µ-–ó–∞—Ü–µ–ø–ª–µ–Ω–∏–µ-coupling"><a class="header" href="#–ß—Ç–æ-—Ç–∞–∫–æ–µ-–ó–∞—Ü–µ–ø–ª–µ–Ω–∏–µ-coupling">–ß—Ç–æ —Ç–∞–∫–æ–µ –ó–∞—Ü–µ–ø–ª–µ–Ω–∏–µ (Coupling)?</a></h3>
<p><strong>–ó–∞—Ü–µ–ø–ª–µ–Ω–∏–µ (Coupling)</strong> - —ç—Ç–æ —Å—Ç–µ–ø–µ–Ω—å –≤–∑–∞–∏–º–æ–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –º–µ–∂–¥—É —Ä–∞–∑–ª–∏—á–Ω—ã–º–∏ –º–æ–¥—É–ª—è–º–∏, –∫–ª–∞—Å—Å–∞–º–∏ –∏–ª–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏ —Å–∏—Å—Ç–µ–º—ã.</p>
<p><strong>–¶–µ–ª—å</strong>: –ú–∏–Ω–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∑–∞—Ü–µ–ø–ª–µ–Ω–∏–µ - —Å–æ–∑–¥–∞—Ç—å <strong>–º–∞–ª–æ –∏ –∂–µ–ª–∞—Ç–µ–ª—å–Ω–æ –æ—Å–ª–∞–±–ª–µ–Ω–Ω—ã—Ö —Å–≤—è–∑–µ–π –º–µ–∂–¥—É –º–æ–¥—É–ª—è–º–∏</strong>.</p>
<p><strong>–ü—Ä–∏–∑–Ω–∞–∫–∏ —Å–∏–ª—å–Ω–æ–≥–æ –∑–∞—Ü–µ–ø–ª–µ–Ω–∏—è:</strong></p>
<ul>
<li>–ú–æ–¥—É–ª—å –∑–Ω–∞–µ—Ç –≤–Ω—É—Ç—Ä–µ–Ω–Ω—é—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É –¥—Ä—É–≥–æ–≥–æ –º–æ–¥—É–ª—è</li>
<li>–ú–æ–¥—É–ª—å –∑–Ω–∞–µ—Ç —Å–∏–≥–Ω–∞—Ç—É—Ä—ã –º–µ—Ç–æ–¥–æ–≤ –¥—Ä—É–≥–∏—Ö –º–æ–¥—É–ª–µ–π</li>
<li>–ú–æ–¥—É–ª—å –∑–Ω–∞–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—É –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –∏–ª–∏ –≤–Ω–µ—à–Ω–∏—Ö API</li>
<li>–ò–∑–º–µ–Ω–µ–Ω–∏–µ –≤ –æ–¥–Ω–æ–º –º–æ–¥—É–ª–µ —Ç—Ä–µ–±—É–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ –¥—Ä—É–≥–∏—Ö –º–æ–¥—É–ª—è—Ö</li>
</ul>
<h3 id="–ß—Ç–æ-—Ç–∞–∫–æ–µ-–°–≤—è–∑–Ω–æ—Å—Ç—å-cohesion"><a class="header" href="#–ß—Ç–æ-—Ç–∞–∫–æ–µ-–°–≤—è–∑–Ω–æ—Å—Ç—å-cohesion">–ß—Ç–æ —Ç–∞–∫–æ–µ –°–≤—è–∑–Ω–æ—Å—Ç—å (Cohesion)?</a></h3>
<p><strong>–°–≤—è–∑–Ω–æ—Å—Ç—å (Cohesion)</strong> - —ç—Ç–æ —Å—Ç–µ–ø–µ–Ω—å, —Å –∫–æ—Ç–æ—Ä–æ–π —ç–ª–µ–º–µ–Ω—Ç—ã –≤–Ω—É—Ç—Ä–∏ –æ–¥–Ω–æ–≥–æ –º–æ–¥—É–ª—è —Ä–∞–±–æ—Ç–∞—é—Ç –≤–º–µ—Å—Ç–µ –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –µ–¥–∏–Ω–æ–π –∑–∞–¥–∞—á–∏.</p>
<p><strong>–¶–µ–ª—å</strong>: –ú–∞–∫—Å–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Å–≤—è–∑–Ω–æ—Å—Ç—å - —Å–æ–∑–¥–∞—Ç—å <strong>–º–Ω–æ–≥–æ —Å–∏–ª—å–Ω—ã—Ö —Å–≤—è–∑–µ–π –≤–Ω—É—Ç—Ä–∏ –º–æ–¥—É–ª—è</strong>.</p>
<p><strong>–ü—Ä–∏–∑–Ω–∞–∫–∏ –≤—ã—Å–æ–∫–æ–π —Å–≤—è–∑–Ω–æ—Å—Ç–∏:</strong></p>
<ul>
<li>–í—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –º–æ–¥—É–ª—è —Ä–∞–±–æ—Ç–∞—é—Ç –¥–ª—è –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è –æ–¥–Ω–æ–π —Ü–µ–ª–∏</li>
<li>–ú–µ—Ç–æ–¥—ã –∫–ª–∞—Å—Å–∞ –∏—Å–ø–æ–ª—å–∑—É—é—Ç –æ–±—â–∏–µ –¥–∞–Ω–Ω—ã–µ –∏ —Ç–µ—Å–Ω–æ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤—É—é—Ç</li>
<li>–§—É–Ω–∫—Ü–∏–∏ –º–æ–¥—É–ª—è —Ä–µ—à–∞—é—Ç —Å–≤—è–∑–∞–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏</li>
<li>–ö–æ–¥ –≤–Ω—É—Ç—Ä–∏ –º–æ–¥—É–ª—è –ª–µ–≥–∫–æ –ø–æ–Ω—è—Ç—å –∫–∞–∫ –µ–¥–∏–Ω–æ–µ —Ü–µ–ª–æ–µ</li>
</ul>
<h3 id="–í–∏–∑—É–∞–ª—å–Ω–æ–µ-–ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ"><a class="header" href="#–í–∏–∑—É–∞–ª—å–Ω–æ–µ-–ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ">–í–∏–∑—É–∞–ª—å–Ω–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ</a></h3>
<pre><code>‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê        ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ     –ú–æ–¥—É–ª—å A        ‚îÇ        ‚îÇ     –ú–æ–¥—É–ª—å B        ‚îÇ
‚îÇ  ‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó      ‚îÇ —Å–≤—è–∑—å  ‚îÇ  ‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó      ‚îÇ
‚îÇ  ‚ïë  –≤—ã—Å–æ–∫–∞—è  ‚ïë      ‚îÇ‚óÑ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∫‚îÇ  ‚ïë  –≤—ã—Å–æ–∫–∞—è  ‚ïë      ‚îÇ
‚îÇ  ‚ïë —Å–≤—è–∑–Ω–æ—Å—Ç—å ‚ïë      ‚îÇ –º–∏–Ω–∏-  ‚îÇ  ‚ïë —Å–≤—è–∑–Ω–æ—Å—Ç—å ‚ïë      ‚îÇ
‚îÇ  ‚ïë  –≤–Ω—É—Ç—Ä–∏   ‚ïë      ‚îÇ –º–∞–ª—å–Ω–∞ ‚îÇ  ‚ïë  –≤–Ω—É—Ç—Ä–∏   ‚ïë      ‚îÇ
‚îÇ  ‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù      ‚îÇ        ‚îÇ  ‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù      ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò        ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
    –•–û–†–û–®–û: –í—ã—Å–æ–∫–∞—è —Å–≤—è–∑–Ω–æ—Å—Ç—å –≤–Ω—É—Ç—Ä–∏, –Ω–∏–∑–∫–æ–µ –∑–∞—Ü–µ–ø–ª–µ–Ω–∏–µ –º–µ–∂–¥—É
</code></pre>
<hr />
<h2 id="–ü—Ä–∏–º–µ—Ä-1-–ü—Ä–æ–±–ª–µ–º–∞-—Å–∏–ª—å–Ω–æ–≥–æ-–∑–∞—Ü–µ–ø–ª–µ–Ω–∏—è-–∫–ª–∞—Å—Å-person"><a class="header" href="#–ü—Ä–∏–º–µ—Ä-1-–ü—Ä–æ–±–ª–µ–º–∞-—Å–∏–ª—å–Ω–æ–≥–æ-–∑–∞—Ü–µ–ø–ª–µ–Ω–∏—è-–∫–ª–∞—Å—Å-person">–ü—Ä–∏–º–µ—Ä 1: –ü—Ä–æ–±–ª–µ–º–∞ —Å–∏–ª—å–Ω–æ–≥–æ –∑–∞—Ü–µ–ø–ª–µ–Ω–∏—è (–∫–ª–∞—Å—Å Person)</a></h2>
<h3 id="–ü–ª–æ—Ö–æ–π-–ø—Ä–∏–º–µ—Ä-–ö–ª–∞—Å—Å-—Å-–≤—ã—Å–æ–∫–∏–º-–∑–∞—Ü–µ–ø–ª–µ–Ω–∏–µ–º"><a class="header" href="#–ü–ª–æ—Ö–æ–π-–ø—Ä–∏–º–µ—Ä-–ö–ª–∞—Å—Å-—Å-–≤—ã—Å–æ–∫–∏–º-–∑–∞—Ü–µ–ø–ª–µ–Ω–∏–µ–º">–ü–ª–æ—Ö–æ–π –ø—Ä–∏–º–µ—Ä: –ö–ª–∞—Å—Å —Å –≤—ã—Å–æ–∫–∏–º –∑–∞—Ü–µ–ø–ª–µ–Ω–∏–µ–º</a></h3>
<pre><code class="language-javascript">// person.js - –ü–õ–û–•–û–ô –ü–†–ò–ú–ï–† —Å –≤—ã—Å–æ–∫–∏–º –∑–∞—Ü–µ–ø–ª–µ–Ω–∏–µ–º
class Person {
  constructor() {
    this.name = '';
    this.surname = '';
    this.address = '';
  }

  // –§–∞–±—Ä–∏—á–Ω—ã–π –º–µ—Ç–æ–¥ (Factory Method)
  static async load(id) {
    // ‚ùå –ü–†–û–ë–õ–ï–ú–ê 1: –ó–∞—Ü–µ–ø–ª–µ–Ω–∏–µ –Ω–∞ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö
    // –ö–ª–∞—Å—Å Person –∑–Ω–∞–µ—Ç –æ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–∏ –º–æ–¥—É–ª—è db
    // –ö–ª–∞—Å—Å –∑–Ω–∞–µ—Ç –∫–æ–Ω—Ç—Ä–∞–∫—Ç –º–µ—Ç–æ–¥–∞ db.query()
    const data = await db.query(
      'SELECT * FROM Person WHERE id = $1', // ‚ùå –ü–†–û–ë–õ–ï–ú–ê 2: –ó–Ω–∞–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –ë–î
      [id]
    );

    // ‚ùå –ü–†–û–ë–õ–ï–ú–ê 3: –ó–Ω–∞–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –æ–±—ä–µ–∫—Ç–∞ –∏–∑ –ë–î
    // –ú—ã –ø—Ä–µ–¥–ø–æ–ª–∞–≥–∞–µ–º, —á—Ç–æ data –∏–º–µ–µ—Ç –ø–æ–ª—è name, surname, address
    const person = new Person();
    person.name = data.name;
    person.surname = data.surname;
    person.address = data.address;

    return person;
  }
}
</code></pre>
<h3 id="–ê–Ω–∞–ª–∏–∑-–ø—Ä–æ–±–ª–µ–º-–∑–∞—Ü–µ–ø–ª–µ–Ω–∏—è"><a class="header" href="#–ê–Ω–∞–ª–∏–∑-–ø—Ä–æ–±–ª–µ–º-–∑–∞—Ü–µ–ø–ª–µ–Ω–∏—è">–ê–Ω–∞–ª–∏–∑ –ø—Ä–æ–±–ª–µ–º –∑–∞—Ü–µ–ø–ª–µ–Ω–∏—è</a></h3>
<pre><code class="language-javascript">// –¶–í–ï–¢–û–í–û–ï –ö–û–î–ò–†–û–í–ê–ù–ò–ï –∑–∞—Ü–µ–ø–ª–µ–Ω–∏–π:
// üîµ –°–ò–ù–ò–ô - —ç–ª–µ–º–µ–Ω—Ç—ã –∫–ª–∞—Å—Å–∞ Person (–≤–Ω—É—Ç—Ä–µ–Ω–Ω—è—è —Å–≤—è–∑–Ω–æ—Å—Ç—å)
// üî¥ –ö–†–ê–°–ù–´–ô - –≤–Ω–µ—à–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (–∑–∞—Ü–µ–ø–ª–µ–Ω–∏–µ)

class Person {  // üîµ –°–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π –∫–ª–∞—Å—Å
  constructor() {  // üîµ –°–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä
    this.name = '';  // üîµ –°–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–µ –ø–æ–ª–µ
    this.surname = '';  // üîµ –°–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–µ –ø–æ–ª–µ
    this.address = '';  // üîµ –°–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–µ –ø–æ–ª–µ
  }

  static async load(id) {
    // üî¥ db - –≤–Ω–µ—à–Ω–∏–π –º–æ–¥—É–ª—å (–∑–∞—Ü–µ–ø–ª–µ–Ω–∏–µ)
    // üî¥ query - –∑–Ω–∞–Ω–∏–µ –º–µ—Ç–æ–¥–∞ –≤–Ω–µ—à–Ω–µ–≥–æ –º–æ–¥—É–ª—è (–∑–∞—Ü–µ–ø–ª–µ–Ω–∏–µ)
    // üî¥ –°–∏–≥–Ω–∞—Ç—É—Ä–∞: (sql, params) =&gt; Promise (–∑–∞—Ü–µ–ø–ª–µ–Ω–∏–µ –Ω–∞ –∫–æ–Ω—Ç—Ä–∞–∫—Ç)
    const data = await db.query(
      'SELECT * FROM Person WHERE id = $1',  // üî¥ –ó–Ω–∞–Ω–∏–µ SQL –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –ë–î
      [id]
    );

    const person = new Person();  // üîµ –†–∞–±–æ—Ç–∞ —Å —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–º –∫–ª–∞—Å—Å–æ–º

    // üî¥ –ó–Ω–∞–Ω–∏–µ –ø–æ–ª–µ–π –æ–±—ä–µ–∫—Ç–∞ –∏–∑ –ë–î (name, surname, address)
    person.name = data.name;
    person.surname = data.surname;
    person.address = data.address;

    return person;
  }
}
</code></pre>
<h3 id="–ü–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è-—Å–∏–ª—å–Ω–æ–≥–æ-–∑–∞—Ü–µ–ø–ª–µ–Ω–∏—è"><a class="header" href="#–ü–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è-—Å–∏–ª—å–Ω–æ–≥–æ-–∑–∞—Ü–µ–ø–ª–µ–Ω–∏—è">–ü–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è —Å–∏–ª—å–Ω–æ–≥–æ –∑–∞—Ü–µ–ø–ª–µ–Ω–∏—è</a></h3>
<p><strong>–ü—Ä–æ–±–ª–µ–º–∞ 1</strong>: –ù–µ–≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –±–µ–∑ –ë–î</p>
<pre><code class="language-javascript">// ‚ùå –î–ª—è —Ç–µ—Å—Ç–∞ –Ω—É–∂–Ω–∞ –Ω–∞—Å—Ç–æ—è—â–∞—è –ë–î –∏–ª–∏ —Å–ª–æ–∂–Ω—ã–µ –º–æ–∫–∏
test('Person.load should create person', async () =&gt; {
  // –ö–∞–∫ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –±–µ–∑ —Ä–µ–∞–ª—å–Ω–æ–π –ë–î?
  const person = await Person.load(1);
  expect(person.name).toBe('John');
});
</code></pre>
<p><strong>–ü—Ä–æ–±–ª–µ–º–∞ 2</strong>: –ù–µ–≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Å–º–µ–Ω—ã –ë–î –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∫–ª–∞—Å—Å–∞</p>
<pre><code class="language-javascript">// ‚ùå –ï—Å–ª–∏ –º–µ–Ω—è–µ–º PostgreSQL –Ω–∞ MongoDB - –Ω—É–∂–Ω–æ –º–µ–Ω—è—Ç—å Person
// ‚ùå –ï—Å–ª–∏ –º–µ–Ω—è–µ—Ç—Å—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–∞–±–ª–∏—Ü—ã - –Ω—É–∂–Ω–æ –º–µ–Ω—è—Ç—å Person
// ‚ùå –ï—Å–ª–∏ –º–µ–Ω—è–µ—Ç—Å—è API –¥–æ—Å—Ç—É–ø–∞ –∫ –¥–∞–Ω–Ω—ã–º - –Ω—É–∂–Ω–æ –º–µ–Ω—è—Ç—å Person
</code></pre>
<p><strong>–ü—Ä–æ–±–ª–µ–º–∞ 3</strong>: –ö–ª–∞—Å—Å Person –∑–Ω–∞–µ—Ç —Å–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ</p>
<pre><code class="language-javascript">// –ö–ª–∞—Å—Å Person –∑–∞—Ü–µ–ø–ª–µ–Ω –Ω–∞:
// 1. –ú–æ–¥—É–ª—å db
// 2. –ú–µ—Ç–æ–¥ db.query() –∏ –µ–≥–æ —Å–∏–≥–Ω–∞—Ç—É—Ä—É
// 3. –ö–æ–Ω—Ç—Ä–∞–∫—Ç Promise (async/await)
// 4. –°—Ç—Ä—É–∫—Ç—É—Ä—É —Ç–∞–±–ª–∏—Ü—ã Person –≤ –ë–î
// 5. –ù–∞–∑–≤–∞–Ω–∏—è –ø–æ–ª–µ–π –≤ –ë–î
</code></pre>
<hr />
<h2 id="–ü—Ä–∏–º–µ—Ä-2-middleware-—Å-–≤—ã—Å–æ–∫–∏–º-–∑–∞—Ü–µ–ø–ª–µ–Ω–∏–µ–º-express"><a class="header" href="#–ü—Ä–∏–º–µ—Ä-2-middleware-—Å-–≤—ã—Å–æ–∫–∏–º-–∑–∞—Ü–µ–ø–ª–µ–Ω–∏–µ–º-express">–ü—Ä–∏–º–µ—Ä 2: Middleware —Å –≤—ã—Å–æ–∫–∏–º –∑–∞—Ü–µ–ø–ª–µ–Ω–∏–µ–º (Express)</a></h2>
<h3 id="–ü–ª–æ—Ö–æ–π-–ø—Ä–∏–º–µ—Ä-–ó–∞—Ü–µ–ø–ª–µ–Ω–Ω—ã–µ-middleware"><a class="header" href="#–ü–ª–æ—Ö–æ–π-–ø—Ä–∏–º–µ—Ä-–ó–∞—Ü–µ–ø–ª–µ–Ω–Ω—ã–µ-middleware">–ü–ª–æ—Ö–æ–π –ø—Ä–∏–º–µ—Ä: –ó–∞—Ü–µ–ø–ª–µ–Ω–Ω—ã–µ middleware</a></h3>
<h4 id="–§–∞–π–ª-loggerjs"><a class="header" href="#–§–∞–π–ª-loggerjs">–§–∞–π–ª: logger.js</a></h4>
<pre><code class="language-javascript">// logger.js - middleware –¥–ª—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
const writeLog = (method, url, referrer, time) =&gt; {
  // –£–ø—Ä–æ—â–µ–Ω–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
  console.log(`${method} ${url} ${referrer} ${time}ms`);
  // –í —Ä–µ–∞–ª—å–Ω–æ—Å—Ç–∏ –∑–¥–µ—Å—å –±—ã–ª–∞ –±—ã –∑–∞–ø–∏—Å—å –≤ —Ñ–∞–π–ª—ã, –ë–î, —Ä–æ—Ç–∞—Ü–∏—è –ª–æ–≥–æ–≤ –∏ —Ç.–¥.
};

const logger = (req, res, next) =&gt; {
  // ‚úÖ –ó–∞—Å–µ–∫–∞–µ–º –≤—Ä–µ–º—è –Ω–∞—á–∞–ª–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∑–∞–ø—Ä–æ—Å–∞
  const start = Date.now();

  // ‚ùå –ü–†–û–ë–õ–ï–ú–ê 1: –ü—Ä–∏–º–µ—à–∏–≤–∞–Ω–∏–µ —Å–≤–æ–π—Å—Ç–≤–∞ –∫ –æ–±—ä–µ–∫—Ç—É request
  // –°–æ–∑–¥–∞–µ–º –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å - –¥—Ä—É–≥–∏–µ middleware –±—É–¥—É—Ç –æ–∂–∏–¥–∞—Ç—å —ç—Ç–æ –ø–æ–ª–µ
  req.requestTime = start;

  // ‚ùå –ü–†–û–ë–õ–ï–ú–ê 2: –ü–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ —Å–æ–±—ã—Ç–∏–µ –æ–±—ä–µ–∫—Ç–∞ response
  // –õ–æ–≥–≥–µ—Ä "–ª–µ–∑–µ—Ç" –≤–æ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–æ—Å—Ç–∏ HTTP –ø—Ä–æ—Ç–æ–∫–æ–ª–∞
  res.on('finish', () =&gt; {
    const elapsed = Date.now() - start;

    // ‚ùå –ü–†–û–ë–õ–ï–ú–ê 3: –ó–∞—Ü–µ–ø–ª–µ–Ω–∏–µ –Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä—É headers
    // –ï—Å–ª–∏ headers.referer –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç - –ø–æ–ª—É—á–∏–º undefined
    writeLog(
      req.method,  // –ó–∞—Ü–µ–ø–ª–µ–Ω–∏–µ –Ω–∞ req.method
      req.url,     // –ó–∞—Ü–µ–ø–ª–µ–Ω–∏–µ –Ω–∞ req.url
      req.headers.referer,  // –ó–∞—Ü–µ–ø–ª–µ–Ω–∏–µ –Ω–∞ req.headers.referer
      elapsed
    );
  });

  next();  // –ü–µ—Ä–µ–¥–∞–µ–º —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–ª–µ–¥—É—é—â–µ–º—É middleware
};

module.exports = { logger };
</code></pre>
<h4 id="–§–∞–π–ª-timeoutjs"><a class="header" href="#–§–∞–π–ª-timeoutjs">–§–∞–π–ª: timeout.js</a></h4>
<pre><code class="language-javascript">// timeout.js - middleware –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Ç–∞–π–º–∞—É—Ç–∞
const timeout = (ms) =&gt; {
  // –í–æ–∑–≤—Ä–∞—â–∞–µ–º middleware —Å –∑–∞–º—ã–∫–∞–Ω–∏–µ–º –Ω–∞ ms
  return (req, res, next) =&gt; {
    // ‚ùå –ü–†–û–ë–õ–ï–ú–ê 1: –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –æ—Ç logger middleware
    // timeout –æ–∂–∏–¥–∞–µ—Ç, —á—Ç–æ req.requestTime —É–∂–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
    // –ë–µ–∑ logger —ç—Ç–æ—Ç –∫–æ–¥ —Å–ª–æ–º–∞–µ—Ç—Å—è!
    setTimeout(() =&gt; {
      const elapsed = Date.now() - req.requestTime;  // ‚ùå req.requestTime –º–æ–∂–µ—Ç –±—ã—Ç—å undefined!

      // ‚ùå –ü–†–û–ë–õ–ï–ú–ê 2: –ó–∞—Ü–µ–ø–ª–µ–Ω–∏–µ –Ω–∞ response.headersSent
      // –ù—É–∂–Ω–æ –∑–Ω–∞—Ç—å –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ –¥–µ—Ç–∞–ª–∏ HTTP –ø—Ä–æ—Ç–æ–∫–æ–ª–∞
      if (!res.headersSent) {
        // –ï—Å–ª–∏ –∑–∞–≥–æ–ª–æ–≤–∫–∏ –µ—â–µ –Ω–µ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω—ã, –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º —Ç–∞–π–º–∞—É—Ç
        res.status(503).send(`Timeout reached: ${elapsed}ms`);
      }
      // ‚ùå –ü–†–û–ë–õ–ï–ú–ê 3: –¢–∞–π–º–∞—É—Ç –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –æ—á–∏—â–∞–µ—Ç—Å—è
      // –î–∞–∂–µ –µ—Å–ª–∏ –∑–∞–ø—Ä–æ—Å –æ–±—Ä–∞–±–æ—Ç–∞–Ω —É—Å–ø–µ—à–Ω–æ, setTimeout –≤—Å–µ —Ä–∞–≤–Ω–æ –≤—ã–ø–æ–ª–Ω–∏—Ç—Å—è
    }, ms);

    next();
  };
};

module.exports = { timeout };
</code></pre>
<h4 id="–§–∞–π–ª-mainjs"><a class="header" href="#–§–∞–π–ª-mainjs">–§–∞–π–ª: main.js</a></h4>
<pre><code class="language-javascript">// main.js - –≥–ª–∞–≤–Ω—ã–π —Ñ–∞–π–ª –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
const express = require('express');
const { logger } = require('./logger.js');
const { timeout } = require('./timeout.js');

const app = express();

// ‚ùå –í–ê–ñ–ù–û: –ü–æ—Ä—è–¥–æ–∫ middleware –∫—Ä–∏—Ç–∏—á–µ–Ω!
// logger –î–û–õ–ñ–ï–ù –±—ã—Ç—å –ø–µ—Ä–µ–¥ timeout, –∏–Ω–∞—á–µ req.requestTime –±—É–¥–µ—Ç undefined
app.use(logger);      // –î–æ–ª–∂–µ–Ω –±—ã—Ç—å –ø–µ—Ä–≤—ã–º!
app.use(timeout(1000)); // –ó–∞–≤–∏—Å–∏—Ç –æ—Ç logger!

// –†–æ—É—Ç—ã
app.get('/', (req, res) =&gt; {
  res.send('Hello World');
});

app.get('/page1', (req, res) =&gt; {
  // –≠—Ç–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –±—É–¥–µ—Ç –æ—Ç–¥–∞–≤–∞—Ç—å—Å—è 5 —Å–µ–∫—É–Ω–¥
  // –¢–∞–π–º–∞—É—Ç —Å—Ä–∞–±–æ—Ç–∞–µ—Ç —á–µ—Ä–µ–∑ 1 —Å–µ–∫—É–Ω–¥—É
  setTimeout(() =&gt; {
    res.send('Hello World from page1');
  }, 5000);
});

app.listen(8000, () =&gt; {
  console.log('Server listening on port 8000');
});
</code></pre>
<h3 id="–ê–Ω–∞–ª–∏–∑-–ø—Ä–æ–±–ª–µ–º-–∑–∞—Ü–µ–ø–ª–µ–Ω–∏—è-–≤-middleware"><a class="header" href="#–ê–Ω–∞–ª–∏–∑-–ø—Ä–æ–±–ª–µ–º-–∑–∞—Ü–µ–ø–ª–µ–Ω–∏—è-–≤-middleware">–ê–Ω–∞–ª–∏–∑ –ø—Ä–æ–±–ª–µ–º –∑–∞—Ü–µ–ø–ª–µ–Ω–∏—è –≤ middleware</a></h3>
<h4 id="–ì—Ä–∞—Ñ-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π-–ø–ª–æ—Ö–æ–π-–ø—Ä–∏–º–µ—Ä"><a class="header" href="#–ì—Ä–∞—Ñ-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π-–ø–ª–æ—Ö–æ–π-–ø—Ä–∏–º–µ—Ä">–ì—Ä–∞—Ñ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π (–ø–ª–æ—Ö–æ–π –ø—Ä–∏–º–µ—Ä)</a></h4>
<pre><code>‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   logger     ‚îÇ
‚îÇ  middleware  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
       ‚îÇ –ø—Ä–∏–º–µ—à–∏–≤–∞–µ—Ç
       ‚îÇ req.requestTime
       ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   request    ‚îÇ ‚óÑ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   object     ‚îÇ          ‚îÇ —á–∏—Ç–∞–µ—Ç
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò          ‚îÇ req.requestTime
                          ‚îÇ
                    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
                    ‚îÇ  timeout   ‚îÇ
                    ‚îÇ middleware ‚îÇ
                    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                          ‚îÇ
                          ‚îÇ —á–∏—Ç–∞–µ—Ç
                          ‚îÇ res.headersSent
                          ‚ñº
                    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
                    ‚îÇ  response    ‚îÇ
                    ‚îÇ   object     ‚îÇ
                    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò

‚ùå –ü–†–û–ë–õ–ï–ú–´:
1. timeout –∑–∞–≤–∏—Å–∏—Ç –æ—Ç logger (—á–µ—Ä–µ–∑ req.requestTime)
2. –û–±–∞ –∑–∞–≤–∏—Å—è—Ç –æ—Ç request/response (—á–µ—Ä–µ–∑ –ø–æ–ª—è –∏ —Å–æ–±—ã—Ç–∏—è)
3. –ü–æ—Ä—è–¥–æ–∫ middleware –∫—Ä–∏—Ç–∏—á–µ–Ω
4. –ù–µ–≤–æ–∑–º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å timeout –±–µ–∑ logger
</code></pre>
<h3 id="–ü–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è-—Å–∏–ª—å–Ω–æ–≥–æ-–∑–∞—Ü–µ–ø–ª–µ–Ω–∏—è-–≤-middleware"><a class="header" href="#–ü–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è-—Å–∏–ª—å–Ω–æ–≥–æ-–∑–∞—Ü–µ–ø–ª–µ–Ω–∏—è-–≤-middleware">–ü–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è —Å–∏–ª—å–Ω–æ–≥–æ –∑–∞—Ü–µ–ø–ª–µ–Ω–∏—è –≤ middleware</a></h3>
<p><strong>–ü—Ä–æ–±–ª–µ–º–∞ 1</strong>: –•—Ä—É–ø–∫–æ—Å—Ç—å –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –ø–æ—Ä—è–¥–∫–∞</p>
<pre><code class="language-javascript">// ‚ùå –ï—Å–ª–∏ –∑–∞–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å logger - timeout —Å–ª–æ–º–∞–µ—Ç—Å—è
// app.use(logger);  // –ó–∞–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–ª–∏
app.use(timeout(1000));

// –†–µ–∑—É–ª—å—Ç–∞—Ç:
// TypeError: Cannot read property 'requestTime' of undefined
// –ø–æ—Ç–æ–º—É —á—Ç–æ req.requestTime –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
</code></pre>
<p><strong>–ü—Ä–æ–±–ª–µ–º–∞ 2</strong>: –ù–µ–≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è</p>
<pre><code class="language-javascript">// ‚ùå –ù–µ–ª—å–∑—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å timeout –≤ –¥—Ä—É–≥–æ–º –ø—Ä–æ–µ–∫—Ç–µ –±–µ–∑ logger
// ‚ùå –ù–µ–ª—å–∑—è –∑–∞–º–µ–Ω–∏—Ç—å logger –Ω–∞ –¥—Ä—É–≥—É—é —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é –±–µ–∑ –ø—Ä–æ–≤–µ—Ä–∫–∏ timeout
</code></pre>
<p><strong>–ü—Ä–æ–±–ª–µ–º–∞ 3</strong>: –°–∫—Ä—ã—Ç—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏</p>
<pre><code class="language-javascript">// ‚ùå –ù–µ–æ—á–µ–≤–∏–¥–Ω–æ –∏–∑ —Å–∏–≥–Ω–∞—Ç—É—Ä—ã, —á—Ç–æ timeout –∑–∞–≤–∏—Å–∏—Ç –æ—Ç logger
// –†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫ –º–æ–∂–µ—Ç –Ω–µ –∑–Ω–∞—Ç—å, —á—Ç–æ –Ω—É–∂–Ω–æ –ø–æ–¥–∫–ª—é—á–∞—Ç—å logger –ø–µ—Ä–≤—ã–º
</code></pre>
<hr />
<h2 id="–†–µ—à–µ–Ω–∏–µ-–°–Ω–∏–∂–µ–Ω–∏–µ-–∑–∞—Ü–µ–ø–ª–µ–Ω–∏—è"><a class="header" href="#–†–µ—à–µ–Ω–∏–µ-–°–Ω–∏–∂–µ–Ω–∏–µ-–∑–∞—Ü–µ–ø–ª–µ–Ω–∏—è">–†–µ—à–µ–Ω–∏–µ: –°–Ω–∏–∂–µ–Ω–∏–µ –∑–∞—Ü–µ–ø–ª–µ–Ω–∏—è</a></h2>
<h3 id="–•–æ—Ä–æ—à–∏–π-–ø—Ä–∏–º–µ—Ä-–ù–µ–∑–∞–≤–∏—Å–∏–º—ã–µ-–º–æ–¥—É–ª–∏"><a class="header" href="#–•–æ—Ä–æ—à–∏–π-–ø—Ä–∏–º–µ—Ä-–ù–µ–∑–∞–≤–∏—Å–∏–º—ã–µ-–º–æ–¥—É–ª–∏">–•–æ—Ä–æ—à–∏–π –ø—Ä–∏–º–µ—Ä: –ù–µ–∑–∞–≤–∏—Å–∏–º—ã–µ –º–æ–¥—É–ª–∏</a></h3>
<h4 id="–§–∞–π–ª-delayjs"><a class="header" href="#–§–∞–π–ª-delayjs">–§–∞–π–ª: delay.js</a></h4>
<pre><code class="language-javascript">// delay.js - —É—Ç–∏–ª–∏—Ç–∞ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–¥–µ—Ä–∂–∫–∏
// ‚úÖ –ù–µ –∑–∞–≤–∏—Å–∏—Ç –Ω–∏ –æ—Ç –∫–∞–∫–∏—Ö –≤–Ω–µ—à–Ω–∏—Ö –º–æ–¥—É–ª–µ–π
// ‚úÖ –ü—Ä–æ—Å—Ç–æ–π, –ø–æ–Ω—è—Ç–Ω—ã–π –∫–æ–Ω—Ç—Ä–∞–∫—Ç
// ‚úÖ –õ–µ–≥–∫–æ —Ç–µ—Å—Ç–∏—Ä—É–µ—Ç—Å—è

const delay = (ms) =&gt; {
  return new Promise((resolve) =&gt; {
    setTimeout(resolve, ms);
  });
};

module.exports = { delay };
</code></pre>
<p><strong>–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:</strong></p>
<ul>
<li>–ù–µ—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –æ—Ç HTTP, request, response</li>
<li>–£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–∞—è —É—Ç–∏–ª–∏—Ç–∞ - –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≥–¥–µ —É–≥–æ–¥–Ω–æ</li>
<li>–ü—Ä–æ—Å—Ç–æ–π –∫–æ–Ω—Ç—Ä–∞–∫—Ç: <code>(ms: number) =&gt; Promise&lt;void&gt;</code></li>
</ul>
<h4 id="–§–∞–π–ª-timeoutjs-—É–ª—É—á—à–µ–Ω–Ω–∞—è-–≤–µ—Ä—Å–∏—è"><a class="header" href="#–§–∞–π–ª-timeoutjs-—É–ª—É—á—à–µ–Ω–Ω–∞—è-–≤–µ—Ä—Å–∏—è">–§–∞–π–ª: timeout.js (—É–ª—É—á—à–µ–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è)</a></h4>
<pre><code class="language-javascript">// timeout.js - —Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Ç–∞–π–º–∞—É—Ç–∞
// ‚úÖ –ù–µ –∑–Ω–∞–µ—Ç –æ request/response
// ‚úÖ –ù–µ –∑–Ω–∞–µ—Ç –æ HTTP –ø—Ä–æ—Ç–æ–∫–æ–ª–µ
// ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ —Å–æ –≤—Ä–µ–º–µ–Ω–µ–º

const { delay } = require('./delay.js');

const timeout = async (ms) =&gt; {
  // –ó–∞—Å–µ–∫–∞–µ–º –Ω–∞—á–∞–ª—å–Ω–æ–µ –≤—Ä–µ–º—è
  const start = Date.now();

  // –ñ–¥–µ–º —É–∫–∞–∑–∞–Ω–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥
  await delay(ms);

  // –í—ã—á–∏—Å–ª—è–µ–º —Ä–µ–∞–ª—å–Ω–æ–µ –≤—Ä–µ–º—è –æ–∂–∏–¥–∞–Ω–∏—è
  const elapsed = Date.now() - start;

  // –í–æ–∑–≤—Ä–∞—â–∞–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ –æ —Ç–∞–π–º–∞—É—Ç–µ
  return `Timeout reached: ${elapsed}ms`;
};

module.exports = { timeout };
</code></pre>
<p><strong>–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:</strong></p>
<ul>
<li>‚úÖ –ó–∞–≤–∏—Å–∏—Ç —Ç–æ–ª—å–∫–æ –æ—Ç <code>delay</code> (–Ω–∏–∂–µ—Å—Ç–æ—è—â–∏–π —É—Ä–æ–≤–µ–Ω—å –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–∏)</li>
<li>‚úÖ –ù–µ –∑–∞—Ü–µ–ø–ª–µ–Ω –Ω–∞ HTTP, request, response</li>
<li>‚úÖ –ù–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø—Ä–∏–º–µ—Å–∏ (mixins)</li>
<li>‚úÖ –ü—Ä–æ—Å—Ç–æ–π –∫–æ–Ω—Ç—Ä–∞–∫—Ç: <code>(ms: number) =&gt; Promise&lt;string&gt;</code></li>
<li>‚úÖ –õ–µ–≥–∫–æ —Ç–µ—Å—Ç–∏—Ä—É–µ—Ç—Å—è</li>
</ul>
<h4 id="–§–∞–π–ª-loggerjs-—É–ª—É—á—à–µ–Ω–Ω–∞—è-–≤–µ—Ä—Å–∏—è"><a class="header" href="#–§–∞–π–ª-loggerjs-—É–ª—É—á—à–µ–Ω–Ω–∞—è-–≤–µ—Ä—Å–∏—è">–§–∞–π–ª: logger.js (—É–ª—É—á—à–µ–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è)</a></h4>
<pre><code class="language-javascript">// logger.js - —Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
// ‚úÖ –ù–µ –∑–Ω–∞–µ—Ç –æ request/response
// ‚úÖ –ù–µ –∑–Ω–∞–µ—Ç –æ HTTP –ø—Ä–æ—Ç–æ–∫–æ–ª–µ
// ‚úÖ –ü—Ä–∏–Ω–∏–º–∞–µ—Ç —Ç–æ–ª—å–∫–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –¥–∞–Ω–Ω—ã–µ

const logger = (method, url, referrer, time) =&gt; {
  // –§–æ—Ä–º–∏—Ä—É–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ –ª–æ–≥–∞
  const message = `${method} ${url} ${referrer || 'undefined'} ${time}ms`;

  // –í —Ä–µ–∞–ª—å–Ω–æ—Å—Ç–∏ –∑–¥–µ—Å—å –±—ã–ª–∞ –±—ã –±–æ–ª–µ–µ —Å–ª–æ–∂–Ω–∞—è –ª–æ–≥–∏–∫–∞:
  // - –∑–∞–ø–∏—Å—å –≤ —Ñ–∞–π–ª—ã
  // - –æ—Ç–ø—Ä–∞–≤–∫–∞ –≤ —Å–∏—Å—Ç–µ–º—É –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
  // - —Ä–æ—Ç–∞—Ü–∏—è –ª–æ–≥–æ–≤
  // - —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
  console.log(message);
};

module.exports = { logger };
</code></pre>
<p><strong>–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:</strong></p>
<ul>
<li>‚úÖ –ù–µ –∑–∞—Ü–µ–ø–ª–µ–Ω –Ω–∞ request/response</li>
<li>‚úÖ –ü—Ä–∏–Ω–∏–º–∞–µ—Ç —Ç–æ–ª—å–∫–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã</li>
<li>‚úÖ –ü—Ä–æ—Å—Ç–æ–π –∫–æ–Ω—Ç—Ä–∞–∫—Ç: <code>(method, url, referrer, time) =&gt; void</code></li>
<li>‚úÖ –õ–µ–≥–∫–æ —Ç–µ—Å—Ç–∏—Ä—É–µ—Ç—Å—è —Å –ª—é–±—ã–º–∏ –≤—Ö–æ–¥–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏</li>
</ul>
<h4 id="–§–∞–π–ª-mainjs-—É–ª—É—á—à–µ–Ω–Ω–∞—è-–≤–µ—Ä—Å–∏—è"><a class="header" href="#–§–∞–π–ª-mainjs-—É–ª—É—á—à–µ–Ω–Ω–∞—è-–≤–µ—Ä—Å–∏—è">–§–∞–π–ª: main.js (—É–ª—É—á—à–µ–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è)</a></h4>
<pre><code class="language-javascript">// main.js - –≥–ª–∞–≤–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
// –ó–¥–µ—Å—å –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –°–ë–û–†–ö–ê –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
// –ó–¥–µ—Å—å –≤—ã—Å–æ–∫–∞—è –°–í–Ø–ó–ù–û–°–¢–¨, –Ω–æ –Ω–∏–∑–∫–æ–µ –ó–ê–¶–ï–ü–õ–ï–ù–ò–ï –º–æ–¥—É–ª–µ–π

const http = require('http');
const { logger } = require('./logger.js');
const { timeout } = require('./timeout.js');
const { delay } = require('./delay.js');

// –†–æ—É—Ç–∏–Ω–≥ - –º–∞–ø–ø–∏–Ω–≥ URL –Ω–∞ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏
const routing = {
  '/': async () =&gt; 'Hello World',
  '/page1': async () =&gt; {
    await delay(5000);
    return 'Hello World from page1';
  },
  '/other': async () =&gt; 'Other page',
};

// ‚úÖ –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä
// –ó–¥–µ—Å—å –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
const handler = async (req, res) =&gt; {
  // 1Ô∏è‚É£ –ó–∞—Å–µ–∫–∞–µ–º –≤—Ä–µ–º—è (–ª–æ–∫–∞–ª—å–Ω–∞—è –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è!)
  const start = Date.now();

  // 2Ô∏è‚É£ –ü–æ–¥–ø–∏—Å—ã–≤–∞–µ–º—Å—è –Ω–∞ —Å–æ–±—ã—Ç–∏–µ –∑–∞–∫—Ä—ã—Ç–∏—è —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è
  res.on('finish', () =&gt; {
    const elapsed = Date.now() - start;

    // ‚úÖ –í—ã–∑—ã–≤–∞–µ–º logger —Å —è–≤–Ω—ã–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏
    // –õ–æ–≥–≥–µ—Ä –Ω–µ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç request/response!
    logger(
      req.method,
      req.url,
      req.headers.referer,
      elapsed
    );
  });

  // 3Ô∏è‚É£ –ù–∞—Ö–æ–¥–∏–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –¥–ª—è URL
  const route = routing[req.url];

  if (!route) {
    res.statusCode = 404;
    res.end('Not found');
    return;
  }

  // 4Ô∏è‚É£ –ì–æ–Ω–∫–∞ –º–µ–∂–¥—É –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–º –∏ —Ç–∞–π–º–∞—É—Ç–æ–º
  // ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ–º Promise.race –¥–ª—è —ç–ª–µ–≥–∞–Ω—Ç–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏
  try {
    const result = await Promise.race([
      route(),           // –í—ã–∑—ã–≤–∞–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –º–∞—Ä—à—Ä—É—Ç–∞
      timeout(1000)      // –ñ–¥–µ–º —Ç–∞–π–º–∞—É—Ç 1 —Å–µ–∫—É–Ω–¥–∞
    ]);

    // 5Ô∏è‚É£ –ü—Ä–æ–≤–µ—Ä—è–µ–º, –Ω–µ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω—ã –ª–∏ —É–∂–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏
    // (–¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è –≥–æ–Ω–∫–∏ —É—Å–ª–æ–≤–∏–π)
    if (!res.headersSent) {
      res.end(result);
    }
  } catch (error) {
    if (!res.headersSent) {
      res.statusCode = 500;
      res.end('Internal Server Error');
    }
  }
};

// –°–æ–∑–¥–∞–µ–º —Å–µ—Ä–≤–µ—Ä
const server = http.createServer(handler);

// –ó–∞–ø—É—Å–∫–∞–µ–º —Å–µ—Ä–≤–µ—Ä
server.listen(8000, () =&gt; {
  console.log('Server started on port 8000');
});

module.exports = { server };
</code></pre>
<h3 id="–ê–Ω–∞–ª–∏–∑-—É–ª—É—á—à–µ–Ω–∏–π"><a class="header" href="#–ê–Ω–∞–ª–∏–∑-—É–ª—É—á—à–µ–Ω–∏–π">–ê–Ω–∞–ª–∏–∑ —É–ª—É—á—à–µ–Ω–∏–π</a></h3>
<h4 id="–ì—Ä–∞—Ñ-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π-—Ö–æ—Ä–æ—à–∏–π-–ø—Ä–∏–º–µ—Ä"><a class="header" href="#–ì—Ä–∞—Ñ-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π-—Ö–æ—Ä–æ—à–∏–π-–ø—Ä–∏–º–µ—Ä">–ì—Ä–∞—Ñ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π (—Ö–æ—Ä–æ—à–∏–π –ø—Ä–∏–º–µ—Ä)</a></h4>
<pre><code>                    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
                    ‚îÇ    delay     ‚îÇ
                    ‚îÇ   (–±–∞–∑–æ–≤–∞—è   ‚îÇ
                    ‚îÇ  —É—Ç–∏–ª–∏—Ç–∞)    ‚îÇ
                    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                           ‚îÇ
                           ‚îÇ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç
                           ‚ñº
                    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
                    ‚îÇ   timeout    ‚îÇ
                    ‚îÇ  (—É—Ç–∏–ª–∏—Ç–∞)   ‚îÇ
                    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò


‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ    logger    ‚îÇ
‚îÇ  (—É—Ç–∏–ª–∏—Ç–∞)   ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò


        ‚ñ≤                    ‚ñ≤
        ‚îÇ                    ‚îÇ
        ‚îÇ   –≤—ã–∑—ã–≤–∞–µ—Ç        ‚îÇ –≤—ã–∑—ã–≤–∞–µ—Ç
        ‚îÇ                    ‚îÇ
        ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                 ‚îÇ
           ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
           ‚îÇ  handler   ‚îÇ ‚óÑ‚îÄ‚îÄ‚îÄ‚îÄ request/response
           ‚îÇ (–∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä‚îÇ       –∑–Ω–∞–Ω–∏–µ —Ç–æ–ª—å–∫–æ –∑–¥–µ—Å—å
           ‚îÇ   —Å–±–æ—Ä–∫–∏)  ‚îÇ
           ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò

‚úÖ –ü–†–ï–ò–ú–£–©–ï–°–¢–í–ê:
1. timeout –ù–ï –∑–∞–≤–∏—Å–∏—Ç –æ—Ç logger
2. logger –ù–ï –∑–∞–≤–∏—Å–∏—Ç –æ—Ç request/response
3. timeout –ù–ï –∑–∞–≤–∏—Å–∏—Ç –æ—Ç HTTP
4. –ü–æ—Ä—è–¥–æ–∫ –Ω–µ –≤–∞–∂–µ–Ω - –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —è–≤–Ω—ã–µ
5. –ö–∞–∂–¥—ã–π –º–æ–¥—É–ª—å –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω–æ
</code></pre>
<h3 id="–°—Ä–∞–≤–Ω–µ–Ω–∏–µ-–î–æ-–∏-–ü–æ—Å–ª–µ"><a class="header" href="#–°—Ä–∞–≤–Ω–µ–Ω–∏–µ-–î–æ-–∏-–ü–æ—Å–ª–µ">–°—Ä–∞–≤–Ω–µ–Ω–∏–µ: –î–æ –∏ –ü–æ—Å–ª–µ</a></h3>
<h4 id="–î–æ-middleware-–ø–æ–¥—Ö–æ–¥-–≤—ã—Å–æ–∫–æ–µ-–∑–∞—Ü–µ–ø–ª–µ–Ω–∏–µ"><a class="header" href="#–î–æ-middleware-–ø–æ–¥—Ö–æ–¥-–≤—ã—Å–æ–∫–æ–µ-–∑–∞—Ü–µ–ø–ª–µ–Ω–∏–µ">–î–æ: Middleware –ø–æ–¥—Ö–æ–¥ (–≤—ã—Å–æ–∫–æ–µ –∑–∞—Ü–µ–ø–ª–µ–Ω–∏–µ)</a></h4>
<pre><code class="language-javascript">// ‚ùå –ü–õ–û–•–û: –ó–∞—Ü–µ–ø–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ –ø—Ä–∏–º–µ—Å–∏ –∏ —Å–æ–±—ã—Ç–∏—è

// logger.js
const logger = (req, res, next) =&gt; {
  req.requestTime = Date.now();  // ‚ùå –ü—Ä–∏–º–µ—Å—å
  res.on('finish', () =&gt; {       // ‚ùå –ó–Ω–∞–Ω–∏–µ –æ —Å–æ–±—ã—Ç–∏—è—Ö
    // ...–ª–æ–≥–∏–∫–∞
  });
  next();
};

// timeout.js
const timeout = (ms) =&gt; (req, res, next) =&gt; {
  setTimeout(() =&gt; {
    const elapsed = Date.now() - req.requestTime;  // ‚ùå –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –æ—Ç logger
    if (!res.headersSent) {                        // ‚ùå –ó–Ω–∞–Ω–∏–µ –æ HTTP
      res.status(503).send(`Timeout: ${elapsed}ms`);
    }
  }, ms);
  next();
};

// main.js
app.use(logger);        // ‚ùå –ü–æ—Ä—è–¥–æ–∫ –∫—Ä–∏—Ç–∏—á–µ–Ω!
app.use(timeout(1000)); // ‚ùå –î–æ–ª–∂–µ–Ω –±—ã—Ç—å –ø–æ—Å–ª–µ logger!
</code></pre>
<p><strong>–ü—Ä–æ–±–ª–µ–º—ã:</strong></p>
<ul>
<li>‚ùå timeout –∑–∞–≤–∏—Å–∏—Ç –æ—Ç logger —á–µ—Ä–µ–∑ req.requestTime</li>
<li>‚ùå –ù–µ–≤–æ–∑–º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å timeout –±–µ–∑ logger</li>
<li>‚ùå –ü–æ—Ä—è–¥–æ–∫ middleware –∫—Ä–∏—Ç–∏—á–µ–Ω</li>
<li>‚ùå –û–±–∞ –∑–Ω–∞—é—Ç –æ –¥–µ—Ç–∞–ª—è—Ö HTTP –ø—Ä–æ—Ç–æ–∫–æ–ª–∞</li>
<li>‚ùå –°–ª–æ–∂–Ω–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω–æ</li>
</ul>
<h4 id="–ü–æ—Å–ª–µ-–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π-–ø–æ–¥—Ö–æ–¥-–Ω–∏–∑–∫–æ–µ-–∑–∞—Ü–µ–ø–ª–µ–Ω–∏–µ"><a class="header" href="#–ü–æ—Å–ª–µ-–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π-–ø–æ–¥—Ö–æ–¥-–Ω–∏–∑–∫–æ–µ-–∑–∞—Ü–µ–ø–ª–µ–Ω–∏–µ">–ü–æ—Å–ª–µ: –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –ø–æ–¥—Ö–æ–¥ (–Ω–∏–∑–∫–æ–µ –∑–∞—Ü–µ–ø–ª–µ–Ω–∏–µ)</a></h4>
<pre><code class="language-javascript">// ‚úÖ –•–û–†–û–®–û: –ù–µ–∑–∞–≤–∏—Å–∏–º—ã–µ –º–æ–¥—É–ª–∏ —Å —è–≤–Ω—ã–º–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏

// logger.js
const logger = (method, url, referrer, time) =&gt; {
  console.log(`${method} ${url} ${referrer} ${time}ms`);
};

// timeout.js
const { delay } = require('./delay.js');
const timeout = async (ms) =&gt; {
  const start = Date.now();
  await delay(ms);
  return `Timeout: ${Date.now() - start}ms`;
};

// main.js - –¢–û–õ–¨–ö–û –∑–¥–µ—Å—å –∑–Ω–∞–Ω–∏–µ –æ HTTP
const handler = async (req, res) =&gt; {
  const start = Date.now();

  res.on('finish', () =&gt; {
    logger(req.method, req.url, req.headers.referer, Date.now() - start);
  });

  const result = await Promise.race([
    routing[req.url](),
    timeout(1000)
  ]);

  res.end(result);
};
</code></pre>
<p><strong>–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:</strong></p>
<ul>
<li>‚úÖ logger –Ω–µ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç HTTP</li>
<li>‚úÖ timeout –Ω–µ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç logger</li>
<li>‚úÖ –ü–æ—Ä—è–¥–æ–∫ –Ω–µ –≤–∞–∂–µ–Ω</li>
<li>‚úÖ –ö–∞–∂–¥—ã–π –º–æ–¥—É–ª—å –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω–æ</li>
<li>‚úÖ –õ–µ–≥–∫–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å</li>
<li>‚úÖ –ó–Ω–∞–Ω–∏–µ –æ HTTP —Ç–æ–ª—å–∫–æ –≤ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–µ</li>
</ul>
<hr />
<h2 id="–ö–ª—é—á–µ–≤—ã–µ-–ø—Ä–∏–Ω—Ü–∏–ø—ã-—Å–Ω–∏–∂–µ–Ω–∏—è-–∑–∞—Ü–µ–ø–ª–µ–Ω–∏—è"><a class="header" href="#–ö–ª—é—á–µ–≤—ã–µ-–ø—Ä–∏–Ω—Ü–∏–ø—ã-—Å–Ω–∏–∂–µ–Ω–∏—è-–∑–∞—Ü–µ–ø–ª–µ–Ω–∏—è">–ö–ª—é—á–µ–≤—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã —Å–Ω–∏–∂–µ–Ω–∏—è –∑–∞—Ü–µ–ø–ª–µ–Ω–∏—è</a></h2>
<h3 id="1-–ò–∑–±–µ–≥–∞–π—Ç–µ-–ø—Ä–∏–º–µ—Å–µ–π-mixins"><a class="header" href="#1-–ò–∑–±–µ–≥–∞–π—Ç–µ-–ø—Ä–∏–º–µ—Å–µ–π-mixins">1. –ò–∑–±–µ–≥–∞–π—Ç–µ –ø—Ä–∏–º–µ—Å–µ–π (Mixins)</a></h3>
<p><strong>–ü–ª–æ—Ö–æ:</strong></p>
<pre><code class="language-javascript">// ‚ùå –ü—Ä–∏–º–µ—à–∏–≤–∞–Ω–∏–µ —Å–≤–æ–π—Å—Ç–≤ –∫ —á—É–∂–∏–º –æ–±—ä–µ–∫—Ç–∞–º
const middleware = (req, res, next) =&gt; {
  req.customProperty = 'value';  // ‚ùå –°–æ–∑–¥–∞–µ—Ç —Å–∫—Ä—ã—Ç—É—é –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å
  res.customMethod = () =&gt; {};   // ‚ùå –î—Ä—É–≥–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –º–æ–≥—É—Ç –∑–∞–≤–∏—Å–µ—Ç—å –æ—Ç —ç—Ç–æ–≥–æ
  next();
};
</code></pre>
<p><strong>–•–æ—Ä–æ—à–æ:</strong></p>
<pre><code class="language-javascript">// ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ª–æ–∫–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∏–ª–∏ –∑–∞–º—ã–∫–∞–Ω–∏—è
const handler = (req, res) =&gt; {
  const context = {              // ‚úÖ –õ–æ–∫–∞–ª—å–Ω—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç
    customProperty: 'value',
    customMethod: () =&gt; {}
  };

  // –†–∞–±–æ—Ç–∞–µ–º —Å –ª–æ–∫–∞–ª—å–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏
  processRequest(context, req, res);
};
</code></pre>
<h3 id="2-–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ-—è–≤–Ω—ã–µ-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏"><a class="header" href="#2-–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ-—è–≤–Ω—ã–µ-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏">2. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —è–≤–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏</a></h3>
<p><strong>–ü–ª–æ—Ö–æ:</strong></p>
<pre><code class="language-javascript">// ‚ùå –ù–µ—è–≤–Ω–∞—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å —á–µ—Ä–µ–∑ –≥–ª–æ–±–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
const timeout = (ms) =&gt; (req, res, next) =&gt; {
  // ‚ùå –û—Ç–∫—É–¥–∞ –≤–∑—è–ª—Å—è req.requestTime? –ù–µ–æ—á–µ–≤–∏–¥–Ω–æ!
  const elapsed = Date.now() - req.requestTime;
  next();
};
</code></pre>
<p><strong>–•–æ—Ä–æ—à–æ:</strong></p>
<pre><code class="language-javascript">// ‚úÖ –Ø–≤–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
const timeout = async (ms, startTime) =&gt; {
  await delay(ms);
  const elapsed = Date.now() - startTime;
  return `Timeout: ${elapsed}ms`;
};

// ‚úÖ –í—ã–∑–æ–≤ —Å —è–≤–Ω—ã–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏
const handler = async (req, res) =&gt; {
  const start = Date.now();
  const result = await timeout(1000, start);  // ‚úÖ –ü–æ–Ω—è—Ç–Ω–æ, –æ—Ç–∫—É–¥–∞ –±–µ—Ä—É—Ç—Å—è –¥–∞–Ω–Ω—ã–µ
};
</code></pre>
<h3 id="3-–†–∞–∑–¥–µ–ª—è–π—Ç–µ-–æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏"><a class="header" href="#3-–†–∞–∑–¥–µ–ª—è–π—Ç–µ-–æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏">3. –†–∞–∑–¥–µ–ª—è–π—Ç–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏</a></h3>
<p><strong>–ü–ª–æ—Ö–æ:</strong></p>
<pre><code class="language-javascript">// ‚ùå –ö–ª–∞—Å—Å Person –∑–Ω–∞–µ—Ç –æ –ë–î, HTTP, –≤–∞–ª–∏–¥–∞—Ü–∏–∏
class Person {
  async save() {
    await db.query('INSERT ...', [this.name]);  // ‚ùå –ó–Ω–∞–Ω–∏–µ –æ –ë–î
  }

  async loadFromRequest(req) {
    this.name = req.body.name;                   // ‚ùå –ó–Ω–∞–Ω–∏–µ –æ HTTP
  }

  validate() {
    if (!this.name) throw new Error('...');     // ‚ùå –°–º–µ—à–∞–Ω–Ω—ã–µ –æ–±—è–∑–∞–Ω–Ω–æ—Å—Ç–∏
  }
}
</code></pre>
<p><strong>–•–æ—Ä–æ—à–æ:</strong></p>
<pre><code class="language-javascript">// ‚úÖ –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –Ω–∞ —Å–ª–æ–∏
class Person {
  constructor(name, surname, address) {
    this.name = name;
    this.surname = surname;
    this.address = address;
  }
}

// ‚úÖ –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π - —Ä–∞–±–æ—Ç–∞ —Å –ë–î
class PersonRepository {
  async save(person) {
    await db.query('INSERT ...', [person.name]);
  }
}

// ‚úÖ –ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä - —Ä–∞–±–æ—Ç–∞ —Å HTTP
class PersonController {
  async create(req, res) {
    const person = new Person(req.body.name, req.body.surname, req.body.address);
    await personRepository.save(person);
    res.json(person);
  }
}

// ‚úÖ –í–∞–ª–∏–¥–∞—Ç–æ—Ä - –ø—Ä–æ–≤–µ—Ä–∫–∞ –¥–∞–Ω–Ω—ã—Ö
class PersonValidator {
  validate(person) {
    if (!person.name) throw new Error('Name is required');
  }
}
</code></pre>
<h3 id="4-–ü—Ä–æ–≥—Ä–∞–º–º–∏—Ä—É–π—Ç–µ-–Ω–∞-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã-–∞-–Ω–µ-—Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏"><a class="header" href="#4-–ü—Ä–æ–≥—Ä–∞–º–º–∏—Ä—É–π—Ç–µ-–Ω–∞-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã-–∞-–Ω–µ-—Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏">4. –ü—Ä–æ–≥—Ä–∞–º–º–∏—Ä—É–π—Ç–µ –Ω–∞ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã, –∞ –Ω–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏</a></h3>
<p><strong>–ü–ª–æ—Ö–æ:</strong></p>
<pre><code class="language-javascript">// ‚ùå –ó–∞—Ü–µ–ø–ª–µ–Ω–∏–µ –Ω–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—É—é —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é
class UserService {
  constructor() {
    this.db = new PostgreSQLDatabase();  // ‚ùå –ñ–µ—Å—Ç–∫–∞—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å
  }

  async getUser(id) {
    return this.db.query('SELECT * FROM users WHERE id = $1', [id]);
  }
}
</code></pre>
<p><strong>–•–æ—Ä–æ—à–æ:</strong></p>
<pre><code class="language-javascript">// ‚úÖ –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –æ—Ç –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–∏ (–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞)
class UserService {
  constructor(database) {  // ‚úÖ –í–Ω–µ–¥—Ä–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
    this.db = database;
  }

  async getUser(id) {
    // ‚úÖ –†–∞–±–æ—Ç–∞–µ–º —á–µ—Ä–µ–∑ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å, –Ω–µ –≤–∞–∂–Ω–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è
    return this.db.findById('users', id);
  }
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:
const postgresDb = new PostgreSQLDatabase();
const mongoDb = new MongoDatabase();

const service1 = new UserService(postgresDb);  // ‚úÖ –ú–æ–∂–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å PostgreSQL
const service2 = new UserService(mongoDb);     // ‚úÖ –ò–ª–∏ MongoDB - —Å–µ—Ä–≤–∏—Å –Ω–µ –º–µ–Ω—è–µ—Ç—Å—è
</code></pre>
<hr />
<h2 id="–°–≤—è–∑–Ω–æ—Å—Ç—å-–≤–Ω—É—Ç—Ä–∏-–º–æ–¥—É–ª–µ–π"><a class="header" href="#–°–≤—è–∑–Ω–æ—Å—Ç—å-–≤–Ω—É—Ç—Ä–∏-–º–æ–¥—É–ª–µ–π">–°–≤—è–∑–Ω–æ—Å—Ç—å –≤–Ω—É—Ç—Ä–∏ –º–æ–¥—É–ª–µ–π</a></h2>
<h3 id="–í—ã—Å–æ–∫–∞—è-—Å–≤—è–∑–Ω–æ—Å—Ç—å-–≤-–∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–µ"><a class="header" href="#–í—ã—Å–æ–∫–∞—è-—Å–≤—è–∑–Ω–æ—Å—Ç—å-–≤-–∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–µ">–í—ã—Å–æ–∫–∞—è —Å–≤—è–∑–Ω–æ—Å—Ç—å –≤ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–µ</a></h3>
<pre><code class="language-javascript">// main.js - –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä —Å –≤—ã—Å–æ–∫–æ–π —Å–≤—è–∑–Ω–æ—Å—Ç—å—é
// ‚úÖ –í—Å–µ —ç–ª–µ–º–µ–Ω—Ç—ã —Ä–∞–±–æ—Ç–∞—é—Ç –≤–º–µ—Å—Ç–µ –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ HTTP –∑–∞–ø—Ä–æ—Å–æ–≤

const handler = async (req, res) =&gt; {
  // –í—Å–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∏ —Ñ—É–Ω–∫—Ü–∏–∏ —Ç–µ—Å–Ω–æ —Å–≤—è–∑–∞–Ω—ã
  const start = Date.now();           // ‚≠ê –°–≤—è–∑–∞–Ω–æ —Å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ–º

  res.on('finish', () =&gt; {            // ‚≠ê –°–≤—è–∑–∞–Ω–æ —Å start –∏ logger
    const elapsed = Date.now() - start;
    logger(req.method, req.url, req.headers.referer, elapsed);
  });

  const route = routing[req.url];     // ‚≠ê –°–≤—è–∑–∞–Ω–æ —Å req –∏ result

  const result = await Promise.race([ // ‚≠ê –°–≤—è–∑–∞–Ω–æ —Å route –∏ timeout
    route(),
    timeout(1000)
  ]);

  if (!res.headersSent) {             // ‚≠ê –°–≤—è–∑–∞–Ω–æ —Å result –∏ res
    res.end(result);
  }
};
</code></pre>
<p><strong>–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ –≤—ã—Å–æ–∫–æ–π —Å–≤—è–∑–Ω–æ—Å—Ç–∏:</strong></p>
<ul>
<li>‚úÖ –í—Å–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤–º–µ—Å—Ç–µ –¥–ª—è –µ–¥–∏–Ω–æ–π —Ü–µ–ª–∏</li>
<li>‚úÖ –õ–æ–≥–∏–∫–∞ –ª–µ–≥–∫–æ –ø–æ–Ω—è—Ç–Ω–∞ –∫–∞–∫ –µ–¥–∏–Ω–æ–µ —Ü–µ–ª–æ–µ</li>
<li>‚úÖ –ò–∑–º–µ–Ω–µ–Ω–∏–µ –æ–¥–Ω–æ–π —á–∞—Å—Ç–∏ —Ç—Ä–µ–±—É–µ—Ç –ø–æ–Ω–∏–º–∞–Ω–∏—è –¥—Ä—É–≥–∏—Ö —á–∞—Å—Ç–µ–π</li>
<li>‚úÖ –í—Å–µ —ç–ª–µ–º–µ–Ω—Ç—ã –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–¥–∞—á–∏</li>
</ul>
<h3 id="–ü—Ä–∏–º–µ—Ä-–Ω–∏–∑–∫–æ–π-—Å–≤—è–∑–Ω–æ—Å—Ç–∏-–∞–Ω—Ç–∏–ø–∞—Ç—Ç–µ—Ä–Ω"><a class="header" href="#–ü—Ä–∏–º–µ—Ä-–Ω–∏–∑–∫–æ–π-—Å–≤—è–∑–Ω–æ—Å—Ç–∏-–∞–Ω—Ç–∏–ø–∞—Ç—Ç–µ—Ä–Ω">–ü—Ä–∏–º–µ—Ä –Ω–∏–∑–∫–æ–π —Å–≤—è–∑–Ω–æ—Å—Ç–∏ (–∞–Ω—Ç–∏–ø–∞—Ç—Ç–µ—Ä–Ω)</a></h3>
<pre><code class="language-javascript">// ‚ùå –ü–õ–û–•–û: –ù–∏–∑–∫–∞—è —Å–≤—è–∑–Ω–æ—Å—Ç—å - –Ω–µ—Å–≤—è–∑–∞–Ω–Ω—ã–µ –æ–±—è–∑–∞–Ω–Ω–æ—Å—Ç–∏
class Utils {
  // –§—É–Ω–∫—Ü–∏–∏ –Ω–µ —Å–≤—è–∑–∞–Ω—ã –º–µ–∂–¥—É —Å–æ–±–æ–π

  formatDate(date) {
    return date.toISOString();
  }

  calculateTotal(items) {
    return items.reduce((sum, item) =&gt; sum + item.price, 0);
  }

  sendEmail(to, subject, body) {
    // ... –æ—Ç–ø—Ä–∞–≤–∫–∞ email
  }

  parseJSON(str) {
    return JSON.parse(str);
  }
}

// ‚ùå –ü—Ä–æ–±–ª–µ–º–∞: –∫–ª–∞—Å—Å Utils –æ–±—ä–µ–¥–∏–Ω—è–µ—Ç –Ω–µ—Å–≤—è–∑–∞–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
// –õ—É—á—à–µ —Ä–∞–∑–¥–µ–ª–∏—Ç—å –Ω–∞ –æ—Ç–¥–µ–ª—å–Ω—ã–µ –º–æ–¥—É–ª–∏: DateUtils, CartUtils, EmailService, JSONParser
</code></pre>
<hr />
<h2 id="–°–ª–æ–∏-–∏-–∑–∞—Ü–µ–ø–ª–µ–Ω–∏–µ"><a class="header" href="#–°–ª–æ–∏-–∏-–∑–∞—Ü–µ–ø–ª–µ–Ω–∏–µ">–°–ª–æ–∏ –∏ –∑–∞—Ü–µ–ø–ª–µ–Ω–∏–µ</a></h2>
<h3 id="–î–æ–ø—É—Å—Ç–∏–º–æ–µ-–∑–∞—Ü–µ–ø–ª–µ–Ω–∏–µ-–Ω–∞-–Ω–∏–∂–µ—Å—Ç–æ—è—â–∏–µ-—Å–ª–æ–∏"><a class="header" href="#–î–æ–ø—É—Å—Ç–∏–º–æ–µ-–∑–∞—Ü–µ–ø–ª–µ–Ω–∏–µ-–Ω–∞-–Ω–∏–∂–µ—Å—Ç–æ—è—â–∏–µ-—Å–ª–æ–∏">–î–æ–ø—É—Å—Ç–∏–º–æ–µ –∑–∞—Ü–µ–ø–ª–µ–Ω–∏–µ –Ω–∞ –Ω–∏–∂–µ—Å—Ç–æ—è—â–∏–µ —Å–ª–æ–∏</a></h3>
<pre><code class="language-javascript">// ‚úÖ –ù–û–†–ú–ê–õ–¨–ù–û: –ó–∞—Ü–µ–ø–ª–µ–Ω–∏–µ –Ω–∞ –Ω–∏–∂–µ—Å—Ç–æ—è—â–∏–µ –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–∏

// –°–ª–æ–π 1: –ë–∞–∑–æ–≤—ã–µ —É—Ç–∏–ª–∏—Ç—ã (foundation layer)
const delay = (ms) =&gt; new Promise(resolve =&gt; setTimeout(resolve, ms));

// –°–ª–æ–π 2: –ë–∏–∑–Ω–µ—Å-—É—Ç–∏–ª–∏—Ç—ã (utility layer)
// ‚úÖ –ó–∞–≤–∏—Å–∏—Ç –æ—Ç delay - —ç—Ç–æ –ù–û–†–ú–ê–õ–¨–ù–û
const timeout = async (ms) =&gt; {
  const start = Date.now();
  await delay(ms);  // ‚úÖ –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –æ—Ç –Ω–∏–∂–µ—Å—Ç–æ—è—â–µ–≥–æ —Å–ª–æ—è
  return `Timeout: ${Date.now() - start}ms`;
};

// –°–ª–æ–π 3: –ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã (application layer)
// ‚úÖ –ó–∞–≤–∏—Å–∏—Ç –æ—Ç timeout –∏ logger - —ç—Ç–æ –ù–û–†–ú–ê–õ–¨–ù–û
const handler = async (req, res) =&gt; {
  const result = await Promise.race([
    processRequest(req),
    timeout(1000)  // ‚úÖ –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –æ—Ç –Ω–∏–∂–µ—Å—Ç–æ—è—â–µ–≥–æ —Å–ª–æ—è
  ]);

  logger(...);  // ‚úÖ –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –æ—Ç –Ω–∏–∂–µ—Å—Ç–æ—è—â–µ–≥–æ —Å–ª–æ—è
  res.end(result);
};
</code></pre>
<p><strong>–ü—Ä–∞–≤–∏–ª–æ:</strong> –ó–∞—Ü–µ–ø–ª–µ–Ω–∏–µ –Ω–∞ –Ω–∏–∂–µ—Å—Ç–æ—è—â–∏–µ —Å–ª–æ–∏ –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–∏ - —ç—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ –∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ.</p>
<h3 id="–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞-—Å–ª–æ–µ–≤"><a class="header" href="#–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞-—Å–ª–æ–µ–≤">–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–ª–æ–µ–≤</a></h3>
<pre><code>‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   Application Layer (–ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã)   ‚îÇ
‚îÇ   - HTTP handlers                   ‚îÇ
‚îÇ   - –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞                   ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
               ‚îÇ ‚úÖ –º–æ–∂–µ—Ç –∑–∞–≤–∏—Å–µ—Ç—å
               ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   Business Layer (–°–µ—Ä–≤–∏—Å—ã)          ‚îÇ
‚îÇ   - UserService                     ‚îÇ
‚îÇ   - OrderService                    ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
               ‚îÇ ‚úÖ –º–æ–∂–µ—Ç –∑–∞–≤–∏—Å–µ—Ç—å
               ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   Data Layer (–†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏)          ‚îÇ
‚îÇ   - UserRepository                  ‚îÇ
‚îÇ   - Database access                 ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
               ‚îÇ ‚úÖ –º–æ–∂–µ—Ç –∑–∞–≤–∏—Å–µ—Ç—å
               ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   Foundation Layer (–£—Ç–∏–ª–∏—Ç—ã)        ‚îÇ
‚îÇ   - delay, logger, timeout          ‚îÇ
‚îÇ   - –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ –º–æ–¥—É–ª–∏ Node.js       ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò

‚ùå –ó–ê–ü–†–ï–©–ï–ù–û: –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –≤–≤–µ—Ä—Ö (Foundation ‚Üí Application)
‚úÖ –†–ê–ó–†–ï–®–ï–ù–û: –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –≤–Ω–∏–∑ (Application ‚Üí Foundation)
</code></pre>
<hr />
<h2 id="–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ-—Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏-12"><a class="header" href="#–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ-—Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏-12">–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏</a></h2>
<h3 id="1-–ö–æ–Ω—Ç—Ä–æ–ª—å–Ω—ã–π-—Å–ø–∏—Å–æ–∫-–¥–ª—è-—Å–Ω–∏–∂–µ–Ω–∏—è-–∑–∞—Ü–µ–ø–ª–µ–Ω–∏—è"><a class="header" href="#1-–ö–æ–Ω—Ç—Ä–æ–ª—å–Ω—ã–π-—Å–ø–∏—Å–æ–∫-–¥–ª—è-—Å–Ω–∏–∂–µ–Ω–∏—è-–∑–∞—Ü–µ–ø–ª–µ–Ω–∏—è">1. –ö–æ–Ω—Ç—Ä–æ–ª—å–Ω—ã–π —Å–ø–∏—Å–æ–∫ –¥–ª—è —Å–Ω–∏–∂–µ–Ω–∏—è –∑–∞—Ü–µ–ø–ª–µ–Ω–∏—è</a></h3>
<p>–ü—Ä–∏ –Ω–∞–ø–∏—Å–∞–Ω–∏–∏ –Ω–æ–≤–æ–≥–æ –º–æ–¥—É–ª—è –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:</p>
<ul>
<li><input disabled="" type="checkbox"/>
–ú–æ–¥—É–ª—å –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –≥–ª–æ–±–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ</li>
<li><input disabled="" type="checkbox"/>
–í—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —è–≤–Ω–æ –ø–µ—Ä–µ–¥–∞–Ω—ã —á–µ—Ä–µ–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∏–ª–∏ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä</li>
<li><input disabled="" type="checkbox"/>
–ú–æ–¥—É–ª—å –Ω–µ –ø—Ä–∏–º–µ—à–∏–≤–∞–µ—Ç —Å–≤–æ–π—Å—Ç–≤–∞ –∫ —á—É–∂–∏–º –æ–±—ä–µ–∫—Ç–∞–º</li>
<li><input disabled="" type="checkbox"/>
–ú–æ–¥—É–ª—å –Ω–µ –ø–æ–¥–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è –Ω–∞ —Å–æ–±—ã—Ç–∏—è —á—É–∂–∏—Ö –æ–±—ä–µ–∫—Ç–æ–≤ (–µ—Å–ª–∏ —ç—Ç–æ –Ω–µ –µ–≥–æ –ø—Ä—è–º–∞—è –æ–±—è–∑–∞–Ω–Ω–æ—Å—Ç—å)</li>
<li><input disabled="" type="checkbox"/>
–ú–æ–¥—É–ª—å –Ω–µ –∑–Ω–∞–µ—Ç –æ —Å—Ç—Ä—É–∫—Ç—É—Ä–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö</li>
<li><input disabled="" type="checkbox"/>
–ú–æ–¥—É–ª—å –Ω–µ –∑–Ω–∞–µ—Ç –æ –¥–µ—Ç–∞–ª—è—Ö HTTP –ø—Ä–æ—Ç–æ–∫–æ–ª–∞ (–µ—Å–ª–∏ —ç—Ç–æ –Ω–µ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä)</li>
<li><input disabled="" type="checkbox"/>
–ú–æ–¥—É–ª—å –º–æ–∂–Ω–æ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω–æ</li>
<li><input disabled="" type="checkbox"/>
–ú–æ–¥—É–ª—å –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ –¥—Ä—É–≥–æ–º –ø—Ä–æ–µ–∫—Ç–µ</li>
</ul>
<h3 id="2-–ö–æ–Ω—Ç—Ä–æ–ª—å–Ω—ã–π-—Å–ø–∏—Å–æ–∫-–¥–ª—è-–ø–æ–≤—ã—à–µ–Ω–∏—è-—Å–≤—è–∑–Ω–æ—Å—Ç–∏"><a class="header" href="#2-–ö–æ–Ω—Ç—Ä–æ–ª—å–Ω—ã–π-—Å–ø–∏—Å–æ–∫-–¥–ª—è-–ø–æ–≤—ã—à–µ–Ω–∏—è-—Å–≤—è–∑–Ω–æ—Å—Ç–∏">2. –ö–æ–Ω—Ç—Ä–æ–ª—å–Ω—ã–π —Å–ø–∏—Å–æ–∫ –¥–ª—è –ø–æ–≤—ã—à–µ–Ω–∏—è —Å–≤—è–∑–Ω–æ—Å—Ç–∏</a></h3>
<p>–ü—Ä–∏ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–µ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:</p>
<ul>
<li><input disabled="" type="checkbox"/>
–í—Å–µ –º–µ—Ç–æ–¥—ã –∫–ª–∞—Å—Å–∞ –∏—Å–ø–æ–ª—å–∑—É—é—Ç –æ–±—â–∏–µ –ø–æ–ª—è</li>
<li><input disabled="" type="checkbox"/>
–í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ –º–æ–¥—É–ª—è —Ä–µ—à–∞—é—Ç –æ–¥–Ω—É –∑–∞–¥–∞—á—É</li>
<li><input disabled="" type="checkbox"/>
–ù–∞–∑–≤–∞–Ω–∏–µ –º–æ–¥—É–ª—è –æ—Ç—Ä–∞–∂–∞–µ—Ç –µ–¥–∏–Ω—É—é —Ü–µ–ª—å</li>
<li><input disabled="" type="checkbox"/>
–ù–µ–≤–æ–∑–º–æ–∂–Ω–æ —Ä–∞–∑–¥–µ–ª–∏—Ç—å –º–æ–¥—É–ª—å –Ω–∞ –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã–µ —á–∞—Å—Ç–∏</li>
<li><input disabled="" type="checkbox"/>
–í—Å–µ –ø—É–±–ª–∏—á–Ω—ã–µ –º–µ—Ç–æ–¥—ã –Ω—É–∂–Ω—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã –º–æ–¥—É–ª—è</li>
<li><input disabled="" type="checkbox"/>
–ù–µ—Ç –º–µ—Ç–æ–¥–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ "–Ω–µ –≤–ø–∏—Å—ã–≤–∞—é—Ç—Å—è" –≤ –æ–±—â—É—é –∫–æ–Ω—Ü–µ–ø—Ü–∏—é</li>
</ul>
<h3 id="3-–ü—Ä–∏–∑–Ω–∞–∫–∏-–ø—Ä–æ–±–ª–µ–º-—Å-–∑–∞—Ü–µ–ø–ª–µ–Ω–∏–µ–º"><a class="header" href="#3-–ü—Ä–∏–∑–Ω–∞–∫–∏-–ø—Ä–æ–±–ª–µ–º-—Å-–∑–∞—Ü–µ–ø–ª–µ–Ω–∏–µ–º">3. –ü—Ä–∏–∑–Ω–∞–∫–∏ –ø—Ä–æ–±–ª–µ–º —Å –∑–∞—Ü–µ–ø–ª–µ–Ω–∏–µ–º</a></h3>
<p><strong>–í–æ–ø—Ä–æ—Å—ã –¥–ª—è —Å–∞–º–æ–ø—Ä–æ–≤–µ—Ä–∫–∏:</strong></p>
<ol>
<li>
<p><strong>–ú–æ–∂–Ω–æ –ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –º–æ–¥—É–ª—å –æ—Ç–¥–µ–ª—å–Ω–æ?</strong></p>
<ul>
<li>‚ùå –ù–µ—Ç ‚Üí –≤—ã—Å–æ–∫–æ–µ –∑–∞—Ü–µ–ø–ª–µ–Ω–∏–µ</li>
<li>‚úÖ –î–∞ ‚Üí –Ω–æ—Ä–º–∞–ª—å–Ω–æ–µ –∑–∞—Ü–µ–ø–ª–µ–Ω–∏–µ</li>
</ul>
</li>
<li>
<p><strong>–ù—É–∂–Ω—ã –ª–∏ –º–æ–∫–∏ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è?</strong></p>
<ul>
<li>‚ùå –ù—É–∂–Ω—ã —Å–ª–æ–∂–Ω—ã–µ –º–æ–∫–∏ –¥–ª—è –º–Ω–æ–≥–∏—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π ‚Üí –≤—ã—Å–æ–∫–æ–µ –∑–∞—Ü–µ–ø–ª–µ–Ω–∏–µ</li>
<li>‚úÖ –ú–æ–∫–∏ –ø—Ä–æ—Å—Ç—ã–µ –∏–ª–∏ –Ω–µ –Ω—É–∂–Ω—ã ‚Üí –Ω–∏–∑–∫–æ–µ –∑–∞—Ü–µ–ø–ª–µ–Ω–∏–µ</li>
</ul>
</li>
<li>
<p><strong>–ò–∑–º–µ–Ω–µ–Ω–∏–µ –≤ –æ–¥–Ω–æ–º –º–æ–¥—É–ª–µ —Ç—Ä–µ–±—É–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ –¥—Ä—É–≥–∏—Ö?</strong></p>
<ul>
<li>‚ùå –î–∞ ‚Üí –≤—ã—Å–æ–∫–æ–µ –∑–∞—Ü–µ–ø–ª–µ–Ω–∏–µ</li>
<li>‚úÖ –ù–µ—Ç ‚Üí –Ω–∏–∑–∫–æ–µ –∑–∞—Ü–µ–ø–ª–µ–Ω–∏–µ</li>
</ul>
</li>
<li>
<p><strong>–ï—Å—Ç—å –ª–∏ —Å–∫—Ä—ã—Ç—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏?</strong></p>
<ul>
<li>‚ùå –ï—Å—Ç—å (–ø—Ä–∏–º–µ—Å–∏, –≥–ª–æ–±–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ) ‚Üí –≤—ã—Å–æ–∫–æ–µ –∑–∞—Ü–µ–ø–ª–µ–Ω–∏–µ</li>
<li>‚úÖ –í—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —è–≤–Ω—ã–µ ‚Üí –Ω–∏–∑–∫–æ–µ –∑–∞—Ü–µ–ø–ª–µ–Ω–∏–µ</li>
</ul>
</li>
</ol>
<h3 id="4-–ü—Ä–∏–∑–Ω–∞–∫–∏-–ø—Ä–æ–±–ª–µ–º-—Å–æ-—Å–≤—è–∑–Ω–æ—Å—Ç—å—é"><a class="header" href="#4-–ü—Ä–∏–∑–Ω–∞–∫–∏-–ø—Ä–æ–±–ª–µ–º-—Å–æ-—Å–≤—è–∑–Ω–æ—Å—Ç—å—é">4. –ü—Ä–∏–∑–Ω–∞–∫–∏ –ø—Ä–æ–±–ª–µ–º —Å–æ —Å–≤—è–∑–Ω–æ—Å—Ç—å—é</a></h3>
<p><strong>–í–æ–ø—Ä–æ—Å—ã –¥–ª—è —Å–∞–º–æ–ø—Ä–æ–≤–µ—Ä–∫–∏:</strong></p>
<ol>
<li>
<p><strong>–£ –∫–ª–∞—Å—Å–∞/–º–æ–¥—É–ª—è –æ–¥–Ω–∞ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å?</strong></p>
<ul>
<li>‚ùå –ù–µ—Å–∫–æ–ª—å–∫–æ –Ω–µ—Å–≤—è–∑–∞–Ω–Ω—ã—Ö –æ–±—è–∑–∞–Ω–Ω–æ—Å—Ç–µ–π ‚Üí –Ω–∏–∑–∫–∞—è —Å–≤—è–∑–Ω–æ—Å—Ç—å</li>
<li>‚úÖ –û–¥–Ω–∞ —á–µ—Ç–∫–∞—è –æ–±—è–∑–∞–Ω–Ω–æ—Å—Ç—å ‚Üí –≤—ã—Å–æ–∫–∞—è —Å–≤—è–∑–Ω–æ—Å—Ç—å</li>
</ul>
</li>
<li>
<p><strong>–í—Å–µ –º–µ—Ç–æ–¥—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç –æ–±—â–∏–µ –¥–∞–Ω–Ω—ã–µ?</strong></p>
<ul>
<li>‚ùå –ù–µ–∫–æ—Ç–æ—Ä—ã–µ –º–µ—Ç–æ–¥—ã –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã ‚Üí –Ω–∏–∑–∫–∞—è —Å–≤—è–∑–Ω–æ—Å—Ç—å</li>
<li>‚úÖ –í—Å–µ –º–µ—Ç–æ–¥—ã —Ä–∞–±–æ—Ç–∞—é—Ç —Å –æ–±—â–∏–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º ‚Üí –≤—ã—Å–æ–∫–∞—è —Å–≤—è–∑–Ω–æ—Å—Ç—å</li>
</ul>
</li>
<li>
<p><strong>–ú–æ–∂–Ω–æ –ª–∏ –æ–ø–∏—Å–∞—Ç—å –º–æ–¥—É–ª—å –æ–¥–Ω–∏–º –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ–º?</strong></p>
<ul>
<li>‚ùå –ù—É–∂–Ω–æ –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π ‚Üí –Ω–∏–∑–∫–∞—è —Å–≤—è–∑–Ω–æ—Å—Ç—å</li>
<li>‚úÖ –û–¥–Ω–æ —á–µ—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ ‚Üí –≤—ã—Å–æ–∫–∞—è —Å–≤—è–∑–Ω–æ—Å—Ç—å</li>
</ul>
</li>
</ol>
<hr />
<h2 id="–ü–∞—Ç—Ç–µ—Ä–Ω—ã-–¥–ª—è-—É–ø—Ä–∞–≤–ª–µ–Ω–∏—è-–∑–∞—Ü–µ–ø–ª–µ–Ω–∏–µ–º"><a class="header" href="#–ü–∞—Ç—Ç–µ—Ä–Ω—ã-–¥–ª—è-—É–ø—Ä–∞–≤–ª–µ–Ω–∏—è-–∑–∞—Ü–µ–ø–ª–µ–Ω–∏–µ–º">–ü–∞—Ç—Ç–µ—Ä–Ω—ã –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∑–∞—Ü–µ–ø–ª–µ–Ω–∏–µ–º</a></h2>
<h3 id="1-dependency-injection-–í–Ω–µ–¥—Ä–µ–Ω–∏–µ-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π-1"><a class="header" href="#1-dependency-injection-–í–Ω–µ–¥—Ä–µ–Ω–∏–µ-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π-1">1. Dependency Injection (–í–Ω–µ–¥—Ä–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π)</a></h3>
<pre><code class="language-javascript">// ‚ùå –ü–õ–û–•–û: –ñ–µ—Å—Ç–∫–∞—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å
class UserService {
  constructor() {
    this.logger = new FileLogger();  // ‚ùå –ù–µ–ª—å–∑—è –∏–∑–º–µ–Ω–∏—Ç—å
  }
}

// ‚úÖ –•–û–†–û–®–û: –í–Ω–µ–¥—Ä–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
class UserService {
  constructor(logger) {  // ‚úÖ –ì–∏–±–∫–æ—Å—Ç—å
    this.logger = logger;
  }
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:
const fileLogger = new FileLogger();
const consoleLogger = new ConsoleLogger();

const service1 = new UserService(fileLogger);
const service2 = new UserService(consoleLogger);
</code></pre>
<h3 id="2-interface-segregation-–†–∞–∑–¥–µ–ª–µ–Ω–∏–µ-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤"><a class="header" href="#2-interface-segregation-–†–∞–∑–¥–µ–ª–µ–Ω–∏–µ-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤">2. Interface Segregation (–†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤)</a></h3>
<pre><code class="language-javascript">// ‚ùå –ü–õ–û–•–û: –¢–æ–ª—Å—Ç—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
class Database {
  query(sql, params) { }
  transaction(callback) { }
  backup() { }
  optimize() { }
  migrate() { }
}

// –ö–ª–∏–µ–Ω—Ç –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –≤—Å–µ–≥–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
class UserRepository {
  constructor(db) {
    this.db = db;  // ‚ùå –ó–Ω–∞–µ—Ç –æ backup, optimize, migrate
  }

  async find(id) {
    return this.db.query('SELECT ...', [id]);  // –ò—Å–ø–æ–ª—å–∑—É–µ—Ç —Ç–æ–ª—å–∫–æ query
  }
}

// ‚úÖ –•–û–†–û–®–û: –¢–æ–Ω–∫–∏–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã
class QueryExecutor {
  query(sql, params) { }
}

class TransactionManager {
  transaction(callback) { }
}

class DatabaseAdmin {
  backup() { }
  optimize() { }
  migrate() { }
}

// –ö–ª–∏–µ–Ω—Ç –∑–∞–≤–∏—Å–∏—Ç —Ç–æ–ª—å–∫–æ –æ—Ç –Ω—É–∂–Ω–æ–≥–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
class UserRepository {
  constructor(queryExecutor) {  // ‚úÖ –ó–Ω–∞–µ—Ç —Ç–æ–ª—å–∫–æ –æ query
    this.db = queryExecutor;
  }

  async find(id) {
    return this.db.query('SELECT ...', [id]);
  }
}
</code></pre>
<h3 id="3-factory-pattern-–§–∞–±—Ä–∏—á–Ω—ã–π-–ø–∞—Ç—Ç–µ—Ä–Ω"><a class="header" href="#3-factory-pattern-–§–∞–±—Ä–∏—á–Ω—ã–π-–ø–∞—Ç—Ç–µ—Ä–Ω">3. Factory Pattern (–§–∞–±—Ä–∏—á–Ω—ã–π –ø–∞—Ç—Ç–µ—Ä–Ω)</a></h3>
<pre><code class="language-javascript">// ‚úÖ –§–∞–±—Ä–∏–∫–∞ –∏–Ω–∫–∞–ø—Å—É–ª–∏—Ä—É–µ—Ç —Å–æ–∑–¥–∞–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
class ServiceFactory {
  static createUserService(config) {
    const logger = config.production
      ? new FileLogger()
      : new ConsoleLogger();

    const db = config.production
      ? new PostgreSQLDatabase()
      : new InMemoryDatabase();

    const repository = new UserRepository(db);
    const service = new UserService(repository, logger);

    return service;
  }
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:
const service = ServiceFactory.createUserService({ production: true });
</code></pre>
<hr />
<h2 id="–†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥-–ü–æ—à–∞–≥–æ–≤–æ–µ-—Å–Ω–∏–∂–µ–Ω–∏–µ-–∑–∞—Ü–µ–ø–ª–µ–Ω–∏—è"><a class="header" href="#–†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥-–ü–æ—à–∞–≥–æ–≤–æ–µ-—Å–Ω–∏–∂–µ–Ω–∏–µ-–∑–∞—Ü–µ–ø–ª–µ–Ω–∏—è">–†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥: –ü–æ—à–∞–≥–æ–≤–æ–µ —Å–Ω–∏–∂–µ–Ω–∏–µ –∑–∞—Ü–µ–ø–ª–µ–Ω–∏—è</a></h2>
<h3 id="–®–∞–≥-1-–ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è-–∑–∞—Ü–µ–ø–ª–µ–Ω–∏–π"><a class="header" href="#–®–∞–≥-1-–ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è-–∑–∞—Ü–µ–ø–ª–µ–Ω–∏–π">–®–∞–≥ 1: –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –∑–∞—Ü–µ–ø–ª–µ–Ω–∏–π</a></h3>
<pre><code class="language-javascript">// –ò—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥ —Å –ø—Ä–æ–±–ª–µ–º–∞–º–∏
class OrderService {
  async createOrder(req) {
    // ‚ùå –ó–∞—Ü–µ–ø–ª–µ–Ω–∏–µ 1: HTTP (req)
    const userId = req.session.userId;

    // ‚ùå –ó–∞—Ü–µ–ø–ª–µ–Ω–∏–µ 2: –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
    const user = await db.query('SELECT * FROM users WHERE id = $1', [userId]);

    // ‚ùå –ó–∞—Ü–µ–ø–ª–µ–Ω–∏–µ 3: Email —Å–µ—Ä–≤–∏—Å
    await sendEmail(user.email, 'Order created', '...');

    // ‚ùå –ó–∞—Ü–µ–ø–ª–µ–Ω–∏–µ 4: –õ–æ–≥–≥–µ—Ä
    console.log(`Order created for user ${userId}`);

    return { success: true };
  }
}
</code></pre>
<h3 id="–®–∞–≥-2-–ò–∑–≤–ª–µ—á–µ–Ω–∏–µ-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π"><a class="header" href="#–®–∞–≥-2-–ò–∑–≤–ª–µ—á–µ–Ω–∏–µ-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π">–®–∞–≥ 2: –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π</a></h3>
<pre><code class="language-javascript">// –í—ã–¥–µ–ª—è–µ–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã
class OrderService {
  constructor(userRepository, emailService, logger) {
    this.userRepository = userRepository;
    this.emailService = emailService;
    this.logger = logger;
  }

  async createOrder(userId) {  // ‚úÖ –ù–µ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç req
    const user = await this.userRepository.findById(userId);
    await this.emailService.send(user.email, 'Order created', '...');
    this.logger.log(`Order created for user ${userId}`);

    return { success: true };
  }
}
</code></pre>
<h3 id="–®–∞–≥-3-–°–æ–∑–¥–∞–Ω–∏–µ-—Ç–æ–Ω–∫–∏—Ö-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤"><a class="header" href="#–®–∞–≥-3-–°–æ–∑–¥–∞–Ω–∏–µ-—Ç–æ–Ω–∫–∏—Ö-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤">–®–∞–≥ 3: –°–æ–∑–¥–∞–Ω–∏–µ —Ç–æ–Ω–∫–∏—Ö –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤</a></h3>
<pre><code class="language-javascript">// –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π - —Ç–æ–ª—å–∫–æ —Ä–∞–±–æ—Ç–∞ —Å –¥–∞–Ω–Ω—ã–º–∏
class UserRepository {
  constructor(database) {
    this.db = database;
  }

  async findById(id) {
    return this.db.query('SELECT * FROM users WHERE id = $1', [id]);
  }
}

// Email —Å–µ—Ä–≤–∏—Å - —Ç–æ–ª—å–∫–æ –æ—Ç–ø—Ä–∞–≤–∫–∞ –ø–∏—Å–µ–º
class EmailService {
  async send(to, subject, body) {
    // –õ–æ–≥–∏–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏
  }
}

// –õ–æ–≥–≥–µ—Ä - —Ç–æ–ª—å–∫–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
class Logger {
  log(message) {
    console.log(message);
  }
}
</code></pre>
<h3 id="–®–∞–≥-4-–°–±–æ—Ä–∫–∞-–≤-–∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–µ"><a class="header" href="#–®–∞–≥-4-–°–±–æ—Ä–∫–∞-–≤-–∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–µ">–®–∞–≥ 4: –°–±–æ—Ä–∫–∞ –≤ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–µ</a></h3>
<pre><code class="language-javascript">// –ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä - —Ç–æ—á–∫–∞ —Å–±–æ—Ä–∫–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
class OrderController {
  constructor(orderService) {
    this.orderService = orderService;
  }

  async create(req, res) {
    // ‚úÖ –ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä –∑–Ω–∞–µ—Ç –æ HTTP
    const userId = req.session.userId;

    // ‚úÖ –°–µ—Ä–≤–∏—Å –Ω–µ –∑–Ω–∞–µ—Ç –æ HTTP
    const result = await this.orderService.createOrder(userId);

    res.json(result);
  }
}

// –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è (composition root)
const db = new PostgreSQLDatabase();
const userRepository = new UserRepository(db);
const emailService = new EmailService();
const logger = new Logger();

const orderService = new OrderService(userRepository, emailService, logger);
const orderController = new OrderController(orderService);
</code></pre>
<hr />
<h2 id="–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ-–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞-–Ω–∏–∑–∫–æ–≥–æ-–∑–∞—Ü–µ–ø–ª–µ–Ω–∏—è"><a class="header" href="#–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ-–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞-–Ω–∏–∑–∫–æ–≥–æ-–∑–∞—Ü–µ–ø–ª–µ–Ω–∏—è">–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ: –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –Ω–∏–∑–∫–æ–≥–æ –∑–∞—Ü–µ–ø–ª–µ–Ω–∏—è</a></h2>
<h3 id="–î–æ-—Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞-–≤—ã—Å–æ–∫–æ–µ-–∑–∞—Ü–µ–ø–ª–µ–Ω–∏–µ"><a class="header" href="#–î–æ-—Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞-–≤—ã—Å–æ–∫–æ–µ-–∑–∞—Ü–µ–ø–ª–µ–Ω–∏–µ">–î–æ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞ (–≤—ã—Å–æ–∫–æ–µ –∑–∞—Ü–µ–ø–ª–µ–Ω–∏–µ)</a></h3>
<pre><code class="language-javascript">// ‚ùå –°–ª–æ–∂–Ω–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –∏–∑-–∑–∞ –∑–∞—Ü–µ–ø–ª–µ–Ω–∏—è
class OrderService {
  async createOrder(req) {
    const userId = req.session.userId;  // –ù—É–∂–µ–Ω mock –¥–ª—è req
    const user = await db.query('...');  // –ù—É–∂–Ω–∞ –ë–î –∏–ª–∏ —Å–ª–æ–∂–Ω—ã–π mock
    await sendEmail(...);                 // –ù—É–∂–µ–Ω mock –¥–ª—è email
    console.log(...);                     // –ù–µ–ª—å–∑—è –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏
  }
}

// ‚ùå –¢–µ—Å—Ç —Ç—Ä–µ–±—É–µ—Ç –º–Ω–æ–≥–æ –º–æ–∫–æ–≤
test('createOrder', async () =&gt; {
  // –°–ª–æ–∂–Ω–∞—è –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –º–æ–∫–æ–≤
  const mockReq = {
    session: { userId: 1 }
  };

  global.db = {
    query: jest.fn().mockResolvedValue({ email: 'test@test.com' })
  };

  global.sendEmail = jest.fn();

  const service = new OrderService();
  await service.createOrder(mockReq);

  // –ü—Ä–æ–≤–µ—Ä–∫–∏
});
</code></pre>
<h3 id="–ü–æ—Å–ª–µ-—Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞-–Ω–∏–∑–∫–æ–µ-–∑–∞—Ü–µ–ø–ª–µ–Ω–∏–µ"><a class="header" href="#–ü–æ—Å–ª–µ-—Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞-–Ω–∏–∑–∫–æ–µ-–∑–∞—Ü–µ–ø–ª–µ–Ω–∏–µ">–ü–æ—Å–ª–µ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞ (–Ω–∏–∑–∫–æ–µ –∑–∞—Ü–µ–ø–ª–µ–Ω–∏–µ)</a></h3>
<pre><code class="language-javascript">// ‚úÖ –õ–µ–≥–∫–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –±–ª–∞–≥–æ–¥–∞—Ä—è DI
class OrderService {
  constructor(userRepository, emailService, logger) {
    this.userRepository = userRepository;
    this.emailService = emailService;
    this.logger = logger;
  }

  async createOrder(userId) {
    const user = await this.userRepository.findById(userId);
    await this.emailService.send(user.email, '...');
    this.logger.log(`Order created for user ${userId}`);
  }
}

// ‚úÖ –ü—Ä–æ—Å—Ç—ã–µ –º–æ–∫–∏
test('createOrder', async () =&gt; {
  // –ü—Ä–æ—Å—Ç—ã–µ –º–æ–∫–∏
  const mockUserRepo = {
    findById: jest.fn().mockResolvedValue({ email: 'test@test.com' })
  };

  const mockEmailService = {
    send: jest.fn()
  };

  const mockLogger = {
    log: jest.fn()
  };

  // –°–æ–∑–¥–∞–µ–º —Å–µ—Ä–≤–∏—Å —Å –º–æ–∫–∞–º–∏
  const service = new OrderService(mockUserRepo, mockEmailService, mockLogger);

  // –¢–µ—Å—Ç
  await service.createOrder(1);

  // –ü—Ä–æ—Å—Ç—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏
  expect(mockUserRepo.findById).toHaveBeenCalledWith(1);
  expect(mockEmailService.send).toHaveBeenCalledWith('test@test.com', expect.any(String));
  expect(mockLogger.log).toHaveBeenCalled();
});
</code></pre>
<hr />
<h2 id="–í—ã–≤–æ–¥—ã-2"><a class="header" href="#–í—ã–≤–æ–¥—ã-2">–í—ã–≤–æ–¥—ã</a></h2>
<h3 id="–ö–ª—é—á–µ–≤—ã–µ-takeaways-1"><a class="header" href="#–ö–ª—é—á–µ–≤—ã–µ-takeaways-1">–ö–ª—é—á–µ–≤—ã–µ takeaways</a></h3>
<ol>
<li>
<p><strong>–ó–∞—Ü–µ–ø–ª–µ–Ω–∏–µ (Coupling) vs –°–≤—è–∑–Ω–æ—Å—Ç—å (Cohesion)</strong></p>
<ul>
<li>–ó–∞—Ü–µ–ø–ª–µ–Ω–∏–µ - –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –ú–ï–ñ–î–£ –º–æ–¥—É–ª—è–º–∏ (–º–∏–Ω–∏–º–∏–∑–∏—Ä—É–µ–º)</li>
<li>–°–≤—è–∑–Ω–æ—Å—Ç—å - —Å–≤—è–∑–∏ –í–ù–£–¢–†–ò –º–æ–¥—É–ª—è (–º–∞–∫—Å–∏–º–∏–∑–∏—Ä—É–µ–º)</li>
</ul>
</li>
<li>
<p><strong>–ü—Ä–∏–∑–Ω–∞–∫–∏ –≤—ã—Å–æ–∫–æ–≥–æ –∑–∞—Ü–µ–ø–ª–µ–Ω–∏—è (–ø–ª–æ—Ö–æ):</strong></p>
<ul>
<li>–ú–æ–¥—É–ª—å –∑–Ω–∞–µ—Ç –≤–Ω—É—Ç—Ä–µ–Ω–Ω—é—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É –¥—Ä—É–≥–∏—Ö –º–æ–¥—É–ª–µ–π</li>
<li>–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø—Ä–∏–º–µ—Å–µ–π (mixins) –¥–ª—è –ø–µ—Ä–µ–¥–∞—á–∏ –¥–∞–Ω–Ω—ã—Ö</li>
<li>–°–∫—Ä—ã—Ç—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —á–µ—Ä–µ–∑ –≥–ª–æ–±–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ</li>
<li>–ù–µ–≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –º–æ–¥—É–ª—å –æ—Ç–¥–µ–ª—å–Ω–æ</li>
<li>–°–ª–æ–∂–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–∑-–∑–∞ –º–Ω–æ–∂–µ—Å—Ç–≤–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π</li>
</ul>
</li>
<li>
<p><strong>–ü—Ä–∏–∑–Ω–∞–∫–∏ –≤—ã—Å–æ–∫–æ–π —Å–≤—è–∑–Ω–æ—Å—Ç–∏ (—Ö–æ—Ä–æ—à–æ):</strong></p>
<ul>
<li>–í—Å–µ —ç–ª–µ–º–µ–Ω—Ç—ã –º–æ–¥—É–ª—è —Ä–∞–±–æ—Ç–∞—é—Ç –¥–ª—è –æ–¥–Ω–æ–π —Ü–µ–ª–∏</li>
<li>–ú–µ—Ç–æ–¥—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç –æ–±—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ</li>
<li>–ú–æ–¥—É–ª—å –º–æ–∂–Ω–æ –æ–ø–∏—Å–∞—Ç—å –æ–¥–Ω–∏–º –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ–º</li>
<li>–ù–µ–≤–æ–∑–º–æ–∂–Ω–æ —Ä–∞–∑–¥–µ–ª–∏—Ç—å –º–æ–¥—É–ª—å –±–µ–∑ –ø–æ—Ç–µ—Ä–∏ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏</li>
</ul>
</li>
<li>
<p><strong>–¢–µ—Ö–Ω–∏–∫–∏ —Å–Ω–∏–∂–µ–Ω–∏—è –∑–∞—Ü–µ–ø–ª–µ–Ω–∏—è:</strong></p>
<ul>
<li>Dependency Injection - –≤–Ω–µ–¥—Ä–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π</li>
<li>–ü—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã</li>
<li>–†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–µ–π (SRP)</li>
<li>–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å–ª–æ–µ–≤ –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–∏</li>
<li>–Ø–≤–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –≤–º–µ—Å—Ç–æ –≥–ª–æ–±–∞–ª—å–Ω–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è</li>
</ul>
</li>
<li>
<p><strong>Promise.race –¥–ª—è —ç–ª–µ–≥–∞–Ω—Ç–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Ç–∞–π–º–∞—É—Ç–æ–≤:</strong></p>
<pre><code class="language-javascript">const result = await Promise.race([
  actualWork(),
  timeout(1000)
]);
</code></pre>
</li>
<li>
<p><strong>–ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä - —Ç–æ—á–∫–∞ —Å–±–æ—Ä–∫–∏:</strong></p>
<ul>
<li>–ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä –∏–º–µ–µ—Ç –ø—Ä–∞–≤–æ –Ω–∞ –≤—ã—Å–æ–∫–æ–µ –∑–Ω–∞–Ω–∏–µ –æ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è—Ö</li>
<li>–í –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤</li>
<li>–í—ã—Å–æ–∫–∞—è —Å–≤—è–∑–Ω–æ—Å—Ç—å –≤ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–µ - —ç—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ</li>
<li>–ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä –∑–Ω–∞–µ—Ç –æ –ø—Ä–æ—Ç–æ–∫–æ–ª–µ (HTTP), –º–æ–¥—É–ª–∏ - –Ω–µ—Ç</li>
</ul>
</li>
<li>
<p><strong>–ó–∞—Ü–µ–ø–ª–µ–Ω–∏–µ –Ω–∞ –Ω–∏–∂–µ—Å—Ç–æ—è—â–∏–µ —Å–ª–æ–∏ - –¥–æ–ø—É—Å—Ç–∏–º–æ:</strong></p>
<ul>
<li>timeout –º–æ–∂–µ—Ç –∑–∞–≤–∏—Å–µ—Ç—å –æ—Ç delay</li>
<li>–ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä –º–æ–∂–µ—Ç –∑–∞–≤–∏—Å–µ—Ç—å –æ—Ç —Å–µ—Ä–≤–∏—Å–æ–≤</li>
<li>–°–µ—Ä–≤–∏—Å—ã –º–æ–≥—É—Ç –∑–∞–≤–∏—Å–µ—Ç—å –æ—Ç —É—Ç–∏–ª–∏—Ç</li>
<li>–ù–æ –ù–ï –Ω–∞–æ–±–æ—Ä–æ—Ç!</li>
</ul>
</li>
<li>
<p><strong>Middleware - –∏—Å—Ç–æ—á–Ω–∏–∫ –∑–∞—Ü–µ–ø–ª–µ–Ω–∏—è:</strong></p>
<ul>
<li>Middleware —á–∞—Å—Ç–æ —Å–æ–∑–¥–∞—é—Ç —Å–∫—Ä—ã—Ç—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏</li>
<li>–ü–æ—Ä—è–¥–æ–∫ middleware —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –∫—Ä–∏—Ç–∏—á–Ω—ã–º</li>
<li>–õ—É—á—à–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —è–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –∏ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä</li>
</ul>
</li>
</ol>
<h3 id="–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–π-—á–µ–∫–ª–∏—Å—Ç-1"><a class="header" href="#–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–π-—á–µ–∫–ª–∏—Å—Ç-1">–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–π —á–µ–∫–ª–∏—Å—Ç</a></h3>
<p><strong>–ü—Ä–∏ –Ω–∞–ø–∏—Å–∞–Ω–∏–∏ –Ω–æ–≤–æ–≥–æ –º–æ–¥—É–ª—è:</strong></p>
<ul>
<li>‚úÖ –í—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è —è–≤–Ω–æ (–ø–∞—Ä–∞–º–µ—Ç—Ä—ã/–∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä)</li>
<li>‚úÖ –ú–æ–¥—É–ª—å –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –≥–ª–æ–±–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ</li>
<li>‚úÖ –ú–æ–¥—É–ª—å –Ω–µ –∑–Ω–∞–µ—Ç –æ –¥–µ—Ç–∞–ª—è—Ö –¥—Ä—É–≥–∏—Ö –º–æ–¥—É–ª–µ–π</li>
<li>‚úÖ –ú–æ–¥—É–ª—å –º–æ–∂–Ω–æ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω–æ</li>
<li>‚úÖ –ú–æ–¥—É–ª—å –∏–º–µ–µ—Ç –æ–¥–Ω—É —á–µ—Ç–∫—É—é –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å</li>
</ul>
<p><strong>–ü—Ä–∏ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–µ:</strong></p>
<ul>
<li>‚úÖ –í—ã—è–≤–∏—Ç–µ –≤—Å–µ –∑–∞—Ü–µ–ø–ª–µ–Ω–∏—è (–∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ü–≤–µ—Ç–æ–≤–æ–µ –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ)</li>
<li>‚úÖ –ò–∑–≤–ª–µ–∫–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –≤ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã</li>
<li>‚úÖ –°–æ–∑–¥–∞–π—Ç–µ —Ç–æ–Ω–∫–∏–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã</li>
<li>‚úÖ –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–ª–æ–∏ –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–∏</li>
<li>‚úÖ –°–æ–±–µ—Ä–∏—Ç–µ –≤—Å–µ –≤ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–µ</li>
</ul>
<p><strong>–ü–æ–º–Ω–∏—Ç–µ:</strong></p>
<blockquote>
<p>"–ó–∞—Ü–µ–ø–ª–µ–Ω–∏–µ –º–µ–∂–¥—É –º–æ–¥—É–ª—è–º–∏ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–º –∏ –æ—Å—É—â–µ—Å—Ç–≤–ª—è—Ç—å—Å—è —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ —á–µ—Ç–∫–∏–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã. –°–≤—è–∑–Ω–æ—Å—Ç—å –≤–Ω—É—Ç—Ä–∏ –º–æ–¥—É–ª—è –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π - –≤—Å–µ —ç–ª–µ–º–µ–Ω—Ç—ã —Ä–∞–±–æ—Ç–∞—é—Ç –≤–º–µ—Å—Ç–µ –¥–ª—è –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è –µ–¥–∏–Ω–æ–π —Ü–µ–ª–∏."</p>
</blockquote>
<hr />
<h2 id="–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ-–º–∞—Ç–µ—Ä–∏–∞–ª—ã-13"><a class="header" href="#–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ-–º–∞—Ç–µ—Ä–∏–∞–ª—ã-13">–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã</a></h2>
<h3 id="–°–≤—è–∑–∞–Ω–Ω—ã–µ-–ø–∞—Ç—Ç–µ—Ä–Ω—ã-grasp"><a class="header" href="#–°–≤—è–∑–∞–Ω–Ω—ã–µ-–ø–∞—Ç—Ç–µ—Ä–Ω—ã-grasp">–°–≤—è–∑–∞–Ω–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã GRASP</a></h3>
<ul>
<li><strong>Pure Fabrication (–ß–∏—Å—Ç–∞—è –≤—ã–¥—É–º–∫–∞)</strong> - —Å–æ–∑–¥–∞–Ω–∏–µ –∫–ª–∞—Å—Å–æ–≤ –¥–ª—è —Å–Ω–∏–∂–µ–Ω–∏—è –∑–∞—Ü–µ–ø–ª–µ–Ω–∏—è</li>
<li><strong>Indirection (–ü–æ—Å—Ä–µ–¥–Ω–∏–∫)</strong> - –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω–æ–≥–æ —Å–ª–æ—è</li>
<li><strong>Protected Variations (–ó–∞—â–∏—Ç–∞ –æ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–π)</strong> - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤</li>
</ul>
<h3 id="–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ-–ª–µ–∫—Ü–∏–∏"><a class="header" href="#–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ-–ª–µ–∫—Ü–∏–∏">–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ –ª–µ–∫—Ü–∏–∏</a></h3>
<ol>
<li>"Pure Fabrication –≤ JavaScript" - –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ —Ç–µ–º—ã —Å–Ω–∏–∂–µ–Ω–∏—è –∑–∞—Ü–µ–ø–ª–µ–Ω–∏—è</li>
<li>"API –Ω–∞ Node.js" - –∫–∞–∫ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –ø–∞—Ä—Å–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∏ —Å—Ç—Ä–æ–∏—Ç—å —Ä–æ—É—Ç–∏–Ω–≥</li>
<li>"HTTP —Å–µ—Ä–≤–µ—Ä –Ω–∞ Node.js" - –≥–ª—É–±–æ–∫–æ–µ –ø–æ–Ω–∏–º–∞–Ω–∏–µ –ø—Ä–æ—Ç–æ–∫–æ–ª–∞</li>
</ol>
<h3 id="–†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π-—Å-–ø—Ä–∏–º–µ—Ä–∞–º–∏"><a class="header" href="#–†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π-—Å-–ø—Ä–∏–º–µ—Ä–∞–º–∏">–†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π —Å –ø—Ä–∏–º–µ—Ä–∞–º–∏</a></h3>
<p>–í—Å–µ –ø—Ä–∏–º–µ—Ä—ã –∫–æ–¥–∞ –∏–∑ —ç—Ç–æ–π –ª–µ–∫—Ü–∏–∏ –¥–æ—Å—Ç—É–ø–Ω—ã –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏:</p>
<ul>
<li><strong>–ü–ª–æ—Ö–æ–π –ø—Ä–∏–º–µ—Ä</strong>: <code>/examples/coupling-bad</code> (Express —Å middleware)</li>
<li><strong>–•–æ—Ä–æ—à–∏–π –ø—Ä–∏–º–µ—Ä</strong>: <code>/examples/coupling-good</code> (—á–∏—Å—Ç—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –∏ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä)</li>
</ul>
<h3 id="–î–ª—è-—Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ–≥–æ-–∏–∑—É—á–µ–Ω–∏—è-1"><a class="header" href="#–î–ª—è-—Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ–≥–æ-–∏–∑—É—á–µ–Ω–∏—è-1">–î–ª—è —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ–≥–æ –∏–∑—É—á–µ–Ω–∏—è</a></h3>
<p><strong>–ó–∞–¥–∞–Ω–∏–µ 1</strong>: –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –∫–ª–∞—Å—Å–∞ Person</p>
<ul>
<li>–í–æ–∑—å–º–∏—Ç–µ –ø—Ä–∏–º–µ—Ä —Å –∫–ª–∞—Å—Å–æ–º Person –∏–∑ –Ω–∞—á–∞–ª–∞ –ª–µ–∫—Ü–∏–∏</li>
<li>–ü—Ä–∏–º–µ–Ω–∏—Ç–µ –ø—Ä–∏–Ω—Ü–∏–ø Pure Fabrication</li>
<li>–°–æ–∑–¥–∞–π—Ç–µ –æ—Ç–¥–µ–ª—å–Ω—ã–π PersonRepository –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ë–î</li>
</ul>
<p><strong>–ó–∞–¥–∞–Ω–∏–µ 2</strong>: –ê–Ω–∞–ª–∏–∑ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –∫–æ–¥–∞</p>
<ul>
<li>–í—ã–±–µ—Ä–∏—Ç–µ –æ–¥–∏–Ω –∏–∑ –≤–∞—à–∏—Ö –º–æ–¥—É–ª–µ–π</li>
<li>–í—ã–¥–µ–ª–∏—Ç–µ —Ü–≤–µ—Ç–æ–º –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ —Å–≤—è–∑–∏ (—Å–∏–Ω–∏–π) –∏ –∑–∞—Ü–µ–ø–ª–µ–Ω–∏—è (–∫—Ä–∞—Å–Ω—ã–π)</li>
<li>–û–ø—Ä–µ–¥–µ–ª–∏—Ç–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –¥–ª—è —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞</li>
</ul>
<p><strong>–ó–∞–¥–∞–Ω–∏–µ 3</strong>: –°–æ–∑–¥–∞–Ω–∏–µ –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã—Ö —É—Ç–∏–ª–∏—Ç</p>
<ul>
<li>–ù–∞–ø–∏—à–∏—Ç–µ 3-5 –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã—Ö —É—Ç–∏–ª–∏—Ç –ø–æ –∞–Ω–∞–ª–æ–≥–∏–∏ —Å delay</li>
<li>–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –æ–Ω–∏ –Ω–µ –∑–∞–≤–∏—Å—è—Ç –æ—Ç –≤–Ω–µ—à–Ω–∏—Ö –º–æ–¥—É–ª–µ–π</li>
<li>–ü–æ–∫—Ä–æ–π—Ç–µ –∏—Ö —Ç–µ—Å—Ç–∞–º–∏ –±–µ–∑ –º–æ–∫–æ–≤</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="–ü—Ä–∏–Ω—Ü–∏–ø-–ø–æ–¥—Å—Ç–∞–Ω–æ–≤–∫–∏-–ë–∞—Ä–±–∞—Ä—ã-–õ–∏—Å–∫–æ–≤-liskov-substitution-principle--lsp"><a class="header" href="#–ü—Ä–∏–Ω—Ü–∏–ø-–ø–æ–¥—Å—Ç–∞–Ω–æ–≤–∫–∏-–ë–∞—Ä–±–∞—Ä—ã-–õ–∏—Å–∫–æ–≤-liskov-substitution-principle--lsp">–ü—Ä–∏–Ω—Ü–∏–ø –ø–æ–¥—Å—Ç–∞–Ω–æ–≤–∫–∏ –ë–∞—Ä–±–∞—Ä—ã –õ–∏—Å–∫–æ–≤ (Liskov Substitution Principle ‚Äî LSP)</a></h1>
<h2 id="–û–±–∑–æ—Ä-25"><a class="header" href="#–û–±–∑–æ—Ä-25">–û–±–∑–æ—Ä</a></h2>
<p>–ü—Ä–∏–Ω—Ü–∏–ø –ø–æ–¥—Å—Ç–∞–Ω–æ–≤–∫–∏ –ë–∞—Ä–±–∞—Ä—ã –õ–∏—Å–∫–æ–≤ ‚Äî —ç—Ç–æ —Ç—Ä–µ—Ç–∏–π –ø—Ä–∏–Ω—Ü–∏–ø SOLID, –∫–æ—Ç–æ—Ä—ã–π —Å–≤—è–∑–∞–Ω —Å —Ç–µ–æ—Ä–∏–µ–π —Ç–∏–ø–æ–≤ –∏ –æ–ø–∏—Å—ã–≤–∞–µ—Ç –ø—Ä–∞–≤–∏–ª–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥–æ –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –ø–æ–¥—Ç–∏–ø–æ–≤. –≠—Ç–æ—Ç –ø—Ä–∏–Ω—Ü–∏–ø –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∑–∞–º–µ–Ω—è—Ç—å –æ–±—ä–µ–∫—Ç—ã –±–∞–∑–æ–≤–æ–≥–æ —Ç–∏–ø–∞ –Ω–∞ –æ–±—ä–µ–∫—Ç—ã –ø—Ä–æ–∏–∑–≤–æ–¥–Ω–æ–≥–æ —Ç–∏–ø–∞ –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç–∏ –ø—Ä–æ–≥—Ä–∞–º–º—ã.</p>
<hr />
<h2 id="–§–æ—Ä–º—É–ª–∏—Ä–æ–≤–∫–∞-–ø—Ä–∏–Ω—Ü–∏–ø–∞"><a class="header" href="#–§–æ—Ä–º—É–ª–∏—Ä–æ–≤–∫–∞-–ø—Ä–∏–Ω—Ü–∏–ø–∞">–§–æ—Ä–º—É–ª–∏—Ä–æ–≤–∫–∞ –ø—Ä–∏–Ω—Ü–∏–ø–∞</a></h2>
<h3 id="–û—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–∞—è-—Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–∫–∞-–ë–∞—Ä–±–∞—Ä—ã-–õ–∏—Å–∫–æ–≤"><a class="header" href="#–û—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–∞—è-—Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–∫–∞-–ë–∞—Ä–±–∞—Ä—ã-–õ–∏—Å–∫–æ–≤">–û—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–∞—è —Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–∫–∞ –ë–∞—Ä–±–∞—Ä—ã –õ–∏—Å–∫–æ–≤</a></h3>
<p>–ï—Å–ª–∏ —É –Ω–∞—Å –µ—Å—Ç—å <strong>Q(x)</strong> ‚Äî —Å–≤–æ–π—Å—Ç–≤–æ, –∫–æ—Ç–æ—Ä–æ–µ –∏—Å—Ç–∏–Ω–Ω–æ –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ –æ–±—ä–µ–∫—Ç–∞ <strong>x</strong>, –∫–æ—Ç–æ—Ä—ã–π —è–≤–ª—è–µ—Ç—Å—è —ç–∫–∑–µ–º–ø–ª—è—Ä–æ–º —Ç–∏–ø–∞ <strong>T</strong>, —Ç–æ <strong>Q(y)</strong> —Ç–∞–∫–∂–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –∏—Å—Ç–∏–Ω–Ω—ã–º –¥–ª—è –æ–±—ä–µ–∫—Ç–∞ <strong>y</strong>, –∫–æ—Ç–æ—Ä—ã–π —è–≤–ª—è–µ—Ç—Å—è —ç–∫–∑–µ–º–ø–ª—è—Ä–æ–º —Ç–∏–ø–∞ <strong>S</strong>, –≥–¥–µ <strong>S</strong> —è–≤–ª—è–µ—Ç—Å—è –ø–æ–¥—Ç–∏–ø–æ–º <strong>T</strong>.</p>
<p>–ú–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∑–∞–ø–∏—Å—å:</p>
<pre><code>Q(x), –≥–¥–µ x: T
Q(y), –≥–¥–µ y: S, –∏ S &lt;: T (S —è–≤–ª—è–µ—Ç—Å—è –ø–æ–¥—Ç–∏–ø–æ–º T)
</code></pre>
<p><strong>–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ</strong>: –≠—Ç–∞ —Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–∫–∞ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω–∞—è –∏ —Ç—Ä–µ–±—É–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –ø—Ä–æ—á—Ç–µ–Ω–∏–π –¥–ª—è –ø–æ–ª–Ω–æ–≥–æ –ø–æ–Ω–∏–º–∞–Ω–∏—è.</p>
<h3 id="–§–æ—Ä–º—É–ª–∏—Ä–æ–≤–∫–∞-–†–æ–±–µ—Ä—Ç–∞-–ú–∞—Ä—Ç–∏–Ω–∞"><a class="header" href="#–§–æ—Ä–º—É–ª–∏—Ä–æ–≤–∫–∞-–†–æ–±–µ—Ä—Ç–∞-–ú–∞—Ä—Ç–∏–Ω–∞">–§–æ—Ä–º—É–ª–∏—Ä–æ–≤–∫–∞ –†–æ–±–µ—Ä—Ç–∞ –ú–∞—Ä—Ç–∏–Ω–∞</a></h3>
<p>–ë–æ–ª–µ–µ –ø–æ–Ω—è—Ç–Ω–∞—è —Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–∫–∞ –æ—Ç –†–æ–±–µ—Ä—Ç–∞ –ú–∞—Ä—Ç–∏–Ω–∞ –≥–ª–∞—Å–∏—Ç:</p>
<blockquote>
<p><strong>–§—É–Ω–∫—Ü–∏–∏, –∫–æ—Ç–æ—Ä—ã–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç –±–∞–∑–æ–≤—ã–π —Ç–∏–ø, –¥–æ–ª–∂–Ω—ã –∏–º–µ—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–æ–¥—Ç–∏–ø—ã —ç—Ç–æ–≥–æ –±–∞–∑–æ–≤–æ–≥–æ —Ç–∏–ø–∞, –Ω–µ –∑–Ω–∞—è –æ–± —ç—Ç–æ–º.</strong></p>
</blockquote>
<p>–≠—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –µ—Å–ª–∏ —Ñ—É–Ω–∫—Ü–∏—è –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –∞—Ä–≥—É–º–µ–Ω—Ç —Ç–∏–ø–∞ T, —Ç–æ –º—ã –º–æ–∂–µ–º –ø–µ—Ä–µ–¥–∞—Ç—å –ª—é–±–æ–π –ø–æ–¥—Ç–∏–ø —ç—Ç–æ–≥–æ —Ç–∏–ø–∞ T, –∏ —Ñ—É–Ω–∫—Ü–∏—è –¥–æ–ª–∂–Ω–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å.</p>
<hr />
<h2 id="–û–±–ª–∞—Å—Ç–∏-–ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è-lsp"><a class="header" href="#–û–±–ª–∞—Å—Ç–∏-–ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è-lsp">–û–±–ª–∞—Å—Ç–∏ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è LSP</a></h2>
<p>–ü—Ä–∏–Ω—Ü–∏–ø –ø–æ–¥—Å—Ç–∞–Ω–æ–≤–∫–∏ –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –Ω–µ —Ç–æ–ª—å–∫–æ –∫ –∞—Ä–≥—É–º–µ–Ω—Ç–∞–º —Ñ—É–Ω–∫—Ü–∏–π, –Ω–æ –∏ –∫:</p>
<h3 id="1-–ê—Ä–≥—É–º–µ–Ω—Ç—ã-—Ñ—É–Ω–∫—Ü–∏–π"><a class="header" href="#1-–ê—Ä–≥—É–º–µ–Ω—Ç—ã-—Ñ—É–Ω–∫—Ü–∏–π">1. –ê—Ä–≥—É–º–µ–Ω—Ç—ã —Ñ—É–Ω–∫—Ü–∏–π</a></h3>
<p>–ï—Å–ª–∏ —Ñ—É–Ω–∫—Ü–∏—è –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä —Ç–∏–ø–∞ T, –æ–Ω–∞ –¥–æ–ª–∂–Ω–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å —Å –ª—é–±—ã–º –ø–æ–¥—Ç–∏–ø–æ–º T.</p>
<h3 id="2-–°–≤–æ–π—Å—Ç–≤–∞-–æ–±—ä–µ–∫—Ç–æ–≤"><a class="header" href="#2-–°–≤–æ–π—Å—Ç–≤–∞-–æ–±—ä–µ–∫—Ç–æ–≤">2. –°–≤–æ–π—Å—Ç–≤–∞ –æ–±—ä–µ–∫—Ç–æ–≤</a></h3>
<p>–ï—Å–ª–∏ —Å–≤–æ–π—Å—Ç–≤–æ –∫–ª–∞—Å—Å–∞ –∏–º–µ–µ—Ç —Ç–∏–ø T, —Ç–æ –≤ —ç—Ç–æ —Å–≤–æ–π—Å—Ç–≤–æ –º–æ–∂–Ω–æ –ø—Ä–∏—Å–≤–æ–∏—Ç—å –ª—é–±–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ, —è–≤–ª—è—é—â–µ–µ—Å—è –ø–æ–¥—Ç–∏–ø–æ–º T.</p>
<p><strong>–ü—Ä–∏–º–µ—Ä:</strong></p>
<pre><code class="language-javascript">// –ï—Å–ª–∏ —É –Ω–∞—Å –µ—Å—Ç—å —Å–≤–æ–π—Å—Ç–≤–æ —Ç–∏–ø–∞ Stream
let stream;

// –ú—ã –º–æ–∂–µ–º –ø—Ä–∏—Å–≤–æ–∏—Ç—å –µ–º—É WritableStream (–Ω–∞—Å–ª–µ–¥–Ω–∏–∫ Stream)
stream = new WritableStream();

// –ò–ª–∏ –ª—é–±–æ–π –¥—Ä—É–≥–æ–π –Ω–∞—Å–ª–µ–¥–Ω–∏–∫ Stream
</code></pre>
<h3 id="3-–≠–ª–µ–º–µ–Ω—Ç—ã-–∫–æ–ª–ª–µ–∫—Ü–∏–π"><a class="header" href="#3-–≠–ª–µ–º–µ–Ω—Ç—ã-–∫–æ–ª–ª–µ–∫—Ü–∏–π">3. –≠–ª–µ–º–µ–Ω—Ç—ã –∫–æ–ª–ª–µ–∫—Ü–∏–π</a></h3>
<p>–ö–æ–ª–ª–µ–∫—Ü–∏—è –≥–µ–æ–º–µ—Ç—Ä–∏—á–µ—Å–∫–∏—Ö —Ñ–∏–≥—É—Ä –º–æ–∂–µ—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å —Ä–∞–∑–ª–∏—á–Ω—ã–µ –ø–æ–¥—Ç–∏–ø—ã —Ñ–∏–≥—É—Ä.</p>
<p><strong>–ü—Ä–∞–≤–∏–ª—å–Ω–æ:</strong></p>
<pre><code class="language-javascript">// –ö–æ–ª–ª–µ–∫—Ü–∏—è –≥–µ–æ–º–µ—Ç—Ä–∏—á–µ—Å–∫–∏—Ö —Ñ–∏–≥—É—Ä
const figures = [];
figures.push(new Square());
figures.push(new Triangle());
figures.push(new Rhombus());
</code></pre>
<p><strong>–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ:</strong></p>
<pre><code class="language-javascript">// –ù–µ–ª—å–∑—è –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–µ—Å–æ–≤–º–µ—Å—Ç–∏–º—ã–µ —Ç–∏–ø—ã
figures.push(new Socket());  // –°–æ–∫–µ—Ç - –Ω–µ –≥–µ–æ–º–µ—Ç—Ä–∏—á–µ—Å–∫–∞—è —Ñ–∏–≥—É—Ä–∞
figures.push(new Button());  // –ö–Ω–æ–ø–∫–∞ - –Ω–µ –≥–µ–æ–º–µ—Ç—Ä–∏—á–µ—Å–∫–∞—è —Ñ–∏–≥—É—Ä–∞
</code></pre>
<hr />
<h2 id="–°–≤—è–∑—å-—Å-–¥—Ä—É–≥–∏–º–∏-–ø—Ä–∏–Ω—Ü–∏–ø–∞–º–∏-1"><a class="header" href="#–°–≤—è–∑—å-—Å-–¥—Ä—É–≥–∏–º–∏-–ø—Ä–∏–Ω—Ü–∏–ø–∞–º–∏-1">–°–≤—è–∑—å —Å –¥—Ä—É–≥–∏–º–∏ –ø—Ä–∏–Ω—Ü–∏–ø–∞–º–∏</a></h2>
<h3 id="lsp-–∏-openclosed-principle"><a class="header" href="#lsp-–∏-openclosed-principle">LSP –∏ Open/Closed Principle</a></h3>
<p>–ü—Ä–∏–Ω—Ü–∏–ø –ø–æ–¥—Å—Ç–∞–Ω–æ–≤–∫–∏ —Ç–µ—Å–Ω–æ —Å–≤—è–∑–∞–Ω —Å <strong>–ø—Ä–∏–Ω—Ü–∏–ø–æ–º –æ—Ç–∫—Ä—ã—Ç–æ—Å—Ç–∏/–∑–∞–∫—Ä—ã—Ç–æ—Å—Ç–∏</strong> (Open/Closed):</p>
<ul>
<li>–ö–æ–≥–¥–∞ –º—ã —Ö–æ—Ç–∏–º –ø–æ–¥—Å—Ç–∞–≤–ª—è—Ç—å –ø–æ–¥—Ç–∏–ø—ã, –º—ã –ø—Ä–∏—Ö–æ–¥–∏–º –∫ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ —Ä–∞—Å—à–∏—Ä—è—Ç—å —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å, –Ω–µ –∏–∑–º–µ–Ω—è—è –±–∞–∑–æ–≤—ã–π –∫–æ–¥</li>
<li>–ü–æ–¥—Ç–∏–ø <strong>–º–æ–∂–µ—Ç —Ç–æ–ª—å–∫–æ —Ä–∞—Å—à–∏—Ä—è—Ç—å</strong> —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –±–∞–∑–æ–≤–æ–≥–æ —Ç–∏–ø–∞</li>
<li>–ü–æ–¥—Ç–∏–ø <strong>–Ω–µ –¥–æ–ª–∂–µ–Ω —É–¥–∞–ª—è—Ç—å –∏–ª–∏ –∏–∑–º–µ–Ω—è—Ç—å</strong> –ø–æ–≤–µ–¥–µ–Ω–∏–µ –∫–ª–∞—Å—Å–∞-–ø—Ä–µ–¥–∫–∞</li>
</ul>
<h3 id="lsp-–∏-–∫–æ–Ω—Ç—Ä–∞–∫—Ç–Ω–æ–µ-–ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ"><a class="header" href="#lsp-–∏-–∫–æ–Ω—Ç—Ä–∞–∫—Ç–Ω–æ–µ-–ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ">LSP –∏ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–Ω–æ–µ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ</a></h3>
<p>–ü—Ä–∏–Ω—Ü–∏–ø –ø–æ–¥—Å—Ç–∞–Ω–æ–≤–∫–∏ –ø–æ–¥–≤–æ–¥–∏—Ç –Ω–∞—Å –∫ <strong>–∫–æ–Ω—Ç—Ä–∞–∫—Ç–Ω–æ–º—É –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—é</strong>:</p>
<ul>
<li>–ü–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—å –æ–ø–∏—Ä–∞–µ—Ç—Å—è –Ω–∞ <strong>–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å</strong> (–∫–æ–Ω—Ç—Ä–∞–∫—Ç)</li>
<li>–ü–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—å –Ω–µ –¥–æ–ª–∂–µ–Ω –ø—Ä–æ–≤–µ—Ä—è—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π —Ç–∏–ø –æ–±—ä–µ–∫—Ç–∞</li>
<li>–í—Å–µ –ø–æ–¥—Ç–∏–ø—ã –¥–æ–ª–∂–Ω—ã —Å–æ–±–ª—é–¥–∞—Ç—å –∫–æ–Ω—Ç—Ä–∞–∫—Ç –±–∞–∑–æ–≤–æ–≥–æ —Ç–∏–ø–∞</li>
</ul>
<p><strong>–ü—Ä–∏–º–µ—Ä—ã –∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤ –≤ JavaScript:</strong></p>
<ul>
<li><strong>Iterable</strong> ‚Äî –æ–±—ä–µ–∫—Ç—ã —Å –º–µ—Ç–æ–¥–æ–º <code>Symbol.iterator</code></li>
<li><strong>Thenable</strong> ‚Äî –æ–±—ä–µ–∫—Ç—ã —Å –º–µ—Ç–æ–¥–æ–º <code>then</code></li>
<li><strong>Serializable</strong> ‚Äî –æ–±—ä–µ–∫—Ç—ã —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏–∏</li>
<li><strong>EventEmitter</strong> ‚Äî –æ–±—ä–µ–∫—Ç—ã —Å –º–µ—Ç–æ–¥–∞–º–∏ <code>on</code>, <code>emit</code></li>
</ul>
<hr />
<h2 id="–ü—Ä–∏–º–µ—Ä—ã-–≤-javascript"><a class="header" href="#–ü—Ä–∏–º–µ—Ä—ã-–≤-javascript">–ü—Ä–∏–º–µ—Ä—ã –≤ JavaScript</a></h2>
<h3 id="–ü—Ä–∏–º–µ—Ä-1-–§—É–Ω–∫—Ü–∏–∏-–∏-–∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ-—Ñ—É–Ω–∫—Ü–∏–∏"><a class="header" href="#–ü—Ä–∏–º–µ—Ä-1-–§—É–Ω–∫—Ü–∏–∏-–∏-–∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ-—Ñ—É–Ω–∫—Ü–∏–∏">–ü—Ä–∏–º–µ—Ä 1: –§—É–Ω–∫—Ü–∏–∏ –∏ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏</a></h3>
<pre><code class="language-javascript">// –û–±—ã—á–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è
function regularFunction() {
  console.log('Regular function');
}

// –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è
async function asyncFunction() {
  console.log('Async function');
}

// –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è
console.log(regularFunction.__proto__);        // Function
console.log(asyncFunction.__proto__);          // AsyncFunction
console.log(asyncFunction.__proto__.__proto__); // Function

// –¶–µ–ø–æ—á–∫–∞ –ø—Ä–æ—Ç–æ—Ç–∏–ø–æ–≤:
// asyncFunction -&gt; AsyncFunction -&gt; Function -&gt; Object

// setTimeout –æ–∂–∏–¥–∞–µ—Ç Function
setTimeout(regularFunction, 1000);  // ‚úì –†–∞–±–æ—Ç–∞–µ—Ç

// AsyncFunction —è–≤–ª—è–µ—Ç—Å—è –Ω–∞—Å–ª–µ–¥–Ω–∏–∫–æ–º Function
setTimeout(asyncFunction, 1000);    // ‚úì –†–∞–±–æ—Ç–∞–µ—Ç (LSP —Å–æ–±–ª—é–¥–∞–µ—Ç—Å—è)

// Object –Ω–µ —è–≤–ª—è–µ—Ç—Å—è –Ω–∞—Å–ª–µ–¥–Ω–∏–∫–æ–º Function
setTimeout({}, 1000);                // ‚úó –ù–µ —Ä–∞–±–æ—Ç–∞–µ—Ç (–Ω–µ—Ç –º–µ—Ç–æ–¥–∞ call)
</code></pre>
<p><strong>–í–∞–∂–Ω–æ</strong>: –í —ç—Ç–æ–º –ø—Ä–∏–º–µ—Ä–µ <code>AsyncFunction</code> —è–≤–ª—è–µ—Ç—Å—è –ø–æ–¥—Ç–∏–ø–æ–º <code>Function</code>, –ø–æ—ç—Ç–æ–º—É –ø—Ä–∏–Ω—Ü–∏–ø –ø–æ–¥—Å—Ç–∞–Ω–æ–≤–∫–∏ —Å–æ–±–ª—é–¥–∞–µ—Ç—Å—è.</p>
<hr />
<h3 id="–ü—Ä–∏–º–µ—Ä-2-–ü—Ä—è–º–æ—É–≥–æ–ª—å–Ω–∏–∫-–∏-–∫–≤–∞–¥—Ä–∞—Ç-–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è-—Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è"><a class="header" href="#–ü—Ä–∏–º–µ—Ä-2-–ü—Ä—è–º–æ—É–≥–æ–ª—å–Ω–∏–∫-–∏-–∫–≤–∞–¥—Ä–∞—Ç-–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è-—Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è">–ü—Ä–∏–º–µ—Ä 2: –ü—Ä—è–º–æ—É–≥–æ–ª—å–Ω–∏–∫ –∏ –∫–≤–∞–¥—Ä–∞—Ç (–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è)</a></h3>
<pre><code class="language-javascript">// –ë–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å - –ø—Ä—è–º–æ—É–≥–æ–ª—å–Ω–∏–∫
class Rect {
  constructor(width, height) {
    this.width = width;
    this.height = height;
  }

  get area() {
    return this.width * this.height;
  }
}

// –ù–∞—Å–ª–µ–¥–Ω–∏–∫ - –∫–≤–∞–¥—Ä–∞—Ç
class Square extends Rect {
  constructor(side) {
    super(side, side); // –í—ã–∑—ã–≤–∞–µ–º –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä —Ä–æ–¥–∏—Ç–µ–ª—è
    this.#side = side;
  }

  #side;

  // –ü–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è–µ–º –≥–µ—Ç—Ç–µ—Ä—ã –¥–ª—è width –∏ height
  get width() {
    return this.#side;
  }

  get height() {
    return this.#side;
  }

  // –ü–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è–µ–º —Å–µ—Ç—Ç–µ—Ä—ã - –æ–±–∞ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é—Ç side
  set width(value) {
    this.#side = value;
  }

  set height(value) {
    this.#side = value;
  }
}

// –§—É–Ω–∫—Ü–∏—è, —Ä–∞–±–æ—Ç–∞—é—â–∞—è —Å Rect
function useRect(rect) {
  rect.width = 10;
  console.log('Area:', rect.area);
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
const r1 = new Rect(10, 5);
const r2 = new Square(10);

useRect(r1); // Area: 50
useRect(r2); // Area: 100

// ‚úì LSP —Å–æ–±–ª—é–¥–∞–µ—Ç—Å—è - —Ñ—É–Ω–∫—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç —Å –æ–±–æ–∏–º–∏ —Ç–∏–ø–∞–º–∏
</code></pre>
<p><strong>–ö–ª—é—á–µ–≤–æ–π –º–æ–º–µ–Ω—Ç</strong>: –ú—ã –Ω–µ –ø–∏—à–µ–º –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ç–∏–ø–∞ (<code>instanceof</code>), —Ñ—É–Ω–∫—Ü–∏—è –æ–ø–∏—Ä–∞–µ—Ç—Å—è –Ω–∞ –æ–±—â–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å.</p>
<p><strong>–ê–Ω—Ç–∏–ø–∞—Ç—Ç–µ—Ä–Ω</strong> (–Ω–∞—Ä—É—à–µ–Ω–∏–µ LSP):</p>
<pre><code class="language-javascript">// ‚úó –ü–ª–æ—Ö–æ - –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–∞ –Ω–∞—Ä—É—à–∞–µ—Ç LSP
function useRect(rect) {
  if (rect instanceof Square) {
    // –û—Å–æ–±–∞—è –ª–æ–≥–∏–∫–∞ –¥–ª—è Square
  } else if (rect instanceof Rect) {
    // –õ–æ–≥–∏–∫–∞ –¥–ª—è Rect
  }

  // –≠—Ç–æ –ø—Ä–∏–≤–æ–¥–∏—Ç –∫ "–ª–∞–ø—à–µ" –ø—Ä–∏ –ø–æ—è–≤–ª–µ–Ω–∏–∏ –Ω–æ–≤—ã—Ö –ø–æ–¥—Ç–∏–ø–æ–≤
}
</code></pre>
<p><strong>–ü—Ä–∞–≤–∏–ª–æ</strong>: –ï—Å–ª–∏ –≤—ã –≤–∏–¥–∏—Ç–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ <code>instanceof</code> –≤ –∫–æ–¥–µ, –∑–∞–¥—É–º–∞–π—Ç–µ—Å—å ‚Äî –Ω–µ –Ω–∞—Ä—É—à–µ–Ω –ª–∏ –ø—Ä–∏–Ω—Ü–∏–ø –ø–æ–¥—Å—Ç–∞–Ω–æ–≤–∫–∏?</p>
<hr />
<h3 id="–ü—Ä–∏–º–µ—Ä-3-–ë–∞–Ω–∫–æ–≤—Å–∫–∏–π-—Å—á–µ—Ç-–ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ-—Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ"><a class="header" href="#–ü—Ä–∏–º–µ—Ä-3-–ë–∞–Ω–∫–æ–≤—Å–∫–∏–π-—Å—á–µ—Ç-–ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ-—Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ">–ü—Ä–∏–º–µ—Ä 3: –ë–∞–Ω–∫–æ–≤—Å–∫–∏–π —Å—á–µ—Ç (–ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ)</a></h3>
<pre><code class="language-javascript">// –ë–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å - –±–∞–Ω–∫–æ–≤—Å–∫–∏–π —Å—á–µ—Ç
class Account extends EventEmitter {
  constructor(username, balance) {
    super();
    this.username = username;
    this.balance = balance;
  }

  withdraw(amount) {
    this.balance -= amount;
    this.emit('withdraw', { username: this.username, amount, balance: this.balance });
  }
}

// –ü–æ–¥—Ç–∏–ø - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π —Å—á–µ—Ç (–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è)
class UserAccount extends Account {
  withdraw(amount) {
    // –°–Ω–∞—á–∞–ª–∞ –≤—ã–∑—ã–≤–∞–µ–º –±–∞–∑–æ–≤–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ
    super.withdraw(amount);

    // –ó–∞—Ç–µ–º –†–ê–°–®–ò–†–Ø–ï–ú —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å
    if (this.balance &lt; 0) {
      this.emit('debt', Math.abs(this.balance));
    }
  }
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
const account = new UserAccount('Marcus Aurelius', 100);

account.on('debt', (amount) =&gt; {
  console.log('Debt:', amount);
});

account.on('withdraw', ({ username, amount, balance }) =&gt; {
  console.log(`${username} withdrew ${amount}, balance: ${balance}`);
});

account.withdraw(50);  // Balance: 50
account.withdraw(70);  // Balance: -20, Debt: 20
account.withdraw(-10); // Balance: -10 (–Ω–∞—á–∏—Å–ª–µ–Ω–∏–µ)

// ‚úì LSP —Å–æ–±–ª—é–¥–∞–µ—Ç—Å—è - –ø–æ–≤–µ–¥–µ–Ω–∏–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–æ, –Ω–æ –Ω–µ –∏–∑–º–µ–Ω–µ–Ω–æ
</code></pre>
<p><strong>–†–µ–∑—É–ª—å—Ç–∞—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:</strong></p>
<pre><code>Marcus Aurelius withdrew 50, balance: 50
Marcus Aurelius withdrew 70, balance: -20
Debt: 20
Marcus Aurelius withdrew -10, balance: -10
</code></pre>
<hr />
<h3 id="–ü—Ä–∏–º–µ—Ä-4-–ù–∞—Ä—É—à–µ–Ω–∏–µ-lsp"><a class="header" href="#–ü—Ä–∏–º–µ—Ä-4-–ù–∞—Ä—É—à–µ–Ω–∏–µ-lsp">–ü—Ä–∏–º–µ—Ä 4: –ù–∞—Ä—É—à–µ–Ω–∏–µ LSP</a></h3>
<pre><code class="language-javascript">// ‚úó –ü–õ–û–•–û - –Ω–∞—Ä—É—à–µ–Ω–∏–µ –ø—Ä–∏–Ω—Ü–∏–ø–∞ –ø–æ–¥—Å—Ç–∞–Ω–æ–≤–∫–∏
class BrokenUserAccount extends Account {
  withdraw(amount) {
    // –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–ª–æ–∫–∏—Ä—É–µ—Ç –¥–∞–ª—å–Ω–µ–π—à–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏
    if (this.balance &lt;= 0) {
      return; // –ù–∏—á–µ–≥–æ –Ω–µ –¥–µ–ª–∞–µ–º!
    }

    super.withdraw(amount);
  }
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
const account = new BrokenUserAccount('Marcus Aurelius', 100);

account.on('withdraw', ({ username, amount, balance }) =&gt; {
  console.log(`${username} withdrew ${amount}, balance: ${balance}`);
});

account.withdraw(50);  // Balance: 50 ‚úì
account.withdraw(70);  // Balance: -20 ‚úì
account.withdraw(-10); // –ù–ï –í–´–ü–û–õ–ù–ò–¢–°–Ø! ‚úó

// ‚úó LSP –Ω–∞—Ä—É—à–µ–Ω - –ø–æ–≤–µ–¥–µ–Ω–∏–µ –ø–æ–ª–Ω–æ—Å—Ç—å—é –∏–∑–º–µ–Ω–∏–ª–æ—Å—å
</code></pre>
<p><strong>–ü—Ä–æ–±–ª–µ–º–∞</strong>: –ü–æ—Å–ª–µ —Ç–æ–≥–æ, –∫–∞–∫ –±–∞–ª–∞–Ω—Å —Å—Ç–∞–ª –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–º, –º–µ—Ç–æ–¥ <code>withdraw</code> –ø–µ—Ä–µ—Å—Ç–∞–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å <strong>–ø–æ–ª–Ω–æ—Å—Ç—å—é</strong> ‚Äî –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ –Ω–∏ —Å–Ω—è—Ç—å, –Ω–∏ –ø–æ–ø–æ–ª–Ω–∏—Ç—å —Å—á–µ—Ç. –≠—Ç–æ –Ω–∞—Ä—É—à–∞–µ—Ç –æ–∂–∏–¥–∞–µ–º–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ –±–∞–∑–æ–≤–æ–≥–æ –∫–ª–∞—Å—Å–∞.</p>
<p><strong>–†–µ–∑—É–ª—å—Ç–∞—Ç:</strong></p>
<pre><code>Marcus Aurelius withdrew 50, balance: 50
Marcus Aurelius withdrew 70, balance: -20
// –¢—Ä–µ—Ç—å—è –æ–ø–µ—Ä–∞—Ü–∏—è –Ω–µ –≤—ã–ø–æ–ª–Ω–∏–ª–∞—Å—å!
</code></pre>
<hr />
<h3 id="–ü—Ä–∏–º–µ—Ä-5-cancellablepromise"><a class="header" href="#–ü—Ä–∏–º–µ—Ä-5-cancellablepromise">–ü—Ä–∏–º–µ—Ä 5: CancellablePromise</a></h3>
<pre><code class="language-javascript">// –†–∞—Å—à–∏—Ä—è–µ–º Promise –Ω–æ–≤–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å—é
class CancellablePromise extends Promise {
  #cancelled = false;

  cancel() {
    this.#cancelled = true;
  }

  then(onResolve, onReject) {
    // –ü–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è–µ–º then —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π –æ—Ç–º–µ–Ω—ã
    return super.then(
      (value) =&gt; {
        if (this.#cancelled) return;
        return onResolve(value);
      },
      (error) =&gt; {
        if (this.#cancelled) return;
        return onReject(error);
      }
    );
  }
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
const promise = new CancellablePromise((resolve) =&gt; {
  setTimeout(() =&gt; {
    resolve('Done!');
  }, 10);
});

promise.then(console.log); // –†–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ –æ–±—ã—á–Ω—ã–π Promise

// –ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤–µ–∑–¥–µ, –≥–¥–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è Promise
await promise; // ‚úì –†–∞–±–æ—Ç–∞–µ—Ç

// ‚úì LSP —Å–æ–±–ª—é–¥–∞–µ—Ç—Å—è - –º–æ–∂–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤–µ–∑–¥–µ, –≥–¥–µ –Ω—É–∂–µ–Ω Promise
</code></pre>
<p><strong>–í–∞–∂–Ω–æ</strong>:</p>
<ul>
<li><code>CancellablePromise</code> <strong>—Ä–∞—Å—à–∏—Ä—è–µ—Ç</strong> —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å, –¥–æ–±–∞–≤–ª—è—è –º–µ—Ç–æ–¥ <code>cancel()</code></li>
<li>–û–Ω <strong>–Ω–µ –ª–æ–º–∞–µ—Ç</strong> –∫–æ–Ω—Ç—Ä–∞–∫—Ç Thenable (–Ω–∞–ª–∏—á–∏–µ –º–µ—Ç–æ–¥–∞ <code>then</code>)</li>
<li>–ï–≥–æ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å <code>await</code> –∏ –≤–æ –≤—Å–µ—Ö –º–µ—Å—Ç–∞—Ö, –≥–¥–µ –æ–∂–∏–¥–∞–µ—Ç—Å—è Promise</li>
</ul>
<hr />
<h2 id="–ö–æ–Ω—Ç—Ä–∞–∫—Ç—ã-–≤-javascript"><a class="header" href="#–ö–æ–Ω—Ç—Ä–∞–∫—Ç—ã-–≤-javascript">–ö–æ–Ω—Ç—Ä–∞–∫—Ç—ã –≤ JavaScript</a></h2>
<h3 id="–ö–æ–Ω—Ç—Ä–∞–∫—Ç-thenable"><a class="header" href="#–ö–æ–Ω—Ç—Ä–∞–∫—Ç-thenable">–ö–æ–Ω—Ç—Ä–∞–∫—Ç Thenable</a></h3>
<p>–õ—é–±–æ–π –æ–±—ä–µ–∫—Ç —Å –º–µ—Ç–æ–¥–æ–º <code>then</code> –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è —Å <code>await</code>:</p>
<pre><code class="language-javascript">// –°–æ–∑–¥–∞–µ–º —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π thenable –æ–±—ä–µ–∫—Ç
const thenable = () =&gt; ({
  then: (onResolve) =&gt; {
    onResolve(5); // –°—Ä–∞–∑—É —Ä–µ–∑–æ–ª–≤–∏–º —Å –∑–Ω–∞—á–µ–Ω–∏–µ–º 5
  }
});

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å async/await
const value = await thenable();
console.log(value); // 5

// ‚úì –ö–æ–Ω—Ç—Ä–∞–∫—Ç Thenable —Å–æ–±–ª—é–¥–µ–Ω
</code></pre>
<p><strong>–û–±—ä—è—Å–Ω–µ–Ω–∏–µ</strong>: –û–ø–µ—Ä–∞—Ç–æ—Ä <code>await</code> –∑–∞–≤—è–∑–∞–Ω –Ω–∞ –∫–æ–Ω—Ç—Ä–∞–∫—Ç Thenable, –∞ –Ω–µ –Ω–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π —Ç–∏–ø Promise. –ü–æ—ç—Ç–æ–º—É –ª—é–±–æ–π –æ–±—ä–µ–∫—Ç, —Ä–µ–∞–ª–∏–∑—É—é—â–∏–π —ç—Ç–æ—Ç –∫–æ–Ω—Ç—Ä–∞–∫—Ç, –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å.</p>
<hr />
<h3 id="–ö–æ–Ω—Ç—Ä–∞–∫—Ç-iterable"><a class="header" href="#–ö–æ–Ω—Ç—Ä–∞–∫—Ç-iterable">–ö–æ–Ω—Ç—Ä–∞–∫—Ç Iterable</a></h3>
<p>–õ—é–±–æ–π –æ–±—ä–µ–∫—Ç —Å –º–µ—Ç–æ–¥–æ–º <code>Symbol.iterator</code> –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ —Ü–∏–∫–ª–∞—Ö <code>for...of</code>:</p>
<pre><code class="language-javascript">// –†–µ–∞–ª–∏–∑—É–µ–º –∫–æ–Ω—Ç—Ä–∞–∫—Ç Iterable
const iterable = {
  [Symbol.iterator]() {
    let i = 0;
    return {
      next() {
        if (i &lt; 3) {
          return { value: i++, done: false };
        }
        return { value: undefined, done: true };
      }
    };
  }
};

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
for (const item of iterable) {
  console.log(item); // 0, 1, 2
}

// Spread –æ–ø–µ—Ä–∞—Ç–æ—Ä —Ç–æ–∂–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
const arr = [...iterable]; // [0, 1, 2]

// ‚úì –ö–æ–Ω—Ç—Ä–∞–∫—Ç Iterable —Å–æ–±–ª—é–¥–µ–Ω
</code></pre>
<p><strong>–í–∞–∂–Ω–æ</strong>: –¶–∏–∫–ª <code>for...of</code> ‚Äî —ç—Ç–æ –Ω–µ —Ü–∏–∫–ª –ø–æ –º–∞—Å—Å–∏–≤—É, –∞ —Ü–∏–∫–ª –ø–æ –∏—Ç–µ—Ä–∏—Ä—É–µ–º–æ–º—É –æ–±—ä–µ–∫—Ç—É. –ú–∞—Å—Å–∏–≤ –ø—Ä–æ—Å—Ç–æ —Ä–µ–∞–ª–∏–∑—É–µ—Ç –∫–æ–Ω—Ç—Ä–∞–∫—Ç Iterable.</p>
<hr />
<h3 id="array-like-–æ–±—ä–µ–∫—Ç—ã"><a class="header" href="#array-like-–æ–±—ä–µ–∫—Ç—ã">Array-like –æ–±—ä–µ–∫—Ç—ã</a></h3>
<p>–û–±—ä–µ–∫—Ç—ã, –ø–æ—Ö–æ–∂–∏–µ –Ω–∞ –º–∞—Å—Å–∏–≤—ã, –Ω–æ –Ω–µ —è–≤–ª—è—é—â–∏–µ—Å—è –º–∞—Å—Å–∏–≤–∞–º–∏:</p>
<pre><code class="language-javascript">// NodeList –∏–∑ DOM
const divs = document.querySelectorAll('div');
console.log(divs); // NodeList - array-like –æ–±—ä–µ–∫—Ç

// –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è –≤ –æ–±—ã—á–Ω—ã–π –º–∞—Å—Å–∏–≤
const divsArray = Array.from(divs);

// –ò–ª–∏ —á–µ—Ä–µ–∑ spread (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç Iterable –∫–æ–Ω—Ç—Ä–∞–∫—Ç)
const divsArray2 = [...divs];
</code></pre>
<p><strong>–°–æ–∑–¥–∞–Ω–∏–µ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ array-like –æ–±—ä–µ–∫—Ç–∞:</strong></p>
<pre><code class="language-javascript">// Array-like —Å –∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–º –¥–ª–∏–Ω—ã –∏ –∏–Ω–¥–µ–∫—Å–æ–≤
const arrayLike1 = {
  0: 'a',
  1: 'b',
  2: 'c',
  length: 3
};

// –†–∞–±–æ—Ç–∞–µ—Ç –æ–±—Ö–æ–¥ —á–µ—Ä–µ–∑ –∏–Ω–¥–µ–∫—Å—ã
for (let i = 0; i &lt; arrayLike1.length; i++) {
  console.log(arrayLike1[i]); // a, b, c
}

// Array.from —Ä–∞–±–æ—Ç–∞–µ—Ç
const arr1 = Array.from(arrayLike1); // ['a', 'b', 'c']

// ‚úó for...of –ù–ï —Ä–∞–±–æ—Ç–∞–µ—Ç (–Ω–µ—Ç Symbol.iterator)
// for (const item of arrayLike1) {} // TypeError!
</code></pre>
<p><strong>Array-like —Å –∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–º Iterable:</strong></p>
<pre><code class="language-javascript">// Array-like —Å Symbol.iterator
const arrayLike2 = {
  0: 'a',
  1: 'b',
  2: 'c',
  length: 3,

  [Symbol.iterator]() {
    let i = 0;
    return {
      next: () =&gt; {
        if (i &lt; this.length) {
          return { value: this[i++], done: false };
        }
        return { value: undefined, done: true };
      }
    };
  }
};

// –¢–µ–ø–µ—Ä—å for...of —Ä–∞–±–æ—Ç–∞–µ—Ç
for (const item of arrayLike2) {
  console.log(item); // a, b, c
}

// Spread –æ–ø–µ—Ä–∞—Ç–æ—Ä —Ä–∞–±–æ—Ç–∞–µ—Ç
const arr2 = [...arrayLike2]; // ['a', 'b', 'c']

// Array.from —Ç–æ–∂–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
const arr3 = Array.from(arrayLike2); // ['a', 'b', 'c']
</code></pre>
<p><strong>–í—ã–≤–æ–¥</strong>:</p>
<ul>
<li><code>Array.from</code> –æ–ø–∏—Ä–∞–µ—Ç—Å—è –Ω–∞ –∫–æ–Ω—Ç—Ä–∞–∫—Ç "–¥–ª–∏–Ω–∞ + –∏–Ω–¥–µ–∫—Å—ã" –ò–õ–ò Iterable</li>
<li><code>for...of</code> –∏ <code>...spread</code> –æ–ø–∏—Ä–∞–µ—Ç—Å—è –Ω–∞ –∫–æ–Ω—Ç—Ä–∞–∫—Ç Iterable (<code>Symbol.iterator</code>)</li>
<li>–†–∞–∑–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –º–æ–≥—É—Ç —Ç—Ä–µ–±–æ–≤–∞—Ç—å —Ä–∞–∑–Ω—ã–µ –∫–æ–Ω—Ç—Ä–∞–∫—Ç—ã</li>
</ul>
<hr />
<h2 id="–û–±–æ–±—â–µ–Ω–Ω–æ–µ-–ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ-–∏-lsp-typescript"><a class="header" href="#–û–±–æ–±—â–µ–Ω–Ω–æ–µ-–ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ-–∏-lsp-typescript">–û–±–æ–±—â–µ–Ω–Ω–æ–µ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ LSP (TypeScript)</a></h2>
<pre><code class="language-typescript">// –û–ø—Ä–µ–¥–µ–ª—è–µ–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
interface Dated {
  year: number;
}

// –§—É–Ω–∫—Ü–∏—è, —Ä–∞–±–æ—Ç–∞—é—â–∞—è —Å Dated –æ–±—ä–µ–∫—Ç–∞–º–∏
function later&lt;T extends Dated&gt;(a: T, b: T): T {
  return a.year &gt; b.year ? a : b;
}

// –¢–∏–ø—ã, —Ä–µ–∞–ª–∏–∑—É—é—â–∏–µ Dated
interface Person extends Dated {
  name: string;
  year: number; // –≥–æ–¥ —Ä–æ–∂–¥–µ–Ω–∏—è
}

interface Book extends Dated {
  title: string;
  author: string;
  year: number; // –≥–æ–¥ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏
}

// –°–æ–∑–¥–∞–µ–º –æ–±—ä–µ–∫—Ç—ã
const marcus: Person = {
  name: 'Marcus Aurelius',
  year: 121
};

const seneca: Person = {
  name: 'Lucius Seneca',
  year: -4
};

const meditations: Book = {
  title: 'Meditations',
  author: 'Marcus Aurelius',
  year: 170
};

const discourse: Book = {
  title: 'Discourse on the Method',
  author: 'Ren√© Descartes',
  year: 1637
};

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ later
console.log(later(meditations, discourse));  // discourse (1637 &gt; 170)
console.log(later(marcus, seneca));          // marcus (121 &gt; -4)

// ‚úì –ú–æ–∂–Ω–æ –¥–∞–∂–µ —Å—Ä–∞–≤–Ω–∏–≤–∞—Ç—å —Ä–∞–∑–Ω—ã–µ —Ç–∏–ø—ã!
console.log(later(marcus, meditations));     // meditations (170 &gt; 121)

// ‚úì LSP —Å–æ–±–ª—é–¥–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å Dated
</code></pre>
<p><strong>–û–±—ä—è—Å–Ω–µ–Ω–∏–µ</strong>:</p>
<ul>
<li>–î–∂–µ–Ω–µ—Ä–∏–∫ <code>&lt;T extends Dated&gt;</code> –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ T –¥–æ–ª–∂–µ–Ω —Ä–µ–∞–ª–∏–∑–æ–≤—ã–≤–∞—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å Dated</li>
<li>–§—É–Ω–∫—Ü–∏—è <code>later</code> –º–æ–∂–µ—Ç –ø—Ä–∏–Ω–∏–º–∞—Ç—å <strong>–ª—é–±–æ–π</strong> –ø–æ–¥—Ç–∏–ø Dated</li>
<li>–ö–æ–Ω—Ç—Ä–∞–∫—Ç (–Ω–∞–ª–∏—á–∏–µ –ø–æ–ª—è <code>year: number</code>) –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω—É—é —Ä–∞–±–æ—Ç—É</li>
</ul>
<hr />
<h2 id="–ö–ª—é—á–µ–≤—ã–µ-–≤—ã–≤–æ–¥—ã-24"><a class="header" href="#–ö–ª—é—á–µ–≤—ã–µ-–≤—ã–≤–æ–¥—ã-24">–ö–ª—é—á–µ–≤—ã–µ –≤—ã–≤–æ–¥—ã</a></h2>
<h3 id="1-–û—Å–Ω–æ–≤–Ω–æ–µ-–ø—Ä–∞–≤–∏–ª–æ-lsp"><a class="header" href="#1-–û—Å–Ω–æ–≤–Ω–æ–µ-–ø—Ä–∞–≤–∏–ª–æ-lsp">1. –û—Å–Ω–æ–≤–Ω–æ–µ –ø—Ä–∞–≤–∏–ª–æ LSP</a></h3>
<p><strong>–ü–æ–¥—Ç–∏–ø—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –∑–∞–º–µ–Ω—è–µ–º—ã –Ω–∞ –±–∞–∑–æ–≤—ã–µ —Ç–∏–ø—ã –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç–∏ –ø—Ä–æ–≥—Ä–∞–º–º—ã.</strong></p>
<h3 id="2-–ß—Ç–æ-–º–æ–∂–Ω–æ-–¥–µ–ª–∞—Ç—å-–≤-–ø–æ–¥—Ç–∏–ø–∞—Ö"><a class="header" href="#2-–ß—Ç–æ-–º–æ–∂–Ω–æ-–¥–µ–ª–∞—Ç—å-–≤-–ø–æ–¥—Ç–∏–ø–∞—Ö">2. –ß—Ç–æ –º–æ–∂–Ω–æ –¥–µ–ª–∞—Ç—å –≤ –ø–æ–¥—Ç–∏–ø–∞—Ö</a></h3>
<p>‚úì <strong>–†–∞—Å—à–∏—Ä—è—Ç—å</strong> —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –±–∞–∑–æ–≤–æ–≥–æ —Ç–∏–ø–∞
‚úì <strong>–î–æ–±–∞–≤–ª—è—Ç—å</strong> –Ω–æ–≤—ã–µ –º–µ—Ç–æ–¥—ã –∏ —Å–≤–æ–π—Å—Ç–≤–∞
‚úì <strong>–£—Ç–æ—á–Ω—è—Ç—å</strong> –ø–æ–≤–µ–¥–µ–Ω–∏–µ —á–µ—Ä–µ–∑ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Å –≤—ã–∑–æ–≤–æ–º <code>super</code></p>
<h3 id="3-–ß—Ç–æ-–ù–ï–õ–¨–ó–Ø-–¥–µ–ª–∞—Ç—å-–≤-–ø–æ–¥—Ç–∏–ø–∞—Ö"><a class="header" href="#3-–ß—Ç–æ-–ù–ï–õ–¨–ó–Ø-–¥–µ–ª–∞—Ç—å-–≤-–ø–æ–¥—Ç–∏–ø–∞—Ö">3. –ß—Ç–æ –ù–ï–õ–¨–ó–Ø –¥–µ–ª–∞—Ç—å –≤ –ø–æ–¥—Ç–∏–ø–∞—Ö</a></h3>
<p>‚úó <strong>–£–¥–∞–ª—è—Ç—å</strong> –∏–ª–∏ –±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å –º–µ—Ç–æ–¥—ã –±–∞–∑–æ–≤–æ–≥–æ —Ç–∏–ø–∞
‚úó <strong>–ò–∑–º–µ–Ω—è—Ç—å</strong> –æ–∂–∏–¥–∞–µ–º–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ –±–∞–∑–æ–≤—ã—Ö –º–µ—Ç–æ–¥–æ–≤
‚úó <strong>–ù–∞—Ä—É—à–∞—Ç—å</strong> –∫–æ–Ω—Ç—Ä–∞–∫—Ç –±–∞–∑–æ–≤–æ–≥–æ —Ç–∏–ø–∞</p>
<h3 id="4-–ü—Ä–∏–∑–Ω–∞–∫–∏-–Ω–∞—Ä—É—à–µ–Ω–∏—è-lsp"><a class="header" href="#4-–ü—Ä–∏–∑–Ω–∞–∫–∏-–Ω–∞—Ä—É—à–µ–Ω–∏—è-lsp">4. –ü—Ä–∏–∑–Ω–∞–∫–∏ –Ω–∞—Ä—É—à–µ–Ω–∏—è LSP</a></h3>
<pre><code class="language-javascript">// ‚úó –ü–ª–æ—Ö–æ - –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–æ–≤
if (obj instanceof SpecificType) {
  // —Å–ø–µ—Ü–∏–∞–ª—å–Ω–∞—è –ª–æ–≥–∏–∫–∞
}

// ‚úó –ü–ª–æ—Ö–æ - –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏
switch (obj.constructor.name) {
  case 'TypeA': /* ... */ break;
  case 'TypeB': /* ... */ break;
}
</code></pre>
<p>–ï—Å–ª–∏ –≤—ã –ø–∏—à–µ—Ç–µ —Ç–∞–∫–æ–π –∫–æ–¥, —Å–∫–æ—Ä–µ–µ –≤—Å–µ–≥–æ LSP –Ω–∞—Ä—É—à–µ–Ω.</p>
<h3 id="5-–ö–æ–Ω—Ç—Ä–∞–∫—Ç–Ω–æ–µ-–ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ"><a class="header" href="#5-–ö–æ–Ω—Ç—Ä–∞–∫—Ç–Ω–æ–µ-–ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ">5. –ö–æ–Ω—Ç—Ä–∞–∫—Ç–Ω–æ–µ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ</a></h3>
<p>–í JavaScript –∫–æ–Ω—Ç—Ä–∞–∫—Ç—ã –≤–∞–∂–Ω–µ–µ –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è:</p>
<ul>
<li><strong>Iterable</strong> ‚Äî <code>Symbol.iterator</code></li>
<li><strong>Thenable</strong> ‚Äî –º–µ—Ç–æ–¥ <code>then</code></li>
<li><strong>Array-like</strong> ‚Äî <code>length</code> + —á–∏—Å–ª–æ–≤—ã–µ –∏–Ω–¥–µ–∫—Å—ã</li>
<li><strong>EventEmitter</strong> ‚Äî –º–µ—Ç–æ–¥—ã <code>on</code>, <code>emit</code></li>
</ul>
<p>–û–±—ä–µ–∫—Ç, —Ä–µ–∞–ª–∏–∑—É—é—â–∏–π –∫–æ–Ω—Ç—Ä–∞–∫—Ç, –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –≤–µ–∑–¥–µ, –≥–¥–µ —ç—Ç–æ—Ç –∫–æ–Ω—Ç—Ä–∞–∫—Ç –æ–∂–∏–¥–∞–µ—Ç—Å—è, –¥–∞–∂–µ –±–µ–∑ –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è.</p>
<h3 id="6-lsp-–∏-–ø–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º"><a class="header" href="#6-lsp-–∏-–ø–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º">6. LSP –∏ –ø–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º</a></h3>
<p>LSP –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç <strong>–ø–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º</strong>:</p>
<pre><code class="language-javascript">// –û–¥–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç —Å —Ä–∞–∑–Ω—ã–º–∏ —Ç–∏–ø–∞–º–∏
function processShape(shape) {
  console.log('Area:', shape.area);
  console.log('Perimeter:', shape.perimeter);
}

processShape(new Rectangle(10, 5));
processShape(new Circle(7));
processShape(new Triangle(3, 4, 5));

// ‚úì –í—Å–µ —Ç–∏–ø—ã —Å–æ–±–ª—é–¥–∞—é—Ç –∫–æ–Ω—Ç—Ä–∞–∫—Ç Shape
</code></pre>
<hr />
<h2 id="–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ-—Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏-13"><a class="header" href="#–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ-—Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏-13">–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏</a></h2>
<h3 id="1-–û–ø–∏—Ä–∞–π—Ç–µ—Å—å-–Ω–∞-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã-–∞-–Ω–µ-–Ω–∞-—Ç–∏–ø—ã"><a class="header" href="#1-–û–ø–∏—Ä–∞–π—Ç–µ—Å—å-–Ω–∞-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã-–∞-–Ω–µ-–Ω–∞-—Ç–∏–ø—ã">1. –û–ø–∏—Ä–∞–π—Ç–µ—Å—å –Ω–∞ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã, –∞ –Ω–µ –Ω–∞ —Ç–∏–ø—ã</a></h3>
<pre><code class="language-javascript">// ‚úì –•–æ—Ä–æ—à–æ
function process(iterable) {
  for (const item of iterable) {
    // ...
  }
}

// ‚úó –ü–ª–æ—Ö–æ
function process(array) {
  if (!Array.isArray(array)) {
    throw new Error('Expected array');
  }
  // ...
}
</code></pre>
<h3 id="2-–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ-–∫–æ–º–ø–æ–∑–∏—Ü–∏—é-–≤–º–µ—Å—Ç–æ-–∏–∑–º–µ–Ω–µ–Ω–∏—è-–ø–æ–≤–µ–¥–µ–Ω–∏—è"><a class="header" href="#2-–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ-–∫–æ–º–ø–æ–∑–∏—Ü–∏—é-–≤–º–µ—Å—Ç–æ-–∏–∑–º–µ–Ω–µ–Ω–∏—è-–ø–æ–≤–µ–¥–µ–Ω–∏—è">2. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–º–ø–æ–∑–∏—Ü–∏—é –≤–º–µ—Å—Ç–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø–æ–≤–µ–¥–µ–Ω–∏—è</a></h3>
<pre><code class="language-javascript">// ‚úì –•–æ—Ä–æ—à–æ - –∫–æ–º–ø–æ–∑–∏—Ü–∏—è
class ValidatedAccount {
  constructor(account) {
    this.account = account;
  }

  withdraw(amount) {
    if (this.account.balance &lt; amount) {
      throw new Error('Insufficient funds');
    }
    return this.account.withdraw(amount);
  }
}

// ‚úó –ü–ª–æ—Ö–æ - –∏–∑–º–µ–Ω–µ–Ω–∏–µ –ø–æ–≤–µ–¥–µ–Ω–∏—è –Ω–∞—Å–ª–µ–¥–Ω–∏–∫–∞
class BrokenAccount extends Account {
  withdraw(amount) {
    if (this.balance &lt; amount) {
      return; // –õ–æ–º–∞–µ—Ç –∫–æ–Ω—Ç—Ä–∞–∫—Ç!
    }
    super.withdraw(amount);
  }
}
</code></pre>
<h3 id="3-–î–æ–∫—É–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ-–∫–æ–Ω—Ç—Ä–∞–∫—Ç—ã"><a class="header" href="#3-–î–æ–∫—É–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ-–∫–æ–Ω—Ç—Ä–∞–∫—Ç—ã">3. –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ –∫–æ–Ω—Ç—Ä–∞–∫—Ç—ã</a></h3>
<pre><code class="language-javascript">/**
 * –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å Shape
 * @interface
 * @property {number} area - –ü–ª–æ—â–∞–¥—å —Ñ–∏–≥—É—Ä—ã
 * @property {number} perimeter - –ü–µ—Ä–∏–º–µ—Ç—Ä —Ñ–∏–≥—É—Ä—ã
 */

/**
 * –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –≥–µ–æ–º–µ—Ç—Ä–∏—á–µ—Å–∫—É—é —Ñ–∏–≥—É—Ä—É
 * @param {Shape} shape - –û–±—ä–µ–∫—Ç, —Ä–µ–∞–ª–∏–∑—É—é—â–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å Shape
 */
function processShape(shape) {
  // ...
}
</code></pre>
<hr />
<h2 id="–ó–∞–∫–ª—é—á–µ–Ω–∏–µ-15"><a class="header" href="#–ó–∞–∫–ª—é—á–µ–Ω–∏–µ-15">–ó–∞–∫–ª—é—á–µ–Ω–∏–µ</a></h2>
<p>–ü—Ä–∏–Ω—Ü–∏–ø –ø–æ–¥—Å—Ç–∞–Ω–æ–≤–∫–∏ –ë–∞—Ä–±–∞—Ä—ã –õ–∏—Å–∫–æ–≤ ‚Äî —ç—Ç–æ –Ω–µ –ø—Ä–æ—Å—Ç–æ –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω–∞—è —Ç–µ–æ—Ä–∏—è —Ç–∏–ø–æ–≤, –∞ –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —Å–æ–∑–¥–∞–Ω–∏—é –≥–∏–±–∫–∏—Ö –∏ —Ä–∞—Å—à–∏—Ä—è–µ–º—ã—Ö —Å–∏—Å—Ç–µ–º.</p>
<p><strong>–û—Å–Ω–æ–≤–Ω–∞—è –∏–¥–µ—è</strong>: –ö–æ–¥ –¥–æ–ª–∂–µ–Ω —Ä–∞–±–æ—Ç–∞—Ç—å —Å –∞–±—Å—Ç—Ä–∞–∫—Ü–∏—è–º–∏ (–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞–º–∏, –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞–º–∏), –∞ –Ω–µ —Å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–º–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è–º–∏. –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç:</p>
<ul>
<li>–ë–µ–∑–æ–ø–∞—Å–Ω–æ –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ —Ç–∏–ø—ã –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ –∫–æ–¥–∞</li>
<li>–ò–∑–±–µ–≥–∞—Ç—å —É—Å–ª–æ–≤–Ω–æ–π –ª–æ–≥–∏–∫–∏ —Å –ø—Ä–æ–≤–µ—Ä–∫–∞–º–∏ —Ç–∏–ø–æ–≤</li>
<li>–°–æ–∑–¥–∞–≤–∞—Ç—å –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã</li>
<li>–û–±–µ—Å–ø–µ—á–∏–≤–∞—Ç—å –ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã</li>
</ul>
<p><strong>–ü–æ–º–Ω–∏—Ç–µ</strong>: –ï—Å–ª–∏ —Ñ—É–Ω–∫—Ü–∏—è –æ–ø–∏—Ä–∞–µ—Ç—Å—è –Ω–∞ –∫–æ–Ω—Ç—Ä–∞–∫—Ç, –∞ –Ω–µ –Ω–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π —Ç–∏–ø, –æ–Ω–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –±–æ–ª–µ–µ –≥–∏–±–∫–æ–π –∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç LSP.</p>
<p><strong>–¶–∏—Ç–∞—Ç–∞ –†–æ–±–µ—Ä—Ç–∞ –ú–∞—Ä—Ç–∏–Ω–∞</strong>:</p>
<blockquote>
<p>"–§—É–Ω–∫—Ü–∏–∏, –∫–æ—Ç–æ—Ä—ã–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç –±–∞–∑–æ–≤—ã–π —Ç–∏–ø, –¥–æ–ª–∂–Ω—ã –∏–º–µ—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–æ–¥—Ç–∏–ø—ã —ç—Ç–æ–≥–æ –±–∞–∑–æ–≤–æ–≥–æ —Ç–∏–ø–∞, –Ω–µ –∑–Ω–∞—è –æ–± —ç—Ç–æ–º."</p>
</blockquote>
<p>–≠—Ç–∞ –ø—Ä–æ—Å—Ç–∞—è —Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–∫–∞ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç –ø—É—Ç—å –∫ —Å–æ–∑–¥–∞–Ω–∏—é —ç–ª–µ–≥–∞–Ω—Ç–Ω–æ–≥–æ, —Ä–∞—Å—à–∏—Ä—è–µ–º–æ–≥–æ –∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º–æ–≥–æ –∫–æ–¥–∞.</p>
<hr />
<h2 id="–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ-–º–∞—Ç–µ—Ä–∏–∞–ª—ã-14"><a class="header" href="#–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ-–º–∞—Ç–µ—Ä–∏–∞–ª—ã-14">–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã</a></h2>
<h3 id="–°–≤—è–∑–∞–Ω–Ω—ã–µ-–ø—Ä–∏–Ω—Ü–∏–ø—ã-solid"><a class="header" href="#–°–≤—è–∑–∞–Ω–Ω—ã–µ-–ø—Ä–∏–Ω—Ü–∏–ø—ã-solid">–°–≤—è–∑–∞–Ω–Ω—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã SOLID</a></h3>
<ul>
<li><strong>S</strong> ‚Äî Single Responsibility Principle (–ü—Ä–∏–Ω—Ü–∏–ø –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–π –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏)</li>
<li><strong>O</strong> ‚Äî Open/Closed Principle (–ü—Ä–∏–Ω—Ü–∏–ø –æ—Ç–∫—Ä—ã—Ç–æ—Å—Ç–∏/–∑–∞–∫—Ä—ã—Ç–æ—Å—Ç–∏)</li>
<li><strong>L</strong> ‚Äî <strong>Liskov Substitution Principle</strong> (–ü—Ä–∏–Ω—Ü–∏–ø –ø–æ–¥—Å—Ç–∞–Ω–æ–≤–∫–∏ –õ–∏—Å–∫–æ–≤) ‚Üê –≠—Ç–∞ —Ç–µ–º–∞</li>
<li><strong>I</strong> ‚Äî Interface Segregation Principle (–ü—Ä–∏–Ω—Ü–∏–ø —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤)</li>
<li><strong>D</strong> ‚Äî Dependency Inversion Principle (–ü—Ä–∏–Ω—Ü–∏–ø –∏–Ω–≤–µ—Ä—Å–∏–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π)</li>
</ul>
<h3 id="–ö–ª—é—á–µ–≤—ã–µ-—Ç–µ—Ä–º–∏–Ω—ã"><a class="header" href="#–ö–ª—é—á–µ–≤—ã–µ-—Ç–µ—Ä–º–∏–Ω—ã">–ö–ª—é—á–µ–≤—ã–µ —Ç–µ—Ä–º–∏–Ω—ã</a></h3>
<ul>
<li><strong>–ü–æ–¥—Ç–∏–ø (Subtype)</strong> ‚Äî —Ç–∏–ø, –Ω–∞—Å–ª–µ–¥—É—é—â–∏–π –∏–ª–∏ —Ä–µ–∞–ª–∏–∑—É—é—â–∏–π –¥—Ä—É–≥–æ–π —Ç–∏–ø</li>
<li><strong>–ö–æ–Ω—Ç—Ä–∞–∫—Ç (Contract)</strong> ‚Äî –Ω–∞–±–æ—Ä –æ–∂–∏–¥–∞–µ–º—ã—Ö —Å–≤–æ–π—Å—Ç–≤ –∏ –º–µ—Ç–æ–¥–æ–≤</li>
<li><strong>–ü–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º (Polymorphism)</strong> ‚Äî –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Ä–∞–±–æ—Ç—ã —Å —Ä–∞–∑–Ω—ã–º–∏ —Ç–∏–ø–∞–º–∏ —á–µ—Ä–µ–∑ –æ–±—â–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å</li>
<li><strong>–ö–æ–≤–∞—Ä–∏–∞–Ω—Ç–Ω–æ—Å—Ç—å (Covariance)</strong> ‚Äî —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –æ—Ç–Ω–æ—à–µ–Ω–∏—è –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è –ø—Ä–∏ –ø–µ—Ä–µ–¥–∞—á–µ —Ç–∏–ø–æ–≤</li>
<li><strong>–ö–æ–Ω—Ç—Ä–∞–≤–∞—Ä–∏–∞–Ω—Ç–Ω–æ—Å—Ç—å (Contravariance)</strong> ‚Äî –æ–±—Ä–∞—â–µ–Ω–∏–µ –æ—Ç–Ω–æ—à–µ–Ω–∏—è –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è</li>
</ul>
<h3 id="–ü–∞—Ç—Ç–µ—Ä–Ω—ã-–∏—Å–ø–æ–ª—å–∑—É—é—â–∏–µ-lsp"><a class="header" href="#–ü–∞—Ç—Ç–µ—Ä–Ω—ã-–∏—Å–ø–æ–ª—å–∑—É—é—â–∏–µ-lsp">–ü–∞—Ç—Ç–µ—Ä–Ω—ã, –∏—Å–ø–æ–ª—å–∑—É—é—â–∏–µ LSP</a></h3>
<ul>
<li><strong>Strategy</strong> ‚Äî –ø–æ–¥–º–µ–Ω—è–µ–º—ã–µ –∞–ª–≥–æ—Ä–∏—Ç–º—ã</li>
<li><strong>Template Method</strong> ‚Äî —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ –ø–æ–≤–µ–¥–µ–Ω–∏—è —á–µ—Ä–µ–∑ –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ</li>
<li><strong>Decorator</strong> ‚Äî —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏ –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞</li>
<li><strong>Adapter</strong> ‚Äî –∞–¥–∞–ø—Ç–∞—Ü–∏—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ –∫ –æ–∂–∏–¥–∞–µ–º–æ–º—É –∫–æ–Ω—Ç—Ä–∞–∫—Ç—É</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="–ü–∞—Ç—Ç–µ—Ä–Ω-–ê–¥–∞–ø—Ç–µ—Ä-–≤-nodejs-–∏-javascript---qa-—Å–µ—Å—Å–∏—è"><a class="header" href="#–ü–∞—Ç—Ç–µ—Ä–Ω-–ê–¥–∞–ø—Ç–µ—Ä-–≤-nodejs-–∏-javascript---qa-—Å–µ—Å—Å–∏—è">–ü–∞—Ç—Ç–µ—Ä–Ω –ê–¥–∞–ø—Ç–µ—Ä –≤ Node.js –∏ JavaScript - Q&amp;A —Å–µ—Å—Å–∏—è</a></h1>
<h2 id="–û–±–∑–æ—Ä-26"><a class="header" href="#–û–±–∑–æ—Ä-26">–û–±–∑–æ—Ä</a></h2>
<p>–≠—Ç–∞ –ª–µ–∫—Ü–∏—è –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π –≥–ª—É–±–æ–∫–æ–µ –ø–æ–≥—Ä—É–∂–µ–Ω–∏–µ –≤ –ø–∞—Ç—Ç–µ—Ä–Ω –ê–¥–∞–ø—Ç–µ—Ä (Adapter Pattern) –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ JavaScript –∏ Node.js. –û—Å–Ω–æ–≤–Ω–∞—è –∏–¥–µ—è –∑–∞–∫–ª—é—á–∞–µ—Ç—Å—è –≤ —Ç–æ–º, —á—Ç–æ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤ –≤ JavaScript —Ä–∞–¥–∏–∫–∞–ª—å–Ω–æ –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è –æ—Ç –∏—Ö —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –≤ –¥—Ä—É–≥–∏—Ö —è–∑—ã–∫–∞—Ö –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è –±–ª–∞–≥–æ–¥–∞—Ä—è –≥–∏–±–∫–æ—Å—Ç–∏ —è–∑—ã–∫–∞ –∏ –µ–≥–æ —É–Ω–∏–∫–∞–ª—å–Ω—ã–º –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—è–º.</p>
<hr />
<h2 id="–û—Å–Ω–æ–≤–Ω–∞—è-–∫–æ–Ω—Ü–µ–ø—Ü–∏—è-–ø–∞—Ç—Ç–µ—Ä–Ω–∞-–ê–¥–∞–ø—Ç–µ—Ä"><a class="header" href="#–û—Å–Ω–æ–≤–Ω–∞—è-–∫–æ–Ω—Ü–µ–ø—Ü–∏—è-–ø–∞—Ç—Ç–µ—Ä–Ω–∞-–ê–¥–∞–ø—Ç–µ—Ä">–û—Å–Ω–æ–≤–Ω–∞—è –∫–æ–Ω—Ü–µ–ø—Ü–∏—è –ø–∞—Ç—Ç–µ—Ä–Ω–∞ –ê–¥–∞–ø—Ç–µ—Ä</a></h2>
<h3 id="–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ-12"><a class="header" href="#–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ-12">–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ</a></h3>
<p><strong>–ü–∞—Ç—Ç–µ—Ä–Ω –ê–¥–∞–ø—Ç–µ—Ä</strong> ‚Äî —ç—Ç–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–Ω—ã–π –ø–∞—Ç—Ç–µ—Ä–Ω –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∑–≤–æ–ª—è–µ—Ç –æ–±—ä–µ–∫—Ç–∞–º —Å –Ω–µ—Å–æ–≤–º–µ—Å—Ç–∏–º—ã–º–∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞–º–∏ —Ä–∞–±–æ—Ç–∞—Ç—å –≤–º–µ—Å—Ç–µ.</p>
<h3 id="–ê–Ω–∞–ª–æ–≥–∏—è-–∏–∑-—Ä–µ–∞–ª—å–Ω–æ–π-–∂–∏–∑–Ω–∏"><a class="header" href="#–ê–Ω–∞–ª–æ–≥–∏—è-–∏–∑-—Ä–µ–∞–ª—å–Ω–æ–π-–∂–∏–∑–Ω–∏">–ê–Ω–∞–ª–æ–≥–∏—è –∏–∑ —Ä–µ–∞–ª—å–Ω–æ–π –∂–∏–∑–Ω–∏</a></h3>
<p>–ü—Ä–µ–¥—Å—Ç–∞–≤—å—Ç–µ –ø–µ—Ä–µ—Ö–æ–¥–Ω–∏–∫ –º–µ–∂–¥—É –≤–∏–ª–∫–æ–π –∏ —Ä–æ–∑–µ—Ç–∫–æ–π:</p>
<ul>
<li>–ï—Å—Ç—å –≤–∏–ª–∫–∞ (–æ–¥–∏–Ω –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å)</li>
<li>–ï—Å—Ç—å —Ä–æ–∑–µ—Ç–∫–∞ (–¥—Ä—É–≥–æ–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å)</li>
<li>–ù—É–∂–µ–Ω –∞–¥–∞–ø—Ç–µ—Ä, —á—Ç–æ–±—ã –∏—Ö —Å–æ—Å—Ç—ã–∫–æ–≤–∞—Ç—å</li>
</ul>
<h3 id="–ö–ª—é—á–µ–≤–æ–µ-–æ—Ç–ª–∏—á–∏–µ-–æ—Ç-—Ñ–∞—Å–∞–¥–∞"><a class="header" href="#–ö–ª—é—á–µ–≤–æ–µ-–æ—Ç–ª–∏—á–∏–µ-–æ—Ç-—Ñ–∞—Å–∞–¥–∞">–ö–ª—é—á–µ–≤–æ–µ –æ—Ç–ª–∏—á–∏–µ –æ—Ç —Ñ–∞—Å–∞–¥–∞</a></h3>
<p><strong>–ê–¥–∞–ø—Ç–µ—Ä:</strong></p>
<ul>
<li>–ü—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç –æ–¥–∏–Ω –ø—Ä–æ—Å—Ç–æ–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –≤ –¥—Ä—É–≥–æ–π –ø—Ä–æ—Å—Ç–æ–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å</li>
<li>–†–∞–±–æ—Ç–∞–µ—Ç —Å –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ –ø—Ä–æ—Å—Ç—ã–º–∏ –∞–±—Å—Ç—Ä–∞–∫—Ü–∏—è–º–∏</li>
</ul>
<p><strong>–§–∞—Å–∞–¥:</strong></p>
<ul>
<li>–°–∫—Ä—ã–≤–∞–µ—Ç —Å–ª–æ–∂–Ω—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É –∑–∞ –ø—Ä–æ—Å—Ç—ã–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º</li>
<li>–ó–∞ —Ñ–∞—Å–∞–¥–æ–º —Å—Ç–æ–∏—Ç –º–Ω–æ–≥–æ –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–π, –±–æ–ª—å—à–æ–µ API</li>
</ul>
<hr />
<h2 id="–†–∞–∑–Ω–æ–æ–±—Ä–∞–∑–∏–µ-—Ä–µ–∞–ª–∏–∑–∞—Ü–∏–π-–≤-javascript"><a class="header" href="#–†–∞–∑–Ω–æ–æ–±—Ä–∞–∑–∏–µ-—Ä–µ–∞–ª–∏–∑–∞—Ü–∏–π-–≤-javascript">–†–∞–∑–Ω–æ–æ–±—Ä–∞–∑–∏–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–π –≤ JavaScript</a></h2>
<h3 id="–ü–æ—á–µ–º—É-–≤-javascript-—Ç–∞–∫-–º–Ω–æ–≥–æ-–≤–∞—Ä–∏–∞–Ω—Ç–æ–≤"><a class="header" href="#–ü–æ—á–µ–º—É-–≤-javascript-—Ç–∞–∫-–º–Ω–æ–≥–æ-–≤–∞—Ä–∏–∞–Ω—Ç–æ–≤">–ü–æ—á–µ–º—É –≤ JavaScript —Ç–∞–∫ –º–Ω–æ–≥–æ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤?</a></h3>
<p>–í –æ—Ç–ª–∏—á–∏–µ –æ—Ç —è–∑—ã–∫–æ–≤ —Å–æ —Å—Ç—Ä–æ–≥–æ–π —Ç–∏–ø–∏–∑–∞—Ü–∏–µ–π (Java, C#), –≥–¥–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã —Ä–µ–∞–ª–∏–∑—É—é—Ç—Å—è –ø–æ —á–µ—Ç–∫–æ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–º "—Ä–µ—Ü–µ–ø—Ç–∞–º", JavaScript –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –æ–≥—Ä–æ–º–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π –±–ª–∞–≥–æ–¥–∞—Ä—è:</p>
<ul>
<li>–ì–∏–±–∫–æ—Å—Ç–∏ —è–∑—ã–∫–∞</li>
<li>–ü–æ–¥–¥–µ—Ä–∂–∫–µ —Ä–∞–∑–Ω—ã—Ö –ø–∞—Ä–∞–¥–∏–≥–º (–û–û–ü, —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ)</li>
<li>–î–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–π —Ç–∏–ø–∏–∑–∞—Ü–∏–∏</li>
<li>–ó–∞–º—ã–∫–∞–Ω–∏—è–º –∏ —Ñ—É–Ω–∫—Ü–∏—è–º –≤—ã—Å—à–µ–≥–æ –ø–æ—Ä—è–¥–∫–∞</li>
<li>–ü—Ä–æ—Ç–æ—Ç–∏–ø–Ω–æ–º—É –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏—é</li>
</ul>
<h3 id="–û—Å–Ω–æ–≤–Ω—ã–µ-–ø–æ–¥—Ö–æ–¥—ã-–∫-—Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏-–∞–¥–∞–ø—Ç–µ—Ä–∞"><a class="header" href="#–û—Å–Ω–æ–≤–Ω—ã–µ-–ø–æ–¥—Ö–æ–¥—ã-–∫-—Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏-–∞–¥–∞–ø—Ç–µ—Ä–∞">–û—Å–Ω–æ–≤–Ω—ã–µ –ø–æ–¥—Ö–æ–¥—ã –∫ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –∞–¥–∞–ø—Ç–µ—Ä–∞</a></h3>
<h4 id="1-–ë–æ–∫—Å–∏–Ω–≥-boxing"><a class="header" href="#1-–ë–æ–∫—Å–∏–Ω–≥-boxing">1. –ë–æ–∫—Å–∏–Ω–≥ (Boxing)</a></h4>
<p>–ü–æ–º–µ—â–µ–Ω–∏–µ –æ–¥–Ω–æ–≥–æ —ç–∫–∑–µ–º–ø–ª—è—Ä–∞ –∫–ª–∞—Å—Å–∞ –∏–ª–∏ –æ–±—ä–µ–∫—Ç–∞ –≤–Ω—É—Ç—Ä—å –¥—Ä—É–≥–æ–≥–æ.</p>
<p><strong>–ü—Ä–∏–º–µ—Ä: –ê–¥–∞–ø—Ç–µ—Ä –¥–ª—è —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã —Å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º Map</strong></p>
<pre><code class="language-javascript">// –ê–¥–∞–ø—Ç–µ—Ä Map –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º–æ–π
class FileSystemMap {
  #api;
  #path;

  constructor(api, path) {
    this.#api = api;
    this.#path = path;
  }

  async set(key, value) {
    const filePath = `${this.#path}/${key}`;
    await this.#api.writeFile(filePath, JSON.stringify(value));
  }

  async get(key) {
    const filePath = `${this.#path}/${key}`;
    try {
      const data = await this.#api.readFile(filePath, 'utf8');
      return JSON.parse(data);
    } catch (err) {
      return undefined;
    }
  }

  async delete(key) {
    const filePath = `${this.#path}/${key}`;
    await this.#api.unlink(filePath);
  }

  get size() {
    // –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –ø–æ–¥—Å—á–µ—Ç–∞ —Ñ–∞–π–ª–æ–≤
  }

  async keys() {
    const files = await this.#api.readdir(this.#path);
    return files;
  }
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
const dictionary = new FileSystemMap(fs.promises, './data');
await dictionary.set('key1', { value: 'data' });
const value = await dictionary.get('key1');
</code></pre>
<p><strong>–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:</strong></p>
<ul>
<li>–ï–¥–∏–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å Map –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Ä–∞–∑–Ω—ã–º–∏ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞–º–∏</li>
<li>–ú–æ–∂–Ω–æ –ª–µ–≥–∫–æ –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç—å—Å—è –º–µ–∂–¥—É –ø–∞–º—è—Ç—å—é, —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º–æ–π, –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö</li>
<li>–ü—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å –¥–ª—è –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–≥–æ –∫–æ–¥–∞</li>
</ul>
<h4 id="2-–§—É–Ω–∫—Ü–∏–∏-–æ–±—ë—Ä—Ç–∫–∏-wrapper-functions"><a class="header" href="#2-–§—É–Ω–∫—Ü–∏–∏-–æ–±—ë—Ä—Ç–∫–∏-wrapper-functions">2. –§—É–Ω–∫—Ü–∏–∏-–æ–±—ë—Ä—Ç–∫–∏ (Wrapper Functions)</a></h4>
<p>–§—É–Ω–∫—Ü–∏–∏, –∫–æ—Ç–æ—Ä—ã–µ –æ–±–æ—Ä–∞—á–∏–≤–∞—é—Ç –¥—Ä—É–≥–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏, –ø—Ä–µ–æ–±—Ä–∞–∑—É—è –∏—Ö –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å.</p>
<p><strong>–ü—Ä–∏–º–µ—Ä: promisify - –∞–¥–∞–ø—Ç–µ—Ä callback-last –∫ –ø—Ä–æ–º–∏—Å–∞–º</strong></p>
<pre><code class="language-javascript">// –ê–¥–∞–ø—Ç–µ—Ä –æ—Ç callback-—Å—Ç–∏–ª—è –∫ Promise-—Å—Ç–∏–ª—é
function promisify(fn) {
  return (...args) =&gt; {
    return new Promise((resolve, reject) =&gt; {
      fn(...args, (err, result) =&gt; {
        if (err) reject(err);
        else resolve(result);
      });
    });
  };
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
const fs = require('fs');
const readFile = promisify(fs.readFile);

// –¢–µ–ø–µ—Ä—å –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å async/await
const data = await readFile('file.txt', 'utf8');
</code></pre>
<p><strong>–ö–ª—é—á–µ–≤—ã–µ –º–æ–º–µ–Ω—Ç—ã:</strong></p>
<ul>
<li><code>promisify</code> –ø—Ä–∏–Ω–∏–º–∞–µ—Ç —Ñ—É–Ω–∫—Ü–∏—é —Å callback-last —Å—Ç–∏–ª–µ–º</li>
<li>–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ñ—É–Ω–∫—Ü–∏—é, –∫–æ—Ç–æ—Ä–∞—è –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç Promise</li>
<li>–í–Ω—É—Ç—Ä–∏ —Å–æ–∑–¥–∞–µ—Ç—Å—è callback, –∫–æ—Ç–æ—Ä—ã–π resolve/reject –ø—Ä–æ–º–∏—Å</li>
</ul>
<h4 id="3-–ö–æ–º–ø–æ–∑–∏—Ü–∏—è-vs-–ê–≥—Ä–µ–≥–∞—Ü–∏—è"><a class="header" href="#3-–ö–æ–º–ø–æ–∑–∏—Ü–∏—è-vs-–ê–≥—Ä–µ–≥–∞—Ü–∏—è">3. –ö–æ–º–ø–æ–∑–∏—Ü–∏—è vs –ê–≥—Ä–µ–≥–∞—Ü–∏—è</a></h4>
<p><strong>–ö–æ–º–ø–æ–∑–∏—Ü–∏—è:</strong></p>
<ul>
<li>–ê–±—Å—Ç—Ä–∞–∫—Ü–∏—è —Å–æ–∑–¥–∞–µ—Ç—Å—è –≤–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞ –∞–¥–∞–ø—Ç–µ—Ä–∞</li>
<li>–ê–¥–∞–ø—Ç–µ—Ä –≤–ª–∞–¥–µ–µ—Ç —Å–æ–∑–¥–∞–Ω–Ω—ã–º –æ–±—ä–µ–∫—Ç–æ–º</li>
</ul>
<p><strong>–ê–≥—Ä–µ–≥–∞—Ü–∏—è:</strong></p>
<ul>
<li>–ê–±—Å—Ç—Ä–∞–∫—Ü–∏—è –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è –≤ –∞–¥–∞–ø—Ç–µ—Ä —Å–Ω–∞—Ä—É–∂–∏ (—á–µ—Ä–µ–∑ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –∏–ª–∏ —Å–µ—Ç—Ç–µ—Ä)</li>
<li>–ê–¥–∞–ø—Ç–µ—Ä —Ç–æ–ª—å–∫–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø–µ—Ä–µ–¥–∞–Ω–Ω—ã–π –æ–±—ä–µ–∫—Ç</li>
</ul>
<p><strong>–ü—Ä–∏–º–µ—Ä –∫–æ–º–ø–æ–∑–∏—Ü–∏–∏: –¢–∞–π–º–µ—Ä —Å setInterval</strong></p>
<pre><code class="language-javascript">class Timer {
  #interval;
  #counter = 0;
  #resolve;

  constructor(delay) {
    // –ö–æ–º–ø–æ–∑–∏—Ü–∏—è - —Å–æ–∑–¥–∞–µ–º setInterval –≤–Ω—É—Ç—Ä–∏
    this.#interval = setInterval(() =&gt; {
      this.#counter++;
      if (this.#resolve) {
        this.#resolve(this.#counter);
      }
    }, delay);
  }

  // –†–µ–∞–ª–∏–∑–∞—Ü–∏—è async iterator
  [Symbol.asyncIterator]() {
    return {
      next: () =&gt; {
        return new Promise((resolve) =&gt; {
          this.#resolve = (value) =&gt; {
            resolve({ value, done: false });
          };
        });
      }
    };
  }

  stop() {
    clearInterval(this.#interval);
  }
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
const timer = new Timer(1000);
for await (const tick of timer) {
  console.log(`Tick: ${tick}`);
  if (tick &gt;= 5) {
    timer.stop();
    break;
  }
}
</code></pre>
<p><strong>–ü—Ä–∏–º–µ—Ä –∞–≥—Ä–µ–≥–∞—Ü–∏–∏:</strong></p>
<pre><code class="language-javascript">class RequestAdapter {
  #request;

  constructor(request) {
    // –ê–≥—Ä–µ–≥–∞—Ü–∏—è - –ø–æ–ª—É—á–∞–µ–º –æ–±—ä–µ–∫—Ç –∏–∑–≤–Ω–µ
    this.#request = request;
  }

  async get(url) {
    return this.#request({ method: 'GET', url });
  }

  async post(url, data) {
    return this.#request({ method: 'POST', url, body: data });
  }
}
</code></pre>
<h4 id="4-–†–µ–∞–ª–∏–∑–∞—Ü–∏—è-–Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤"><a class="header" href="#4-–†–µ–∞–ª–∏–∑–∞—Ü–∏—è-–Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤">4. –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤</a></h4>
<p>–û–¥–Ω–∞ –∞–±—Å—Ç—Ä–∞–∫—Ü–∏—è –º–æ–∂–µ—Ç –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤—ã–≤–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤ - "—É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–∞—è —Ä–æ–∑–µ—Ç–∫–∞".</p>
<p><strong>–ü—Ä–∏–º–µ—Ä: NodeEventTarget (EventEmitter + EventTarget)</strong></p>
<pre><code class="language-javascript">// –í Node.js –µ—Å—Ç—å –∫–ª–∞—Å—Å, –∫–æ—Ç–æ—Ä—ã–π —Å–æ–≤–º–µ—â–∞–µ—Ç –æ–±–∞ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
const { EventTarget } = require('events');

class UniversalEventBus extends EventTarget {
  // –ú–µ—Ç–æ–¥—ã EventTarget: addEventListener, removeEventListener, dispatchEvent

  // –î–æ–±–∞–≤–ª—è–µ–º –º–µ—Ç–æ–¥—ã EventEmitter
  on(event, listener) {
    this.addEventListener(event, listener);
  }

  emit(event, data) {
    this.dispatchEvent(new Event(event, { data }));
  }

  off(event, listener) {
    this.removeEventListener(event, listener);
  }
}

// –¢–µ–ø–µ—Ä—å –∫–æ–¥ —Ä–∞–±–æ—Ç–∞–µ—Ç –∏ –Ω–∞ —Ñ—Ä–æ–Ω—Ç–µ, –∏ –≤ Node.js
const bus = new UniversalEventBus();
bus.on('message', (e) =&gt; console.log(e.data));
bus.emit('message', { text: 'Hello' });
</code></pre>
<p><strong>–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è:</strong></p>
<ul>
<li>–ù–µ –≤—Å–µ–≥–¥–∞ –≤–æ–∑–º–æ–∂–Ω–æ —Å–æ–≤–º–µ—Å—Ç–∏—Ç—å –Ω–µ—Å–æ–≤–º–µ—Å—Ç–∏–º—ã–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã</li>
<li>–ê–Ω–∞–ª–æ–≥–∏—è: –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π –ø–µ—Ä–µ—Ö–æ–¥–Ω–∏–∫ –¥–ª—è –∫–æ—Å–º–∏—á–µ—Å–∫–æ–≥–æ –∫–æ—Ä–∞–±–ª—è –∏ –æ–±—ã—á–Ω–æ–π —Ä–æ–∑–µ—Ç–∫–∏</li>
</ul>
<h4 id="5-revealing-constructor-pattern"><a class="header" href="#5-revealing-constructor-pattern">5. Revealing Constructor Pattern</a></h4>
<p>–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞ –¥–ª—è –ø–µ—Ä–µ–¥–∞—á–∏ –ø–æ–≤–µ–¥–µ–Ω–∏—è –≤–º–µ—Å—Ç–æ –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è.</p>
<p><strong>–ü—Ä–∏–º–µ—Ä: Readable Stream</strong></p>
<pre><code class="language-javascript">const { Readable } = require('stream');

// –í–º–µ—Å—Ç–æ –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è –ø–µ—Ä–µ–¥–∞–µ–º —Ñ—É–Ω–∫—Ü–∏—é read –≤ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä
const readable = new Readable({
  read(size) {
    // –ö–∞—Å—Ç–æ–º–Ω–∞—è –ª–æ–≥–∏–∫–∞ —á—Ç–µ–Ω–∏—è
    this.push(data);
  }
});
</code></pre>
<hr />
<h2 id="–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ-–ø—Ä–∏–º–µ—Ä—ã-–∞–¥–∞–ø—Ç–µ—Ä–æ–≤"><a class="header" href="#–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ-–ø—Ä–∏–º–µ—Ä—ã-–∞–¥–∞–ø—Ç–µ—Ä–æ–≤">–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–∏–º–µ—Ä—ã –∞–¥–∞–ø—Ç–µ—Ä–æ–≤</a></h2>
<h3 id="1-–ê–¥–∞–ø—Ç–µ—Ä-–¥–ª—è-–∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö-–∏—Ç–µ—Ä–∞—Ç–æ—Ä–æ–≤-—Å-—Ç–∞–π–º–µ—Ä–æ–º"><a class="header" href="#1-–ê–¥–∞–ø—Ç–µ—Ä-–¥–ª—è-–∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö-–∏—Ç–µ—Ä–∞—Ç–æ—Ä–æ–≤-—Å-—Ç–∞–π–º–µ—Ä–æ–º">1. –ê–¥–∞–ø—Ç–µ—Ä –¥–ª—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö –∏—Ç–µ—Ä–∞—Ç–æ—Ä–æ–≤ —Å —Ç–∞–π–º–µ—Ä–æ–º</a></h3>
<pre><code class="language-javascript">class Timer {
  #interval;
  #counter = 0;
  #resolve;

  constructor(delay) {
    this.#interval = setInterval(() =&gt; {
      this.#counter++;
      if (this.#resolve) {
        this.#resolve(this.#counter);
      }
    }, delay);
  }

  [Symbol.asyncIterator]() {
    return {
      next: () =&gt; {
        return new Promise((resolve) =&gt; {
          this.#resolve = (value) =&gt; {
            resolve({ value, done: false });
          };
        });
      }
    };
  }
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
for await (const count of new Timer(1000)) {
  console.log(count); // 1, 2, 3, ...
}
</code></pre>
<h3 id="2-–ê–¥–∞–ø—Ç–µ—Ä-–º–∞—Å—Å–∏–≤–∞-–∫-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É-–æ—á–µ—Ä–µ–¥–∏"><a class="header" href="#2-–ê–¥–∞–ø—Ç–µ—Ä-–º–∞—Å—Å–∏–≤–∞-–∫-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É-–æ—á–µ—Ä–µ–¥–∏">2. –ê–¥–∞–ø—Ç–µ—Ä –º–∞—Å—Å–∏–≤–∞ –∫ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É –æ—á–µ—Ä–µ–¥–∏</a></h3>
<pre><code class="language-javascript">// –§—É–Ω–∫—Ü–∏—è-–∞–¥–∞–ø—Ç–µ—Ä –¥–æ–±–∞–≤–ª—è–µ—Ç –º–µ—Ç–æ–¥—ã –æ—á–µ—Ä–µ–¥–∏ –∫ –º–∞—Å—Å–∏–≤—É
function arrayToQueue(arr) {
  arr.enqueue = function(item) {
    this.push(item);
  };

  arr.dequeue = function() {
    return this.shift();
  };

  arr.peek = function() {
    return this[0];
  };

  return arr;
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
const queue = arrayToQueue([]);
queue.enqueue(1);
queue.enqueue(2);
console.log(queue.dequeue()); // 1
</code></pre>
<h3 id="3-–ê–¥–∞–ø—Ç–µ—Ä-–º–µ–∂–¥—É-–ø–∞—Ä–∞–¥–∏–≥–º–∞–º–∏-–û–û–ü--–§–ü"><a class="header" href="#3-–ê–¥–∞–ø—Ç–µ—Ä-–º–µ–∂–¥—É-–ø–∞—Ä–∞–¥–∏–≥–º–∞–º–∏-–û–û–ü--–§–ü">3. –ê–¥–∞–ø—Ç–µ—Ä –º–µ–∂–¥—É –ø–∞—Ä–∞–¥–∏–≥–º–∞–º–∏ (–û–û–ü ‚Üî –§–ü)</a></h3>
<pre><code class="language-javascript">// –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π —Å—Ç–∏–ª—å
const map = (fn) =&gt; (arr) =&gt; arr.map(fn);
const filter = (predicate) =&gt; (arr) =&gt; arr.filter(predicate);

// –ê–¥–∞–ø—Ç–µ—Ä –∫ –û–û–ü —Å—Ç–∏–ª—é
class Collection {
  #data;

  constructor(data) {
    this.#data = data;
  }

  map(fn) {
    return new Collection(map(fn)(this.#data));
  }

  filter(predicate) {
    return new Collection(filter(predicate)(this.#data));
  }

  toArray() {
    return this.#data;
  }
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
const result = new Collection([1, 2, 3, 4])
  .map(x =&gt; x * 2)
  .filter(x =&gt; x &gt; 4)
  .toArray(); // [6, 8]
</code></pre>
<hr />
<h2 id="–ê–¥–∞–ø—Ç–µ—Ä—ã-–∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤-–∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç–∏"><a class="header" href="#–ê–¥–∞–ø—Ç–µ—Ä—ã-–∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤-–∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç–∏">–ê–¥–∞–ø—Ç–µ—Ä—ã –∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç–∏</a></h2>
<h3 id="callback-last--promise"><a class="header" href="#callback-last--promise">Callback-last ‚Üí Promise</a></h3>
<pre><code class="language-javascript">function promisify(fn) {
  return (...args) =&gt; {
    return new Promise((resolve, reject) =&gt; {
      fn(...args, (err, result) =&gt; {
        if (err) reject(err);
        else resolve(result);
      });
    });
  };
}
</code></pre>
<h3 id="promise--callback"><a class="header" href="#promise--callback">Promise ‚Üí Callback</a></h3>
<pre><code class="language-javascript">function callbackify(fn) {
  return (...args) =&gt; {
    const callback = args.pop();

    fn(...args)
      .then(result =&gt; callback(null, result))
      .catch(err =&gt; callback(err));
  };
}
</code></pre>
<h3 id="async-iterator--stream"><a class="header" href="#async-iterator--stream">Async Iterator ‚Üí Stream</a></h3>
<pre><code class="language-javascript">const { Readable } = require('stream');

async function* generator() {
  for (let i = 0; i &lt; 10; i++) {
    yield i;
  }
}

// –ê–¥–∞–ø—Ç–µ—Ä
const stream = Readable.from(generator());
</code></pre>
<hr />
<h2 id="–í–∞–∂–Ω—ã–µ-–∫–æ–Ω—Ü–µ–ø—Ü–∏–∏"><a class="header" href="#–í–∞–∂–Ω—ã–µ-–∫–æ–Ω—Ü–µ–ø—Ü–∏–∏">–í–∞–∂–Ω—ã–µ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏</a></h2>
<h3 id="–ö–ª–∏–µ–Ω—Ç-–≤-javascript"><a class="header" href="#–ö–ª–∏–µ–Ω—Ç-–≤-javascript">–ö–ª–∏–µ–Ω—Ç –≤ JavaScript</a></h3>
<p><strong>–ö–ª—é—á–µ–≤–æ–µ –æ—Ç–ª–∏—á–∏–µ –æ—Ç Java/C#:</strong></p>
<p>–í —Å—Ç—Ä–æ–≥–æ —Ç–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —è–∑—ã–∫–∞—Ö –∫–ª–∏–µ–Ω—Ç–æ–º –≤—Å–µ–≥–¥–∞ —è–≤–ª—è–µ—Ç—Å—è –¥—Ä—É–≥–∞—è –∞–±—Å—Ç—Ä–∞–∫—Ü–∏—è (–∫–ª–∞—Å—Å), –ø–æ—Ç–æ–º—É —á—Ç–æ –∫–æ–¥ –º–æ–∂–µ—Ç —Å—É—â–µ—Å—Ç–≤–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ –≤–Ω—É—Ç—Ä–∏ –º–µ—Ç–æ–¥–æ–≤ –∫–ª–∞—Å—Å–æ–≤.</p>
<p>–í JavaScript –∫–ª–∏–µ–Ω—Ç–æ–º –º–æ–∂–µ—Ç –±—ã—Ç—å:</p>
<ul>
<li>–ö–æ–¥ –≤ –º–æ–¥—É–ª–µ (top-level)</li>
<li>–ö–æ–¥ –≤–Ω—É—Ç—Ä–∏ —Ñ—É–Ω–∫—Ü–∏–∏</li>
<li>–ö–æ–¥ –≤ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–µ —Å–æ–±—ã—Ç–∏—è</li>
<li>–ö–æ–¥ –≤ –ª—é–±–æ–º –¥—Ä—É–≥–æ–º –º–µ—Å—Ç–µ</li>
</ul>
<p><strong>–ü—Ä–∏–º–µ—Ä:</strong></p>
<pre><code class="language-javascript">// usage.js - —ç—Ç–æ –∏ –µ—Å—Ç—å –∫–ª–∏–µ–Ω—Ç
const timer = new Timer(1000);

for await (const tick of timer) {
  console.log(tick);
}
</code></pre>
<h3 id="–ü—Ä–æ—Ç–æ—Ç–∏–ø–Ω—ã–π-—Å—Ç–∏–ª—å-legacy"><a class="header" href="#–ü—Ä–æ—Ç–æ—Ç–∏–ø–Ω—ã–π-—Å—Ç–∏–ª—å-legacy">–ü—Ä–æ—Ç–æ—Ç–∏–ø–Ω—ã–π —Å—Ç–∏–ª—å (Legacy)</a></h3>
<p><strong>–°—Ç–∞—Ä—ã–π —Å—Ç–∏–ª—å:</strong></p>
<pre><code class="language-javascript">function Timer(delay) {
  this.counter = 0;
  this.interval = setInterval(() =&gt; {
    this.counter++;
  }, delay);
}

Timer.prototype.stop = function() {
  clearInterval(this.interval);
};

Object.defineProperty(Timer.prototype, 'count', {
  get: function() {
    return this.counter;
  }
});
</code></pre>
<p><strong>–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π —Å—Ç–∏–ª—å (–ø—Ä–µ–¥–ø–æ—á—Ç–∏—Ç–µ–ª—å–Ω—ã–π):</strong></p>
<pre><code class="language-javascript">class Timer {
  #counter = 0;
  #interval;

  constructor(delay) {
    this.#interval = setInterval(() =&gt; {
      this.#counter++;
    }, delay);
  }

  stop() {
    clearInterval(this.#interval);
  }

  get count() {
    return this.#counter;
  }
}
</code></pre>
<hr />
<h2 id="–ö—É–ª—å—Ç—É—Ä–Ω—ã–µ-—Ä–∞–∑–ª–∏—á–∏—è-–≤-—Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏-–ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤"><a class="header" href="#–ö—É–ª—å—Ç—É—Ä–Ω—ã–µ-—Ä–∞–∑–ª–∏—á–∏—è-–≤-—Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏-–ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤">–ö—É–ª—å—Ç—É—Ä–Ω—ã–µ —Ä–∞–∑–ª–∏—á–∏—è –≤ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤</a></h2>
<h3 id="–ü—Ä–æ–±–ª–µ–º–∞-–ø—Ä—è–º–æ–≥–æ-–ø–µ—Ä–µ–Ω–æ—Å–∞-–∏–∑-–¥—Ä—É–≥–∏—Ö-—è–∑—ã–∫–æ–≤"><a class="header" href="#–ü—Ä–æ–±–ª–µ–º–∞-–ø—Ä—è–º–æ–≥–æ-–ø–µ—Ä–µ–Ω–æ—Å–∞-–∏–∑-–¥—Ä—É–≥–∏—Ö-—è–∑—ã–∫–æ–≤">–ü—Ä–æ–±–ª–µ–º–∞ –ø—Ä—è–º–æ–≥–æ –ø–µ—Ä–µ–Ω–æ—Å–∞ –∏–∑ –¥—Ä—É–≥–∏—Ö —è–∑—ã–∫–æ–≤</a></h3>
<p>–ú–Ω–æ–≥–∏–µ –∫–Ω–∏–≥–∏ –∏ —Å—Ç–∞—Ç—å–∏ –æ –ø–∞—Ç—Ç–µ—Ä–Ω–∞—Ö –ø—Ä–æ—Å—Ç–æ –ø–µ—Ä–µ–≤–æ–¥—è—Ç –∫–æ–¥ —Å Java/C# –Ω–∞ JavaScript <strong>—Å–ª–æ–≤–æ –≤ —Å–ª–æ–≤–æ</strong>, –Ω–µ –∞–¥–∞–ø—Ç–∏—Ä—É—è –µ–≥–æ –ø–æ–¥:</p>
<ul>
<li>–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ —è–∑—ã–∫–∞</li>
<li>–ò–¥–∏–æ–º—ã –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã (Node.js vs Browser)</li>
<li>–ö—É–ª—å—Ç—É—Ä—É JavaScript-—Å–æ–æ–±—â–µ—Å—Ç–≤–∞</li>
</ul>
<p><strong>–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø–æ–¥—Ö–æ–¥:</strong></p>
<pre><code class="language-javascript">// –ü—Ä—è–º–æ–π –ø–µ—Ä–µ–≤–æ–¥ —Å Java
class AdapterImpl extends Adaptee implements Target {
  // –ö–æ–¥ –≤—ã–≥–ª—è–¥–∏—Ç –∫–∞–∫ Java –Ω–∞ JavaScript
}
</code></pre>
<p><strong>–ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø–æ–¥—Ö–æ–¥:</strong></p>
<pre><code class="language-javascript">// –ò–¥–∏–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π JavaScript
const adapter = (adaptee) =&gt; ({
  method: () =&gt; adaptee.legacyMethod(),
  // –ò—Å–ø–æ–ª—å–∑—É–µ–º –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ —è–∑—ã–∫–∞
});
</code></pre>
<h3 id="–ê–¥–∞–ø—Ç–∞—Ü–∏—è-–ø–æ–¥-–∫—É–ª—å—Ç—É—Ä—É-–ø–ª–∞—Ç—Ñ–æ—Ä–º—ã"><a class="header" href="#–ê–¥–∞–ø—Ç–∞—Ü–∏—è-–ø–æ–¥-–∫—É–ª—å—Ç—É—Ä—É-–ø–ª–∞—Ç—Ñ–æ—Ä–º—ã">–ê–¥–∞–ø—Ç–∞—Ü–∏—è –ø–æ–¥ –∫—É–ª—å—Ç—É—Ä—É –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã</a></h3>
<p><strong>–ü—Ä–∏–º–µ—Ä –∫—É–ª—å—Ç—É—Ä–Ω—ã—Ö —Ä–∞–∑–ª–∏—á–∏–π:</strong></p>
<p>–í Node.js –ø—Ä–∏–Ω—è—Ç–æ:</p>
<ul>
<li>–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å callback-last, error-first</li>
<li>–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å EventEmitter</li>
<li>–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Streams</li>
</ul>
<p>–í –±—Ä–∞—É–∑–µ—Ä–µ –ø—Ä–∏–Ω—è—Ç–æ:</p>
<ul>
<li>–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å EventTarget</li>
<li>–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Promise/async-await</li>
<li>–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Web APIs</li>
</ul>
<p><strong>–£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π –∞–¥–∞–ø—Ç–µ—Ä:</strong></p>
<pre><code class="language-javascript">// –†–∞–±–æ—Ç–∞–µ—Ç –∏ –≤ Node.js, –∏ –≤ –±—Ä–∞—É–∑–µ—Ä–µ
class UniversalTimer {
  constructor(delay) {
    if (typeof setInterval === 'function') {
      // –ë—Ä–∞—É–∑–µ—Ä –∏–ª–∏ Node.js
      this.timer = setInterval(this.tick.bind(this), delay);
    }
  }

  tick() {
    // –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–∞—è –ª–æ–≥–∏–∫–∞
  }
}
</code></pre>
<hr />
<h2 id="–°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ-—Å–ª—É—á–∞–∏-–∏-–Ω—é–∞–Ω—Å—ã"><a class="header" href="#–°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ-—Å–ª—É—á–∞–∏-–∏-–Ω—é–∞–Ω—Å—ã">–°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ —Å–ª—É—á–∞–∏ –∏ –Ω—é–∞–Ω—Å—ã</a></h2>
<h3 id="await-—Å-–Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–π-—Ä–µ–∞–ª–∏–∑–∞—Ü–∏–µ–π"><a class="header" href="#await-—Å-–Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–π-—Ä–µ–∞–ª–∏–∑–∞—Ü–∏–µ–π">Await —Å –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–µ–π</a></h3>
<p><strong>–ü—Ä–æ–±–ª–µ–º–∞:</strong> –ë–µ—Å–∫–æ–Ω–µ—á–Ω–∞—è —Ä–µ–∫—É—Ä—Å–∏—è –ø—Ä–∏ <code>await</code> —Ñ—É–Ω–∫—Ü–∏–∏, –∫–æ—Ç–æ—Ä–∞—è –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø—Ä–æ–º–∏—Å</p>
<pre><code class="language-javascript">// –ù–ï–ü–†–ê–í–ò–õ–¨–ù–û - –≤—ã–∑–æ–≤–µ—Ç –ø–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω–∏–µ —Å—Ç–µ–∫–∞
async function recurse() {
  return await recurse();
}
</code></pre>
<p><strong>–û–±—ä—è—Å–Ω–µ–Ω–∏–µ:</strong></p>
<ol>
<li>–§—É–Ω–∫—Ü–∏—è –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è</li>
<li><code>await</code> –∂–¥–µ—Ç –ø—Ä–æ–º–∏—Å</li>
<li>–§—É–Ω–∫—Ü–∏—è –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è —Ä–µ–∫—É—Ä—Å–∏–≤–Ω–æ —Å–Ω–æ–≤–∞</li>
<li>–û—á–µ—Ä–µ–¥—å –º–∏–∫—Ä–æ—Ç–∞—Å–∫–æ–≤ –Ω–µ —É—Å–ø–µ–≤–∞–µ—Ç –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å—Å—è</li>
<li>–°—Ç–µ–∫ –ø–µ—Ä–µ–ø–æ–ª–Ω—è–µ—Ç—Å—è</li>
</ol>
<p><strong>–ü—Ä–∞–≤–∏–ª—å–Ω–æ:</strong> –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å <code>await</code> —Å–æ —Å–∫–∞–ª—è—Ä–Ω—ã–º –∑–Ω–∞—á–µ–Ω–∏–µ–º</p>
<pre><code class="language-javascript">async function safe() {
  return await null; // –†–∞–±–æ—Ç–∞–µ—Ç - –∑–∞–≥–ª—É—à–∫–∞ –ø—Ä–æ–ø—É—Å–∫–∞–µ—Ç null —á–µ—Ä–µ–∑ await
}
</code></pre>
<p><strong>–ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:</strong></p>
<p>–í JavaScript –µ—Å—Ç—å –≤—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è –∑–∞–≥–ª—É—à–∫–∞, –∫–æ—Ç–æ—Ä–∞—è:</p>
<ol>
<li>–û–±–æ—Ä–∞—á–∏–≤–∞–µ—Ç —Å–∫–∞–ª—è—Ä—ã –≤ –ø—Ä–æ–º–∏—Å</li>
<li>–ü—Ä–æ–º–∏—Å —Ä–µ–∑–æ–ª–≤–∏—Ç—Å—è</li>
<li>–û—á–µ—Ä–µ–¥—å –º–∏–∫—Ä–æ—Ç–∞—Å–∫–æ–≤ –ø—Ä–æ–∫—Ä—É—á–∏–≤–∞–µ—Ç—Å—è</li>
<li>–†–µ–∫—É—Ä—Å–∏—è –ø—Ä–µ—Ä—ã–≤–∞–µ—Ç—Å—è</li>
</ol>
<h3 id="–ü—Ä–∏–º–µ—Å–∏-mixins-vs-–ê–¥–∞–ø—Ç–µ—Ä—ã"><a class="header" href="#–ü—Ä–∏–º–µ—Å–∏-mixins-vs-–ê–¥–∞–ø—Ç–µ—Ä—ã">–ü—Ä–∏–º–µ—Å–∏ (Mixins) vs –ê–¥–∞–ø—Ç–µ—Ä—ã</a></h3>
<p><strong>–ü—Ä–∏–º–µ—Å—å - —ç—Ç–æ –ù–ï –∞–¥–∞–ø—Ç–µ—Ä</strong>, –µ—Å–ª–∏ –æ–Ω–∞:</p>
<ul>
<li>–ü—Ä–æ—Å—Ç–æ –¥–æ–±–∞–≤–ª—è–µ—Ç –ø–æ–ª—è –∫ –æ–±—ä–µ–∫—Ç—É</li>
<li>–ù–µ –ø—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å</li>
<li>–ù–µ –∏–Ω–∫–∞–ø—Å—É–ª–∏—Ä—É–µ—Ç –¥—Ä—É–≥—É—é –∞–±—Å—Ç—Ä–∞–∫—Ü–∏—é</li>
</ul>
<p><strong>–ü—Ä–∏–º–µ—Å—å:</strong></p>
<pre><code class="language-javascript">function addToken(obj, token) {
  obj.token = token; // –ü—Ä–æ—Å—Ç–æ –¥–æ–±–∞–≤–∏–ª–∏ –ø–æ–ª–µ
  return obj;
}
</code></pre>
<p><strong>–ê–¥–∞–ø—Ç–µ—Ä:</strong></p>
<pre><code class="language-javascript">function addAuthAdapter(request, token) {
  return {
    get: (url) =&gt; request.get(url, { headers: { token } }),
    post: (url, data) =&gt; request.post(url, data, { headers: { token } })
  };
}
</code></pre>
<hr />
<h2 id="–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏-–ø–æ-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é"><a class="header" href="#–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏-–ø–æ-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é">–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é</a></h2>
<h3 id="–ö–æ–≥–¥–∞-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å-–∞–¥–∞–ø—Ç–µ—Ä"><a class="header" href="#–ö–æ–≥–¥–∞-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å-–∞–¥–∞–ø—Ç–µ—Ä">–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∞–¥–∞–ø—Ç–µ—Ä?</a></h3>
<ol>
<li><strong>–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å—Ç–æ—Ä–æ–Ω–Ω–∏—Ö –±–∏–±–ª–∏–æ—Ç–µ–∫</strong> —Å –Ω–µ—Å–æ–≤–º–µ—Å—Ç–∏–º—ã–º–∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞–º–∏</li>
<li><strong>–ú–∏–≥—Ä–∞—Ü–∏—è –º–µ–∂–¥—É —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—è–º–∏</strong> (–Ω–∞–ø—Ä–∏–º–µ—Ä, –∏–∑ –º–æ–Ω–æ–ª–∏—Ç–∞ –≤ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å—ã)</li>
<li><strong>–ö—Ä–æ—Å—Å-–ø–ª–∞—Ç—Ñ–æ—Ä–º–µ–Ω–Ω—ã–π –∫–æ–¥</strong> (Node.js + Browser)</li>
<li><strong>–ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤</strong> (callback ‚Üí promise, sync ‚Üí async)</li>
</ol>
<h3 id="–ö–æ–≥–¥–∞-–ù–ï-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å-–∞–¥–∞–ø—Ç–µ—Ä"><a class="header" href="#–ö–æ–≥–¥–∞-–ù–ï-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å-–∞–¥–∞–ø—Ç–µ—Ä">–ö–æ–≥–¥–∞ –ù–ï –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∞–¥–∞–ø—Ç–µ—Ä?</a></h3>
<ol>
<li>–ï—Å–ª–∏ –º–æ–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å –∏—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥ –Ω–∞–ø—Ä—è–º—É—é</li>
<li>–ï—Å–ª–∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã —É–∂–µ —Å–æ–≤–º–µ—Å—Ç–∏–º—ã</li>
<li>–ï—Å–ª–∏ –∞–¥–∞–ø—Ç–µ—Ä –¥–æ–±–∞–≤–ª—è–µ—Ç —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω –º–µ—Ç–æ–¥ (–∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø—Ä–æ—Å—Ç—É—é —Ñ—É–Ω–∫—Ü–∏—é)</li>
</ol>
<h3 id="–í—ã–±–æ—Ä-—Ç–∏–ø–∞-–∞–¥–∞–ø—Ç–µ—Ä–∞"><a class="header" href="#–í—ã–±–æ—Ä-—Ç–∏–ø–∞-–∞–¥–∞–ø—Ç–µ—Ä–∞">–í—ã–±–æ—Ä —Ç–∏–ø–∞ –∞–¥–∞–ø—Ç–µ—Ä–∞</a></h3>
<div class="table-wrapper"><table><thead><tr><th>–°–∏—Ç—É–∞—Ü–∏—è</th><th>–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è</th></tr></thead><tbody>
<tr><td>–ù—É–∂–Ω–æ –æ–±–µ—Ä–Ω—É—Ç—å –∫–ª–∞—Å—Å</td><td>–ë–æ–∫—Å–∏–Ω–≥ (–∫–ª–∞—Å—Å-–æ–±—ë—Ä—Ç–∫–∞)</td></tr>
<tr><td>–ù—É–∂–Ω–æ –æ–±–µ—Ä–Ω—É—Ç—å —Ñ—É–Ω–∫—Ü–∏—é</td><td>–§—É–Ω–∫—Ü–∏—è-–æ–±—ë—Ä—Ç–∫–∞</td></tr>
<tr><td>–ù—É–∂–Ω–æ –ø–æ–¥–¥–µ—Ä–∂–∞—Ç—å 2 –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞</td><td>–ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è</td></tr>
<tr><td>–ù—É–∂–Ω–∞ –≥–∏–±–∫–æ—Å—Ç—å</td><td>Revealing Constructor</td></tr>
<tr><td>–ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤</td><td>–°–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∞–¥–∞–ø—Ç–µ—Ä—ã (promisify, callbackify)</td></tr>
</tbody></table>
</div>
<hr />
<h2 id="–ö–ª—é—á–µ–≤—ã–µ-–≤—ã–≤–æ–¥—ã-25"><a class="header" href="#–ö–ª—é—á–µ–≤—ã–µ-–≤—ã–≤–æ–¥—ã-25">–ö–ª—é—á–µ–≤—ã–µ –≤—ã–≤–æ–¥—ã</a></h2>
<ol>
<li><strong>–ì–∏–±–∫–æ—Å—Ç—å JavaScript</strong> –ø–æ–∑–≤–æ–ª—è–µ—Ç —Ä–µ–∞–ª–∏–∑–æ–≤—ã–≤–∞—Ç—å –ø–∞—Ç—Ç–µ—Ä–Ω—ã –º–Ω–æ–∂–µ—Å—Ç–≤–æ–º —Å–ø–æ—Å–æ–±–æ–≤</li>
<li><strong>–ê–¥–∞–ø—Ç–µ—Ä –≤ JS</strong> ‚Äî —ç—Ç–æ –Ω–µ —Å—Ç—Ä–æ–≥–∞—è —Å—Ö–µ–º–∞, –∞ —Å–µ–º–µ–π—Å—Ç–≤–æ —Ç–µ—Ö–Ω–∏–∫ –¥–ª—è –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤</li>
<li><strong>–ö—É–ª—å—Ç—É—Ä–Ω–∞—è –∞–¥–∞–ø—Ç–∞—Ü–∏—è</strong> –≤–∞–∂–Ω–µ–µ –ø—Ä—è–º–æ–≥–æ –ø–µ—Ä–µ–Ω–æ—Å–∞ –∫–æ–¥–∞ –∏–∑ –¥—Ä—É–≥–∏—Ö —è–∑—ã–∫–æ–≤</li>
<li><strong>–ë–æ–∫—Å–∏–Ω–≥ –∏ –æ–±—ë—Ä—Ç–∫–∏</strong> ‚Äî –¥–≤–∞ –æ—Å–Ω–æ–≤–Ω—ã—Ö –ø–æ–¥—Ö–æ–¥–∞ –∫ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –∞–¥–∞–ø—Ç–µ—Ä–æ–≤</li>
<li><strong>–ö–æ–º–ø–æ–∑–∏—Ü–∏—è vs –∞–≥—Ä–µ–≥–∞—Ü–∏—è</strong> –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –≤–ª–∞–¥–µ–Ω–∏–µ –∞–¥–∞–ø—Ç–∏—Ä—É–µ–º—ã–º –æ–±—ä–µ–∫—Ç–æ–º</li>
<li><strong>–ö–ª–∏–µ–Ω—Ç–æ–º –≤ JS</strong> –º–æ–∂–µ—Ç –±—ã—Ç—å –ª—é–±–æ–π –∫–æ–¥, –Ω–µ —Ç–æ–ª—å–∫–æ –∫–ª–∞—Å—Å—ã</li>
<li><strong>–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å</strong> (–∫–ª–∞—Å—Å—ã, –ø—Ä–∏–≤–∞—Ç–Ω—ã–µ –ø–æ–ª—è) –ø—Ä–µ–¥–ø–æ—á—Ç–∏—Ç–µ–ª—å–Ω–µ–µ –ø—Ä–æ—Ç–æ—Ç–∏–ø–Ω–æ–≥–æ —Å—Ç–∏–ª—è</li>
</ol>
<hr />
<h2 id="–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ-—Ä–µ—Å—É—Ä—Å—ã-8"><a class="header" href="#–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ-—Ä–µ—Å—É—Ä—Å—ã-8">–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã</a></h2>
<h3 id="–ü—Ä–∏–º–µ—Ä—ã-–∫–æ–¥–∞-10"><a class="header" href="#–ü—Ä–∏–º–µ—Ä—ã-–∫–æ–¥–∞-10">–ü—Ä–∏–º–µ—Ä—ã –∫–æ–¥–∞</a></h3>
<p>–í—Å–µ –ø—Ä–∏–º–µ—Ä—ã –∏–∑ –ª–µ–∫—Ü–∏–∏ –¥–æ—Å—Ç—É–ø–Ω—ã –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ —Å –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–º–∏ –∑–∞–¥–∞—á–∞–º–∏ –Ω–∞ –∫–∞–∂–¥—ã–π —Ç–∏–ø –∞–¥–∞–ø—Ç–µ—Ä–∞.</p>
<h3 id="–ó–∞–¥–∞—á–∏-–¥–ª—è-–ø—Ä–∞–∫—Ç–∏–∫–∏"><a class="header" href="#–ó–∞–¥–∞—á–∏-–¥–ª—è-–ø—Ä–∞–∫—Ç–∏–∫–∏">–ó–∞–¥–∞—á–∏ –¥–ª—è –ø—Ä–∞–∫—Ç–∏–∫–∏</a></h3>
<ol>
<li>–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∞–¥–∞–ø—Ç–µ—Ä Map –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å Redis</li>
<li>–°–æ–∑–¥–∞—Ç—å –∞–¥–∞–ø—Ç–µ—Ä —Ç–∞–π–º–µ—Ä–∞ —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π AbortSignal</li>
<li>–ù–∞–ø–∏—Å–∞—Ç—å –∞–¥–∞–ø—Ç–µ—Ä –º–µ–∂–¥—É EventEmitter –∏ EventTarget</li>
<li>–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å promisify –¥–ª—è —Ñ—É–Ω–∫—Ü–∏–π —Å –Ω–µ—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–º callback</li>
<li>–°–æ–∑–¥–∞—Ç—å –∞–¥–∞–ø—Ç–µ—Ä –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º–æ–π —á–µ—Ä–µ–∑ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å Set</li>
</ol>
<h3 id="–°–≤—è–∑–∞–Ω–Ω—ã–µ-–ø–∞—Ç—Ç–µ—Ä–Ω—ã-7"><a class="header" href="#–°–≤—è–∑–∞–Ω–Ω—ã–µ-–ø–∞—Ç—Ç–µ—Ä–Ω—ã-7">–°–≤—è–∑–∞–Ω–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã</a></h3>
<ul>
<li><strong>–î–µ–∫–æ—Ä–∞—Ç–æ—Ä</strong> ‚Äî –¥–æ–±–∞–≤–ª—è–µ—Ç —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å, —Å–æ—Ö—Ä–∞–Ω—è—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å</li>
<li><strong>–§–∞—Å–∞–¥</strong> ‚Äî —É–ø—Ä–æ—â–∞–µ—Ç —Å–ª–æ–∂–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å</li>
<li><strong>–ú–æ—Å—Ç (Bridge)</strong> ‚Äî —Ä–∞–∑–¥–µ–ª—è–µ—Ç –∞–±—Å—Ç—Ä–∞–∫—Ü–∏—é –∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é</li>
<li><strong>–°—Ç—Ä–∞—Ç–µ–≥–∏—è</strong> ‚Äî –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –≤–Ω—É—Ç—Ä–∏ –∞–¥–∞–ø—Ç–µ—Ä–∞ –¥–ª—è –≤—ã–±–æ—Ä–∞ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏</li>
</ul>
<hr />
<h2 id="–ó–∞–∫–ª—é—á–µ–Ω–∏–µ-16"><a class="header" href="#–ó–∞–∫–ª—é—á–µ–Ω–∏–µ-16">–ó–∞–∫–ª—é—á–µ–Ω–∏–µ</a></h2>
<p>–ü–∞—Ç—Ç–µ—Ä–Ω –ê–¥–∞–ø—Ç–µ—Ä –≤ JavaScript ‚Äî —ç—Ç–æ –º–æ—â–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –Ω–µ—Å–æ–≤–º–µ—Å—Ç–∏–º—ã–º–∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞–º–∏. –ë–ª–∞–≥–æ–¥–∞—Ä—è –≥–∏–±–∫–æ—Å—Ç–∏ —è–∑—ã–∫–∞, –º—ã –º–æ–∂–µ–º —Å–æ–∑–¥–∞–≤–∞—Ç—å –∞–¥–∞–ø—Ç–µ—Ä—ã, –∫–æ—Ç–æ—Ä—ã–µ —ç–ª–µ–≥–∞–Ω—Ç–Ω–æ —Ä–µ—à–∞—é—Ç –ø—Ä–æ–±–ª–µ–º—ã –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏, –Ω–µ –∂–µ—Ä—Ç–≤—É—è —á–∏—Ç–∞–µ–º–æ—Å—Ç—å—é –∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å—é –∫–æ–¥–∞.</p>
<p>–ö–ª—é—á –∫ —É—Å–ø–µ—à–Ω–æ–º—É –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—é –ø–∞—Ç—Ç–µ—Ä–Ω–∞ ‚Äî –ø–æ–Ω–∏–º–∞–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∏–¥–∏–æ–º–∞—Ç–∏—á–Ω—ã—Ö –¥–ª—è JavaScript —Ä–µ—à–µ–Ω–∏–π, –∞ –Ω–µ —Å–ª–µ–ø–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–π –∏–∑ –¥—Ä—É–≥–∏—Ö —è–∑—ã–∫–æ–≤ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="week-6---events-and-messaging-asynchronous-communication-patterns"><a class="header" href="#week-6---events-and-messaging-asynchronous-communication-patterns">Week 6 - Events and Messaging: Asynchronous Communication Patterns</a></h1>
<ul>
<li><a href="week6/lecture-1-events-eventemitter.html">–°–æ–±—ã—Ç–∏—è: EventTarget, EventEmitter</a></li>
<li><a href="week6/lecture-2-observer.html">Pattern Observer</a></li>
<li>GRASP: <a href="week6/lecture-3-pure-fabrication.html">–ß–∏—Å—Ç–∞—è –≤—ã–¥—É–º–∫–∞ ‚Äî Pure fabrication</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="–õ–µ–∫—Ü–∏—è-1-events-eventtarget-eventemitter-–≤-javascript"><a class="header" href="#–õ–µ–∫—Ü–∏—è-1-events-eventtarget-eventemitter-–≤-javascript">–õ–µ–∫—Ü–∏—è 1. Events, EventTarget, EventEmitter –≤ JavaScript</a></h1>
<h2 id="–í–≤–µ–¥–µ–Ω–∏–µ-7"><a class="header" href="#–í–≤–µ–¥–µ–Ω–∏–µ-7">–í–≤–µ–¥–µ–Ω–∏–µ</a></h2>
<p>–°–æ–±—ã—Ç–∏—è (Events) ‚Äî —ç—Ç–æ –æ–¥–∏–Ω –∏–∑ —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–∞–ª—å–Ω—ã—Ö –∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç–∏ –≤ JavaScript.
–ï—Å–ª–∏ –∫–æ–ª–±—ç–∫–∏ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—é—Ç —Å–æ–±–æ–π –æ–¥–Ω—É —Ñ—É–Ω–∫—Ü–∏—é, –∫–æ—Ç–æ—Ä—É—é –∫—Ç–æ-—Ç–æ –≤—ã–∑–æ–≤–µ—Ç –ø–æ–∑–∂–µ, —Ç–æ —Å–æ–±—ã—Ç–∏—è
–ø–æ–∑–≤–æ–ª—è—é—Ç —Ö—Ä–∞–Ω–∏—Ç—å <strong>–∫–æ–ª–ª–µ–∫—Ü–∏—é —Ç–∞–∫–∏—Ö –∫–æ–ª–±—ç–∫–æ–≤</strong> –∏ –≤—ã–∑—ã–≤–∞—Ç—å –∏—Ö –ø—Ä–∏ –Ω–∞—Å—Ç—É–ø–ª–µ–Ω–∏–∏ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–≥–æ
–∏–º–µ–Ω–æ–≤–∞–Ω–Ω–æ–≥–æ –º–æ–º–µ–Ω—Ç–∞.</p>
<p>–í —ç–∫–æ—Å–∏—Å—Ç–µ–º–µ JavaScript —Å—É—â–µ—Å—Ç–≤—É—é—Ç –¥–≤–µ —Ä–æ–¥—Å—Ç–≤–µ–Ω–Ω—ã–µ, –Ω–æ —Ä–∞–∑–ª–∏—á–Ω—ã–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —ç—Ç–æ–π –∏–¥–µ–∏:</p>
<ul>
<li><code>EventTarget</code> ‚Äî —Ä–æ–¥–∏–ª–∞—Å—å –≤ –±—Ä–∞—É–∑–µ—Ä–µ –∫–∞–∫ —á–∞—Å—Ç—å Web API, –∑–∞—Ç–µ–º –±—ã–ª–∞ –ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–∞ –≤ Node.js
(–¥–æ—Å—Ç—É–ø–Ω–∞ –±–µ–∑ —Ñ–ª–∞–≥–æ–≤ –Ω–∞—á–∏–Ω–∞—è —Å Node.js 19, —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞–ª—å–Ω–æ ‚Äî —Å –≤–µ—Ä—Å–∏–π 16‚Äì17)</li>
<li><code>EventEmitter</code> ‚Äî –Ω–∞—Ç–∏–≤–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è Node.js, —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç—Å—è –∏–∑ –º–æ–¥—É–ª—è <code>node:events</code></li>
</ul>
<p>–û–±–µ –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–∏ —Å–æ–≤–º–µ—Å—Ç–∏–º—ã <strong>–ø–æ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏</strong>, –Ω–æ <strong>–Ω–µ—Å–æ–≤–º–µ—Å—Ç–∏–º—ã –ø–æ API</strong>.</p>
<hr />
<h2 id="11-eventtarget--–±—Ä–∞—É–∑–µ—Ä–Ω–∞—è-–∞–±—Å—Ç—Ä–∞–∫—Ü–∏—è"><a class="header" href="#11-eventtarget--–±—Ä–∞—É–∑–µ—Ä–Ω–∞—è-–∞–±—Å—Ç—Ä–∞–∫—Ü–∏—è">1.1 EventTarget ‚Äî –±—Ä–∞—É–∑–µ—Ä–Ω–∞—è –∞–±—Å—Ç—Ä–∞–∫—Ü–∏—è</a></h2>
<p><code>EventTarget</code> —è–≤–ª—è–µ—Ç—Å—è —á–∞—Å—Ç—å—é —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏ Web API. –ï—ë –∫–ª—é—á–µ–≤–∞—è –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç—å: –æ–¥–∏–Ω
–æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –Ω–∞ –æ–¥–Ω–æ —Å–æ–±—ã—Ç–∏–µ. –ï—Å–ª–∏ –æ–¥–∏–Ω –∏ —Ç–æ—Ç –∂–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –¥–æ–±–∞–≤–ª–µ–Ω –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–∞–∑,
–≤ –∫–æ–ª–ª–µ–∫—Ü–∏–∏ –æ–Ω –æ–∫–∞–∂–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —Ä–∞–∑.</p>
<pre><code class="language-javascript">// –ü—Ä–∏–º–µ—Ä 1. –ë–∞–∑–æ–≤–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ EventTarget

// –°–æ–∑–¥–∞—ë–º —ç–∫–∑–µ–º–ø–ª—è—Ä EventTarget
const target = new EventTarget();

// –î–æ–±–∞–≤–ª—è–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ —Å–æ–±—ã—Ç–∏—è 'data' —á–µ—Ä–µ–∑ addEventListener
// –í—Ç–æ—Ä–æ–π –∞—Ä–≥—É–º–µ–Ω—Ç ‚Äî —Ñ—É–Ω–∫—Ü–∏—è-–æ–±—Ä–∞–±–æ—Ç—á–∏–∫, –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –æ–±—ä–µ–∫—Ç Event
target.addEventListener('data', (event) =&gt; {
  // event.detail —Å–æ–¥–µ—Ä–∂–∏—Ç –ø–µ—Ä–µ–¥–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (–¥–ª—è CustomEvent)
  console.log('–ü–æ–ª—É—á–µ–Ω–æ —Å–æ–±—ã—Ç–∏–µ data:', event.detail);
});

// –°–æ–∑–¥–∞—ë–º –æ–±—ä–µ–∫—Ç —Å–æ–±—ã—Ç–∏—è —Å –ø–æ–º–æ—â—å—é CustomEvent
// CustomEvent –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ —á–µ—Ä–µ–∑ –ø–æ–ª–µ detail
const event = new CustomEvent('data', { detail: { value: 42 } });

// –û—Ç–ø—Ä–∞–≤–ª—è–µ–º —Å–æ–±—ã—Ç–∏–µ ‚Äî –≤—ã–∑–æ–≤—É—Ç—Å—è –≤—Å–µ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏
target.dispatchEvent(event);
// –í—ã–≤–æ–¥: –ü–æ–ª—É—á–µ–Ω–æ —Å–æ–±—ã—Ç–∏–µ data: { value: 42 }
</code></pre>
<pre><code class="language-javascript">// –ü—Ä–∏–º–µ—Ä 2. –î–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ –≤ EventTarget
// EventTarget –ù–ï –¥–æ–±–∞–≤–ª—è–µ—Ç –¥—É–±–ª–∏—Ä—É—é—â–∏–µ—Å—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏

const target = new EventTarget();

function handler(event) {
  console.log('–û–±—Ä–∞–±–æ—Ç—á–∏–∫ –≤—ã–∑–≤–∞–Ω, –∑–Ω–∞—á–µ–Ω–∏–µ:', event.detail.value);
}

// –î–æ–±–∞–≤–ª—è–µ–º –æ–¥–∏–Ω –∏ —Ç–æ—Ç –∂–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ —Ç—Ä–∏ —Ä–∞–∑–∞
target.addEventListener('click', handler);
target.addEventListener('click', handler);
target.addEventListener('click', handler);

// –ù–µ—Å–º–æ—Ç—Ä—è –Ω–∞ —Ç—Ä–∏ –≤—ã–∑–æ–≤–∞ addEventListener, –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ —Å–æ—Ö—Ä–∞–Ω—ë–Ω –æ–¥–∏–Ω —Ä–∞–∑
// –ü–æ—ç—Ç–æ–º—É —Å–æ–±—ã—Ç–∏–µ –æ–±—Ä–∞–±–æ—Ç–∞–µ—Ç—Å—è –û–î–ò–ù —Ä–∞–∑
target.dispatchEvent(new CustomEvent('click', { detail: { value: 1 } }));
// –í—ã–≤–æ–¥: –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –≤—ã–∑–≤–∞–Ω, –∑–Ω–∞—á–µ–Ω–∏–µ: 1   (—Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —Ä–∞–∑!)
</code></pre>
<pre><code class="language-javascript">// –ü—Ä–∏–º–µ—Ä 3. –û—Ç–ø–∏—Å–∫–∞ –æ—Ç —Å–æ–±—ã—Ç–∏—è —á–µ—Ä–µ–∑ removeEventListener

const target = new EventTarget();

function onData(event) {
  console.log('data:', event.detail);
}

// –ü–æ–¥–ø–∏—Å—ã–≤–∞–µ–º—Å—è
target.addEventListener('message', onData);

// –û—Ç–ø–∏—Å—ã–≤–∞–µ–º—Å—è ‚Äî –ø–µ—Ä–µ–¥–∞—ë–º —Ç—É –∂–µ —Ñ—É–Ω–∫—Ü–∏—é-—Å—Å—ã–ª–∫—É
target.removeEventListener('message', onData);

// –ü–æ—Å–ª–µ —É–¥–∞–ª–µ–Ω–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞ —Å–æ–±—ã—Ç–∏–µ –Ω–∏–∫–µ–º –Ω–µ –±—É–¥–µ—Ç –æ–±—Ä–∞–±–æ—Ç–∞–Ω–æ
target.dispatchEvent(new CustomEvent('message', { detail: '–ø—Ä–∏–≤–µ—Ç' }));
// –í—ã–≤–æ–¥: (–ø—É—Å—Ç–æ ‚Äî –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –±—ã–ª —É–¥–∞–ª—ë–Ω)
</code></pre>
<pre><code class="language-javascript">// –ü—Ä–∏–º–µ—Ä 4. –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –≤ EventTarget
// –í–ê–ñ–ù–û: EventTarget –ù–ï –ø–∞–¥–∞–µ—Ç –ø—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞ —Å–æ–±—ã—Ç–∏—è 'error'
// –í –æ—Ç–ª–∏—á–∏–µ –æ—Ç EventEmitter, —Å–æ–±—ã—Ç–∏–µ 'error' –¥–ª—è EventTarget ‚Äî –æ–±—ã—á–Ω–æ–µ –∏–º–µ–Ω–æ–≤–∞–Ω–Ω–æ–µ —Å–æ–±—ã—Ç–∏–µ

const target = new EventTarget();

// –ï—Å–ª–∏ —É –Ω–∞—Å –µ—Å—Ç—å –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –æ—à–∏–±–∫–∏ ‚Äî –æ—à–∏–±–∫–∞ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è
target.addEventListener('error', (event) =&gt; {
  console.log('–û—à–∏–±–∫–∞ –ø–µ—Ä–µ—Ö–≤–∞—á–µ–Ω–∞:', event.detail.message);
});

target.dispatchEvent(new CustomEvent('error', { detail: new Error('—á—Ç–æ-—Ç–æ –ø–æ—à–ª–æ –Ω–µ —Ç–∞–∫') }));
// –í—ã–≤–æ–¥: –û—à–∏–±–∫–∞ –ø–µ—Ä–µ—Ö–≤–∞—á–µ–Ω–∞: —á—Ç–æ-—Ç–æ –ø–æ—à–ª–æ –Ω–µ —Ç–∞–∫

// –¢–µ–ø–µ—Ä—å —É–±–µ—Ä—ë–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –∏ —Å–Ω–æ–≤–∞ –æ—Ç–ø—Ä–∞–≤–∏–º –æ—à–∏–±–∫—É
target.removeEventListener('error', (event) =&gt; {}); // –¥—Ä—É–≥–∞—è —Å—Å—ã–ª–∫–∞ ‚Äî –Ω–µ —É–¥–∞–ª–∏—Ç!
// EventTarget –ø—Ä–æ—Å—Ç–æ –ø—Ä–æ–∏–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç —Å–æ–±—ã—Ç–∏–µ –±–µ–∑ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞ ‚Äî –ø—Ä–æ—Ü–µ—Å—Å –ù–ï —É–ø–∞–¥—ë—Ç
target.dispatchEvent(new CustomEvent('error', { detail: new Error('–µ—â—ë –æ–¥–Ω–∞ –æ—à–∏–±–∫–∞') }));
// –í—ã–≤–æ–¥: (–ø—É—Å—Ç–æ ‚Äî –Ω–æ Node.js –Ω–µ –ø–∞–¥–∞–µ—Ç!)
</code></pre>
<hr />
<h2 id="12-eventemitter--–Ω–∞—Ç–∏–≤–Ω–∞—è-–∞–±—Å—Ç—Ä–∞–∫—Ü–∏—è-nodejs"><a class="header" href="#12-eventemitter--–Ω–∞—Ç–∏–≤–Ω–∞—è-–∞–±—Å—Ç—Ä–∞–∫—Ü–∏—è-nodejs">1.2 EventEmitter ‚Äî –Ω–∞—Ç–∏–≤–Ω–∞—è –∞–±—Å—Ç—Ä–∞–∫—Ü–∏—è Node.js</a></h2>
<p><code>EventEmitter</code> –∏–∑ –º–æ–¥—É–ª—è <code>node:events</code> –∏–º–µ–µ—Ç –¥—Ä—É–≥–æ–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∏ –¥—Ä—É–≥—É—é —Å–µ–º–∞–Ω—Ç–∏–∫—É.
–ö–ª—é—á–µ–≤—ã–µ –æ—Ç–ª–∏—á–∏—è –æ—Ç <code>EventTarget</code>:</p>
<ul>
<li>–ü–æ–∑–≤–æ–ª—è–µ—Ç –¥–æ–±–∞–≤–ª—è—Ç—å <strong>–Ω–µ—Å–∫–æ–ª—å–∫–æ —ç–∫–∑–µ–º–ø–ª—è—Ä–æ–≤ –æ–¥–Ω–æ–≥–æ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞</strong> (–Ω–µ—Ç –¥–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏–∏)</li>
<li>–ü—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞ —Å–æ–±—ã—Ç–∏—è <code>'error'</code> <strong>–ø—Ä–æ—Ü–µ—Å—Å Node.js –∞–≤–∞—Ä–∏–π–Ω–æ –∑–∞–≤–µ—Ä—à–∏—Ç—Å—è</strong></li>
<li>–î–∞–Ω–Ω—ã–µ –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è –Ω–∞–ø—Ä—è–º—É—é –∫–∞–∫ –∞—Ä–≥—É–º–µ–Ω—Ç—ã, –∞ –Ω–µ —á–µ—Ä–µ–∑ –æ–±—ä–µ–∫—Ç <code>Event</code></li>
</ul>
<pre><code class="language-javascript">// –ü—Ä–∏–º–µ—Ä 5. –ë–∞–∑–æ–≤–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ EventEmitter
import { EventEmitter } from 'node:events';

// –°–æ–∑–¥–∞—ë–º —ç–∫–∑–µ–º–ø–ª—è—Ä EventEmitter
const emitter = new EventEmitter();

// –ü–æ–¥–ø–∏—Å—ã–≤–∞–µ–º—Å—è –Ω–∞ —Å–æ–±—ã—Ç–∏–µ 'data' —á–µ—Ä–µ–∑ –º–µ—Ç–æ–¥ on
// –ü–µ—Ä–≤—ã–π –∞—Ä–≥—É–º–µ–Ω—Ç ‚Äî –∏–º—è —Å–æ–±—ã—Ç–∏—è, –≤—Ç–æ—Ä–æ–π ‚Äî –∫–æ–ª–±—ç–∫
emitter.on('data', (payload) =&gt; {
  // –î–∞–Ω–Ω—ã–µ –ø—Ä–∏—Ö–æ–¥—è—Ç –Ω–∞–ø—Ä—è–º—É—é –≤ –∞—Ä–≥—É–º–µ–Ω—Ç—ã –∫–æ–ª–±—ç–∫–∞, –±–µ–∑ –æ–±—ë—Ä—Ç–∫–∏ –≤ Event
  console.log('–ü–æ–ª—É—á–µ–Ω—ã –¥–∞–Ω–Ω—ã–µ:', payload);
});

// –û—Ç–ø—Ä–∞–≤–ª—è–µ–º —Å–æ–±—ã—Ç–∏–µ —á–µ—Ä–µ–∑ emit
// –î–∞–Ω–Ω—ã–µ –ø–µ—Ä–µ–¥–∞—ë–º –∫–∞–∫ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∞—Ä–≥—É–º–µ–Ω—Ç—ã –ø–æ—Å–ª–µ –∏–º–µ–Ω–∏ —Å–æ–±—ã—Ç–∏—è
emitter.emit('data', { a: 5 });
// –í—ã–≤–æ–¥: –ü–æ–ª—É—á–µ–Ω—ã –¥–∞–Ω–Ω—ã–µ: { a: 5 }
</code></pre>
<pre><code class="language-javascript">// –ü—Ä–∏–º–µ—Ä 6. –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ –≤ EventEmitter
// –í –æ—Ç–ª–∏—á–∏–µ –æ—Ç EventTarget, EventEmitter –î–û–ü–£–°–ö–ê–ï–¢ –¥—É–±–ª–∏–∫–∞—Ç—ã

import { EventEmitter } from 'node:events';

const emitter = new EventEmitter();

function handler(value) {
  console.log('–û–±—Ä–∞–±–æ—Ç—á–∏–∫:', value);
}

// –î–æ–±–∞–≤–ª—è–µ–º –æ–¥–∏–Ω –∏ —Ç–æ—Ç –∂–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ —Ç—Ä–∏ —Ä–∞–∑–∞
emitter.on('name', handler);
emitter.on('name', handler);
emitter.on('name', handler);

// –í—Å–µ —Ç—Ä–∏ —ç–∫–∑–µ–º–ø–ª—è—Ä–∞ –±—É–¥—É—Ç –≤—ã–∑–≤–∞–Ω—ã
emitter.emit('name', { a: 5 });
// –í—ã–≤–æ–¥:
// –û–±—Ä–∞–±–æ—Ç—á–∏–∫: { a: 5 }
// –û–±—Ä–∞–±–æ—Ç—á–∏–∫: { a: 5 }
// –û–±—Ä–∞–±–æ—Ç—á–∏–∫: { a: 5 }

// –£–¥–∞–ª—è–µ–º –æ–¥–∏–Ω —ç–∫–∑–µ–º–ø–ª—è—Ä –∏–∑ —Ç—Ä—ë—Ö
emitter.removeListener('name', handler);

emitter.emit('name', { a: 10 });
// –í—ã–≤–æ–¥:
// –û–±—Ä–∞–±–æ—Ç—á–∏–∫: { a: 10 }
// –û–±—Ä–∞–±–æ—Ç—á–∏–∫: { a: 10 }   (–æ—Å—Ç–∞–ª–æ—Å—å –¥–≤–∞)
</code></pre>
<pre><code class="language-javascript">// –ü—Ä–∏–º–µ—Ä 7. –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –≤ EventEmitter
// –ö–†–ò–¢–ò–ß–ù–û: –µ—Å–ª–∏ –Ω–µ—Ç –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞ 'error', Node.js –∞–≤–∞—Ä–∏–π–Ω–æ –∑–∞–≤–µ—Ä—à–∞–µ—Ç –ø—Ä–æ—Ü–µ—Å—Å

import { EventEmitter } from 'node:events';

const emitter = new EventEmitter();

// –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π —Å–ø–æ—Å–æ–± ‚Äî –≤—Å–µ–≥–¥–∞ –ø–æ–¥–ø–∏—Å—ã–≤–∞—Ç—å—Å—è –Ω–∞ 'error'
emitter.on('error', (err) =&gt; {
  console.error('–ü–µ—Ä–µ—Ö–≤–∞—á–µ–Ω–∞ –æ—à–∏–±–∫–∞:', err.message);
});

// –¢–µ–ø–µ—Ä—å –æ—à–∏–±–∫–∞ –±—É–¥–µ—Ç –æ–±—Ä–∞–±–æ—Ç–∞–Ω–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
emitter.emit('error', new Error('—á—Ç–æ-—Ç–æ –ø–æ—à–ª–æ –Ω–µ —Ç–∞–∫'));
// –í—ã–≤–æ–¥: –ü–µ—Ä–µ—Ö–≤–∞—á–µ–Ω–∞ –æ—à–∏–±–∫–∞: —á—Ç–æ-—Ç–æ –ø–æ—à–ª–æ –Ω–µ —Ç–∞–∫

// –û–ü–ê–°–ù–´–ô –≤–∞—Ä–∏–∞–Ω—Ç (–∑–∞–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω, —á—Ç–æ–±—ã –Ω–µ –ø–∞–¥–∞–ª –ø—Ä–æ—Ü–µ—Å—Å):
// const dangerousEmitter = new EventEmitter();
// dangerousEmitter.emit('error', new Error('—Ñ–∞—Ç–∞–ª—å–Ω–∞—è –æ—à–∏–±–∫–∞'));
// –†–µ–∑—É–ª—å—Ç–∞—Ç: –ø—Ä–æ—Ü–µ—Å—Å Node.js —É–ø–∞–¥—ë—Ç —Å –Ω–µ–æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–º –∏—Å–∫–ª—é—á–µ–Ω–∏–µ–º!
</code></pre>
<pre><code class="language-javascript">// –ü—Ä–∏–º–µ—Ä 8. –ú–µ—Ç–æ–¥ once ‚Äî –æ–¥–Ω–æ—Ä–∞–∑–æ–≤–∞—è –ø–æ–¥–ø–∏—Å–∫–∞
// once() –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è –ø–æ—Å–ª–µ –ø–µ—Ä–≤–æ–≥–æ –≤—ã–∑–æ–≤–∞

import { EventEmitter } from 'node:events';

const emitter = new EventEmitter();

// –û–±—Ä–∞–±–æ—Ç—á–∏–∫ —Å—Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —Ä–∞–∑, –∑–∞—Ç–µ–º –±—É–¥–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É–¥–∞–ª—ë–Ω
emitter.once('connect', (info) =&gt; {
  console.log('–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ:', info.host);
});

emitter.emit('connect', { host: 'localhost' });
// –í—ã–≤–æ–¥: –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ: localhost

emitter.emit('connect', { host: 'example.com' });
// –í—ã–≤–æ–¥: (–ø—É—Å—Ç–æ ‚Äî –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ —É–∂–µ –±—ã–ª —É–¥–∞–ª—ë–Ω –ø–æ—Å–ª–µ –ø–µ—Ä–≤–æ–≥–æ –≤—ã–∑–æ–≤–∞)
</code></pre>
<pre><code class="language-javascript">// –ü—Ä–∏–º–µ—Ä 9. –§—É–Ω–∫—Ü–∏—è events.once ‚Äî –æ–∂–∏–¥–∞–Ω–∏–µ —Å–æ–±—ã—Ç–∏—è –∫–∞–∫ Promise
// –ü–æ–∑–≤–æ–ª—è–µ—Ç await-–∏—Ç—å –Ω–∞—Å—Ç—É–ø–ª–µ–Ω–∏–µ —Å–æ–±—ã—Ç–∏—è

import { EventEmitter, once } from 'node:events';

const emitter = new EventEmitter();

// –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è, –æ–∂–∏–¥–∞—é—â–∞—è —Å–æ–±—ã—Ç–∏—è
async function waitForData() {
  // once() –∏–∑ 'node:events' –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç Promise
  // –û–Ω —Ä–∞–∑—Ä–µ—à–∏—Ç—Å—è –∫–æ–≥–¥–∞ –ø—Ä–æ–∏–∑–æ–π–¥—ë—Ç —Å–æ–±—ã—Ç–∏–µ 'data'
  const [payload] = await once(emitter, 'data');
  console.log('–î–æ–∂–¥–∞–ª–∏—Å—å —Å–æ–±—ã—Ç–∏—è:', payload);
}

// –ó–∞–ø—É—Å–∫–∞–µ–º –æ–∂–∏–¥–∞–Ω–∏–µ
waitForData();

// –ß–µ—Ä–µ–∑ 100 –º—Å –≥–µ–Ω–µ—Ä–∏—Ä—É–µ–º —Å–æ–±—ã—Ç–∏–µ
setTimeout(() =&gt; {
  emitter.emit('data', { result: '–≥–æ—Ç–æ–≤–æ' });
}, 100);

// –í—ã–≤–æ–¥ (—á–µ—Ä–µ–∑ ~100 –º—Å): –î–æ–∂–¥–∞–ª–∏—Å—å —Å–æ–±—ã—Ç–∏—è: { result: '–≥–æ—Ç–æ–≤–æ' }
</code></pre>
<hr />
<h2 id="13-–ù–∞–∏–≤–Ω–∞—è-—Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è-eventemitter"><a class="header" href="#13-–ù–∞–∏–≤–Ω–∞—è-—Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è-eventemitter">1.3 –ù–∞–∏–≤–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è EventEmitter</a></h2>
<p>–ü–æ–Ω—è—Ç—å, –∫–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç EventEmitter –∏–∑–Ω—É—Ç—Ä–∏, –ø–æ–º–æ–≥–∞–µ—Ç –º–∏–Ω–∏–º–∞–ª–∏—Å—Ç–∏—á–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è.
–û–Ω–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –≥–ª–∞–≤–Ω—É—é –∏–¥–µ—é: <strong>–∫–æ–ª–ª–µ–∫—Ü–∏—è –º–∞—Å—Å–∏–≤–æ–≤ —Ñ—É–Ω–∫—Ü–∏–π, –∏–Ω–¥–µ–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –ø–æ –∏–º–µ–Ω–∏ —Å–æ–±—ã—Ç–∏—è</strong>.</p>
<pre><code class="language-javascript">// –ü—Ä–∏–º–µ—Ä 10. –ù–∞–∏–≤–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è EventEmitter —Å –Ω—É–ª—è

class SimpleEmitter {
  constructor() {
    // –•—Ä–∞–Ω–∏–ª–∏—â–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤: { 'eventName': [fn1, fn2, ...] }
    // –ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Map –≤–º–µ—Å—Ç–æ –æ–±—ä–µ–∫—Ç–∞ –¥–ª—è –±–æ–ª—å—à–µ–π –Ω–∞–¥—ë–∂–Ω–æ—Å—Ç–∏
    this.events = {};
  }

  // –î–æ–±–∞–≤–ª—è–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –ø–æ –∏–º–µ–Ω–∏ —Å–æ–±—ã—Ç–∏—è
  on(name, fn) {
    if (this.events[name]) {
      // –ï—Å–ª–∏ —Å–æ–±—ã—Ç–∏–µ —É–∂–µ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–æ ‚Äî –¥–æ–±–∞–≤–ª—è–µ–º –µ—â—ë –æ–¥–∏–Ω –æ–±—Ä–∞–±–æ—Ç—á–∏–∫
      this.events[name].push(fn);
    } else {
      // –°–æ–∑–¥–∞—ë–º –Ω–æ–≤—ã–π –º–∞—Å—Å–∏–≤ —Å –ø–µ—Ä–≤—ã–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–º
      this.events[name] = [fn];
    }
    return this; // –≤–æ–∑–≤—Ä–∞—â–∞–µ–º this –¥–ª—è —Ü–µ–ø–æ—á–∫–∏ –≤—ã–∑–æ–≤–æ–≤
  }

  // –£–¥–∞–ª—è–µ–º –æ–¥–∏–Ω —ç–∫–∑–µ–º–ø–ª—è—Ä –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞
  removeListener(name, fn) {
    if (!this.events[name]) return this;
    // –ù–∞—Ö–æ–¥–∏–º –ø–µ—Ä–≤—ã–π —Å–æ–≤–ø–∞–¥–∞—é—â–∏–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –∏ —É–¥–∞–ª—è–µ–º –µ–≥–æ
    const index = this.events[name].indexOf(fn);
    if (index !== -1) {
      this.events[name].splice(index, 1);
    }
    return this;
  }

  // –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º —Å–æ–±—ã—Ç–∏–µ ‚Äî –≤—ã–∑—ã–≤–∞–µ–º –≤—Å–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏
  emit(name, ...args) {
    // –í —Ä–µ–∞–ª—å–Ω–æ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –∑–¥–µ—Å—å –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –ø—Ä–æ–≤–µ—Ä–∫–∞:
    // –µ—Å–ª–∏ name === 'error' –∏ –Ω–µ—Ç –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞ ‚Äî –±—Ä–æ—Å–∏—Ç—å –æ—à–∏–±–∫—É
    if (!this.events[name]) return false;

    // –ö–æ–ø–∏—Ä—É–µ–º –º–∞—Å—Å–∏–≤, —á—Ç–æ–±—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ –∏—Ç–µ—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è
    // –¥–∞–∂–µ –µ—Å–ª–∏ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª—è—Ç—å—Å—è/—É–¥–∞–ª—è—Ç—å—Å—è –≤–æ –≤—Ä–µ–º—è –≤—ã–∑–æ–≤–∞
    const listeners = [...this.events[name]];

    for (const listener of listeners) {
      // –†–∞—Å–ø–∞–∫–æ–≤—ã–≤–∞–µ–º –∞—Ä–≥—É–º–µ–Ω—Ç—ã –∏ –≤—ã–∑—ã–≤–∞–µ–º –∫–∞–∂–¥—ã–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫
      listener(...args);
    }
    return true;
  }
}

// –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è —Ä–∞–±–æ—Ç—ã
const emitter = new SimpleEmitter();

emitter.on('greet', (name) =&gt; console.log(`–ü—Ä–∏–≤–µ—Ç, ${name}!`));
emitter.on('greet', (name) =&gt; console.log(`Hello, ${name}!`));

emitter.emit('greet', '–ú–∏—Ä');
// –í—ã–≤–æ–¥:
// –ü—Ä–∏–≤–µ—Ç, –ú–∏—Ä!
// Hello, –ú–∏—Ä!
</code></pre>
<hr />
<h2 id="14-–°—Ä–∞–≤–Ω–∏—Ç–µ–ª—å–Ω–∞—è-—Ç–∞–±–ª–∏—Ü–∞-eventtarget-–∏-eventemitter"><a class="header" href="#14-–°—Ä–∞–≤–Ω–∏—Ç–µ–ª—å–Ω–∞—è-—Ç–∞–±–ª–∏—Ü–∞-eventtarget-–∏-eventemitter">1.4 –°—Ä–∞–≤–Ω–∏—Ç–µ–ª—å–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ EventTarget –∏ EventEmitter</a></h2>
<div class="table-wrapper"><table><thead><tr><th>–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞</th><th><code>EventTarget</code> (Web API)</th><th><code>EventEmitter</code> (Node.js)</th></tr></thead><tbody>
<tr><td>–ú–µ—Ç–æ–¥ –ø–æ–¥–ø–∏—Å–∫–∏</td><td><code>addEventListener(name, fn)</code></td><td><code>on(name, fn)</code></td></tr>
<tr><td>–ú–µ—Ç–æ–¥ –æ—Ç–ø–∏—Å–∫–∏</td><td><code>removeEventListener(name, fn)</code></td><td><code>removeListener(name, fn)</code></td></tr>
<tr><td>–ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å–æ–±—ã—Ç–∏—è</td><td><code>dispatchEvent(new CustomEvent(...))</code></td><td><code>emit(name, ...args)</code></td></tr>
<tr><td>–î–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏—è</td><td>–î–∞ (–æ–¥–∏–Ω –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –Ω–∞ fn-—Å—Å—ã–ª–∫—É)</td><td>–ù–µ—Ç (–¥–æ–ø—É—Å–∫–∞–µ—Ç –¥—É–±–ª–∏–∫–∞—Ç—ã)</td></tr>
<tr><td>–û—à–∏–±–∫–∞ –±–µ–∑ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞ <code>error</code></td><td>–ò–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç—Å—è</td><td>–ü—Ä–æ—Ü–µ—Å—Å –∞–≤–∞—Ä–∏–π–Ω–æ –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è</td></tr>
<tr><td>–ü–µ—Ä–µ–¥–∞—á–∞ –¥–∞–Ω–Ω—ã—Ö</td><td>–ß–µ—Ä–µ–∑ <code>event.detail</code></td><td>–ù–∞–ø—Ä—è–º—É—é –∫–∞–∫ –∞—Ä–≥—É–º–µ–Ω—Ç—ã</td></tr>
<tr><td>–î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –≤ Node.js</td><td>–° –≤–µ—Ä—Å–∏–∏ 19 (–±–µ–∑ —Ñ–ª–∞–≥–æ–≤)</td><td>–í—Å–µ–≥–¥–∞</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="–õ–µ–∫—Ü–∏—è-2-–ü–∞—Ç—Ç–µ—Ä–Ω-–ù–∞–±–ª—é–¥–∞—Ç–µ–ª—å-observer--observable"><a class="header" href="#–õ–µ–∫—Ü–∏—è-2-–ü–∞—Ç—Ç–µ—Ä–Ω-–ù–∞–±–ª—é–¥–∞—Ç–µ–ª—å-observer--observable">–õ–µ–∫—Ü–∏—è 2. –ü–∞—Ç—Ç–µ—Ä–Ω –ù–∞–±–ª—é–¥–∞—Ç–µ–ª—å (Observer / Observable)</a></h1>
<h2 id="–í–≤–µ–¥–µ–Ω–∏–µ-8"><a class="header" href="#–í–≤–µ–¥–µ–Ω–∏–µ-8">–í–≤–µ–¥–µ–Ω–∏–µ</a></h2>
<p>–ü–∞—Ç—Ç–µ—Ä–Ω –ù–∞–±–ª—é–¥–∞—Ç–µ–ª—å (Observer) ‚Äî –æ–¥–Ω–∞ –∏–∑ —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–∞–ª—å–Ω—ã—Ö –ø—Ä–æ–≥—Ä–∞–º–º–Ω—ã—Ö –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–π,
–ª–µ–∂–∞—â–∞—è –≤ –æ—Å–Ω–æ–≤–µ —Ä–µ–∞–∫—Ç–∏–≤–Ω–æ–≥–æ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è. –ò–¥–µ—è –ø—Ä–æ—Å—Ç–∞:</p>
<ul>
<li>–ï—Å—Ç—å <strong>–∏—Å—Ç–æ—á–Ω–∏–∫ —Å–æ–±—ã—Ç–∏–π</strong> (Observable / –Ω–∞–±–ª—é–¥–∞–µ–º—ã–π) ‚Äî –æ–±—ä–µ–∫—Ç, –∫–æ—Ç–æ—Ä—ã–π –ø–æ—Ä–æ–∂–¥–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ</li>
<li>–ï—Å—Ç—å <strong>–Ω–∞–±–ª—é–¥–∞—Ç–µ–ª—å</strong> (Observer) ‚Äî –æ–±—ä–µ–∫—Ç –∏–ª–∏ —Ñ—É–Ω–∫—Ü–∏—è, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ–ª—É—á–∞—é—Ç —ç—Ç–∏ –¥–∞–Ω–Ω—ã–µ</li>
</ul>
<p>–û–±–µ –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–∏ –º–æ–≥—É—Ç –±—ã—Ç—å —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã –∫–∞–∫ —á–µ—Ä–µ–∑ —Ñ—É–Ω–∫—Ü–∏–∏ –∏ –∑–∞–º—ã–∫–∞–Ω–∏—è, —Ç–∞–∫ –∏ —á–µ—Ä–µ–∑ –∫–ª–∞—Å—Å—ã.
–ù–∞ –±–∞–∑–µ —ç—Ç–æ–≥–æ –ø–∞—Ç—Ç–µ—Ä–Ω–∞ —Å—Ç—Ä–æ—è—Ç—Å—è –±–æ–ª–µ–µ –º–æ—â–Ω—ã–µ –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–∏, –Ω–∞–ø—Ä–∏–º–µ—Ä RxJS.</p>
<hr />
<h2 id="21-–ü—Ä–æ—Å—Ç–µ–π—à–∞—è-—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è-—Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è"><a class="header" href="#21-–ü—Ä–æ—Å—Ç–µ–π—à–∞—è-—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è-—Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è">2.1 –ü—Ä–æ—Å—Ç–µ–π—à–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è</a></h2>
<pre><code class="language-javascript">// –ü—Ä–∏–º–µ—Ä 1. Observable –∏ Observer –Ω–∞ —á–∏—Å—Ç—ã—Ö —Ñ—É–Ω–∫—Ü–∏—è—Ö

// –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è: –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —Å–ª—É—á–∞–π–Ω—É—é —Å—Ç—Ä–æ—á–Ω—É—é –±—É–∫–≤—É –ª–∞—Ç–∏–Ω—Å–∫–æ–≥–æ –∞–ª—Ñ–∞–≤–∏—Ç–∞
// –ö–æ–¥ —Å–∏–º–≤–æ–ª–∞ 'a' = 97, 'z' = 122. –ò—Ç–æ–≥–æ 26 —Å–∏–º–≤–æ–ª–æ–≤.
const randomChar = () =&gt;
  String.fromCharCode(97 + Math.floor(Math.random() * 26));

// subscribe ‚Äî —Ñ–∞–±—Ä–∏—á–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è, —Å–æ–∑–¥–∞—é—â–∞—è Observable
// –ü—Ä–∏–Ω–∏–º–∞–µ—Ç —Ñ—É–Ω–∫—Ü–∏—é-–Ω–∞–±–ª—é–¥–∞—Ç–µ–ª—å (observer) –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ–±—ä–µ–∫—Ç Observable
const subscribe = (observer) =&gt; {
  // –ó–∞–ø—É—Å–∫–∞–µ–º –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π —Ç–∞–π–º–µ—Ä ‚Äî –∏—Å—Ç–æ—á–Ω–∏–∫ —Å–æ–±—ã—Ç–∏–π
  const timer = setInterval(() =&gt; {
    // –ö–∞–∂–¥—ã–µ 200 –º—Å –≤—ã–∑—ã–≤–∞–µ–º observer —Å –Ω–æ–≤–æ–π —Å–ª—É—á–∞–π–Ω–æ–π –±—É–∫–≤–æ–π
    observer(randomChar());
  }, 200);

  // –í–æ–∑–≤—Ä–∞—â–∞–µ–º –æ–±—ä–µ–∫—Ç Observable ‚Äî –æ–Ω —Ö—Ä–∞–Ω–∏—Ç —Å—Å—ã–ª–∫—É –Ω–∞ –ø–æ–¥–ø–∏—Å–∫—É
  // –∏ –ø–æ–∑–≤–æ–ª—è–µ—Ç —É–ø—Ä–∞–≤–ª—è—Ç—å –µ—é (–Ω–∞–ø—Ä–∏–º–µ—Ä, –æ—Ç–ø–∏—Å–∞—Ç—å—Å—è)
  const observable = {
    observer,    // —Å—Å—ã–ª–∫–∞ –Ω–∞ —Ñ—É–Ω–∫—Ü–∏—é-–Ω–∞–±–ª—é–¥–∞—Ç–µ–ª—å
    timer,       // —Å—Å—ã–ª–∫–∞ –Ω–∞ —Ç–∞–π–º–µ—Ä –¥–ª—è –≤–æ–∑–º–æ–∂–Ω–æ–π –æ—Ç–ø–∏—Å–∫–∏
  };

  return observable;
};

// –°–æ–∑–¥–∞—ë–º observer ‚Äî —Ñ—É–Ω–∫—Ü–∏—é, –∫–æ—Ç–æ—Ä–∞—è –±—É–¥–µ—Ç –ø–æ–ª—É—á–∞—Ç—å –¥–∞–Ω–Ω—ã–µ
let count = 0;
const observer = (char) =&gt; {
  process.stdout.write(char); // –ø–µ—á–∞—Ç–∞–µ–º –±—É–∫–≤—É –±–µ–∑ –ø–µ—Ä–µ–Ω–æ—Å–∞ —Å—Ç—Ä–æ–∫–∏
  count++;
  if (count % 50 === 0) {
    process.stdout.write('\n');
  }
  if (count &gt;= 150) {
    process.exit(0); // –≤—ã—Ö–æ–¥–∏–º –ø–æ—Å–ª–µ 150 –±—É–∫–≤
  }
};

// –í—ã–≤–æ–¥–∏–º —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–ª—è –ø–æ–Ω–∏–º–∞–Ω–∏—è
console.log('–¢–∏–ø observer:', typeof observer);       // function

// –ü–æ–¥–ø–∏—Å—ã–≤–∞–µ–º—Å—è ‚Äî –∑–∞–ø—É—Å–∫–∞–µ–º –≥–µ–Ω–µ—Ä–∞—Ü–∏—é –±—É–∫–≤
const observable = subscribe(observer);
console.log('–¢–∏–ø observable:', typeof observable);   // object
// –° —ç—Ç–æ–≥–æ –º–æ–º–µ–Ω—Ç–∞ –∫–∞–∂–¥—ã–µ 200 –º—Å –±—É–¥–µ—Ç –ø–µ—á–∞—Ç–∞—Ç—å—Å—è —Å–ª—É—á–∞–π–Ω–∞—è –±—É–∫–≤–∞
</code></pre>
<hr />
<h2 id="22-–†–µ–∞–ª–∏–∑–∞—Ü–∏—è-–Ω–∞-–∫–ª–∞—Å—Å–∞—Ö-observable-–∫–∞–∫-–∫–ª–∞—Å—Å"><a class="header" href="#22-–†–µ–∞–ª–∏–∑–∞—Ü–∏—è-–Ω–∞-–∫–ª–∞—Å—Å–∞—Ö-observable-–∫–∞–∫-–∫–ª–∞—Å—Å">2.2 –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –Ω–∞ –∫–ª–∞—Å—Å–∞—Ö (Observable –∫–∞–∫ –∫–ª–∞—Å—Å)</a></h2>
<pre><code class="language-javascript">// –ü—Ä–∏–º–µ—Ä 2. Observable –∏ Observer —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –∫–ª–∞—Å—Å–æ–≤

const randomDigit = () =&gt; Math.floor(Math.random() * 10);

// –ö–ª–∞—Å—Å Observable (–Ω–∞–±–ª—é–¥–∞–µ–º—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫ —Å–æ–±—ã—Ç–∏–π)
class Observable {
  constructor() {
    // –•—Ä–∞–Ω–∏–º —Å—Å—ã–ª–∫—É –Ω–∞ –æ–¥–Ω–æ–≥–æ –ø–æ–¥–ø–∏—Å—á–∏–∫–∞ (—É–ø—Ä–æ—â—ë–Ω–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è)
    // –í –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –∑–¥–µ—Å—å –±—ã–ª –±—ã –º–∞—Å—Å–∏–≤ (collection) –Ω–∞–±–ª—é–¥–∞—Ç–µ–ª–µ–π
    this.observer = null;
    this.timer = null;
  }

  // –ú–µ—Ç–æ–¥ –ø–æ–¥–ø–∏—Å–∫–∏ ‚Äî —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –Ω–∞–±–ª—é–¥–∞—Ç–µ–ª—è –∏ –∑–∞–ø—É—Å–∫–∞–µ—Ç –≥–µ–Ω–µ—Ä–∞—Ü–∏—é –¥–∞–Ω–Ω—ã—Ö
  subscribe(observer) {
    this.observer = observer;

    // –ó–∞–ø—É—Å–∫–∞–µ–º —Ç–∞–π–º–µ—Ä ‚Äî –≥–µ–Ω–µ—Ä–∏—Ä—É–µ–º —Å–ª—É—á–∞–π–Ω—É—é —Ü–∏—Ñ—Ä—É –∫–∞–∂–¥—ã–µ 200 –º—Å
    this.timer = setInterval(() =&gt; {
      if (this.observer) {
        // –ï—Å–ª–∏ –µ—Å—Ç—å –ø–æ–¥–ø–∏—Å—á–∏–∫ ‚Äî –ø–µ—Ä–µ–¥–∞—ë–º –µ–º—É –¥–∞–Ω–Ω—ã–µ
        this.observer(randomDigit());
      } else {
        // –ï—Å–ª–∏ –ø–æ–¥–ø–∏—Å—á–∏–∫ –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç ‚Äî –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Ç–∞–π–º–µ—Ä
        clearInterval(this.timer);
      }
    }, 200);
  }

  // –ú–µ—Ç–æ–¥ –æ—Ç–ø–∏—Å–∫–∏
  unsubscribe() {
    this.observer = null;
    clearInterval(this.timer);
  }
}

// –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
const source = new Observable();

let digitCount = 0;
const digitObserver = (digit) =&gt; {
  process.stdout.write(String(digit));
  digitCount++;
  if (digitCount % 50 === 0) process.stdout.write('\n');
  if (digitCount &gt;= 100) {
    source.unsubscribe();
    process.exit(0);
  }
};

source.subscribe(digitObserver);
</code></pre>
<hr />
<h2 id="23-–ü–æ–ª–Ω–∞—è-—Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è-–Ω–∞-–∫–ª–∞—Å—Å–∞—Ö-—Å-–ø–æ–¥–¥–µ—Ä–∂–∫–æ–π-–Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö-–ø–æ–¥–ø–∏—Å—á–∏–∫–æ–≤"><a class="header" href="#23-–ü–æ–ª–Ω–∞—è-—Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è-–Ω–∞-–∫–ª–∞—Å—Å–∞—Ö-—Å-–ø–æ–¥–¥–µ—Ä–∂–∫–æ–π-–Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö-–ø–æ–¥–ø–∏—Å—á–∏–∫–æ–≤">2.3 –ü–æ–ª–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –Ω–∞ –∫–ª–∞—Å—Å–∞—Ö —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –ø–æ–¥–ø–∏—Å—á–∏–∫–æ–≤</a></h2>
<pre><code class="language-javascript">// –ü—Ä–∏–º–µ—Ä 3. Observable —Å –∫–æ–ª–ª–µ–∫—Ü–∏–µ–π –Ω–∞–±–ª—é–¥–∞—Ç–µ–ª–µ–π –∏ –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–º–∏ –±–∞–∑–æ–≤—ã–º–∏ –∫–ª–∞—Å—Å–∞–º–∏

// –ë–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å Observable (–Ω–∞–±–ª—é–¥–∞–µ–º—ã–π –æ–±—ä–µ–∫—Ç)
// –°–æ–¥–µ—Ä–∂–∏—Ç –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–µ –º–µ—Ç–æ–¥—ã ‚Äî –ø—Ä—è–º–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ —ç–∫–∑–µ–º–ø–ª—è—Ä–∞ –∑–∞–ø—Ä–µ—â–µ–Ω–æ
class Observable {
  constructor() {
    // –ö–æ–ª–ª–µ–∫—Ü–∏—è –ø–æ–¥–ø–∏—Å—á–∏–∫–æ–≤ ‚Äî –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º –Ω–µ—Å–∫–æ–ª—å–∫–æ –Ω–∞–±–ª—é–¥–∞—Ç–µ–ª–µ–π
    this.observers = [];
  }

  // –ü–æ–¥–ø–∏—Å—ã–≤–∞–µ–º –Ω–∞–±–ª—é–¥–∞—Ç–µ–ª—è –Ω–∞ –ø–æ—Ç–æ–∫ —Å–æ–±—ã—Ç–∏–π
  subscribe(observer) {
    // –°–æ—Ö—Ä–∞–Ω—è–µ–º –æ–±—Ä–∞—Ç–Ω—É—é —Å—Å—ã–ª–∫—É: –Ω–∞–±–ª—é–¥–∞—Ç–µ–ª—å –∑–Ω–∞–µ—Ç, –Ω–∞ —á—Ç–æ –æ–Ω –ø–æ–¥–ø–∏—Å–∞–Ω
    observer.source = this;
    this.observers.push(observer);
    return this; // —Ü–µ–ø–æ—á–∫–∞ –≤—ã–∑–æ–≤–æ–≤
  }

  // –û—Ç–ø–∏—Å—ã–≤–∞–µ–º –Ω–∞–±–ª—é–¥–∞—Ç–µ–ª—è
  unsubscribe(observer) {
    this.observers = this.observers.filter((o) =&gt; o !== observer);
    return this;
  }

  // –£–≤–µ–¥–æ–º–ª—è–µ–º –≤—Å–µ—Ö –ø–æ–¥–ø–∏—Å—á–∏–∫–æ–≤ –æ –Ω–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö
  notify(data) {
    if (this.observers.length === 0) return;
    for (const observer of this.observers) {
      observer.update(data);
    }
  }

  // –ê–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–π –º–µ—Ç–æ–¥ ‚Äî –ø–æ–¥–∫–ª–∞—Å—Å –¥–æ–ª–∂–µ–Ω –µ–≥–æ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å
  // –í —Ä–µ–∞–ª—å–Ω–æ–º –∫–æ–¥–µ –∑–¥–µ—Å—å –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è –¥–∞–Ω–Ω—ã–µ
  start() {
    throw new Error('–ú–µ—Ç–æ–¥ start() –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—ë–Ω –≤ –ø–æ–¥–∫–ª–∞—Å—Å–µ');
  }
}

// –ë–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å Observer (–Ω–∞–±–ª—é–¥–∞—Ç–µ–ª—å)
class Observer {
  constructor() {
    this.source = null; // —Å—Å—ã–ª–∫–∞ –Ω–∞ Observable, –Ω–∞ –∫–æ—Ç–æ—Ä—ã–π –ø–æ–¥–ø–∏—Å–∞–Ω
  }

  // –ê–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–π –º–µ—Ç–æ–¥ ‚Äî –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ –Ω–æ–≤–æ–≥–æ —Å–æ–±—ã—Ç–∏—è
  update(data) {
    throw new Error('–ú–µ—Ç–æ–¥ update() –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—ë–Ω –≤ –ø–æ–¥–∫–ª–∞—Å—Å–µ');
  }
}

// –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π Observable: –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –ø–æ—Ç–æ–∫ —Å–ª—É—á–∞–π–Ω—ã—Ö –±—É–∫–≤
class CharStream extends Observable {
  constructor() {
    super();
    this.timer = null;
  }

  start() {
    this.timer = setInterval(() =&gt; {
      const char = String.fromCharCode(97 + Math.floor(Math.random() * 26));
      // –£–≤–µ–¥–æ–º–ª—è–µ–º –≤—Å–µ—Ö –ø–æ–¥–ø–∏—Å—á–∏–∫–æ–≤ –æ –Ω–æ–≤–æ–π –±—É–∫–≤–µ
      this.notify(char);
    }, 200);
  }

  stop() {
    clearInterval(this.timer);
  }
}

// –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π Observer: —Å—á–∏—Ç–∞–µ—Ç –±—É–∫–≤—ã –∏ –≤—ã–≤–æ–¥–∏—Ç –∏—Ö –Ω–∞ —ç–∫—Ä–∞–Ω
class CharStreamObserver extends Observer {
  constructor(charStream) {
    super();
    this.source = charStream; // —Å—Å—ã–ª–∫–∞ –Ω–∞ –ø–æ—Ç–æ–∫
    this.count = 0;           // —Å—á—ë—Ç—á–∏–∫ –ø–æ–ª—É—á–µ–Ω–Ω—ã—Ö —Å–∏–º–≤–æ–ª–æ–≤
  }

  update(char) {
    process.stdout.write(char);
    this.count++;
    if (this.count % 50 === 0) process.stdout.write('\n');
    if (this.count &gt;= 100) {
      this.source.stop();
      process.exit(0);
    }
  }
}

// –°–æ–∑–¥–∞–Ω–∏–µ –∏ –∑–∞–ø—É—Å–∫
const charObserver = new CharStreamObserver(null); // source —É—Å—Ç–∞–Ω–æ–≤–∏–º –Ω–∏–∂–µ
const charStream = new CharStream();

// –ü–æ–¥–ø–∏—Å—ã–≤–∞–µ–º –Ω–∞–±–ª—é–¥–∞—Ç–µ–ª—è –Ω–∞ –ø–æ—Ç–æ–∫
charStream.subscribe(charObserver);
charObserver.source = charStream; // —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –æ–±—Ä–∞—Ç–Ω—É—é —Å—Å—ã–ª–∫—É

// –ó–∞–ø—É—Å–∫–∞–µ–º –≥–µ–Ω–µ—Ä–∞—Ü–∏—é —Å–∏–º–≤–æ–ª–æ–≤
charStream.start();
</code></pre>
<hr />
<h2 id="24-observable-–Ω–∞-–±–∞–∑–µ-eventemitter"><a class="header" href="#24-observable-–Ω–∞-–±–∞–∑–µ-eventemitter">2.4 Observable –Ω–∞ –±–∞–∑–µ EventEmitter</a></h2>
<p>–í–º–µ—Å—Ç–æ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –º–µ—Ö–∞–Ω–∏–∑–º–∞ –ø–æ–¥–ø–∏—Å–∫–∏ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π
<code>EventEmitter</code> –∏–∑ <code>node:events</code>.</p>
<pre><code class="language-javascript">// –ü—Ä–∏–º–µ—Ä 4. Observable, –∏—Å–ø–æ–ª—å–∑—É—é—â–∏–π EventEmitter –∫–∞–∫ –º–µ—Ö–∞–Ω–∏–∑–º –ø–æ–¥–ø–∏—Å–∫–∏

import { EventEmitter } from 'node:events';

const randomChar = () =&gt;
  String.fromCharCode(97 + Math.floor(Math.random() * 26));

// CharStream ‚Äî –Ω–∞–±–ª—é–¥–∞–µ–º—ã–π –ø–æ—Ç–æ–∫, –¥–µ–ª–µ–≥–∏—Ä—É—é—â–∏–π –ø–æ–¥–ø–∏—Å–∫—É EventEmitter
class CharStream {
  constructor(emitter) {
    // EventEmitter –ø—Ä–∏—Ö–æ–¥–∏—Ç —Å–Ω–∞—Ä—É–∂–∏ (Dependency Injection)
    // CharStream –Ω–µ —Å–æ–∑–¥–∞—ë—Ç –µ–≥–æ —Å–∞–º ‚Äî —ç—Ç–æ —Å–Ω–∏–∂–∞–µ—Ç –∑–∞—Ü–µ–ø–ª–µ–Ω–∏–µ
    this.emitter = emitter;
    this.timer = null;
  }

  start() {
    this.timer = setInterval(() =&gt; {
      const char = randomChar();
      // –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º —Å–æ–±—ã—Ç–∏–µ 'char' —á–µ—Ä–µ–∑ EventEmitter
      this.emitter.emit('char', char);
    }, 200);
  }

  complete() {
    clearInterval(this.timer);
    this.emitter.emit('complete');
  }
}

// –°–æ–∑–¥–∞—ë–º EventEmitter ‚Äî –º–µ—Ö–∞–Ω–∏–∑–º –ø–æ–¥–ø–∏—Å–∫–∏
const emitter = new EventEmitter();

// –°–æ–∑–¥–∞—ë–º CharStream, –ø–µ—Ä–µ–¥–∞–≤–∞—è –µ–º—É emitter
const stream = new CharStream(emitter);

// Observer –ø–æ–¥–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ EventEmitter
let count = 0;
emitter.on('char', (char) =&gt; {
  process.stdout.write(char);
  count++;
  if (count % 50 === 0) process.stdout.write('\n');
  if (count &gt;= 100) {
    stream.complete();
  }
});

emitter.on('complete', () =&gt; {
  console.log('\n–ü–æ—Ç–æ–∫ –∑–∞–≤–µ—Ä—à—ë–Ω');
  process.exit(0);
});

stream.start();
</code></pre>
<hr />
<h2 id="25-–û–ø–µ—Ä–∞—Ç–æ—Ä—ã-filter-–∏-map-–¥–ª—è-–ø–æ—Ç–æ–∫–∞-—Å–æ–±—ã—Ç–∏–π"><a class="header" href="#25-–û–ø–µ—Ä–∞—Ç–æ—Ä—ã-filter-–∏-map-–¥–ª—è-–ø–æ—Ç–æ–∫–∞-—Å–æ–±—ã—Ç–∏–π">2.5 –û–ø–µ—Ä–∞—Ç–æ—Ä—ã: filter –∏ map –¥–ª—è –ø–æ—Ç–æ–∫–∞ —Å–æ–±—ã—Ç–∏–π</a></h2>
<p>–†–µ–∞–∫—Ç–∏–≤–Ω–æ–µ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–±–æ–≥–∞—â–∞–µ—Ç –ø–∞—Ç—Ç–µ—Ä–Ω Observer <strong>–æ–ø–µ—Ä–∞—Ç–æ—Ä–∞–º–∏</strong> ‚Äî —Ñ—É–Ω–∫—Ü–∏—è–º–∏,
–∫–æ—Ç–æ—Ä—ã–µ –ø—Ä–µ–æ–±—Ä–∞–∑—É—é—Ç –ø–æ—Ç–æ–∫ —Å–æ–±—ã—Ç–∏–π, –ø–æ—Ä–æ–∂–¥–∞—è –Ω–æ–≤—ã–π Observable.</p>
<pre><code class="language-javascript">// –ü—Ä–∏–º–µ—Ä 5. Observable —Å –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞–º–∏ filter –∏ map

const randomChar = () =&gt;
  String.fromCharCode(97 + Math.floor(Math.random() * 26));

// –ì–ª–∞—Å–Ω—ã–µ –∞–Ω–≥–ª–∏–π—Å–∫–æ–≥–æ —è–∑—ã–∫–∞
const VOWELS = new Set(['a', 'e', 'i', 'o', 'u']);

// –§—É–Ω–∫—Ü–∏–∏-–æ–ø–µ—Ä–∞—Ç–æ—Ä—ã –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç –æ–±—ä–µ–∫—Ç—ã-–¥–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä—ã –æ–ø–µ—Ä–∞—Ü–∏–π
// –≠—Ç–æ –ø–æ—Ö–æ–∂–µ –Ω–∞ –ø–∞—Ç—Ç–µ—Ä–Ω –ö–æ–º–∞–Ω–¥–∞ ‚Äî –æ–ø–µ—Ä–∞—Ü–∏—è –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∞ –∫–∞–∫ –æ–±—ä–µ–∫—Ç
const filter = (predicate) =&gt; ({ type: 'filter', fn: predicate });
const map = (transform) =&gt; ({ type: 'map', fn: transform });

class Observable {
  constructor() {
    this.observers = [];
    this.operators = []; // —Å–ø–∏—Å–æ–∫ –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–≤, –ø—Ä–∏–º–µ–Ω—è–µ–º—ã—Ö –∫ –¥–∞–Ω–Ω—ã–º
  }

  subscribe(observer) {
    this.observers.push(observer);
    return this;
  }

  // –ú–µ—Ç–æ–¥ pipe ‚Äî –ø—Ä–∏–º–µ–Ω—è–µ—Ç –æ–ø–µ—Ä–∞—Ç–æ—Ä—ã –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –Ω–æ–≤—ã–π Observable
  // –í—Å–µ –∞—Ä–≥—É–º–µ–Ω—Ç—ã ‚Äî –æ–ø–µ—Ä–∞—Ç–æ—Ä—ã (–æ–±—ä–µ–∫—Ç—ã —Å type –∏ fn)
  pipe(...operators) {
    const destination = new Observable();
    destination.operators = operators;

    // –ü–æ–¥–ø–∏—Å—ã–≤–∞–µ–º destination –Ω–∞ —Ç–µ–∫—É—â–∏–π Observable
    this.subscribe({
      update: (data) =&gt; destination.notify(data),
    });

    return destination; // –≤–æ–∑–≤—Ä–∞—â–∞–µ–º –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–Ω—ã–π –ø–æ—Ç–æ–∫
  }

  // –£–≤–µ–¥–æ–º–ª—è–µ–º –ø–æ–¥–ø–∏—Å—á–∏–∫–æ–≤, –ø—Ä–æ–ø—É—Å–∫–∞—è –¥–∞–Ω–Ω—ã–µ —á–µ—Ä–µ–∑ –≤—Å–µ –æ–ø–µ—Ä–∞—Ç–æ—Ä—ã
  notify(data) {
    if (this.observers.length === 0) return;

    // –ü—Ä–∏–º–µ–Ω—è–µ–º –∫–∞–∂–¥—ã–π –æ–ø–µ—Ä–∞—Ç–æ—Ä –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ
    let value = data;
    let skip = false;

    for (const operator of this.operators) {
      if (operator.type === 'filter') {
        // –ï—Å–ª–∏ –ø—Ä–µ–¥–∏–∫–∞—Ç –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç false ‚Äî –ø—Ä–æ–ø—É—Å–∫–∞–µ–º —ç—Ç–æ –∑–Ω–∞—á–µ–Ω–∏–µ
        if (!operator.fn(value)) {
          skip = true;
          break;
        }
      } else if (operator.type === 'map') {
        // –ü—Ä–µ–æ–±—Ä–∞–∑—É–µ–º –∑–Ω–∞—á–µ–Ω–∏–µ
        value = operator.fn(value);
      }
    }

    if (!skip) {
      for (const observer of this.observers) {
        observer.update(value);
      }
    }
  }
}

// –ò—Å—Ç–æ—á–Ω–∏–∫: –ø–æ—Ç–æ–∫ —Å–ª—É—á–∞–π–Ω—ã—Ö –±—É–∫–≤
const source = new Observable();

// –°–æ–∑–¥–∞—ë–º –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–Ω—ã–π –ø–æ—Ç–æ–∫:
// 1. –§–∏–ª—å—Ç—Ä—É–µ–º ‚Äî –æ—Å—Ç–∞–≤–ª—è–µ–º —Ç–æ–ª—å–∫–æ —Å–æ–≥–ª–∞—Å–Ω—ã–µ (–Ω–µ –≥–ª–∞—Å–Ω—ã–µ)
// 2. –ü—Ä–µ–æ–±—Ä–∞–∑—É–µ–º ‚Äî –¥–µ–ª–∞–µ–º –±—É–∫–≤—ã –∑–∞–≥–ª–∞–≤–Ω—ã–º–∏
const consonantsUpperCase = source.pipe(
  filter((char) =&gt; !VOWELS.has(char)),  // —Ç–æ–ª—å–∫–æ —Å–æ–≥–ª–∞—Å–Ω—ã–µ
  map((char) =&gt; char.toUpperCase()),    // –≤ –≤–µ—Ä—Ö–Ω–∏–π —Ä–µ–≥–∏—Å—Ç—Ä
);

// Observer: —Å—á–∏—Ç–∞–µ—Ç –∏ –ø–µ—á–∞—Ç–∞–µ—Ç —Å–æ–≥–ª–∞—Å–Ω—ã–µ –∑–∞–≥–ª–∞–≤–Ω—ã–µ –±—É–∫–≤—ã
let count = 0;
consonantsUpperCase.subscribe({
  update(char) {
    process.stdout.write(char);
    count++;
    if (count % 50 === 0) process.stdout.write('\n');
    if (count &gt;= 100) {
      console.log('\n–ì–æ—Ç–æ–≤–æ!');
      process.exit(0);
    }
  },
});

// –ó–∞–ø—É—Å–∫–∞–µ–º –≥–µ–Ω–µ—Ä–∞—Ü–∏—é —Å–ª—É—á–∞–π–Ω—ã—Ö –±—É–∫–≤
const timer = setInterval(() =&gt; {
  const char = randomChar();
  source.notify(char);
}, 200);
</code></pre>
<hr />
<h2 id="26-–ü–∞—Ç—Ç–µ—Ä–Ω-revealing-constructor-–≤-observable"><a class="header" href="#26-–ü–∞—Ç—Ç–µ—Ä–Ω-revealing-constructor-–≤-observable">2.6 –ü–∞—Ç—Ç–µ—Ä–Ω Revealing Constructor –≤ Observable</a></h2>
<p>–ü–∞—Ç—Ç–µ—Ä–Ω "–û—Ç–∫—Ä—ã—Ç—ã–π –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä" (Revealing Constructor) ‚Äî —ç—Ç–æ –∫–æ–≥–¥–∞ –≤ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä
–ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è —Ñ—É–Ω–∫—Ü–∏—è, –∫–æ—Ç–æ—Ä–æ–π Observable "–æ—Ç–∫—Ä—ã–≤–∞–µ—Ç" —Å–≤–æ–∏ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏.</p>
<pre><code class="language-javascript">// –ü—Ä–∏–º–µ—Ä 6. Observable —Å –ø–∞—Ç—Ç–µ—Ä–Ω–æ–º Revealing Constructor
// –õ–æ–≥–∏–∫–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Å–æ–±—ã—Ç–∏–π –ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è –ø—Ä—è–º–æ –≤ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä

const randomChar = () =&gt;
  String.fromCharCode(97 + Math.floor(Math.random() * 26));

const VOWELS = new Set(['a', 'e', 'i', 'o', 'u']);

class Observable {
  constructor(executor) {
    this.observers = [];
    this.operators = [];

    // executor ‚Äî —Ñ—É–Ω–∫—Ü–∏—è, –∫–æ—Ç–æ—Ä—É—é –º—ã –ø–µ—Ä–µ–¥–∞—ë–º –≤ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä
    // –û–Ω–∞ –ø–æ–ª—É—á–∞–µ—Ç —Ñ—É–Ω–∫—Ü–∏—é next ‚Äî —Å–ø–æ—Å–æ–± –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –≤ –ø–æ—Ç–æ–∫
    // –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç "–∏–Ω–∂–µ–∫—Ç–∏—Ä–æ–≤–∞—Ç—å" –ª–æ–≥–∏–∫—É –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –≤–Ω—É—Ç—Ä—å Observable
    if (typeof executor === 'function') {
      executor((data) =&gt; this.notify(data));
    }
  }

  subscribe(observer) {
    this.observers.push(observer);
    return this;
  }

  pipe(...operators) {
    const destination = new Observable();
    destination.operators = operators;
    this.subscribe({ update: (data) =&gt; destination.notify(data) });
    return destination;
  }

  notify(data) {
    if (this.observers.length === 0) return;
    let value = data;
    for (const op of this.operators) {
      if (op.type === 'filter') {
        if (!op.fn(value)) return;
      } else if (op.type === 'map') {
        value = op.fn(value);
      }
    }
    for (const observer of this.observers) {
      observer.update(value);
    }
  }
}

const filter = (predicate) =&gt; ({ type: 'filter', fn: predicate });
const map = (transform) =&gt; ({ type: 'map', fn: transform });

// –°–æ–∑–¥–∞—ë–º Observable —á–µ—Ä–µ–∑ Revealing Constructor:
// –ª–æ–≥–∏–∫–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –±—É–∫–≤ "–∏–Ω–∂–µ–∫—Ç–∏—Ä—É–µ—Ç—Å—è" —á–µ—Ä–µ–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä executor
const charStream = new Observable((next) =&gt; {
  // next ‚Äî —Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –¥–∞–Ω–Ω—ã—Ö –≤ –ø–æ—Ç–æ–∫
  // –¢–∞–π–º–µ—Ä —Ç–µ–ø–µ—Ä—å –∂–∏–≤—ë—Ç –í–ù–£–¢–†–ò Observable
  setInterval(() =&gt; {
    next(randomChar());
  }, 200);
});

// –ü—Ä–∏–º–µ–Ω—è–µ–º –æ–ø–µ—Ä–∞—Ç–æ—Ä—ã –∏ –ø–æ–¥–ø–∏—Å—ã–≤–∞–µ–º—Å—è
let count = 0;
charStream
  .pipe(
    filter((char) =&gt; !VOWELS.has(char)),
    map((char) =&gt; char.toUpperCase()),
  )
  .subscribe({
    update(char) {
      process.stdout.write(char);
      count++;
      if (count % 50 === 0) process.stdout.write('\n');
      if (count &gt;= 100) process.exit(0);
    },
  });
</code></pre>
<hr />
<h2 id="27-–°—Ä–∞–≤–Ω–µ–Ω–∏–µ-—Ä–µ–∞–ª–∏–∑–∞—Ü–∏–π-–ø–∞—Ç—Ç–µ—Ä–Ω–∞-observer"><a class="header" href="#27-–°—Ä–∞–≤–Ω–µ–Ω–∏–µ-—Ä–µ–∞–ª–∏–∑–∞—Ü–∏–π-–ø–∞—Ç—Ç–µ—Ä–Ω–∞-observer">2.7 –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–π –ø–∞—Ç—Ç–µ—Ä–Ω–∞ Observer</a></h2>
<div class="table-wrapper"><table><thead><tr><th>–ü–æ–¥—Ö–æ–¥</th><th>–ü–ª—é—Å—ã</th><th>–ú–∏–Ω—É—Å—ã</th></tr></thead><tbody>
<tr><td>–§—É–Ω–∫—Ü–∏–∏ –∏ –∑–∞–º—ã–∫–∞–Ω–∏—è</td><td>–ö—Ä–∞—Ç–∫–æ—Å—Ç—å, –ø—Ä–æ—Å—Ç–æ—Ç–∞</td><td>–ú–µ–Ω—å—à–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π –¥–ª—è —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è</td></tr>
<tr><td>–ö–ª–∞—Å—Å—ã (Observer + Observable)</td><td>–Ø–≤–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞, –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ</td><td>–ë–æ–ª—å—à–µ –∫–æ–¥–∞, —à–∞–±–ª–æ–Ω–Ω–æ—Å—Ç—å</td></tr>
<tr><td>EventEmitter</td><td>–ì–æ—Ç–æ–≤—ã–π –º–µ—Ö–∞–Ω–∏–∑–º, –Ω–µ –Ω—É–∂–Ω–æ –ø–∏—Å–∞—Ç—å —Å–∞–º–æ–º—É</td><td>–ó–∞–≤—è–∑–∞–Ω –Ω–∞ Node.js API</td></tr>
<tr><td>Revealing Constructor</td><td>–õ–æ–≥–∏–∫–∞ –∏–Ω–∫–∞–ø—Å—É–ª–∏—Ä–æ–≤–∞–Ω–∞, –≥–∏–±–∫–æ</td><td>–°–ª–æ–∂–Ω–µ–µ —á–∏—Ç–∞—Ç—å –ø–æ–Ω–∞—á–∞–ª—É</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="–õ–µ–∫—Ü–∏—è-3-grasp--pure-fabrication-–ß–∏—Å—Ç–∞—è-–≤—ã–¥—É–º–∫–∞"><a class="header" href="#–õ–µ–∫—Ü–∏—è-3-grasp--pure-fabrication-–ß–∏—Å—Ç–∞—è-–≤—ã–¥—É–º–∫–∞">–õ–µ–∫—Ü–∏—è 3. GRASP ‚Äî Pure Fabrication (–ß–∏—Å—Ç–∞—è –≤—ã–¥—É–º–∫–∞)</a></h1>
<h2 id="–í–≤–µ–¥–µ–Ω–∏–µ-9"><a class="header" href="#–í–≤–µ–¥–µ–Ω–∏–µ-9">–í–≤–µ–¥–µ–Ω–∏–µ</a></h2>
<p><strong>Pure Fabrication</strong> (–ß–∏—Å—Ç–∞—è –≤—ã–¥—É–º–∫–∞) ‚Äî –æ–¥–∏–Ω –∏–∑ –¥–µ–≤—è—Ç–∏ –ø—Ä–∏–Ω—Ü–∏–ø–æ–≤ GRASP. –û–Ω –æ—Ç–≤–µ—á–∞–µ—Ç
–Ω–∞ –≤–æ–ø—Ä–æ—Å: —á—Ç–æ –¥–µ–ª–∞—Ç—å, –µ—Å–ª–∏ –Ω–∞–º –Ω—É–∂–Ω–∞ –ø—Ä–æ–≥—Ä–∞–º–º–Ω–∞—è –∞–±—Å—Ç—Ä–∞–∫—Ü–∏—è, –∫–æ—Ç–æ—Ä–∞—è <strong>–Ω–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç
–Ω–∏ –æ–¥–Ω–æ–π —Å—É—â–Ω–æ—Å—Ç–∏ –ø—Ä–µ–¥–º–µ—Ç–Ω–æ–π –æ–±–ª–∞—Å—Ç–∏</strong>, –Ω–æ –ø—Ä–∏ —ç—Ç–æ–º –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ —Å–Ω–∏–∂–∞–µ—Ç –∑–∞—Ü–µ–ø–ª–µ–Ω–∏–µ
(Low Coupling) –∏ —É–ª—É—á—à–∞–µ—Ç —Å–≤—è–∑–Ω–æ—Å—Ç—å (High Cohesion) –∫–æ–¥–∞?</p>
<p>–û—Ç–≤–µ—Ç: <strong>–ø—Ä–∏–¥—É–º—ã–≤–∞–µ–º –µ—ë</strong>. –û—Ç—Å—é–¥–∞ –∏ –Ω–∞–∑–≤–∞–Ω–∏–µ ‚Äî "—á–∏—Å—Ç–∞—è –≤—ã–¥—É–º–∫–∞".</p>
<p>–ü—Ä–∏–º–µ—Ä—ã —á–∏—Å—Ç—ã—Ö –≤—ã–¥—É–º–æ–∫, –∫–æ—Ç–æ—Ä—ã–µ –º—ã —É–∂–µ –∏–∑—É—á–∞–ª–∏:</p>
<ul>
<li><code>Promise</code> ‚Äî –Ω–µ—Ç —Ç–∞–∫–æ–π –≤–µ—â–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –º–∏—Ä–µ</li>
<li><code>EventEmitter</code> ‚Äî —Ç–æ–∂–µ –ø—Ä–∏–¥—É–º–∞–Ω –¥–ª—è —É–¥–æ–±—Å—Ç–≤–∞ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è</li>
<li><code>Socket</code> ‚Äî –∞–±—Å—Ç—Ä–∞–∫—Ü–∏—è –Ω–∞–¥ —Å–µ—Ç–µ–≤—ã–º —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ–º</li>
<li>–°–ª–æ–π –¥–æ—Å—Ç—É–ø–∞ –∫ –¥–∞–Ω–Ω—ã–º (Repository, Loader, Storage) ‚Äî –Ω–µ –æ–±—ä–µ–∫—Ç –ø—Ä–µ–¥–º–µ—Ç–Ω–æ–π –æ–±–ª–∞—Å—Ç–∏</li>
</ul>
<hr />
<h2 id="31-–ü—Ä–æ–±–ª–µ–º–∞-–∑–Ω–∞–Ω–∏–µ-–æ-—Å–ª–æ–µ-–¥–∞–Ω–Ω—ã—Ö-–≤–Ω—É—Ç—Ä–∏-–¥–æ–º–µ–Ω–Ω–æ–≥–æ-–∫–ª–∞—Å—Å–∞"><a class="header" href="#31-–ü—Ä–æ–±–ª–µ–º–∞-–∑–Ω–∞–Ω–∏–µ-–æ-—Å–ª–æ–µ-–¥–∞–Ω–Ω—ã—Ö-–≤–Ω—É—Ç—Ä–∏-–¥–æ–º–µ–Ω–Ω–æ–≥–æ-–∫–ª–∞—Å—Å–∞">3.1 –ü—Ä–æ–±–ª–µ–º–∞: –∑–Ω–∞–Ω–∏–µ –æ —Å–ª–æ–µ –¥–∞–Ω–Ω—ã—Ö –≤–Ω—É—Ç—Ä–∏ –¥–æ–º–µ–Ω–Ω–æ–≥–æ –∫–ª–∞—Å—Å–∞</a></h2>
<p>–†–∞—Å—Å–º–æ—Ç—Ä–∏–º —Ç–∏–ø–∏—á–Ω—É—é –æ—à–∏–±–∫—É ‚Äî –∫–æ–≥–¥–∞ –∫–ª–∞—Å—Å –ø—Ä–µ–¥–º–µ—Ç–Ω–æ–π –æ–±–ª–∞—Å—Ç–∏ "–∑–Ω–∞–µ—Ç" –æ —Å—Ç—Ä—É–∫—Ç—É—Ä–µ
–±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö.</p>
<pre><code class="language-javascript">// –ü—Ä–∏–º–µ—Ä 1. –ü–õ–û–•–û–ô –ö–û–î ‚Äî Person –∑–Ω–∞–µ—Ç –æ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö (–≤—ã—Å–æ–∫–æ–µ –∑–∞—Ü–µ–ø–ª–µ–Ω–∏–µ)

// –°–∏–º—É–ª—è—Ü–∏—è –æ–±—ä–µ–∫—Ç–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö
const db = {
  async query(sql, params) {
    // –í —Ä–µ–∞–ª—å–Ω–æ—Å—Ç–∏ –∑–¥–µ—Å—å –±—ã–ª –±—ã –≤—ã–∑–æ–≤ pg, mysql2 –∏ —Ç.–¥.
    console.log(`–í—ã–ø–æ–ª–Ω—è–µ–º SQL: ${sql}`, params);
    // –í–æ–∑–≤—Ä–∞—â–∞–µ–º —Å–∏–º—É–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
    return { name: '–†–µ–Ω–µ –î–µ–∫–∞—Ä—Ç', age: 54, address: '–ù–∏–¥–µ—Ä–ª–∞–Ω–¥—ã' };
  },
};

// –ü–†–û–ë–õ–ï–ú–ê: –∫–ª–∞—Å—Å Person —Å–∞–º —É–º–µ–µ—Ç –∑–∞–≥—Ä—É–∂–∞—Ç—å —Å–µ–±—è –∏–∑ –ë–î
class Person {
  constructor(data) {
    // Person –∑–Ω–∞–µ—Ç –æ —Å—Ç—Ä—É–∫—Ç—É—Ä–µ –∑–∞–ø–∏—Å–∏ –∏–∑ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
    this.name = data.name;
    this.age = data.age;
    this.address = data.address;
  }

  // –ü–õ–û–•–û: —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π –º–µ—Ç–æ–¥ –∑–∞–≥—Ä—É–∑–∫–∏ –ø—Ä—è–º–æ –≤ –¥–æ–º–µ–Ω–Ω–æ–º –∫–ª–∞—Å—Å–µ
  // Person –Ω–µ –¥–æ–ª–∂–µ–Ω –∑–Ω–∞—Ç—å –æ SQL –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–µ —Ç–∞–±–ª–∏—Ü
  static async load(db, id) {
    const data = await db.query('SELECT name, age, address FROM persons WHERE id = $1', [id]);
    // Person –∑–Ω–∞–µ—Ç, —á—Ç–æ –ø–æ–ª—è –Ω–∞–∑—ã–≤–∞—é—Ç—Å—è –∏–º–µ–Ω–Ω–æ name, age, address
    return new Person(data);
  }
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
async function main() {
  const person = await Person.load(db, 101);
  console.log(person);
}

main();
// –ü—Ä–æ–±–ª–µ–º—ã:
// 1. Person –ø—Ä–∏–≤—è–∑–∞–Ω –∫ —Å—Ç—Ä—É–∫—Ç—É—Ä–µ –ë–î (–∏–∑–º–µ–Ω–µ–Ω–∏–µ —Å—Ö–µ–º—ã = –∏–∑–º–µ–Ω–µ–Ω–∏–µ Person)
// 2. Person –Ω–∞—Ä—É—à–∞–µ—Ç Single Responsibility Principle
// 3. –°–ª–æ–∂–Ω–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å ‚Äî –Ω—É–∂–Ω–∞ —Ä–µ–∞–ª—å–Ω–∞—è –ë–î –∏–ª–∏ –º–æ–∫
</code></pre>
<hr />
<h2 id="32-–®–∞–≥-1-–†–∞–∑–¥–µ–ª–µ–Ω–∏–µ-person-–∏-–ª–æ–≥–∏–∫–∏-–∑–∞–≥—Ä—É–∑–∫–∏"><a class="header" href="#32-–®–∞–≥-1-–†–∞–∑–¥–µ–ª–µ–Ω–∏–µ-person-–∏-–ª–æ–≥–∏–∫–∏-–∑–∞–≥—Ä—É–∑–∫–∏">3.2 –®–∞–≥ 1: –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ Person –∏ –ª–æ–≥–∏–∫–∏ –∑–∞–≥—Ä—É–∑–∫–∏</a></h2>
<p>–ü–µ—Ä–≤–æ–µ —É–ª—É—á—à–µ–Ω–∏–µ ‚Äî –≤—ã–Ω–µ—Å—Ç–∏ –º–µ—Ç–æ–¥ –∑–∞–≥—Ä—É–∑–∫–∏ –∏–∑ –∫–ª–∞—Å—Å–∞ <code>Person</code> –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–π –∫–ª–∞—Å—Å.</p>
<pre><code class="language-javascript">// –ü—Ä–∏–º–µ—Ä 2. –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ: Person ‚Äî —Ç–æ–ª—å–∫–æ –ø—Ä–µ–¥–º–µ—Ç–Ω–∞—è –æ–±–ª–∞—Å—Ç—å, Loader ‚Äî —á–∏—Å—Ç–∞—è –≤—ã–¥—É–º–∫–∞

// –°–∏–º—É–ª—è—Ü–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
const db = {
  async query(sql, params) {
    console.log(`SQL: ${sql}`, params);
    return { name: '–†–µ–Ω–µ –î–µ–∫–∞—Ä—Ç', age: 54, address: '–ù–∏–¥–µ—Ä–ª–∞–Ω–¥—ã' };
  },
};

// –ß–∏—Å—Ç—ã–π –¥–æ–º–µ–Ω–Ω—ã–π –∫–ª–∞—Å—Å ‚Äî –∑–Ω–∞–µ—Ç —Ç–æ–ª—å–∫–æ –æ —Å–≤–æ–∏—Ö –ø–æ–ª—è—Ö –ø—Ä–µ–¥–º–µ—Ç–Ω–æ–π –æ–±–ª–∞—Å—Ç–∏
class Person {
  constructor({ name, age, address }) {
    this.name = name;
    this.age = age;
    this.address = address;
  }

  // –ú–µ—Ç–æ–¥—ã –ø—Ä–µ–¥–º–µ—Ç–Ω–æ–π –æ–±–ª–∞—Å—Ç–∏ (–µ—Å–ª–∏ –Ω—É–∂–Ω—ã)
  greet() {
    return `–ú–µ–Ω—è –∑–æ–≤—É—Ç ${this.name}`;
  }
}

// –ß–ò–°–¢–ê–Ø –í–´–î–£–ú–ö–ê: Loader ‚Äî –∫–ª–∞—Å—Å, –∫–æ—Ç–æ—Ä–æ–≥–æ –Ω–µ—Ç –≤ –ø—Ä–µ–¥–º–µ—Ç–Ω–æ–π –æ–±–ª–∞—Å—Ç–∏,
// –Ω–æ –æ–Ω –Ω—É–∂–µ–Ω –Ω–∞–º –¥–ª—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ –∫–æ–¥–∞
// Loader –∑–Ω–∞–µ—Ç –æ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö, Person ‚Äî –Ω–µ—Ç
class PersonLoader {
  constructor(db) {
    this.db = db;    // —Å—Å—ã–ª–∫–∞ –Ω–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ —Å –ë–î (Dependency Injection)
  }

  // –ó–∞–≥—Ä—É–∂–∞–µ—Ç Person –∏–∑ –ë–î –ø–æ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä—É
  async load(id) {
    const data = await this.db.query(
      'SELECT name, age, address FROM persons WHERE id = $1',
      [id],
    );
    // Loader —Å–æ–∑–¥–∞—ë—Ç Person –∏–∑ –¥–∞–Ω–Ω—ã—Ö –ë–î
    return new Person(data);
  }
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
async function main() {
  const loader = new PersonLoader(db);
  const person = await loader.load(101);
  console.log(person.greet());
  // –í—ã–≤–æ–¥: SQL: SELECT name, age, address FROM persons WHERE id = $1 [ 101 ]
  //        –ú–µ–Ω—è –∑–æ–≤—É—Ç –†–µ–Ω–µ –î–µ–∫–∞—Ä—Ç
}

main();
</code></pre>
<hr />
<h2 id="33-–®–∞–≥-2-–£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π-loader-—á–µ—Ä–µ–∑-–∑–∞–º—ã–∫–∞–Ω–∏—è"><a class="header" href="#33-–®–∞–≥-2-–£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π-loader-—á–µ—Ä–µ–∑-–∑–∞–º—ã–∫–∞–Ω–∏—è">3.3 –®–∞–≥ 2: –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π Loader —á–µ—Ä–µ–∑ –∑–∞–º—ã–∫–∞–Ω–∏—è</a></h2>
<p>–ï—â—ë –ª—É—á—à–µ ‚Äî —Å–¥–µ–ª–∞—Ç—å Loader —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–º, –Ω–µ –ø—Ä–∏–≤—è–∑–∞–Ω–Ω—ã–º –∫ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–º—É –∫–ª–∞—Å—Å—É Person.
–ó–¥–µ—Å—å –º—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º –º–µ—Ç–∞–ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ JavaScript: —Å–æ–∑–¥–∞—ë–º –∫–ª–∞—Å—Å "–Ω–∞ –ª–µ—Ç—É".</p>
<pre><code class="language-javascript">// –ü—Ä–∏–º–µ—Ä 3. –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π Loader ‚Äî –µ—â—ë –æ–¥–Ω–∞ —á–∏—Å—Ç–∞—è –≤—ã–¥—É–º–∫–∞
// Loader –Ω–µ –∑–Ω–∞–µ—Ç –æ Person, –æ–Ω —Ä–∞–±–æ—Ç–∞–µ—Ç —Å –ª—é–±–æ–π —Å—É—â–Ω–æ—Å—Ç—å—é

const db = {
  async query(sql, params) {
    console.log(`SQL: ${sql}`, params);
    // –°–∏–º—É–ª–∏—Ä—É–µ–º –¥–∞–Ω–Ω—ã–µ –∏–∑ —Ä–∞–∑–Ω—ã—Ö —Ç–∞–±–ª–∏—Ü
    const mockData = {
      persons: { name: '–†–µ–Ω–µ –î–µ–∫–∞—Ä—Ç', age: 54, address: '–ù–∏–¥–µ—Ä–ª–∞–Ω–¥—ã' },
      products: { title: '–ö–Ω–∏–≥–∞ –ø–æ —Ñ–∏–ª–æ—Å–æ—Ñ–∏–∏', price: 999 },
    };
    return mockData[params[1]] ?? {};
  },
};

// –§–∞–±—Ä–∏—á–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è: –ø—Ä–∏–Ω–∏–º–∞–µ—Ç —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ —Å –ë–î –∏ –∏–º—è —Å—É—â–Ω–æ—Å—Ç–∏,
// –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é –∑–∞–≥—Ä—É–∑–∫–∏
// –≠—Ç–æ –∑–∞–º—ã–∫–∞–Ω–∏–µ ‚Äî –≤–º–µ—Å—Ç–æ –∫–ª–∞—Å—Å–∞ –¥–ª—è –∫—Ä–∞—Ç–∫–æ—Å—Ç–∏
const createLoader = (db, entityName) =&gt; {
  // –°–æ–∑–¥–∞—ë–º –∞–Ω–æ–Ω–∏–º–Ω—ã–π –∫–ª–∞—Å—Å –∏ –¥–∞—ë–º –µ–º—É –∏–º—è —á–µ—Ä–µ–∑ Object.defineProperty
  // –≠—Ç–æ –º–µ—Ç–∞–ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ: –∏–º—è –∫–ª–∞—Å—Å–∞ —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏
  const EntityClass = class {};
  Object.defineProperty(EntityClass, 'name', {
    value: entityName,
    writable: false,
  });

  // SQL-–∑–∞–ø—Ä–æ—Å —Ç–æ–∂–µ —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç—Å—è –ø–æ –∏–º–µ–Ω–∏ —Å—É—â–Ω–æ—Å—Ç–∏
  const sql = `SELECT * FROM ${entityName} WHERE id = $1`;

  // –í–æ–∑–≤—Ä–∞—â–∞–µ–º —Ñ—É–Ω–∫—Ü–∏—é –∑–∞–≥—Ä—É–∑–∫–∏ ‚Äî –∑–∞–º—ã–∫–∞–Ω–∏–µ –Ω–∞–¥ db, EntityClass –∏ sql
  return async (id) =&gt; {
    const data = await db.query(sql, [id, entityName]);
    // –°–æ–∑–¥–∞—ë–º —ç–∫–∑–µ–º–ø–ª—è—Ä –Ω—É–∂–Ω–æ–≥–æ –∫–ª–∞—Å—Å–∞ –∏ –∫–æ–ø–∏—Ä—É–µ–º –≤ –Ω–µ–≥–æ –ø–æ–ª—è –∏–∑ –ë–î
    return Object.assign(new EntityClass(), data);
  };
};

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ: —Å–æ–∑–¥–∞—ë–º –∑–∞–≥—Ä—É–∑—á–∏–∫–∏ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Å—É—â–Ω–æ—Å—Ç–µ–π
async function main() {
  const loadPerson = createLoader(db, 'persons');
  const loadProduct = createLoader(db, 'products');

  const person = await loadPerson(101);
  console.log('–ó–∞–≥—Ä—É–∂–µ–Ω:', person.constructor.name, person);
  // –í—ã–≤–æ–¥: –ó–∞–≥—Ä—É–∂–µ–Ω: persons { name: '–†–µ–Ω–µ –î–µ–∫–∞—Ä—Ç', age: 54, address: '–ù–∏–¥–µ—Ä–ª–∞–Ω–¥—ã' }

  const product = await loadProduct(42);
  console.log('–ó–∞–≥—Ä—É–∂–µ–Ω:', product.constructor.name, product);
  // –í—ã–≤–æ–¥: –ó–∞–≥—Ä—É–∂–µ–Ω: products { title: '–ö–Ω–∏–≥–∞ –ø–æ —Ñ–∏–ª–æ—Å–æ—Ñ–∏–∏', price: 999 }
}

main();
</code></pre>
<hr />
<h2 id="34-–ß–∏—Å—Ç–∞—è-–≤—ã–¥—É–º–∫–∞-–¥–ª—è-—Ä–∞–±–æ—Ç—ã-—Å-—Ñ–∞–π–ª–∞–º–∏-–∫–ª–∞—Å—Å-storage"><a class="header" href="#34-–ß–∏—Å—Ç–∞—è-–≤—ã–¥—É–º–∫–∞-–¥–ª—è-—Ä–∞–±–æ—Ç—ã-—Å-—Ñ–∞–π–ª–∞–º–∏-–∫–ª–∞—Å—Å-storage">3.4 –ß–∏—Å—Ç–∞—è –≤—ã–¥—É–º–∫–∞ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Ñ–∞–π–ª–∞–º–∏: –∫–ª–∞—Å—Å Storage</a></h2>
<p>–ï—â—ë –æ–¥–∏–Ω –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π –ø—Ä–∏–º–µ—Ä Pure Fabrication ‚Äî —Å–ª–æ–π —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –≤ —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º–µ.
–°–Ω–∞—á–∞–ª–∞ –ø–æ–∫–∞–∂–µ–º –ø–ª–æ—Ö–æ–π –≤–∞—Ä–∏–∞–Ω—Ç, –∑–∞—Ç–µ–º –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π.</p>
<pre><code class="language-javascript">// –ü—Ä–∏–º–µ—Ä 4. –ü–õ–û–•–û–ô –ö–û–î ‚Äî Person —Å–∞–º —É–º–µ–µ—Ç —Å–æ—Ö—Ä–∞–Ω—è—Ç—å—Å—è –Ω–∞ –¥–∏—Å–∫

import { writeFileSync, readFileSync, existsSync } from 'node:fs';

// –ü–†–û–ë–õ–ï–ú–ê: Person –∑–Ω–∞–µ—Ç –æ —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º–µ, —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏–∏, –ø—É—Ç—è—Ö –∫ —Ñ–∞–π–ª–∞–º
class Person {
  constructor(name, age, fileName) {
    this.name = name;
    this.age = age;
    // fileName ‚Äî —ç—Ç–æ –¥–µ—Ç–∞–ª—å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏, –∫–æ—Ç–æ—Ä–∞—è –Ω–µ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –≤ Person
    // –í –ø—Ä–µ–¥–º–µ—Ç–Ω–æ–π –æ–±–ª–∞—Å—Ç–∏ —É Person –Ω–µ—Ç "–∏–º–µ–Ω–∏ —Ñ–∞–π–ª–∞"
    Object.defineProperty(this, 'fileName', {
      value: fileName,
      enumerable: false,   // –Ω–µ –ø–æ–ø–∞–¥—ë—Ç –≤ JSON.stringify
      writable: false,
    });
  }

  // –ü–õ–û–•–û: Person –∑–Ω–∞–µ—Ç –æ —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –∏ –∑–∞–ø–∏—Å–∏ –≤ —Ñ–∞–π–ª
  save() {
    const json = JSON.stringify(this);
    writeFileSync(this.fileName, json, 'utf-8');
    console.log(`–°–æ—Ö—Ä–∞–Ω–µ–Ω–æ –≤ ${this.fileName}`);
  }

  // –ü–õ–û–•–û: Person —É–º–µ–µ—Ç —á–∏—Ç–∞—Ç—å —Å–µ–±—è –∏–∑ —Ñ–∞–π–ª–∞
  static load(fileName) {
    const json = readFileSync(fileName, 'utf-8');
    const data = JSON.parse(json);
    return Object.assign(new Person('', 0, fileName), data);
  }
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
const person = new Person('–†–µ–Ω–µ –î–µ–∫–∞—Ä—Ç', 54, './descartes.json');
person.save();

const loaded = Person.load('./descartes.json');
console.log(loaded);
// –ü—Ä–æ–±–ª–µ–º—ã —Ç–µ –∂–µ: Person –Ω–∞—Ä—É—à–∞–µ—Ç SRP, —Ç—è–∂–µ–ª–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å, —Ç—è–∂–µ–ª–æ –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å
</code></pre>
<pre><code class="language-javascript">// –ü—Ä–∏–º–µ—Ä 5. –•–û–†–û–®–ò–ô –ö–û–î ‚Äî Storage –∫–∞–∫ —á–∏—Å—Ç–∞—è –≤—ã–¥—É–º–∫–∞ (Pure Fabrication)

import { writeFileSync, readFileSync, mkdirSync, existsSync } from 'node:fs';
import { join } from 'node:path';

// –ß–∏—Å—Ç—ã–π –¥–æ–º–µ–Ω–Ω—ã–π –∫–ª–∞—Å—Å ‚Äî —Ç–æ–ª—å–∫–æ –ø–æ–ª—è –ø—Ä–µ–¥–º–µ—Ç–Ω–æ–π –æ–±–ª–∞—Å—Ç–∏
class Person {
  constructor(name, age) {
    this.name = name;
    this.age = age;
  }

  introduce() {
    return `–Ø ${this.name}, –º–Ω–µ ${this.age} –ª–µ—Ç`;
  }
}

// –ß–ò–°–¢–ê–Ø –í–´–î–£–ú–ö–ê: Storage
// –≠—Ç–æ—Ç –∫–ª–∞—Å—Å –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –≤ –ø—Ä–µ–¥–º–µ—Ç–Ω–æ–π –æ–±–ª–∞—Å—Ç–∏, –Ω–æ –æ–Ω –Ω–∞–º –Ω—É–∂–µ–Ω
// –¥–ª—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ —Ä–∞–±–æ—Ç—ã —Å —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º–æ–π
// –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:
// - Person –Ω–∏—á–µ–≥–æ –Ω–µ –∑–Ω–∞–µ—Ç –æ —Ñ–∞–π–ª–∞—Ö
// - Storage –º–æ–∂–Ω–æ –∑–∞–º–µ–Ω–∏—Ç—å (–Ω–∞–ø—Ä–∏–º–µ—Ä, –Ω–∞ DatabaseStorage) –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏—è Person
// - Storage –ª–µ–≥–∫–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω–æ
class Storage {
  constructor(directory) {
    this.directory = directory;
    // –°–æ–∑–¥–∞—ë–º –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é, –µ—Å–ª–∏ –µ—ë –Ω–µ—Ç
    if (!existsSync(directory)) {
      mkdirSync(directory, { recursive: true });
    }
  }

  // –§–æ—Ä–º–∏—Ä—É–µ–º –ø—É—Ç—å –∫ —Ñ–∞–π–ª—É –ø–æ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä—É
  _getFilePath(id) {
    return join(this.directory, `${id}.json`);
  }

  // –°–æ—Ö—Ä–∞–Ω—è–µ–º –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω—ã–π –æ–±—ä–µ–∫—Ç –ø–æ–¥ —É–∫–∞–∑–∞–Ω–Ω—ã–º –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–æ–º
  save(id, entity) {
    const filePath = this._getFilePath(id);
    const json = JSON.stringify(entity, null, 2);
    writeFileSync(filePath, json, 'utf-8');
    console.log(`–°–æ—Ö—Ä–∞–Ω–µ–Ω–æ: ${filePath}`);
  }

  // –ó–∞–≥—Ä—É–∂–∞–µ–º –æ–±—ä–µ–∫—Ç –ø–æ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä—É –∏ "–ø—Ä–µ–≤—Ä–∞—â–∞–µ–º" –µ–≥–æ –≤ —ç–∫–∑–µ–º–ø–ª—è—Ä –Ω—É–∂–Ω–æ–≥–æ –∫–ª–∞—Å—Å–∞
  load(id, EntityClass) {
    const filePath = this._getFilePath(id);
    if (!existsSync(filePath)) {
      throw new Error(`–ó–∞–ø–∏—Å—å —Å id=${id} –Ω–µ –Ω–∞–π–¥–µ–Ω–∞`);
    }
    const json = readFileSync(filePath, 'utf-8');
    const data = JSON.parse(json);
    // Object.assign –∫–æ–ø–∏—Ä—É–µ—Ç –≤—Å–µ –ø–æ–ª—è –∏–∑ data –≤ –Ω–æ–≤—ã–π —ç–∫–∑–µ–º–ø–ª—è—Ä EntityClass
    return Object.assign(new EntityClass('', 0), data);
  }
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ ‚Äî Storage –∏ Person —Å–ª–∞–±–æ —Å–≤—è–∑–∞–Ω—ã (Low Coupling)
async function main() {
  const storage = new Storage('./data');

  // –°–æ–∑–¥–∞—ë–º Person –±–µ–∑ –∫–∞–∫–∏—Ö-–ª–∏–±–æ –∑–Ω–∞–Ω–∏–π –æ —Ö—Ä–∞–Ω–µ–Ω–∏–∏
  const person = new Person('–†–µ–Ω–µ –î–µ–∫–∞—Ä—Ç', 54);

  // Storage —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –µ–≥–æ ‚Äî Person –æ–± —ç—Ç–æ–º –Ω–µ –∑–Ω–∞–µ—Ç
  storage.save(100, person);

  // Storage –∑–∞–≥—Ä—É–∂–∞–µ—Ç –∏ –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –æ–±—ä–µ–∫—Ç
  const loaded = storage.load(100, Person);
  console.log(loaded.introduce());
  // –í—ã–≤–æ–¥: –Ø –†–µ–Ω–µ –î–µ–∫–∞—Ä—Ç, –º–Ω–µ 54 –ª–µ—Ç
}

main();
</code></pre>
<hr />
<h2 id="35-–ù–µ—Å–∫–æ–ª—å–∫–æ-—É—Ä–æ–≤–Ω–µ–π-—á–∏—Å—Ç–æ–π-–≤—ã–¥—É–º–∫–∏"><a class="header" href="#35-–ù–µ—Å–∫–æ–ª—å–∫–æ-—É—Ä–æ–≤–Ω–µ–π-—á–∏—Å—Ç–æ–π-–≤—ã–¥—É–º–∫–∏">3.5 –ù–µ—Å–∫–æ–ª—å–∫–æ —É—Ä–æ–≤–Ω–µ–π —á–∏—Å—Ç–æ–π –≤—ã–¥—É–º–∫–∏</a></h2>
<p>–í —Ä–µ–∞–ª—å–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è—Ö —á–∏—Å—Ç—ã–µ –≤—ã–¥—É–º–∫–∏ –æ–±—Ä–∞–∑—É—é—Ç <strong>—Å–ª–æ–∏</strong>. –ö–∞–∂–¥—ã–π —Å–ª–æ–π —Å–∫—Ä—ã–≤–∞–µ—Ç
–¥–µ—Ç–∞–ª–∏ –æ—Ç —Å–ª–µ–¥—É—é—â–µ–≥–æ.</p>
<pre><code class="language-javascript">// –ü—Ä–∏–º–µ—Ä 6. –¢—Ä–∏ —Å–ª–æ—è —á–∏—Å—Ç–æ–π –≤—ã–¥—É–º–∫–∏: Domain -&gt; Repository -&gt; Driver

// ==========================================
// –°–ª–æ–π 1: –ü—Ä–µ–¥–º–µ—Ç–Ω–∞—è –æ–±–ª–∞—Å—Ç—å (Domain)
// –¢–æ–ª—å–∫–æ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞, –Ω–∏–∫–∞–∫–∏—Ö –¥–µ—Ç–∞–ª–µ–π —Ö—Ä–∞–Ω–µ–Ω–∏—è
// ==========================================

class Product {
  constructor(title, price, category) {
    this.title = title;
    this.price = price;
    this.category = category;
  }

  isExpensive() {
    return this.price &gt; 1000;
  }

  applyDiscount(percent) {
    return new Product(
      this.title,
      this.price * (1 - percent / 100),
      this.category,
    );
  }
}

// ==========================================
// –°–ª–æ–π 2: –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π (–ß–ò–°–¢–ê–Ø –í–´–î–£–ú–ö–ê #1)
// –ê–±—Å—Ç—Ä–∞–∫—Ü–∏—è –Ω–∞–¥ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ–º ‚Äî –Ω–µ –∑–Ω–∞–µ—Ç, —ç—Ç–æ —Ñ–∞–π–ª, –ë–î –∏–ª–∏ –ø–∞–º—è—Ç—å
// –ó–Ω–∞–µ—Ç —Ç–æ–ª—å–∫–æ –æ Product
// ==========================================

class ProductRepository {
  constructor(driver) {
    // driver ‚Äî –µ—â—ë –æ–¥–Ω–∞ —á–∏—Å—Ç–∞—è –≤—ã–¥—É–º–∫–∞ –Ω–∏–∂–µ —É—Ä–æ–≤–Ω–µ–º
    this.driver = driver;
  }

  async findById(id) {
    const data = await this.driver.read('products', id);
    if (!data) return null;
    return Object.assign(new Product('', 0, ''), data);
  }

  async save(id, product) {
    await this.driver.write('products', id, { ...product });
  }

  async findExpensive() {
    const all = await this.driver.readAll('products');
    return all
      .map((data) =&gt; Object.assign(new Product('', 0, ''), data))
      .filter((p) =&gt; p.isExpensive());
  }
}

// ==========================================
// –°–ª–æ–π 3: –î—Ä–∞–π–≤–µ—Ä —Ö—Ä–∞–Ω–µ–Ω–∏—è (–ß–ò–°–¢–ê–Ø –í–´–î–£–ú–ö–ê #2)
// –ó–Ω–∞–µ—Ç –æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–º —Å–ø–æ—Å–æ–±–µ —Ö—Ä–∞–Ω–µ–Ω–∏—è (–≤ –ø–∞–º—è—Ç–∏, —Ñ–∞–π–ª, –ë–î)
// –ù–µ –∑–Ω–∞–µ—Ç –æ Product ‚Äî —Ä–∞–±–æ—Ç–∞–µ—Ç —Å —Å—ã—Ä—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏
// ==========================================

class InMemoryDriver {
  constructor() {
    // –ü—Ä–æ—Å—Ç–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ –≤ –ø–∞–º—è—Ç–∏: { 'products': { 1: {...}, 2: {...} } }
    this.store = new Map();
  }

  async read(collection, id) {
    const coll = this.store.get(collection);
    return coll ? coll.get(id) ?? null : null;
  }

  async write(collection, id, data) {
    if (!this.store.has(collection)) {
      this.store.set(collection, new Map());
    }
    this.store.get(collection).set(id, data);
  }

  async readAll(collection) {
    const coll = this.store.get(collection);
    return coll ? [...coll.values()] : [];
  }
}

// ==========================================
// –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
// ==========================================

async function main() {
  // –°–æ–±–∏—Ä–∞–µ–º —Å–ª–æ–∏ —á–µ—Ä–µ–∑ Dependency Injection
  const driver = new InMemoryDriver();           // —á–∏—Å—Ç–∞—è –≤—ã–¥—É–º–∫–∞ #2
  const repo = new ProductRepository(driver);    // —á–∏—Å—Ç–∞—è –≤—ã–¥—É–º–∫–∞ #1

  // –†–∞–±–æ—Ç–∞–µ–º —Å –ø—Ä–µ–¥–º–µ—Ç–Ω–æ–π –æ–±–ª–∞—Å—Ç—å—é ‚Äî –ø—Ä–æ —Å–ª–æ–∏ —Ö—Ä–∞–Ω–µ–Ω–∏—è –Ω–µ –¥—É–º–∞–µ–º
  const book = new Product('–ü–∞—Ç—Ç–µ—Ä–Ω—ã –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è', 1500, 'books');
  const pen = new Product('–†—É—á–∫–∞', 50, 'stationery');

  await repo.save(1, book);
  await repo.save(2, pen);

  // –ó–∞–≥—Ä—É–∂–∞–µ–º –ø–æ id
  const loaded = await repo.findById(1);
  console.log(`–ó–∞–≥—Ä—É–∂–µ–Ω: ${loaded.title}, —Ü–µ–Ω–∞: ${loaded.price}`);
  // –í—ã–≤–æ–¥: –ó–∞–≥—Ä—É–∂–µ–Ω: –ü–∞—Ç—Ç–µ—Ä–Ω—ã –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è, —Ü–µ–Ω–∞: 1500

  // –ò—Å–ø–æ–ª—å–∑—É–µ–º –º–µ—Ç–æ–¥ –ø—Ä–µ–¥–º–µ—Ç–Ω–æ–π –æ–±–ª–∞—Å—Ç–∏
  console.log(`–î–æ—Ä–æ–≥–æ–π —Ç–æ–≤–∞—Ä? ${loaded.isExpensive()}`);
  // –í—ã–≤–æ–¥: –î–æ—Ä–æ–≥–æ–π —Ç–æ–≤–∞—Ä? true

  // –ü–æ–∏—Å–∫ –¥–æ—Ä–æ–≥–∏—Ö —Ç–æ–≤–∞—Ä–æ–≤
  const expensive = await repo.findExpensive();
  console.log('–î–æ—Ä–æ–≥–∏–µ —Ç–æ–≤–∞—Ä—ã:', expensive.map((p) =&gt; p.title));
  // –í—ã–≤–æ–¥: –î–æ—Ä–æ–≥–∏–µ —Ç–æ–≤–∞—Ä—ã: [ '–ü–∞—Ç—Ç–µ—Ä–Ω—ã –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è' ]
}

main();
</code></pre>
<hr />
<h2 id="36-–°—Ç—Ä–∞—Ç–µ–≥–∏—è-–∫–∞–∫-—Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ-—á–∏—Å—Ç–æ–π-–≤—ã–¥—É–º–∫–∏"><a class="header" href="#36-–°—Ç—Ä–∞—Ç–µ–≥–∏—è-–∫–∞–∫-—Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ-—á–∏—Å—Ç–æ–π-–≤—ã–¥—É–º–∫–∏">3.6 –°—Ç—Ä–∞—Ç–µ–≥–∏—è –∫–∞–∫ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ —á–∏—Å—Ç–æ–π –≤—ã–¥—É–º–∫–∏</a></h2>
<p>–ß–∏—Å—Ç–∞—è –≤—ã–¥—É–º–∫–∞ (Loader, Storage, Repository) –º–æ–∂–µ—Ç –±—ã—Ç—å —Ä–∞—Å—à–∏—Ä–µ–Ω–∞ –¥–æ <strong>–ø–∞—Ç—Ç–µ—Ä–Ω–∞ –°—Ç—Ä–∞—Ç–µ–≥–∏—è</strong>:
–±–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å, –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –ø–æ–¥–∫–ª–∞—Å—Å—ã ‚Äî —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏.</p>
<pre><code class="language-javascript">// –ü—Ä–∏–º–µ—Ä 7. Repository –∫–∞–∫ —Å—Ç—Ä–∞—Ç–µ–≥–∏—è: —Ñ–∞–π–ª–æ–≤–æ–µ –∏ in-memory —Ö—Ä–∞–Ω–∏–ª–∏—â–µ

import { writeFileSync, readFileSync, readdirSync, existsSync, mkdirSync } from 'node:fs';
import { join } from 'node:path';

// ==========================================
// –ë–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å ‚Äî –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å (–∫–æ–Ω—Ç—Ä–∞–∫—Ç)
// ==========================================

class BaseRepository {
  // –ê–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–π –º–µ—Ç–æ–¥ ‚Äî –ø–æ–¥–∫–ª–∞—Å—Å—ã –æ–±—è–∑–∞–Ω—ã –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å
  async save(id, entity) {
    throw new Error('save() –Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω');
  }

  async findById(id) {
    throw new Error('findById() –Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω');
  }

  async findAll() {
    throw new Error('findAll() –Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω');
  }
}

// ==========================================
// –°—Ç—Ä–∞—Ç–µ–≥–∏—è 1: —Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ –ø–∞–º—è—Ç–∏ (–¥–ª—è —Ç–µ—Å—Ç–æ–≤)
// ==========================================

class MemoryRepository extends BaseRepository {
  constructor() {
    super();
    this.data = new Map();
  }

  async save(id, entity) {
    // –°–æ—Ö—Ä–∞–Ω—è–µ–º –∫–æ–ø–∏—é, —á—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å –º—É—Ç–∞—Ü–∏–∏ –æ—Ä–∏–≥–∏–Ω–∞–ª–∞
    this.data.set(id, { ...entity });
  }

  async findById(id) {
    return this.data.get(id) ?? null;
  }

  async findAll() {
    return [...this.data.values()];
  }
}

// ==========================================
// –°—Ç—Ä–∞—Ç–µ–≥–∏—è 2: —Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ —Ñ–∞–π–ª–∞—Ö (–¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞)
// ==========================================

class FileRepository extends BaseRepository {
  constructor(directory) {
    super();
    this.directory = directory;
    if (!existsSync(directory)) {
      mkdirSync(directory, { recursive: true });
    }
  }

  _filePath(id) {
    return join(this.directory, `${id}.json`);
  }

  async save(id, entity) {
    writeFileSync(this._filePath(id), JSON.stringify(entity, null, 2), 'utf-8');
  }

  async findById(id) {
    const path = this._filePath(id);
    if (!existsSync(path)) return null;
    return JSON.parse(readFileSync(path, 'utf-8'));
  }

  async findAll() {
    if (!existsSync(this.directory)) return [];
    return readdirSync(this.directory)
      .filter((f) =&gt; f.endsWith('.json'))
      .map((f) =&gt; JSON.parse(readFileSync(join(this.directory, f), 'utf-8')));
  }
}

// ==========================================
// –ü—Ä–µ–¥–º–µ—Ç–Ω–∞—è –æ–±–ª–∞—Å—Ç—å ‚Äî –Ω–µ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞
// ==========================================

class Person {
  constructor(name, age) {
    this.name = name;
    this.age = age;
  }
}

// ==========================================
// –§—É–Ω–∫—Ü–∏—è —Å–µ—Ä–≤–∏—Å–Ω–æ–≥–æ —Å–ª–æ—è ‚Äî —Ä–∞–±–æ—Ç–∞–µ—Ç —Å –ª—é–±–æ–π —Å—Ç—Ä–∞—Ç–µ–≥–∏–µ–π —Ö—Ä–∞–Ω–∏–ª–∏—â–∞
// ==========================================

async function runDemo(repository) {
  await repository.save(1, new Person('–†–µ–Ω–µ –î–µ–∫–∞—Ä—Ç', 54));
  await repository.save(2, new Person('–ò–º–º–∞–Ω—É–∏–ª –ö–∞–Ω—Ç', 79));

  const descartes = await repository.findById(1);
  console.log('–ù–∞–π–¥–µ–Ω:', descartes);

  const all = await repository.findAll();
  console.log('–í—Å–µ –∑–∞–ø–∏—Å–∏:', all.length, '—à—Ç—É–∫');
}

// –ó–∞–ø—É—Å–∫–∞–µ–º —Å —Ä–∞–∑–Ω—ã–º–∏ —Å—Ç—Ä–∞—Ç–µ–≥–∏—è–º–∏ —Ö—Ä–∞–Ω–µ–Ω–∏—è
async function main() {
  console.log('--- In-Memory —Ö—Ä–∞–Ω–∏–ª–∏—â–µ ---');
  await runDemo(new MemoryRepository());

  console.log('\n--- –§–∞–π–ª–æ–≤–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ ---');
  await runDemo(new FileRepository('./tmp-persons'));
}

main();
// –ö–æ–¥ —Å–µ—Ä–≤–∏—Å–Ω–æ–≥–æ —Å–ª–æ—è (runDemo) –æ–¥–∏–Ω–∞–∫–æ–≤ –¥–ª—è –æ–±–µ–∏—Ö —Å—Ç—Ä–∞—Ç–µ–≥–∏–π!
// Pure Fabrication + Strategy = –º–æ—â–Ω–∞—è –∫–æ–º–±–∏–Ω–∞—Ü–∏—è
</code></pre>
<hr />
<h2 id="37-–ò—Ç–æ–≥-–ø–æ—á–µ–º—É-pure-fabrication-–≤–∞–∂–Ω–∞"><a class="header" href="#37-–ò—Ç–æ–≥-–ø–æ—á–µ–º—É-pure-fabrication-–≤–∞–∂–Ω–∞">3.7 –ò—Ç–æ–≥: –ø–æ—á–µ–º—É Pure Fabrication –≤–∞–∂–Ω–∞</a></h2>
<pre><code class="language-javascript">// –ü—Ä–∏–º–µ—Ä 8. –ö—Ä–∞—Ç–∫–∞—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è —ç—Ñ—Ñ–µ–∫—Ç–∞ –æ—Ç –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è Pure Fabrication

// –ë–ï–ó Pure Fabrication:
// User --–∑–Ω–∞–µ—Ç –æ--&gt; Database
// User --–∑–Ω–∞–µ—Ç –æ--&gt; FileSystem
// User --–∑–Ω–∞–µ—Ç –æ--&gt; NetworkAPI
// –í—ã—Å–æ–∫–æ–µ –∑–∞—Ü–µ–ø–ª–µ–Ω–∏–µ (High Coupling) ‚Äî –∏–∑–º–µ–Ω–µ–Ω–∏–µ –ë–î –ª–æ–º–∞–µ—Ç User

// –° Pure Fabrication:
// User --–∏—Å–ø–æ–ª—å–∑—É–µ—Ç--&gt; UserRepository (—á–∏—Å—Ç–∞—è –≤—ã–¥—É–º–∫–∞)
// UserRepository --–∏—Å–ø–æ–ª—å–∑—É–µ—Ç--&gt; Driver (—á–∏—Å—Ç–∞—è –≤—ã–¥—É–º–∫–∞)
// Driver --—Ä–∞–±–æ—Ç–∞–µ—Ç —Å--&gt; Database / FileSystem / NetworkAPI
// –ö–∞–∂–¥—ã–π —Å–ª–æ–π –∑–Ω–∞–µ—Ç —Ç–æ–ª—å–∫–æ –æ —Å–ª–µ–¥—É—é—â–µ–º —É—Ä–æ–≤–Ω–µ –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–∏

// –ö–ª—é—á–µ–≤—ã–µ –≤—ã–≥–æ–¥—ã Pure Fabrication:
// 1. Low Coupling ‚Äî User –Ω–µ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –ë–î
// 2. High Cohesion ‚Äî –∫–∞–∂–¥—ã–π –∫–ª–∞—Å—Å –¥–µ–ª–∞–µ—Ç –æ–¥–Ω–æ –¥–µ–ª–æ
// 3. Testability ‚Äî –º–æ–∂–Ω–æ –ø–æ–¥–º–µ–Ω–∏—Ç—å Driver –Ω–∞ MemoryDriver –≤ —Ç–µ—Å—Ç–∞—Ö
// 4. Reusability ‚Äî Repository –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å —Ä–∞–∑–Ω—ã–º–∏ Entity

// –ü—Ä–∏–º–µ—Ä—ã Pure Fabrication –≤ —ç–∫–æ—Å–∏—Å—Ç–µ–º–µ Node.js:
const examples = [
  'EventEmitter    ‚Äî –Ω–µ—Ç —Ç–∞–∫–æ–≥–æ –≤ –ø—Ä–µ–¥–º–µ—Ç–Ω–æ–π –æ–±–ª–∞—Å—Ç–∏, –Ω–æ —É–ø—Ä–æ—â–∞–µ—Ç —Å–æ–±—ã—Ç–∏—è',
  'Promise         ‚Äî –∞–±—Å—Ç—Ä–∞–∫—Ü–∏—è –Ω–∞–¥ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç—å—é, –Ω–µ –æ–±—ä–µ–∫—Ç —Ä–µ–∞–ª—å–Ω–æ–≥–æ –º–∏—Ä–∞',
  'Readable/Writable Stream ‚Äî –∞–±—Å—Ç—Ä–∞–∫—Ü–∏—è –Ω–∞–¥ –ø–æ—Ç–æ–∫–æ–º –¥–∞–Ω–Ω—ã—Ö',
  'Repository      ‚Äî –Ω–µ—Ç –≤ –ø—Ä–µ–¥–º–µ—Ç–Ω–æ–π –æ–±–ª–∞—Å—Ç–∏, –Ω–æ –Ω—É–∂–µ–Ω –¥–ª—è Low Coupling',
  'Logger          ‚Äî –Ω–µ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞, –Ω–æ –Ω—É–∂–µ–Ω –≤–µ–∑–¥–µ',
  'ConnectionPool  ‚Äî —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –∞–±—Å—Ç—Ä–∞–∫—Ü–∏—è –Ω–∞–¥ –ø—É–ª–æ–º —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π',
  'Middleware      ‚Äî –∫–æ–Ω—Ü–µ–ø—Ü–∏—è –∏–∑ Express, –Ω–µ—Ç –≤ HTTP-—Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏',
];

examples.forEach((ex) =&gt; console.log('-', ex));
</code></pre>
<hr />
<h2 id="–ó–∞–∫–ª—é—á–µ–Ω–∏–µ-17"><a class="header" href="#–ó–∞–∫–ª—é—á–µ–Ω–∏–µ-17">–ó–∞–∫–ª—é—á–µ–Ω–∏–µ</a></h2>
<p>–¢—Ä–∏ —Ç–µ–º—ã, —Ä–∞–∑–æ–±—Ä–∞–Ω–Ω—ã–µ –≤ –ª–µ–∫—Ü–∏—è—Ö —ç—Ç–æ–π –Ω–µ–¥–µ–ª–∏, —Ç–µ—Å–Ω–æ —Å–≤—è–∑–∞–Ω—ã –º–µ–∂–¥—É —Å–æ–±–æ–π:</p>
<ol>
<li>
<p><strong>EventTarget / EventEmitter</strong> ‚Äî –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞ —Å–æ–±—ã—Ç–∏–π –≤ JavaScript.
–ü–æ–Ω–∏–º–∞–Ω–∏–µ —Ä–∞–∑–Ω–∏—Ü—ã –º–µ–∂–¥—É –Ω–∏–º–∏ –∫—Ä–∏—Ç–∏—á–Ω–æ –¥–ª—è –Ω–∞–ø–∏—Å–∞–Ω–∏—è –∫–æ–¥–∞, —Å–æ–≤–º–µ—Å—Ç–∏–º–æ–≥–æ —Å –±—Ä–∞—É–∑–µ—Ä–æ–º
–∏ Node.js –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ.</p>
</li>
<li>
<p><strong>Observer / Observable</strong> ‚Äî –ø–∞—Ç—Ç–µ—Ä–Ω, –∫–æ—Ç–æ—Ä—ã–π –ª–µ–∂–∏—Ç –≤ –æ—Å–Ω–æ–≤–µ EventEmitter, RxJS
–∏ –¥—Ä—É–≥–∏—Ö —Ä–µ–∞–∫—Ç–∏–≤–Ω—ã—Ö –±–∏–±–ª–∏–æ—Ç–µ–∫. –†–µ–∞–ª–∏–∑–∞—Ü–∏—è "—Å –Ω—É–ª—è" –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–æ–Ω—è—Ç—å, —á—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç
–≤–Ω—É—Ç—Ä–∏ –≥–æ—Ç–æ–≤—ã—Ö –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤.</p>
</li>
<li>
<p><strong>Pure Fabrication</strong> ‚Äî –ø—Ä–∏–Ω—Ü–∏–ø GRASP, –æ–±—ä—è—Å–Ω—è—é—â–∏–π, –ø–æ—á–µ–º—É –º—ã —Å–æ–∑–¥–∞—ë–º –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–∏
–≤—Ä–æ–¥–µ Repository, Loader, Storage. –≠—Ç–æ –Ω–µ —É—Å–ª–æ–∂–Ω–µ–Ω–∏–µ —Ä–∞–¥–∏ —É—Å–ª–æ–∂–Ω–µ–Ω–∏—è, –∞ —Å–æ–∑–Ω–∞—Ç–µ–ª—å–Ω–æ–µ
—Å–Ω–∏–∂–µ–Ω–∏–µ –∑–∞—Ü–µ–ø–ª–µ–Ω–∏—è –º–µ–∂–¥—É —Å–ª–æ—è–º–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.</p>
</li>
</ol>
<p><strong>–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–π —Å–æ–≤–µ—Ç:</strong> –†–µ–∞–ª–∏–∑—É–π—Ç–µ –∫–∞–∂–¥—ã–π –∏–∑ –ø—Ä–∏–º–µ—Ä–æ–≤ —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ, –¥–æ–±–∞–≤—å—Ç–µ
<code>console.log</code> –≤ –∫–ª—é—á–µ–≤—ã–µ –º–µ—Å—Ç–∞, –Ω–∞–ø–∏—à–∏—Ç–µ —Ç–µ—Å—Ç—ã. –¢–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ –ø—Ä–∞–∫—Ç–∏–∫—É –ø—Ä–∏—Ö–æ–¥–∏—Ç
–Ω–∞—Å—Ç–æ—è—â–µ–µ –ø–æ–Ω–∏–º–∞–Ω–∏–µ —ç—Ç–∏—Ö –∫–æ–Ω—Ü–µ–ø—Ü–∏–π.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="week-7---streams-and-transformations-reactive-data-processing"><a class="header" href="#week-7---streams-and-transformations-reactive-data-processing">Week 7 - Streams and Transformations: Reactive Data Processing</a></h1>
<ul>
<li><a href="week7/lecture-1-node-streams.html">Node.js Streams: Readable, Writable, Transform, backpressure, pipeline</a></li>
<li><a href="week7/lecture-2-web-streams.html">Web Streams ‚Äî –ø–æ—Ç–æ–∫–∏ —Å–æ–±—ã—Ç–∏–π –≤ –±—Ä–∞—É–∑–µ—Ä–µ</a></li>
<li><a href="week7/lecture-3-actor-pattern.html">–ü–∞—Ç—Ç–µ—Ä–Ω Actor ‚Äî –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–µ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="nodejs-streams--readable-writable-transform-backpressure-pipeline"><a class="header" href="#nodejs-streams--readable-writable-transform-backpressure-pipeline">Node.js Streams ‚Äî Readable, Writable, Transform, backpressure, pipeline</a></h1>
<hr />
<h2 id="–í–≤–µ–¥–µ–Ω–∏–µ-10"><a class="header" href="#–í–≤–µ–¥–µ–Ω–∏–µ-10">–í–≤–µ–¥–µ–Ω–∏–µ</a></h2>
<p>–°—Ç—Ä–∏–º—ã (–ø–æ—Ç–æ–∫–∏ –¥–∞–Ω–Ω—ã—Ö) ‚Äî –æ–¥–∏–Ω –∏–∑ –Ω–∞–∏–±–æ–ª–µ–µ –º–æ—â–Ω—ã—Ö –∏ –ø—Ä–∏ —ç—Ç–æ–º –Ω–∞–∏–º–µ–Ω–µ–µ –ø–æ–Ω—è—Ç—ã—Ö –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤
Node.js. –≠—Ç–æ –∞–±—Å—Ç—Ä–∞–∫—Ü–∏—è, –ø–æ–∑–≤–æ–ª—è—é—â–∞—è –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ, –∫—É—Å–∫–∞–º–∏ (chunks),
–Ω–µ –∑–∞–≥—Ä—É–∂–∞—è –∏—Ö —Ü–µ–ª–∏–∫–æ–º –≤ –æ–ø–µ—Ä–∞—Ç–∏–≤–Ω—É—é –ø–∞–º—è—Ç—å. –°—Ç—Ä–∏–º—ã –ø—Ä–æ–Ω–∏–∑—ã–≤–∞—é—Ç –≤—Å—é —ç–∫–æ—Å–∏—Å—Ç–µ–º—É Node.js,
–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∏ –Ω–µ—Ä–µ–¥–∫–æ —Ä–∞–±–æ—Ç–∞—é—Ç —Å –Ω–∏–º–∏, –¥–∞–∂–µ –Ω–µ –æ—Å–æ–∑–Ω–∞–≤–∞—è —ç—Ç–æ–≥–æ.</p>
<p>–ü—Ä–∏–º–µ—Ä—ã —Å—Ç—Ä–∏–º–æ–≤ –≤ Node.js:</p>
<ul>
<li><code>request</code> –∏ <code>response</code> –≤ HTTP-—Å–µ—Ä–≤–µ—Ä–µ ‚Äî —ç—Ç–æ <code>Readable</code> –∏ <code>Writable</code> —Å—Ç—Ä–∏–º</li>
<li><code>process.stdin</code>, <code>process.stdout</code>, <code>process.stderr</code> ‚Äî —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ —Å—Ç—Ä–∏–º—ã –ø—Ä–æ—Ü–µ—Å—Å–∞</li>
<li>TCP-—Å–æ–∫–µ—Ç—ã, WebSocket-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è ‚Äî –¥—É–ø–ª–µ–∫—Å–Ω—ã–µ —Å—Ç—Ä–∏–º—ã</li>
<li><code>fs.createReadStream</code>, <code>fs.createWriteStream</code> ‚Äî —Ñ–∞–π–ª–æ–≤—ã–µ —Å—Ç—Ä–∏–º—ã</li>
<li><code>zlib.createGzip()</code> ‚Äî —Å—Ç—Ä–∏–º-—Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ç–æ—Ä (—Å–∂–∞—Ç–∏–µ –¥–∞–Ω–Ω—ã—Ö –Ω–∞ –ª–µ—Ç—É)</li>
</ul>
<p>–ü–æ–Ω–∏–º–∞–Ω–∏–µ —Å—Ç—Ä–∏–º–æ–≤ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –¥–ª—è –Ω–∞–ø–∏—Å–∞–Ω–∏—è —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã—Ö —Å–µ—Ä–≤–µ—Ä–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π: –±–µ–∑ –Ω–∏—Ö
–æ–±—Ä–∞–±–æ—Ç–∫–∞ —Ñ–∞–π–ª–æ–≤ —Ä–∞–∑–º–µ—Ä–æ–º, –ø—Ä–µ–≤—ã—à–∞—é—â–∏–º RAM, –∏–ª–∏ –ø–æ—Ç–æ–∫–æ–≤–∞—è –ø–µ—Ä–µ–¥–∞—á–∞ –¥–∞–Ω–Ω—ã—Ö –ø–æ HTTP
–±—ã–ª–∞ –±—ã –Ω–µ–≤–æ–∑–º–æ–∂–Ω–∞.</p>
<hr />
<h2 id="11-–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞-—Å—Ç—Ä–∏–º–æ–≤"><a class="header" href="#11-–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞-—Å—Ç—Ä–∏–º–æ–≤">1.1 –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å—Ç—Ä–∏–º–æ–≤</a></h2>
<p>–°—Ç—Ä–∏–º—ã –≤ Node.js –∏–º–µ—é—Ç –¥–≤–∞ –∫–ª—é—á–µ–≤—ã—Ö —Å–≤–æ–π—Å—Ç–≤–∞:</p>
<ol>
<li><strong>–ù–∞—Å–ª–µ–¥—É—é—Ç –æ—Ç <code>EventEmitter</code></strong> ‚Äî –º–æ–∂–Ω–æ —ç–º–∏—Ç–∏—Ä–æ–≤–∞—Ç—å —Å–æ–±—ã—Ç–∏—è (<code>data</code>, <code>end</code>, <code>error</code>,
<code>drain</code>) –∏ –ø–æ–¥–ø–∏—Å—ã–≤–∞—Ç—å—Å—è –Ω–∞ –Ω–∏—Ö –º–µ—Ç–æ–¥–∞–º–∏ <code>on</code>, <code>once</code>, <code>removeListener</code>.</li>
<li><strong>–†–µ–∞–ª–∏–∑—É—é—Ç –ø—Ä–æ—Ç–æ–∫–æ–ª –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–π –∏—Ç–µ—Ä–∞—Ü–∏–∏</strong> (<code>Symbol.asyncIterator</code>) ‚Äî –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç
–∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏—é <code>for await...of</code>.</li>
</ol>
<p>–¢–∏–ø—ã —Å—Ç—Ä–∏–º–æ–≤:</p>
<div class="table-wrapper"><table><thead><tr><th>–¢–∏–ø</th><th>–û–ø–∏—Å–∞–Ω–∏–µ</th><th>–ü—Ä–∏–º–µ—Ä—ã</th></tr></thead><tbody>
<tr><td><code>Readable</code></td><td>–ü–æ—Ç–æ–∫ –¥–ª—è —á—Ç–µ–Ω–∏—è</td><td><code>fs.createReadStream</code>, <code>process.stdin</code>, <code>http.IncomingMessage</code></td></tr>
<tr><td><code>Writable</code></td><td>–ü–æ—Ç–æ–∫ –¥–ª—è –∑–∞–ø–∏—Å–∏</td><td><code>fs.createWriteStream</code>, <code>process.stdout</code>, <code>http.ServerResponse</code></td></tr>
<tr><td><code>Transform</code></td><td>–ß—Ç–µ–Ω–∏–µ –∏ –∑–∞–ø–∏—Å—å —Å —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏–µ–π</td><td><code>zlib.createGzip</code>, <code>crypto.createCipher</code></td></tr>
<tr><td><code>Duplex</code></td><td>–ß—Ç–µ–Ω–∏–µ –∏ –∑–∞–ø–∏—Å—å –±–µ–∑ —Å–≤—è–∑–∏ –º–µ–∂–¥—É –Ω–∏–º–∏</td><td>TCP-—Å–æ–∫–µ—Ç—ã (<code>net.Socket</code>)</td></tr>
</tbody></table>
</div>
<p><code>Transform</code> —è–≤–ª—è–µ—Ç—Å—è —á–∞—Å—Ç–Ω—ã–º —Å–ª—É—á–∞–µ–º <code>Duplex</code>: —Ç–æ, —á—Ç–æ –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è –≤ <code>Writable</code>-—Å—Ç–æ—Ä–æ–Ω—É,
–ø—Ä–æ—Ö–æ–¥–∏—Ç —á–µ—Ä–µ–∑ —Ñ—É–Ω–∫—Ü–∏—é –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è –∏ –≤—ã—Ö–æ–¥–∏—Ç –Ω–∞ <code>Readable</code>-—Å—Ç–æ—Ä–æ–Ω–µ.</p>
<hr />
<h2 id="12-readable-stream--—Å–æ–∑–¥–∞–Ω–∏–µ-–∏-—Å—Ç–∏–ª–∏-—á—Ç–µ–Ω–∏—è"><a class="header" href="#12-readable-stream--—Å–æ–∑–¥–∞–Ω–∏–µ-–∏-—Å—Ç–∏–ª–∏-—á—Ç–µ–Ω–∏—è">1.2 Readable Stream ‚Äî —Å–æ–∑–¥–∞–Ω–∏–µ –∏ —Å—Ç–∏–ª–∏ —á—Ç–µ–Ω–∏—è</a></h2>
<h3 id="–°–ø–æ—Å–æ–±—ã-—Å–æ–∑–¥–∞–Ω–∏—è-readable-stream"><a class="header" href="#–°–ø–æ—Å–æ–±—ã-—Å–æ–∑–¥–∞–Ω–∏—è-readable-stream">–°–ø–æ—Å–æ–±—ã —Å–æ–∑–¥–∞–Ω–∏—è Readable Stream</a></h3>
<pre><code class="language-javascript">// –ü—Ä–∏–º–µ—Ä 1. –¢—Ä–∏ —Å–ø–æ—Å–æ–±–∞ —Å–æ–∑–¥–∞–Ω–∏—è Readable Stream
'use strict';
const { Readable } = require('node:stream');
const fs = require('node:fs');

// --- –°–ø–æ—Å–æ–± 1: –∏–∑ —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã ---
// –°–æ–∑–¥–∞—ë–º –ø–æ—Ç–æ–∫ —á—Ç–µ–Ω–∏—è —Ñ–∞–π–ª–∞. –§–∞–π–ª —á–∏—Ç–∞–µ—Ç—Å—è –∫—É—Å–∫–∞–º–∏ –ø–æ 64 KB (highWaterMark –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é).
const fileStream = fs.createReadStream('/tmp/example.txt', { encoding: 'utf8' });

// --- –°–ø–æ—Å–æ–± 2: —á–µ—Ä–µ–∑ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä —Å push ---
// –°–æ–∑–¥–∞—ë–º "—Ä—É—á–Ω–æ–π" —Å—Ç—Ä–∏–º, –∫—É–¥–∞ –º—ã —Å–∞–º–∏ –∫–ª–∞–¥—ë–º –¥–∞–Ω–Ω—ã–µ –º–µ—Ç–æ–¥–æ–º push.
// push(null) ‚Äî —Å–ª—É–∂–µ–±–Ω—ã–π —Å–∏–≥–Ω–∞–ª: –∫–æ–Ω–µ—Ü —Å—Ç—Ä–∏–º–∞ (–ø–æ –∞–Ω–∞–ª–æ–≥–∏–∏ —Å EOF).
// –í–ê–ñ–ù–û: –æ–±—ã—á–Ω—ã–µ null-–∑–Ω–∞—á–µ–Ω–∏—è –Ω–µ–ª—å–∑—è —Å—Ç—Ä–∏–º–∏—Ç—å ‚Äî –æ–Ω–∏ –∑–∞—Ä–µ–∑–µ—Ä–≤–∏—Ä–æ–≤–∞–Ω—ã –¥–ª—è —Å–∏–≥–Ω–∞–ª–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è.
const manualStream = new Readable({ read() {} });
manualStream.push('Hello, ');
manualStream.push('World!');
manualStream.push(null); // –∫–æ–Ω–µ—Ü —Å—Ç—Ä–∏–º–∞

// --- –°–ø–æ—Å–æ–± 3: Readable.from ‚Äî –∏–∑ –∏—Ç–µ—Ä–∏—Ä—É–µ–º–æ–≥–æ –∏–ª–∏ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–≥–æ –∏—Ç–µ—Ä–∞—Ç–æ—Ä–∞ ---
// –≠—Ç–æ —Å–∞–º—ã–π —É–¥–æ–±–Ω—ã–π —Å–ø–æ—Å–æ–±, –∫–æ–≥–¥–∞ –¥–∞–Ω–Ω—ã–µ –ø–æ—Ä–æ–∂–¥–∞–µ—Ç –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è.
async function* generateData() {
  const chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ';
  for (const char of chars) {
    yield char;
  }
}
const generatorStream = Readable.from(generateData());
</code></pre>
<h3 id="–°—Ç–∏–ª—å-1-—Å–æ–±—ã—Ç–∏–µ-data"><a class="header" href="#–°—Ç–∏–ª—å-1-—Å–æ–±—ã—Ç–∏–µ-data">–°—Ç–∏–ª—å 1: —Å–æ–±—ã—Ç–∏–µ <code>data</code></a></h3>
<pre><code class="language-javascript">// –ü—Ä–∏–º–µ—Ä 2. –ß—Ç–µ–Ω–∏–µ —á–µ—Ä–µ–∑ —Å–æ–±—ã—Ç–∏–µ 'data' ‚Äî flowing mode (–ø–æ—Ç–æ—á–Ω—ã–π —Ä–µ–∂–∏–º)
//
// –ü–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ —Å–æ–±—ã—Ç–∏–µ 'data' –ø–µ—Ä–µ–≤–æ–¥–∏—Ç —Å—Ç—Ä–∏–º –≤ "flowing mode":
// –¥–∞–Ω–Ω—ã–µ –Ω–∞—á–∏–Ω–∞—é—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —á–∏—Ç–∞—Ç—å—Å—è –∏–∑ –∏—Å—Ç–æ—á–Ω–∏–∫–∞ –∏ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å—Å—è –≤ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫
// –ø–æ –æ–¥–Ω–æ–º—É —á–∞–Ω–∫—É –∑–∞ —Ä–∞–∑.
//
// –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–æ: –ø—Ä–æ—Å—Ç–æ—Ç–∞.
// –ù–µ–¥–æ—Å—Ç–∞—Ç–æ–∫: –Ω–µ—Ç –∫–æ–Ω—Ç—Ä–æ–ª—è –Ω–∞–¥ —Å–∫–æ—Ä–æ—Å—Ç—å—é –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö (backpressure –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç).

'use strict';
const { Readable } = require('node:stream');

async function* tenLines() {
  for (let i = 1; i &lt;= 10; i++) {
    yield `–°—Ç—Ä–æ–∫–∞ –Ω–æ–º–µ—Ä ${i}\n`;
  }
}

const readable = Readable.from(tenLines());

let totalBytes = 0;

readable.on('data', (chunk) =&gt; {
  // chunk ‚Äî —ç—Ç–æ Buffer (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é) –∏–ª–∏ string, –µ—Å–ª–∏ –∑–∞–¥–∞–Ω–∞ –∫–æ–¥–∏—Ä–æ–≤–∫–∞
  totalBytes += Buffer.isBuffer(chunk) ? chunk.length : Buffer.byteLength(chunk);
  process.stdout.write(chunk);
});

readable.on('end', () =&gt; {
  console.log(`\n–í—Å–µ–≥–æ –±–∞–π—Ç –ø—Ä–æ—á–∏—Ç–∞–Ω–æ: ${totalBytes}`);
});

// –í–ê–ñ–ù–û: –≤—Å–µ–≥–¥–∞ –ø–æ–¥–ø–∏—Å—ã–≤–∞—Ç—å—Å—è –Ω–∞ 'error', –∏–Ω–∞—á–µ EventEmitter
// –≤—ã–±—Ä–æ—Å–∏—Ç –æ—à–∏–±–∫—É –∫–∞–∫ –Ω–µ–æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω–æ–µ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ –∏ Node.js —É–ø–∞–¥—ë—Ç.
readable.on('error', (err) =&gt; {
  console.error('–û—à–∏–±–∫–∞ —Å—Ç—Ä–∏–º–∞:', err.message);
});
</code></pre>
<h3 id="–°—Ç–∏–ª—å-2-—Å–æ–±—ã—Ç–∏–µ-readable"><a class="header" href="#–°—Ç–∏–ª—å-2-—Å–æ–±—ã—Ç–∏–µ-readable">–°—Ç–∏–ª—å 2: —Å–æ–±—ã—Ç–∏–µ <code>readable</code></a></h3>
<pre><code class="language-javascript">// –ü—Ä–∏–º–µ—Ä 3. –ß—Ç–µ–Ω–∏–µ —á–µ—Ä–µ–∑ —Å–æ–±—ã—Ç–∏–µ 'readable' ‚Äî paused mode (–ø–∞—É–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ä–µ–∂–∏–º)
//
// –°–æ–±—ã—Ç–∏–µ 'readable' —Å–∏–≥–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç: –≤ –±—É—Ñ–µ—Ä–µ –Ω–∞–∫–æ–ø–∏–ª–∏—Å—å –¥–∞–Ω–Ω—ã–µ, –º–æ–∂–Ω–æ —á–∏—Ç–∞—Ç—å.
// –ß—Ç–µ–Ω–∏–µ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è —è–≤–Ω–æ —á–µ—Ä–µ–∑ readable.read(), –∫–æ—Ç–æ—Ä—ã–π –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç null,
// –∫–æ–≥–¥–∞ –±—É—Ñ–µ—Ä –æ–ø—É—Å—Ç–µ–ª (–ø–æ—Ä–∞ –∂–¥–∞—Ç—å —Å–ª–µ–¥—É—é—â–µ–≥–æ 'readable').
//
// –û—Ç–ª–∏—á–∏–µ –æ—Ç 'data': –æ–¥–Ω–æ —Å–æ–±—ã—Ç–∏–µ 'readable' –º–æ–∂–µ—Ç –æ—Ö–≤–∞—Ç—ã–≤–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —á–∞–Ω–∫–æ–≤,
// –Ω–∞–∫–æ–ø–∏–≤—à–∏—Ö—Å—è –≤ –±—É—Ñ–µ—Ä–µ. –≠—Ç–æ –¥–∞—ë—Ç –±–æ–ª—å—à–µ –∫–æ–Ω—Ç—Ä–æ–ª—è –Ω–∞–¥ –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ–º.

'use strict';
const fs = require('node:fs');
const path = require('node:path');
const os = require('node:os');

// –°–æ–∑–¥–∞–¥–∏–º —Ç–µ—Å—Ç–æ–≤—ã–π —Ñ–∞–π–ª
const tmpFile = path.join(os.tmpdir(), 'readable-test.txt');
fs.writeFileSync(tmpFile, 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'.repeat(100));

// –ß–∏—Ç–∞–µ–º –º–∞–ª–µ–Ω—å–∫–∏–º–∏ —á–∞–Ω–∫–∞–º–∏ ‚Äî highWaterMark: 16 –±–∞–π—Ç
const stream = fs.createReadStream(tmpFile, { highWaterMark: 16 });

let chunkCount = 0;

stream.on('readable', () =&gt; {
  let chunk;
  // –ß–∏—Ç–∞–µ–º –í–°–ï –¥–æ—Å—Ç—É–ø–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –≤ —Ü–∏–∫–ª–µ.
  // read() –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç null, –∫–æ–≥–¥–∞ –¥–∞–Ω–Ω—ã–µ –≤ –±—É—Ñ–µ—Ä–µ –∑–∞–∫–æ–Ω—á–∏–ª–∏—Å—å.
  // –í—ã—Ö–æ–¥ –∏–∑ —Ü–∏–∫–ª–∞ –ø–æ null ‚Äî –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω, –∏–Ω–∞—á–µ infinite loop.
  while ((chunk = stream.read()) !== null) {
    chunkCount++;
    console.log(`–ß–∞–Ω–∫ #${chunkCount}: ${chunk.length} –±–∞–π—Ç`);
  }
});

stream.on('end', () =&gt; {
  console.log(`–ò—Ç–æ–≥–æ —á–∞–Ω–∫–æ–≤: ${chunkCount}`);
  // –£–¥–∞–ª—è–µ–º —Ç–µ—Å—Ç–æ–≤—ã–π —Ñ–∞–π–ª
  fs.unlink(tmpFile, () =&gt; {});
});

stream.on('error', (err) =&gt; {
  console.error('–û—à–∏–±–∫–∞:', err.message);
});
</code></pre>
<h3 id="–°—Ç–∏–ª—å-3-for-awaitof-—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è"><a class="header" href="#–°—Ç–∏–ª—å-3-for-awaitof-—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è">–°—Ç–∏–ª—å 3: <code>for await...of</code> (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)</a></h3>
<pre><code class="language-javascript">// –ü—Ä–∏–º–µ—Ä 4. –ß—Ç–µ–Ω–∏–µ —á–µ—Ä–µ–∑ for await...of ‚Äî —É–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
//
// –≠—Ç–æ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π —Å–ø–æ—Å–æ–± —á—Ç–µ–Ω–∏—è –≤ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–º Node.js.
// Readable —Ä–µ–∞–ª–∏–∑—É–µ—Ç Symbol.asyncIterator, —á—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –µ–≥–æ
// –≤ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ for await –Ω–∞–ø—Ä—è–º—É—é.
//
// –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:
// - –ß–∏—Ç–∞–µ–º—ã–π, –ª–∏–Ω–µ–π–Ω—ã–π –∫–æ–¥ –±–µ–∑ –∫–æ–ª–±—ç–∫–æ–≤
// - –û—à–∏–±–∫–∏ –ª–æ–≤—è—Ç—Å—è —á–µ—Ä–µ–∑ try/catch (—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –º–µ—Ö–∞–Ω–∏–∑–º)
// - –†–∞–±–æ—Ç–∞–µ—Ç –æ–¥–∏–Ω–∞–∫–æ–≤–æ –¥–ª—è Node.js —Å—Ç—Ä–∏–º–æ–≤ –∏ Web Streams

'use strict';
const { Readable } = require('node:stream');

// –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä, –∏–º–∏—Ç–∏—Ä—É—é—â–∏–π —á—Ç–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –∏–∑ –≤–Ω–µ—à–Ω–µ–≥–æ –∏—Å—Ç–æ—á–Ω–∏–∫–∞
async function* dataSource() {
  const items = ['{"id":1,"name":"Alice"}', '{"id":2,"name":"Bob"}', '{"id":3,"name":"Carol"}'];
  for (const item of items) {
    // –ò–º–∏—Ç–∏—Ä—É–µ–º –∑–∞–¥–µ—Ä–∂–∫—É I/O (–Ω–∞–ø—Ä–∏–º–µ—Ä, —á—Ç–µ–Ω–∏–µ –∏–∑ —Å–µ—Ç–∏)
    await new Promise((resolve) =&gt; setTimeout(resolve, 50));
    yield item + '\n';
  }
}

const stream = Readable.from(dataSource());

async function processStream() {
  const lines = [];

  try {
    for await (const chunk of stream) {
      // chunk ‚Äî Buffer –∏–ª–∏ string
      const line = chunk.toString().trim();
      if (line) {
        lines.push(JSON.parse(line));
        console.log('–ü—Ä–æ—á–∏—Ç–∞–Ω–∞ –∑–∞–ø–∏—Å—å:', line);
      }
    }
  } catch (err) {
    // –û—à–∏–±–∫–∏ –∏–∑ —Å—Ç—Ä–∏–º–∞ (–∏ –∏–∑ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∞) –ª–æ–≤—è—Ç—Å—è –∑–¥–µ—Å—å
    console.error('–û—à–∏–±–∫–∞ –ø—Ä–∏ —á—Ç–µ–Ω–∏–∏:', err.message);
  }

  console.log('–í—Å–µ –∑–∞–ø–∏—Å–∏:', lines);
}

processStream();
</code></pre>
<hr />
<h2 id="13-writable-stream--—Å–æ–∑–¥–∞–Ω–∏–µ-–∏-–∑–∞–ø–∏—Å—å"><a class="header" href="#13-writable-stream--—Å–æ–∑–¥–∞–Ω–∏–µ-–∏-–∑–∞–ø–∏—Å—å">1.3 Writable Stream ‚Äî —Å–æ–∑–¥–∞–Ω–∏–µ –∏ –∑–∞–ø–∏—Å—å</a></h2>
<pre><code class="language-javascript">// –ü—Ä–∏–º–µ—Ä 5. –°–æ–∑–¥–∞–Ω–∏–µ Writable Stream —á–µ—Ä–µ–∑ –æ—Ç–∫—Ä—ã—Ç—ã–π –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä (Revealing Constructor Pattern)
//
// Writable —Å–æ–∑–¥–∞—ë—Ç—Å—è –ø–µ—Ä–µ–¥–∞—á–µ–π –æ–±—ä–µ–∫—Ç–∞ —Å –º–µ—Ç–æ–¥–æ–º write –≤ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä.
// –ú–µ—Ç–æ–¥ write –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∑–∞–ø–∏—Å–∞–Ω–Ω–æ–≥–æ —á–∞–Ω–∫–∞ –∏ –ø—Ä–∏–Ω–∏–º–∞–µ—Ç —Ç—Ä–∏ –∞—Ä–≥—É–º–µ–Ω—Ç–∞:
//   chunk    ‚Äî –¥–∞–Ω–Ω—ã–µ (Buffer –∏–ª–∏ string)
//   encoding ‚Äî –∫–æ–¥–∏—Ä–æ–≤–∫–∞ (–∞–∫—Ç—É–∞–ª—å–Ω–æ —Ç–æ–ª—å–∫–æ –¥–ª—è —Å—Ç—Ä–æ–∫)
//   next     ‚Äî –∫–æ–ª–±—ç–∫ –¥–ª—è —Å–∏–≥–Ω–∞–ª–∞ "–æ–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞, –º–æ–∂–Ω–æ –ø—Ä–∏–Ω—è—Ç—å —Å–ª–µ–¥—É—é—â–∏–π —á–∞–Ω–∫"
//
// –í—ã–∑–æ–≤ next() —É–ø—Ä–∞–≤–ª—è–µ—Ç backpressure: –ø–æ–∫–∞ next –Ω–µ –≤—ã–∑–≤–∞–Ω, —Å–ª–µ–¥—É—é—â–∏–π —á–∞–Ω–∫ –Ω–µ –ø—Ä–∏–¥—ë—Ç.
// –ï—Å–ª–∏ –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –ø—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞ ‚Äî –ø–µ—Ä–µ–¥–∞—ë–º –µ—ë: next(new Error(...)).

'use strict';
const { Writable } = require('node:stream');
const { Readable } = require('node:stream');

// –°–æ–∑–¥–∞—ë–º WritableStream, –∫–æ—Ç–æ—Ä—ã–π –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –≤ –º–∞—Å—Å–∏–≤ (in-memory sink)
function createCollectorStream() {
  const collected = [];

  const writable = new Writable({
    // defaultEncoding –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 'utf8' –¥–ª—è —Å—Ç—Ä–æ–∫
    defaultEncoding: 'utf8',

    async write(chunk, encoding, next) {
      // –ò–º–∏—Ç–∏—Ä—É–µ–º –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—É—é –æ–ø–µ—Ä–∞—Ü–∏—é –∑–∞–ø–∏—Å–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –∑–∞–ø–∏—Å—å –≤ –ë–î)
      await new Promise((resolve) =&gt; setTimeout(resolve, 10));

      const str = chunk.toString(encoding);
      collected.push(str);
      console.log(`–ó–∞–ø–∏—Å–∞–Ω —á–∞–Ω–∫ [${collected.length}]: "${str.trim()}"`);

      // –°–∏–≥–Ω–∞–ª–∏–∑–∏—Ä—É–µ–º: —á–∞–Ω–∫ –æ–±—Ä–∞–±–æ—Ç–∞–Ω, –º–æ–∂–Ω–æ –ø—Ä–∏–Ω—è—Ç—å —Å–ª–µ–¥—É—é—â–∏–π
      next();
    },

    // final –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –∫–æ–≥–¥–∞ –≤—Å–µ –¥–∞–Ω–Ω—ã–µ –∑–∞–ø–∏—Å–∞–Ω—ã –∏ —Å—Ç—Ä–∏–º –∑–∞–∫—Ä—ã–≤–∞–µ—Ç—Å—è
    final(callback) {
      console.log(`–°—Ç—Ä–∏–º –∑–∞–∫—Ä—ã—Ç. –í—Å–µ–≥–æ –∑–∞–ø–∏—Å–∞–Ω–æ: ${collected.length} —á–∞–Ω–∫–æ–≤`);
      callback();
    }
  });

  return { writable, collected };
}

// –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è
async function demo() {
  const { writable, collected } = createCollectorStream();

  // –ó–∞–ø–∏—Å—å –¥–∞–Ω–Ω—ã—Ö –≤ —Å—Ç—Ä–∏–º
  writable.write('–ü–µ—Ä–≤–∞—è —Å—Ç—Ä–æ–∫–∞\n');
  writable.write('–í—Ç–æ—Ä–∞—è —Å—Ç—Ä–æ–∫–∞\n');
  writable.write('–¢—Ä–µ—Ç—å—è —Å—Ç—Ä–æ–∫–∞\n');

  // end() –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç –ø–æ—Å–ª–µ–¥–Ω–∏–π —á–∞–Ω–∫ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) –∏ –∑–∞–∫—Ä—ã–≤–∞–µ—Ç —Å—Ç—Ä–∏–º
  writable.end('–§–∏–Ω–∞–ª—å–Ω–∞—è —Å—Ç—Ä–æ–∫–∞\n');

  // –ñ–¥—ë–º –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∑–∞–ø–∏—Å–∏
  await new Promise((resolve, reject) =&gt; {
    writable.on('finish', resolve);
    writable.on('error', reject);
  });

  console.log('–°–æ–±—Ä–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ:', collected);
}

demo().catch(console.error);
</code></pre>
<hr />
<h2 id="14-pipe-–∏-pipeline"><a class="header" href="#14-pipe-–∏-pipeline">1.4 Pipe –∏ Pipeline</a></h2>
<h3 id="–ú–µ—Ç–æ–¥-pipe"><a class="header" href="#–ú–µ—Ç–æ–¥-pipe">–ú–µ—Ç–æ–¥ <code>pipe</code></a></h3>
<p><code>pipe</code> –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è–µ—Ç –¥–∞–Ω–Ω—ã–µ –∏–∑ <code>Readable</code> –≤ <code>Writable</code>. –í–Ω—É—Ç—Ä–∏ –æ–Ω –ø–æ–¥–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è –Ω–∞
—Å–æ–±—ã—Ç–∏–µ <code>data</code> –∏ –≤—ã–∑—ã–≤–∞–µ—Ç <code>writable.write(chunk)</code>, —É–ø—Ä–∞–≤–ª—è—è –ø–∞—É–∑–æ–π/–≤–æ–∑–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ–º —á—Ç–µ–Ω–∏—è.
–ù–∏–∫–∞–∫–æ–π –º–∞–≥–∏–∏ ‚Äî —ç—Ç–æ –ø—Ä–æ—Å—Ç–æ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π backpressure-–º–µ–Ω–µ–¥–∂–º–µ–Ω—Ç.</p>
<pre><code class="language-javascript">// –ü—Ä–∏–º–µ—Ä 6. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ pipe ‚Äî –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
//
// pipe(destination) –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç destination, —á—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç —Å—Ç—Ä–æ–∏—Ç—å —Ü–µ–ø–æ—á–∫–∏.
// –û–¥–∏–Ω Readable –º–æ–∂–Ω–æ pipe-–∏—Ç—å –≤ –Ω–µ—Å–∫–æ–ª—å–∫–æ Writable –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ (—Ä–∞–∑–≤–µ—Ç–≤–ª–µ–Ω–∏–µ –ø–æ—Ç–æ–∫–∞).

'use strict';
const fs = require('node:fs');
const path = require('node:path');
const os = require('node:os');

// –°–æ–∑–¥–∞—ë–º —Ç–µ—Å—Ç–æ–≤—ã–π —Ñ–∞–π–ª
const src = path.join(os.tmpdir(), 'pipe-src.txt');
const dst1 = path.join(os.tmpdir(), 'pipe-dst1.txt');
const dst2 = path.join(os.tmpdir(), 'pipe-dst2.txt');

fs.writeFileSync(src, 'Hello, Streams World!\n'.repeat(1000));

const readable = fs.createReadStream(src);
const writable1 = fs.createWriteStream(dst1);
const writable2 = fs.createWriteStream(dst2);

// –û–¥–∏–Ω Readable -&gt; –¥–≤–∞ Writable (—Ä–∞–∑–≤–µ—Ç–≤–ª–µ–Ω–∏–µ –ø–æ—Ç–æ–∫–∞)
readable.pipe(writable1);
readable.pipe(writable2);

// –ü–†–û–ë–õ–ï–ú–ê —Å pipe: –æ—à–∏–±–∫–∏ –Ω–µ propagate-—è—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.
// –ï—Å–ª–∏ writable1 –≤—ã–¥–∞—Å—Ç –æ—à–∏–±–∫—É, readable –Ω–µ –±—É–¥–µ—Ç —É–Ω–∏—á—Ç–æ–∂–µ–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.
// –î–ª—è —ç—Ç–æ–≥–æ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç pipeline.
readable.on('error', (err) =&gt; console.error('–û—à–∏–±–∫–∞ —á—Ç–µ–Ω–∏—è:', err.message));
writable1.on('error', (err) =&gt; console.error('–û—à–∏–±–∫–∞ –∑–∞–ø–∏—Å–∏ 1:', err.message));
writable2.on('error', (err) =&gt; console.error('–û—à–∏–±–∫–∞ –∑–∞–ø–∏—Å–∏ 2:', err.message));

writable1.on('finish', () =&gt; {
  console.log('–§–∞–π–ª 1 –∑–∞–ø–∏—Å–∞–Ω');
  // –ß–∏—Å—Ç–∏–º –≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã
  fs.unlink(src, () =&gt; {});
  fs.unlink(dst1, () =&gt; {});
  fs.unlink(dst2, () =&gt; {});
});
</code></pre>
<h3 id="–§—É–Ω–∫—Ü–∏—è-pipeline"><a class="header" href="#–§—É–Ω–∫—Ü–∏—è-pipeline">–§—É–Ω–∫—Ü–∏—è <code>pipeline</code></a></h3>
<p><code>pipeline</code> ‚Äî –ø—Ä–µ–¥–ø–æ—á—Ç–∏—Ç–µ–ª—å–Ω–∞—è –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ <code>pipe</code>. –û–Ω–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç
–æ—à–∏–±–∫–∏ –∏ —É–Ω–∏—á—Ç–æ–∂–∞–µ—Ç –≤—Å–µ —Å—Ç—Ä–∏–º—ã –≤ —Ü–µ–ø–æ—á–∫–µ –ø—Ä–∏ –æ—à–∏–±–∫–µ –≤ –ª—é–±–æ–º –∏–∑ –Ω–∏—Ö. –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç
–æ—Ç–º–µ–Ω—É –æ–ø–µ—Ä–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ <code>AbortSignal</code>.</p>
<pre><code class="language-javascript">// –ü—Ä–∏–º–µ—Ä 7. pipeline —Å AbortSignal –∏ —Ç–∞–π–º–∞—É—Ç–æ–º
//
// pipeline –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç:
// 1. –í—Å–µ —Å—Ç—Ä–∏–º—ã –±—É–¥—É—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –∑–∞–∫—Ä—ã—Ç—ã –ø—Ä–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏ –∏–ª–∏ –æ—à–∏–±–∫–µ
// 2. –û—à–∏–±–∫–∞ –ª—é–±–æ–≥–æ —Å—Ç—Ä–∏–º–∞ –æ—Ç–º–µ–Ω—è–µ—Ç –≤—Å—é —Ü–µ–ø–æ—á–∫—É
// 3. AbortSignal –ø–æ–∑–≤–æ–ª—è–µ—Ç –æ—Ç–º–µ–Ω–∏—Ç—å –ø–µ—Ä–µ–¥–∞—á—É –∏–∑–≤–Ω–µ
//
// AbortSignal.timeout(ms) ‚Äî —É–¥–æ–±–Ω—ã–π —Å–ø–æ—Å–æ–± –±–µ–∑ —è–≤–Ω–æ–≥–æ AbortController.
// –≠—Ç–æ—Ç –º–µ—Ç–æ–¥ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–∏–≥–Ω–∞–ª, –∫–æ—Ç–æ—Ä—ã–π –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å—Ä–∞–±–æ—Ç–∞–µ—Ç —á–µ—Ä–µ–∑ ms –º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥.

'use strict';
const { pipeline } = require('node:stream/promises');
const zlib = require('node:zlib');
const fs = require('node:fs');
const path = require('node:path');
const os = require('node:os');

const srcFile = path.join(os.tmpdir(), 'pipeline-src.txt');
const gzFile = path.join(os.tmpdir(), 'pipeline-out.gz');

// –°–æ–∑–¥–∞—ë–º –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –±–æ–ª—å—à–æ–π —Ñ–∞–π–ª –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏
fs.writeFileSync(srcFile, 'Node.js Streams are powerful!\n'.repeat(50000));

async function compressWithTimeout() {
  // –°–æ–∑–¥–∞—ë–º AbortController –≤—Ä—É—á–Ω—É—é –¥–ª—è —Ä—É—á–Ω–æ–≥–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –æ—Ç–º–µ–Ω–æ–π
  const ac = new AbortController();

  // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Ç–∞–π–º–∞—É—Ç: –µ—Å–ª–∏ —Å–∂–∞—Ç–∏–µ –∑–∞–π–º—ë—Ç –±–æ–ª—å—à–µ 5 —Å–µ–∫—É–Ω–¥ ‚Äî –æ—Ç–º–µ–Ω—è–µ–º
  const timeoutId = setTimeout(() =&gt; {
    console.log('–¢–∞–π–º–∞—É—Ç! –û—Ç–º–µ–Ω—è–µ–º pipeline...');
    ac.abort();
  }, 5000);

  try {
    await pipeline(
      fs.createReadStream(srcFile),
      zlib.createGzip(),          // Transform stream: —Å–∂–∞—Ç–∏–µ –¥–∞–Ω–Ω—ã—Ö
      fs.createWriteStream(gzFile),
      { signal: ac.signal }       // –ü–µ—Ä–µ–¥–∞—ë–º AbortSignal
    );
    console.log('–°–∂–∞—Ç–∏–µ –∑–∞–≤–µ—Ä—à–µ–Ω–æ —É—Å–ø–µ—à–Ω–æ');
  } catch (err) {
    if (err.name === 'AbortError') {
      console.log('Pipeline –æ—Ç–º–µ–Ω—ë–Ω –ø–æ AbortSignal');
    } else {
      console.error('–û—à–∏–±–∫–∞ pipeline:', err.message);
    }
  } finally {
    clearTimeout(timeoutId);
    // –ß–∏—Å—Ç–∏–º —Ñ–∞–π–ª—ã
    fs.unlink(srcFile, () =&gt; {});
    fs.unlink(gzFile, () =&gt; {});
  }
}

// –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ ‚Äî AbortSignal.timeout –±–µ–∑ —è–≤–Ω–æ–≥–æ AbortController:
async function compressWithAutoTimeout() {
  const srcFile2 = path.join(os.tmpdir(), 'pipeline-src2.txt');
  const gzFile2 = path.join(os.tmpdir(), 'pipeline-out2.gz');
  fs.writeFileSync(srcFile2, 'Data\n'.repeat(10));

  try {
    await pipeline(
      fs.createReadStream(srcFile2),
      zlib.createGzip(),
      fs.createWriteStream(gzFile2),
      { signal: AbortSignal.timeout(10) } // 10 –º—Å ‚Äî —Ñ–∞–π–ª –Ω–µ —É—Å–ø–µ–µ—Ç —Å–∂–∞—Ç—å—Å—è
    );
    console.log('–°–∂–∞—Ç–∏–µ –∑–∞–≤–µ—Ä—à–µ–Ω–æ');
  } catch (err) {
    if (err.name === 'AbortError' || err.name === 'TimeoutError') {
      console.log('–û–ø–µ—Ä–∞—Ü–∏—è –ø—Ä–µ—Ä–≤–∞–Ω–∞ –ø–æ —Ç–∞–π–º–∞—É—Ç—É (–æ–∂–∏–¥–∞–µ–º–æ)');
    }
  } finally {
    fs.unlink(srcFile2, () =&gt; {});
    fs.unlink(gzFile2, () =&gt; {});
  }
}

compressWithTimeout().then(compressWithAutoTimeout).catch(console.error);
</code></pre>
<hr />
<h2 id="15-transform-stream"><a class="header" href="#15-transform-stream">1.5 Transform Stream</a></h2>
<p>Transform ‚Äî —ç—Ç–æ –¥–≤—É–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–π —Å—Ç—Ä–∏–º. –î–∞–Ω–Ω—ã–µ, –∑–∞–ø–∏—Å–∞–Ω–Ω—ã–µ –≤ –µ–≥–æ <code>Writable</code>-—Å—Ç–æ—Ä–æ–Ω—É,
–ø—Ä–æ—Ö–æ–¥—è—Ç —á–µ—Ä–µ–∑ –º–µ—Ç–æ–¥ <code>transform</code>, –ø—Ä–µ–æ–±—Ä–∞–∑—É—é—Ç—Å—è –∏ –≤—ã—Ö–æ–¥—è—Ç –Ω–∞ <code>Readable</code>-—Å—Ç–æ—Ä–æ–Ω–µ.</p>
<pre><code class="language-javascript">// –ü—Ä–∏–º–µ—Ä 8. Transform Stream: "–º–µ–¥–ª–µ–Ω–Ω—ã–π –ø–æ—Ç–æ–∫" —Å –ø–æ–±—É–∫–≤–µ–Ω–Ω–æ–π –≤—ã–¥–∞—á–µ–π
//
// –≠—Ç–æ—Ç Transform –ø—Ä–∏–Ω–∏–º–∞–µ—Ç —Å—Ç—Ä–æ–∫–∏ –∏ –≤—ã–¥–∞—ë—Ç –∏—Ö –ø–æ—Å–∏–º–≤–æ–ª—å–Ω–æ —Å –∑–∞–¥–µ—Ä–∂–∫–æ–π.
// –≠—Ñ—Ñ–µ–∫—Ç: —Ç–µ–∫—Å—Ç "–ø–µ—á–∞—Ç–∞–µ—Ç—Å—è" –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ —Å –∑–∞–¥–∞–Ω–Ω–æ–π —Å–∫–æ—Ä–æ—Å—Ç—å—é.
//
// –ö–ª—é—á–µ–≤—ã–µ –º–æ–º–µ–Ω—Ç—ã:
// - this.push(data) ‚Äî –ø–æ–ª–æ–∂–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –≤ readable-—Å—Ç–æ—Ä–æ–Ω—É —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞
// - next() ‚Äî —Å–∏–≥–Ω–∞–ª "—á–∞–Ω–∫ –æ–±—Ä–∞–±–æ—Ç–∞–Ω, –º–æ–∂–Ω–æ –ø—Ä–∏–Ω—è—Ç—å —Å–ª–µ–¥—É—é—â–∏–π"
// - setTimeoutPromise –∏–∑ node:timers/promises ‚Äî –Ω–µ–±–ª–æ–∫–∏—Ä—É—é—â–∞—è –ø–∞—É–∑–∞

'use strict';
const { Transform, Readable } = require('node:stream');
const { setTimeout: setTimeoutPromise } = require('node:timers/promises');
const { pipeline } = require('node:stream/promises');

// –§–∞–±—Ä–∏–∫–∞ —Å–æ–∑–¥–∞—ë—Ç SlowStream —Å –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º–æ–π –∑–∞–¥–µ—Ä–∂–∫–æ–π –º–µ–∂–¥—É —Å–∏–º–≤–æ–ª–∞–º–∏
function createSlowStream(delayMs) {
  return new Transform({
    async transform(chunk, encoding, next) {
      const str = chunk.toString();
      for (const char of str) {
        // –ö–ª–∞–¥—ë–º —Å–∏–º–≤–æ–ª –≤ readable-–±—É—Ñ–µ—Ä —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞
        this.push(char);
        // –ñ–¥—ë–º –ø–µ—Ä–µ–¥ –æ—Ç–ø—Ä–∞–≤–∫–æ–π —Å–ª–µ–¥—É—é—â–µ–≥–æ —Å–∏–º–≤–æ–ª–∞
        await setTimeoutPromise(delayMs);
      }
      // –°–∏–≥–Ω–∞–ª–∏–∑–∏—Ä—É–µ–º: —á–∞–Ω–∫ –æ–±—Ä–∞–±–æ—Ç–∞–Ω
      next();
    }
  });
}

async function demo() {
  const text = 'Hello, Node.js Streams!\n';
  const source = Readable.from([text]);
  const slowStream = createSlowStream(50); // 50 –º—Å –º–µ–∂–¥—É —Å–∏–º–≤–æ–ª–∞–º–∏

  await pipeline(
    source,
    slowStream,
    process.stdout   // Writable ‚Äî —Ñ–∏–Ω–∞–ª—å–Ω—ã–π –ø–æ–ª—É—á–∞—Ç–µ–ª—å –¥–∞–Ω–Ω—ã—Ö
  );
}

demo().catch(console.error);
</code></pre>
<h3 id="object-mode"><a class="header" href="#object-mode">Object Mode</a></h3>
<p>–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é —Å—Ç—Ä–∏–º—ã —Ä–∞–±–æ—Ç–∞—é—Ç —Å <code>Buffer</code> –∏ —Å—Ç—Ä–æ–∫–∞–º–∏. –í–∫–ª—é—á–∏–≤ <code>objectMode: true</code>,
–º–æ–∂–Ω–æ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω—ã–µ JavaScript-–æ–±—ä–µ–∫—Ç—ã. –≠—Ç–æ –ø—Ä–∏–Ω—Ü–∏–ø–∏–∞–ª—å–Ω–æ –º–µ–Ω—è–µ—Ç —Å–µ–º–∞–Ω—Ç–∏–∫—É:
<code>highWaterMark</code> —Ç–µ–ø–µ—Ä—å —Å—á–∏—Ç–∞–µ—Ç—Å—è –Ω–µ –≤ –±–∞–π—Ç–∞—Ö, –∞ –≤ –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ –æ–±—ä–µ–∫—Ç–æ–≤.</p>
<pre><code class="language-javascript">// –ü—Ä–∏–º–µ—Ä 9. Transform Stream –≤ objectMode ‚Äî –∞–≥—Ä–µ–≥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö
//
// –ó–∞–¥–∞—á–∞: –µ—Å—Ç—å –∫–∞—Ç–∞–ª–æ–≥ —Ç–æ–≤–∞—Ä–æ–≤, —Ä–∞–∑–±–∏—Ç—ã–π –ø–æ –≥—Ä—É–ø–ø–∞–º.
// –ù—É–∂–Ω–æ –¥–ª—è –∫–∞–∂–¥–æ–π –≥—Ä—É–ø–ø—ã –ø–æ—Å—á–∏—Ç–∞—Ç—å –æ–±—â—É—é —Å—Ç–æ–∏–º–æ—Å—Ç—å (SAP Total).
//
// objectMode –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ JS-–æ–±—ä–µ–∫—Ç—ã,
// –∞ –Ω–µ —Ç–æ–ª—å–∫–æ –±–∞–π—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ. –≠—Ç–æ –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–æ –¥–ª—è —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö –≤ –ø–∞–º—è—Ç–∏.

'use strict';
const { Transform, Writable, Readable } = require('node:stream');
const { pipeline } = require('node:stream/promises');

// –¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ: –∫–∞—Ç–∞–ª–æ–≥ —Ç–æ–≤–∞—Ä–æ–≤ –ø–æ –≥—Ä—É–ø–ø–∞–º
const catalog = new Map([
  ['–≠–ª–µ–∫—Ç—Ä–æ–Ω–∏–∫–∞', [
    { name: '–ù–æ—É—Ç–±—É–∫', price: 75000 },
    { name: '–¢–µ–ª–µ—Ñ–æ–Ω', price: 45000 },
    { name: '–ü–ª–∞–Ω—à–µ—Ç', price: 30000 },
  ]],
  ['–ö–∞–Ω—Ü–µ–ª—è—Ä–∏—è', [
    { name: '–ë—É–º–∞–≥–∞ A4', price: 350 },
    { name: '–†—É—á–∫–∞', price: 50 },
    { name: '–¢–µ—Ç—Ä–∞–¥—å', price: 80 },
  ]],
  ['–ú–µ–±–µ–ª—å', [
    { name: '–°—Ç–æ–ª', price: 12000 },
    { name: '–°—Ç—É–ª', price: 5000 },
  ]],
]);

// Transform: –ø—Ä–∏–Ω–∏–º–∞–µ—Ç { group, items }, –≤—ã–¥–∞—ë—Ç { group, count, total }
const aggregateStream = new Transform({
  objectMode: true, // –æ–±–∞ –∫–æ–Ω—Ü–∞ (readable –∏ writable) —Ä–∞–±–æ—Ç–∞—é—Ç —Å –æ–±—ä–µ–∫—Ç–∞–º–∏

  transform({ group, items }, encoding, next) {
    // –í–∞–ª–∏–¥–∞—Ü–∏—è: —Ü–µ–Ω—ã –Ω–µ –º–æ–≥—É—Ç –±—ã—Ç—å –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–º–∏
    for (const item of items) {
      if (item.price &lt; 0) {
        // –ü–µ—Ä–µ–¥–∞—á–∞ –æ—à–∏–±–∫–∏ –≤ next() –∞–≤–∞—Ä–∏–π–Ω–æ –∑–∞–≤–µ—Ä—à–∞–µ—Ç —Å—Ç—Ä–∏–º
        return next(new Error(`–û—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω–∞—è —Ü–µ–Ω–∞ –¥–ª—è "${item.name}" –≤ –≥—Ä—É–ø–ø–µ "${group}"`));
      }
    }

    const total = items.reduce((sum, item) =&gt; sum + item.price, 0);

    // this.push() –∫–ª–∞–¥—ë—Ç –æ–±—ä–µ–∫—Ç –≤ readable-–±—É—Ñ–µ—Ä
    this.push({ group, count: items.length, total });
    next();
  }
});

// Writable: –≤—ã–≤–æ–¥–∏—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç –∞–≥—Ä–µ–≥–∞—Ü–∏–∏
const printStream = new Writable({
  objectMode: true,
  write(record, encoding, next) {
    const { group, count, total } = record;
    console.log(`–ì—Ä—É–ø–ø–∞: ${group.padEnd(15)} | –ü–æ–∑–∏—Ü–∏–π: ${count} | –ò—Ç–æ–≥–æ: ${total.toLocaleString('ru')} —Ä—É–±.`);
    next();
  }
});

// Readable –∏–∑ Map-–∞ ‚Äî —Å–æ–∑–¥–∞—ë–º —á–µ—Ä–µ–∑ Readable.from —Å –∫–∞—Å—Ç–æ–º–Ω—ã–º –∏—Ç–µ—Ä–∞—Ç–æ—Ä–æ–º
function* catalogIterator(catalog) {
  for (const [group, items] of catalog) {
    yield { group, items };
  }
}

async function runAggregation() {
  try {
    await pipeline(
      Readable.from(catalogIterator(catalog)),
      aggregateStream,
      printStream
    );
    console.log('–ê–≥—Ä–µ–≥–∞—Ü–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∞');
  } catch (err) {
    console.error('–û—à–∏–±–∫–∞ –∞–≥—Ä–µ–≥–∞—Ü–∏–∏:', err.message);
  }
}

runAggregation();
</code></pre>
<hr />
<h2 id="16-backpressure--—É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ-–¥–∞–≤–ª–µ–Ω–∏–µ–º-–¥–∞–Ω–Ω—ã—Ö"><a class="header" href="#16-backpressure--—É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ-–¥–∞–≤–ª–µ–Ω–∏–µ–º-–¥–∞–Ω–Ω—ã—Ö">1.6 Backpressure ‚Äî —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–∞–≤–ª–µ–Ω–∏–µ–º –¥–∞–Ω–Ω—ã—Ö</a></h2>
<p>Backpressure ‚Äî —ç—Ç–æ –º–µ—Ö–∞–Ω–∏–∑–º –æ–±—Ä–∞—Ç–Ω–æ–≥–æ –¥–∞–≤–ª–µ–Ω–∏—è –≤ –ø–æ—Ç–æ–∫–µ –¥–∞–Ω–Ω—ã—Ö. –û–Ω –≤–æ–∑–Ω–∏–∫–∞–µ—Ç –∫–æ–≥–¥–∞
–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å –¥–∞–Ω–Ω—ã—Ö —Ä–∞–±–æ—Ç–∞–µ—Ç –±—ã—Å—Ç—Ä–µ–µ –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—è: <code>Readable</code> –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —á–∞–Ω–∫–∏ –±—ã—Å—Ç—Ä–µ–µ,
—á–µ–º <code>Writable</code> —É—Å–ø–µ–≤–∞–µ—Ç –∏—Ö –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å.</p>
<p><strong>–ü–æ—á–µ–º—É —ç—Ç–æ –≤–∞–∂–Ω–æ:</strong> –±–µ–∑ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è backpressure –¥–∞–Ω–Ω—ã–µ –Ω–∞–∫–∞–ø–ª–∏–≤–∞—é—Ç—Å—è –≤ –±—É—Ñ–µ—Ä–µ <code>Writable</code>
–≤ –æ–ø–µ—Ä–∞—Ç–∏–≤–Ω–æ–π –ø–∞–º—è—Ç–∏. –ü—Ä–∏ –ø–µ—Ä–µ–¥–∞—á–µ –±–æ–ª—å—à–∏—Ö —Ñ–∞–π–ª–æ–≤ (–≥–∏–≥–∞–±–∞–π—Ç—ã) –∏–ª–∏ –ø—Ä–∏ –º–µ–¥–ª–µ–Ω–Ω–æ–º –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª–µ
(–º–µ–¥–ª–µ–Ω–Ω–∞—è –∑–∞–ø–∏—Å—å –Ω–∞ –¥–∏—Å–∫, –º–µ–¥–ª–µ–Ω–Ω–∞—è —Å–µ—Ç—å) –ø–∞–º—è—Ç—å —Å–µ—Ä–≤–µ—Ä–∞ –º–æ–∂–µ—Ç –±—ã—Ç—å –∏—Å—á–µ—Ä–ø–∞–Ω–∞.</p>
<p><strong>–ú–µ—Ö–∞–Ω–∏–∑–º:</strong></p>
<ol>
<li><code>writable.write(chunk)</code> –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç <code>true</code> ‚Äî –±—É—Ñ–µ—Ä –Ω–µ –∑–∞–ø–æ–ª–Ω–µ–Ω (–Ω–∏–∂–µ <code>highWaterMark</code>)</li>
<li><code>writable.write(chunk)</code> –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç <code>false</code> ‚Äî –±—É—Ñ–µ—Ä –∑–∞–ø–æ–ª–Ω–µ–Ω, –∑–∞–ø–∏—Å—å –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç—Å—è,
–Ω–æ –Ω—É–∂–Ω–æ –ø–∞—É–∑–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—è</li>
<li>–°–æ–±—ã—Ç–∏–µ <code>drain</code> –Ω–∞ <code>Writable</code> ‚Äî –±—É—Ñ–µ—Ä –æ–ø—É—Å—Ç–µ–ª, –º–æ–∂–Ω–æ –≤–æ–∑–æ–±–Ω–æ–≤–∏—Ç—å —á—Ç–µ–Ω–∏–µ</li>
</ol>
<pre><code class="language-javascript">// –ü—Ä–∏–º–µ—Ä 10. –†—É—á–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ backpressure
//
// –î–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç –º–µ—Ö–∞–Ω–∏–∑–º pause/resume –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è –ø–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω–∏—è –ø–∞–º—è—Ç–∏.
//
// –ë–µ–∑ backpressure: –º–µ–¥–ª–µ–Ω–Ω—ã–π writable –Ω–∞–∫–∞–ø–ª–∏–≤–∞–µ—Ç –í–°–ï –¥–∞–Ω–Ω—ã–µ –≤ –±—É—Ñ–µ—Ä–µ.
// –° backpressure: readable –ø—Ä–∏–æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è, –ø–æ–∫–∞ writable –Ω–µ –æ—Å–≤–æ–±–æ–¥–∏—Ç –±—É—Ñ–µ—Ä.
//
// –ê–Ω–∞–ª–æ–≥–∏—è: –∫—Ä–∞–Ω (readable) –∏ –≤–µ–¥—Ä–æ (writable).
// –ö–æ–≥–¥–∞ –≤–µ–¥—Ä–æ –ø–µ—Ä–µ–ø–æ–ª–Ω—è–µ—Ç—Å—è ‚Äî –∑–∞–∫—Ä—ã–≤–∞–µ–º –∫—Ä–∞–Ω (pause).
// –ö–æ–≥–¥–∞ –≤–µ–¥—Ä–æ –æ–ø—É—Å—Ç–µ–ª–æ ‚Äî –æ—Ç–∫—Ä—ã–≤–∞–µ–º –∫—Ä–∞–Ω —Å–Ω–æ–≤–∞ (resume).

'use strict';
const { Readable, Writable } = require('node:stream');
const { setTimeout: delay } = require('node:timers/promises');

// –ë—ã—Å—Ç—Ä—ã–π –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å: –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç 100 —á–∞–Ω–∫–æ–≤ –ø–æ 1 KB –º–≥–Ω–æ–≤–µ–Ω–Ω–æ
async function* fastProducer() {
  const chunk = Buffer.alloc(1024, 'X'); // 1 KB
  for (let i = 1; i &lt;= 100; i++) {
    yield chunk;
  }
}

// –ú–µ–¥–ª–µ–Ω–Ω—ã–π –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—å: –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∫–∞–∂–¥—ã–π —á–∞–Ω–∫ 20 –º—Å
function createSlowWriter() {
  let receivedChunks = 0;
  let pauseCount = 0;

  const writable = new Writable({
    // highWaterMark: 4 KB ‚Äî –±—É—Ñ–µ—Ä –∑–∞–ø–æ–ª–Ω–∏—Ç—Å—è –æ—á–µ–Ω—å –±—ã—Å—Ç—Ä–æ
    highWaterMark: 4 * 1024,

    async write(chunk, encoding, next) {
      receivedChunks++;
      // –ò–º–∏—Ç–∏—Ä—É–µ–º –º–µ–¥–ª–µ–Ω–Ω—É—é –∑–∞–ø–∏—Å—å (–Ω–∞–ø—Ä–∏–º–µ—Ä, –∑–∞–ø–∏—Å—å –Ω–∞ –º–µ–¥–ª–µ–Ω–Ω—ã–π –¥–∏—Å–∫)
      await delay(20);
      next();
    },

    final(callback) {
      console.log(`\n–ó–∞–≤–µ—Ä—à–µ–Ω–æ. –ü–æ–ª—É—á–µ–Ω–æ —á–∞–Ω–∫–æ–≤: ${receivedChunks}, –ø–∞—É–∑: ${pauseCount}`);
      callback();
    }
  });

  return { writable, getPauseCount: () =&gt; pauseCount, incPause: () =&gt; pauseCount++ };
}

async function runWithBackpressure() {
  const readable = Readable.from(fastProducer(), { highWaterMark: 2 * 1024 });
  const { writable, incPause } = createSlowWriter();

  // –ü–æ–¥–ø–∏—Å—ã–≤–∞–µ–º—Å—è –Ω–∞ 'data' –∏ –≤—Ä—É—á–Ω—É—é —É–ø—Ä–∞–≤–ª—è–µ–º –ø–æ—Ç–æ–∫–æ–º
  readable.on('data', (chunk) =&gt; {
    const canContinue = writable.write(chunk);

    if (!canContinue) {
      // –ë—É—Ñ–µ—Ä writable –∑–∞–ø–æ–ª–Ω–µ–Ω ‚Äî –ø–∞—É–∑–∏—Ä—É–µ–º —á—Ç–µ–Ω–∏–µ
      readable.pause();
      incPause();
      process.stdout.write('P'); // –≤–∏–∑—É–∞–ª–∏–∑–∏—Ä—É–µ–º –ø–∞—É–∑—É
    }
  });

  writable.on('drain', () =&gt; {
    // –ë—É—Ñ–µ—Ä writable –æ—Å–≤–æ–±–æ–¥–∏–ª—Å—è ‚Äî –≤–æ–∑–æ–±–Ω–æ–≤–ª—è–µ–º —á—Ç–µ–Ω–∏–µ
    readable.resume();
    process.stdout.write('R'); // –≤–∏–∑—É–∞–ª–∏–∑–∏—Ä—É–µ–º –≤–æ–∑–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ
  });

  readable.on('end', () =&gt; {
    writable.end();
  });

  await new Promise((resolve, reject) =&gt; {
    writable.on('finish', resolve);
    writable.on('error', reject);
    readable.on('error', reject);
  });
}

console.log('–ó–∞–ø—É—Å–∫ –ø–µ—Ä–µ–¥–∞—á–∏ —Å backpressure (P=–ø–∞—É–∑–∞, R=–≤–æ–∑–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ):');
runWithBackpressure().catch(console.error);
</code></pre>
<h3 id="–ü–∞—Ä–∞–º–µ—Ç—Ä-highwatermark"><a class="header" href="#–ü–∞—Ä–∞–º–µ—Ç—Ä-highwatermark">–ü–∞—Ä–∞–º–µ—Ç—Ä <code>highWaterMark</code></a></h3>
<pre><code class="language-javascript">// –ü—Ä–∏–º–µ—Ä 11. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ highWaterMark
//
// highWaterMark ‚Äî —ç—Ç–æ –º—è–≥–∫–∏–π –ø–æ—Ä–æ–≥ –±—É—Ñ–µ—Ä–∞:
// - –î–ª—è byte streams: –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –±–∞–π—Ç (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 64 * 1024 = 64 KB)
// - –î–ª—è objectMode streams: –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ–±—ä–µ–∫—Ç–æ–≤ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 16)
//
// –≠—Ç–æ –ú–Ø–ì–ö–ò–ô –ø–æ—Ä–æ–≥: write() –ø—Ä–æ–¥–æ–ª–∂–∏—Ç —Ä–∞–±–æ—Ç—É –¥–∞–∂–µ –ø–æ—Å–ª–µ –µ–≥–æ –ø—Ä–µ–≤—ã—à–µ–Ω–∏—è,
// –Ω–æ –≤–µ—Ä–Ω—ë—Ç false, —Å–∏–≥–Ω–∞–ª–∏–∑–∏—Ä—É—è –æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –ø–∞—É–∑—ã.

'use strict';
const fs = require('node:fs');
const path = require('node:path');
const os = require('node:os');

const srcFile = path.join(os.tmpdir(), 'hwm-test.bin');
// –°–æ–∑–¥–∞—ë–º —Ñ–∞–π–ª 1 MB
fs.writeFileSync(srcFile, Buffer.alloc(1024 * 1024, 0x41)); // 'A' * 1 MB

const outFile = path.join(os.tmpdir(), 'hwm-out.bin');

// –ú–∞–ª–µ–Ω—å–∫–∏–π highWaterMark -&gt; –±–æ–ª—å—à–µ —á–∞–Ω–∫–æ–≤, –±–æ–ª—å—à–µ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–π –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞
const readable = fs.createReadStream(srcFile, { highWaterMark: 16 * 1024 }); // 16 KB

// –ë–æ–ª—å—à–æ–π highWaterMark —É writable -&gt; —Ä–µ–∂–µ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç backpressure
const writable = fs.createWriteStream(outFile, { highWaterMark: 64 * 1024 }); // 64 KB

let chunkCount = 0;

readable.on('data', (chunk) =&gt; {
  chunkCount++;
  writable.write(chunk);
});

readable.on('end', () =&gt; {
  writable.end();
  console.log(`–§–∞–π–ª —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω: ${chunkCount} —á–∞–Ω–∫–æ–≤ –ø–æ ~${16} KB`);
  fs.unlink(srcFile, () =&gt; {});
  fs.unlink(outFile, () =&gt; {});
});

readable.on('error', console.error);
writable.on('error', console.error);
</code></pre>
<hr />
<h2 id="17-cork-–∏-uncork--–±—É—Ñ–µ—Ä–∏–∑–∞—Ü–∏—è-–∑–∞–ø–∏—Å–∏"><a class="header" href="#17-cork-–∏-uncork--–±—É—Ñ–µ—Ä–∏–∑–∞—Ü–∏—è-–∑–∞–ø–∏—Å–∏">1.7 Cork –∏ Uncork ‚Äî –±—É—Ñ–µ—Ä–∏–∑–∞—Ü–∏—è –∑–∞–ø–∏—Å–∏</a></h2>
<p><code>writable.cork()</code> –∏ <code>writable.uncork()</code> —É–ø—Ä–∞–≤–ª—è—é—Ç –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–º –±—É—Ñ–µ—Ä–æ–º <code>Writable</code>:</p>
<ul>
<li><code>cork()</code> ‚Äî –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –Ω–µ–º–µ–¥–ª–µ–Ω–Ω—É—é –∑–∞–ø–∏—Å—å, –Ω–∞–∫–∞–ø–ª–∏–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –≤ –±—É—Ñ–µ—Ä–µ</li>
<li><code>uncork()</code> ‚Äî —Å–±—Ä–æ—Å–∏—Ç—å –Ω–∞–∫–æ–ø–ª–µ–Ω–Ω—ã–π –±—É—Ñ–µ—Ä –æ–¥–Ω–æ–π –æ–ø–µ—Ä–∞—Ü–∏–µ–π –∑–∞–ø–∏—Å–∏</li>
</ul>
<pre><code class="language-javascript">// –ü—Ä–∏–º–µ—Ä 12. Cork / Uncork ‚Äî –±–∞—Ç—á–∏–Ω–≥ –º–µ–ª–∫–∏—Ö –∑–∞–ø–∏—Å–µ–π
//
// –ó–∞–¥–∞—á–∞: —É –Ω–∞—Å –µ—Å—Ç—å –º–Ω–æ–≥–æ –º–µ–ª–∫–∏—Ö —á–∞–Ω–∫–æ–≤, –∏ –º—ã —Ö–æ—Ç–∏–º –æ–±—ä–µ–¥–∏–Ω–∏—Ç—å –∏—Ö
// –≤ –æ–¥–∏–Ω –∫—Ä—É–ø–Ω—ã–π –ø–∞–∫–µ—Ç –ø–µ—Ä–µ–¥ —Ä–µ–∞–ª—å–Ω–æ–π –∑–∞–ø–∏—Å—å—é.
// –ü—Ä–∏–º–µ—Ä –∏–∑ –∂–∏–∑–Ω–∏: –≤–≤–æ–¥ –¥–∞–Ω–Ω—ã—Ö –ø–æ—Å–∏–º–≤–æ–ª—å–Ω–æ –∏–∑ stdin, –æ—Ç–ø—Ä–∞–≤–∫–∞ —Å—Ç—Ä–æ–∫–æ–π.

'use strict';
const { Writable } = require('node:stream');

let writeCount = 0;

const batchedWritable = new Writable({
  write(chunk, encoding, next) {
    writeCount++;
    // –ò–º–∏—Ç–∏—Ä—É–µ–º –∑–∞–ø–∏—Å—å (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Å–∏—Å—Ç–µ–º–Ω—ã–π –≤—ã–∑–æ–≤ write())
    process.stdout.write(`[write #${writeCount}: "${chunk.toString()}"]\n`);
    next();
  }
});

// –ë–ï–ó cork: –∫–∞–∂–¥—ã–π write() –≤—ã–∑—ã–≤–∞–µ—Ç –º–µ—Ç–æ–¥ write –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ
console.log('=== –ë–µ–∑ cork ===');
batchedWritable.write('a');
batchedWritable.write('b');
batchedWritable.write('c');

// –°–±—Ä–∞—Å—ã–≤–∞–µ–º —Å—á—ë—Ç—á–∏–∫
writeCount = 0;

// –° cork: –¥–∞–Ω–Ω—ã–µ –Ω–∞–∫–∞–ø–ª–∏–≤–∞—é—Ç—Å—è, uncork() —Å–±—Ä–∞—Å—ã–≤–∞–µ—Ç –∏—Ö –æ–¥–Ω–∏–º –ø–∞–∫–µ—Ç–æ–º
console.log('\n=== –° cork ===');
batchedWritable.cork();
batchedWritable.write('x');
batchedWritable.write('y');
batchedWritable.write('z');
// –ó–¥–µ—Å—å –Ω–∏ –æ–¥–Ω–æ–≥–æ write() –≤ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –µ—â—ë –Ω–µ –ø–æ—Å—Ç—É–ø–∞–ª–æ
console.log('(–¥–æ uncork ‚Äî –∑–∞–ø–∏—Å–µ–π –Ω–µ—Ç)');
batchedWritable.uncork();
// –¢–µ–ø–µ—Ä—å –≤—Å–µ —Ç—Ä–∏ –∑–∞–ø–∏—Å–∏ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω—ã –æ–¥–Ω–∏–º –ø–∞–∫–µ—Ç–æ–º

batchedWritable.end();
</code></pre>
<hr />
<h2 id="–°—Ä–∞–≤–Ω–µ–Ω–∏–µ-—Å—Ç–∏–ª–µ–π-—á—Ç–µ–Ω–∏—è-readable-stream"><a class="header" href="#–°—Ä–∞–≤–Ω–µ–Ω–∏–µ-—Å—Ç–∏–ª–µ–π-—á—Ç–µ–Ω–∏—è-readable-stream">–°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å—Ç–∏–ª–µ–π —á—Ç–µ–Ω–∏—è Readable Stream</a></h2>
<div class="table-wrapper"><table><thead><tr><th>–°—Ç–∏–ª—å</th><th>–†–µ–∂–∏–º</th><th>–ö–æ–Ω—Ç—Ä–æ–ª—å backpressure</th><th>–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫</th><th>–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è</th></tr></thead><tbody>
<tr><td><code>on('data')</code></td><td>Flowing</td><td>–†—É—á–Ω–æ–π (<code>pause</code>/<code>resume</code>)</td><td><code>on('error')</code></td><td>–ù–∏–∑–∫–æ—É—Ä–æ–≤–Ω–µ–≤–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ</td></tr>
<tr><td><code>on('readable')</code></td><td>Paused</td><td>–í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π</td><td><code>on('error')</code></td><td>–ë–æ–ª—å—à–µ –∫–æ–Ω—Ç—Ä–æ–ª—è –Ω–∞–¥ —á—Ç–µ–Ω–∏–µ–º</td></tr>
<tr><td><code>for await...of</code></td><td>Async</td><td>–í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π</td><td><code>try/catch</code></td><td>–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π —Å—Ç–∏–ª—å, —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è</td></tr>
<tr><td><code>pipe</code> / <code>pipeline</code></td><td>Flowing</td><td>–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π</td><td><code>pipeline</code> –ø—Ä–æ–ø–∞–≥–µ–π—Ç–∏—Ç</td><td>–î–ª—è —Ü–µ–ø–æ—á–µ–∫ —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏–π</td></tr>
</tbody></table>
</div>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="web-streams--–ø–æ—Ç–æ–∫–∏-–¥–∞–Ω–Ω—ã—Ö-–≤-–±—Ä–∞—É–∑–µ—Ä–µ-–∏-—Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–º-nodejs"><a class="header" href="#web-streams--–ø–æ—Ç–æ–∫–∏-–¥–∞–Ω–Ω—ã—Ö-–≤-–±—Ä–∞—É–∑–µ—Ä–µ-–∏-—Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–º-nodejs">Web Streams ‚Äî –ø–æ—Ç–æ–∫–∏ –¥–∞–Ω–Ω—ã—Ö –≤ –±—Ä–∞—É–∑–µ—Ä–µ –∏ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–º Node.js</a></h1>
<hr />
<h2 id="–í–≤–µ–¥–µ–Ω–∏–µ-11"><a class="header" href="#–í–≤–µ–¥–µ–Ω–∏–µ-11">–í–≤–µ–¥–µ–Ω–∏–µ</a></h2>
<p>Web Streams API (WHATWG Streams) ‚Äî —ç—Ç–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç W3C/WHATWG –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ø–æ—Ç–æ–∫–∞–º–∏ –¥–∞–Ω–Ω—ã—Ö
–≤ –±—Ä–∞—É–∑–µ—Ä–µ. –ù–∞—á–∏–Ω–∞—è —Å Node.js 18, —ç—Ç–æ—Ç API –¥–æ—Å—Ç—É–ø–µ–Ω –≥–ª–æ–±–∞–ª—å–Ω–æ –±–µ–∑ <code>require</code>.</p>
<p>–ü—Ä–∏–Ω—Ü–∏–ø–∏–∞–ª—å–Ω–æ–µ –æ—Ç–ª–∏—á–∏–µ –æ—Ç Node.js Streams: Web Streams –Ω–µ –æ—Å–Ω–æ–≤–∞–Ω—ã –Ω–∞ <code>EventEmitter</code>.
–í–º–µ—Å—Ç–æ —Å–æ–±—ã—Ç–∏–π –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è Promise-based API ‚Äî –∫–∞–∂–¥–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç Promise,
–∏ backpressure —Ä–µ–∞–ª–∏–∑—É–µ—Ç—Å—è —á–µ—Ä–µ–∑ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ –∏–ª–∏ –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏–µ —ç—Ç–∏—Ö Promise.</p>
<p>–°—Ç—Ä–∏–º—ã –≤ –±—Ä–∞—É–∑–µ—Ä–µ –≤—Å—Ç—Ä–µ—á–∞—é—Ç—Å—è –ø—Ä–∏:</p>
<ul>
<li>–ó–∞–≥—Ä—É–∑–∫–µ —Ñ–∞–π–ª–æ–≤ —Å —Å–µ—Ä–≤–µ—Ä–∞ (Fetch API ‚Äî <code>response.body</code> —ç—Ç–æ <code>ReadableStream</code>)</li>
<li>–†–∞–±–æ—Ç–µ —Å —Ñ–∞–π–ª–∞–º–∏ —á–µ—Ä–µ–∑ File System Access API</li>
<li>–û–±—Ä–∞–±–æ—Ç–∫–µ –º–µ–¥–∏–∞–¥–∞–Ω–Ω—ã—Ö (MediaRecorder)</li>
<li>–õ—é–±–æ–π –ø–æ—Ç–æ–∫–æ–≤–æ–π –ø–µ—Ä–µ–¥–∞—á–µ –¥–∞–Ω–Ω—ã—Ö —á–µ—Ä–µ–∑ Service Workers</li>
</ul>
<hr />
<h2 id="21-readablestream--—á—Ç–µ–Ω–∏–µ-–∏–∑-fetch-api"><a class="header" href="#21-readablestream--—á—Ç–µ–Ω–∏–µ-–∏–∑-fetch-api">2.1 ReadableStream ‚Äî —á—Ç–µ–Ω–∏–µ –∏–∑ Fetch API</a></h2>
<pre><code class="language-javascript">// –ü—Ä–∏–º–µ—Ä 13. –ß—Ç–µ–Ω–∏–µ –ø–æ—Ç–æ–∫–æ–≤–æ–≥–æ –æ—Ç–≤–µ—Ç–∞ —á–µ—Ä–µ–∑ getReader()
//
// fetch() –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç Response, —É –∫–æ—Ç–æ—Ä–æ–≥–æ body ‚Äî —ç—Ç–æ ReadableStream.
// –ú—ã –º–æ–∂–µ–º —á–∏—Ç–∞—Ç—å –µ–≥–æ –ø–æ–±–∞–π—Ç–æ–≤–æ —á–µ—Ä–µ–∑ reader, –Ω–µ –æ–∂–∏–¥–∞—è –∑–∞–≥—Ä—É–∑–∫–∏ –≤—Å–µ–≥–æ —Ñ–∞–π–ª–∞.
//
// –≠—Ç–æ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω–æ –¥–ª—è –±–æ–ª—å—à–∏—Ö —Ñ–∞–π–ª–æ–≤: –±—Ä–∞—É–∑–µ—Ä –Ω–µ –¥–µ—Ä–∂–∏—Ç –≤–µ—Å—å —Ñ–∞–π–ª –≤ –ø–∞–º—è—Ç–∏.
//
// –ß–∞–Ω–∫–∏ –ø—Ä–∏—Ö–æ–¥—è—Ç –∫–∞–∫ Uint8Array ‚Äî —Ç–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –±–∞–π—Ç–æ–≤—ã–π –º–∞—Å—Å–∏–≤.
// –í –±—Ä–∞—É–∑–µ—Ä–µ –Ω–µ—Ç Buffer.concat, –ø–æ—ç—Ç–æ–º—É —Å–∫–ª–µ–π–∫—É —Ä–µ–∞–ª–∏–∑—É–µ–º –≤—Ä—É—á–Ω—É—é.

// –≠—Ç–æ—Ç –∫–æ–¥ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –≤ Node.js 18+ (fetch –¥–æ—Å—Ç—É–ø–µ–Ω –≥–ª–æ–±–∞–ª—å–Ω–æ)
// –∏–ª–∏ –≤ –±—Ä–∞—É–∑–µ—Ä–µ –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π.

async function fetchWithProgress(url) {
  const response = await fetch(url);

  if (!response.ok) {
    throw new Error(`HTTP –æ—à–∏–±–∫–∞: ${response.status} ${response.statusText}`);
  }

  // –ü–æ–ª—É—á–∞–µ–º –¥–ª–∏–Ω—É —Ñ–∞–π–ª–∞ –∏–∑ –∑–∞–≥–æ–ª–æ–≤–∫–∞ (–º–æ–∂–µ—Ç –æ—Ç—Å—É—Ç—Å—Ç–≤–æ–≤–∞—Ç—å)
  const contentLength = response.headers.get('content-length');
  const total = contentLength ? parseInt(contentLength, 10) : null;

  // –ü–æ–ª—É—á–∞–µ–º reader ‚Äî –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π —Ä–∏–¥–µ—Ä –Ω–∞ —Å—Ç—Ä–∏–º –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ.
  // –ü–æ—Å–ª–µ –≤—ã–∑–æ–≤–∞ getReader() —Å—Ç—Ä–∏–º —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è "locked" (–∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã–º).
  const reader = response.body.getReader();

  const chunks = [];
  let received = 0;

  try {
    while (true) {
      // read() –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç Promise&lt;{ done: boolean, value: Uint8Array | undefined }&gt;
      const { done, value } = await reader.read();

      if (done) {
        // value === undefined –∫–æ–≥–¥–∞ done === true
        break;
      }

      chunks.push(value);
      received += value.length;

      // –ü—Ä–æ–≥—Ä–µ—Å—Å –∑–∞–≥—Ä—É–∑–∫–∏
      if (total) {
        const percent = ((received / total) * 100).toFixed(1);
        process.stdout.write(`\r–ó–∞–≥—Ä—É–∂–µ–Ω–æ: ${percent}% (${received}/${total} –±–∞–π—Ç)`);
      } else {
        process.stdout.write(`\r–ü–æ–ª—É—á–µ–Ω–æ: ${received} –±–∞–π—Ç`);
      }
    }
  } finally {
    // –û—Å–≤–æ–±–æ–∂–¥–∞–µ–º reader ‚Äî —ç—Ç–æ —Ä–∞–∑–±–ª–æ–∫–∏—Ä—É–µ—Ç —Å—Ç—Ä–∏–º
    reader.releaseLock();
  }

  console.log('\n–ó–∞–≥—Ä—É–∑–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞');
  return concatUint8Arrays(chunks);
}

// –ê–Ω–∞–ª–æ–≥ Buffer.concat –¥–ª—è Uint8Array (–≤ –±—Ä–∞—É–∑–µ—Ä–µ Buffer –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω)
function concatUint8Arrays(arrays) {
  const totalLength = arrays.reduce((sum, arr) =&gt; sum + arr.length, 0);
  const result = new Uint8Array(totalLength);
  let offset = 0;
  for (const arr of arrays) {
    result.set(arr, offset);
    offset += arr.length;
  }
  return result;
}

// –ó–∞–ø—É—Å–∫ (—Ç–æ–ª—å–∫–æ –≤ Node.js 18+ –∏–ª–∏ –±—Ä–∞—É–∑–µ—Ä–µ)
async function main() {
  try {
    const data = await fetchWithProgress('https://httpbin.org/bytes/1024');
    const decoder = new TextDecoder();
    console.log(`–ü–æ–ª—É—á–µ–Ω–æ ${data.length} –±–∞–π—Ç`);
  } catch (err) {
    console.error('–û—à–∏–±–∫–∞:', err.message);
  }
}

main();
</code></pre>
<h3 id="–ß—Ç–µ–Ω–∏–µ-—á–µ—Ä–µ–∑-for-awaitof--–µ–¥–∏–Ω—ã–π-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å"><a class="header" href="#–ß—Ç–µ–Ω–∏–µ-—á–µ—Ä–µ–∑-for-awaitof--–µ–¥–∏–Ω—ã–π-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å">–ß—Ç–µ–Ω–∏–µ —á–µ—Ä–µ–∑ <code>for await...of</code> ‚Äî –µ–¥–∏–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å</a></h3>
<pre><code class="language-javascript">// –ü—Ä–∏–º–µ—Ä 14. for await...of —Å Web ReadableStream
//
// ReadableStream (Web Streams API) —Ç–∞–∫–∂–µ —Ä–µ–∞–ª–∏–∑—É–µ—Ç Symbol.asyncIterator.
// –≠—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –∏ Node.js Streams, –∏ Web Streams —á–∏—Ç–∞—é—Ç—Å—è –û–î–ò–ù–ê–ö–û–í–û
// —á–µ—Ä–µ–∑ for await ‚Äî —É–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –ª—é–±—ã—Ö –ø–æ—Ç–æ–∫–æ–≤ –¥–∞–Ω–Ω—ã—Ö.
//
// –ü—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ for await:
// - –ù–µ –Ω—É–∂–Ω–æ –≤—Ä—É—á–Ω—É—é —Å–æ–∑–¥–∞–≤–∞—Ç—å reader —á–µ—Ä–µ–∑ getReader()
// - –û—à–∏–±–∫–∏ –ø–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ try/catch
// - –°—Ç—Ä–∏–º –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Å–≤–æ–±–æ–∂–¥–∞–µ—Ç—Å—è –ø—Ä–∏ –≤—ã—Ö–æ–¥–µ –∏–∑ —Ü–∏–∫–ª–∞

async function fetchWithForAwait(url) {
  const response = await fetch(url);

  if (!response.ok) {
    throw new Error(`HTTP –æ—à–∏–±–∫–∞: ${response.status}`);
  }

  const chunks = [];
  let byteCount = 0;

  // for await —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞–ø—Ä—è–º—É—é —Å response.body (ReadableStream)
  // –ü–æ–¥ –∫–∞–ø–æ—Ç–æ–º —Å–æ–∑–¥–∞—ë—Ç—Å—è —Ä–∏–¥–µ—Ä, –∫–æ—Ç–æ—Ä—ã–π –æ—Å–≤–æ–±–æ–∂–¥–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
  for await (const chunk of response.body) {
    // chunk ‚Äî Uint8Array
    chunks.push(chunk);
    byteCount += chunk.length;
    console.log(`–ß–∞–Ω–∫: ${chunk.length} –±–∞–π—Ç (—Ç–∏–ø: ${chunk.constructor.name})`);
  }

  console.log(`–í—Å–µ–≥–æ –ø–æ–ª—É—á–µ–Ω–æ: ${byteCount} –±–∞–π—Ç –≤ ${chunks.length} —á–∞–Ω–∫–∞—Ö`);

  // –î–µ–∫–æ–¥–∏—Ä—É–µ–º –±–∞–π—Ç—ã –≤ —Å—Ç—Ä–æ–∫—É
  const decoder = new TextDecoder('utf-8');
  const total = concatUint8Arrays(chunks);
  return decoder.decode(total);
}

function concatUint8Arrays(arrays) {
  const totalLength = arrays.reduce((sum, arr) =&gt; sum + arr.length, 0);
  const result = new Uint8Array(totalLength);
  let offset = 0;
  for (const arr of arrays) {
    result.set(arr, offset);
    offset += arr.length;
  }
  return result;
}

// –ó–∞–ø—É—Å–∫ (Node.js 18+ –∏–ª–∏ –±—Ä–∞—É–∑–µ—Ä)
fetchWithForAwait('https://httpbin.org/json')
  .then((text) =&gt; console.log('–û—Ç–≤–µ—Ç:', text.slice(0, 100)))
  .catch(console.error);
</code></pre>
<hr />
<h2 id="22-writablestream-–≤-–±—Ä–∞—É–∑–µ—Ä–µ"><a class="header" href="#22-writablestream-–≤-–±—Ä–∞—É–∑–µ—Ä–µ">2.2 WritableStream –≤ –±—Ä–∞—É–∑–µ—Ä–µ</a></h2>
<pre><code class="language-javascript">// –ü—Ä–∏–º–µ—Ä 15. WritableStream —á–µ—Ä–µ–∑ –æ—Ç–∫—Ä—ã—Ç—ã–π –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä
//
// WritableStream —Å–æ–∑–¥–∞—ë—Ç—Å—è –ø–µ—Ä–µ–¥–∞—á–µ–π –æ–±—ä–µ–∫—Ç–∞ —Å –º–µ—Ç–æ–¥–∞–º–∏ –≤ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä
// (–ø–∞—Ç—Ç–µ—Ä–Ω Revealing Constructor ‚Äî —Ç–æ—Ç –∂–µ, —á—Ç–æ –≤ Node.js Writable).
//
// –ú–µ—Ç–æ–¥—ã:
//   start(controller)      ‚Äî –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ —Å—Ç—Ä–∏–º–∞
//   write(chunk, controller) ‚Äî –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —á–∞–Ω–∫–∞ (–º–æ–∂–µ—Ç –±—ã—Ç—å async)
//   close()                ‚Äî –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –∫–æ–≥–¥–∞ –≤—Å–µ –¥–∞–Ω–Ω—ã–µ –∑–∞–ø–∏—Å–∞–Ω—ã
//   abort(reason)          ‚Äî –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∏ –æ—Ç–º–µ–Ω–µ —Å—Ç—Ä–∏–º–∞

// WritableStream ‚Äî Web API, –¥–æ—Å—Ç—É–ø–µ–Ω –≤ –±—Ä–∞—É–∑–µ—Ä–µ –∏ Node.js 18+
function createCollectorWritable() {
  const collectedChunks = [];

  const stream = new WritableStream({
    // write –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç Promise ‚Äî —ç—Ç–æ –æ—Å–Ω–æ–≤–∞ Promise-based backpressure.
    // –°–ª–µ–¥—É—é—â–∏–π —á–∞–Ω–∫ –Ω–µ –ø—Ä–∏–¥—ë—Ç, –ø–æ–∫–∞ Promise –Ω–µ —Ä–∞–∑—Ä–µ—à–∏—Ç—Å—è.
    async write(chunk) {
      // –ò–º–∏—Ç–∏—Ä—É–µ–º –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—É—é –æ–±—Ä–∞–±–æ—Ç–∫—É
      await new Promise((resolve) =&gt; setTimeout(resolve, 5));
      collectedChunks.push(chunk);
      console.log(`WritableStream –ø–æ–ª—É—á–∏–ª —á–∞–Ω–∫: ${chunk.constructor.name}, ${chunk.length} –±–∞–π—Ç`);
    },

    close() {
      console.log(`WritableStream –∑–∞–∫—Ä—ã—Ç. –°–æ–±—Ä–∞–Ω–æ —á–∞–Ω–∫–æ–≤: ${collectedChunks.length}`);
    },

    abort(reason) {
      console.error('WritableStream –æ—Ç–º–µ–Ω—ë–Ω:', reason);
    }
  });

  return { stream, getChunks: () =&gt; collectedChunks };
}

// –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è –∑–∞–ø–∏—Å–∏ —á–µ—Ä–µ–∑ writer
async function demoWritableStream() {
  const { stream, getChunks } = createCollectorWritable();

  // getWriter() –±–ª–æ–∫–∏—Ä—É–µ—Ç —Å—Ç—Ä–∏–º ‚Äî —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω writer –∑–∞ —Ä–∞–∑
  const writer = stream.getWriter();

  try {
    // –ó–∞–ø–∏—Å—ã–≤–∞–µ–º –¥–∞–Ω–Ω—ã–µ
    await writer.write(new Uint8Array([72, 101, 108, 108, 111])); // "Hello"
    await writer.write(new Uint8Array([87, 111, 114, 108, 100])); // "World"

    // –ó–∞–∫—Ä—ã–≤–∞–µ–º —Å—Ç—Ä–∏–º ‚Äî –≤—ã–∑–æ–≤–µ—Ç close()
    await writer.close();
  } finally {
    // –û—Å–≤–æ–±–æ–∂–¥–∞–µ–º writer
    writer.releaseLock();
  }

  const chunks = getChunks();
  const decoder = new TextDecoder();
  const text = chunks.map((c) =&gt; decoder.decode(c)).join('');
  console.log('–°–æ–±—Ä–∞–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç:', text);
}

demoWritableStream().catch(console.error);
</code></pre>
<hr />
<h2 id="23-transformstream-–∏-pipethrough"><a class="header" href="#23-transformstream-–∏-pipethrough">2.3 TransformStream –∏ pipeThrough</a></h2>
<pre><code class="language-javascript">// –ü—Ä–∏–º–µ—Ä 16. TransformStream ‚Äî —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏—è –≤ —Ü–µ–ø–æ—á–∫–µ Web Streams
//
// TransformStream —Å–æ–¥–µ—Ä–∂–∏—Ç –≤–Ω—É—Ç—Ä–∏:
//   .readable ‚Äî ReadableStream (–≤—ã—Ö–æ–¥ —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏–∏)
//   .writable ‚Äî WritableStream (–≤—Ö–æ–¥ —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏–∏)
//
// pipeThrough(transform) ‚Äî –∞–Ω–∞–ª–æ–≥ .pipe(transform) –≤ Node.js.
// –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –Ω–æ–≤—ã–π ReadableStream (readable-–∫–æ–Ω–µ—Ü —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞).
// –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç —Å—Ç—Ä–æ–∏—Ç—å –¥–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω—ã–µ —Ü–µ–ø–æ—á–∫–∏.
//
// –ú–µ—Ç–æ–¥ transform(chunk, controller):
//   controller.enqueue(value) ‚Äî –ø–µ—Ä–µ–¥–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –¥–∞–ª—å—à–µ (–∞–Ω–∞–ª–æ–≥ this.push –≤ Node.js)
//   controller.terminate()    ‚Äî –∑–∞–∫–æ–Ω—á–∏—Ç—å —Å—Ç—Ä–∏–º (–∞–Ω–∞–ª–æ–≥ push(null) –≤ Node.js)
//   controller.error(reason)  ‚Äî –∑–∞–≤–µ—Ä—à–∏—Ç—å —Å –æ—à–∏–±–∫–æ–π

async function demonstrateTransformStream() {
  // –°–æ–∑–¥–∞—ë–º —Ç–µ—Å—Ç–æ–≤—ã–π ReadableStream –∏–∑ –º–∞—Å—Å–∏–≤–∞ —Å—Ç—Ä–æ–∫
  const sourceData = [
    'Hello World',
    'Node.js Streams',
    'Web Streams API',
    'Transform Pipeline',
  ];

  // ReadableStream –∏–∑ –º–∞—Å—Å–∏–≤–∞
  const readable = new ReadableStream({
    start(controller) {
      for (const item of sourceData) {
        controller.enqueue(item); // –∫–ª–∞–¥—ë–º —Å—Ç—Ä–æ–∫—É –≤ –ø–æ—Ç–æ–∫
      }
      controller.close(); // –∑–∞–∫—Ä—ã–≤–∞–µ–º –ø–æ—Ç–æ–∫
    }
  });

  // TransformStream 1: –ø—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç —Å—Ç—Ä–æ–∫–∏ –≤ –≤–µ—Ä—Ö–Ω–∏–π —Ä–µ–≥–∏—Å—Ç—Ä
  const upperCaseTransform = new TransformStream({
    transform(chunk, controller) {
      // chunk ‚Äî —Å—Ç—Ä–æ–∫–∞
      controller.enqueue(chunk.toUpperCase());
    }
  });

  // TransformStream 2: –ø–æ–¥—Å—á–∏—Ç—ã–≤–∞–µ—Ç –¥–ª–∏–Ω—É –∏ —Å–æ–∑–¥–∞—ë—Ç –æ–±—ä–µ–∫—Ç-—Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
  // objectMode –≤ Web Streams –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è —è–≤–Ω–æ ‚Äî —Ç–∏–ø—ã –Ω–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω—ã
  const statsTransform = new TransformStream({
    transform(chunk, controller) {
      controller.enqueue({
        original: chunk,
        length: chunk.length,
        wordCount: chunk.split(' ').length,
      });
    }
  });

  // –°—Ç—Ä–æ–∏–º —Ü–µ–ø–æ—á–∫—É —á–µ—Ä–µ–∑ pipeThrough
  // readable -&gt; upperCase -&gt; stats -&gt; —Ä–µ–∑—É–ª—å—Ç–∏—Ä—É—é—â–∏–π ReadableStream
  const resultStream = readable
    .pipeThrough(upperCaseTransform)
    .pipeThrough(statsTransform);

  // –ß–∏—Ç–∞–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç —á–µ—Ä–µ–∑ for await
  console.log('–†–µ–∑—É–ª—å—Ç–∞—Ç —Ü–µ–ø–æ—á–∫–∏ —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏–π:');
  for await (const record of resultStream) {
    console.log(`  "${record.original}" | –¥–ª–∏–Ω–∞: ${record.length} | —Å–ª–æ–≤: ${record.wordCount}`);
  }
}

demonstrateTransformStream().catch(console.error);
</code></pre>
<hr />
<h2 id="24-pipe-–≤-web-streams"><a class="header" href="#24-pipe-–≤-web-streams">2.4 Pipe –≤ Web Streams</a></h2>
<pre><code class="language-javascript">// –ü—Ä–∏–º–µ—Ä 17. pipeTo ‚Äî –ø–µ—Ä–µ–¥–∞—á–∞ –¥–∞–Ω–Ω—ã—Ö –∏–∑ ReadableStream –≤ WritableStream
//
// pipeTo() ‚Äî –∞–Ω–∞–ª–æ–≥ pipe() –∏–∑ Node.js –¥–ª—è Web Streams.
// –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç Promise, –∫–æ—Ç–æ—Ä—ã–π —Ä–∞–∑—Ä–µ—à–∞–µ—Ç—Å—è –∫–æ–≥–¥–∞ –≤—Å—è –ø–µ—Ä–µ–¥–∞—á–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞.
// –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç AbortSignal –¥–ª—è –æ—Ç–º–µ–Ω—ã.

async function pipeToDemo() {
  // –°–æ–∑–¥–∞—ë–º ReadableStream, –≥–µ–Ω–µ—Ä–∏—Ä—É—é—â–∏–π —á–∏—Å–ª–∞
  let count = 0;
  const numberStream = new ReadableStream({
    pull(controller) {
      if (count &gt;= 5) {
        controller.close();
        return;
      }
      controller.enqueue(count++);
    }
  });

  // TransformStream: —á–∏—Å–ª–æ -&gt; —Å—Ç—Ä–æ–∫–∞
  const toStringTransform = new TransformStream({
    transform(chunk, controller) {
      controller.enqueue(`Number: ${chunk}\n`);
    }
  });

  // WritableStream: –≤—ã–≤–æ–¥–∏—Ç –≤ –∫–æ–Ω—Å–æ–ª—å
  const consoleWritable = new WritableStream({
    write(chunk) {
      process.stdout.write(chunk);
    },
    close() {
      console.log('WritableStream –∑–∞–∫—Ä—ã—Ç');
    }
  });

  // –¶–µ–ø–æ—á–∫–∞: numbers -&gt; toString -&gt; console
  await numberStream
    .pipeThrough(toStringTransform)
    .pipeTo(consoleWritable);
}

pipeToDemo().catch(console.error);
</code></pre>
<hr />
<h2 id="25-–û—Ç–ª–∏—á–∏—è-web-streams-–æ—Ç-nodejs-streams"><a class="header" href="#25-–û—Ç–ª–∏—á–∏—è-web-streams-–æ—Ç-nodejs-streams">2.5 –û—Ç–ª–∏—á–∏—è Web Streams –æ—Ç Node.js Streams</a></h2>
<div class="table-wrapper"><table><thead><tr><th>–ê—Å–ø–µ–∫—Ç</th><th>Node.js Streams</th><th>Web Streams (WHATWG)</th></tr></thead><tbody>
<tr><td>–û—Å–Ω–æ–≤–∞–Ω –Ω–∞</td><td><code>EventEmitter</code></td><td>Promise API</td></tr>
<tr><td>–ß—Ç–µ–Ω–∏–µ</td><td><code>on('data')</code>, <code>for await</code>, <code>pipe</code></td><td><code>getReader()</code>, <code>for await</code>, <code>pipeTo</code></td></tr>
<tr><td>–ó–∞–ø–∏—Å—å</td><td><code>write(chunk, enc, next)</code></td><td><code>getWriter()</code>, <code>writer.write(chunk)</code></td></tr>
<tr><td>–¢—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏—è</td><td><code>Transform</code> –∫–ª–∞—Å—Å</td><td><code>TransformStream</code> –∫–ª–∞—Å—Å</td></tr>
<tr><td>–¶–µ–ø–æ—á–∫–∏</td><td><code>pipe()</code> / <code>pipeline()</code></td><td><code>pipeThrough()</code> / <code>pipeTo()</code></td></tr>
<tr><td>–ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Å—Ç—Ä–∏–º–∞</td><td><code>push(null)</code></td><td><code>controller.close()</code></td></tr>
<tr><td>–ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞</td><td><code>push(null)</code></td><td><code>controller.terminate()</code></td></tr>
<tr><td>–ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞</td><td>–Ω–µ—Ç</td><td><code>locked: true</code> –ø—Ä–∏ –Ω–∞–ª–∏—á–∏–∏ reader/writer</td></tr>
<tr><td>Backpressure</td><td>–§–ª–∞–≥ –∏–∑ <code>write()</code> + —Å–æ–±—ã—Ç–∏–µ <code>drain</code></td><td>Promise –∏–∑ <code>write()</code></td></tr>
<tr><td>–î–æ—Å—Ç–ø—É–Ω–æ—Å—Ç—å</td><td>Node.js (<code>require('node:stream')</code>)</td><td>–ì–ª–æ–±–∞–ª—å–Ω–æ (–±—Ä–∞—É–∑–µ—Ä, Node.js 18+)</td></tr>
<tr><td>–ò–Ω—Ç–µ—Ä–æ–ø–µ—Ä–∞–±–µ–ª—å–Ω–æ—Å—Ç—å</td><td><code>toWeb()</code> / <code>fromWeb()</code></td><td><code>Readable.fromWeb()</code> / <code>toWeb()</code></td></tr>
</tbody></table>
</div>
<p><strong>–£–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —á–µ—Ä–µ–∑ <code>for await</code>:</strong></p>
<p>–ò Node.js Streams, –∏ Web Streams —Ä–µ–∞–ª–∏–∑—É—é—Ç <code>Symbol.asyncIterator</code>. –≠—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ
–æ–¥–∏–Ω –∏ —Ç–æ—Ç –∂–µ –∫–æ–¥ <code>for await (const chunk of stream)</code> —Ä–∞–±–æ—Ç–∞–µ—Ç –¥–ª—è –æ–±–æ–∏—Ö —Ç–∏–ø–æ–≤.
–≠—Ç–æ –Ω–∞–º–µ—Ä–µ–Ω–Ω–æ–µ –ø—Ä–æ–µ–∫—Ç–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ ‚Äî —É–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å –¥–æ—Å—Ç—É–ø –∫ –ø–æ—Ç–æ–∫–∞–º –¥–∞–Ω–Ω—ã—Ö –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ
–æ—Ç –∏—Ö –ø—Ä–æ–∏—Å—Ö–æ–∂–¥–µ–Ω–∏—è.</p>
<hr />
<div style="break-before: page; page-break-before: always;"></div><h1 id="–ü–∞—Ç—Ç–µ—Ä–Ω-actor--–±–µ–∑–æ–ø–∞—Å–Ω–æ–µ-—É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ-—Å–æ—Å—Ç–æ—è–Ω–∏–µ–º-–≤-–∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–º-–∫–æ–¥–µ"><a class="header" href="#–ü–∞—Ç—Ç–µ—Ä–Ω-actor--–±–µ–∑–æ–ø–∞—Å–Ω–æ–µ-—É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ-—Å–æ—Å—Ç–æ—è–Ω–∏–µ–º-–≤-–∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–º-–∫–æ–¥–µ">–ü–∞—Ç—Ç–µ—Ä–Ω Actor ‚Äî –±–µ–∑–æ–ø–∞—Å–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º –≤ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–º –∫–æ–¥–µ</a></h1>
<hr />
<h2 id="–í–≤–µ–¥–µ–Ω–∏–µ-12"><a class="header" href="#–í–≤–µ–¥–µ–Ω–∏–µ-12">–í–≤–µ–¥–µ–Ω–∏–µ</a></h2>
<p>–ü–∞—Ç—Ç–µ—Ä–Ω Actor (–ê–∫—Ç–æ—Ä) —Ä–µ—à–∞–µ—Ç –æ–¥–Ω—É –∏–∑ –Ω–∞–∏–±–æ–ª–µ–µ –∫–æ–≤–∞—Ä–Ω—ã—Ö –ø—Ä–æ–±–ª–µ–º –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–≥–æ
–ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è: –≥–æ–Ω–∫–∏ –¥–∞–Ω–Ω—ã—Ö (data races). –í –æ—Ç–ª–∏—á–∏–µ –æ—Ç –º–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω—ã—Ö —è–∑—ã–∫–æ–≤ (C++, Java),
–≤ JavaScript –Ω–µ—Ç —Ä–∞–∑–¥–µ–ª—è–µ–º–æ–π –ø–∞–º—è—Ç–∏ –º–µ–∂–¥—É –ø–æ—Ç–æ–∫–∞–º–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è (–∑–∞ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ–º
<code>SharedArrayBuffer</code>). –¢–µ–º –Ω–µ –º–µ–Ω–µ–µ –≥–æ–Ω–∫–∏ –¥–∞–Ω–Ω—ã—Ö –≤ JavaScript —Ä–µ–∞–ª—å–Ω—ã –∏ –ø—Ä–æ—è–≤–ª—è—é—Ç—Å—è
–≤ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–º –∫–æ–¥–µ –ø—Ä–∏ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã—Ö –≤—ã–∑–æ–≤–∞—Ö —Ñ—É–Ω–∫—Ü–∏–π, —Ä–∞–±–æ—Ç–∞—é—â–∏—Ö —Å –æ–±—â–∏–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º.</p>
<hr />
<h2 id="31-–ü—Ä–æ–±–ª–µ–º–∞-–≥–æ–Ω–∫–∏-–¥–∞–Ω–Ω—ã—Ö-–≤-–∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–º-javascript"><a class="header" href="#31-–ü—Ä–æ–±–ª–µ–º–∞-–≥–æ–Ω–∫–∏-–¥–∞–Ω–Ω—ã—Ö-–≤-–∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–º-javascript">3.1 –ü—Ä–æ–±–ª–µ–º–∞: –≥–æ–Ω–∫–∏ –¥–∞–Ω–Ω—ã—Ö –≤ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–º JavaScript</a></h2>
<pre><code class="language-javascript">// –ü—Ä–∏–º–µ—Ä 18. –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è –≥–æ–Ω–∫–∏ –¥–∞–Ω–Ω—ã—Ö ‚Äî –û–ü–ê–°–ù–´–ô –ö–û–î (–∞–Ω—Ç–∏–ø–∞—Ç—Ç–µ—Ä–Ω)
//
// –ó–∞–¥–∞—á–∞: —Å–∫–ª–∞–¥ —Å 5 –µ–¥–∏–Ω–∏—Ü–∞–º–∏ —Ç–æ–≤–∞—Ä–∞ (–∞—Ä—Ç–∏–∫—É–ª 1722).
// –¢—Ä–∏ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –∑–∞–∫–∞–∑–∞ –ø–æ 2 –µ–¥–∏–Ω–∏—Ü—ã.
// –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç: –ø–µ—Ä–≤—ã–µ –¥–≤–∞ –∑–∞–∫–∞–∑–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω—ã, —Ç—Ä–µ—Ç–∏–π –æ—Ç–∫–ª–æ–Ω—ë–Ω.
// –†–µ–∞–ª—å–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç: –≤—Å–µ —Ç—Ä–∏ –ø—Ä–æ—Ö–æ–¥—è—Ç, —Å—á—ë—Ç—á–∏–∫ —É—Ö–æ–¥–∏—Ç –≤ -1.
//
// –ü–æ—á–µ–º—É: –∫–∞–∂–¥—ã–π buy() —á–∏—Ç–∞–µ—Ç —Å—Ç–µ–π—Ç –î–û —Ç–æ–≥–æ, –∫–∞–∫ –¥—Ä—É–≥–∏–µ buy() —É—Å–ø–µ–ª–∏ –µ–≥–æ –∏–∑–º–µ–Ω–∏—Ç—å.
// Event Loop ‚Äî –Ω–µ –∑–∞—â–∏—Ç–∞ –æ—Ç –≥–æ–Ω–æ–∫. –û–Ω –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–µ –í–´–ü–û–õ–ù–ï–ù–ò–ï,
// –Ω–æ –Ω–µ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–µ –ß–ï–†–ï–î–û–í–ê–ù–ò–ï –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π.

'use strict';

// –°–æ—Å—Ç–æ—è–Ω–∏–µ —Å–∫–ª–∞–¥–∞
const warehouseState = { 1722: 5 };

// –ò–º–∏—Ç–∞—Ü–∏—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö –±–∏–∑–Ω–µ—Å-–æ–ø–µ—Ä–∞—Ü–∏–π

async function checkAvailability(order, state) {
  // –ò–º–∏—Ç–∏—Ä—É–µ–º –∑–∞–ø—Ä–æ—Å –∫ –ë–î
  await new Promise((r) =&gt; setTimeout(r, Math.random() * 10));
  if (state[order.lot] &lt; order.qty) {
    throw new Error(`–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Ç–æ–≤–∞—Ä–∞: –µ—Å—Ç—å ${state[order.lot]}, –∑–∞–ø—Ä–æ—à–µ–Ω–æ ${order.qty}`);
  }
  console.log(`[${order.id}] –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è –û–ö: ${state[order.lot]} &gt;= ${order.qty}`);
}

async function processPayment(order) {
  await new Promise((r) =&gt; setTimeout(r, Math.random() * 15));
  console.log(`[${order.id}] –ü–ª–∞—Ç—ë–∂ –ø—Ä–æ–≤–µ–¥—ë–Ω –Ω–∞ —Å—É–º–º—É ${order.qty * 1000} —Ä—É–±.`);
}

async function shiftGoods(order, state) {
  await new Promise((r) =&gt; setTimeout(r, Math.random() * 5));
  state[order.lot] -= order.qty;
  console.log(`[${order.id}] –¢–æ–≤–∞—Ä —Å–ø–∏—Å–∞–Ω. –û—Å—Ç–∞—Ç–æ–∫: ${state[order.lot]}`);
}

async function sendNotification(order) {
  await new Promise((r) =&gt; setTimeout(r, 5));
  console.log(`[${order.id}] –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ`);
}

// –§—É–Ω–∫—Ü–∏—è –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏ –ø–æ–∫—É–ø–∫–∏
async function buy(order, state) {
  await checkAvailability(order, state); // &lt;- –¢–û–ß–ö–ê –ì–û–ù–ö–ò: —á–∏—Ç–∞–µ–º —Å—Ç–µ–π—Ç
  await processPayment(order);           // &lt;- –¥—Ä—É–≥–∏–µ buy() —Ç–æ–∂–µ –¥–æ—à–ª–∏ —Å—é–¥–∞
  await shiftGoods(order, state);        // &lt;- –≤—Å–µ —Ç—Ä–∏ –¥–µ–∫—Ä–µ–º–µ–Ω—Ç–∏—Ä—É—é—Ç!
  await sendNotification(order);
}

// –¢—Ä–∏ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –∑–∞–∫–∞–∑–∞
const orders = [
  { id: 'ORDER-1', lot: 1722, qty: 2 },
  { id: 'ORDER-2', lot: 1722, qty: 2 },
  { id: 'ORDER-3', lot: 1722, qty: 2 },
];

async function runRace() {
  console.log('=== –î–ï–ú–û–ù–°–¢–†–ê–¶–ò–Ø –ì–û–ù–ö–ò –î–ê–ù–ù–´–• ===');
  console.log(`–ù–∞—á–∞–ª—å–Ω—ã–π –æ—Å—Ç–∞—Ç–æ–∫: ${warehouseState[1722]}\n`);

  // –ó–∞–ø—É—Å–∫–∞–µ–º –≤—Å–µ —Ç—Ä–∏ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ —á–µ—Ä–µ–∑ setTimeout —Å –æ–¥–∏–Ω–∞–∫–æ–≤–æ–π –∑–∞–¥–µ—Ä–∂–∫–æ–π
  // –≠—Ç–æ –∏–º–∏—Ç–∏—Ä—É–µ—Ç —Ç—Ä–∏ HTTP-–∑–∞–ø—Ä–æ—Å–∞, –ø–æ—Å—Ç—É–ø–∏–≤—à–∏—Ö –≤ –æ–¥–Ω–æ –≤—Ä–µ–º—è
  const promises = orders.map(
    (order) =&gt; new Promise((resolve) =&gt; setTimeout(() =&gt; resolve(buy(order, warehouseState)), 0))
  );

  const results = await Promise.allSettled(promises);

  console.log('\n=== –†–ï–ó–£–õ–¨–¢–ê–¢ ===');
  results.forEach((result, i) =&gt; {
    if (result.status === 'fulfilled') {
      console.log(`ORDER-${i + 1}: –í–´–ü–û–õ–ù–ï–ù`);
    } else {
      console.log(`ORDER-${i + 1}: –û–®–ò–ë–ö–ê ‚Äî ${result.reason.message}`);
    }
  });

  // –ü–†–û–ë–õ–ï–ú–ê: —Ñ–∏–Ω–∞–ª—å–Ω—ã–π –æ—Å—Ç–∞—Ç–æ–∫ –º–æ–∂–µ—Ç –±—ã—Ç—å –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–º!
  console.log(`\n–§–∏–Ω–∞–ª—å–Ω—ã–π –æ—Å—Ç–∞—Ç–æ–∫: ${warehouseState[1722]}`);
  console.log('(–û–∂–∏–¥–∞–ª–æ—Å—å: 1, –º–æ–∂–µ—Ç –±—ã—Ç—å -1 –∏–ª–∏ –¥—Ä—É–≥–æ–µ –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω–æ–µ —á–∏—Å–ª–æ)');
}

runRace();
</code></pre>
<p><strong>–†–∞–∑–±–æ—Ä –º–µ—Ö–∞–Ω–∏–∑–º–∞ –≥–æ–Ω–∫–∏:</strong></p>
<p>Event Loop –≤ JavaScript –æ–¥–Ω–æ–ø–æ—Ç–æ—á–Ω—ã–π ‚Äî –¥–≤–∞ –∫–æ–ª–±—ç–∫–∞ –Ω–µ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –±—É–∫–≤–∞–ª—å–Ω–æ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ.
–û–¥–Ω–∞–∫–æ <code>async/await</code> ‚Äî —ç—Ç–æ —Å–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–∏–π —Å–∞—Ö–∞—Ä –Ω–∞–¥ –ø—Ä–æ–º–∏—Å–∞–º–∏, –∫–æ—Ç–æ—Ä—ã–µ —Å—Ç–∞–≤—è—Ç—Å—è –≤ –æ—á–µ—Ä–µ–¥—å
–º–∏–∫—Ä–æ–∑–∞–¥–∞—á. –ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:</p>
<ol>
<li><code>ORDER-1.buy()</code> ‚Üí <code>checkAvailability()</code> ‚Äî –≤–∏–¥–∏—Ç –æ—Å—Ç–∞—Ç–æ–∫ 5, –û–ö</li>
<li><code>ORDER-2.buy()</code> ‚Üí <code>checkAvailability()</code> ‚Äî –≤–∏–¥–∏—Ç –æ—Å—Ç–∞—Ç–æ–∫ 5, –û–ö (–¥–µ–∫—Ä–µ–º–µ–Ω—Ç –µ—â—ë –Ω–µ –ø—Ä–æ–∏–∑–æ—à—ë–ª!)</li>
<li><code>ORDER-3.buy()</code> ‚Üí <code>checkAvailability()</code> ‚Äî –≤–∏–¥–∏—Ç –æ—Å—Ç–∞—Ç–æ–∫ 5, –û–ö</li>
<li>–í—Å–µ —Ç—Ä–∏ –ø—Ä–æ—à–ª–∏ –ø—Ä–æ–≤–µ—Ä–∫—É –∏ –ø–µ—Ä–µ—à–ª–∏ –∫ <code>processPayment</code></li>
<li>–í—Å–µ —Ç—Ä–∏ –ø—Ä–æ—à–ª–∏ –∫ <code>shiftGoods</code> –∏ –∫–∞–∂–¥—ã–π —É–º–µ–Ω—å—à–∏–ª –æ—Å—Ç–∞—Ç–æ–∫ –Ω–∞ 2</li>
<li>–ò—Ç–æ–≥: 5 - 2 - 2 - 2 = -1</li>
</ol>
<hr />
<h2 id="32-–†–µ—à–µ–Ω–∏–µ-–ü–∞—Ç—Ç–µ—Ä–Ω-actor"><a class="header" href="#32-–†–µ—à–µ–Ω–∏–µ-–ü–∞—Ç—Ç–µ—Ä–Ω-actor">3.2 –†–µ—à–µ–Ω–∏–µ: –ü–∞—Ç—Ç–µ—Ä–Ω Actor</a></h2>
<pre><code class="language-javascript">// –ü—Ä–∏–º–µ—Ä 19. –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –ø–∞—Ç—Ç–µ—Ä–Ω–∞ Actor
//
// Actor ‚Äî –æ–±—ä–µ–∫—Ç —Å –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–π –ø—É–±–ª–∏—á–Ω–æ–π —Ç–æ—á–∫–æ–π –≤—Ö–æ–¥–∞ (send),
// –∫–æ—Ç–æ—Ä—ã–π –≤–Ω—É—Ç—Ä–∏ –æ—Ä–≥–∞–Ω–∏–∑—É–µ—Ç –æ—á–µ—Ä–µ–¥—å —Å–æ–æ–±—â–µ–Ω–∏–π (mailbox).
// –ö–∞–∂–¥–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è —Å—Ç—Ä–æ–≥–æ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ —Å await.
//
// –ö–ª—é—á–µ–≤—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã:
//   #queue      ‚Äî –º–∞—Å—Å–∏–≤-–æ—á–µ—Ä–µ–¥—å —Å–æ–æ–±—â–µ–Ω–∏–π (FIFO)
//   #processing ‚Äî —Ñ–ª–∞–≥ –∞–∫—Ç–∏–≤–Ω–æ–≥–æ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è (–ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç –ø–æ–≤—Ç–æ—Ä–Ω—ã–π –∑–∞–ø—É—Å–∫ #process)
//   #behavior   ‚Äî —Ñ—É–Ω–∫—Ü–∏—è –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏ (–ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è —á–µ—Ä–µ–∑ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä)
//   #state      ‚Äî —Å–æ—Å—Ç–æ—è–Ω–∏–µ, –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∞—â–µ–µ —Ç–æ–ª—å–∫–æ —ç—Ç–æ–º—É –∞–∫—Ç–æ—Ä—É
//
// –ü–∞—Ç—Ç–µ—Ä–Ω "–û—Ç–∫—Ä—ã—Ç—ã–π –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä" (Revealing Constructor):
//   behavior –ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è –≤ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä ‚Äî –∞–∫—Ç–æ—Ä –Ω–µ –∑–Ω–∞–µ—Ç –æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –ª–æ–≥–∏–∫–µ,
//   –æ–Ω —Ç–æ–ª—å–∫–æ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫–∏.
//
// –ò—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∞—è —Å–ø—Ä–∞–≤–∫–∞:
//   –ö–æ–≥–¥–∞ –ê–ª–∞–Ω –ö–µ–π –∏–∑–æ–±—Ä–µ—Ç–∞–ª –û–û–ü, –æ–Ω –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–ª –º–µ—Ç–æ–¥—ã –∏–º–µ–Ω–Ω–æ –∫–∞–∫ "–æ—Ç–ø—Ä–∞–≤–∫—É —Å–æ–æ–±—â–µ–Ω–∏–π".
//   –í—ã–∑–æ–≤ –º–µ—Ç–æ–¥–∞ = –æ—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏—è –Ω–∞ —ç–∫–∑–µ–º–ø–ª—è—Ä. Actor —Ä–µ–∞–ª–∏–∑—É–µ—Ç —ç—Ç—É –∏–¥–µ—é –±—É–∫–≤–∞–ª—å–Ω–æ:
//   –µ—Å—Ç—å –æ–±—ä–µ–∫—Ç (Actor), –µ—Å—Ç—å –ø–æ—á—Ç–æ–≤—ã–π —è—â–∏–∫ (#queue), –µ—Å—Ç—å –ø–æ–≤–µ–¥–µ–Ω–∏–µ (#behavior).

'use strict';

class Actor {
  #behavior;  // —Ñ—É–Ω–∫—Ü–∏—è: (message, state) =&gt; Promise&lt;void&gt;
  #state;     // –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∞–∫—Ç–æ—Ä–∞
  #queue = [];           // –æ—á–µ—Ä–µ–¥—å –≤—Ö–æ–¥—è—â–∏—Ö —Å–æ–æ–±—â–µ–Ω–∏–π (mailbox)
  #processing = false;   // —Ñ–ª–∞–≥: –∏–¥—ë—Ç –ª–∏ —Å–µ–π—á–∞—Å –æ–±—Ä–∞–±–æ—Ç–∫–∞

  constructor(behavior, initialState) {
    this.#behavior = behavior;
    this.#state = initialState;
  }

  // –ï–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π –ø—É–±–ª–∏—á–Ω—ã–π –º–µ—Ç–æ–¥: –æ—Ç–ø—Ä–∞–≤–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ –∞–∫—Ç–æ—Ä—É
  // "fire and forget" ‚Äî –º—ã –Ω–µ –∂–¥—ë–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ (–Ω–µ—Ç return Promise)
  send(message) {
    this.#queue.push(message);
    // –ó–∞–ø—É—Å–∫–∞–µ–º –æ–±—Ä–∞–±–æ—Ç–∫—É (–µ—Å–ª–∏ –µ—â—ë –Ω–µ –∑–∞–ø—É—â–µ–Ω–∞)
    this.#process();
  }

  // –ü—Ä–∏–≤–∞—Ç–Ω—ã–π —Ü–∏–∫–ª –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏–π
  async #process() {
    // –ï—Å–ª–∏ —É–∂–µ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º ‚Äî –≤—ã—Ö–æ–¥–∏–º (–¥—Ä—É–≥–æ–π –≤—ã–∑–æ–≤ #process —É–∂–µ –∫—Ä—É—Ç–∏—Ç —Ü–∏–∫–ª)
    if (this.#processing) return;

    this.#processing = true;

    // –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º —Å–æ–æ–±—â–µ–Ω–∏—è –ø–æ –æ–¥–Ω–æ–º—É, –ø–æ–∫–∞ –æ—á–µ—Ä–µ–¥—å –Ω–µ –æ–ø—É—Å—Ç–µ–µ—Ç
    while (this.#queue.length &gt; 0) {
      const message = this.#queue.shift(); // –±–µ—Ä—ë–º –ø–µ—Ä–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –∏–∑ –æ—á–µ—Ä–µ–¥–∏ (FIFO)
      try {
        // await –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç: —Å–ª–µ–¥—É—é—â–µ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –Ω–µ –Ω–∞—á–Ω—ë—Ç—Å—è, –ø–æ–∫–∞ —ç—Ç–æ –Ω–µ –∑–∞–≤–µ—Ä—à–∏—Ç—Å—è
        await this.#behavior(message, this.#state);
      } catch (err) {
        // –û—à–∏–±–∫–∞ –≤ behavior –Ω–µ –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –æ–±—Ä–∞–±–æ—Ç–∫—É –¥—Ä—É–≥–∏—Ö —Å–æ–æ–±—â–µ–Ω–∏–π
        console.error(`Actor: –æ—à–∏–±–∫–∞ –ø—Ä–∏ –æ–±—Ä–∞–±–æ—Ç–∫–µ —Å–æ–æ–±—â–µ–Ω–∏—è:`, err.message);
      }
    }

    this.#processing = false;
    // –ü–æ—Å–ª–µ –æ–±–Ω—É–ª–µ–Ω–∏—è —Ñ–ª–∞–≥–∞ –∞–∫—Ç–æ—Ä –≥–æ—Ç–æ–≤ –ø—Ä–∏–Ω—è—Ç—å –Ω–æ–≤—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è
  }
}

module.exports = { Actor };
</code></pre>
<hr />
<h2 id="33-–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ-actor-–∫-–∑–∞–¥–∞—á–µ-—Å–æ-—Å–∫–ª–∞–¥–æ–º"><a class="header" href="#33-–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ-actor-–∫-–∑–∞–¥–∞—á–µ-—Å–æ-—Å–∫–ª–∞–¥–æ–º">3.3 –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ Actor –∫ –∑–∞–¥–∞—á–µ —Å–æ —Å–∫–ª–∞–¥–æ–º</a></h2>
<pre><code class="language-javascript">// –ü—Ä–∏–º–µ—Ä 20. –°–∫–ª–∞–¥ —Å –≥–æ–Ω–∫–æ–π –¥–∞–Ω–Ω—ã—Ö ‚Äî –ò–°–ü–†–ê–í–õ–ï–ù–ù–ê–Ø –≤–µ—Ä—Å–∏—è —Å Actor
//
// –ï–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ –ø–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏—é —Å –æ–ø–∞—Å–Ω—ã–º –∫–æ–¥–æ–º:
// –≤–º–µ—Å—Ç–æ –ø—Ä—è–º–æ–≥–æ –≤—ã–∑–æ–≤–∞ buy(order, state) –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ –∞–∫—Ç–æ—Ä—É.
// –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ (buy) –Ω–µ –∏–∑–º–µ–Ω–∏–ª–∞—Å—å.

'use strict';

// --- –¢–∞ –∂–µ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ —á—Ç–æ –≤ –ø—Ä–∏–º–µ—Ä–µ 18 ---

async function checkAvailability(order, state) {
  await new Promise((r) =&gt; setTimeout(r, Math.random() * 10));
  if (state[order.lot] &lt; order.qty) {
    throw new Error(`–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Ç–æ–≤–∞—Ä–∞: –µ—Å—Ç—å ${state[order.lot]}, –∑–∞–ø—Ä–æ—à–µ–Ω–æ ${order.qty}`);
  }
  console.log(`[${order.id}] –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è –û–ö: ${state[order.lot]} &gt;= ${order.qty}`);
}

async function processPayment(order) {
  await new Promise((r) =&gt; setTimeout(r, Math.random() * 15));
  console.log(`[${order.id}] –ü–ª–∞—Ç—ë–∂ –ø—Ä–æ–≤–µ–¥—ë–Ω`);
}

async function shiftGoods(order, state) {
  await new Promise((r) =&gt; setTimeout(r, Math.random() * 5));
  state[order.lot] -= order.qty;
  console.log(`[${order.id}] –¢–æ–≤–∞—Ä —Å–ø–∏—Å–∞–Ω. –û—Å—Ç–∞—Ç–æ–∫: ${state[order.lot]}`);
}

async function sendNotification(order) {
  await new Promise((r) =&gt; setTimeout(r, 5));
  console.log(`[${order.id}] –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ`);
}

// –§—É–Ω–∫—Ü–∏—è –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏ ‚Äî –ù–ï –ò–ó–ú–ï–ù–ò–õ–ê–°–¨
async function buy(order, state) {
  await checkAvailability(order, state);
  await processPayment(order);
  await shiftGoods(order, state);
  await sendNotification(order);
}

// --- –†–µ–∞–ª–∏–∑–∞—Ü–∏—è Actor ---

class Actor {
  #behavior;
  #state;
  #queue = [];
  #processing = false;

  constructor(behavior, initialState) {
    this.#behavior = behavior;
    this.#state = initialState;
  }

  send(message) {
    this.#queue.push(message);
    this.#process();
  }

  async #process() {
    if (this.#processing) return;
    this.#processing = true;
    while (this.#queue.length &gt; 0) {
      const message = this.#queue.shift();
      try {
        await this.#behavior(message, this.#state);
      } catch (err) {
        console.error(`[${message.id}] –û–®–ò–ë–ö–ê: ${err.message}`);
      }
    }
    this.#processing = false;
  }
}

// --- –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ ---

async function runWithActor() {
  console.log('=== ACTOR: –ë–ï–ó–û–ü–ê–°–ù–ê–Ø –û–ë–†–ê–ë–û–¢–ö–ê –ó–ê–ö–ê–ó–û–í ===');

  // –û–±–æ—Ä–∞—á–∏–≤–∞–µ–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∏ –ø–æ–≤–µ–¥–µ–Ω–∏–µ –≤ –∞–∫—Ç–æ—Ä
  // –°–æ—Å—Ç–æ—è–Ω–∏–µ –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–æ –≤–Ω—É—Ç—Ä–∏ –∞–∫—Ç–æ—Ä–∞ ‚Äî —Å–Ω–∞—Ä—É–∂–∏ –∫ –Ω–µ–º—É –Ω–µ—Ç –¥–æ—Å—Ç—É–ø–∞
  const warehouseActor = new Actor(buy, { 1722: 5 });

  console.log('–ù–∞—á–∞–ª—å–Ω—ã–π –æ—Å—Ç–∞—Ç–æ–∫: 5\n');

  const orders = [
    { id: 'ORDER-1', lot: 1722, qty: 2 },
    { id: 'ORDER-2', lot: 1722, qty: 2 },
    { id: 'ORDER-3', lot: 1722, qty: 2 },
  ];

  // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –≤—Å–µ —Ç—Ä–∏ —Å–æ–æ–±—â–µ–Ω–∏—è "–æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ"
  // Actor –ø–æ—Å—Ç–∞–≤–∏—Ç –∏—Ö –≤ –æ—á–µ—Ä–µ–¥—å –∏ –æ–±—Ä–∞–±–æ—Ç–∞–µ—Ç –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ
  for (const order of orders) {
    warehouseActor.send(order);
  }

  // –ñ–¥—ë–º –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –≤—Å–µ—Ö –æ–±—Ä–∞–±–æ—Ç–æ–∫ (–¥–∞—ë–º –≤—Ä–µ–º—è event loop)
  await new Promise((r) =&gt; setTimeout(r, 500));

  console.log('\n=== –ò–¢–û–ì ===');
  console.log('–í—Å–µ —Ç—Ä–∏ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–±—Ä–∞–±–æ—Ç–∞–Ω—ã –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ.');
  console.log('–û—Å—Ç–∞—Ç–æ–∫ –Ω–µ —É—à—ë–ª –≤ –º–∏–Ω—É—Å. –ì–æ–Ω–∫–∞ –¥–∞–Ω–Ω—ã—Ö —É—Å—Ç—Ä–∞–Ω–µ–Ω–∞.');
}

runWithActor();
</code></pre>
<hr />
<h2 id="34-–ì–∞—Ä–∞–Ω—Ç–∏–∏-–ø–∞—Ç—Ç–µ—Ä–Ω–∞-actor"><a class="header" href="#34-–ì–∞—Ä–∞–Ω—Ç–∏–∏-–ø–∞—Ç—Ç–µ—Ä–Ω–∞-actor">3.4 –ì–∞—Ä–∞–Ω—Ç–∏–∏ –ø–∞—Ç—Ç–µ—Ä–Ω–∞ Actor</a></h2>
<div class="table-wrapper"><table><thead><tr><th>–ì–∞—Ä–∞–Ω—Ç–∏—è</th><th>–û–ø–∏—Å–∞–Ω–∏–µ</th><th>–ú–µ—Ö–∞–Ω–∏–∑–º</th></tr></thead><tbody>
<tr><td>–ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å</td><td>–°–æ–æ–±—â–µ–Ω–∏—è –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –ø–æ –æ–¥–Ω–æ–º—É</td><td><code>while</code> + <code>await</code> + —Ñ–ª–∞–≥ <code>#processing</code></td></tr>
<tr><td>–ò–∑–æ–ª—è—Ü–∏—è —Å—Ç–µ–π—Ç–∞</td><td>–°–æ—Å—Ç–æ—è–Ω–∏–µ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ —Å–Ω–∞—Ä—É–∂–∏</td><td>–ü—Ä–∏–≤–∞—Ç–Ω–æ–µ –ø–æ–ª–µ <code>#state</code></td></tr>
<tr><td>–û—Ç–∫–∞–∑–æ—É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å</td><td>–û—à–∏–±–∫–∞ –æ–¥–Ω–æ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è –Ω–µ –ª–æ–º–∞–µ—Ç –æ—á–µ—Ä–µ–¥—å</td><td><code>try/catch</code> –≤ <code>#process</code></td></tr>
<tr><td>–ü—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å</td><td>–ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ –Ω–µ –º–µ–Ω—è–µ—Ç—Å—è</td><td>–ü–æ–≤–µ–¥–µ–Ω–∏–µ –ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è —á–µ—Ä–µ–∑ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä</td></tr>
<tr><td>–ë–µ–∑ –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫</td><td>–ù–µ—Ç mutex/lock/semaphore</td><td>–¢–æ–ª—å–∫–æ –æ—á–µ—Ä–µ–¥—å –∏ async/await</td></tr>
</tbody></table>
</div>
<hr />
<h2 id="35-–¢–∏–ø–∏—á–Ω–∞—è-–æ—à–∏–±–∫–∞-—É—Ç–µ—á–∫–∞-—Å—Å—ã–ª–∫–∏-–Ω–∞-—Å–æ—Å—Ç–æ—è–Ω–∏–µ"><a class="header" href="#35-–¢–∏–ø–∏—á–Ω–∞—è-–æ—à–∏–±–∫–∞-—É—Ç–µ—á–∫–∞-—Å—Å—ã–ª–∫–∏-–Ω–∞-—Å–æ—Å—Ç–æ—è–Ω–∏–µ">3.5 –¢–∏–ø–∏—á–Ω–∞—è –æ—à–∏–±–∫–∞: —É—Ç–µ—á–∫–∞ —Å—Å—ã–ª–∫–∏ –Ω–∞ —Å–æ—Å—Ç–æ—è–Ω–∏–µ</a></h2>
<pre><code class="language-javascript">// –ü—Ä–∏–º–µ—Ä 21. –ê–Ω—Ç–∏–ø–∞—Ç—Ç–µ—Ä–Ω: –≤–Ω–µ—à–Ω—è—è —Å—Å—ã–ª–∫–∞ –Ω–∞ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –Ω–∞—Ä—É—à–∞–µ—Ç –≥–∞—Ä–∞–Ω—Ç–∏–∏ Actor
//
// –ï—Å–ª–∏ –ø–µ—Ä–µ–¥–∞—Ç—å —Å—Å—ã–ª–∫—É –Ω–∞ state –Ω–∞—Ä—É–∂—É, –∫—Ç–æ —É–≥–æ–¥–Ω–æ —Å–º–æ–∂–µ—Ç –∏–∑–º–µ–Ω–∏—Ç—å –µ–≥–æ –Ω–∞–ø—Ä—è–º—É—é,
// –º–∏–Ω—É—è –æ—á–µ—Ä–µ–¥—å –∞–∫—Ç–æ—Ä–∞. –ò–∑–æ–ª—è—Ü–∏—è –Ω–∞—Ä—É—à–µ–Ω–∞ ‚Äî –≥–æ–Ω–∫–∞ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è.

'use strict';

class UnsafeActor {
  #state;
  #queue = [];
  #processing = false;

  constructor(initialState) {
    this.#state = initialState;
    // –ê–ù–¢–ò–ü–ê–¢–¢–ï–†–ù: –ø—É–±–ª–∏—á–Ω—ã–π –≥–µ—Ç—Ç–µ—Ä –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å—Å—ã–ª–∫—É –Ω–∞ –∏–∑–º–µ–Ω—è–µ–º—ã–π –æ–±—ä–µ–∫—Ç
    // –í–Ω–µ—à–Ω–∏–π –∫–æ–¥ –º–æ–∂–µ—Ç –∏–∑–º–µ–Ω–∏—Ç—å this.state[key] –Ω–∞–ø—Ä—è–º—É—é, –º–∏–Ω—É—è –æ—á–µ—Ä–µ–¥—å
    this.state = this.#state; // &lt;-- –û–ü–ê–°–ù–û
  }

  send(behavior, message) {
    this.#queue.push({ behavior, message });
    this.#process();
  }

  async #process() {
    if (this.#processing) return;
    this.#processing = true;
    while (this.#queue.length &gt; 0) {
      const { behavior, message } = this.#queue.shift();
      await behavior(message, this.#state);
    }
    this.#processing = false;
  }
}

const actor = new UnsafeActor({ counter: 0 });

// –í–Ω–µ—à–Ω–∏–π –∫–æ–¥ –Ω–∞–ø—Ä—è–º—É—é –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä—É–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ, –º–∏–Ω—É—è –æ—á–µ—Ä–µ–¥—å:
actor.state.counter = 999; // &lt;-- –ì–û–ù–ö–ê –î–ê–ù–ù–´–• –í–û–ó–ú–û–ñ–ù–ê

console.log('–ê–ù–¢–ò–ü–ê–¢–¢–ï–†–ù: –≤–Ω–µ—à–Ω—è—è –∑–∞–ø–∏—Å—å –≤ actor.state –æ–±—Ö–æ–¥–∏—Ç –æ—á–µ—Ä–µ–¥—å');
console.log('–í—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø—Ä–∏–≤–∞—Ç–Ω—ã–µ –ø–æ–ª—è (#state) –∏ –Ω–µ –≤–æ–∑–≤—Ä–∞—â–∞–π—Ç–µ —Å—Å—ã–ª–∫—É –Ω–∞ state –Ω–∞—Ä—É–∂—É');
</code></pre>
<hr />
<h2 id="36-–°–≤—è–∑–∏-—Å-–¥—Ä—É–≥–∏–º–∏-–∫–æ–Ω—Ü–µ–ø—Ü–∏—è–º–∏"><a class="header" href="#36-–°–≤—è–∑–∏-—Å-–¥—Ä—É–≥–∏–º–∏-–∫–æ–Ω—Ü–µ–ø—Ü–∏—è–º–∏">3.6 –°–≤—è–∑–∏ —Å –¥—Ä—É–≥–∏–º–∏ –∫–æ–Ω—Ü–µ–ø—Ü–∏—è–º–∏</a></h2>
<h3 id="–ü–∞—Ç—Ç–µ—Ä–Ω-actor-–∏-event-loop"><a class="header" href="#–ü–∞—Ç—Ç–µ—Ä–Ω-actor-–∏-event-loop">–ü–∞—Ç—Ç–µ—Ä–Ω Actor –∏ Event Loop</a></h3>
<p>Event Loop –≤ Node.js –Ω–µ –∑–∞—â–∏—â–∞–µ—Ç –æ—Ç –≥–æ–Ω–æ–∫ –¥–∞–Ω–Ω—ã—Ö —Å–∞–º –ø–æ —Å–µ–±–µ. –û–Ω –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, —á—Ç–æ
–≤ –ª—é–±–æ–π –º–æ–º–µ–Ω—Ç –≤—Ä–µ–º–µ–Ω–∏ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —É—á–∞—Å—Ç–æ–∫ —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–≥–æ –∫–æ–¥–∞. –ù–æ <code>await</code>
—Å–æ–∑–¥–∞—ë—Ç —Ç–æ—á–∫—É –æ—Ç–∫–∞–∑–∞ –æ—Ç —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è: –º–µ–∂–¥—É –¥–≤—É–º—è <code>await</code> –¥—Ä—É–≥–æ–π –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –∫–æ–¥ –º–æ–∂–µ—Ç
–Ω–∞—á–∞—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∏ –∏–∑–º–µ–Ω–∏—Ç—å –æ–±—â–∏–π —Å—Ç–µ–π—Ç.</p>
<p>Actor —Ä–µ—à–∞–µ—Ç —ç—Ç–æ –∏–Ω–∞—á–µ: –æ–Ω –Ω–µ –∑–∞–ø—Ä–µ—â–∞–µ—Ç –¥—Ä—É–≥–∏–º –∑–∞–ø—É—Å—Ç–∏—Ç—å—Å—è, –Ω–æ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, —á—Ç–æ –∫
–¥–∞–Ω–Ω–æ–º—É —Å—Ç–µ–π—Ç—É –±—É–¥–µ—Ç –æ–±—Ä–∞—â–∞—Ç—å—Å—è —Ç–æ–ª—å–∫–æ –æ–¥–Ω–æ —Å–æ–æ–±—â–µ–Ω–∏–µ –∑–∞ —Ä–∞–∑, –ø–æ—Ç–æ–º—É —á—Ç–æ —Å–ª–µ–¥—É—é—â–µ–µ
—Å–æ–æ–±—â–µ–Ω–∏–µ –Ω–µ –Ω–∞—á–Ω—ë—Ç—Å—è –¥–æ <code>await</code> –≤ –∫–æ–Ω—Ü–µ –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ.</p>
<h3 id="–ü–∞—Ç—Ç–µ—Ä–Ω-–û—Ç–∫—Ä—ã—Ç—ã–π-–∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä-–≤–æ-–≤—Å–µ—Ö-—Ç—Ä—ë—Ö-—Ç–µ–º–∞—Ö"><a class="header" href="#–ü–∞—Ç—Ç–µ—Ä–Ω-–û—Ç–∫—Ä—ã—Ç—ã–π-–∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä-–≤–æ-–≤—Å–µ—Ö-—Ç—Ä—ë—Ö-—Ç–µ–º–∞—Ö">–ü–∞—Ç—Ç–µ—Ä–Ω "–û—Ç–∫—Ä—ã—Ç—ã–π –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä" –≤–æ –≤—Å–µ—Ö —Ç—Ä—ë—Ö —Ç–µ–º–∞—Ö</a></h3>
<p>–í—Å–µ —Ç—Ä–∏ —Ç–µ–º—ã –Ω–µ–¥–µ–ª–∏ 7 –∏—Å–ø–æ–ª—å–∑—É—é—Ç –æ–¥–∏–Ω –∏ —Ç–æ—Ç –∂–µ –ø–∞—Ç—Ç–µ—Ä–Ω ‚Äî –ø–µ—Ä–µ–¥–∞—á–∞ –ø–æ–≤–µ–¥–µ–Ω–∏—è —á–µ—Ä–µ–∑
–∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä (Revealing Constructor Pattern):</p>
<pre><code class="language-javascript">// Node.js Writable: –ø–æ–≤–µ–¥–µ–Ω–∏–µ –∑–∞–ø–∏—Å–∏ ‚Äî —á–µ—Ä–µ–∑ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä
const writable = new Writable({
  write(chunk, encoding, next) { /* –ª–æ–≥–∏–∫–∞ */ }
});

// Web Streams WritableStream: —Ç–æ –∂–µ —Å–∞–º–æ–µ –≤ Web API
const ws = new WritableStream({
  write(chunk) { /* –ª–æ–≥–∏–∫–∞ */ }
});

// Actor: –ø–æ–≤–µ–¥–µ–Ω–∏–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏–π ‚Äî —á–µ—Ä–µ–∑ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä
const actor = new Actor(behaviorFunction, initialState);
</code></pre>
<p>–≠—Ç–æ –Ω–µ —Å–ª—É—á–∞–π–Ω–æ–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ. –ü–∞—Ç—Ç–µ—Ä–Ω Revealing Constructor ‚Äî —ç—Ç–æ —Å–ø–æ—Å–æ–± —Å–æ–∑–¥–∞—Ç—å –æ–±—ä–µ–∫—Ç
—Å –∏–Ω–∫–∞–ø—Å—É–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º, –ø–æ–≤–µ–¥–µ–Ω–∏–µ –∫–æ—Ç–æ—Ä–æ–≥–æ –∑–∞–¥–∞—ë—Ç—Å—è –≤ –º–æ–º–µ–Ω—Ç —Å–æ–∑–¥–∞–Ω–∏—è. –û–Ω
–ø—Ä–æ—Ç–∏–≤–æ–ø–æ–ª–æ–∂–µ–Ω —Å—É–±–∫–ª–∞—Å—Å–∏—Ä–æ–≤–∞–Ω–∏—é: –≤–º–µ—Å—Ç–æ <code>extends Transform</code> –º—ã –ø–µ—Ä–µ–¥–∞—ë–º —Ñ—É–Ω–∫—Ü–∏—é.</p>
<h3 id="for-await-–∫–∞–∫-—É–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–π-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å"><a class="header" href="#for-await-–∫–∞–∫-—É–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–π-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å">for await –∫–∞–∫ —É–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å</a></h3>
<pre><code class="language-javascript">// Node.js Readable Stream
for await (const chunk of nodeStream) { ... }

// Web API ReadableStream (response.body –∏–∑ fetch)
for await (const chunk of response.body) { ... }

// HTTP IncomingMessage (—è–≤–ª—è–µ—Ç—Å—è Readable Stream)
for await (const chunk of req) { ... }

// –õ—é–±–æ–π –æ–±—ä–µ–∫—Ç —Å Symbol.asyncIterator
for await (const item of asyncGenerator()) { ... }
</code></pre>
<p>–≠—Ç–æ –ø—Ä–∏–Ω—Ü–∏–ø–∏–∞–ª—å–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–≥–æ –∫–æ–º–∏—Ç–µ—Ç–∞ TC39 –∏ Node.js: —É–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å
–¥–æ—Å—Ç—É–ø –∫–æ –≤—Å–µ–º –∏—Å—Ç–æ—á–Ω–∏–∫–∞–º –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö —á–µ—Ä–µ–∑ –æ–¥–∏–Ω —Å–∏–Ω—Ç–∞–∫—Å–∏—Å.</p>
<hr />
<h2 id="37-–°—Ä–∞–≤–Ω–µ–Ω–∏–µ-–ø–æ–¥—Ö–æ–¥–æ–≤-–∫-–∑–∞—â–∏—Ç–µ-—Å–æ—Å—Ç–æ—è–Ω–∏—è"><a class="header" href="#37-–°—Ä–∞–≤–Ω–µ–Ω–∏–µ-–ø–æ–¥—Ö–æ–¥–æ–≤-–∫-–∑–∞—â–∏—Ç–µ-—Å–æ—Å—Ç–æ—è–Ω–∏—è">3.7 –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –ø–æ–¥—Ö–æ–¥–æ–≤ –∫ –∑–∞—â–∏—Ç–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è</a></h2>
<div class="table-wrapper"><table><thead><tr><th>–ü–æ–¥—Ö–æ–¥</th><th>–ú–µ—Ö–∞–Ω–∏–∑–º</th><th>–°–ª–æ–∂–Ω–æ—Å—Ç—å</th><th>–ü—Ä–∏–º–µ–Ω–∏–º–æ—Å—Ç—å</th></tr></thead><tbody>
<tr><td>–ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω—ã–µ <code>await</code></td><td><code>await buy1; await buy2</code></td><td>–ù–∏–∑–∫–∞—è</td><td>–û–¥–∏–Ω –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å</td></tr>
<tr><td>Mutex / Semaphore</td><td>–ë–ª–æ–∫–∏—Ä–æ–≤–∫–∏ (–±–∏–±–ª–∏–æ—Ç–µ–∫–∏)</td><td>–í—ã—Å–æ–∫–∞—è</td><td>–ú—É–ª—å—Ç–∏–ø–æ—Ç–æ—á–Ω–æ—Å—Ç—å (Worker)</td></tr>
<tr><td>Actor Pattern</td><td>–û—á–µ—Ä–µ–¥—å + async/await</td><td>–ù–∏–∑–∫–∞—è</td><td>–õ—é–±–æ–π async JS</td></tr>
<tr><td>Immutable state</td><td>–ù–µ–∏–∑–º–µ–Ω—è–µ–º—ã–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã</td><td>–°—Ä–µ–¥–Ω—è—è</td><td>–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π —Å—Ç–∏–ª—å</td></tr>
<tr><td>SharedArrayBuffer + Atomics</td><td>–ê—Ç–æ–º–∞—Ä–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏</td><td>–û—á–µ–Ω—å –≤—ã—Å–æ–∫–∞—è</td><td>SharedArrayBuffer</td></tr>
</tbody></table>
</div>
<p>–î–ª—è –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–∞ –∑–∞–¥–∞—á –≤ Node.js –ø–∞—Ç—Ç–µ—Ä–Ω Actor ‚Äî –Ω–∞–∏–±–æ–ª–µ–µ –ø—Ä–∞–∫—Ç–∏—á–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ:
–æ–Ω –Ω–µ —Ç—Ä–µ–±—É–µ—Ç —Å—Ç–æ—Ä–æ–Ω–Ω–∏—Ö –±–∏–±–ª–∏–æ—Ç–µ–∫, —Ä–∞–±–æ—Ç–∞–µ—Ç —Å–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–º async/await –∏ –Ω–µ
—É—Å–ª–æ–∂–Ω—è–µ—Ç –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫—É.</p>
<hr />
<h2 id="–ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è-–∏-—Ç–∏–ø–∏—á–Ω—ã–µ-–æ—à–∏–±–∫–∏"><a class="header" href="#–ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è-–∏-—Ç–∏–ø–∏—á–Ω—ã–µ-–æ—à–∏–±–∫–∏">–ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è –∏ —Ç–∏–ø–∏—á–Ω—ã–µ –æ—à–∏–±–∫–∏</a></h2>
<h3 id="–°—Ç—Ä–∏–º—ã"><a class="header" href="#–°—Ç—Ä–∏–º—ã">–°—Ç—Ä–∏–º—ã</a></h3>
<p><strong>–ó–∞–±—ã—Ç—ã–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –æ—à–∏–±–æ–∫</strong></p>
<pre><code class="language-javascript">// –ù–ï–ü–†–ê–í–ò–õ–¨–ù–û: –±–µ–∑ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫ Node.js —É–ø–∞–¥—ë—Ç
const stream = fs.createReadStream('./nonexistent.txt');
stream.on('data', (chunk) =&gt; { /* ... */ });
// –ï—Å–ª–∏ —Ñ–∞–π–ª –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç ‚Äî –Ω–µ–æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω–æ–µ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ!

// –ü–†–ê–í–ò–õ–¨–ù–û: –≤—Å–µ–≥–¥–∞ –¥–æ–±–∞–≤–ª—è–µ–º on('error')
stream.on('error', (err) =&gt; console.error('–û—à–∏–±–∫–∞ —Å—Ç—Ä–∏–º–∞:', err.message));
</code></pre>
<p><strong>–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ pipe –≤–º–µ—Å—Ç–æ pipeline</strong></p>
<pre><code class="language-javascript">// –ù–ï–ü–†–ê–í–ò–õ–¨–ù–û: pipe –Ω–µ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –æ—à–∏–±–∫–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
readable.pipe(transform).pipe(writable);
// –ï—Å–ª–∏ transform –≤—ã–¥–∞—Å—Ç –æ—à–∏–±–∫—É ‚Äî readable –Ω–µ –±—É–¥–µ—Ç –∑–∞–∫—Ä—ã—Ç

// –ü–†–ê–í–ò–õ–¨–ù–û: pipeline –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –æ—à–∏–±–∫–∏ –∏ –∑–∞–∫—Ä—ã–≤–∞–µ—Ç –≤—Å–µ —Å—Ç—Ä–∏–º—ã
const { pipeline } = require('node:stream/promises');
await pipeline(readable, transform, writable);
</code></pre>
<p><strong>–°–º–µ—à–∏–≤–∞–Ω–∏–µ on('data') –∏ on('readable')</strong></p>
<pre><code class="language-javascript">// –ù–ï–ü–†–ê–í–ò–õ–¨–ù–û: –ø–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ –æ–±–∞ —Å–æ–±—ã—Ç–∏—è —Å–æ–∑–¥–∞—ë—Ç –Ω–µ–ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ
stream.on('data', handler1);    // –ø–µ—Ä–µ–≤–æ–¥–∏—Ç –≤ flowing mode
stream.on('readable', handler2); // –∫–æ–Ω—Ñ–ª–∏–∫—Ç —Ä–µ–∂–∏–º–æ–≤

// –ü–†–ê–í–ò–õ–¨–ù–û: –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –æ–¥–∏–Ω —Å—Ç–∏–ª—å —á—Ç–µ–Ω–∏—è
</code></pre>
<p><strong>null –≤ —Å—Ç—Ä–∏–º–µ –æ–±—ä–µ–∫—Ç–æ–≤</strong></p>
<pre><code class="language-javascript">// –ù–ï–ü–†–ê–í–ò–õ–¨–ù–û: null ‚Äî –∑–∞—Ä–µ–∑–µ—Ä–≤–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Å–∏–≥–Ω–∞–ª –∫–æ–Ω—Ü–∞ —Å—Ç—Ä–∏–º–∞
const stream = new Readable({ read() {} });
stream.push(null);         // &lt;- –ö–û–ù–ï–¶ –°–¢–†–ò–ú–ê, –Ω–µ –¥–∞–Ω–Ω—ã–µ!
stream.push({ id: null }); // –ù–ò–ö–û–ì–î–ê –Ω–µ –≤—ã–ø–æ–ª–Ω–∏—Ç—Å—è

// –ü–†–ê–í–ò–õ–¨–ù–û: –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ sentinel-–æ–±—ä–µ–∫—Ç –∏–ª–∏ objectMode —Å —è–≤–Ω—ã–º –∑–∞–∫—Ä—ã—Ç–∏–µ–º
</code></pre>
<h3 id="actor-pattern"><a class="header" href="#actor-pattern">Actor Pattern</a></h3>
<p><strong>–†–∞–∑–¥–µ–ª—ë–Ω–Ω—ã–π —Å—Ç–µ–π—Ç –º–µ–∂–¥—É –∞–∫—Ç–æ—Ä–∞–º–∏</strong></p>
<pre><code class="language-javascript">// –ù–ï–ü–†–ê–í–ò–õ–¨–ù–û: –æ–±–∞ –∞–∫—Ç–æ—Ä–∞ —Ä–∞–±–æ—Ç–∞—é—Ç —Å –æ–¥–Ω–∏–º –æ–±—ä–µ–∫—Ç–æ–º
const shared = { count: 0 };
const actor1 = new Actor(behavior1, shared);
const actor2 = new Actor(behavior2, shared); // –ì–û–ù–ö–ê –î–ê–ù–ù–´–•!

// –ü–†–ê–í–ò–õ–¨–ù–û: –∫–∞–∂–¥—ã–π –∞–∫—Ç–æ—Ä –≤–ª–∞–¥–µ–µ—Ç —Å–≤–æ–∏–º —Å—Ç–µ–π—Ç–æ–º
const actor1 = new Actor(behavior1, { count: 0 });
const actor2 = new Actor(behavior2, { count: 0 });
</code></pre>
<p><strong>–û–∂–∏–¥–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ —á–µ—Ä–µ–∑ send()</strong></p>
<pre><code class="language-javascript">// –ù–ï–ü–†–ê–í–ò–õ–¨–ù–û: Actor.send() ‚Äî fire and forget, –Ω–µ—Ç –≤–æ–∑–≤—Ä–∞—Ç–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞
const result = actor.send(message); // result === undefined

// –ü–†–ê–í–ò–õ–¨–ù–û: –µ—Å–ª–∏ –Ω—É–∂–µ–Ω —Ä–µ–∑—É–ª—å—Ç–∞—Ç ‚Äî –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ callback –≤–Ω—É—Ç—Ä–∏ —Å–æ–æ–±—â–µ–Ω–∏—è
// –∏–ª–∏ —Ä–∞—Å—à–∏—Ä—è–π—Ç–µ Actor –ø–∞—Ç—Ç–µ—Ä–Ω –≤–æ–∑–≤—Ä–∞—Ç–æ–º Promise –∏–∑ send()
actor.send({ ...message, onComplete: (result) =&gt; { /* ... */ } });
</code></pre>
<hr />
<h2 id="–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ-–ø–∞–º—è—Ç—å—é-—á–µ—Ä–µ–∑-—Å—Ç—Ä–∏–º—ã"><a class="header" href="#–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ-–ø–∞–º—è—Ç—å—é-—á–µ—Ä–µ–∑-—Å—Ç—Ä–∏–º—ã">–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç—å—é —á–µ—Ä–µ–∑ —Å—Ç—Ä–∏–º—ã</a></h2>
<p>–ö–ª—é—á–µ–≤–æ–µ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–æ —Å—Ç—Ä–∏–º–æ–≤ ‚Äî –¥–∞–Ω–Ω—ã–µ –Ω–µ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –≤ –ø–∞–º—è—Ç—å —Ü–µ–ª–∏–∫–æ–º.
–ü—Ä–∏ —á—Ç–µ–Ω–∏–∏ —Ñ–∞–π–ª–∞ —á–µ—Ä–µ–∑ —Å—Ç—Ä–∏–º –≤ –ø–∞–º—è—Ç–∏ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –Ω–µ –±–æ–ª–µ–µ –æ–¥–Ω–æ–≥–æ —á–∞–Ω–∫–∞ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 64 KB),
–Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç —Ä–∞–∑–º–µ—Ä–∞ —Ñ–∞–π–ª–∞:</p>
<div class="table-wrapper"><table><thead><tr><th>–ü–æ–¥—Ö–æ–¥</th><th>–§–∞–π–ª 1 GB</th><th>–ü–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç–∏</th></tr></thead><tbody>
<tr><td><code>fs.readFileSync</code></td><td>–¶–µ–ª–∏–∫–æ–º –≤ Buffer</td><td>~1 GB</td></tr>
<tr><td><code>fs.readFile</code> (–∫–æ–ª–±—ç–∫)</td><td>–¶–µ–ª–∏–∫–æ–º –≤ Buffer</td><td>~1 GB</td></tr>
<tr><td><code>fs.createReadStream</code></td><td>–¢–µ–∫—É—â–∏–π —á–∞–Ω–∫</td><td>~64 KB</td></tr>
<tr><td><code>pipeline(readStream, ...)</code></td><td>–¢–µ–∫—É—â–∏–π —á–∞–Ω–∫</td><td>~64 KB</td></tr>
</tbody></table>
</div>
<p>–°—Ç—Ä–∏–º—ã –Ω–µ–∑–∞–º–µ–Ω–∏–º—ã –¥–ª—è:</p>
<ul>
<li>–û–±—Ä–∞–±–æ—Ç–∫–∏ —Ñ–∞–π–ª–æ–≤, –Ω–µ –ø–æ–º–µ—â–∞—é—â–∏—Ö—Å—è –≤ RAM</li>
<li>–ü–æ—Ç–æ–∫–æ–≤–æ–≥–æ –≤–∏–¥–µ–æ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏—è –∏ —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è</li>
<li>–ö—É—Ä—Å–æ—Ä–æ–≤ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö (–∑–∞–ø–∏—Å–∏ —á–∏—Ç–∞—é—Ç—Å—è —á–∞–Ω–∫–∞–º–∏)</li>
<li>–ü–µ—Ä–µ–¥–∞—á–∏ –±–æ–ª—å—à–∏—Ö HTTP-–æ—Ç–≤–µ—Ç–æ–≤ –±–µ–∑ –±—É—Ñ–µ—Ä–∏–∑–∞—Ü–∏–∏ –≤—Å–µ–≥–æ —Ç–µ–ª–∞</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="week-9---semantics-expressive-dsls-and-behavioral-patterns"><a class="header" href="#week-9---semantics-expressive-dsls-and-behavioral-patterns">Week 9 - Semantics: Expressive DSLs and Behavioral Patterns</a></h1>
<ul>
<li><a href="week9/lecture-command-part1.html">–ü–∞—Ç—Ç–µ—Ä–Ω ¬´–ö–æ–º–∞–Ω–¥–∞¬ª ‚Äî TypeScript (—á–∞—Å—Ç—å 1)</a></li>
<li><a href="week9/lecture-command-part2.html">–ü–∞—Ç—Ç–µ—Ä–Ω ¬´–ö–æ–º–∞–Ω–¥–∞¬ª ‚Äî JavaScript (—á–∞—Å—Ç—å 2)</a></li>
<li><a href="week9/lecture-interpreter-part1.html">–ü–∞—Ç—Ç–µ—Ä–Ω ¬´–ò–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä¬ª ‚Äî AST, DSL, LISP (—á–∞—Å—Ç—å 1)</a></li>
<li><a href="week9/lecture-interpreter-part2.html">–ü–∞—Ç—Ç–µ—Ä–Ω ¬´–ò–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä¬ª ‚Äî —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è LISP –∏ AST (—á–∞—Å—Ç—å 2)</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="–ü–∞—Ç—Ç–µ—Ä–Ω-command-–ö–æ–º–∞–Ω–¥–∞--–ß–∞—Å—Ç—å-1"><a class="header" href="#–ü–∞—Ç—Ç–µ—Ä–Ω-command-–ö–æ–º–∞–Ω–¥–∞--–ß–∞—Å—Ç—å-1">–ü–∞—Ç—Ç–µ—Ä–Ω Command (–ö–æ–º–∞–Ω–¥–∞) ‚Äî –ß–∞—Å—Ç—å 1</a></h1>
<blockquote>
<p>–ü–æ–≤–µ–¥–µ–Ω—á–µ—Å–∫–∏–π –ø–∞—Ç—Ç–µ—Ä–Ω –∏–∑ –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–æ–π –∫–Ω–∏–≥–∏ ¬´–ë–∞–Ω–¥—ã —á–µ—Ç—ã—Ä—ë—Ö¬ª (GoF).
–õ–µ–∫—Ü–∏—è –Ω–∞ TypeScript.</p>
</blockquote>
<hr />
<h2 id="–í–≤–µ–¥–µ–Ω–∏–µ-13"><a class="header" href="#–í–≤–µ–¥–µ–Ω–∏–µ-13">–í–≤–µ–¥–µ–Ω–∏–µ</a></h2>
<p>–ü–∞—Ç—Ç–µ—Ä–Ω <strong>Command</strong> (¬´–ö–æ–º–∞–Ω–¥–∞¬ª) ‚Äî —ç—Ç–æ –ø–æ–≤–µ–¥–µ–Ω—á–µ—Å–∫–∏–π –ø–∞—Ç—Ç–µ—Ä–Ω –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏–∑ –∫–Ω–∏–≥–∏ <em>Design Patterns</em> (¬´–ë–∞–Ω–¥—ã —á–µ—Ç—ã—Ä—ë—Ö¬ª). –û–Ω –ø—Ä–µ–≤—Ä–∞—â–∞–µ—Ç –∑–∞–ø—Ä–æ—Å—ã –∏–ª–∏ –ø—Ä–æ—Å—Ç—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –≤ –æ–±—ä–µ–∫—Ç—ã-–¥–∞–Ω–Ω—ã–µ (–∫–æ–º–∞–Ω–¥—ã), –∫–æ—Ç–æ—Ä—ã–µ –º–æ–∂–Ω–æ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å, —Ö—Ä–∞–Ω–∏—Ç—å, –æ—Ç–∫–∞—Ç—ã–≤–∞—Ç—å –∏ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç—å.</p>
<p>–ü–∞—Ç—Ç–µ—Ä–Ω —à–∏—Ä–æ–∫–æ –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –≤ —Å–∞–º—ã—Ö —Ä–∞–∑–Ω—ã—Ö —è–∑—ã–∫–∞—Ö –∏ –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞—Ö ‚Äî –æ—Ç Delphi –∏ C++ Builder –¥–æ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–≥–æ TypeScript. –ï–≥–æ –ø—Ä–∏–Ω—Ü–∏–ø—ã —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã –∏ –Ω–µ –∑–∞–≤–∏—Å—è—Ç –æ—Ç –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —è–∑—ã–∫–∞ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è.</p>
<hr />
<h2 id="–ü—Ä–æ–±–ª–µ–º–∞-14"><a class="header" href="#–ü—Ä–æ–±–ª–µ–º–∞-14">–ü—Ä–æ–±–ª–µ–º–∞</a></h2>
<p>–í —Å–∏—Å—Ç–µ–º–∞—Ö —á–∞—Å—Ç–æ –≤—Å—Ç—Ä–µ—á–∞–µ—Ç—Å—è —Å–ª–µ–¥—É—é—â–∞—è —Å–∏—Ç—É–∞—Ü–∏—è: –µ—Å—Ç—å <strong>–æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—å</strong> (Invoker) ‚Äî —Ç–æ—Ç, –∫—Ç–æ —Ö–æ—á–µ—Ç –≤—ã–∑–≤–∞—Ç—å –∫–∞–∫—É—é-—Ç–æ –æ–ø–µ—Ä–∞—Ü–∏—é, –∏ –µ—Å—Ç—å <strong>–ø–æ–ª—É—á–∞—Ç–µ–ª—å</strong> (Receiver) ‚Äî —Ç–æ—Ç, –∫—Ç–æ –¥–æ–ª–∂–µ–Ω –µ—ë –≤—ã–ø–æ–ª–Ω–∏—Ç—å.</p>
<pre><code>Invoker ‚îÄ‚îÄ–≤—ã–∑—ã–≤–∞–µ—Ç‚îÄ‚îÄ‚ñ∫ Receiver
</code></pre>
<p>–°–∞–º—ã–π –ø—Ä–æ—Å—Ç–æ–π —Å–ø–æ—Å–æ–± ‚Äî –≤—ã–∑—ã–≤–∞—Ç—å –º–µ—Ç–æ–¥—ã –¥—Ä—É–≥ —É –¥—Ä—É–≥–∞ –Ω–∞–ø—Ä—è–º—É—é –∏–ª–∏ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å —Å–æ–±—ã—Ç–∏—è. –ù–æ —ç—Ç–æ —Å–æ–∑–¥–∞—ë—Ç <strong>—Å–∏–ª—å–Ω—É—é —Å–≤—è–∑–∞–Ω–Ω–æ—Å—Ç—å</strong> (coupling): Invoker –∑–Ω–∞–µ—Ç –æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–º –∫–ª–∞—Å—Å–µ Receiver –∏ –Ω–∞–æ–±–æ—Ä–æ—Ç.</p>
<p>–ü—Ä–æ–±–ª–µ–º—ã —Å–∏–ª—å–Ω–æ–π —Å–≤—è–∑–∞–Ω–Ω–æ—Å—Ç–∏:</p>
<ul>
<li>–¢—Ä—É–¥–Ω–æ –∑–∞–º–µ–Ω–∏—Ç—å –æ–¥–Ω—É —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é –¥—Ä—É–≥–æ–π –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏—è –æ–±–µ–∏—Ö —Å—Ç–æ—Ä–æ–Ω.</li>
<li>–ù–µ–≤–æ–∑–º–æ–∂–Ω–æ –ø–æ—Å—Ç–∞–≤–∏—Ç—å –æ–ø–µ—Ä–∞—Ü–∏—é –≤ –æ—á–µ—Ä–µ–¥—å –∏–ª–∏ –∑–∞–ø–∏—Å–∞—Ç—å –∏—Å—Ç–æ—Ä–∏—é –≤—ã–∑–æ–≤–æ–≤.</li>
<li>–ù–µ–ª—å–∑—è –ª–µ–≥–∫–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –æ—Ç–º–µ–Ω—É (undo) –∏ –ø–æ–≤—Ç–æ—Ä (redo) –æ–ø–µ—Ä–∞—Ü–∏–π.</li>
<li>–°–ª–æ–∂–Ω–æ –ø–µ—Ä–µ–¥–∞—Ç—å –æ–ø–µ—Ä–∞—Ü–∏—é –≤ –¥—Ä—É–≥—É—é —Å–∏—Å—Ç–µ–º—É –∏–ª–∏ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –Ω–∞ –¥–∏—Å–∫.</li>
</ul>
<hr />
<h2 id="–†–µ—à–µ–Ω–∏–µ-7"><a class="header" href="#–†–µ—à–µ–Ω–∏–µ-7">–†–µ—à–µ–Ω–∏–µ</a></h2>
<p>–ü–∞—Ç—Ç–µ—Ä–Ω <strong>Command</strong> –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç –≤—ã–¥–µ–ª–∏—Ç—å –æ–ø–∏—Å–∞–Ω–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –≤ –æ—Ç–¥–µ–ª—å–Ω—É—é <strong>—Å—Ç—Ä—É–∫—Ç—É—Ä—É –¥–∞–Ω–Ω—ã—Ö</strong> ‚Äî –æ–±—ä–µ–∫—Ç-–∫–æ–º–∞–Ω–¥—É (Command object). –≠—Ç–æ —Ç–∞–∫ –Ω–∞–∑—ã–≤–∞–µ–º—ã–π <strong>–∞–Ω–µ–º–∏—á–Ω—ã–π –æ–±—ä–µ–∫—Ç</strong> (Anemic Object) –∏–ª–∏ <strong>DTO</strong> (Data Transfer Object): –æ–Ω —Ö—Ä–∞–Ω–∏—Ç –¥–∞–Ω–Ω—ã–µ –æ —Ç–æ–º, <em>—á—Ç–æ</em> –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å, –Ω–æ –Ω–µ –∑–Ω–∞–µ—Ç <em>–∫–∞–∫</em>.</p>
<pre><code>Invoker ‚îÄ‚îÄ—Å–æ–∑–¥–∞—ë—Ç‚îÄ‚îÄ‚ñ∫ Command ‚îÄ‚îÄ–ø–µ—Ä–µ–¥–∞—ë—Ç‚îÄ‚îÄ‚ñ∫ Receiver
</code></pre>
<p>–¢–µ–ø–µ—Ä—å:</p>
<ul>
<li>Invoker –∑–Ω–∞–µ—Ç —Ç–æ–ª—å–∫–æ –æ —Å—Ç—Ä—É–∫—Ç—É—Ä–µ Command.</li>
<li>Receiver –∑–Ω–∞–µ—Ç —Ç–æ–ª—å–∫–æ –æ —Å—Ç—Ä—É–∫—Ç—É—Ä–µ Command.</li>
<li>Invoker –∏ Receiver <strong>–Ω–µ –∑–Ω–∞—é—Ç –¥—Ä—É–≥ –æ –¥—Ä—É–≥–µ</strong>.</li>
</ul>
<p>–≠—Ç–æ –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—é —á–µ—Ä–µ–∑ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã: –≤—Å–µ —Å—Ç–æ—Ä–æ–Ω—ã –∑–Ω–∞—é—Ç –ø—Ä–æ –∫–æ–Ω—Ç—Ä–∞–∫—Ç (–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∏–ª–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä—É –¥–∞–Ω–Ω—ã—Ö), –Ω–æ –Ω–µ –∑–∞–≤–∏—Å—è—Ç –Ω–∞–ø—Ä—è–º—É—é –¥—Ä—É–≥ –æ—Ç –¥—Ä—É–≥–∞.</p>
<h3 id="–ß—Ç–æ-–æ—Ç–∫—Ä—ã–≤–∞–µ—Ç-—ç—Ç–æ—Ç-–ø–∞—Ç—Ç–µ—Ä–Ω"><a class="header" href="#–ß—Ç–æ-–æ—Ç–∫—Ä—ã–≤–∞–µ—Ç-—ç—Ç–æ—Ç-–ø–∞—Ç—Ç–µ—Ä–Ω">–ß—Ç–æ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç —ç—Ç–æ—Ç –ø–∞—Ç—Ç–µ—Ä–Ω</a></h3>
<p>–°–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è –∫–æ–º–∞–Ω–¥ –≤ –æ–±—ä–µ–∫—Ç—ã –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç –ø—É—Ç—å –∫ —Ü–µ–ª–æ–º—É —Ä—è–¥—É –º–æ—â–Ω—ã—Ö –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã—Ö —Ä–µ—à–µ–Ω–∏–π:</p>
<div class="table-wrapper"><table><thead><tr><th>–ü–∞—Ç—Ç–µ—Ä–Ω / –ü—Ä–∏—ë–º</th><th>–ß—Ç–æ –¥–∞—ë—Ç</th></tr></thead><tbody>
<tr><td><strong>CQS</strong> (Command Query Separation)</td><td>–†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –∫–æ–º–∞–Ω–¥ (–∏–∑–º–µ–Ω–µ–Ω–∏–π) –∏ –∑–∞–ø—Ä–æ—Å–æ–≤ (—á—Ç–µ–Ω–∏–π)</td></tr>
<tr><td><strong>CQRS</strong> (Command Query Responsibility Segregation)</td><td>–†–∞–∑–¥–µ–ª–µ–Ω–∏–µ —Å–ª–æ—ë–≤ —á—Ç–µ–Ω–∏—è –∏ –∑–∞–ø–∏—Å–∏, –¥–æ—Å—Ç—É–ø –∫ –ë–î</td></tr>
<tr><td><strong>Event Sourcing</strong></td><td>–•—Ä–∞–Ω–µ–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–∏ –≤—Å–µ—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π, –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å</td></tr>
<tr><td><strong>Saga</strong></td><td>–û—Ç–∫–∞—Ç —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã—Ö —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π</td></tr>
</tbody></table>
</div>
<h3 id="–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ-–≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏"><a class="header" href="#–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ-–≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏">–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏</a></h3>
<ul>
<li><strong>–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ</strong>: –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∑–∞–ø–∏—Å—å –≤—Å–µ—Ö –¥–µ–π—Å—Ç–≤–∏–π –≤ —Å–∏—Å—Ç–µ–º–µ.</li>
<li><strong>Undo / Redo</strong>: –¥–≤–∏–∂–µ–Ω–∏–µ –ø–æ –∏—Å—Ç–æ—Ä–∏–∏ –≤–ø–µ—Ä—ë–¥ –∏ –Ω–∞–∑–∞–¥.</li>
<li><strong>–û—á–µ—Ä–µ–¥—å –∫–æ–º–∞–Ω–¥</strong>: –ø–æ—Å—Ç–∞–Ω–æ–≤–∫–∞ –æ–ø–µ—Ä–∞—Ü–∏–π –≤ –æ—á–µ—Ä–µ–¥—å –¥–ª—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏.</li>
<li><strong>–ü–µ—Ä–µ–¥–∞—á–∞ –ø–æ —Å–µ—Ç–∏</strong>: –æ—Ç–ø—Ä–∞–≤–∫–∞ –∫–æ–º–∞–Ω–¥—ã –≤ –¥—Ä—É–≥—É—é —Å–∏—Å—Ç–µ–º—É –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Ç–∞–º.</li>
<li><strong>–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –Ω–∞ –¥–∏—Å–∫ / –≤ –ë–î</strong>: –ø–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å –∏—Å—Ç–æ—Ä–∏–∏ –æ–ø–µ—Ä–∞—Ü–∏–π.</li>
<li><strong>–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å–∏—Å—Ç–µ–º</strong>: –∫–æ–º–∞–Ω–¥—ã –º–æ–∂–Ω–æ –Ω–∞–∫–∞—Ç–∏—Ç—å –Ω–∞ –¥—Ä—É–≥—É—é –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö.</li>
</ul>
<h3 id="–ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏-1"><a class="header" href="#–ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏-1">–ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏</a></h3>
<ul>
<li>–£–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç—Å—è –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–ª–∞—Å—Å–æ–≤ –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä –≤ –∫–æ–¥–µ.</li>
<li>–ù–µ–∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ —Ä–∞—Å—Ç—ë—Ç –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç–∏ –∏ –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–∞.</li>
</ul>
<p>–¢–µ–º –Ω–µ –º–µ–Ω–µ–µ –ø–æ–ª—å–∑–∞ –æ—Ç –ø–∞—Ç—Ç–µ—Ä–Ω–∞ –≤ –ø–æ–¥—Ö–æ–¥—è—â–∏—Ö –∑–∞–¥–∞—á–∞—Ö –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ –ø—Ä–µ–≤—ã—à–∞–µ—Ç –µ–≥–æ —Å—Ç–æ–∏–º–æ—Å—Ç—å.</p>
<hr />
<h2 id="–†–µ–∞–ª–∏–∑–∞—Ü–∏—è-3"><a class="header" href="#–†–µ–∞–ª–∏–∑–∞—Ü–∏—è-3">–†–µ–∞–ª–∏–∑–∞—Ü–∏—è</a></h2>
<p>–†–∞—Å—Å–º–æ—Ç—Ä–∏–º –¥–≤–∞ –≤–∞—Ä–∏–∞–Ω—Ç–∞ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –Ω–∞ TypeScript: –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π (–û–û–ü —Å –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–º –∫–ª–∞—Å—Å–æ–º) –∏ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π (—á–µ—Ä–µ–∑ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –∏ –∞–Ω–µ–º–∏—á–Ω—ã–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã).</p>
<h3 id="–í–∞—Ä–∏–∞–Ω—Ç-1-–ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π-–û–û–ü-–ø–æ–¥—Ö–æ–¥"><a class="header" href="#–í–∞—Ä–∏–∞–Ω—Ç-1-–ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π-–û–û–ü-–ø–æ–¥—Ö–æ–¥">–í–∞—Ä–∏–∞–Ω—Ç 1. –ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π –û–û–ü-–ø–æ–¥—Ö–æ–¥</a></h3>
<p>–í —ç—Ç–æ–º –≤–∞—Ä–∏–∞–Ω—Ç–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–π –∫–ª–∞—Å—Å <code>Command</code> —Å –º–µ—Ç–æ–¥–∞–º–∏ <code>exec()</code> –∏ <code>undo()</code>, –æ—Ç –∫–æ—Ç–æ—Ä–æ–≥–æ –Ω–∞—Å–ª–µ–¥—É—é—Ç—Å—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã.</p>
<pre><code class="language-typescript">// --- –ú–æ–¥–µ–ª—å –¥–∞–Ω–Ω—ã—Ö ---

class BankAccount {
  constructor(
    public name: string,
    public balance: number
  ) {}
}

// --- –ê–±—Å—Ç—Ä–∞–∫—Ç–Ω–∞—è –∫–æ–º–∞–Ω–¥–∞ ---

abstract class Command {
  constructor(
    public account: BankAccount,
    public amount: number,
    public operation: string
  ) {}

  abstract exec(): void;
  abstract undo(): void;
}

// --- –ö–æ–Ω–∫—Ä–µ—Ç–Ω–∞—è –∫–æ–º–∞–Ω–¥–∞: –ø–æ–ø–æ–ª–Ω–µ–Ω–∏–µ —Å—á—ë—Ç–∞ ---

class IncomeCommand extends Command {
  constructor(account: BankAccount, amount: number) {
    super(account, amount, 'income');
  }

  exec(): void {
    this.account.balance += this.amount;
    console.log(`[+] ${this.account.name}: +${this.amount} =&gt; ${this.account.balance}`);
  }

  undo(): void {
    this.account.balance -= this.amount;
    console.log(`[undo+] ${this.account.name}: -${this.amount} =&gt; ${this.account.balance}`);
  }
}

// --- –ö–æ–Ω–∫—Ä–µ—Ç–Ω–∞—è –∫–æ–º–∞–Ω–¥–∞: —Å–ø–∏—Å–∞–Ω–∏–µ —Å–æ —Å—á—ë—Ç–∞ ---

class WithdrawCommand extends Command {
  constructor(account: BankAccount, amount: number) {
    super(account, amount, 'withdraw');
  }

  exec(): void {
    this.account.balance -= this.amount;
    console.log(`[-] ${this.account.name}: -${this.amount} =&gt; ${this.account.balance}`);
  }

  undo(): void {
    this.account.balance += this.amount;
    console.log(`[undo-] ${this.account.name}: +${this.amount} =&gt; ${this.account.balance}`);
  }
}

// --- –ò–Ω–≤–æ–∫–µ—Ä: –ë–∞–Ω–∫ —Ö—Ä–∞–Ω–∏—Ç –∏—Å—Ç–æ—Ä–∏—é –∫–æ–º–∞–Ω–¥ ---

class Bank {
  private history: Command[] = [];

  operate(account: BankAccount, value: number): void {
    // –í—ã–±–∏—Ä–∞–µ–º –∫–ª–∞—Å—Å –∫–æ–º–∞–Ω–¥—ã –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –∑–Ω–∞–∫–∞ —Å—É–º–º—ã
    const CommandClass = value &gt; 0 ? IncomeCommand : WithdrawCommand;
    const command = new CommandClass(account, Math.abs(value));
    command.exec();
    this.history.push(command);
  }

  undo(steps: number): void {
    for (let i = 0; i &lt; steps; i++) {
      const command = this.history.pop();
      if (command) command.undo();
    }
  }

  showOperations(): void {
    console.log('\n--- –ò—Å—Ç–æ—Ä–∏—è –æ–ø–µ—Ä–∞—Ü–∏–π ---');
    console.table(
      this.history.map((c) =&gt; ({
        account: c.account.name,
        operation: c.operation,
        amount: c.amount,
        balance: c.account.balance,
      }))
    );
  }
}

// --- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ ---

const bank = new Bank();
const alice = new BankAccount('Alice', 1000);
const bob = new BankAccount('Bob', 500);

bank.operate(alice, 200);   // Alice: +200
bank.operate(alice, -50);   // Alice: -50
bank.operate(bob, 300);     // Bob: +300
bank.operate(bob, -100);    // Bob: -100
bank.operate(alice, 150);   // Alice: +150

bank.showOperations();      // 5 –æ–ø–µ—Ä–∞—Ü–∏–π

bank.undo(2);               // –æ—Ç–∫–∞—Ç—ã–≤–∞–µ–º 2 –ø–æ—Å–ª–µ–¥–Ω–∏—Ö

bank.showOperations();      // 3 –æ–ø–µ—Ä–∞—Ü–∏–∏
</code></pre>
<hr />
<h3 id="–í–∞—Ä–∏–∞–Ω—Ç-2-–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π-typescript-–ø–æ–¥—Ö–æ–¥-–∞–Ω–µ–º–∏—á–Ω—ã–µ-–∫–æ–º–∞–Ω–¥—ã--record"><a class="header" href="#–í–∞—Ä–∏–∞–Ω—Ç-2-–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π-typescript-–ø–æ–¥—Ö–æ–¥-–∞–Ω–µ–º–∏—á–Ω—ã–µ-–∫–æ–º–∞–Ω–¥—ã--record">–í–∞—Ä–∏–∞–Ω—Ç 2. –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π TypeScript-–ø–æ–¥—Ö–æ–¥ (–∞–Ω–µ–º–∏—á–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã + Record)</a></h3>
<p>–í —ç—Ç–æ–º –≤–∞—Ä–∏–∞–Ω—Ç–µ –∫–æ–º–∞–Ω–¥—ã —è–≤–ª—è—é—Ç—Å—è <strong>—á–∏—Å—Ç—ã–º–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞–º–∏ –¥–∞–Ω–Ω—ã—Ö</strong> (–∞–Ω–µ–º–∏—á–Ω—ã–º–∏ –æ–±—ä–µ–∫—Ç–∞–º–∏), –∞ –ø–æ–≤–µ–¥–µ–Ω–∏–µ —Ö—Ä–∞–Ω–∏—Ç—Å—è –æ—Ç–¥–µ–ª—å–Ω–æ ‚Äî –≤ –∫–æ–ª–ª–µ–∫—Ü–∏–∏ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤. –≠—Ç–æ –±–æ–ª–µ–µ –≥–∏–±–∫–∏–π –∏ –∏–¥–∏–æ–º–∞—Ç–∏—á–Ω—ã–π –ø–æ–¥—Ö–æ–¥ –¥–ª—è TypeScript.</p>
<pre><code class="language-typescript">// --- –¢–∏–ø –∞–∫–∫–∞—É–Ω—Ç–∞ ---

type Account = {
  name: string;
  balance: number;
};

// --- –ö–æ–ª–ª–µ–∫—Ü–∏—è –∞–∫–∫–∞—É–Ω—Ç–æ–≤ ---

type Accounts = Map&lt;string, Account&gt;;

const accounts: Accounts = new Map();

function addAccount(name: string, initialBalance: number): void {
  accounts.set(name, { name, balance: initialBalance });
}

// --- –ê–Ω–µ–º–∏—á–Ω–∞—è –∫–æ–º–∞–Ω–¥–∞ (—Ç–æ–ª—å–∫–æ –¥–∞–Ω–Ω—ã–µ, –Ω–∏–∫–∞–∫–æ–≥–æ –ø–æ–≤–µ–¥–µ–Ω–∏—è) ---

type OperationType = 'withdraw' | 'income';

interface Command {
  account: string;  // –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –∞–∫–∫–∞—É–Ω—Ç–∞
  amount: number;   // –∞–±—Å–æ–ª—é—Ç–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ —Å—É–º–º—ã
  type: OperationType;
}

// --- –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –æ–ø–µ—Ä–∞—Ü–∏–∏ (–ø–æ–≤–µ–¥–µ–Ω–∏–µ) ---

interface Operation {
  exec(command: Command): void;
  undo(command: Command): void;
}

// --- –ö–æ–ª–ª–µ–∫—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤: –ø–æ–≤–µ–¥–µ–Ω–∏–µ —Ö—Ä–∞–Ω–∏—Ç—Å—è –æ—Ç–¥–µ–ª—å–Ω–æ ---

type Operations = Record&lt;OperationType, Operation&gt;;

const operations: Operations = {
  income: {
    exec(command: Command): void {
      const acc = accounts.get(command.account);
      if (!acc) throw new Error(`Account not found: ${command.account}`);
      acc.balance += command.amount;
      console.log(`[+] ${acc.name}: +${command.amount} =&gt; ${acc.balance}`);
    },
    undo(command: Command): void {
      const acc = accounts.get(command.account);
      if (!acc) throw new Error(`Account not found: ${command.account}`);
      acc.balance -= command.amount;
      console.log(`[undo+] ${acc.name}: -${command.amount} =&gt; ${acc.balance}`);
    },
  },

  withdraw: {
    exec(command: Command): void {
      const acc = accounts.get(command.account);
      if (!acc) throw new Error(`Account not found: ${command.account}`);
      acc.balance -= command.amount;
      console.log(`[-] ${acc.name}: -${command.amount} =&gt; ${acc.balance}`);
    },
    undo(command: Command): void {
      const acc = accounts.get(command.account);
      if (!acc) throw new Error(`Account not found: ${command.account}`);
      acc.balance += command.amount;
      console.log(`[undo-] ${acc.name}: +${command.amount} =&gt; ${acc.balance}`);
    },
  },
};

// --- –ë–∞–Ω–∫: —Ö—Ä–∞–Ω–∏—Ç –∏—Å—Ç–æ—Ä–∏—é –∞–Ω–µ–º–∏—á–Ω—ã—Ö –∫–æ–º–∞–Ω–¥ ---

class Bank {
  private history: Command[] = [];

  operate(accountName: string, value: number): void {
    // –û–ø—Ä–µ–¥–µ–ª—è–µ–º —Ç–∏–ø –æ–ø–µ—Ä–∞—Ü–∏–∏ –ø–æ –∑–Ω–∞–∫—É —Å—É–º–º—ã
    const type: OperationType = value &gt;= 0 ? 'income' : 'withdraw';
    const command: Command = {
      account: accountName,
      amount: Math.abs(value),
      type,
    };

    // –í—ã–ø–æ–ª–Ω—è–µ–º –æ–ø–µ—Ä–∞—Ü–∏—é —á–µ—Ä–µ–∑ –∫–æ–ª–ª–µ–∫—Ü–∏—é –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤
    operations[type].exec(command);

    // –°–æ—Ö—Ä–∞–Ω—è–µ–º –∞–Ω–µ–º–∏—á–Ω—É—é –∫–æ–º–∞–Ω–¥—É –≤ –∏—Å—Ç–æ—Ä–∏—é
    this.history.push(command);
  }

  undo(steps: number): void {
    for (let i = 0; i &lt; steps; i++) {
      const command = this.history.pop();
      if (command) {
        operations[command.type].undo(command);
      }
    }
  }

  showOperations(): void {
    console.log('\n--- –ò—Å—Ç–æ—Ä–∏—è –æ–ø–µ—Ä–∞—Ü–∏–π ---');
    console.table(this.history);
  }
}

// --- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ ---

addAccount('Alice', 1000);
addAccount('Bob', 500);

const bank = new Bank();

bank.operate('Alice', 200);   // Alice: +200
bank.operate('Alice', -50);   // Alice: -50
bank.operate('Bob', 300);     // Bob: +300
bank.operate('Bob', -100);    // Bob: -100
bank.operate('Alice', 150);   // Alice: +150

bank.showOperations();        // 5 –∫–æ–º–∞–Ω–¥ –≤ –∏—Å—Ç–æ—Ä–∏–∏

bank.undo(2);                 // –æ—Ç–∫–∞—Ç—ã–≤–∞–µ–º 2 –æ–ø–µ—Ä–∞—Ü–∏–∏

bank.showOperations();        // 3 –∫–æ–º–∞–Ω–¥—ã –≤ –∏—Å—Ç–æ—Ä–∏–∏
</code></pre>
<hr />
<h2 id="–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ"><a class="header" href="#–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ">–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ</a></h2>
<p>–ü–∞—Ç—Ç–µ—Ä–Ω Command —É–º–µ—Å—Ç–µ–Ω –≤ —Å–ª–µ–¥—É—é—â–∏—Ö —Å–∏—Ç—É–∞—Ü–∏—è—Ö:</p>
<ol>
<li><strong>–ù—É–∂–Ω–∞ –∏—Å—Ç–æ—Ä–∏—è –æ–ø–µ—Ä–∞—Ü–∏–π</strong> ‚Äî –∫–æ–≥–¥–∞ —Ç—Ä–µ–±—É–µ—Ç—Å—è –∑–Ω–∞—Ç—å, —á—Ç–æ –±—ã–ª–æ —Å–¥–µ–ª–∞–Ω–æ –≤ —Å–∏—Å—Ç–µ–º–µ (–∞—É–¥–∏—Ç, –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ).</li>
<li><strong>–ù—É–∂–µ–Ω Undo/Redo</strong> ‚Äî —Ä–µ–¥–∞–∫—Ç–æ—Ä—ã —Ç–µ–∫—Å—Ç–∞, –≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–µ —Ä–µ–¥–∞–∫—Ç–æ—Ä—ã, IDE.</li>
<li><strong>–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞</strong> ‚Äî –∫–æ–º–∞–Ω–¥—ã —Å—Ç–∞–≤—è—Ç—Å—è –≤ –æ—á–µ—Ä–µ–¥—å (message queue) –∏ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –ø–æ–∑–¥–Ω–µ–µ.</li>
<li><strong>–†–∞—Å–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã–µ —Å–∏—Å—Ç–µ–º—ã</strong> ‚Äî –∫–æ–º–∞–Ω–¥—ã —Å–µ—Ä–∏–∞–ª–∏–∑—É—é—Ç—Å—è –∏ –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è –º–µ–∂–¥—É —Å–µ—Ä–≤–∏—Å–∞–º–∏ (–º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å—ã, event-driven –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞).</li>
<li><strong>–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö</strong> ‚Äî –æ–¥–Ω–∞ –∏ —Ç–∞ –∂–µ –∏—Å—Ç–æ—Ä–∏—è –∫–æ–º–∞–Ω–¥ –Ω–∞–∫–∞—Ç—ã–≤–∞–µ—Ç—Å—è –Ω–∞ –Ω–µ—Å–∫–æ–ª—å–∫–æ –±–∞–∑ –¥–∞–Ω–Ω—ã—Ö.</li>
<li><strong>–¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ —Å –æ—Ç–∫–∞—Ç–æ–º</strong> ‚Äî —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –ø–∞—Ç—Ç–µ—Ä–Ω–∞ Saga –¥–ª—è —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã—Ö —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π.</li>
</ol>
<h3 id="–û—Ç–ª–∏—á–∏–µ-–¥–≤—É—Ö-–≤–∞—Ä–∏–∞–Ω—Ç–æ–≤-—Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏"><a class="header" href="#–û—Ç–ª–∏—á–∏–µ-–¥–≤—É—Ö-–≤–∞—Ä–∏–∞–Ω—Ç–æ–≤-—Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏">–û—Ç–ª–∏—á–∏–µ –¥–≤—É—Ö –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏</a></h3>
<div class="table-wrapper"><table><thead><tr><th>–ö—Ä–∏—Ç–µ—Ä–∏–π</th><th>–ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π (–∞–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–π –∫–ª–∞—Å—Å)</th><th>–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π (–∞–Ω–µ–º–∏—á–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã)</th></tr></thead><tbody>
<tr><td>–ü–æ–≤–µ–¥–µ–Ω–∏–µ</td><td>–í–Ω—É—Ç—Ä–∏ –∫–æ–º–∞–Ω–¥—ã</td><td>–û—Ç–¥–µ–ª—å–Ω–æ –≤ –∫–æ–ª–ª–µ–∫—Ü–∏–∏ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤</td></tr>
<tr><td>–†–∞—Å—à–∏—Ä—è–µ–º–æ—Å—Ç—å</td><td>–ù–æ–≤—ã–π –∫–ª–∞—Å—Å-–Ω–∞—Å–ª–µ–¥–Ω–∏–∫</td><td>–ù–æ–≤—ã–π –∫–ª—é—á –≤ <code>Record</code></td></tr>
<tr><td>–°–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è</td><td>–ó–∞—Ç—Ä—É–¥–Ω–µ–Ω–∞ (–∫–ª–∞—Å—Å—ã)</td><td>–õ–µ–≥–∫–æ (plain objects)</td></tr>
<tr><td>–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –æ—Ç —Ä–µ—Å–∏–≤–µ—Ä–∞</td><td>–ö–æ–º–∞–Ω–¥–∞ –∑–Ω–∞–µ—Ç –æ BankAccount</td><td>–ö–æ–º–∞–Ω–¥–∞ –∑–Ω–∞–µ—Ç —Ç–æ–ª—å–∫–æ <code>string</code> id</td></tr>
<tr><td>TypeScript-–∏–¥–∏–æ–º–∞—Ç–∏—á–Ω–æ—Å—Ç—å</td><td>–•–æ—Ä–æ—à–æ</td><td>–û—á–µ–Ω—å —Ö–æ—Ä–æ—à–æ</td></tr>
</tbody></table>
</div>
<hr />
<h2 id="–ò—Ç–æ–≥"><a class="header" href="#–ò—Ç–æ–≥">–ò—Ç–æ–≥</a></h2>
<p>–ü–∞—Ç—Ç–µ—Ä–Ω <strong>Command</strong> —Ä–µ—à–∞–µ—Ç –ø—Ä–æ–±–ª–µ–º—É —Å–≤—è–∑–∞–Ω–Ω–æ—Å—Ç–∏ –º–µ–∂–¥—É –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª–µ–º –∏ –ø–æ–ª—É—á–∞—Ç–µ–ª–µ–º –æ–ø–µ—Ä–∞—Ü–∏–∏, –≤–≤–æ–¥—è –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É –¥–∞–Ω–Ω—ã—Ö ‚Äî <strong>–∫–æ–º–∞–Ω–¥—É</strong>.</p>
<p>–ö–ª—é—á–µ–≤—ã–µ –∏–¥–µ–∏:</p>
<ul>
<li>–ö–æ–º–∞–Ω–¥–∞ ‚Äî —ç—Ç–æ <strong>–¥–∞–Ω–Ω—ã–µ</strong>, –∞ –Ω–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ. –ü–æ–≤–µ–¥–µ–Ω–∏–µ —Ö—Ä–∞–Ω–∏—Ç—Å—è –æ—Ç–¥–µ–ª—å–Ω–æ.</li>
<li>–û–±–µ —Å—Ç–æ—Ä–æ–Ω—ã (Invoker –∏ Receiver) –∑–Ω–∞—é—Ç —Ç–æ–ª—å–∫–æ –æ <strong>—Å—Ç—Ä—É–∫—Ç—É—Ä–µ –∫–æ–º–∞–Ω–¥—ã</strong>, –Ω–æ –Ω–µ –¥—Ä—É–≥ –æ –¥—Ä—É–≥–µ.</li>
<li>–ò—Å—Ç–æ—Ä–∏—è –∫–æ–º–∞–Ω–¥ –ø–æ–∑–≤–æ–ª—è–µ—Ç —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å <strong>undo/redo</strong>, <strong>–ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ</strong>, <strong>–æ—á–µ—Ä–µ–¥–∏</strong>, <strong>—Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—é —Å–∏—Å—Ç–µ–º</strong>.</li>
<li>–í TypeScript –ø—Ä–µ–¥–ø–æ—á—Ç–∏—Ç–µ–ª—å–Ω–µ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å <strong>–∞–Ω–µ–º–∏—á–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã</strong> –≤–º–µ—Å—Ç–æ –∫–ª–∞—Å—Å–æ–≤ ‚Äî —ç—Ç–æ —É–ø—Ä–æ—â–∞–µ—Ç —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—é –∏ –ø–µ—Ä–µ–¥–∞—á—É –¥–∞–Ω–Ω—ã—Ö.</li>
</ul>
<p>–≠—Ç–æ—Ç –ø–∞—Ç—Ç–µ—Ä–Ω —è–≤–ª—è–µ—Ç—Å—è —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–æ–º –¥–ª—è —Ç–∞–∫–∏—Ö –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã—Ö —Å—Ç–∏–ª–µ–π –∫–∞–∫ CQS, CQRS, Event Sourcing –∏ Saga, –∫–æ—Ç–æ—Ä—ã–µ —à–∏—Ä–æ–∫–æ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã—Ö —Å–∏—Å—Ç–µ–º–∞—Ö.</p>
<hr />
<blockquote>
<p>–°–ª–µ–¥—É—é—â–∞—è —á–∞—Å—Ç—å –ª–µ–∫—Ü–∏–∏: —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –ø–∞—Ç—Ç–µ—Ä–Ω–∞ Command –Ω–∞ JavaScript –Ω–∞ —Ç–æ–º –∂–µ –ø—Ä–∏–º–µ—Ä–µ.</p>
</blockquote>
<div style="break-before: page; page-break-before: always;"></div><h1 id="–ü–∞—Ç—Ç–µ—Ä–Ω-–ö–æ–º–∞–Ω–¥–∞-command--–ß–∞—Å—Ç—å-2-–†–µ–∞–ª–∏–∑–∞—Ü–∏—è-–Ω–∞-javascript"><a class="header" href="#–ü–∞—Ç—Ç–µ—Ä–Ω-–ö–æ–º–∞–Ω–¥–∞-command--–ß–∞—Å—Ç—å-2-–†–µ–∞–ª–∏–∑–∞—Ü–∏—è-–Ω–∞-javascript">–ü–∞—Ç—Ç–µ—Ä–Ω ¬´–ö–æ–º–∞–Ω–¥–∞¬ª (Command) ‚Äî –ß–∞—Å—Ç—å 2: –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –Ω–∞ JavaScript</a></h1>
<h2 id="–í–≤–µ–¥–µ–Ω–∏–µ-14"><a class="header" href="#–í–≤–µ–¥–µ–Ω–∏–µ-14">–í–≤–µ–¥–µ–Ω–∏–µ</a></h2>
<p>–ü–∞—Ç—Ç–µ—Ä–Ω <strong>–ö–æ–º–∞–Ω–¥–∞</strong> (GoF ‚Äî Gang of Four) –ø–æ–∑–≤–æ–ª—è–µ—Ç –æ–ø–∏—Å—ã–≤–∞—Ç—å –æ–ø–µ—Ä–∞—Ü–∏–∏ –¥–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω–æ, –≤ –≤–∏–¥–µ –æ–±—ä–µ–∫—Ç–æ–≤-—ç–∫–∑–µ–º–ø–ª—è—Ä–æ–≤. –≠—Ç–æ –æ—Å–æ–±–µ–Ω–Ω–æ –ø–æ–ª–µ–∑–Ω–æ –∫–æ–≥–¥–∞ –º—ã —Ä–∞–∑—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º:</p>
<ul>
<li>—Ç–µ–∫—Å—Ç–æ–≤—ã–µ –∏–ª–∏ –≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–µ —Ä–µ–¥–∞–∫—Ç–æ—Ä—ã (–∏—Å—Ç–æ—Ä–∏—è –¥–µ–π—Å—Ç–≤–∏–π, –æ—Ç–º–µ–Ω–∞/–ø–æ–≤—Ç–æ—Ä);</li>
<li>—ç–ª–µ–∫—Ç—Ä–æ–Ω–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã;</li>
<li>–±–∞–Ω–∫–æ–≤—Å–∫–∏–µ —Å–∏—Å—Ç–µ–º—ã, –≥–¥–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –Ω—É–∂–Ω–æ –∑–∞–ø–∏—Å—ã–≤–∞—Ç—å –≤ –ª–æ–≥ –∏ –ø—Ä–∏–º–µ–Ω—è—Ç—å –∏–ª–∏ –æ—Ç–∫–∞—Ç—ã–≤–∞—Ç—å –ø–æ –æ–¥–Ω–æ–π.</li>
</ul>
<p>–ü–∞—Ç—Ç–µ—Ä–Ω —Ç–µ—Å–Ω–æ —Å–≤—è–∑–∞–Ω —Å –ø—Ä–∏–Ω—Ü–∏–ø–∞–º–∏ <strong>CQS/CQRS</strong> –∏ <strong>Event Sourcing</strong>.</p>
<p>–í —ç—Ç–æ–π –ª–µ–∫—Ü–∏–∏ –º—ã –ø—Ä–æ–π–¥—ë–º –ø—É—Ç—å –æ—Ç –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–æ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —Å –∫–ª–∞—Å—Å–∞–º–∏ –¥–æ –∏–¥–∏–æ–º–∞—Ç–∏—á–Ω–æ–≥–æ JavaScript-—Å—Ç–∏–ª—è, –≥–¥–µ –∫–ª–∞—Å—Å–æ–≤ –º–∏–Ω–∏–º—É–º, –∞ –¥–∞–Ω–Ω—ã–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ –ø—Ä–æ—Å—Ç—ã—Ö —Å—Ç—Ä—É–∫—Ç—É—Ä–∞—Ö.</p>
<hr />
<h2 id="–ü—Ä–æ–±–ª–µ–º–∞-15"><a class="header" href="#–ü—Ä–æ–±–ª–µ–º–∞-15">–ü—Ä–æ–±–ª–µ–º–∞</a></h2>
<p>–ù–∞–º –Ω—É–∂–Ω–æ:</p>
<ol>
<li>–í—ã–ø–æ–ª–Ω—è—Ç—å –æ–ø–µ—Ä–∞—Ü–∏–∏ –Ω–∞–¥ –æ–±—ä–µ–∫—Ç–∞–º–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –∑–∞—á–∏—Å–ª—è—Ç—å –∏ —Å–ø–∏—Å—ã–≤–∞—Ç—å –¥–µ–Ω—å–≥–∏ —Å –±–∞–Ω–∫–æ–≤—Å–∫–æ–≥–æ —Å—á—ë—Ç–∞).</li>
<li>–•—Ä–∞–Ω–∏—Ç—å –∏—Å—Ç–æ—Ä–∏—é –≤—Å–µ—Ö –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π.</li>
<li>–ò–º–µ—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å <strong>–æ—Ç–º–µ–Ω—è—Ç—å (undo)</strong> –æ–ø–µ—Ä–∞—Ü–∏–∏.</li>
<li>–ò–º–µ—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å <strong>—Å–µ—Ä–∏–∞–ª–∏–∑–æ–≤–∞—Ç—å</strong> –∫–æ–º–∞–Ω–¥—ã ‚Äî –∑–∞–ø–∏—Å—ã–≤–∞—Ç—å –∏—Ö –≤ –ª–æ–≥, –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö –∏–ª–∏ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å –Ω–∞ –¥—Ä—É–≥–æ–π —Å–µ—Ä–≤–∏—Å.</li>
</ol>
<p>–ï—Å–ª–∏ –æ–ø–µ—Ä–∞—Ü–∏—é –æ–ø–∏—Å—ã–≤–∞–µ—Ç –ø—Ä–æ—Å—Ç–æ —Ñ—É–Ω–∫—Ü–∏—è, –µ—ë —Å–ª–æ–∂–Ω–æ —Ö—Ä–∞–Ω–∏—Ç—å, –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å –∏ –æ—Ç–º–µ–Ω—è—Ç—å. –ü–∞—Ç—Ç–µ—Ä–Ω –ö–æ–º–∞–Ω–¥–∞ —Ä–µ—à–∞–µ—Ç —ç—Ç—É –ø—Ä–æ–±–ª–µ–º—É, –ø—Ä–µ–≤—Ä–∞—â–∞—è –∫–∞–∂–¥—É—é –æ–ø–µ—Ä–∞—Ü–∏—é –≤ –æ–±—ä–µ–∫—Ç —Å —á—ë—Ç–∫–æ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º.</p>
<hr />
<h2 id="–†–µ—à–µ–Ω–∏–µ-8"><a class="header" href="#–†–µ—à–µ–Ω–∏–µ-8">–†–µ—à–µ–Ω–∏–µ</a></h2>
<p>–ü–∞—Ç—Ç–µ—Ä–Ω –≤–≤–æ–¥–∏—Ç —Å–ª–µ–¥—É—é—â–∏–µ —Ä–æ–ª–∏:</p>
<div class="table-wrapper"><table><thead><tr><th>–†–æ–ª—å</th><th>–û–ø–∏—Å–∞–Ω–∏–µ</th><th>–í –ø—Ä–∏–º–µ—Ä–µ</th></tr></thead><tbody>
<tr><td><strong>Command</strong></td><td>–ê–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–π –∫–ª–∞—Å—Å –∏–ª–∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∫–æ–º–∞–Ω–¥—ã</td><td><code>AccountCommand</code></td></tr>
<tr><td><strong>ConcreteCommand</strong></td><td>–ö–æ–Ω–∫—Ä–µ—Ç–Ω–∞—è –∫–æ–º–∞–Ω–¥–∞ —Å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–µ–π</td><td><code>Withdraw</code>, <code>Income</code></td></tr>
<tr><td><strong>Receiver / Target</strong></td><td>–û–±—ä–µ–∫—Ç, –Ω–∞–¥ –∫–æ—Ç–æ—Ä—ã–º –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –∫–æ–º–∞–Ω–¥–∞</td><td><code>Account</code></td></tr>
<tr><td><strong>Invoker</strong></td><td>–û–±—ä–µ–∫—Ç, –∫–æ—Ç–æ—Ä—ã–π —Ö—Ä–∞–Ω–∏—Ç –∏ –≤—ã–∑—ã–≤–∞–µ—Ç –∫–æ–º–∞–Ω–¥—ã</td><td><code>Bank</code></td></tr>
</tbody></table>
</div>
<p>–í JavaScript –∫–ª–∞—Å—Å—ã –º–æ–∂–Ω–æ —Å–æ—Ö—Ä–∞–Ω—è—Ç—å –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é, –ø–æ—ç—Ç–æ–º—É –≤–º–µ—Å—Ç–æ –¥–µ—Ä–µ–≤–∞ –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è –¥–ª—è —Å—Ç—Ä–∞—Ç–µ–≥–∏–π –≤—ã–±–æ—Ä–∞ —Ç–∏–ø–∞ –∫–æ–º–∞–Ω–¥—ã —á–∞—Å—Ç–æ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø—Ä–æ—Å—Ç–æ–π –∫–æ–ª–ª–µ–∫—Ü–∏–∏ (Map –∏–ª–∏ –æ–±—ä–µ–∫—Ç–∞).</p>
<hr />
<h2 id="–†–µ–∞–ª–∏–∑–∞—Ü–∏—è-4"><a class="header" href="#–†–µ–∞–ª–∏–∑–∞—Ü–∏—è-4">–†–µ–∞–ª–∏–∑–∞—Ü–∏—è</a></h2>
<h3 id="–ü—Ä–∏–º–µ—Ä-1-–ë–∞–∑–æ–≤–∞—è-–≤–µ—Ä—Å–∏—è-–≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ-–æ–ø–µ—Ä–∞—Ü–∏–π-—Å-–∏—Å—Ç–æ—Ä–∏–µ–π"><a class="header" href="#–ü—Ä–∏–º–µ—Ä-1-–ë–∞–∑–æ–≤–∞—è-–≤–µ—Ä—Å–∏—è-–≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ-–æ–ø–µ—Ä–∞—Ü–∏–π-—Å-–∏—Å—Ç–æ—Ä–∏–µ–π">–ü—Ä–∏–º–µ—Ä 1. –ë–∞–∑–æ–≤–∞—è –≤–µ—Ä—Å–∏—è: –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–π —Å –∏—Å—Ç–æ—Ä–∏–µ–π</a></h3>
<pre><code class="language-javascript">// –ê–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–π –∫–ª–∞—Å—Å –∫–æ–º–∞–Ω–¥—ã (—Ç–æ–ª—å–∫–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞)
class AccountCommand {
  constructor(account, amount) {
    this.account = account;
    this.amount = amount;
  }
  execute() {
    throw new Error('–ú–µ—Ç–æ–¥ execute() –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω');
  }
}

// –ö–æ–Ω–∫—Ä–µ—Ç–Ω–∞—è –∫–æ–º–∞–Ω–¥–∞: —Å–ø–∏—Å–∞–Ω–∏–µ
class Withdraw extends AccountCommand {
  execute() {
    this.account.balance -= this.amount;
  }
}

// –ö–æ–Ω–∫—Ä–µ—Ç–Ω–∞—è –∫–æ–º–∞–Ω–¥–∞: –∑–∞—á–∏—Å–ª–µ–Ω–∏–µ
class Income extends AccountCommand {
  execute() {
    this.account.balance += this.amount;
  }
}

// Receiver: –±–∞–Ω–∫–æ–≤—Å–∫–∏–π —Å—á—ë—Ç
class Account {
  constructor(name) {
    this.name = name;
    this.balance = 0;
  }
}

// Invoker: –±–∞–Ω–∫ —Ö—Ä–∞–Ω–∏—Ç –∏—Å—Ç–æ—Ä–∏—é –∫–æ–º–∞–Ω–¥
class Bank {
  constructor() {
    // Map: –∫–ª—é—á ‚Äî –≤—Ä–µ–º—è –æ–ø–µ—Ä–∞—Ü–∏–∏, –∑–Ω–∞—á–µ–Ω–∏–µ ‚Äî –∫–æ–º–∞–Ω–¥–∞
    this.commands = new Map();
  }

  operate(account, amount) {
    // –í—ã–±–∏—Ä–∞–µ–º —Ç–∏–ø –∫–æ–º–∞–Ω–¥—ã: —Å–ø–∏—Å–∞–Ω–∏–µ (&lt; 0) –∏–ª–∏ –∑–∞—á–∏—Å–ª–µ–Ω–∏–µ (&gt; 0)
    const CommandClass = amount &lt; 0 ? Withdraw : Income;
    const command = new CommandClass(account, Math.abs(amount));
    command.execute();
    this.commands.set(Date.now(), command);
  }

  showOperations() {
    console.table(
      [...this.commands.entries()].map(([time, cmd]) =&gt; ({
        time: new Date(time).toISOString(),
        account: cmd.account.name,
        type: cmd.constructor.name,
        amount: cmd.amount,
      }))
    );
  }
}

// –ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π –∫–æ–¥
const bank = new Bank();
const marcus = new Account('–ú–∞—Ä–∫ –ê–≤—Ä–µ–ª–∏–π');
const antoninus = new Account('–ê–Ω—Ç–æ–Ω–∏–Ω –ü–∏–π');

bank.operate(marcus, 1000);
bank.operate(marcus, -50);
bank.operate(antoninus, 500);
bank.operate(antoninus, -100);
bank.operate(antoninus, 150);

bank.showOperations();
console.log('–ë–∞–ª–∞–Ω—Å –ú–∞—Ä–∫–∞:', marcus.balance);       // 950
console.log('–ë–∞–ª–∞–Ω—Å –ê–Ω—Ç–æ–Ω–∏–Ω–∞:', antoninus.balance); // 550
</code></pre>
<blockquote>
<p>–û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ: –≤ –±—É—Ö–≥–∞–ª—Ç–µ—Ä–∏–∏ –≤—Å–µ —Å—É–º–º—ã —Ç—Ä–∞–¥–∏—Ü–∏–æ–Ω–Ω–æ —Ö—Ä–∞–Ω—è—Ç—Å—è –∫–∞–∫ –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã–µ —á–∏—Å–ª–∞, –∞ —Ç–∏–ø –æ–ø–µ—Ä–∞—Ü–∏–∏ (—Å–ø–∏—Å–∞–Ω–∏–µ/–∑–∞—á–∏—Å–ª–µ–Ω–∏–µ) –≤—ã–Ω–æ—Å–∏—Ç—Å—è –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–µ –ø–æ–ª–µ.</p>
</blockquote>
<hr />
<h3 id="–ü—Ä–∏–º–µ—Ä-2-–î–æ–±–∞–≤–ª—è–µ–º-undo--–æ—Ç–º–µ–Ω–∞-–æ–ø–µ—Ä–∞—Ü–∏–π"><a class="header" href="#–ü—Ä–∏–º–µ—Ä-2-–î–æ–±–∞–≤–ª—è–µ–º-undo--–æ—Ç–º–µ–Ω–∞-–æ–ø–µ—Ä–∞—Ü–∏–π">–ü—Ä–∏–º–µ—Ä 2. –î–æ–±–∞–≤–ª—è–µ–º Undo ‚Äî –æ—Ç–º–µ–Ω–∞ –æ–ø–µ—Ä–∞—Ü–∏–π</a></h3>
<pre><code class="language-javascript">class AccountCommand {
  constructor(account, amount) {
    this.account = account;
    this.amount = amount;
  }
}

class Withdraw extends AccountCommand {
  execute() { this.account.balance -= this.amount; }
  undo()    { this.account.balance += this.amount; }
}

class Income extends AccountCommand {
  execute() { this.account.balance += this.amount; }
  undo()    { this.account.balance -= this.amount; }
}

class Account {
  constructor(name) {
    this.name = name;
    this.balance = 0;
  }
}

class Bank {
  constructor() {
    this.commands = [];
  }

  operate(account, amount) {
    const CommandClass = amount &lt; 0 ? Withdraw : Income;
    const command = new CommandClass(account, Math.abs(amount));
    command.execute();
    this.commands.push(command);
  }

  // –û—Ç–º–µ–Ω–∞ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö N –æ–ø–µ—Ä–∞—Ü–∏–π
  undoLast(count = 1) {
    for (let i = 0; i &lt; count; i++) {
      const command = this.commands.pop();
      if (command) command.undo();
    }
  }

  showOperations() {
    console.table(
      this.commands.map((cmd) =&gt; ({
        account: cmd.account.name,
        type: cmd.constructor.name,
        amount: cmd.amount,
      }))
    );
  }
}

const bank = new Bank();
const marcus = new Account('–ú–∞—Ä–∫ –ê–≤—Ä–µ–ª–∏–π');
const antoninus = new Account('–ê–Ω—Ç–æ–Ω–∏–Ω –ü–∏–π');

bank.operate(marcus, 1000);
bank.operate(marcus, -50);
bank.operate(antoninus, 500);
bank.operate(antoninus, -100);
bank.operate(antoninus, 150);

console.log('--- –î–æ –æ—Ç–º–µ–Ω—ã ---');
bank.showOperations();
console.log('–ë–∞–ª–∞–Ω—Å –ú–∞—Ä–∫–∞:', marcus.balance);       // 950
console.log('–ë–∞–ª–∞–Ω—Å –ê–Ω—Ç–æ–Ω–∏–Ω–∞:', antoninus.balance); // 550

bank.undoLast(2);

console.log('--- –ü–æ—Å–ª–µ –æ—Ç–º–µ–Ω—ã 2 –æ–ø–µ—Ä–∞—Ü–∏–π ---');
bank.showOperations();
console.log('–ë–∞–ª–∞–Ω—Å –ú–∞—Ä–∫–∞:', marcus.balance);
console.log('–ë–∞–ª–∞–Ω—Å –ê–Ω—Ç–æ–Ω–∏–Ω–∞:', antoninus.balance);
</code></pre>
<p>–û–ø–µ—Ä–∞—Ü–∏–∏ <code>execute</code> –∏ <code>undo</code> ‚Äî –∑–µ—Ä–∫–∞–ª—å–Ω—ã–µ: —á—Ç–æ –æ–¥–Ω–∞ –ø—Ä–∏–±–∞–≤–ª—è–µ—Ç, –¥—Ä—É–≥–∞—è –æ—Ç–Ω–∏–º–∞–µ—Ç.</p>
<hr />
<h3 id="–ü—Ä–∏–º–µ—Ä-3-–ê–Ω–µ–º–∏—á–Ω–∞—è-–∫–æ–º–∞–Ω–¥–∞-–æ—Ç–¥–µ–ª—è–µ–º-–¥–∞–Ω–Ω—ã–µ-–æ—Ç-–ª–æ–≥–∏–∫–∏"><a class="header" href="#–ü—Ä–∏–º–µ—Ä-3-–ê–Ω–µ–º–∏—á–Ω–∞—è-–∫–æ–º–∞–Ω–¥–∞-–æ—Ç–¥–µ–ª—è–µ–º-–¥–∞–Ω–Ω—ã–µ-–æ—Ç-–ª–æ–≥–∏–∫–∏">–ü—Ä–∏–º–µ—Ä 3. –ê–Ω–µ–º–∏—á–Ω–∞—è –∫–æ–º–∞–Ω–¥–∞: –æ—Ç–¥–µ–ª—è–µ–º –¥–∞–Ω–Ω—ã–µ –æ—Ç –ª–æ–≥–∏–∫–∏</a></h3>
<p>–ß—Ç–æ–±—ã –∫–æ–º–∞–Ω–¥—ã –º–æ–∂–Ω–æ –±—ã–ª–æ –ª–µ–≥–∫–æ <strong>—Å–µ—Ä–∏–∞–ª–∏–∑–æ–≤–∞—Ç—å</strong> (JSON, –ª–æ–≥, –ë–î), —É–±–∏—Ä–∞–µ–º –∏–∑ –Ω–∏—Ö –º–µ—Ç–æ–¥—ã <code>execute</code>/<code>undo</code>. –ö–æ–º–∞–Ω–¥–∞ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è —á–∏—Å—Ç–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π –¥–∞–Ω–Ω—ã—Ö (<strong>anemic object</strong>).</p>
<pre><code class="language-javascript">// –ê–Ω–µ–º–∏—á–Ω–∞—è –∫–æ–º–∞–Ω–¥–∞ ‚Äî —Ç–æ–ª—å–∫–æ –¥–∞–Ω–Ω—ã–µ, –Ω–∏–∫–∞–∫–æ–π –ª–æ–≥–∏–∫–∏
function createCommand(operation, accountName, amount) {
  return { operation, accountName, amount };
}

// –ö–æ–ª–ª–µ–∫—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ –æ–ø–µ—Ä–∞—Ü–∏–π (–∞–Ω–∞–ª–æ–≥ —Å—Ç—Ä–∞—Ç–µ–≥–∏–π)
const operations = {
  withdraw: {
    execute: (account, amount) =&gt; { account.balance -= amount; },
    undo:    (account, amount) =&gt; { account.balance += amount; },
  },
  income: {
    execute: (account, amount) =&gt; { account.balance += amount; },
    undo:    (account, amount) =&gt; { account.balance -= amount; },
  },
};

class Account {
  constructor(name) {
    this.name = name;
    this.balance = 0;
  }
}

class Bank {
  constructor() {
    this.accounts = new Map();
    this.commands = [];
  }

  addAccount(account) {
    this.accounts.set(account.name, account);
  }

  getAccount(name) {
    return this.accounts.get(name);
  }

  operate(command) {
    const { operation, accountName, amount } = command;
    const handler = operations[operation];
    if (!handler) throw new Error(`–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è: ${operation}`);

    const account = this.getAccount(accountName);
    if (!account) throw new Error(`–ê–∫–∫–∞—É–Ω—Ç –Ω–µ –Ω–∞–π–¥–µ–Ω: ${accountName}`);

    handler.execute(account, amount);
    this.commands.push(command);
  }

  undoLast(count = 1) {
    for (let i = 0; i &lt; count; i++) {
      const command = this.commands.pop();
      if (!command) break;
      const { operation, accountName, amount } = command;
      const account = this.getAccount(accountName);
      operations[operation].undo(account, amount);
    }
  }

  showOperations() {
    // –ö–æ–º–∞–Ω–¥—ã ‚Äî –ø—Ä–æ—Å—Ç–æ –º–∞—Å—Å–∏–≤ –æ–±—ä–µ–∫—Ç–æ–≤, console.table —Ä–∞–±–æ—Ç–∞–µ—Ç –∏–¥–µ–∞–ª—å–Ω–æ
    console.table(this.commands);
  }
}

// –ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π –∫–æ–¥
const bank = new Bank();
const marcus = new Account('–ú–∞—Ä–∫ –ê–≤—Ä–µ–ª–∏–π');
const antoninus = new Account('–ê–Ω—Ç–æ–Ω–∏–Ω –ü–∏–π');
bank.addAccount(marcus);
bank.addAccount(antoninus);

bank.operate(createCommand('income',   '–ú–∞—Ä–∫ –ê–≤—Ä–µ–ª–∏–π',   1000));
bank.operate(createCommand('withdraw', '–ú–∞—Ä–∫ –ê–≤—Ä–µ–ª–∏–π',     50));
bank.operate(createCommand('income',   '–ê–Ω—Ç–æ–Ω–∏–Ω –ü–∏–π',     500));
bank.operate(createCommand('withdraw', '–ê–Ω—Ç–æ–Ω–∏–Ω –ü–∏–π',     100));
bank.operate(createCommand('income',   '–ê–Ω—Ç–æ–Ω–∏–Ω –ü–∏–π',     150));

console.log('--- –í—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ ---');
bank.showOperations();
console.log('–ë–∞–ª–∞–Ω—Å –ú–∞—Ä–∫–∞:', marcus.balance);       // 950
console.log('–ë–∞–ª–∞–Ω—Å –ê–Ω—Ç–æ–Ω–∏–Ω–∞:', antoninus.balance); // 550

bank.undoLast(2);

console.log('--- –ü–æ—Å–ª–µ –æ—Ç–º–µ–Ω—ã 2 –æ–ø–µ—Ä–∞—Ü–∏–π ---');
bank.showOperations();
</code></pre>
<p>–¢–µ–ø–µ—Ä—å –∫–æ–º–∞–Ω–¥—ã –º–æ–∂–Ω–æ –ª–µ–≥–∫–æ —Å–æ—Ö—Ä–∞–Ω—è—Ç—å –∫–∞–∫ JSON –∏ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç—å –Ω–∞ –¥—Ä—É–≥–æ–º —Å–µ—Ä–≤–∏—Å–µ ‚Äî —ç—Ç–æ —à–∞–≥ –≤ —Å—Ç–æ—Ä–æ–Ω—É <strong>Event Sourcing</strong>.</p>
<hr />
<h3 id="–ü—Ä–∏–º–µ—Ä-4-–í–∞–ª–∏–¥–∞—Ü–∏—è-–∫–æ–º–∞–Ω–¥-–ø—Ä–æ–≤–µ—Ä–∫–∞-–ø–µ—Ä–µ–¥-–≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ–º"><a class="header" href="#–ü—Ä–∏–º–µ—Ä-4-–í–∞–ª–∏–¥–∞—Ü–∏—è-–∫–æ–º–∞–Ω–¥-–ø—Ä–æ–≤–µ—Ä–∫–∞-–ø–µ—Ä–µ–¥-–≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ–º">–ü—Ä–∏–º–µ—Ä 4. –í–∞–ª–∏–¥–∞—Ü–∏—è –∫–æ–º–∞–Ω–¥: –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–µ—Ä–µ–¥ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ–º</a></h3>
<pre><code class="language-javascript">const operations = {
  withdraw: {
    check:   (account, amount) =&gt; account.balance &gt;= amount,
    execute: (account, amount) =&gt; { account.balance -= amount; },
    undo:    (account, amount) =&gt; { account.balance += amount; },
  },
  income: {
    check:   (_account, _amount) =&gt; true,
    execute: (account, amount) =&gt; { account.balance += amount; },
    undo:    (account, amount) =&gt; { account.balance -= amount; },
  },
};

class Bank {
  constructor() {
    this.accounts = new Map();
    this.commands = [];
  }

  addAccount(account) {
    this.accounts.set(account.name, account);
  }

  getAccount(name) {
    return this.accounts.get(name);
  }

  operate({ operation, accountName, amount }) {
    const handler = operations[operation];
    if (!handler) throw new Error(`–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è: ${operation}`);

    const account = this.getAccount(accountName);
    if (!account) throw new Error(`–ê–∫–∫–∞—É–Ω—Ç –Ω–µ –Ω–∞–π–¥–µ–Ω: ${accountName}`);

    const allowed = handler.check(account, amount);
    if (!allowed) {
      throw new Error(
        JSON.stringify({
          message: `–û–ø–µ—Ä–∞—Ü–∏—è "${operation}" –∑–∞–ø—Ä–µ—â–µ–Ω–∞ –¥–ª—è –∞–∫–∫–∞—É–Ω—Ç–∞ "${accountName}"`,
          balance: account.balance,
          requestedAmount: amount,
        })
      );
    }

    handler.execute(account, amount);
    this.commands.push({ operation, accountName, amount });
  }
}

// –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è –æ—à–∏–±–∫–∏ –ø—Ä–∏ –Ω–µ–¥–æ—Å—Ç–∞—Ç–∫–µ —Å—Ä–µ–¥—Å—Ç–≤
const bank = new Bank();
const marcus = new Account('–ú–∞—Ä–∫ –ê–≤—Ä–µ–ª–∏–π');
bank.addAccount(marcus);

bank.operate({ operation: 'income',   accountName: '–ú–∞—Ä–∫ –ê–≤—Ä–µ–ª–∏–π', amount: 500 });
try {
  bank.operate({ operation: 'withdraw', accountName: '–ú–∞—Ä–∫ –ê–≤—Ä–µ–ª–∏–π', amount: 10000 }); // –û—à–∏–±–∫–∞!
} catch (e) {
  console.error('–û—à–∏–±–∫–∞ –æ–ø–µ—Ä–∞—Ü–∏–∏:', e.message);
}
console.log('–ë–∞–ª–∞–Ω—Å –ú–∞—Ä–∫–∞:', marcus.balance); // 500 ‚Äî –æ–ø–µ—Ä–∞—Ü–∏—è –Ω–µ –ø—Ä–æ—à–ª–∞
</code></pre>
<hr />
<h3 id="–ü—Ä–∏–º–µ—Ä-5-javascript-way-–º–∏–Ω–∏–º—É–º-–∫–ª–∞—Å—Å–æ–≤"><a class="header" href="#–ü—Ä–∏–º–µ—Ä-5-javascript-way-–º–∏–Ω–∏–º—É–º-–∫–ª–∞—Å—Å–æ–≤">–ü—Ä–∏–º–µ—Ä 5. JavaScript Way: –º–∏–Ω–∏–º—É–º –∫–ª–∞—Å—Å–æ–≤</a></h3>
<p>–í JavaScript –Ω–µ—Ç –Ω—É–∂–¥—ã —Å–æ–∑–¥–∞–≤–∞—Ç—å –∫–ª–∞—Å—Å—ã —Ç–∞–º, –≥–¥–µ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –æ–±—ã—á–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π –∏ –æ–±—ä–µ–∫—Ç–æ–≤. –ò—Ç–æ–≥–æ–≤–∞—è ¬´JS-way¬ª –≤–µ—Ä—Å–∏—è:</p>
<pre><code class="language-javascript">// –ö–æ–ª–ª–µ–∫—Ü–∏—è –æ–ø–µ—Ä–∞—Ü–∏–π ‚Äî –æ–±—ä–µ–∫—Ç —Å –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞–º–∏
const operations = {
  withdraw: {
    check:   (account, amount) =&gt; account.balance &gt;= amount,
    execute: (account, amount) =&gt; { account.balance -= amount; },
    undo:    (account, amount) =&gt; { account.balance += amount; },
  },
  income: {
    check:   () =&gt; true,
    execute: (account, amount) =&gt; { account.balance += amount; },
    undo:    (account, amount) =&gt; { account.balance -= amount; },
  },
};

// –ê–∫–∫–∞—É–Ω—Ç—ã ‚Äî –æ–±—ã—á–Ω—ã–π Map, –±–µ–∑ –∫–ª–∞—Å—Å–∞
const accs = new Map();

function addAccount(name) {
  accs.set(name, { name, balance: 0 });
}

function getAccount(name) {
  return accs.get(name);
}

// –ò—Å—Ç–æ—Ä–∏—è –∫–æ–º–∞–Ω–¥ ‚Äî –º–∞—Å—Å–∏–≤ –ø—Ä–æ—Å—Ç—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤
const commands = [];

// Invoker ‚Äî —Ñ—É–Ω–∫—Ü–∏–∏ –≤–º–µ—Å—Ç–æ –º–µ—Ç–æ–¥–æ–≤ –∫–ª–∞—Å—Å–∞ Bank
function operate(operation, accountName, amount) {
  const handler = operations[operation];
  if (!handler) throw new Error(`–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è: ${operation}`);

  const account = getAccount(accountName);
  if (!account) throw new Error(`–ê–∫–∫–∞—É–Ω—Ç –Ω–µ –Ω–∞–π–¥–µ–Ω: ${accountName}`);

  if (!handler.check(account, amount)) {
    throw new Error(
      JSON.stringify({ message: '–û–ø–µ—Ä–∞—Ü–∏—è –∑–∞–ø—Ä–µ—â–µ–Ω–∞', accountName, operation, amount })
    );
  }

  handler.execute(account, amount);
  commands.push({ operation, accountName, amount });
}

function undoLast(count = 1) {
  for (let i = 0; i &lt; count; i++) {
    const cmd = commands.pop();
    if (!cmd) break;
    const account = getAccount(cmd.accountName);
    operations[cmd.operation].undo(account, cmd.amount);
  }
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
addAccount('–ú–∞—Ä–∫ –ê–≤—Ä–µ–ª–∏–π');
addAccount('–ê–Ω—Ç–æ–Ω–∏–Ω –ü–∏–π');

operate('income',   '–ú–∞—Ä–∫ –ê–≤—Ä–µ–ª–∏–π',  1000);
operate('withdraw', '–ú–∞—Ä–∫ –ê–≤—Ä–µ–ª–∏–π',    50);
operate('income',   '–ê–Ω—Ç–æ–Ω–∏–Ω –ü–∏–π',    500);
operate('withdraw', '–ê–Ω—Ç–æ–Ω–∏–Ω –ü–∏–π',    100);
operate('income',   '–ê–Ω—Ç–æ–Ω–∏–Ω –ü–∏–π',    150);

console.log('--- –í—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ ---');
console.table(commands);
console.log('–ë–∞–ª–∞–Ω—Å –ú–∞—Ä–∫–∞:', getAccount('–ú–∞—Ä–∫ –ê–≤—Ä–µ–ª–∏–π').balance);   // 950
console.log('–ë–∞–ª–∞–Ω—Å –ê–Ω—Ç–æ–Ω–∏–Ω–∞:', getAccount('–ê–Ω—Ç–æ–Ω–∏–Ω –ü–∏–π').balance); // 550

undoLast(2);

console.log('--- –ü–æ—Å–ª–µ –æ—Ç–º–µ–Ω—ã 2 –æ–ø–µ—Ä–∞—Ü–∏–π ---');
console.table(commands);
console.log('–ë–∞–ª–∞–Ω—Å –ú–∞—Ä–∫–∞:', getAccount('–ú–∞—Ä–∫ –ê–≤—Ä–µ–ª–∏–π').balance);
console.log('–ë–∞–ª–∞–Ω—Å –ê–Ω—Ç–æ–Ω–∏–Ω–∞:', getAccount('–ê–Ω—Ç–æ–Ω–∏–Ω –ü–∏–π').balance);
</code></pre>
<p>–ü–∞—Ç—Ç–µ—Ä–Ω –æ—Å—Ç–∞–ª—Å—è —Ç–µ–º –∂–µ —Å–∞–º—ã–º ‚Äî –∏–∑–º–µ–Ω–∏–ª—Å—è –ª–∏—à—å —Å–ø–æ—Å–æ–± –µ–≥–æ –≤—ã—Ä–∞–∂–µ–Ω–∏—è. –í JavaScript —Ñ—É–Ω–∫—Ü–∏–∏ —è–≤–ª—è—é—Ç—Å—è –æ–±—ä–µ–∫—Ç–∞–º–∏ –ø–µ—Ä–≤–æ–≥–æ –∫–ª–∞—Å—Å–∞, –∞ –∫–æ–ª–ª–µ–∫—Ü–∏–∏ (Map, Array) ‚Äî —É–¥–æ–±–Ω—ã–º –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–º –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –∫–æ–º–∞–Ω–¥ –∏ –∏—Ö –∏—Å—Ç–æ—Ä–∏–∏ –±–µ–∑ –∏–∑–±—ã—Ç–æ—á–Ω—ã—Ö –∫–ª–∞—Å—Å–æ–≤.</p>
<hr />
<h2 id="–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ-1"><a class="header" href="#–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ-1">–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ</a></h2>
<p>–ü–∞—Ç—Ç–µ—Ä–Ω –ö–æ–º–∞–Ω–¥–∞ –ø—Ä–∏–º–µ–Ω—è—é—Ç –∫–æ–≥–¥–∞:</p>
<ul>
<li>–ù—É–∂–Ω–∞ <strong>–∏—Å—Ç–æ—Ä–∏—è –æ–ø–µ—Ä–∞—Ü–∏–π</strong> —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é –æ—Ç–º–µ–Ω—ã –∏ –ø–æ–≤—Ç–æ—Ä–∞ (—Ç–µ–∫—Å—Ç–æ–≤—ã–µ/–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–µ —Ä–µ–¥–∞–∫—Ç–æ—Ä—ã, —ç–ª–µ–∫—Ç—Ä–æ–Ω–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã).</li>
<li>–ù—É–∂–Ω–æ <strong>–ª–æ–≥–∏—Ä–æ–≤–∞—Ç—å –æ–ø–µ—Ä–∞—Ü–∏–∏</strong> ‚Äî –∑–∞–ø–∏—Å—ã–≤–∞—Ç—å –∏—Ö –≤ —Ñ–∞–π–ª, –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö –∏–ª–∏ –æ—á–µ—Ä–µ–¥—å —Å–æ–æ–±—â–µ–Ω–∏–π.</li>
<li>–ù—É–∂–Ω–æ <strong>–ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å –æ–ø–µ—Ä–∞—Ü–∏–∏</strong> –º–µ–∂–¥—É —Å–µ—Ä–≤–∏—Å–∞–º–∏ –∏ –ø—Ä–∏–º–µ–Ω—è—Ç—å –∏—Ö –≤ –¥—Ä—É–≥–æ–º –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ (–º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å—ã, –æ—á–µ—Ä–µ–¥–∏ –∑–∞–¥–∞—á).</li>
<li>–ù—É–∂–Ω–∞ <strong>—Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–æ–Ω–Ω–æ—Å—Ç—å</strong> ‚Äî –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –æ—Ç–∫–∞—Ç–∏—Ç—å –≥—Ä—É–ø–ø—É –æ–ø–µ—Ä–∞—Ü–∏–π –ø—Ä–∏ –æ—à–∏–±–∫–µ.</li>
<li>–†–µ–∞–ª–∏–∑—É–µ—Ç—Å—è <strong>Event Sourcing</strong> ‚Äî —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –ø–æ–≤—Ç–æ—Ä–Ω—ã–º –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ–º —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω—ã—Ö –∫–æ–º–∞–Ω–¥.</li>
</ul>
<p>–°–≤—è–∑–∞–Ω–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã –∏ –ø—Ä–∏–Ω—Ü–∏–ø—ã:</p>
<ul>
<li><strong>CQS (Command Query Separation)</strong> ‚Äî —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –∫–æ–º–∞–Ω–¥ (–∏–∑–º–µ–Ω—è—é—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ) –∏ –∑–∞–ø—Ä–æ—Å–æ–≤ (—á–∏—Ç–∞—é—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ).</li>
<li><strong>CQRS</strong> ‚Äî –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–æ–µ —Ä–∞–∑–≤–∏—Ç–∏–µ CQS.</li>
<li><strong>Event Sourcing</strong> ‚Äî —Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–∏ —Å–æ–±—ã—Ç–∏–π –≤–º–µ—Å—Ç–æ —Ç–µ–∫—É—â–µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è.</li>
<li><strong>Strategy</strong> ‚Äî —Å—Ö–æ–∂–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞, –Ω–æ –°—Ç—Ä–∞—Ç–µ–≥–∏—è –æ–ø–∏—Å—ã–≤–∞–µ—Ç –∞–ª–≥–æ—Ä–∏—Ç–º, –∞ –ö–æ–º–∞–Ω–¥–∞ ‚Äî –æ–ø–µ—Ä–∞—Ü–∏—é —Å –∏—Å—Ç–æ—Ä–∏–µ–π.</li>
</ul>
<hr />
<h2 id="–ò—Ç–æ–≥-1"><a class="header" href="#–ò—Ç–æ–≥-1">–ò—Ç–æ–≥</a></h2>
<p>–í —Ö–æ–¥–µ –ª–µ–∫—Ü–∏–∏ –º—ã –ø—Ä–æ—à–ª–∏ –ø—É—Ç—å —ç–≤–æ–ª—é—Ü–∏–∏ –ø–∞—Ç—Ç–µ—Ä–Ω–∞ –ö–æ–º–∞–Ω–¥–∞ –≤ —à–µ—Å—Ç—å —à–∞–≥–æ–≤:</p>
<div class="table-wrapper"><table><thead><tr><th>–®–∞–≥</th><th>–ß—Ç–æ –¥–æ–±–∞–≤–∏–ª–∏</th></tr></thead><tbody>
<tr><td>1</td><td>–ë–∞–∑–æ–≤—ã–µ –∫–æ–º–∞–Ω–¥—ã —Å <code>execute</code>, –∏—Å—Ç–æ—Ä–∏—è –æ–ø–µ—Ä–∞—Ü–∏–π</td></tr>
<tr><td>2</td><td>–ú–µ—Ç–æ–¥ <code>undo</code> ‚Äî –æ—Ç–º–µ–Ω–∞ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö N –æ–ø–µ—Ä–∞—Ü–∏–π</td></tr>
<tr><td>3</td><td>–ê–Ω–µ–º–∏—á–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã (—á–∏—Å—Ç—ã–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö), –ª–æ–≥–∏–∫–∞ –≤—ã–Ω–µ—Å–µ–Ω–∞ –≤ –∫–æ–ª–ª–µ–∫—Ü–∏—é –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤</td></tr>
<tr><td>4</td><td>–ö–æ–ª–ª–µ–∫—Ü–∏—è –∞–∫–∫–∞—É–Ω—Ç–æ–≤ –≤ –±–∞–Ω–∫–µ, —Ä–∞–∑—Ä—ã–≤ –ø—Ä—è–º–æ–π —Å—Å—ã–ª–∫–∏ –∫–æ–º–∞–Ω–¥—ã –Ω–∞ –æ–±—ä–µ–∫—Ç</td></tr>
<tr><td>5</td><td>–í–∞–ª–∏–¥–∞—Ü–∏—è –∫–æ–º–∞–Ω–¥ (<code>check</code>) –∏ –≤—ã–±—Ä–æ—Å –æ—à–∏–±–∫–∏ —Å –¥–µ—Ç–∞–ª—è–º–∏ –≤ JSON</td></tr>
<tr><td>6</td><td>JavaScript Way: —É–±—Ä–∞–Ω—ã –ª–∏—à–Ω–∏–µ –∫–ª–∞—Å—Å—ã, –≤—Å—ë –∑–∞–º–µ–Ω–µ–Ω–æ —Ñ—É–Ω–∫—Ü–∏—è–º–∏ –∏ –∫–æ–ª–ª–µ–∫—Ü–∏—è–º–∏</td></tr>
</tbody></table>
</div>
<p><strong>–ö–ª—é—á–µ–≤–æ–π –≤—ã–≤–æ–¥:</strong> –ø–∞—Ç—Ç–µ—Ä–Ω ‚Äî —ç—Ç–æ –Ω–µ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–ª–∞—Å—Å–æ–≤, –∞ —Ä–µ—à–∞–µ–º–∞—è –∑–∞–¥–∞—á–∞. –í JavaScript –∑–∞ —Å—á—ë—Ç —Ñ—É–Ω–∫—Ü–∏–π –ø–µ—Ä–≤–æ–≥–æ –∫–ª–∞—Å—Å–∞ –∏ –≥–∏–±–∫–∏—Ö –∫–æ–ª–ª–µ–∫—Ü–∏–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –ø–æ–ª—É—á–∞–µ—Ç—Å—è –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ –∫–æ–º–ø–∞–∫—Ç–Ω–µ–µ –∫–∞–Ω–æ–Ω–∏—á–µ—Å–∫–æ–≥–æ –æ–±—ä–µ–∫—Ç–Ω–æ-–æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –≤–∞—Ä–∏–∞–Ω—Ç–∞, –Ω–æ –ø—Ä–∏ —ç—Ç–æ–º —Ä–µ—à–∞–µ—Ç —Ç—É –∂–µ –∑–∞–¥–∞—á—É –∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –≤—Å–µ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –ø–∞—Ç—Ç–µ—Ä–Ω–∞.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="–ü–∞—Ç—Ç–µ—Ä–Ω-–ò–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä-interpreter--–ß–∞—Å—Ç—å-1-ast-dsl-lisp"><a class="header" href="#–ü–∞—Ç—Ç–µ—Ä–Ω-–ò–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä-interpreter--–ß–∞—Å—Ç—å-1-ast-dsl-lisp">–ü–∞—Ç—Ç–µ—Ä–Ω ¬´–ò–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä¬ª (Interpreter) ‚Äî –ß–∞—Å—Ç—å 1: AST, DSL, LISP</a></h1>
<blockquote>
<p>–õ–µ–∫—Ü–∏—è –ø–æ –∫—É—Ä—Å—É ¬´–ü–∞—Ç—Ç–µ—Ä–Ω—ã –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è GoF¬ª.
–¢–µ–º–∞: –¥–æ–º–µ–Ω–Ω—ã–µ —è–∑—ã–∫–∏ (DSL), –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω–æ–µ —Å–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–æ–µ –¥–µ—Ä–µ–≤–æ (AST),
—è–∑—ã–∫ LISP –∏ –ø–æ–≤–µ–¥–µ–Ω—á–µ—Å–∫–∏–π –ø–∞—Ç—Ç–µ—Ä–Ω Interpreter –∏–∑ ¬´–ë–∞–Ω–¥—ã —á–µ—Ç—ã—Ä—ë—Ö¬ª.</p>
</blockquote>
<hr />
<h2 id="–í–≤–µ–¥–µ–Ω–∏–µ-15"><a class="header" href="#–í–≤–µ–¥–µ–Ω–∏–µ-15">–í–≤–µ–¥–µ–Ω–∏–µ</a></h2>
<p>–í —ç—Ç–æ–π –ª–µ–∫—Ü–∏–∏ –º—ã —Ä–∞–∑–±–µ—Ä—ë–º –ø–æ–Ω—è—Ç–∏–µ <strong>–¥–æ–º–µ–Ω–Ω–æ–≥–æ —è–∑—ã–∫–∞ (DSL ‚Äî Domain-Specific Language)</strong> –∏ –ø–æ—Å–º–æ—Ç—Ä–∏–º –Ω–∞ –Ω–µ—Å–∫–æ–ª—å–∫–æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö –ø—Ä–∏–º–µ—Ä–æ–≤ —Ç–∞–∫–∏—Ö —è–∑—ã–∫–æ–≤:</p>
<ul>
<li><strong>LISP</strong> ‚Äî –æ–¥–∏–Ω –∏–∑ —Å—Ç–∞—Ä–µ–π—à–∏—Ö –∏ —Å–∞–º—ã—Ö —ç–ª–µ–≥–∞–Ω—Ç–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã—Ö —è–∑—ã–∫–æ–≤;</li>
<li><strong>MetaSequoia</strong> ‚Äî –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π DSL —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∞ –¥–ª—è –æ–ø–∏—Å–∞–Ω–∏—è —Å—Ö–µ–º –¥–∞–Ω–Ω—ã—Ö, API –∏ —ç–∫—Ä–∞–Ω–Ω—ã—Ö —Ñ–æ—Ä–º;</li>
<li>DSL –¥–ª—è –æ–ø–∏—Å–∞–Ω–∏—è <strong>–±–∏–∑–Ω–µ—Å-–ø—Ä–æ—Ü–µ—Å—Å–æ–≤</strong> –Ω–∞ –±–∞–∑–µ Markdown;</li>
<li>DSL –¥–ª—è <strong>—ç–ª–µ–∫—Ç—Ä–æ–Ω–Ω—ã—Ö —Ç–∞–±–ª–∏—Ü</strong> (—Ñ–æ—Ä–º—É–ª—å–Ω—ã–π –¥–≤–∏–∂–æ–∫ –ø–æ–≤–µ—Ä—Ö JavaScript);</li>
<li>DSL –¥–ª—è –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è <strong>SQL-–∑–∞–ø—Ä–æ—Å–æ–≤</strong> —á–µ—Ä–µ–∑ —à–∞–±–ª–æ–Ω–Ω—ã–µ —Å—Ç—Ä–æ–∫–∏ –∏ query-builder.</li>
</ul>
<p>–í—Å–µ —ç—Ç–∏ —è–∑—ã–∫–∏ –æ–±—ä–µ–¥–∏–Ω—è–µ—Ç –æ–¥–Ω–æ: –∑–∞ –Ω–∏–º–∏ —Å—Ç–æ–∏—Ç –ø–æ–≤–µ–¥–µ–Ω—á–µ—Å–∫–∏–π –ø–∞—Ç—Ç–µ—Ä–Ω <strong>Interpreter</strong> (¬´–ò–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä¬ª) –∏–∑ –∫–Ω–∏–≥–∏ ¬´–ë–∞–Ω–¥—ã —á–µ—Ç—ã—Ä—ë—Ö¬ª (GoF). –í —Å–ª–µ–¥—É—é—â–µ–π —á–∞—Å—Ç–∏ –ª–µ–∫—Ü–∏–∏ –º—ã —Ä–µ–∞–ª–∏–∑—É–µ–º –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä LISP –≥–ª—É–±–æ–∫–æ –∏ –ø–æ–¥—Ä–æ–±–Ω–æ.</p>
<hr />
<h2 id="–ß—Ç–æ-—Ç–∞–∫–æ–µ-dsl"><a class="header" href="#–ß—Ç–æ-—Ç–∞–∫–æ–µ-dsl">–ß—Ç–æ —Ç–∞–∫–æ–µ DSL</a></h2>
<p><strong>DSL (Domain-Specific Language)</strong> ‚Äî —ç—Ç–æ —è–∑—ã–∫ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è –∏–ª–∏ —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏, –∑–∞—Ç–æ—á–µ–Ω–Ω—ã–π –ø–æ–¥ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—É—é –ø—Ä–µ–¥–º–µ—Ç–Ω—É—é –æ–±–ª–∞—Å—Ç—å. –í –æ—Ç–ª–∏—á–∏–µ –æ—Ç —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã—Ö —è–∑—ã–∫–æ–≤ (JavaScript, Python, Java), DSL:</p>
<ul>
<li>–≤—ã—Ä–∞–∂–∞–µ—Ç –ø–æ–Ω—è—Ç–∏—è –ø—Ä–µ–¥–º–µ—Ç–Ω–æ–π –æ–±–ª–∞—Å—Ç–∏ –Ω–∞–ø—Ä—è–º—É—é;</li>
<li>—á–∏—Ç–∞–µ—Ç—Å—è –∏ –ø–∏—à–µ—Ç—Å—è —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–∞–º–∏ —ç—Ç–æ–π –æ–±–ª–∞—Å—Ç–∏, –∞ –Ω–µ —Ç–æ–ª—å–∫–æ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞–º–∏;</li>
<li>—Å–Ω–∏–∂–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–æ–¥–∞ –∏ —Ä–∏—Å–∫ –æ—à–∏–±–æ–∫ –¥–ª—è —Ç–∏–ø–æ–≤—ã—Ö –∑–∞–¥–∞—á –¥–æ–º–µ–Ω–∞.</li>
</ul>
<p>DSL –±—ã–≤–∞—é—Ç –¥–≤—É—Ö –≤–∏–¥–æ–≤:</p>
<div class="table-wrapper"><table><thead><tr><th>–í–∏–¥</th><th>–û–ø–∏—Å–∞–Ω–∏–µ</th><th>–ü—Ä–∏–º–µ—Ä</th></tr></thead><tbody>
<tr><td><strong>–í–Ω–µ—à–Ω–∏–π (External DSL)</strong></td><td>–û—Ç–¥–µ–ª—å–Ω—ã–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å, —Ç—Ä–µ–±—É–µ—Ç –ø–∞—Ä—Å–µ—Ä–∞</td><td>SQL, Markdown, —Ä–µ–≥—É–ª—è—Ä–Ω—ã–µ –≤—ã—Ä–∞–∂–µ–Ω–∏—è</td></tr>
<tr><td><strong>–í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π (Internal DSL)</strong></td><td>–ù–∞–¥—Å—Ç—Ä–æ–π–∫–∞ –Ω–∞–¥ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º —è–∑—ã–∫–æ–º</td><td>Query-builder –≤ JavaScript, Fluent API</td></tr>
</tbody></table>
</div>
<p>–í –ª–µ–∫—Ü–∏–∏ —Ä–∞—Å—Å–º–∞—Ç—Ä–∏–≤–∞—é—Ç—Å—è –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–µ–Ω–Ω–æ <strong>–≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ DSL</strong> –Ω–∞ –±–∞–∑–µ JavaScript/TypeScript.</p>
<hr />
<h2 id="–ß—Ç–æ-—Ç–∞–∫–æ–µ-ast"><a class="header" href="#–ß—Ç–æ-—Ç–∞–∫–æ–µ-ast">–ß—Ç–æ —Ç–∞–∫–æ–µ AST</a></h2>
<p><strong>AST (Abstract Syntax Tree ‚Äî –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω–æ–µ —Å–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–æ–µ –¥–µ—Ä–µ–≤–æ)</strong> ‚Äî –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–≥—Ä–∞–º–º—ã –≤ –≤–∏–¥–µ –¥–µ—Ä–µ–≤–∞ —É–∑–ª–æ–≤, –∫–æ—Ç–æ—Ä–æ–µ –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä –∏–ª–∏ –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä —Å—Ç—Ä–æ–∏—Ç –∏–∑ –∏—Å—Ö–æ–¥–Ω–æ–≥–æ —Ç–µ–∫—Å—Ç–∞.</p>
<p>–õ—é–±–æ–π —è–∑—ã–∫ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è –ø—Ä–∏ –≤—ã—á–∏—Å–ª–µ–Ω–∏–∏ –≤—ã—Ä–∞–∂–µ–Ω–∏—è –æ–±—è–∑–∞–Ω:</p>
<ol>
<li>–ü—Ä–æ—á–∏—Ç–∞—Ç—å —Ç–µ–∫—Å—Ç –ø—Ä–æ–≥—Ä–∞–º–º—ã (—Å—Ç—Ä–æ–∫—É).</li>
<li>–†–∞–∑–æ–±—Ä–∞—Ç—å (—Ä–∞—Å–ø–∞—Ä—Å–∏—Ç—å) –µ—ë –≤ AST.</li>
<li>–õ–∏–±–æ —Å–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞—Ç—å AST –≤ –º–∞—à–∏–Ω–Ω—ã–π –∫–æ–¥, –ª–∏–±–æ –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∏—Ä–æ–≤–∞—Ç—å –æ–±—Ö–æ–¥ –¥–µ—Ä–µ–≤–∞.</li>
</ol>
<pre><code>–ò—Å—Ö–æ–¥–Ω—ã–π —Ç–µ–∫—Å—Ç          –¢–æ–∫–µ–Ω—ã               AST
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ       ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ   ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
"(+ 2 (* 3 4))"  ‚îÄ‚îÄ‚ñ∫   +, 2, *, 3, 4  ‚îÄ‚îÄ‚ñ∫      (+)
                                              /     \
                                             2      (*)
                                                   /   \
                                                  3     4
</code></pre>
<p>–ò–º–µ–Ω–Ω–æ –ø–æ—ç—Ç–æ–º—É –∑–∞–ø–∏—Å—å LISP <strong>–∏ –µ—Å—Ç—å</strong> –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏ –≥–æ—Ç–æ–≤–æ–µ AST: —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –≤—ã—Ä–∞–∂–µ–Ω–∏—è —è–≤–Ω–æ –≤–∏–¥–Ω–∞ –≤ —Ç–µ–∫—Å—Ç–µ —á–µ—Ä–µ–∑ –≤–ª–æ–∂–µ–Ω–Ω—ã–µ —Å–∫–æ–±–∫–∏.</p>
<h3 id="–°–≤—è–∑—å-javascript-—Å-ast"><a class="header" href="#–°–≤—è–∑—å-javascript-—Å-ast">–°–≤—è–∑—å JavaScript —Å AST</a></h3>
<p>–ö–æ–≥–¥–∞ –¥–≤–∏–∂–æ–∫ V8 –∏—Å–ø–æ–ª–Ω—è–µ—Ç JavaScript, –æ–Ω —Å—Ç—Ä–æ–∏—Ç AST –∏–∑ –≤–∞—à–µ–≥–æ –∫–æ–¥–∞. –≠—Ç–æ –∑–Ω–∞—á–∏—Ç, —á—Ç–æ <strong>–ª—é–±–æ–µ JavaScript-–≤—ã—Ä–∞–∂–µ–Ω–∏–µ –º–æ–∂–Ω–æ —Ä–∞—Å—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å –∫–∞–∫ —Ñ—Ä–∞–≥–º–µ–Ω—Ç AST</strong>. –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –≤—Ä–æ–¥–µ Babel, ESLint –∏ TypeScript —Ä–∞–±–æ—Ç–∞—é—Ç –∏–º–µ–Ω–Ω–æ —Å AST.</p>
<pre><code class="language-typescript">// –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å AST –ª—é–±–æ–≥–æ JS-–∫–æ–¥–∞ –º–æ–∂–Ω–æ –Ω–∞ https://astexplorer.net/
// –í—ã—Ä–∞–∂–µ–Ω–∏–µ:
const x = 2 + 3 * 4;

// –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π —É–∑–µ–ª AST (—É–ø—Ä–æ—â—ë–Ω–Ω–æ):
// {
//   type: "BinaryExpression",
//   operator: "+",
//   left:  { type: "NumericLiteral", value: 2 },
//   right: {
//     type: "BinaryExpression",
//     operator: "*",
//     left:  { type: "NumericLiteral", value: 3 },
//     right: { type: "NumericLiteral", value: 4 }
//   }
// }
</code></pre>
<hr />
<h2 id="–ß—Ç–æ-—Ç–∞–∫–æ–µ-lisp"><a class="header" href="#–ß—Ç–æ-—Ç–∞–∫–æ–µ-lisp">–ß—Ç–æ —Ç–∞–∫–æ–µ LISP</a></h2>
<p><strong>LISP (LISt Processing)</strong> ‚Äî –æ–¥–∏–Ω –∏–∑ —Å—Ç–∞—Ä–µ–π—à–∏—Ö —è–∑—ã–∫–æ–≤ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è (1958, –î–∂–æ–Ω –ú–∞–∫–∫–∞—Ä—Ç–∏). –ï–≥–æ –≥–ª–∞–≤–Ω–∞—è –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç—å ‚Äî <strong>–ø—Ä–µ—Ñ–∏–∫—Å–Ω–∞—è –Ω–æ—Ç–∞—Ü–∏—è</strong> –∏ –µ–¥–∏–Ω–æ–æ–±—Ä–∞–∑–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞: –≤–µ—Å—å –∫–æ–¥ –∏ –¥–∞–Ω–Ω—ã–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω—ã –∫–∞–∫ <strong>—Å–ø–∏—Å–∫–∏</strong>.</p>
<h3 id="–°–∏–Ω—Ç–∞–∫—Å–∏—Å-lisp"><a class="header" href="#–°–∏–Ω—Ç–∞–∫—Å–∏—Å-lisp">–°–∏–Ω—Ç–∞–∫—Å–∏—Å LISP</a></h3>
<pre><code class="language-lisp">; –§–æ—Ä–º–∞: (–æ–ø–µ—Ä–∞—Ç–æ—Ä –∞—Ä–≥—É–º–µ–Ω—Ç1 –∞—Ä–≥—É–º–µ–Ω—Ç2 ...)
(+ 2 3)           ; =&gt; 5  (—Å–ª–æ–∂–µ–Ω–∏–µ)
(* 3 4)           ; =&gt; 12 (—É–º–Ω–æ–∂–µ–Ω–∏–µ)
(+ 2 (* 3 4))     ; =&gt; 14 (–≤–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç—å = —Ä–µ–∫—É—Ä—Å–∏—è)
(+ x (* y 4))     ; =&gt; –≤—ã—á–∏—Å–ª—è–µ—Ç —Å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏ x –∏ y
</code></pre>
<p>–ö–∞–∂–¥–∞—è —Å–∫–æ–±–∫–∞ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç <strong>—Å–ø–∏—Å–æ–∫</strong>. –ü–µ—Ä–≤—ã–π —ç–ª–µ–º–µ–Ω—Ç —Å–ø–∏—Å–∫–∞ ‚Äî —ç—Ç–æ <strong>–æ–ø–µ—Ä–∞—Ç–æ—Ä</strong> (—á—Ç–æ –¥–µ–ª–∞–µ–º), –æ—Å—Ç–∞–ª—å–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã ‚Äî <strong>–æ–ø–µ—Ä–∞–Ω–¥—ã</strong> (–Ω–∞–¥ —á–µ–º –¥–µ–ª–∞–µ–º). –í–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç—å –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω–∞—è, –≤—ã—á–∏—Å–ª–µ–Ω–∏–µ —Ä–µ–∫—É—Ä—Å–∏–≤–Ω–æ–µ.</p>
<p>–¢–∞–∫–∞—è —Ñ–æ—Ä–º–∞ –∑–∞–ø–∏—Å–∏ <strong>–∏–¥–µ–Ω—Ç–∏—á–Ω–∞ AST</strong>:</p>
<pre><code>(+ 2 (* 3 4))

       +
      / \
     2   *
        / \
       3   4
</code></pre>
<h3 id="–¢—Ä–∞–Ω—Å–ª—è—Ü–∏—è-lisp--javascript"><a class="header" href="#–¢—Ä–∞–Ω—Å–ª—è—Ü–∏—è-lisp--javascript">–¢—Ä–∞–Ω—Å–ª—è—Ü–∏—è LISP ‚Üî JavaScript</a></h3>
<p>LISP-–≤—ã—Ä–∞–∂–µ–Ω–∏—è –ª–µ–≥–∫–æ —Ç—Ä–∞–Ω—Å–ª–∏—Ä—É—é—Ç—Å—è –≤ JavaScript –∏ –æ–±—Ä–∞—Ç–Ω–æ:</p>
<pre><code class="language-typescript">// LISP:  (+ 2 (* 3 4))
// JS:    2 + 3 * 4
//
// LISP:  (+ x (* y 4))
// JS:    x + y * 4

// –ï—Å–ª–∏ –Ω–∞–º –Ω—É–∂–Ω–æ —Ç–æ–ª—å–∫–æ –ø–æ–¥–º–Ω–æ–∂–µ—Å—Ç–≤–æ JS —Å –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–º–∏ –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞–º–∏,
// –µ–≥–æ –º–æ–∂–Ω–æ —Ä–∞–∑–æ–±—Ä–∞—Ç—å –≤ AST ‚Äî –∏ –º—ã —Å—Ä–∞–∑—É –ø–æ–ª—É—á–∏–º LISP.
</code></pre>
<p>V8 –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç API <code>vm.Script</code> / <code>vm.createContext</code>, —Å –ø–æ–º–æ—â—å—é –∫–æ—Ç–æ—Ä–æ–≥–æ
–º–æ–∂–Ω–æ –∏—Å–ø–æ–ª–Ω—è—Ç—å JavaScript-–≤—ã—Ä–∞–∂–µ–Ω–∏—è –≤ –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω–æ–º –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ:</p>
<pre><code class="language-typescript">import vm from 'node:vm';

// –ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏–µ –≤—ã—Ä–∞–∂–µ–Ω–∏—è –≤ –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω–æ–º –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ
function evalExpression(expression: string, context: Record&lt;string, unknown&gt;): unknown {
  const script = new vm.Script(`(${expression})`);
  const sandbox = vm.createContext({ ...context });
  return script.runInContext(sandbox);
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
const result = evalExpression('x + y * 4', { x: 2, y: 3 });
console.log(result); // 14
</code></pre>
<hr />
<h2 id="–ü–∞—Ç—Ç–µ—Ä–Ω-–ò–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä-interpreter"><a class="header" href="#–ü–∞—Ç—Ç–µ—Ä–Ω-–ò–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä-interpreter">–ü–∞—Ç—Ç–µ—Ä–Ω ¬´–ò–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä¬ª (Interpreter)</a></h2>
<h3 id="–û–ø–∏—Å–∞–Ω–∏–µ-–ø–∞—Ç—Ç–µ—Ä–Ω–∞"><a class="header" href="#–û–ø–∏—Å–∞–Ω–∏–µ-–ø–∞—Ç—Ç–µ—Ä–Ω–∞">–û–ø–∏—Å–∞–Ω–∏–µ –ø–∞—Ç—Ç–µ—Ä–Ω–∞</a></h3>
<p><strong>Interpreter</strong> ‚Äî –ø–æ–≤–µ–¥–µ–Ω—á–µ—Å–∫–∏–π –ø–∞—Ç—Ç–µ—Ä–Ω GoF. –û–Ω –∑–∞–¥–∞—ë—Ç <strong>–≥—Ä–∞–º–º–∞—Ç–∏–∫—É</strong> –Ω–µ–∫–æ—Ç–æ—Ä–æ–≥–æ —è–∑—ã–∫–∞ –∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç <strong>–∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä</strong> –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è–º–∏ —ç—Ç–æ–≥–æ —è–∑—ã–∫–∞.</p>
<p><strong>–£—á–∞—Å—Ç–Ω–∏–∫–∏:</strong></p>
<div class="table-wrapper"><table><thead><tr><th>–†–æ–ª—å</th><th>–û–ø–∏—Å–∞–Ω–∏–µ</th></tr></thead><tbody>
<tr><td><code>AbstractExpression</code></td><td>–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Å –º–µ—Ç–æ–¥–æ–º <code>interpret(context)</code></td></tr>
<tr><td><code>TerminalExpression</code></td><td>–¢–µ—Ä–º–∏–Ω–∞–ª—å–Ω—ã–π —É–∑–µ–ª (–ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è, –ª–∏—Ç–µ—Ä–∞–ª)</td></tr>
<tr><td><code>NonTerminalExpression</code></td><td>–°–æ—Å—Ç–∞–≤–Ω–æ–π —É–∑–µ–ª (–æ–ø–µ—Ä–∞—Ü–∏—è –Ω–∞–¥ –ø–æ–¥–≤—ã—Ä–∞–∂–µ–Ω–∏—è–º–∏)</td></tr>
<tr><td><code>Context</code></td><td>–°–æ–¥–µ—Ä–∂–∏—Ç –≥–ª–æ–±–∞–ª—å–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –¥–ª—è –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä–∞</td></tr>
<tr><td><code>Client</code></td><td>–°—Ç—Ä–æ–∏—Ç AST –∏ –∑–∞–ø—É—Å–∫–∞–µ—Ç –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏—é</td></tr>
</tbody></table>
</div>
<p><strong>–ö–æ–≥–¥–∞ –ø—Ä–∏–º–µ–Ω—è—Ç—å:</strong></p>
<ul>
<li>–ì—Ä–∞–º–º–∞—Ç–∏–∫–∞ —è–∑—ã–∫–∞ –ø—Ä–æ—Å—Ç–∞—è –∏ —Å—Ç–∞–±–∏–ª—å–Ω–∞—è.</li>
<li>–≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –Ω–µ –∫—Ä–∏—Ç–∏—á–Ω–∞ (–ø–∞—Ç—Ç–µ—Ä–Ω –Ω–µ –æ–ø—Ç–∏–º–∞–ª–µ–Ω –¥–ª—è —Å–ª–æ–∂–Ω—ã—Ö –≥—Ä–∞–º–º–∞—Ç–∏–∫).</li>
<li>–ù—É–∂–Ω–æ —Ä–∞—Å—à–∏—Ä—è—Ç—å –Ω–∞–±–æ—Ä –≤—ã—Ä–∞–∂–µ–Ω–∏–π –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –∫–ª–∞—Å—Å–æ–≤.</li>
</ul>
<h3 id="uml-—Å—Ç—Ä—É–∫—Ç—É—Ä–∞"><a class="header" href="#uml-—Å—Ç—Ä—É–∫—Ç—É—Ä–∞">UML-—Å—Ç—Ä—É–∫—Ç—É—Ä–∞</a></h3>
<pre><code>¬´interface¬ª
AbstractExpression
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
+ interpret(ctx): T
       ‚ñ≤
       ‚îÇ
  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
  ‚îÇ                           ‚îÇ
TerminalExpression     NonTerminalExpression
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ     ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
+ interpret(ctx): T    - left: AbstractExpression
                       - right: AbstractExpression
                       + interpret(ctx): T
</code></pre>
<hr />
<h2 id="–†–µ–∞–ª–∏–∑–∞—Ü–∏—è-5"><a class="header" href="#–†–µ–∞–ª–∏–∑–∞—Ü–∏—è-5">–†–µ–∞–ª–∏–∑–∞—Ü–∏—è</a></h2>
<h3 id="1-–¢–∏–ø—ã-—É–∑–ª–æ–≤-ast"><a class="header" href="#1-–¢–∏–ø—ã-—É–∑–ª–æ–≤-ast">1. –¢–∏–ø—ã —É–∑–ª–æ–≤ AST</a></h3>
<pre><code class="language-typescript">// –¢–∏–ø—ã —É–∑–ª–æ–≤ –Ω–∞—à–µ–≥–æ –º–∏–Ω–∏-AST
type NumberLiteral = {
  type: 'number';
  value: number;
};

type Variable = {
  type: 'variable';
  name: string;
};

type BinaryOp = {
  type: 'binary';
  operator: '+' | '-' | '*' | '/';
  left: ASTNode;
  right: ASTNode;
};

type ASTNode = NumberLiteral | Variable | BinaryOp;
</code></pre>
<h3 id="2-–ö–æ–Ω—Ç–µ–∫—Å—Ç-–ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ"><a class="header" href="#2-–ö–æ–Ω—Ç–µ–∫—Å—Ç-–ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ">2. –ö–æ–Ω—Ç–µ–∫—Å—Ç (–ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ)</a></h3>
<pre><code class="language-typescript">// –ö–æ–Ω—Ç–µ–∫—Å—Ç —Ö—Ä–∞–Ω–∏—Ç –∑–Ω–∞—á–µ–Ω–∏—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
type Context = Record&lt;string, number&gt;;
</code></pre>
<h3 id="3-–ò–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä"><a class="header" href="#3-–ò–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä">3. –ò–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä</a></h3>
<pre><code class="language-typescript">/**
 * –†–µ–∫—É—Ä—Å–∏–≤–Ω–æ –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∏—Ä—É–µ—Ç AST-—É–∑–µ–ª –≤ —á–∏—Å–ª–æ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ.
 * –†–µ–∞–ª–∏–∑—É–µ—Ç –ø–∞—Ç—Ç–µ—Ä–Ω Interpreter: –æ–±—Ö–æ–¥ –¥–µ—Ä–µ–≤–∞ —Å –≤—ã—á–∏—Å–ª–µ–Ω–∏–µ–º.
 */
function interpret(node: ASTNode, ctx: Context): number {
  switch (node.type) {
    // –¢–µ—Ä–º–∏–Ω–∞–ª—å–Ω—ã–µ –≤—ã—Ä–∞–∂–µ–Ω–∏—è
    case 'number':
      return node.value;

    case 'variable': {
      const val = ctx[node.name];
      if (val === undefined) {
        throw new Error(`–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–∞—è –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è: ${node.name}`);
      }
      return val;
    }

    // –ù–µ—Ç–µ—Ä–º–∏–Ω–∞–ª—å–Ω–æ–µ –≤—ã—Ä–∞–∂–µ–Ω–∏–µ
    case 'binary': {
      const left  = interpret(node.left,  ctx);
      const right = interpret(node.right, ctx);
      switch (node.operator) {
        case '+': return left + right;
        case '-': return left - right;
        case '*': return left * right;
        case '/':
          if (right === 0) throw new Error('–î–µ–ª–µ–Ω–∏–µ –Ω–∞ –Ω–æ–ª—å');
          return left / right;
      }
    }
  }
}
</code></pre>
<h3 id="4-–ü—Ä–æ—Å—Ç–æ–π-–ø–∞—Ä—Å–µ—Ä-lisp-–≤—ã—Ä–∞–∂–µ–Ω–∏–π"><a class="header" href="#4-–ü—Ä–æ—Å—Ç–æ–π-–ø–∞—Ä—Å–µ—Ä-lisp-–≤—ã—Ä–∞–∂–µ–Ω–∏–π">4. –ü—Ä–æ—Å—Ç–æ–π –ø–∞—Ä—Å–µ—Ä LISP-–≤—ã—Ä–∞–∂–µ–Ω–∏–π</a></h3>
<pre><code class="language-typescript">/**
 * –¢–æ–∫–µ–Ω–∏–∑–∞—Ç–æ—Ä: —Ä–∞–∑–±–∏–≤–∞–µ—Ç —Å—Ç—Ä–æ–∫—É LISP-–≤—ã—Ä–∞–∂–µ–Ω–∏—è –Ω–∞ —Ç–æ–∫–µ–Ω—ã.
 * –ü—Ä–∏–º–µ—Ä: "(+ 2 (* x 4))" =&gt; ["(", "+", "2", "(", "*", "x", "4", ")", ")"]
 */
function tokenize(input: string): string[] {
  return input
    .replace(/\(/g, ' ( ')
    .replace(/\)/g, ' ) ')
    .trim()
    .split(/\s+/)
    .filter(Boolean);
}

/**
 * –†–µ–∫—É—Ä—Å–∏–≤–Ω—ã–π –ø–∞—Ä—Å–µ—Ä: —Å—Ç—Ä–æ–∏—Ç AST –∏–∑ —Å–ø–∏—Å–∫–∞ —Ç–æ–∫–µ–Ω–æ–≤.
 */
function parse(tokens: string[]): ASTNode {
  const token = tokens.shift()!;

  // –ù–∞—á–∞–ª–æ —Å–ø–∏—Å–∫–∞ ‚Äî –Ω–µ—Ç–µ—Ä–º–∏–Ω–∞–ª—å–Ω–æ–µ –≤—ã—Ä–∞–∂–µ–Ω–∏–µ
  if (token === '(') {
    const operator = tokens.shift() as BinaryOp['operator'];
    const left  = parse(tokens);
    const right = parse(tokens);
    tokens.shift(); // —É–±–∏—Ä–∞–µ–º –∑–∞–∫—Ä—ã–≤–∞—é—â—É—é ')'
    return { type: 'binary', operator, left, right };
  }

  // –ß–∏—Å–ª–æ
  const num = Number(token);
  if (!isNaN(num)) {
    return { type: 'number', value: num };
  }

  // –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è
  return { type: 'variable', name: token };
}

/**
 * –û–±—ä–µ–¥–∏–Ω—è–µ—Ç —Ç–æ–∫–µ–Ω–∏–∑–∞—Ü–∏—é –∏ –ø–∞—Ä—Å–∏–Ω–≥.
 */
function parseLisp(source: string): ASTNode {
  const tokens = tokenize(source);
  return parse(tokens);
}
</code></pre>
<h3 id="5-–ü–æ–ª–Ω—ã–π-–ø—Ä–∏–º–µ—Ä-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è"><a class="header" href="#5-–ü–æ–ª–Ω—ã–π-–ø—Ä–∏–º–µ—Ä-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è">5. –ü–æ–ª–Ω—ã–π –ø—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è</a></h3>
<pre><code class="language-typescript">// –í—ã—á–∏—Å–ª—è–µ–º: (+ 2 (* x 4))  –ø—Ä–∏ x = 3
// –û–∂–∏–¥–∞–µ–º:   2 + 3 * 4 = 14

const source  = '(+ 2 (* x 4))';
const context: Context = { x: 3 };

const ast    = parseLisp(source);
const result = interpret(ast, context);

console.log(`–í—ã—Ä–∞–∂–µ–Ω–∏–µ: ${source}`);
console.log(`–ö–æ–Ω—Ç–µ–∫—Å—Ç:  x = ${context.x}`);
console.log(`–†–µ–∑—É–ª—å—Ç–∞—Ç: ${result}`);
// –í—ã—Ä–∞–∂–µ–Ω–∏–µ: (+ 2 (* x 4))
// –ö–æ–Ω—Ç–µ–∫—Å—Ç:  x = 3
// –†–µ–∑—É–ª—å—Ç–∞—Ç: 14
</code></pre>
<h3 id="6-–†–∞—Å—à–∏—Ä—è–µ–º—ã–π-lisp-–∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä-–Ω–∞-–æ—Å–Ω–æ–≤–µ-—Ç–∞–±–ª–∏—Ü—ã-–æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–≤"><a class="header" href="#6-–†–∞—Å—à–∏—Ä—è–µ–º—ã–π-lisp-–∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä-–Ω–∞-–æ—Å–Ω–æ–≤–µ-—Ç–∞–±–ª–∏—Ü—ã-–æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–≤">6. –†–∞—Å—à–∏—Ä—è–µ–º—ã–π LISP-–∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ç–∞–±–ª–∏—Ü—ã –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–≤</a></h3>
<p>–õ–µ–∫—Ç–æ—Ä –ø–æ–¥—á—ë—Ä–∫–∏–≤–∞–µ—Ç: –æ–ø–µ—Ä–∞—Ç–æ—Ä—ã LISP —É–¥–æ–±–Ω–æ –¥–æ–±–∞–≤–ª—è—Ç—å –∫–∞–∫ <strong>–∑–∞–ø–∏—Å–∏ –≤ –æ–±—ä–µ–∫—Ç</strong> (—Å—Ç—Ä—É–∫—Ç—É—Ä—É –¥–∞–Ω–Ω—ã—Ö). –ö–ª—é—á ‚Äî –∏–º—è –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞, –∑–Ω–∞—á–µ–Ω–∏–µ ‚Äî —Ñ—É–Ω–∫—Ü–∏—è-—Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è. –≠—Ç–æ –¥–µ–ª–∞–µ—Ç –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä –ª–µ–≥–∫–æ —Ä–∞—Å—à–∏—Ä—è–µ–º—ã–º –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏—è –µ–≥–æ —è–¥—Ä–∞.</p>
<pre><code class="language-typescript">// –¢–∞–±–ª–∏—Ü–∞ –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–≤: –∏–º—è -&gt; —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è
type OperatorFn = (args: number[]) =&gt; number;

const operators: Record&lt;string, OperatorFn&gt; = {
  '+': (args) =&gt; args.reduce((acc, v) =&gt; acc + v, 0),
  '-': (args) =&gt; args.reduce((acc, v, i) =&gt; i === 0 ? v : acc - v),
  '*': (args) =&gt; args.reduce((acc, v) =&gt; acc * v, 1),
  '/': (args) =&gt; args.reduce((acc, v, i) =&gt; i === 0 ? v : acc / v),
  'max': (args) =&gt; Math.max(...args),
  'min': (args) =&gt; Math.min(...args),
  'abs': ([a]) =&gt; Math.abs(a),
};

// –£–∑–µ–ª —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω–æ–≥–æ AST –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω–æ–µ —á–∏—Å–ª–æ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤
type LispNode =
  | { type: 'num'; value: number }
  | { type: 'var'; name: string }
  | { type: 'call'; op: string; args: LispNode[] };

function evalLisp(node: LispNode, ctx: Context): number {
  if (node.type === 'num') return node.value;
  if (node.type === 'var') {
    const val = ctx[node.name];
    if (val === undefined) throw new Error(`–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–∞—è –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è: ${node.name}`);
    return val;
  }
  // node.type === 'call'
  const fn = operators[node.op];
  if (!fn) throw new Error(`–ù–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–π –æ–ø–µ—Ä–∞—Ç–æ—Ä: ${node.op}`);
  const evaluatedArgs = node.args.map((arg) =&gt; evalLisp(arg, ctx));
  return fn(evaluatedArgs);
}

// –ü—Ä–∏–º–µ—Ä: (max (* x 2) (+ y 1))  –ø—Ä–∏ x=3, y=5
const tree: LispNode = {
  type: 'call',
  op: 'max',
  args: [
    { type: 'call', op: '*', args: [{ type: 'var', name: 'x' }, { type: 'num', value: 2 }] },
    { type: 'call', op: '+', args: [{ type: 'var', name: 'y' }, { type: 'num', value: 1 }] },
  ],
};

console.log(evalLisp(tree, { x: 3, y: 5 })); // max(6, 6) = 6

// –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–π –æ–ø–µ—Ä–∞—Ç–æ—Ä ‚Äî –æ–¥–Ω–∞ —Å—Ç—Ä–æ–∫–∞:
operators['sum-of-squares'] = (args) =&gt; args.reduce((acc, v) =&gt; acc + v * v, 0);
</code></pre>
<hr />
<h2 id="–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ-2"><a class="header" href="#–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ-2">–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ</a></h2>
<p>–í –ª–µ–∫—Ü–∏–∏ –ø–æ–∫–∞–∑–∞–Ω–æ, —á—Ç–æ –ø–∞—Ç—Ç–µ—Ä–Ω Interpreter –∏ –∏–¥–µ—è DSL –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –ø–æ–≤—Å–µ–º–µ—Å—Ç–Ω–æ.</p>
<h3 id="query-builder-sql-dsl"><a class="header" href="#query-builder-sql-dsl">Query Builder (SQL DSL)</a></h3>
<p>–í–º–µ—Å—Ç–æ –Ω–∞–ø–∏—Å–∞–Ω–∏—è —Å—Ç—Ä–æ–∫ SQL –≤—Ä—É—á–Ω—É—é –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è <strong>—Ü–µ–ø–æ—á–∫–∞ –º–µ—Ç–æ–¥–æ–≤</strong> (Fluent API / Builder) ‚Äî —ç—Ç–æ —Ç–æ–∂–µ —Ñ–æ—Ä–º–∞ DSL –ø–æ–≤–µ—Ä—Ö JavaScript:</p>
<pre><code class="language-typescript">// –í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π DSL –¥–ª—è –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è SQL (–ø—Ä–∏–º–µ—Ä MetaSQL / Knex-–ø–æ–¥–æ–±–Ω–æ–≥–æ API)
const query = db
  .insert({ name: 'Alice', age: 30 })
  .into('users')
  .returning(['id', 'name']);

// –í–Ω—É—Ç—Ä–∏ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ —ç—Ç–æ –≤—ã—Ä–∞–∂–µ–Ω–∏–µ —Ç—Ä–∞–Ω—Å–ª–∏—Ä—É–µ—Ç—Å—è –≤ SQL:
// INSERT INTO users (name, age) VALUES ('Alice', 30) RETURNING id, name;
</code></pre>
<h3 id="sql-—á–µ—Ä–µ–∑-—à–∞–±–ª–æ–Ω–Ω—ã–µ-—Å—Ç—Ä–æ–∫–∏-tagged-template-literals"><a class="header" href="#sql-—á–µ—Ä–µ–∑-—à–∞–±–ª–æ–Ω–Ω—ã–µ-—Å—Ç—Ä–æ–∫–∏-tagged-template-literals">SQL —á–µ—Ä–µ–∑ —à–∞–±–ª–æ–Ω–Ω—ã–µ —Å—Ç—Ä–æ–∫–∏ (Tagged Template Literals)</a></h3>
<pre><code class="language-typescript">// Tagged template literal ‚Äî –µ—â—ë –æ–¥–∏–Ω –≤–∏–¥ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–≥–æ DSL
// –§—É–Ω–∫—Ü–∏—è-—Ç–µ–≥ –ø–æ–ª—É—á–∞–µ—Ç –º–∞—Å—Å–∏–≤ —Å—Ç—Ä–æ–∫ –∏ –º–∞—Å—Å–∏–≤ –≤—Å—Ç–∞–≤–ª–µ–Ω–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π
function sql(strings: TemplateStringsArray, ...values: unknown[]): { query: string; params: unknown[] } {
  const query  = strings.raw.join('$' + (strings.length)); // —É–ø—Ä–æ—â—ë–Ω–Ω–æ
  return { query, params: values };
}

const userId = 42;
const minAge = 18;

// –ó–Ω–∞—á–µ–Ω–∏—è –ù–ï –∏–Ω—Ç–µ—Ä–ø–æ–ª–∏—Ä—É—é—Ç—Å—è –Ω–∞–ø—Ä—è–º—É—é ‚Äî –æ–Ω–∏ –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è –∫–∞–∫ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã,
// —á—Ç–æ –∑–∞—â–∏—â–∞–µ—Ç –æ—Ç SQL-–∏–Ω—ä–µ–∫—Ü–∏–π
const result = sql`SELECT * FROM users WHERE id = ${userId} AND age &gt; ${minAge}`;
// result.query  = "SELECT * FROM users WHERE id = $1 AND age &gt; $2"
// result.params = [42, 18]
</code></pre>
<h3 id="–§–æ—Ä–º—É–ª—å–Ω—ã–π-–¥–≤–∏–∂–æ–∫-dsl-–¥–ª—è-—ç–ª–µ–∫—Ç—Ä–æ–Ω–Ω—ã—Ö-—Ç–∞–±–ª–∏—Ü"><a class="header" href="#–§–æ—Ä–º—É–ª—å–Ω—ã–π-–¥–≤–∏–∂–æ–∫-dsl-–¥–ª—è-—ç–ª–µ–∫—Ç—Ä–æ–Ω–Ω—ã—Ö-—Ç–∞–±–ª–∏—Ü">–§–æ—Ä–º—É–ª—å–Ω—ã–π –¥–≤–∏–∂–æ–∫ (DSL –¥–ª—è —ç–ª–µ–∫—Ç—Ä–æ–Ω–Ω—ã—Ö —Ç–∞–±–ª–∏—Ü)</a></h3>
<pre><code class="language-typescript">// –ú–∏–Ω–∏-–¥–≤–∏–∂–æ–∫ —ç–ª–µ–∫—Ç—Ä–æ–Ω–Ω—ã—Ö —Ç–∞–±–ª–∏—Ü: –∫–∞–∂–¥–∞—è —è—á–µ–π–∫–∞ ‚Äî –≤—ã—Ä–∞–∂–µ–Ω–∏–µ –Ω–∞ JavaScript
// –Ø—á–µ–π–∫–∏ —Å—Å—ã–ª–∞—é—Ç—Å—è –¥—Ä—É–≥ –Ω–∞ –¥—Ä—É–≥–∞ –ø–æ –∏–º–µ–Ω–∏ (A1, B1, C1 –∏–ª–∏ –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω–æ)

type CellDef = {
  [cellName: string]: string; // –∏–º—è —è—á–µ–π–∫–∏ -&gt; –≤—ã—Ä–∞–∂–µ–Ω–∏–µ
};

class Spreadsheet {
  private cache = new Map&lt;string, number&gt;();

  constructor(private cells: CellDef) {}

  // –õ–µ–Ω–∏–≤–æ–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏–µ —Å –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ–º
  get(name: string): number {
    if (this.cache.has(name)) return this.cache.get(name)!;

    const expr = this.cells[name];
    if (expr === undefined) throw new Error(`–Ø—á–µ–π–∫–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞: ${name}`);

    // –°—Ç—Ä–æ–∏–º –∫–æ–Ω—Ç–µ–∫—Å—Ç: –≤—Å–µ –æ—Å—Ç–∞–ª—å–Ω—ã–µ —è—á–µ–π–∫–∏ –¥–æ—Å—Ç—É–ø–Ω—ã –ø–æ –∏–º–µ–Ω–∏
    const ctx = new Proxy({} as Record&lt;string, number&gt;, {
      get: (_, key: string) =&gt; this.get(key),
    });

    // –í—ã—á–∏—Å–ª—è–µ–º –≤—ã—Ä–∞–∂–µ–Ω–∏–µ —á–µ—Ä–µ–∑ Function (–≤ —Ä–µ–∞–ª—å–Ω–æ—Å—Ç–∏ ‚Äî —á–µ—Ä–µ–∑ vm.Script)
    const fn = new Function(...Object.keys(ctx), `return (${expr})`);
    const value = fn(...Object.keys(ctx).map((k) =&gt; this.get(k)));
    this.cache.set(name, value);
    return value;
  }
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
const sheet = new Spreadsheet({
  A1: '10',
  B1: '3',
  C1: 'A1 * B1',           // 10 * 3 = 30
  D1: 'Math.log(C1)',       // Math.log(30) ‚âà 3.401
});

console.log(sheet.get('C1')); // 30
console.log(sheet.get('D1')); // ~3.401
</code></pre>
<h3 id="dsl-–¥–ª—è-–æ–ø–∏—Å–∞–Ω–∏—è-–±–∏–∑–Ω–µ—Å-–ø—Ä–æ—Ü–µ—Å—Å–æ–≤"><a class="header" href="#dsl-–¥–ª—è-–æ–ø–∏—Å–∞–Ω–∏—è-–±–∏–∑–Ω–µ—Å-–ø—Ä–æ—Ü–µ—Å—Å–æ–≤">DSL –¥–ª—è –æ–ø–∏—Å–∞–Ω–∏—è –±–∏–∑–Ω–µ—Å-–ø—Ä–æ—Ü–µ—Å—Å–æ–≤</a></h3>
<p>–í –ª–µ–∫—Ü–∏–∏ –ø–æ–∫–∞–∑–∞–Ω –ø—Ä–∏–º–µ—Ä –æ–ø–∏—Å–∞–Ω–∏—è –±–∏–∑–Ω–µ—Å-–ø—Ä–æ—Ü–µ—Å—Å–æ–≤ –Ω–∞ Markdown-–ø–æ–¥–æ–±–Ω–æ–º —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–µ:</p>
<pre><code class="language-markdown"># –ü—Ä–æ—Ü–µ—Å—Å: –ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ (Reservation)

* validateOrder(order) -&gt; balance
* checkBalance(order, balance) -&gt; instances
* createReservation(order, balance, instances) -&gt; reservation
</code></pre>
<p>–ö–∞–∂–¥—ã–π —à–∞–≥ ‚Äî –≤—ã–∑–æ–≤ —Ñ—É–Ω–∫—Ü–∏–∏. –†–µ–∑—É–ª—å—Ç–∞—Ç –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ —à–∞–≥–∞ –ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è –≤ —Å–ª–µ–¥—É—é—â–∏–π.
–î–∏–∞–≥—Ä–∞–º–º–∞ —Ä–µ–Ω–¥–µ—Ä–∏—Ç—Å—è –ª—é–±—ã–º Markdown-—Å–æ–≤–º–µ—Å—Ç–∏–º—ã–º –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–º (GitHub, IDE).
–í–Ω—É—Ç—Ä–∏ –∫–∞–∂–¥—ã–π –±–ª–æ–∫ –º–æ–∂–µ—Ç –±—ã—Ç—å —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω –Ω–∞ JavaScript, WebAssembly –∏–ª–∏
–ø–æ–¥–∫–ª—é—á—ë–Ω –∫–∞–∫ –ø–ª–∞–≥–∏–Ω.</p>
<hr />
<h2 id="–ò—Ç–æ–≥-2"><a class="header" href="#–ò—Ç–æ–≥-2">–ò—Ç–æ–≥</a></h2>
<p><strong>–ü–∞—Ç—Ç–µ—Ä–Ω Interpreter</strong> —Ä–µ—à–∞–µ—Ç –∑–∞–¥–∞—á—É –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏–∏ —è–∑—ã–∫–∞ —á–µ—Ä–µ–∑ –¥–µ—Ä–µ–≤–æ –æ–±—ä–µ–∫—Ç–æ–≤, –∫–∞–∂–¥—ã–π –∏–∑ –∫–æ—Ç–æ—Ä—ã—Ö —É–º–µ–µ—Ç ¬´–≤—ã—á–∏—Å–ª–∏—Ç—å¬ª —Å–µ–±—è. –ö–ª—é—á–µ–≤—ã–µ –≤—ã–≤–æ–¥—ã –ª–µ–∫—Ü–∏–∏:</p>
<ol>
<li>
<p><strong>AST ‚Äî –æ—Å–Ω–æ–≤–∞ –≤—Å–µ–≥–æ.</strong> –õ—é–±–æ–π —è–∑—ã–∫ —Å—Ç—Ä–æ–∏—Ç AST –ø–µ—Ä–µ–¥ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏–µ–º. –ü–æ–Ω–∏–º–∞–Ω–∏–µ AST –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç –¥–æ—Ä–æ–≥—É –∫ –Ω–∞–ø–∏—Å–∞–Ω–∏—é –ø–∞—Ä—Å–µ—Ä–æ–≤, —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–µ—Ä–æ–≤ –∏ –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä–æ–≤.</p>
</li>
<li>
<p><strong>LISP ‚Äî —ç—Ç–æ ¬´–∂–∏–≤–æ–µ¬ª AST.</strong> –°–∏–Ω—Ç–∞–∫—Å–∏—Å LISP —Å –ø—Ä–µ—Ñ–∏–∫—Å–Ω—ã–º–∏ —Å–ø–∏—Å–∫–∞–º–∏ –±—É–∫–≤–∞–ª—å–Ω–æ –æ—Ç—Ä–∞–∂–∞–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—É –¥–µ—Ä–µ–≤–∞, —á—Ç–æ –¥–µ–ª–∞–µ—Ç –µ–≥–æ –∏–¥–µ–∞–ª—å–Ω–æ–π —É—á–µ–±–Ω–æ–π –º–æ–¥–µ–ª—å—é –ø–∞—Ç—Ç–µ—Ä–Ω–∞ Interpreter.</p>
</li>
<li>
<p><strong>DSL –ø–æ–≤—ã—à–∞—é—Ç –≤—ã—Ä–∞–∑–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å.</strong> –í–º–µ—Å—Ç–æ –∏–º–ø–µ—Ä–∞—Ç–∏–≤–Ω–æ–≥–æ –∫–æ–¥–∞ –ø—Ä–µ–¥–º–µ—Ç–Ω–∞—è –æ–±–ª–∞—Å—Ç—å –æ–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è –¥–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω–æ. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ (–Ω–µ —Ç–æ–ª—å–∫–æ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∏) –º–æ–≥—É—Ç –ø–∏—Å–∞—Ç—å —Ñ–æ—Ä–º—É–ª—ã, –±–∏–∑–Ω–µ—Å-–ø—Ä–∞–≤–∏–ª–∞, —Å—Ö–µ–º—ã.</p>
</li>
<li>
<p><strong>–†–∞—Å—à–∏—Ä—è–µ–º–æ—Å—Ç—å —á–µ—Ä–µ–∑ —Ç–∞–±–ª–∏—Ü—É –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–≤.</strong> –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–π –æ–ø–µ—Ä–∞—Ç–æ—Ä –≤ –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä = –¥–æ–±–∞–≤–∏—Ç—å –æ–¥–Ω—É –∑–∞–ø–∏—Å—å –≤ –æ–±—ä–µ–∫—Ç. –≠—Ç–æ –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π –ø—Ä–∏–º–µ—Ä –æ—Ç–∫—Ä—ã—Ç–æ—Å—Ç–∏ –¥–ª—è —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è –±–µ–∑ –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏–∏ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ –∫–æ–¥–∞ (Open/Closed Principle).</p>
</li>
<li>
<p><strong>JavaScript ‚Äî –º–æ—â–Ω–∞—è –±–∞–∑–∞ –¥–ª—è DSL.</strong> Tagged template literals, Proxy, vm.Script, Fluent API ‚Äî –≤—Å–µ —ç—Ç–∏ –º–µ—Ö–∞–Ω–∏–∑–º—ã –ø–æ–∑–≤–æ–ª—è—é—Ç —Å—Ç—Ä–æ–∏—Ç—å –±–æ–≥–∞—Ç—ã–µ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ DSL –Ω–∞ —á–∏—Å—Ç–æ–º JavaScript/TypeScript.</p>
</li>
</ol>
<p>–í —Å–ª–µ–¥—É—é—â–µ–π —á–∞—Å—Ç–∏ –ª–µ–∫—Ü–∏–∏ –±—É–¥–µ—Ç —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω <strong>–ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä LISP</strong>: –ª–µ–∫—Å–µ—Ä, –ø–∞—Ä—Å–µ—Ä, evaluator —Å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ —Å—Ç—Ä–∞—Ç–µ–≥–∏—è–º–∏ –∏ –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="–ü–∞—Ç—Ç–µ—Ä–Ω-–ò–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä--–ß–∞—Å—Ç—å-2-–†–µ–∞–ª–∏–∑–∞—Ü–∏—è-lisp-–∏-ast-–Ω–∞-javascripttypescript"><a class="header" href="#–ü–∞—Ç—Ç–µ—Ä–Ω-–ò–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä--–ß–∞—Å—Ç—å-2-–†–µ–∞–ª–∏–∑–∞—Ü–∏—è-lisp-–∏-ast-–Ω–∞-javascripttypescript">–ü–∞—Ç—Ç–µ—Ä–Ω ¬´–ò–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä¬ª ‚Äî –ß–∞—Å—Ç—å 2: –†–µ–∞–ª–∏–∑–∞—Ü–∏—è LISP –∏ AST –Ω–∞ JavaScript/TypeScript</a></h1>
<h2 id="–í–≤–µ–¥–µ–Ω–∏–µ-16"><a class="header" href="#–í–≤–µ–¥–µ–Ω–∏–µ-16">–í–≤–µ–¥–µ–Ω–∏–µ</a></h2>
<p>–í —ç—Ç–æ–π –ª–µ–∫—Ü–∏–∏ –º—ã –ø–æ–¥—Ä–æ–±–Ω–æ —Ä–∞–∑–±–µ—Ä—ë–º —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é LISP-–∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä–∞ –Ω–∞ JavaScript –∏ TypeScript. –ë—É–¥–µ—Ç —Ä–∞—Å—Å–º–æ—Ç—Ä–µ–Ω–æ —Ç—Ä–∏ –≤–∞—Ä–∏–∞–Ω—Ç–∞ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏: –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π (–Ω–∞ –∫–ª–∞—Å—Å–∞—Ö —Å –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ–º), —É–ø—Ä–æ—â—ë–Ω–Ω—ã–π (–±–µ–∑ –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω–æ–≥–æ –∫–ª–∞—Å—Å–∞, —Å –∫–æ–ª–ª–µ–∫—Ü–∏–µ–π –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–≤) –∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π (—Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –æ–ø–µ—Ä–∞—Ü–∏–π <code>car</code>, <code>cdr</code>, <code>list</code>, <code>eq</code>).</p>
<p>LISP ‚Äî —ç—Ç–æ —è–∑—ã–∫, –æ—Å–Ω–æ–≤–∞–Ω–Ω—ã–π –Ω–∞ —Å–ø–∏—Å–∫–∞—Ö. –ü—Ä–æ–≥—Ä–∞–º–º–∞ –Ω–∞ LISP ‚Äî —ç—Ç–æ –≤–ª–æ–∂–µ–Ω–Ω—ã–µ —Å–ø–∏—Å–∫–∏, –≥–¥–µ –ø–µ—Ä–≤—ã–π —ç–ª–µ–º–µ–Ω—Ç —Å–ø–∏—Å–∫–∞ —è–≤–ª—è–µ—Ç—Å—è –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–º, –∞ –æ—Å—Ç–∞–ª—å–Ω—ã–µ ‚Äî –æ–ø–µ—Ä–∞–Ω–¥–∞–º–∏. –ù–∞–ø—Ä–∏–º–µ—Ä:</p>
<pre><code>(+ 1 2)          ; —Å–ª–æ–∂–µ–Ω–∏–µ: 1 + 2 = 3
(* 2 3)          ; —É–º–Ω–æ–∂–µ–Ω–∏–µ: 2 * 3 = 6
(- 10 3)         ; –≤—ã—á–∏—Ç–∞–Ω–∏–µ: 10 - 3 = 7
(+ (* 2 3) 1)    ; –≤–ª–æ–∂–µ–Ω–Ω–æ–µ: (2 * 3) + 1 = 7
(+ x y)          ; –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∏–∑ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞
</code></pre>
<p>–ò–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä –ø—Ä–∏–Ω–∏–º–∞–µ—Ç —Ç–∞–∫–æ–µ –≤—ã—Ä–∞–∂–µ–Ω–∏–µ, —Å—Ç—Ä–æ–∏—Ç AST (Abstract Syntax Tree ‚Äî –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω–æ–µ —Å–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–æ–µ –¥–µ—Ä–µ–≤–æ) –∏ –≤—ã—á–∏—Å–ª—è–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç.</p>
<hr />
<h2 id="–†–µ–∞–ª–∏–∑–∞—Ü–∏—è-lisp-–∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä–∞"><a class="header" href="#–†–µ–∞–ª–∏–∑–∞—Ü–∏—è-lisp-–∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä–∞">–†–µ–∞–ª–∏–∑–∞—Ü–∏—è LISP-–∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä–∞</a></h2>
<h3 id="–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞"><a class="header" href="#–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞">–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞</a></h3>
<p>–ò–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ —Ç—Ä—ë—Ö —Å–ª–æ—ë–≤:</p>
<ol>
<li><strong>–¢–æ–∫–µ–Ω–∏–∑–∞—Ç–æ—Ä (Tokenizer)</strong> ‚Äî —Ä–∞–∑–±–∏–≤–∞–µ—Ç —Å—Ç—Ä–æ–∫—É –Ω–∞ —Ç–æ–∫–µ–Ω—ã (—Å–∫–æ–±–∫–∏, —á–∏—Å–ª–∞, –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã).</li>
<li><strong>–ü–∞—Ä—Å–µ—Ä (Parser)</strong> ‚Äî –ø—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç –ø–ª–æ—Å–∫–∏–π —Å–ø–∏—Å–æ–∫ —Ç–æ–∫–µ–Ω–æ–≤ –≤ –¥–µ—Ä–µ–≤–æ –≤–ª–æ–∂–µ–Ω–Ω—ã—Ö –º–∞—Å—Å–∏–≤–æ–≤, –∞ –∑–∞—Ç–µ–º –≤ —ç–∫–∑–µ–º–ø–ª—è—Ä—ã –∫–ª–∞—Å—Å–æ–≤ –≤—ã—Ä–∞–∂–µ–Ω–∏–π.</li>
<li><strong>–í—ã—á–∏—Å–ª–∏—Ç–µ–ª—å (Evaluator)</strong> ‚Äî —Ä–µ–∫—É—Ä—Å–∏–≤–Ω–æ –æ–±—Ö–æ–¥–∏—Ç –¥–µ—Ä–µ–≤–æ –∏ –≤—ã—á–∏—Å–ª—è–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ –∫–∞–∂–¥–æ–≥–æ —É–∑–ª–∞.</li>
</ol>
<hr />
<h2 id="ast"><a class="header" href="#ast">AST</a></h2>
<p>AST (Abstract Syntax Tree) ‚Äî –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω–æ–µ —Å–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–æ–µ –¥–µ—Ä–µ–≤–æ. –ö–∞–∂–¥—ã–π —É–∑–µ–ª –¥–µ—Ä–µ–≤–∞ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç –æ–¥–Ω—É —Å–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫—É—é –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏—é —è–∑—ã–∫–∞. –í –Ω–∞—à–µ–º —Å–ª—É—á–∞–µ —É–∑–ª–∞–º–∏ —è–≤–ª—è—é—Ç—Å—è:</p>
<ul>
<li><code>NumberExpression</code> ‚Äî —á–∏—Å–ª–æ–≤–æ–π –ª–∏—Ç–µ—Ä–∞–ª;</li>
<li><code>VariableExpression</code> ‚Äî —Å—Å—ã–ª–∫–∞ –Ω–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –∏–∑ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞;</li>
<li><code>OperationExpression</code> ‚Äî —Å–ø–∏—Å–æ–∫ —Å –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–º –∏ –æ–ø–µ—Ä–∞–Ω–¥–∞–º–∏.</li>
</ul>
<p>–í—Å–µ —É–∑–ª—ã —Ä–µ–∞–ª–∏–∑—É—é—Ç –µ–¥–∏–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å: –º–µ—Ç–æ–¥ <code>interpret(context)</code>, –∫–æ—Ç–æ—Ä—ã–π –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –≤—ã—á–∏—Å–ª–µ–Ω–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ.</p>
<pre><code>–î–µ—Ä–µ–≤–æ –¥–ª—è –≤—ã—Ä–∞–∂–µ–Ω–∏—è (+ (* x 2) y):

        OperationExpression(+)
       /                      \
OperationExpression(*)     VariableExpression(y)
      /        \
VariableExpression(x)   NumberExpression(2)
</code></pre>
<hr />
<h2 id="–ü–∞—Ä—Å–µ—Ä"><a class="header" href="#–ü–∞—Ä—Å–µ—Ä">–ü–∞—Ä—Å–µ—Ä</a></h2>
<h3 id="–®–∞–≥-1--–¢–æ–∫–µ–Ω–∏–∑–∞—Ç–æ—Ä"><a class="header" href="#–®–∞–≥-1--–¢–æ–∫–µ–Ω–∏–∑–∞—Ç–æ—Ä">–®–∞–≥ 1 ‚Äî –¢–æ–∫–µ–Ω–∏–∑–∞—Ç–æ—Ä</a></h3>
<p>–¢–æ–∫–µ–Ω–∏–∑–∞—Ç–æ—Ä –ø—Ä–∏–Ω–∏–º–∞–µ—Ç —Å—Ç—Ä–æ–∫—É —Å LISP-–≤—ã—Ä–∞–∂–µ–Ω–∏–µ–º –∏ –ø—Ä–µ–≤—Ä–∞—â–∞–µ—Ç –µ—ë –≤ –ø–ª–æ—Å–∫–∏–π –º–∞—Å—Å–∏–≤ —Ç–æ–∫–µ–Ω–æ–≤, –∞ –∑–∞—Ç–µ–º —Å—Ç—Ä–æ–∏—Ç –¥–µ—Ä–µ–≤–æ –≤–ª–æ–∂–µ–Ω–Ω—ã—Ö –º–∞—Å—Å–∏–≤–æ–≤ –ø–æ —Å–∫–æ–±–∫–∞–º.</p>
<pre><code class="language-typescript">// –¢–∏–ø —Ç–æ–∫–µ–Ω–∞: —á–∏—Å–ª–æ, —Å—Ç—Ä–æ–∫–∞-–∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –∏–ª–∏ –≤–ª–æ–∂–µ–Ω–Ω—ã–π —Å–ø–∏—Å–æ–∫
type Token = number | string | Token[];

/**
 * –¢–æ–∫–µ–Ω–∏–∑–∏—Ä—É–µ—Ç —Å—Ç—Ä–æ–∫—É LISP-–ø—Ä–æ–≥—Ä–∞–º–º—ã.
 * –†–∞–∑–¥–µ–ª—è–µ—Ç –ø–æ –ø—Ä–æ–±–µ–ª–∞–º –∏ —Å–∫–æ–±–∫–∞–º, —Å—Ç—Ä–æ–∏—Ç –¥–µ—Ä–µ–≤–æ –≤–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç–∏.
 *
 * –ü—Ä–∏–º–µ—Ä: "(+ 1 2)" =&gt; ["+", 1, 2]
 *         "(+ (* 2 3) 1)" =&gt; ["+", ["*", 2, 3], 1]
 */
function tokenize(input: string): Token[] {
  // –î–æ–±–∞–≤–ª—è–µ–º –ø—Ä–æ–±–µ–ª—ã –≤–æ–∫—Ä—É–≥ —Å–∫–æ–±–æ–∫, —á—Ç–æ–±—ã split —Ä–∞–±–æ—Ç–∞–ª –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
  const tokens = input
    .replace(/\(/g, ' ( ')
    .replace(/\)/g, ' ) ')
    .trim()
    .split(/\s+/)
    .filter(Boolean);

  const stack: Token[][] = [];
  let current: Token[] = [];

  for (const token of tokens) {
    if (token === '(') {
      // –û—Ç–∫—Ä—ã–≤–∞—é—â–∞—è —Å–∫–æ–±–∫–∞: —Å–æ—Ö—Ä–∞–Ω—è–µ–º —Ç–µ–∫—É—â–∏–π —É—Ä–æ–≤–µ–Ω—å –≤ —Å—Ç–µ–∫,
      // –Ω–∞—á–∏–Ω–∞–µ–º –Ω–æ–≤—ã–π –≤–ª–æ–∂–µ–Ω–Ω—ã–π —Å–ø–∏—Å–æ–∫
      stack.push(current);
      current = [];
    } else if (token === ')') {
      // –ó–∞–∫—Ä—ã–≤–∞—é—â–∞—è —Å–∫–æ–±–∫–∞: –∑–∞–≤–µ—Ä—à–∞–µ–º —Ç–µ–∫—É—â–∏–π —Å–ø–∏—Å–æ–∫,
      // –≤–æ–∑–≤—Ä–∞—â–∞–µ–º—Å—è –∫ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–º—É —É—Ä–æ–≤–Ω—é
      const completed = current;
      current = stack.pop()!;
      current.push(completed);
    } else {
      // –ß–∏—Å–ª–æ –∏–ª–∏ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä
      const num = Number(token);
      current.push(isNaN(num) ? token : num);
    }
  }

  return current[0] as Token[];
}
</code></pre>
<h3 id="–®–∞–≥-2--–£–∑–ª—ã-ast-–Ω–∞-typescript-–∫–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π-–ø–æ–¥—Ö–æ–¥-—Å-–Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ–º"><a class="header" href="#–®–∞–≥-2--–£–∑–ª—ã-ast-–Ω–∞-typescript-–∫–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π-–ø–æ–¥—Ö–æ–¥-—Å-–Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ–º">–®–∞–≥ 2 ‚Äî –£–∑–ª—ã AST –Ω–∞ TypeScript (–∫–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π –ø–æ–¥—Ö–æ–¥ —Å –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ–º)</a></h3>
<pre><code class="language-typescript">// –ö–æ–Ω—Ç–µ–∫—Å—Ç: —Å–ª–æ–≤–∞—Ä—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
type Context = Record&lt;string, number&gt;;

/**
 * –ê–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–π –±–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å –¥–ª—è –≤—Å–µ—Ö –≤—ã—Ä–∞–∂–µ–Ω–∏–π.
 * –í—Å–µ –Ω–∞—Å–ª–µ–¥–Ω–∏–∫–∏ –æ–±—è–∑–∞–Ω—ã —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –º–µ—Ç–æ–¥ interpret.
 */
abstract class Expression {
  abstract interpret(context: Context): number | number[];
}

/**
 * –ß–∏—Å–ª–æ–≤–æ–π –ª–∏—Ç–µ—Ä–∞–ª.
 * –ü—Ä–∏–º–µ—Ä: 42
 */
class NumberExpression extends Expression {
  constructor(private value: number) {
    super();
  }

  interpret(_context: Context): number {
    // –í–æ–∑–≤—Ä–∞—â–∞–µ–º —Ö—Ä–∞–Ω–∏–º–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ, –∫–æ–Ω—Ç–µ–∫—Å—Ç –Ω–µ –Ω—É–∂–µ–Ω
    return this.value;
  }
}

/**
 * –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è –∏–∑ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞.
 * –ü—Ä–∏–º–µ—Ä: x ‚Äî –±–µ—Ä—ë—Ç—Å—è –∏–∑ context["x"]
 */
class VariableExpression extends Expression {
  constructor(private name: string) {
    super();
  }

  interpret(context: Context): number {
    if (!(this.name in context)) {
      throw new Error(`–ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è "${this.name}" –Ω–µ –Ω–∞–π–¥–µ–Ω–∞ –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ`);
    }
    return context[this.name];
  }
}

/**
 * –í—ã—Ä–∞–∂–µ–Ω–∏–µ —Å –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–º –∏ –æ–ø–µ—Ä–∞–Ω–¥–∞–º–∏.
 * –ü—Ä–∏–º–µ—Ä: (+ 1 2) =&gt; –æ–ø–µ—Ä–∞—Ç–æ—Ä "+", –æ–ø–µ—Ä–∞–Ω–¥—ã [1, 2]
 */
class OperationExpression extends Expression {
  constructor(
    private operator: string,
    private operands: Expression[]
  ) {
    super();
  }

  interpret(context: Context): number {
    // –†–µ–∫—É—Ä—Å–∏–≤–Ω–æ –≤—ã—á–∏—Å–ª—è–µ–º –≤—Å–µ –æ–ø–µ—Ä–∞–Ω–¥—ã
    const values = this.operands.map((op) =&gt; op.interpret(context) as number);

    switch (this.operator) {
      case '+':
        return values.reduce((acc, v) =&gt; acc + v, 0);
      case '-':
        // –í—ã—á–∏—Ç–∞–µ–º –≤—Å–µ –æ—Å—Ç–∞–ª—å–Ω—ã–µ –∏–∑ –ø–µ—Ä–≤–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞
        return values.slice(1).reduce((acc, v) =&gt; acc - v, values[0]);
      case '*':
        return values.reduce((acc, v) =&gt; acc * v, 1);
      case '/':
        return values.slice(1).reduce((acc, v) =&gt; acc / v, values[0]);
      default:
        throw new Error(`–ù–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–π –æ–ø–µ—Ä–∞—Ç–æ—Ä: "${this.operator}"`);
    }
  }
}
</code></pre>
<h3 id="–®–∞–≥-3--–ü–∞—Ä—Å–µ—Ä-—Ç–æ–∫–µ–Ω—ã--ast"><a class="header" href="#–®–∞–≥-3--–ü–∞—Ä—Å–µ—Ä-—Ç–æ–∫–µ–Ω—ã--ast">–®–∞–≥ 3 ‚Äî –ü–∞—Ä—Å–µ—Ä: —Ç–æ–∫–µ–Ω—ã ‚Üí AST</a></h3>
<pre><code class="language-typescript">/**
 * –ü—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç —Ç–æ–∫–µ–Ω—ã (–≤–ª–æ–∂–µ–Ω–Ω—ã–π –º–∞—Å—Å–∏–≤) –≤ –¥–µ—Ä–µ–≤–æ Expression-–æ–±—ä–µ–∫—Ç–æ–≤.
 */
function parse(tokens: Token[]): Expression {
  if (!Array.isArray(tokens)) {
    // –ê—Ç–æ–º–∞—Ä–Ω—ã–π —Ç–æ–∫–µ–Ω: —á–∏—Å–ª–æ –∏–ª–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è
    if (typeof tokens === 'number') {
      return new NumberExpression(tokens);
    }
    return new VariableExpression(tokens as string);
  }

  // –°–ø–∏—Å–æ–∫: –ø–µ—Ä–≤—ã–π —ç–ª–µ–º–µ–Ω—Ç ‚Äî –æ–ø–µ—Ä–∞—Ç–æ—Ä, –æ—Å—Ç–∞–ª—å–Ω—ã–µ ‚Äî –æ–ø–µ—Ä–∞–Ω–¥—ã
  const [operator, ...rest] = tokens as [string, ...Token[]];
  const operands = rest.map((token) =&gt; parse(token));
  return new OperationExpression(operator, operands);
}
</code></pre>
<hr />
<h2 id="–í—ã—á–∏—Å–ª–∏—Ç–µ–ª—å-evaluator"><a class="header" href="#–í—ã—á–∏—Å–ª–∏—Ç–µ–ª—å-evaluator">–í—ã—á–∏—Å–ª–∏—Ç–µ–ª—å (Evaluator)</a></h2>
<p>–í—ã—á–∏—Å–ª–∏—Ç–µ–ª—å –≤ –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–æ–º –≤–∞—Ä–∏–∞–Ω—Ç–µ ‚Äî —ç—Ç–æ –ø—Ä–æ—Å—Ç–æ –≤—ã–∑–æ–≤ <code>interpret</code> –Ω–∞ –∫–æ—Ä–Ω–µ–≤–æ–º —É–∑–ª–µ AST. –ö–æ–Ω—Ç–µ–∫—Å—Ç –ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è –ø—Ä–∏ –≤—ã—á–∏—Å–ª–µ–Ω–∏–∏ –∏ —Å–æ–¥–µ—Ä–∂–∏—Ç –∑–Ω–∞—á–µ–Ω–∏—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö.</p>
<pre><code class="language-typescript">/**
 * Evaluator: –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –∫–æ—Ä–µ–Ω—å AST –∏ –∫–æ–Ω—Ç–µ–∫—Å—Ç,
 * –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤—ã—á–∏—Å–ª–µ–Ω–∏—è.
 */
class Evaluator {
  evaluate(expression: Expression, context: Context): number | number[] {
    return expression.interpret(context);
  }
}

// --- –ü–æ–ª–Ω—ã–π –ø—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è ---

const source = '(+ (* x 2) y)';

// 1. –¢–æ–∫–µ–Ω–∏–∑–∏—Ä—É–µ–º
const tokens = tokenize(source);
// =&gt; ["+", ["*", "x", 2], "y"]

// 2. –°—Ç—Ä–æ–∏–º AST
const ast = parse(tokens);

// 3. –í—ã—á–∏—Å–ª—è–µ–º —Å –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º { x: 3, y: 5 }
const evaluator = new Evaluator();
const result = evaluator.evaluate(ast, { x: 3, y: 5 });

console.log(`–†–µ–∑—É–ª—å—Ç–∞—Ç: ${result}`); // =&gt; –†–µ–∑—É–ª—å—Ç–∞—Ç: 11
// (3 * 2) + 5 = 6 + 5 = 11
</code></pre>
<hr />
<h2 id="–£–ø—Ä–æ—â—ë–Ω–Ω–∞—è-—Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è-–Ω–∞-javascript-–±–µ–∑-–Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è"><a class="header" href="#–£–ø—Ä–æ—â—ë–Ω–Ω–∞—è-—Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è-–Ω–∞-javascript-–±–µ–∑-–Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è">–£–ø—Ä–æ—â—ë–Ω–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –Ω–∞ JavaScript (–±–µ–∑ –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è)</a></h2>
<p>–í JavaScript –Ω–µ—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –≤ –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω–æ–º –∫–ª–∞—Å—Å–µ. –í–º–µ—Å—Ç–æ –∏–µ—Ä–∞—Ä—Ö–∏–∏ –∫–ª–∞—Å—Å–æ–≤ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫–æ–ª–ª–µ–∫—Ü–∏—è –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–≤ ‚Äî –æ–±—ã—á–Ω—ã–π –æ–±—ä–µ–∫—Ç-—Å–ª–æ–≤–∞—Ä—å. –≠—Ç–æ –¥–µ–ª–∞–µ—Ç —Å–∏—Å—Ç–µ–º—É –ª–µ–≥–∫–æ —Ä–∞—Å—à–∏—Ä—è–µ–º–æ–π: —á—Ç–æ–±—ã –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–π –æ–ø–µ—Ä–∞—Ç–æ—Ä, –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –∑–∞–ø–∏—Å—å –≤ —Å–ª–æ–≤–∞—Ä—å.</p>
<pre><code class="language-javascript">// –ö–æ–ª–ª–µ–∫—Ü–∏—è –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–≤: –∏–º—è =&gt; —Ñ—É–Ω–∫—Ü–∏—è
const operators = {
  '+': (values) =&gt; values.reduce((acc, v) =&gt; acc + v, 0),
  '-': (values) =&gt; values.slice(1).reduce((acc, v) =&gt; acc - v, values[0]),
  '*': (values) =&gt; values.reduce((acc, v) =&gt; acc * v, 1),
  '/': (values) =&gt; values.slice(1).reduce((acc, v) =&gt; acc / v, values[0]),
};

// NumberExpression ‚Äî –ø—Ä–æ—Å—Ç–æ –æ–±—ä–µ–∫—Ç —Å –º–µ—Ç–æ–¥–æ–º interpret
class NumberExpression {
  constructor(value) {
    this.value = value;
  }
  interpret(_context) {
    return this.value;
  }
}

// VariableExpression ‚Äî —á–∏—Ç–∞–µ—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –∏–∑ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞
class VariableExpression {
  constructor(name) {
    this.name = name;
  }
  interpret(context) {
    if (!(this.name in context)) {
      throw new Error(`–ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è "${this.name}" –Ω–µ –Ω–∞–π–¥–µ–Ω–∞ –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ`);
    }
    return context[this.name];
  }
}

// OperationExpression ‚Äî –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∫–æ–ª–ª–µ–∫—Ü–∏—é operators
class OperationExpression {
  constructor(operator, operands) {
    this.operator = operator;
    this.operands = operands;
  }
  interpret(context) {
    // –†–µ–∫—É—Ä—Å–∏–≤–Ω–æ –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∏—Ä—É–µ–º –∫–∞–∂–¥—ã–π –æ–ø–µ—Ä–∞–Ω–¥
    const values = this.operands.map((op) =&gt; op.interpret(context));
    const fn = operators[this.operator];
    if (!fn) throw new Error(`–ù–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–π –æ–ø–µ—Ä–∞—Ç–æ—Ä: "${this.operator}"`);
    return fn(values);
  }
}

// –¢–æ–∫–µ–Ω–∏–∑–∞—Ç–æ—Ä –∏ –ø–∞—Ä—Å–µ—Ä ‚Äî —Ç–µ –∂–µ, —á—Ç–æ –≤ TypeScript-–≤–µ—Ä—Å–∏–∏ (–∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞–Ω—ã –ø–æ–¥ JS)
function tokenize(input) {
  const tokens = input
    .replace(/\(/g, ' ( ')
    .replace(/\)/g, ' ) ')
    .trim()
    .split(/\s+/)
    .filter(Boolean);

  const stack = [];
  let current = [];

  for (const token of tokens) {
    if (token === '(') {
      stack.push(current);
      current = [];
    } else if (token === ')') {
      const completed = current;
      current = stack.pop();
      current.push(completed);
    } else {
      const num = Number(token);
      current.push(isNaN(num) ? token : num);
    }
  }

  return current[0];
}

function parse(tokens) {
  if (!Array.isArray(tokens)) {
    return typeof tokens === 'number'
      ? new NumberExpression(tokens)
      : new VariableExpression(tokens);
  }
  const [operator, ...rest] = tokens;
  return new OperationExpression(operator, rest.map(parse));
}

// –†–∞—Å—à–∏—Ä—è–µ–º –∫–æ–ª–ª–µ–∫—Ü–∏—é –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–≤ –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏—è –¥–≤–∏–∂–∫–∞:
operators['max'] = (values) =&gt; Math.max(...values);
operators['min'] = (values) =&gt; Math.min(...values);
</code></pre>
<hr />
<h2 id="–†–∞—Å—à–∏—Ä–µ–Ω–∏–µ-lisp-–æ–ø–µ—Ä–∞—Ü–∏–∏-–Ω–∞–¥-—Å–ø–∏—Å–∫–∞–º–∏"><a class="header" href="#–†–∞—Å—à–∏—Ä–µ–Ω–∏–µ-lisp-–æ–ø–µ—Ä–∞—Ü–∏–∏-–Ω–∞–¥-—Å–ø–∏—Å–∫–∞–º–∏">–†–∞—Å—à–∏—Ä–µ–Ω–∏–µ LISP: –æ–ø–µ—Ä–∞—Ü–∏–∏ –Ω–∞–¥ —Å–ø–∏—Å–∫–∞–º–∏</a></h2>
<p>LISP –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏ —Å—Ç—Ä–æ–∏—Ç—Å—è –≤–æ–∫—Ä—É–≥ –æ–ø–µ—Ä–∞—Ü–∏–π –Ω–∞–¥ —Å–ø–∏—Å–∫–∞–º–∏. –î–æ–±–∞–≤–∏–º –±–∞–∑–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏: <code>list</code>, <code>car</code> (–≥–æ–ª–æ–≤–∞ —Å–ø–∏—Å–∫–∞), <code>cdr</code> (—Ö–≤–æ—Å—Ç —Å–ø–∏—Å–∫–∞), <code>eq</code> (—Å—Ä–∞–≤–Ω–µ–Ω–∏–µ).</p>
<pre><code class="language-javascript">// –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
const isList = (x) =&gt; Array.isArray(x) &amp;&amp; x.length &gt; 0;
const car  = (lst) =&gt; isList(lst) ? lst[0] : null;       // head
const cdr  = (lst) =&gt; isList(lst) ? lst.slice(1) : null; // tail

// –†–∞—Å—à–∏—Ä—è–µ–º –∫–æ–ª–ª–µ–∫—Ü–∏—é –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–≤ —Å–ø–∏—Å–∫–æ–≤—ã–º–∏ –æ–ø–µ—Ä–∞—Ü–∏—è–º–∏
const lispOperators = {
  // –ê—Ä–∏—Ñ–º–µ—Ç–∏–∫–∞
  '+': (vals) =&gt; vals.reduce((a, v) =&gt; a + v, 0),
  '-': (vals) =&gt; vals.slice(1).reduce((a, v) =&gt; a - v, vals[0]),
  '*': (vals) =&gt; vals.reduce((a, v) =&gt; a * v, 1),
  '/': (vals) =&gt; vals.slice(1).reduce((a, v) =&gt; a / v, vals[0]),

  // –ö–æ–Ω—Å—Ç—Ä—É–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–ø–∏—Å–∫–∞
  // (list 7 3 1) =&gt; [7, 3, 1]
  'list': (vals) =&gt; vals,

  // –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–≤–µ–Ω—Å—Ç–≤–∞
  // (eq 3 3) =&gt; true
  'eq': (vals) =&gt; vals[0] === vals[1],

  // –ì–æ–ª–æ–≤–∞ —Å–ø–∏—Å–∫–∞
  // (car (list 7 3 1)) =&gt; 7
  'car': (vals) =&gt; car(vals[0]),

  // –•–≤–æ—Å—Ç —Å–ø–∏—Å–∫–∞
  // (cdr (list 7 3 1)) =&gt; [3, 1]
  'cdr': (vals) =&gt; cdr(vals[0]),
};

// OperationExpression —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π lispOperators
class LispOperationExpression {
  constructor(operator, operands) {
    this.operator = operator;
    this.operands = operands;
  }
  interpret(context) {
    const values = this.operands.map((op) =&gt; op.interpret(context));
    const fn = lispOperators[this.operator];
    if (!fn) throw new Error(`–ù–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–π –æ–ø–µ—Ä–∞—Ç–æ—Ä: "${this.operator}"`);
    return fn(values);
  }
}

function parseLisp(tokens) {
  if (!Array.isArray(tokens)) {
    return typeof tokens === 'number'
      ? new NumberExpression(tokens)
      : new VariableExpression(tokens);
  }
  const [operator, ...rest] = tokens;
  return new LispOperationExpression(operator, rest.map(parseLisp));
}

// –ó–∞–ø—É—Å–∫ LISP-–ø—Ä–æ–≥—Ä–∞–º–º—ã
function run(source, context = {}) {
  const tokens = tokenize(source);
  const ast = parseLisp(tokens);
  return ast.interpret(context);
}
</code></pre>
<hr />
<h2 id="–ü—Ä–∏–º–µ—Ä—ã-1"><a class="header" href="#–ü—Ä–∏–º–µ—Ä—ã-1">–ü—Ä–∏–º–µ—Ä—ã</a></h2>
<pre><code class="language-javascript">// –ê—Ä–∏—Ñ–º–µ—Ç–∏–∫–∞
console.log(run('(+ 2 5)'));           // 7
console.log(run('(* 3 4)'));           // 12
console.log(run('(- 10 3 2)'));        // 5

// –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∏–∑ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞
console.log(run('(+ x y)', { x: 3, y: 5 }));  // 8

// –í–ª–æ–∂–µ–Ω–Ω—ã–µ –≤—ã—Ä–∞–∂–µ–Ω–∏—è
console.log(run('(+ (* 2 3) 1)'));     // 7
console.log(run('(* (+ 1 2) (- 5 2))')); // 9

// –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –≤ —Å–ª–æ–∂–Ω—ã—Ö –≤—ã—Ä–∞–∂–µ–Ω–∏—è—Ö
console.log(run('(+ (* x 2) y)', { x: 3, y: 5 })); // 11

// –û–ø–µ—Ä–∞—Ü–∏–∏ –Ω–∞–¥ —Å–ø–∏—Å–∫–∞–º–∏
console.log(run('(list 7 3 1)'));
// =&gt; [7, 3, 1]

console.log(run('(car (list 7 3 1))'));
// =&gt; 7

console.log(run('(cdr (list 7 3 1))'));
// =&gt; [3, 1]

console.log(run('(eq 3 3)'));
// =&gt; true

console.log(run('(eq 3 5)'));
// =&gt; false

// –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞ –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏—è –¥–≤–∏–∂–∫–∞:
lispOperators['pow'] = (vals) =&gt; Math.pow(vals[0], vals[1]);
console.log(run('(pow 2 10)'));        // 1024
</code></pre>
<hr />
<h2 id="–¢—Ä–∞–Ω—Å–ª—è—Ç–æ—Ä-lisp--javascript-–∫–æ–Ω—Ü–µ–ø—Ü–∏—è"><a class="header" href="#–¢—Ä–∞–Ω—Å–ª—è—Ç–æ—Ä-lisp--javascript-–∫–æ–Ω—Ü–µ–ø—Ü–∏—è">–¢—Ä–∞–Ω—Å–ª—è—Ç–æ—Ä LISP ‚Üí JavaScript (–∫–æ–Ω—Ü–µ–ø—Ü–∏—è)</a></h2>
<p>–û–¥–Ω–æ –∏–∑ –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏—Ö –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–π AST ‚Äî —Ç—Ä–∞–Ω—Å–ª—è—Ü–∏—è –º–µ–∂–¥—É —è–∑—ã–∫–∞–º–∏. AST-–¥–µ—Ä–µ–≤–æ –º–æ–∂–Ω–æ –æ–±–æ–π—Ç–∏ –∏ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å —ç–∫–≤–∏–≤–∞–ª–µ–Ω—Ç–Ω—ã–π JavaScript-–∫–æ–¥, –∫–æ—Ç–æ—Ä—ã–π –∑–∞—Ç–µ–º –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –Ω–∞ –¥–≤–∏–∂–∫–µ V8 —Å –Ω–∞—Ç–∏–≤–Ω–æ–π —Å–∫–æ—Ä–æ—Å—Ç—å—é.</p>
<pre><code class="language-typescript">/**
 * –¢—Ä–∞–Ω—Å–ª–∏—Ä—É–µ—Ç AST LISP-–≤—ã—Ä–∞–∂–µ–Ω–∏—è –≤ —Å—Ç—Ä–æ–∫—É JavaScript-–∫–æ–¥–∞.
 */
function transpileToJS(tokens: Token[]): string {
  if (!Array.isArray(tokens)) {
    // –ê—Ç–æ–º: —á–∏—Å–ª–æ –∏–ª–∏ –∏–º—è –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π
    return String(tokens);
  }

  const [operator, ...operands] = tokens as [string, ...Token[]];
  const jsOperands = operands.map(transpileToJS);

  // –ê—Ä–∏—Ñ–º–µ—Ç–∏—á–µ—Å–∫–∏–µ –æ–ø–µ—Ä–∞—Ç–æ—Ä—ã —Ç—Ä–∞–Ω—Å–ª–∏—Ä—É—é—Ç—Å—è –Ω–∞–ø—Ä—è–º—É—é
  if (['+', '-', '*', '/'].includes(operator)) {
    return `(${jsOperands.join(` ${operator} `)})`;
  }

  // –î–ª—è —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–≤ ‚Äî –≤—ã–∑–æ–≤ —Ñ—É–Ω–∫—Ü–∏–π
  if (operator === 'list') {
    return `[${jsOperands.join(', ')}]`;
  }
  if (operator === 'car') {
    return `(${jsOperands[0]})[0]`;
  }
  if (operator === 'cdr') {
    return `(${jsOperands[0]}).slice(1)`;
  }

  // –ù–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–π –æ–ø–µ—Ä–∞—Ç–æ—Ä ‚Äî –≤—ã–∑–æ–≤ —Ñ—É–Ω–∫—Ü–∏–∏
  return `${operator}(${jsOperands.join(', ')})`;
}

// –ü—Ä–∏–º–µ—Ä —Ç—Ä–∞–Ω—Å–ª—è—Ü–∏–∏
const lisp1 = tokenize('(+ (* x 2) y)');
console.log(transpileToJS(lisp1));
// =&gt; ((x * 2) + y)

const lisp2 = tokenize('(+ 1 (* 3 4))');
console.log(transpileToJS(lisp2));
// =&gt; (1 + (3 * 4))

// –í—ã–ø–æ–ª–Ω—è–µ–º —Ç—Ä–∞–Ω—Å–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–æ–¥
const code = transpileToJS(tokenize('(+ (* x 2) y)'));
const fn = new Function('x', 'y', `return ${code};`);
console.log(fn(3, 5)); // =&gt; 11
</code></pre>
<hr />
<h2 id="–ü–æ–ª–Ω—ã–π-–ø—Ä–∏–º–µ—Ä-typescript-–∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä"><a class="header" href="#–ü–æ–ª–Ω—ã–π-–ø—Ä–∏–º–µ—Ä-typescript-–∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä">–ü–æ–ª–Ω—ã–π –ø—Ä–∏–º–µ—Ä: TypeScript-–∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä</a></h2>
<p>–ù–∏–∂–µ –ø—Ä–∏–≤–µ–¥—ë–Ω –ø–æ–ª–Ω—ã–π —Å–∞–º–æ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω—ã–π –ø—Ä–∏–º–µ—Ä –Ω–∞ TypeScript, –æ–±—ä–µ–¥–∏–Ω—è—é—â–∏–π –≤—Å–µ —á–∞—Å—Ç–∏:</p>
<pre><code class="language-typescript">// === types ===
type Token = number | string | Token[];
type Context = Record&lt;string, number | number[]&gt;;

// === AST Nodes ===
interface Expression {
  interpret(context: Context): number | number[] | boolean;
}

class NumberExpression implements Expression {
  constructor(private value: number) {}
  interpret(_ctx: Context) { return this.value; }
}

class VariableExpression implements Expression {
  constructor(private name: string) {}
  interpret(ctx: Context) {
    if (!(this.name in ctx)) throw new Error(`–ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è –Ω–µ –Ω–∞–π–¥–µ–Ω–∞: ${this.name}`);
    return ctx[this.name] as number;
  }
}

// –ö–æ–ª–ª–µ–∫—Ü–∏—è –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–≤ ‚Äî –ª–µ–≥–∫–æ —Ä–∞—Å—à–∏—Ä—è–µ—Ç—Å—è
const ops: Record&lt;string, (vals: any[]) =&gt; any&gt; = {
  '+':    (v) =&gt; v.reduce((a: number, x: number) =&gt; a + x, 0),
  '-':    (v) =&gt; v.slice(1).reduce((a: number, x: number) =&gt; a - x, v[0]),
  '*':    (v) =&gt; v.reduce((a: number, x: number) =&gt; a * x, 1),
  '/':    (v) =&gt; v.slice(1).reduce((a: number, x: number) =&gt; a / x, v[0]),
  'list': (v) =&gt; v,
  'eq':   (v) =&gt; v[0] === v[1],
  'car':  (v) =&gt; Array.isArray(v[0]) ? v[0][0] : null,
  'cdr':  (v) =&gt; Array.isArray(v[0]) ? v[0].slice(1) : null,
};

class OperationExpression implements Expression {
  constructor(
    private operator: string,
    private operands: Expression[]
  ) {}

  interpret(ctx: Context) {
    const values = this.operands.map((op) =&gt; op.interpret(ctx));
    const fn = ops[this.operator];
    if (!fn) throw new Error(`–ù–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–π –æ–ø–µ—Ä–∞—Ç–æ—Ä: ${this.operator}`);
    return fn(values);
  }
}

// === Tokenizer ===
function tokenize(input: string): Token[] {
  const raw = input.replace(/\(/g, ' ( ').replace(/\)/g, ' ) ')
    .trim().split(/\s+/).filter(Boolean);
  const stack: Token[][] = [];
  let cur: Token[] = [];
  for (const t of raw) {
    if (t === '(') { stack.push(cur); cur = []; }
    else if (t === ')') { const done = cur; cur = stack.pop()!; cur.push(done); }
    else { const n = Number(t); cur.push(isNaN(n) ? t : n); }
  }
  return cur[0] as Token[];
}

// === Parser ===
function parse(tokens: Token[]): Expression {
  if (!Array.isArray(tokens)) {
    return typeof tokens === 'number'
      ? new NumberExpression(tokens)
      : new VariableExpression(tokens as string);
  }
  const [op, ...rest] = tokens as [string, ...Token[]];
  return new OperationExpression(op, rest.map(parse));
}

// === Runner ===
function run(src: string, ctx: Context = {}): any {
  return parse(tokenize(src)).interpret(ctx);
}

// === –¢–µ—Å—Ç—ã ===
console.log(run('(+ 2 5)'));                        // 7
console.log(run('(+ (* x 2) y)', { x: 3, y: 5 })); // 11
console.log(run('(list 7 3 1)'));                   // [7, 3, 1]
console.log(run('(car (list 7 3 1))'));             // 7
console.log(run('(cdr (list 7 3 1))'));             // [3, 1]
console.log(run('(eq 3 3)'));                       // true

// –î–æ–±–∞–≤–ª—è–µ–º –æ–ø–µ—Ä–∞—Ç–æ—Ä –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏—è –¥–≤–∏–∂–∫–∞
ops['pow'] = (v) =&gt; Math.pow(v[0], v[1]);
console.log(run('(pow 2 10)'));                     // 1024
</code></pre>
<hr />
<h2 id="–ò—Ç–æ–≥-3"><a class="header" href="#–ò—Ç–æ–≥-3">–ò—Ç–æ–≥</a></h2>
<p>–ü–∞—Ç—Ç–µ—Ä–Ω <strong>Interpreter</strong> —Ä–µ–∞–ª–∏–∑—É–µ—Ç —Å–ª–µ–¥—É—é—â–∏–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã:</p>
<ol>
<li><strong>–†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏</strong> ‚Äî —Ç–æ–∫–µ–Ω–∏–∑–∞—Ç–æ—Ä, –ø–∞—Ä—Å–µ—Ä –∏ –≤—ã—á–∏—Å–ª–∏—Ç–µ–ª—å –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã.</li>
<li><strong>–û—Ç–∫—Ä—ã—Ç–æ—Å—Ç—å/–∑–∞–∫—Ä—ã—Ç–æ—Å—Ç—å (OCP)</strong> ‚Äî –¥–≤–∏–∂–æ–∫ –Ω–µ –º–µ–Ω—è–µ—Ç—Å—è –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –Ω–æ–≤—ã—Ö –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–≤: –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Ä–∞—Å—à–∏—Ä–∏—Ç—å –∫–æ–ª–ª–µ–∫—Ü–∏—é <code>ops</code>.</li>
<li><strong>–†–µ–∫—É—Ä—Å–∏–≤–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞</strong> ‚Äî AST –æ–±—Ö–æ–¥–∏—Ç—Å—è —Ä–µ–∫—É—Ä—Å–∏–≤–Ω–æ; –∫–∞–∂–¥—ã–π —É–∑–µ–ª —É–º–µ–µ—Ç –≤—ã—á–∏—Å–ª—è—Ç—å —Å–µ–±—è —Å–∞–º.</li>
<li><strong>–ò–º–º—É—Ç–∞–±–µ–ª—å–Ω–æ—Å—Ç—å</strong> ‚Äî –≤ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–º —Å—Ç–∏–ª–µ –∫–∞–∂–¥–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –Ω–æ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ, –Ω–µ –º—É—Ç–∏—Ä—É—è –≤—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ.</li>
</ol>
<h3 id="–ö–æ–≥–¥–∞-–ø—Ä–∏–º–µ–Ω—è—Ç—å-1"><a class="header" href="#–ö–æ–≥–¥–∞-–ø—Ä–∏–º–µ–Ω—è—Ç—å-1">–ö–æ–≥–¥–∞ –ø—Ä–∏–º–µ–Ω—è—Ç—å</a></h3>
<div class="table-wrapper"><table><thead><tr><th>–°–∏—Ç—É–∞—Ü–∏—è</th><th>–ü—Ä–∏–º–µ—Ä</th></tr></thead><tbody>
<tr><td>DSL –¥–ª—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π</td><td>–û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–∞–≤–∏–ª –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏</td></tr>
<tr><td>–†–∞—Å–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è</td><td>–ü–µ—Ä–µ–¥–∞—á–∞ –≤—ã—Ä–∞–∂–µ–Ω–∏–π –º–µ–∂–¥—É —Å–µ—Ä–≤–∏—Å–∞–º–∏</td></tr>
<tr><td>–ö—Ä–æ—Å—Å–ø–ª–∞—Ç—Ñ–æ—Ä–º–µ–Ω–Ω–æ—Å—Ç—å</td><td>–ü–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—ã—Ä–∞–∂–µ–Ω–∏–π –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã–π –¥–≤–∏–∂–æ–∫</td></tr>
<tr><td>–ê–Ω–∞–ª–∏–∑ –∫–æ–¥–∞</td><td>–û–±—Ö–æ–¥ AST –¥–ª—è –ª–∏–Ω—Ç–∏–Ω–≥–∞ –∏ —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏–π</td></tr>
<tr><td>–†–∞—Å—à–∏—Ä—è–µ–º—ã–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å</td><td>–ú–∞–∫—Ä–æ—Å—ã, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –æ–ø–µ—Ä–∞—Ç–æ—Ä—ã</td></tr>
</tbody></table>
</div>
<p>–ö–ª—é—á–µ–≤–æ–µ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–æ –ø–æ–¥—Ö–æ–¥–∞: <strong>–¥–≤–∏–∂–æ–∫ –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä–∞ –∑–∞–Ω–∏–º–∞–µ—Ç –º–µ–Ω–µ–µ 100 —Å—Ç—Ä–æ–∫</strong>, –ø—Ä–∏ —ç—Ç–æ–º —Å–∞–º —è–∑—ã–∫ –º–æ–∂–Ω–æ —Ä–∞—Å—à–∏—Ä—è—Ç—å –¥–æ –ª—é–±–æ–π —Å–ª–æ–∂–Ω–æ—Å—Ç–∏ —á–µ—Ä–µ–∑ –∫–æ–ª–ª–µ–∫—Ü–∏—é –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–≤ ‚Äî –±–µ–∑ –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏–∏ —è–¥—Ä–∞.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="week-10---all-agnostic-strategy-framework-independence"><a class="header" href="#week-10---all-agnostic-strategy-framework-independence">Week 10 - All-agnostic Strategy: Framework Independence</a></h1>
<ul>
<li><a href="week10/lecture-dip-intro.html">SOLID DIP ‚Äî –ü—Ä–∏–Ω—Ü–∏–ø –∏–Ω–≤–µ—Ä—Å–∏–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π (—Ç–µ–æ—Ä–∏—è)</a></li>
<li><a href="week10/lecture-dip-practical.html">SOLID DIP ‚Äî –†–∞–∑–±–æ—Ä –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–æ–≥–æ –ø—Ä–∏–º–µ—Ä–∞ –∫–æ–¥–∞</a></li>
<li><a href="week10/lecture-service-locator.html">Service Locator ‚Äî –ø–∞—Ç—Ç–µ—Ä–Ω –ø–æ–ª—É—á–µ–Ω–∏—è –∏ –ø–æ–¥–º–µ–Ω—ã –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="–ü—Ä–∏–Ω—Ü–∏–ø-–∏–Ω–≤–µ—Ä—Å–∏–∏-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π-dip--solid"><a class="header" href="#–ü—Ä–∏–Ω—Ü–∏–ø-–∏–Ω–≤–µ—Ä—Å–∏–∏-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π-dip--solid">–ü—Ä–∏–Ω—Ü–∏–ø –∏–Ω–≤–µ—Ä—Å–∏–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π (DIP) ‚Äî SOLID</a></h1>
<h2 id="–í–≤–µ–¥–µ–Ω–∏–µ-17"><a class="header" href="#–í–≤–µ–¥–µ–Ω–∏–µ-17">–í–≤–µ–¥–µ–Ω–∏–µ</a></h2>
<p>–ü—Ä–∏–Ω—Ü–∏–ø –∏–Ω–≤–µ—Ä—Å–∏–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π (Dependency Inversion Principle, DIP) ‚Äî –æ–¥–∏–Ω –∏–∑ —Å–∞–º—ã—Ö —Å–ª–æ–∂–Ω—ã—Ö, –Ω–µ–¥–æ–ø–æ–Ω—è—Ç—ã—Ö –∏ –ø—Ä–∏ —ç—Ç–æ–º –Ω–∞–∏–±–æ–ª–µ–µ –ø–æ–ª–µ–∑–Ω—ã—Ö –ø—Ä–∏–Ω—Ü–∏–ø–æ–≤ SOLID. –ò–º–µ–Ω–Ω–æ –æ–Ω –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç –ø—É—Ç—å –∫ –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—é –Ω–∞—Å—Ç–æ—è—â–µ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π.</p>
<p>–ï—Å–ª–∏ –æ—Å—Ç–∞–ª—å–Ω—ã–µ —á–µ—Ç—ã—Ä–µ –ø—Ä–∏–Ω—Ü–∏–ø–∞ SOLID –∫–∞—Å–∞—é—Ç—Å—è –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–µ–Ω–Ω–æ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –æ—Ç–¥–µ–ª—å–Ω—ã—Ö –∫–ª–∞—Å—Å–æ–≤ –∏ –º–æ–¥—É–ª–µ–π, —Ç–æ DIP –≤—ã–≤–æ–¥–∏—Ç –Ω–∞—Å –Ω–∞ —É—Ä–æ–≤–µ–Ω—å –≤—ã—à–µ: –æ–Ω –æ–ø–∏—Å—ã–≤–∞–µ—Ç, –∫–∞–∫ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞–Ω—ã <strong>—Å–ª–æ–∏</strong> –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –∏ –∫–∞–∫ –æ–Ω–∏ –¥–æ–ª–∂–Ω—ã –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–æ–≤–∞—Ç—å –º–µ–∂–¥—É —Å–æ–±–æ–π.</p>
<p>–¶–µ–ª—å –ø—Ä–∏–Ω—Ü–∏–ø–∞ ‚Äî —Å–¥–µ–ª–∞—Ç—å –ª–æ–≥–∏–∫—É –ø—Ä–µ–¥–º–µ—Ç–Ω–æ–π –æ–±–ª–∞—Å—Ç–∏ (–¥–æ–º–µ–Ω–Ω—ã–π —Å–ª–æ–π) –ø–µ—Ä–µ–Ω–æ—Å–∏–º–æ–π –∏ –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ–π: –µ—ë –º–æ–∂–Ω–æ –∑–∞–ø—É—Å—Ç–∏—Ç—å –Ω–∞ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–µ, –±—ç–∫–µ–Ω–¥–µ, –≤ –º–æ–±–∏–ª—å–Ω–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –∏–ª–∏ –¥–∞–∂–µ –≤—Å—Ç—Ä–æ–∏—Ç—å –≤ –ø—Ä–æ–≥—Ä–∞–º–º—É, –Ω–∞–ø–∏—Å–∞–Ω–Ω—É—é –Ω–∞ –¥—Ä—É–≥–æ–º —è–∑—ã–∫–µ, –µ—Å–ª–∏ —Ç–æ—Ç –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç JavaScript-—Ä–∞–Ω—Ç–∞–π–º.</p>
<hr />
<h2 id="–ü—Ä–∏–Ω—Ü–∏–ø-–∏–Ω–≤–µ—Ä—Å–∏–∏-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π"><a class="header" href="#–ü—Ä–∏–Ω—Ü–∏–ø-–∏–Ω–≤–µ—Ä—Å–∏–∏-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π">–ü—Ä–∏–Ω—Ü–∏–ø –∏–Ω–≤–µ—Ä—Å–∏–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π</a></h2>
<p>–§–æ—Ä–º—É–ª–∏—Ä–æ–≤–∫–∞ –ø—Ä–∏–Ω—Ü–∏–ø–∞ —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ –¥–≤—É—Ö —á–∞—Å—Ç–µ–π:</p>
<ol>
<li><strong>–ú–æ–¥—É–ª–∏ –≤–µ—Ä—Ö–Ω–∏—Ö —É—Ä–æ–≤–Ω–µ–π –Ω–µ –¥–æ–ª–∂–Ω—ã –∑–∞–≤–∏—Å–µ—Ç—å –æ—Ç –º–æ–¥—É–ª–µ–π –Ω–∏–∂–Ω–∏—Ö —É—Ä–æ–≤–Ω–µ–π.</strong> –û–±–∞ –¥–æ–ª–∂–Ω—ã –∑–∞–≤–∏—Å–µ—Ç—å –æ—Ç –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–π (–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤).</li>
<li><strong>–ê–±—Å—Ç—Ä–∞–∫—Ü–∏–∏ –Ω–µ –¥–æ–ª–∂–Ω—ã –∑–∞–≤–∏—Å–µ—Ç—å –æ—Ç –¥–µ—Ç–∞–ª–µ–π.</strong> –î–µ—Ç–∞–ª–∏ (–∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏) –¥–æ–ª–∂–Ω—ã –∑–∞–≤–∏—Å–µ—Ç—å –æ—Ç –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–π.</li>
</ol>
<h3 id="–ß—Ç–æ-—Ç–∞–∫–æ–µ-–≤–µ—Ä—Ö–Ω–∏–π-–∏-–Ω–∏–∂–Ω–∏–π-—É—Ä–æ–≤–µ–Ω—å"><a class="header" href="#–ß—Ç–æ-—Ç–∞–∫–æ–µ-–≤–µ—Ä—Ö–Ω–∏–π-–∏-–Ω–∏–∂–Ω–∏–π-—É—Ä–æ–≤–µ–Ω—å">–ß—Ç–æ —Ç–∞–∫–æ–µ "–≤–µ—Ä—Ö–Ω–∏–π" –∏ "–Ω–∏–∂–Ω–∏–π" —É—Ä–æ–≤–µ–Ω—å?</a></h3>
<p>–í —Ç–∏–ø–∏—á–Ω–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –º–æ–∂–Ω–æ –≤—ã–¥–µ–ª–∏—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–ª–æ—ë–≤:</p>
<pre><code>‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ      –î–æ–º–µ–Ω–Ω–∞—è –º–æ–¥–µ–ª—å        ‚îÇ  ‚Üê –≤–µ—Ä—Ö–Ω–∏–π —É—Ä–æ–≤–µ–Ω—å
‚îÇ   (Employee, Payroll, ...)  ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ     –ë–∏–∑–Ω–µ—Å-—Å–µ—Ä–≤–∏—Å—ã          ‚îÇ  ‚Üê —Å—Ä–µ–¥–Ω–∏–π —É—Ä–æ–≤–µ–Ω—å
‚îÇ  (PayrollService, ...)      ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ      –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞         ‚îÇ  ‚Üê –Ω–∏–∂–Ω–∏–π —É—Ä–æ–≤–µ–Ω—å
‚îÇ  (Logger, Storage, Server)  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
</code></pre>
<p>–í –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ "–ª—É–∫–æ–≤–∏—Ü–∞" (Onion Architecture) –∏–ª–∏ —á–∏—Å—Ç–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ (Clean Architecture) –¥–æ–º–µ–Ω–Ω–∞—è –º–æ–¥–µ–ª—å –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ —Ü–µ–Ω—Ç—Ä–µ –∏ <strong>–Ω–µ –¥–æ–ª–∂–Ω–∞ –∑–Ω–∞—Ç—å –Ω–∏—á–µ–≥–æ</strong> –æ —Å–ª–æ—è—Ö —Å–Ω–∞—Ä—É–∂–∏: –Ω–∏ –æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –°–£–ë–î, –Ω–∏ –æ —Å–µ—Ç–µ–≤–æ–º –ø—Ä–æ—Ç–æ–∫–æ–ª–µ, –Ω–∏ –æ —Å–ø–æ—Å–æ–±–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è, –Ω–∏ –æ–± –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.</p>
<h3 id="–ü–æ—á–µ–º—É-—ç—Ç–æ-–≤–∞–∂–Ω–æ-3"><a class="header" href="#–ü–æ—á–µ–º—É-—ç—Ç–æ-–≤–∞–∂–Ω–æ-3">–ü–æ—á–µ–º—É —ç—Ç–æ –≤–∞–∂–Ω–æ</a></h3>
<p>–ö–æ–≥–¥–∞ –≤–µ—Ä—Ö–Ω–∏–π —É—Ä–æ–≤–µ–Ω—å –Ω–∞–ø—Ä—è–º—É—é –∏–º–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç –Ω–∏–∂–Ω–∏–π ‚Äî –º–µ–∂–¥—É –Ω–∏–º–∏ –≤–æ–∑–Ω–∏–∫–∞–µ—Ç –∂—ë—Å—Ç–∫–∞—è —Å–≤—è–∑—å (tight coupling). –°—Ç—Ä–µ–ª–∫–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω—ã –≤–Ω–∏–∑. –ï—Å–ª–∏ –Ω–∏–∂–Ω–∏–π —É—Ä–æ–≤–µ–Ω—å –∏–∑–º–µ–Ω–∏—Ç—Å—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, –≤—ã –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç–µ —Å HTTP –Ω–∞ HTTP/2 –∏–ª–∏ –º–µ–Ω—è–µ—Ç–µ S3-—Ö—Ä–∞–Ω–∏–ª–∏—â–µ –Ω–∞ –ª–æ–∫–∞–ª—å–Ω—ã–π –¥–∏—Å–∫), –≤–∞–º –ø—Ä–∏–¥—ë—Ç—Å—è –º–µ–Ω—è—Ç—å –∏ –≤–µ—Ä—Ö–Ω–∏–π —É—Ä–æ–≤–µ–Ω—å.</p>
<p>DIP –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç <strong>–∏–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å</strong> —ç—Ç–∏ —Å—Ç—Ä–µ–ª–∫–∏: –ø—É—Å—Ç—å –Ω–∏–∂–Ω–∏–π —É—Ä–æ–≤–µ–Ω—å <strong>–∑–∞–≤–∏—Å–∏—Ç –æ—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞</strong>, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∏—Ç –≤–µ—Ä—Ö–Ω–µ–º—É —É—Ä–æ–≤–Ω—é, –∞ –Ω–µ –Ω–∞–æ–±–æ—Ä–æ—Ç.</p>
<blockquote>
<p>–ü—Ä–∏–Ω—Ü–∏–ø DIP –ø—Ä–∏–º–µ–Ω–∏–º –Ω–µ —Ç–æ–ª—å–∫–æ –≤ –û–û–ü. –û–Ω –æ–¥–∏–Ω–∞–∫–æ–≤–æ —Ö–æ—Ä–æ—à–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ –ø—Ä–æ—Ü–µ–¥—É—Ä–Ω–æ–º, —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–º, —Ä–µ–∞–∫—Ç–∏–≤–Ω–æ–º –∏ –º—É–ª—å—Ç–∏–ø–∞—Ä–∞–¥–∏–≥–º–µ–Ω–Ω–æ–º –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–∏.</p>
</blockquote>
<hr />
<h2 id="–î–æ-–∏-–ü–æ—Å–ª–µ"><a class="header" href="#–î–æ-–∏-–ü–æ—Å–ª–µ">–î–æ –∏ –ü–æ—Å–ª–µ</a></h2>
<h3 id="–°–∏—Ç—É–∞—Ü–∏—è-–¥–æ-–∂—ë—Å—Ç–∫–∞—è-—Å–≤—è–∑—å"><a class="header" href="#–°–∏—Ç—É–∞—Ü–∏—è-–¥–æ-–∂—ë—Å—Ç–∫–∞—è-—Å–≤—è–∑—å">–°–∏—Ç—É–∞—Ü–∏—è "–¥–æ": –∂—ë—Å—Ç–∫–∞—è —Å–≤—è–∑—å</a></h3>
<p>–†–∞—Å—Å–º–æ—Ç—Ä–∏–º –ø—Ä–æ—Å—Ç–æ–π —Ñ–∞–π–ª–æ–≤—ã–π —Å–µ—Ä–≤–µ—Ä –Ω–∞ Node.js. –ï—Å—Ç—å —Ç—Ä–∏ –º–æ–¥—É–ª—è:</p>
<ul>
<li><code>logger.js</code> ‚Äî –ª–æ–≥–∏—Ä—É–µ—Ç –∑–∞–ø—Ä–æ—Å—ã —á–µ—Ä–µ–∑ <code>console</code></li>
<li><code>storage.js</code> ‚Äî —á–∏—Ç–∞–µ—Ç —Ñ–∞–π–ª—ã —Å –¥–∏—Å–∫–∞ —á–µ—Ä–µ–∑ <code>ReadableStream</code></li>
<li><code>server.js</code> ‚Äî HTTP-—Å–µ—Ä–≤–µ—Ä, –∫–æ—Ç–æ—Ä—ã–π –∏—Å–ø–æ–ª—å–∑—É–µ—Ç <code>logger</code> –∏ <code>storage</code></li>
</ul>
<p>–ö–∞–∂–¥—ã–π –º–æ–¥—É–ª—å –Ω–∞–ø—Ä—è–º—É—é –∏–º–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –¥—Ä—É–≥ –¥—Ä—É–≥–∞. –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –≤—ã–≥–ª—è–¥—è—Ç —Ç–∞–∫:</p>
<pre><code>server.js  ‚Üí  logger.js  ‚Üí  console (Node.js)
           ‚Üí  storage.js ‚Üí  ReadableStream (Node.js)
</code></pre>
<p>–ü—Ä–æ–±–ª–µ–º–∞: <code>server.js</code> –Ω–∞–º–µ—Ä—Ç–≤–æ –ø—Ä–∏–≤—è–∑–∞–Ω –∫ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–º—É –ª–æ–≥–µ—Ä—É –∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–º—É —Ö—Ä–∞–Ω–∏–ª–∏—â—É. –•–æ—Ç–∏—Ç–µ –ø–∏—Å–∞—Ç—å –ª–æ–≥–∏ –≤ —Ñ–∞–π–ª? –•–æ—Ç–∏—Ç–µ –æ—Ç–¥–∞–≤–∞—Ç—å —Ñ–∞–π–ª—ã –∏–∑ S3? –ü—Ä–∏–¥—ë—Ç—Å—è –º–µ–Ω—è—Ç—å –∫–æ–¥ —Å–µ—Ä–≤–µ—Ä–∞.</p>
<h3 id="–°–∏—Ç—É–∞—Ü–∏—è-–ø–æ—Å–ª–µ-–∏–Ω–≤–µ—Ä—Å–∏—è-—á–µ—Ä–µ–∑-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã"><a class="header" href="#–°–∏—Ç—É–∞—Ü–∏—è-–ø–æ—Å–ª–µ-–∏–Ω–≤–µ—Ä—Å–∏—è-—á–µ—Ä–µ–∑-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã">–°–∏—Ç—É–∞—Ü–∏—è "–ø–æ—Å–ª–µ": –∏–Ω–≤–µ—Ä—Å–∏—è —á–µ—Ä–µ–∑ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã</a></h3>
<p>–ü–æ—Å–ª–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è DIP –º—ã –≤–≤–æ–¥–∏–º <strong>–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã</strong> (–∫–æ–Ω—Ç—Ä–∞–∫—Ç—ã). –ö–∞–∂–¥—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∏—Ç —Ç–æ–º—É —Å–ª–æ—é, –∫–æ—Ç–æ—Ä—ã–π –µ–≥–æ <strong>–∏—Å–ø–æ–ª—å–∑—É–µ—Ç</strong>, –∞ –Ω–µ —Ç–æ–º—É, –∫–æ—Ç–æ—Ä—ã–π –µ–≥–æ —Ä–µ–∞–ª–∏–∑—É–µ—Ç.</p>
<pre><code>server.js  ‚Üí  ILogger    ‚Üê  logger.js
           ‚Üí  IStorage   ‚Üê  storage.js
           ‚Üí  IStatic    ‚Üê  httpServer.js / http2Server.js
</code></pre>
<p>–¢–µ–ø–µ—Ä—å <code>server.js</code> –∑–∞–≤–∏—Å–∏—Ç —Ç–æ–ª—å–∫–æ –æ—Ç –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–π. –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ ‚Äî <code>logger.js</code>, <code>storage.js</code> ‚Äî —Å–∞–º–∏ –∑–∞–≤–∏—Å—è—Ç –æ—Ç —ç—Ç–∏—Ö –∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤. –°—Ç—Ä–µ–ª–∫–∏ –∏–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞–Ω—ã.</p>
<hr />
<h2 id="–†–µ–∞–ª–∏–∑–∞—Ü–∏—è-6"><a class="header" href="#–†–µ–∞–ª–∏–∑–∞—Ü–∏—è-6">–†–µ–∞–ª–∏–∑–∞—Ü–∏—è</a></h2>
<h3 id="–ü—Ä–∏–º–µ—Ä-–±–µ–∑-dip-–Ω–∞—Ä—É—à–µ–Ω–∏–µ-–ø—Ä–∏–Ω—Ü–∏–ø–∞"><a class="header" href="#–ü—Ä–∏–º–µ—Ä-–±–µ–∑-dip-–Ω–∞—Ä—É—à–µ–Ω–∏–µ-–ø—Ä–∏–Ω—Ü–∏–ø–∞">–ü—Ä–∏–º–µ—Ä –±–µ–∑ DIP (–Ω–∞—Ä—É—à–µ–Ω–∏–µ –ø—Ä–∏–Ω—Ü–∏–ø–∞)</a></h3>
<pre><code class="language-javascript">// logger.js ‚Äî –∫–æ–Ω–∫—Ä–µ—Ç–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ console
class ConsoleLogger {
  log(message) {
    console.log(`[LOG] ${message}`);
  }
}

module.exports = { ConsoleLogger };
</code></pre>
<pre><code class="language-javascript">// storage.js ‚Äî –∫–æ–Ω–∫—Ä–µ—Ç–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ —Ñ–∞–π–ª–æ–≤—É—é —Å–∏—Å—Ç–µ–º—É
const fs = require('fs');

class FileStorage {
  getFile(path) {
    // –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç ReadableStream –Ω–∞–ø—Ä—è–º—É—é
    return fs.createReadStream(path);
  }
}

module.exports = { FileStorage };
</code></pre>
<pre><code class="language-javascript">// server.js ‚Äî –∂—ë—Å—Ç–∫–∞—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –æ—Ç –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö –∫–ª–∞—Å—Å–æ–≤
const http = require('http');
const { ConsoleLogger } = require('./logger');   // –∏–º–ø–æ—Ä—Ç –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –∫–ª–∞—Å—Å–∞
const { FileStorage }   = require('./storage');  // –∏–º–ø–æ—Ä—Ç –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –∫–ª–∞—Å—Å–∞

class StaticServer {
  constructor() {
    // –í–µ—Ä—Ö–Ω–∏–π —É—Ä–æ–≤–µ–Ω—å —Å–∞–º —Å–æ–∑–¥–∞—ë—Ç –¥–µ—Ç–∞–ª–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ ‚Äî –Ω–∞—Ä—É—à–µ–Ω–∏–µ DIP
    this.logger  = new ConsoleLogger();
    this.storage = new FileStorage();
  }

  serveStatic(req, res) {
    this.logger.log(`Request: ${req.url}`);
    const stream = this.storage.getFile(`.${req.url}`);
    stream.pipe(res);
  }
}

const server = new StaticServer();
http.createServer((req, res) =&gt; server.serveStatic(req, res)).listen(3000);
</code></pre>
<p><strong>–ü—Ä–æ–±–ª–µ–º–∞:</strong> <code>StaticServer</code> –∑–Ω–∞–µ—Ç –ø—Ä–æ <code>ConsoleLogger</code> –∏ <code>FileStorage</code>. –ß—Ç–æ–±—ã –∑–∞–º–µ–Ω–∏—Ç—å –ª–æ–≥–µ—Ä –∏–ª–∏ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ, –Ω—É–∂–Ω–æ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –∫–ª–∞—Å—Å <code>StaticServer</code>.</p>
<hr />
<h3 id="–ü—Ä–∏–º–µ—Ä-—Å-dip-–ø—Ä–∏–Ω—Ü–∏–ø-—Å–æ–±–ª—é–¥—ë–Ω"><a class="header" href="#–ü—Ä–∏–º–µ—Ä-—Å-dip-–ø—Ä–∏–Ω—Ü–∏–ø-—Å–æ–±–ª—é–¥—ë–Ω">–ü—Ä–∏–º–µ—Ä —Å DIP (–ø—Ä–∏–Ω—Ü–∏–ø —Å–æ–±–ª—é–¥—ë–Ω)</a></h3>
<p>–®–∞–≥ 1 ‚Äî –æ–ø—Ä–µ–¥–µ–ª—è–µ–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã (–∫–æ–Ω—Ç—Ä–∞–∫—Ç—ã) –Ω–∞ —É—Ä–æ–≤–Ω–µ —Ç–æ–≥–æ —Å–ª–æ—è, –∫–æ—Ç–æ—Ä—ã–π –∏—Ö –∏—Å–ø–æ–ª—å–∑—É–µ—Ç.</p>
<pre><code class="language-javascript">// interfaces.js ‚Äî –∫–æ–Ω—Ç—Ä–∞–∫—Ç—ã –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∞—Ç —Å–ª–æ—é —Å–µ—Ä–≤–µ—Ä–∞, –Ω–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è–º

/**
 * @typedef {Object} ILogger
 * @property {(message: string) =&gt; void} log
 */

/**
 * @typedef {Object} IFile
 * @property {() =&gt; NodeJS.ReadableStream} createReadStream
 */

/**
 * @typedef {Object} IStorage
 * @property {(path: string) =&gt; IFile} getFile
 */

/**
 * @typedef {Object} IStatic
 * @property {(req: any, res: any) =&gt; void} serveStatic
 */
</code></pre>
<p>–®–∞–≥ 2 ‚Äî —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –∑–∞–≤–∏—Å—è—Ç –æ—Ç –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞, –∞ –Ω–µ –Ω–∞–æ–±–æ—Ä–æ—Ç.</p>
<pre><code class="language-javascript">// logger-console.js ‚Äî —Ä–µ–∞–ª–∏–∑—É–µ—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å ILogger —á–µ—Ä–µ–∑ console
class ConsoleLogger {
  /** @param {string} message */
  log(message) {
    console.log(`[LOG] ${message}`);
  }
}

// logger-file.js ‚Äî –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è ILogger
const fs = require('fs');

class FileLogger {
  constructor(logPath) {
    this.logPath = logPath;
  }

  /** @param {string} message */
  log(message) {
    fs.appendFileSync(this.logPath, `[LOG] ${message}\n`);
  }
}

module.exports = { ConsoleLogger, FileLogger };
</code></pre>
<pre><code class="language-javascript">// storage-disk.js ‚Äî —Ä–µ–∞–ª–∏–∑—É–µ—Ç IStorage, —á–∏—Ç–∞–µ—Ç —Ñ–∞–π–ª—ã —Å –¥–∏—Å–∫–∞
const fs = require('fs');

class DiskStorage {
  /** @param {string} filePath @returns {IFile} */
  getFile(filePath) {
    return {
      createReadStream: () =&gt; fs.createReadStream(filePath),
    };
  }
}

// storage-s3.js ‚Äî –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è IStorage (–ø—Å–µ–≤–¥–æ–∫–æ–¥)
class S3Storage {
  constructor(bucket) {
    this.bucket = bucket;
  }

  /** @param {string} key @returns {IFile} */
  getFile(key) {
    return {
      // –í —Ä–µ–∞–ª—å–Ω–æ–º –∫–æ–¥–µ –∑–¥–µ—Å—å –±—ã–ª –±—ã –≤—ã–∑–æ–≤ AWS SDK
      createReadStream: () =&gt; this._downloadFromS3(key),
    };
  }

  _downloadFromS3(key) {
    // ... –ª–æ–≥–∏–∫–∞ –ø–æ–ª—É—á–µ–Ω–∏—è –ø–æ—Ç–æ–∫–∞ –∏–∑ S3
  }
}

module.exports = { DiskStorage, S3Storage };
</code></pre>
<pre><code class="language-javascript">// server.js ‚Äî –∑–∞–≤–∏—Å–∏—Ç —Ç–æ–ª—å–∫–æ –æ—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤ ILogger –∏ IStorage
class StaticServer {
  /**
   * –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è —Å–Ω–∞—Ä—É–∂–∏ (Dependency Injection).
   * StaticServer –Ω–∏—á–µ–≥–æ –Ω–µ –∑–Ω–∞–µ—Ç –æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö –∫–ª–∞—Å—Å–∞—Ö.
   *
   * @param {ILogger}  logger
   * @param {IStorage} storage
   */
  constructor(logger, storage) {
    this.logger  = logger;
    this.storage = storage;
  }

  /** @param {IStatic} transport */
  serveStatic(req, res) {
    this.logger.log(`Request: ${req.url}`);
    const file = this.storage.getFile(`.${req.url}`);
    file.createReadStream().pipe(res);
  }
}

module.exports = { StaticServer };
</code></pre>
<pre><code class="language-javascript">// index.js ‚Äî —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞: –∑–¥–µ—Å—å –≤—ã–±–∏—Ä–∞–µ–º –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏
const http = require('http');
const { StaticServer } = require('./server');
const { ConsoleLogger } = require('./logger-console');
const { DiskStorage }   = require('./storage-disk');

// –ú–æ–∂–Ω–æ –ª–µ–≥–∫–æ –∑–∞–º–µ–Ω–∏—Ç—å ConsoleLogger –Ω–∞ FileLogger,
// –∞ DiskStorage –Ω–∞ S3Storage ‚Äî –Ω–µ —Ç—Ä–æ–≥–∞—è server.js
const logger  = new ConsoleLogger();
const storage = new DiskStorage();
const app     = new StaticServer(logger, storage);

http.createServer((req, res) =&gt; app.serveStatic(req, res)).listen(3000, () =&gt; {
  logger.log('Server started on port 3000');
});
</code></pre>
<h3 id="–§–∞–±—Ä–∏–∫–∞-–ª–æ–≥–µ—Ä–æ–≤-—Å—Ç—Ä–∞—Ç–µ–≥–∏—è"><a class="header" href="#–§–∞–±—Ä–∏–∫–∞-–ª–æ–≥–µ—Ä–æ–≤-—Å—Ç—Ä–∞—Ç–µ–≥–∏—è">–§–∞–±—Ä–∏–∫–∞ –ª–æ–≥–µ—Ä–æ–≤ (—Å—Ç—Ä–∞—Ç–µ–≥–∏—è)</a></h3>
<p>–ü—Ä–∏–Ω—Ü–∏–ø DIP —Ö–æ—Ä–æ—à–æ —Å–æ—á–µ—Ç–∞–µ—Ç—Å—è —Å –ø–∞—Ç—Ç–µ—Ä–Ω–æ–º <strong>–°—Ç—Ä–∞—Ç–µ–≥–∏—è</strong> –∏ —Ñ–∞–±—Ä–∏–∫–∞–º–∏:</p>
<pre><code class="language-javascript">// logger-factory.js ‚Äî —Ñ–∞–±—Ä–∏–∫–∞ —Å–æ–∑–¥–∞—ë—Ç –Ω—É–∂–Ω—É—é —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é ILogger
const { ConsoleLogger } = require('./logger-console');
const { FileLogger }    = require('./logger-console');

/**
 * @param {'console' | 'file'} type
 * @param {Object}             [options]
 * @returns {ILogger}
 */
function createLogger(type, options = {}) {
  switch (type) {
    case 'file':
      return new FileLogger(options.logPath || 'app.log');
    case 'console':
    default:
      return new ConsoleLogger();
  }
}

module.exports = { createLogger };
</code></pre>
<pre><code class="language-javascript">// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ñ–∞–±—Ä–∏–∫–∏ –≤ index.js
const { createLogger } = require('./logger-factory');

// –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ ‚Äî –æ–¥–Ω–∞ —Å—Ç—Ä–æ–∫–∞, server.js –Ω–µ –º–µ–Ω—è–µ—Ç—Å—è
const logger = createLogger(process.env.LOG_TARGET || 'console');
</code></pre>
<hr />
<h2 id="–ö–æ–≥–¥–∞-–ø—Ä–∏–º–µ–Ω—è—Ç—å-2"><a class="header" href="#–ö–æ–≥–¥–∞-–ø—Ä–∏–º–µ–Ω—è—Ç—å-2">–ö–æ–≥–¥–∞ –ø—Ä–∏–º–µ–Ω—è—Ç—å</a></h2>
<p>DIP —Å—Ç–æ–∏—Ç –ø—Ä–∏–º–µ–Ω—è—Ç—å, –∫–æ–≥–¥–∞:</p>
<ul>
<li><strong>–õ–æ–≥–∏–∫–∞ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –ø–µ—Ä–µ–Ω–æ—Å–∏–º–æ–π</strong> ‚Äî –æ–¥–∏–Ω –∏ —Ç–æ—Ç –∂–µ –¥–æ–º–µ–Ω–Ω—ã–π –∫–æ–¥ –Ω—É–∂–Ω–æ –∑–∞–ø—É—Å—Ç–∏—Ç—å –≤ –±—Ä–∞—É–∑–µ—Ä–µ, –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ –∏–ª–∏ –≤ –º–æ–±–∏–ª—å–Ω–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏.</li>
<li><strong>–†–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –º–æ–≥—É—Ç –º–µ–Ω—è—Ç—å—Å—è</strong> ‚Äî —Ö—Ä–∞–Ω–∏–ª–∏—â–µ –¥–∞–Ω–Ω—ã—Ö, —Å–ø–æ—Å–æ–± –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è, —Å–µ—Ç–µ–≤–æ–π —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç, –ø—Ä–æ–≤–∞–π–¥–µ—Ä –æ—á–µ—Ä–µ–¥–∏ —Å–æ–æ–±—â–µ–Ω–∏–π.</li>
<li><strong>–ù—É–∂–Ω–∞ —Ç–µ—Å—Ç–∏—Ä—É–µ–º–æ—Å—Ç—å</strong> ‚Äî –ø—Ä–∏ –ø–µ—Ä–µ–¥–∞—á–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π —á–µ—Ä–µ–∑ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä (Dependency Injection) –ª–µ–≥–∫–æ –ø–æ–¥–º–µ–Ω–∏—Ç—å —Ä–µ–∞–ª—å–Ω—É—é —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é –Ω–∞ –∑–∞–≥–ª—É—à–∫—É (mock/stub) –≤ —Ç–µ—Å—Ç–∞—Ö.</li>
<li><strong>–ö–æ–º–∞–Ω–¥–∞ —Ä–∞—Å—Ç—ë—Ç</strong> ‚Äî —Ä–∞–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã –º–æ–≥—É—Ç –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ —Ä–∞–∑—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å —Ä–∞–∑–Ω—ã–µ —Å–ª–æ–∏, –Ω–µ –º–µ—à–∞—è –¥—Ä—É–≥ –¥—Ä—É–≥—É, –µ—Å–ª–∏ –º–µ–∂–¥—É –Ω–∏–º–∏ –µ—Å—Ç—å —á—ë—Ç–∫–∏–π –∫–æ–Ω—Ç—Ä–∞–∫—Ç (–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å).</li>
</ul>
<p>DIP <strong>–Ω–µ –Ω—É–∂–µ–Ω</strong>, –µ—Å–ª–∏:</p>
<ul>
<li>–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –æ—á–µ–Ω—å –º–∞–ª–µ–Ω—å–∫–æ–µ –∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –±—É–¥—É—Ç –º–µ–Ω—è—Ç—å—Å—è.</li>
<li>–í–≤–µ–¥–µ–Ω–∏–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤ —Å–æ–∑–¥–∞—ë—Ç –±–æ–ª—å—à–µ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏, —á–µ–º —Ä–µ—à–∞–µ—Ç –ø—Ä–æ–±–ª–µ–º.</li>
</ul>
<hr />
<h2 id="–°–≤—è–∑–∞–Ω–Ω—ã–µ-–ø—Ä–∏–Ω—Ü–∏–ø—ã-–∏-–ø–∞—Ç—Ç–µ—Ä–Ω—ã"><a class="header" href="#–°–≤—è–∑–∞–Ω–Ω—ã–µ-–ø—Ä–∏–Ω—Ü–∏–ø—ã-–∏-–ø–∞—Ç—Ç–µ—Ä–Ω—ã">–°–≤—è–∑–∞–Ω–Ω—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã –∏ –ø–∞—Ç—Ç–µ—Ä–Ω—ã</a></h2>
<p>DIP ‚Äî —Å–∞–º—ã–π –æ–±—â–∏–π –∏–∑ –ø—Ä–∏–Ω—Ü–∏–ø–æ–≤ SOLID. –û–Ω —è–≤–ª—è–µ—Ç—Å—è –æ—Å–Ω–æ–≤–æ–π –¥–ª—è:</p>
<div class="table-wrapper"><table><thead><tr><th>–ö–æ–Ω—Ü–µ–ø—Ü–∏—è</th><th>–°—É—Ç—å</th></tr></thead><tbody>
<tr><td><strong>IoC</strong> (Inversion of Control)</td><td>–û–±—â–∏–π –ø—Ä–∏–Ω—Ü–∏–ø: —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ–∑–¥–∞–Ω–∏–µ–º –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è –≤–Ω–µ—à–Ω–µ–º—É –∫–æ–¥—É</td></tr>
<tr><td><strong>DI</strong> (Dependency Injection)</td><td>–ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –º–µ—Ö–∞–Ω–∏–∑–º IoC: –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è –≤ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –∏–ª–∏ –º–µ—Ç–æ–¥</td></tr>
<tr><td><strong>Service Locator</strong></td><td>–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π –º–µ—Ö–∞–Ω–∏–∑–º IoC: –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∑–∞–ø—Ä–∞—à–∏–≤–∞—é—Ç—Å—è –∏–∑ —Ä–µ–µ—Å—Ç—Ä–∞</td></tr>
<tr><td><strong>–°—Ç—Ä–∞—Ç–µ–≥–∏—è</strong></td><td>–ü–∞—Ç—Ç–µ—Ä–Ω GoF: –∞–ª–≥–æ—Ä–∏—Ç–º (—Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è) –∑–∞–º–µ–Ω—è–µ—Ç—Å—è –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞</td></tr>
<tr><td><strong>–§–∞–±—Ä–∏—á–Ω—ã–π –º–µ—Ç–æ–¥</strong></td><td>–ü–∞—Ç—Ç–µ—Ä–Ω GoF: —Å–æ–∑–¥–∞–Ω–∏–µ –æ–±—ä–µ–∫—Ç–æ–≤ –¥–µ–ª–µ–≥–∏—Ä—É–µ—Ç—Å—è —Ñ–∞–±—Ä–∏–∫–µ</td></tr>
</tbody></table>
</div>
<hr />
<h2 id="–ò—Ç–æ–≥-4"><a class="header" href="#–ò—Ç–æ–≥-4">–ò—Ç–æ–≥</a></h2>
<p>–ü—Ä–∏–Ω—Ü–∏–ø –∏–Ω–≤–µ—Ä—Å–∏–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –ø–µ—Ä–µ–≤–æ—Ä–∞—á–∏–≤–∞–µ—Ç –ø—Ä–∏–≤—ã—á–Ω–æ–µ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –≤ –∫–æ–¥–µ:</p>
<ul>
<li><strong>–ë–µ–∑ DIP:</strong> –≤—ã—Å–æ–∫–æ—É—Ä–æ–≤–Ω–µ–≤—ã–π –∫–æ–¥ –∏–º–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç –Ω–∏–∑–∫–æ—É—Ä–æ–≤–Ω–µ–≤—ã–µ –¥–µ—Ç–∞–ª–∏ –Ω–∞–ø—Ä—è–º—É—é. –°–º–µ–Ω–∞ –¥–µ—Ç–∞–ª–µ–π –ª–æ–º–∞–µ—Ç –≤–µ—Ä—Ö–Ω–∏–π —É—Ä–æ–≤–µ–Ω—å.</li>
<li><strong>–° DIP:</strong> –∏ –≤–µ—Ä—Ö–Ω–∏–π, –∏ –Ω–∏–∂–Ω–∏–π —É—Ä–æ–≤–Ω–∏ –∑–∞–≤–∏—Å—è—Ç –æ—Ç –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–∏ (–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞). –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∏—Ç –≤–µ—Ä—Ö–Ω–µ–º—É —É—Ä–æ–≤–Ω—é. –ö–æ–Ω–∫—Ä–µ—Ç–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –º–æ–∂–µ—Ç –±—ã—Ç—å –∑–∞–º–µ–Ω–µ–Ω–∞ –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏—è –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏.</li>
</ul>
<p>–ü—Ä–∞–≤–∏–ª–æ –±–æ–ª—å—à–æ–≥–æ –ø–∞–ª—å—Ü–∞: <strong>–≤–µ—Ä—Ö–Ω–∏–π —É—Ä–æ–≤–µ–Ω—å –≤–ª–∞–¥–µ–µ—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º, –Ω–∏–∂–Ω–∏–π ‚Äî —Ä–µ–∞–ª–∏–∑—É–µ—Ç –µ–≥–æ.</strong></p>
<p>–ò–º–µ–Ω–Ω–æ –ø–æ—ç—Ç–æ–º—É DIP —è–≤–ª—è–µ—Ç—Å—è —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–æ–º —á–∏—Å—Ç–æ–π –∏ –ª—É–∫–æ–≤–∏—á–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä, –∞ —Ç–∞–∫–∂–µ –æ—Å–Ω–æ–≤–æ–π –¥–ª—è Dependency Injection –∏ Inversion of Control ‚Äî —Ç–µ–º, —á—Ç–æ –º—ã —Ä–∞—Å—Å–º–æ—Ç—Ä–∏–º –≤ —Å–ª–µ–¥—É—é—â–µ–º –º–∞—Ç–µ—Ä–∏–∞–ª–µ.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="–ü—Ä–∏–Ω—Ü–∏–ø-–∏–Ω–≤–µ—Ä—Å–∏–∏-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π-dip--–†–∞–∑–±–æ—Ä-–ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–æ–≥–æ-–ø—Ä–∏–º–µ—Ä–∞"><a class="header" href="#–ü—Ä–∏–Ω—Ü–∏–ø-–∏–Ω–≤–µ—Ä—Å–∏–∏-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π-dip--–†–∞–∑–±–æ—Ä-–ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–æ–≥–æ-–ø—Ä–∏–º–µ—Ä–∞">–ü—Ä–∏–Ω—Ü–∏–ø –∏–Ω–≤–µ—Ä—Å–∏–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π (DIP) ‚Äî –†–∞–∑–±–æ—Ä –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–æ–≥–æ –ø—Ä–∏–º–µ—Ä–∞</a></h1>
<blockquote>
<p><strong>SOLID / Dependency Inversion Principle</strong>
–†–∞–∑–±–æ—Ä —Ä–µ–∞–ª—å–Ω–æ–≥–æ –∫–æ–¥–∞ –Ω–∞ JavaScript: –¥–æ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞ –∏ –ø–æ—Å–ª–µ.</p>
</blockquote>
<hr />
<h2 id="–í–≤–µ–¥–µ–Ω–∏–µ-18"><a class="header" href="#–í–≤–µ–¥–µ–Ω–∏–µ-18">–í–≤–µ–¥–µ–Ω–∏–µ</a></h2>
<p>–ü—Ä–∏–Ω—Ü–∏–ø –∏–Ω–≤–µ—Ä—Å–∏–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π (Dependency Inversion Principle, DIP) ‚Äî –æ–¥–∏–Ω –∏–∑ —Å–∞–º—ã—Ö
—Å–ª–æ–∂–Ω—ã—Ö, —á–∞—Å—Ç–æ –Ω–µ–¥–æ–ø–æ–Ω–∏–º–∞–µ–º—ã—Ö –∏ –ø—Ä–∏ —ç—Ç–æ–º —Å–∞–º—ã—Ö –ø–æ–ª–µ–∑–Ω—ã—Ö –ø—Ä–∏–Ω—Ü–∏–ø–æ–≤ SOLID. –ò–º–µ–Ω–Ω–æ –æ–Ω
–æ—Ç–∫—Ä—ã–≤–∞–µ—Ç –ø—É—Ç—å –∫ –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—é —Å–ª–æ–∏—Å—Ç–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π.</p>
<p>–§–æ—Ä–º–∞–ª—å–Ω–∞—è —Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–∫–∞:</p>
<ol>
<li><strong>–ú–æ–¥—É–ª–∏ –≤–µ—Ä—Ö–Ω–∏—Ö —É—Ä–æ–≤–Ω–µ–π –Ω–µ –¥–æ–ª–∂–Ω—ã –∑–∞–≤–∏—Å–µ—Ç—å –æ—Ç –º–æ–¥—É–ª–µ–π –Ω–∏–∂–Ω–∏—Ö —É—Ä–æ–≤–Ω–µ–π.</strong> –ò —Ç–µ –∏
–¥—Ä—É–≥–∏–µ –¥–æ–ª–∂–Ω—ã –∑–∞–≤–∏—Å–µ—Ç—å –æ—Ç –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–π (–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤).</li>
<li><strong>–ê–±—Å—Ç—Ä–∞–∫—Ü–∏–∏ –Ω–µ –¥–æ–ª–∂–Ω—ã –∑–∞–≤–∏—Å–µ—Ç—å –æ—Ç –¥–µ—Ç–∞–ª–µ–π.</strong> –î–µ—Ç–∞–ª–∏ (–∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏)
–¥–æ–ª–∂–Ω—ã –∑–∞–≤–∏—Å–µ—Ç—å –æ—Ç –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–π.</li>
</ol>
<p>–ö–ª—é—á–µ–≤–∞—è –∏–¥–µ—è: –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —è–≤–ª—è–µ—Ç—Å—è <strong>—Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å—é —Ç–æ–≥–æ, –∫—Ç–æ –µ–≥–æ –≤—ã–∑—ã–≤–∞–µ—Ç</strong>, –∞ –Ω–µ
—Ç–æ–≥–æ, –∫—Ç–æ –µ–≥–æ —Ä–µ–∞–ª–∏–∑—É–µ—Ç. –≠—Ç–æ —Ä–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞–µ—Ç —Å—Ç—Ä–µ–ª–∫–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π —Å–Ω–∏–∑—É –≤–≤–µ—Ä—Ö, –¥–µ–ª–∞—è
–∫–æ–¥ –ø–æ–¥–º–µ–Ω—è–µ–º—ã–º.</p>
<p>–í —ç—Ç–æ–π –ª–µ–∫—Ü–∏–∏ –º—ã —Ä–∞–∑–±–µ—Ä—ë–º –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –ø—Ä–∏–º–µ—Ä: —Ñ–∞–π–ª-—Å–µ—Ä–≤–µ—Ä –Ω–∞ Node.js, –∫–æ—Ç–æ—Ä—ã–π
–ª–æ–≥–∏—Ä—É–µ—Ç —Ä–∞–±–æ—Ç—É –∏ —á–∏—Ç–∞–µ—Ç —Ñ–∞–π–ª—ã –∏–∑ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞.</p>
<hr />
<h2 id="–ò—Å—Ö–æ–¥–Ω—ã–π-–∫–æ–¥-–¥–æ-—Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞"><a class="header" href="#–ò—Å—Ö–æ–¥–Ω—ã–π-–∫–æ–¥-–¥–æ-—Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞">–ò—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥ (–¥–æ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞)</a></h2>
<p>–î–æ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è DIP –≤—Å–µ –º–æ–¥—É–ª–∏ –∂—ë—Å—Ç–∫–æ –∏–º–ø–æ—Ä—Ç–∏—Ä—É—é—Ç –¥—Ä—É–≥ –¥—Ä—É–≥–∞ –ø–æ –∏–º–µ–Ω–∏ —Ñ–∞–π–ª–∞ –∏
–∏—Å–ø–æ–ª—å–∑—É—é—Ç –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –∫–ª–∞—Å—Å—ã –Ω–∞–ø—Ä—è–º—É—é. –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω—ã —Ç–æ–ª—å–∫–æ –≤–Ω–∏–∑ ‚Äî –æ—Ç
–≤—ã—Å–æ–∫–æ—É—Ä–æ–≤–Ω–µ–≤–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞ –∫ –Ω–∏–∑–∫–æ—É—Ä–æ–≤–Ω–µ–≤—ã–º –¥–µ—Ç–∞–ª—è–º.</p>
<h3 id="–°—Ç—Ä—É–∫—Ç—É—Ä–∞-–ø—Ä–æ–µ–∫—Ç–∞-–¥–æ"><a class="header" href="#–°—Ç—Ä—É–∫—Ç—É—Ä–∞-–ø—Ä–æ–µ–∫—Ç–∞-–¥–æ">–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞ (–¥–æ)</a></h3>
<pre><code>src/
  logger.js      ‚Äî —Å–æ–∑–¥–∞—ë—Ç console, –ø–∏—à–µ—Ç –≤ stdout
  storage.js     ‚Äî —á–∏—Ç–∞–µ—Ç —Ñ–∞–π–ª—ã —Å –¥–∏—Å–∫–∞ —á–µ—Ä–µ–∑ fs
  server.js      ‚Äî –∏–º–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç logger –∏ storage –Ω–∞–ø—Ä—è–º—É—é
  main.js        ‚Äî —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞
</code></pre>
<h3 id="loggerjs-–¥–æ"><a class="header" href="#loggerjs-–¥–æ">logger.js (–¥–æ)</a></h3>
<pre><code class="language-javascript">// logger.js ‚Äî –∫–æ–Ω–∫—Ä–µ—Ç–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è, –ø—Ä–∏–±–∏—Ç–∞ –∫ stdout
'use strict';

// –ò—Å–ø–æ–ª—å–∑—É–µ–º –≥–ª–æ–±–∞–ª—å–Ω—ã–π –æ–±—ä–µ–∫—Ç console –Ω–∞–ø—Ä—è–º—É—é.
// –ù–µ—Ç –Ω–∏–∫–∞–∫–æ–≥–æ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞ ‚Äî –ø—Ä–æ—Å—Ç–æ –∫–ª–∞—Å—Å –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã.
const logger = console;

module.exports = { logger };
</code></pre>
<h3 id="storagejs-–¥–æ"><a class="header" href="#storagejs-–¥–æ">storage.js (–¥–æ)</a></h3>
<pre><code class="language-javascript">// storage.js ‚Äî –¥–≤–∞ –∫–ª–∞—Å—Å–∞ –∂—ë—Å—Ç–∫–æ —Å–≤—è–∑–∞–Ω—ã –º–µ–∂–¥—É —Å–æ–±–æ–π
'use strict';

const fs = require('node:fs');
const path = require('node:path');

// PrepFile ‚Äî –ø–æ–¥–≥–æ—Ç–∞–≤–ª–∏–≤–∞–µ—Ç –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª–∞
class PrepFile {
  constructor(filePath) {
    this.filePath = filePath;
    this.extension = path.extname(filePath);
  }
}

// Storage ‚Äî —á–∏—Ç–∞–µ—Ç —Ñ–∞–π–ª—ã —Å –¥–∏—Å–∫–∞. –ó–Ω–∞–µ—Ç –ø—Ä–æ PrepFile –Ω–∞–ø—Ä—è–º—É—é.
class Storage {
  get(filePath) {
    const file = new PrepFile(filePath); // –∂—ë—Å—Ç–∫–∞—è —Å–≤—è–∑—å —Å PrepFile
    const stream = fs.createReadStream(file.filePath);
    return { extension: file.extension, stream };
  }
}

module.exports = { Storage };
</code></pre>
<h3 id="serverjs-–¥–æ"><a class="header" href="#serverjs-–¥–æ">server.js (–¥–æ)</a></h3>
<pre><code class="language-javascript">// server.js ‚Äî –ø—Ä–∏–±–∏—Ç –≥–≤–æ–∑–¥—è–º–∏ –∏ –∫ Storage, –∏ –∫ logger
'use strict';

const http = require('node:http');
const { Storage } = require('./storage'); // –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –∫–ª–∞—Å—Å
const { logger } = require('./logger');   // –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –æ–±—ä–µ–∫—Ç

// –°–µ—Ä–≤–µ—Ä —Å–∞–º —Å–æ–∑–¥–∞—ë—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –≤–Ω—É—Ç—Ä–∏ —Å–µ–±—è.
// –ü–æ–¥–º–µ–Ω–∏—Ç—å Storage –∏–ª–∏ logger –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏—è —ç—Ç–æ–≥–æ —Ñ–∞–π–ª–∞ –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ.
function serveStatic(req, res) {
  const storage = new Storage(); // –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å —Å–æ–∑–¥–∞—ë—Ç—Å—è –∑–¥–µ—Å—å –∂–µ
  logger.log(`Request: ${req.url}`);

  const { extension, stream } = storage.get(`.${req.url}`);
  res.setHeader('Content-Type', `text/${extension.slice(1)}`);
  stream.pipe(res);
}

const server = http.createServer(serveStatic);
module.exports = { server };
</code></pre>
<h3 id="mainjs-–¥–æ"><a class="header" href="#mainjs-–¥–æ">main.js (–¥–æ)</a></h3>
<pre><code class="language-javascript">// main.js ‚Äî –ø—Ä–æ—Å—Ç–æ –∑–∞–ø—É—Å–∫–∞–µ—Ç —Å–µ—Ä–≤–µ—Ä
'use strict';

const { server } = require('./server');

server.listen(3000, () =&gt; {
  console.log('Server started on port 3000');
});
</code></pre>
<hr />
<h2 id="–ü—Ä–æ–±–ª–µ–º—ã"><a class="header" href="#–ü—Ä–æ–±–ª–µ–º—ã">–ü—Ä–æ–±–ª–µ–º—ã</a></h2>
<p>–ü–µ—Ä–µ—á–∏—Å–ª–∏–º –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –Ω–∞—Ä—É—à–µ–Ω–∏—è DIP –≤ –∫–æ–¥–µ –≤—ã—à–µ.</p>
<div class="table-wrapper"><table><thead><tr><th>–ü—Ä–æ–±–ª–µ–º–∞</th><th>–°–ª–µ–¥—Å—Ç–≤–∏–µ</th></tr></thead><tbody>
<tr><td><code>server.js</code> —Å–æ–∑–¥–∞—ë—Ç <code>new Storage()</code> –≤–Ω—É—Ç—Ä–∏ —Å–µ–±—è</td><td>–ù–µ–≤–æ–∑–º–æ–∂–Ω–æ –ø–æ–¥–º–µ–Ω–∏—Ç—å —Ö—Ä–∞–Ω–∏–ª–∏—â–µ (—Ñ–∞–π–ª–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞ ‚Üí S3, –ë–î, –¥—Ä—É–≥–æ–π —Å–µ—Ä–≤–µ—Ä) –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏—è <code>server.js</code></td></tr>
<tr><td><code>server.js</code> –∏–º–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç <code>logger</code> –Ω–∞–ø—Ä—è–º—É—é</td><td>–ù–µ–≤–æ–∑–º–æ–∂–Ω–æ –ø–æ–¥–º–µ–Ω–∏—Ç—å —Å–ø–æ—Å–æ–± –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è (stdout ‚Üí —Ñ–∞–π–ª ‚Üí Pino ‚Üí –∞–≥—Ä–µ–≥–∞—Ç–æ—Ä –ª–æ–≥–æ–≤)</td></tr>
<tr><td><code>storage.js</code> –∂—ë—Å—Ç–∫–æ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç <code>PrepFile</code></td><td>–î–≤–∞ –∫–ª–∞—Å—Å–∞ –Ω–∏–∂–Ω–µ–≥–æ —É—Ä–æ–≤–Ω—è —Å–≤—è–∑–∞–Ω—ã –º–µ–∂–¥—É —Å–æ–±–æ–π; —Å–ª–æ–∂–Ω–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–æ –æ—Ç–¥–µ–ª—å–Ω–æ—Å—Ç–∏</td></tr>
<tr><td>–ù–µ—Ç –Ω–∏–∫–∞–∫–∏—Ö –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤/–∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤</td><td>–ö–æ–º–ø–∏–ª—è—Ç–æ—Ä –∏ —Å—Ä–µ–¥–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –Ω–µ –º–æ–≥—É—Ç –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π</td></tr>
</tbody></table>
</div>
<p>–ì–ª–∞–≤–Ω—ã–π —Å–∏–º–ø—Ç–æ–º: <strong>–≤—Å–µ —Å—Ç—Ä–µ–ª–∫–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω—ã –≤–Ω–∏–∑</strong>. –í–µ—Ä—Ö–Ω–∏–π —É—Ä–æ–≤–µ–Ω—å
(—Å–µ—Ä–≤–µ—Ä) –∑–Ω–∞–µ—Ç –æ–±–æ –≤—Å—ë–º, —á—Ç–æ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –Ω–∏–∂–µ.</p>
<pre><code>main.js
  ‚îî‚îÄ&gt; server.js
        ‚îú‚îÄ&gt; storage.js  ‚îÄ‚îÄ&gt; fs (Node.js platform)
        ‚îî‚îÄ&gt; logger.js   ‚îÄ‚îÄ&gt; console (Node.js platform)
</code></pre>
<hr />
<h2 id="–†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥-—Å-dip"><a class="header" href="#–†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥-—Å-dip">–†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ —Å DIP</a></h2>
<p>–†–µ—à–µ–Ω–∏–µ: <strong>–≤–≤–µ—Å—Ç–∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã-–∫–æ–Ω—Ç—Ä–∞–∫—Ç—ã</strong> –∏ <strong>–ø–µ—Ä–µ–Ω–µ—Å—Ç–∏ —Å–æ–∑–¥–∞–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –≤
<code>main.js</code></strong>. –ú–æ–¥—É–ª–∏ –±–æ–ª—å—à–µ –Ω–µ —Å–æ–∑–¥–∞—é—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —Å–∞–º–∏ ‚Äî –æ–Ω–∏ –ø–æ–ª—É—á–∞—é—Ç –∏—Ö —Å–Ω–∞—Ä—É–∂–∏
(dependency injection —á–µ—Ä–µ–∑ –∑–∞–º—ã–∫–∞–Ω–∏–µ –∏–ª–∏ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä).</p>
<h3 id="–®–∞–≥-1-–û–ø—Ä–µ–¥–µ–ª—è–µ–º-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã-–∫–æ–Ω—Ç—Ä–∞–∫—Ç—ã"><a class="header" href="#–®–∞–≥-1-–û–ø—Ä–µ–¥–µ–ª—è–µ–º-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã-–∫–æ–Ω—Ç—Ä–∞–∫—Ç—ã">–®–∞–≥ 1. –û–ø—Ä–µ–¥–µ–ª—è–µ–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã (–∫–æ–Ω—Ç—Ä–∞–∫—Ç—ã)</a></h3>
<p>–í JavaScript –Ω–µ—Ç –≤—Å—Ç—Ä–æ–µ–Ω–Ω–æ–≥–æ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤, –ø–æ—ç—Ç–æ–º—É –∫–æ–Ω—Ç—Ä–∞–∫—Ç—ã –æ–ø–∏—Å—ã–≤–∞—é—Ç—Å—è
—á–µ—Ä–µ–∑ JSDoc –∏–ª–∏ TypeScript <code>.d.ts</code>. –ü—Ä–∏–≤–µ–¥—ë–º –æ–±–∞ –≤–∞—Ä–∏–∞–Ω—Ç–∞.</p>
<pre><code class="language-javascript">// interfaces.js ‚Äî –æ–ø–∏—Å–∞–Ω–∏–µ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤ (JSDoc-–≤–∞—Ä–∏–∞–Ω—Ç)
'use strict';

/**
 * @typedef {Object} IFile
 * @property {string} extension  ‚Äî —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ —Ñ–∞–π–ª–∞, –Ω–∞–ø—Ä–∏–º–µ—Ä '.html'
 * @property {import('stream').Readable} stream ‚Äî –ø–æ—Ç–æ–∫ —Å —Å–æ–¥–µ—Ä–∂–∏–º—ã–º
 */

/**
 * @typedef {Object} IStorage
 * @property {function(string): Promise&lt;IFile&gt;} get ‚Äî –ø–æ–ª—É—á–∏—Ç—å —Ñ–∞–π–ª –ø–æ –ø—É—Ç–∏
 */

/**
 * @typedef {Object} ILogger
 * @property {function(...any): void} log   ‚Äî –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
 * @property {function(...any): void} error ‚Äî —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ
 */

/**
 * @typedef {function(IStorage, ILogger): import('http').RequestListener} ICreateServer
 * –§–∞–±—Ä–∏–∫–∞, –ø—Ä–∏–Ω–∏–º–∞—é—â–∞—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∏ –≤–æ–∑–≤—Ä–∞—â–∞—é—â–∞—è HTTP-–æ–±—Ä–∞–±–æ—Ç—á–∏–∫.
 */

module.exports = {};
</code></pre>
<pre><code class="language-typescript">// interfaces.d.ts ‚Äî —Ç–æ –∂–µ —Å–∞–º–æ–µ –≤ TypeScript
import { Readable } from 'node:stream';
import { RequestListener } from 'node:http';

export interface IFile {
  extension: string;
  stream: Readable;
}

export interface IStorage {
  get(filePath: string): Promise&lt;IFile&gt;;
}

export interface ILogger {
  log(...args: unknown[]): void;
  error(...args: unknown[]): void;
}

// –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Å–∞–º–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞ ‚Äî —Ñ—É–Ω–∫—Ü–∏—è, –≤–æ–∑–≤—Ä–∞—â–∞—é—â–∞—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –∑–∞–ø—Ä–æ—Å–æ–≤
export type ICreateServer = (storage: IStorage, logger: ILogger) =&gt; RequestListener;
</code></pre>
<h3 id="–®–∞–≥-2-–†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥-loggerjs--—Å—Ç—Ä–∞—Ç–µ–≥–∏—è-–ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è"><a class="header" href="#–®–∞–≥-2-–†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥-loggerjs--—Å—Ç—Ä–∞—Ç–µ–≥–∏—è-–ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è">–®–∞–≥ 2. –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ logger.js ‚Äî —Å—Ç—Ä–∞—Ç–µ–≥–∏—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è</a></h3>
<p>–í–º–µ—Å—Ç–æ –æ–¥–Ω–æ–≥–æ –∂—ë—Å—Ç–∫–æ–≥–æ –ª–æ–≥–≥–µ—Ä–∞ —Å–æ–∑–¥–∞—ë–º —Ñ–∞–±—Ä–∏–∫—É <code>createLogger</code>, –∫–æ—Ç–æ—Ä–∞—è –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç
–æ–±—ä–µ–∫—Ç, —Ä–µ–∞–ª–∏–∑—É—é—â–∏–π <code>ILogger</code>. –§–∞–±—Ä–∏–∫—É –º–æ–∂–Ω–æ –≤—ã–∑–≤–∞—Ç—å —Å —Ä–∞–∑–Ω—ã–º–∏ —Å—Ç—Ä–∞—Ç–µ–≥–∏—è–º–∏.</p>
<pre><code class="language-javascript">// logger.js (–ø–æ—Å–ª–µ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞)
'use strict';

const fs = require('node:fs');
const { PassThrough } = require('node:stream');

/**
 * –°—Ç—Ä–∞—Ç–µ–≥–∏—è 1: –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–æ–ª—å–∫–æ –≤ stdout.
 * –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –∫–ª–∞—Å—Å Console –∫–∞–∫ –∫–æ–Ω—Ç—Ä–∞–∫—Ç –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã.
 *
 * @returns {Console} –æ–±—ä–µ–∫—Ç, —Ä–µ–∞–ª–∏–∑—É—é—â–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å ILogger
 */
function createStdoutLogger() {
  // Console ‚Äî –∫–ª–∞—Å—Å –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã —Å –≤—ã—Å–æ–∫–æ–π –æ–±—Ä–∞—Ç–Ω–æ–π —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å—é.
  // –û–Ω –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Å—Ç–∞–±–∏–ª–µ–Ω, —á—Ç–æ–±—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –µ–≥–æ –∫–∞–∫ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å.
  return new console.Console(process.stdout, process.stderr);
}

/**
 * –°—Ç—Ä–∞—Ç–µ–≥–∏—è 2: –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ stdout –ò –≤ —Ñ–∞–π–ª –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ.
 * –ò—Å–ø–æ–ª—å–∑—É–µ—Ç PassThrough-—Å—Ç—Ä–∏–º, –∫–æ—Ç–æ—Ä—ã–π —Ä–∞–∑–≤–µ—Ç–≤–ª—è–µ—Ç –ø–æ—Ç–æ–∫ –¥–∞–Ω–Ω—ã—Ö.
 *
 * @param {string} logFilePath ‚Äî –ø—É—Ç—å –∫ —Ñ–∞–π–ª—É –¥–ª—è –∑–∞–ø–∏—Å–∏ –ª–æ–≥–æ–≤
 * @returns {Console} –æ–±—ä–µ–∫—Ç, —Ä–µ–∞–ª–∏–∑—É—é—â–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å ILogger
 */
function createFileLogger(logFilePath) {
  // PassThrough –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–æ–¥–ø–∏—Å–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø–æ–ª—É—á–∞—Ç–µ–ª–µ–π –Ω–∞ –æ–¥–∏–Ω –ø–æ—Ç–æ–∫.
  const passThrough = new PassThrough();
  const fileStream = fs.createWriteStream(logFilePath, { flags: 'a' });

  // –ü–µ—Ä–≤—ã–π pipe ‚Äî –≤ —Ñ–∞–π–ª
  passThrough.pipe(fileStream);
  // –í—Ç–æ—Ä–æ–π pipe ‚Äî –≤ stdout
  passThrough.pipe(process.stdout);

  // Console –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –ª—é–±–æ–π Writable-—Å—Ç—Ä–∏–º, –Ω–µ —Ç–æ–ª—å–∫–æ process.stdout.
  // –≠—Ç–æ –∏ –µ—Å—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–ª–∞—Ç—Ñ–æ—Ä–º–µ–Ω–Ω–æ–≥–æ –∫–ª–∞—Å—Å–∞ –∫–∞–∫ –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–∏.
  return new console.Console(passThrough, passThrough);
}

module.exports = { createStdoutLogger, createFileLogger };
</code></pre>
<h3 id="–®–∞–≥-3-–†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥-storagejs--–æ–¥–∏–Ω-–∫–ª–∞—Å—Å-—á–∏—Å—Ç—ã–π-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å"><a class="header" href="#–®–∞–≥-3-–†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥-storagejs--–æ–¥–∏–Ω-–∫–ª–∞—Å—Å-—á–∏—Å—Ç—ã–π-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å">–®–∞–≥ 3. –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ storage.js ‚Äî –æ–¥–∏–Ω –∫–ª–∞—Å—Å, —á–∏—Å—Ç—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å</a></h3>
<p>–£–±–∏—Ä–∞–µ–º <code>PrepFile</code> –∫–∞–∫ –æ—Ç–¥–µ–ª—å–Ω—ã–π –∫–ª–∞—Å—Å. –í–º–µ—Å—Ç–æ —Å–æ–∑–¥–∞–Ω–∏—è –æ–±—ä–µ–∫—Ç–∞ <code>new PrepFile</code>
–≤–æ–∑–≤—Ä–∞—â–∞–µ–º –ø—Ä–æ—Å—Ç—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É, –æ–ø–∏—Å–∞–Ω–Ω—É—é –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º <code>IFile</code>.</p>
<pre><code class="language-javascript">// storage.js (–ø–æ—Å–ª–µ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞)
'use strict';

const fs = require('node:fs');
const path = require('node:path');

/**
 * FileStorage ‚Äî –∫–æ–Ω–∫—Ä–µ—Ç–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è IStorage.
 * –ß–∏—Ç–∞–µ—Ç —Ñ–∞–π–ª—ã —Å –¥–∏—Å–∫–∞ —á–µ—Ä–µ–∑ fs.createReadStream.
 *
 * –†–µ–∞–ª–∏–∑—É–µ—Ç –∫–æ–Ω—Ç—Ä–∞–∫—Ç IStorage: –º–µ—Ç–æ–¥ get(filePath) -&gt; Promise&lt;IFile&gt;
 */
class FileStorage {
  /**
   * @param {string} filePath ‚Äî –∞–±—Å–æ–ª—é—Ç–Ω—ã–π –∏–ª–∏ –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã–π –ø—É—Ç—å –∫ —Ñ–∞–π–ª—É
   * @returns {Promise&lt;IFile&gt;}
   */
  async get(filePath) {
    const extension = path.extname(filePath);
    const stream = fs.createReadStream(filePath);
    // –í–æ–∑–≤—Ä–∞—â–∞–µ–º —Å—Ç—Ä—É–∫—Ç—É—Ä—É, –æ–ø–∏—Å–∞–Ω–Ω—É—é –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º IFile.
    // FileStorage –Ω–∏—á–µ–≥–æ –Ω–µ –∑–Ω–∞–µ—Ç –æ —Ç–æ–º, –∫—Ç–æ –≤—ã–∑–æ–≤–µ—Ç —ç—Ç–æ—Ç –º–µ—Ç–æ–¥.
    return { extension, stream };
  }
}

/**
 * S3Storage ‚Äî –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è IStorage (–∑–∞–≥–ª—É—à–∫–∞ –¥–ª—è –ø—Ä–∏–º–µ—Ä–∞).
 * –ó–∞–≤—Ç—Ä–∞ –º–æ–∂–Ω–æ –∑–∞–º–µ–Ω–∏—Ç—å FileStorage –Ω–∞ S3Storage –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏—è server.js.
 *
 * @implements {IStorage}
 */
class S3Storage {
  constructor(bucketName) {
    this.bucketName = bucketName;
  }

  async get(filePath) {
    // –ó–¥–µ—Å—å –±—ã–ª –±—ã –≤—ã–∑–æ–≤ AWS SDK –∏–ª–∏ minio-client.
    // –î–ª—è –ø—Ä–∏–º–µ—Ä–∞ ‚Äî –∑–∞–≥–ª—É—à–∫–∞ —Å –ø—É—Å—Ç—ã–º —Å—Ç—Ä–∏–º–æ–º.
    const { PassThrough } = require('node:stream');
    const extension = path.extname(filePath);
    const stream = new PassThrough();
    stream.end(`[S3 content of ${filePath} from bucket ${this.bucketName}]`);
    return { extension, stream };
  }
}

module.exports = { FileStorage, S3Storage };
</code></pre>
<h3 id="–®–∞–≥-4-–†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥-serverjs--–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏-–ø—Ä–∏—Ö–æ–¥—è—Ç-—Å–Ω–∞—Ä—É–∂–∏"><a class="header" href="#–®–∞–≥-4-–†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥-serverjs--–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏-–ø—Ä–∏—Ö–æ–¥—è—Ç-—Å–Ω–∞—Ä—É–∂–∏">–®–∞–≥ 4. –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ server.js ‚Äî –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –ø—Ä–∏—Ö–æ–¥—è—Ç —Å–Ω–∞—Ä—É–∂–∏</a></h3>
<p>–°–µ—Ä–≤–µ—Ä –±–æ–ª—å—à–µ –Ω–µ —Å–æ–∑–¥–∞—ë—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏. –û–Ω–∏ –ø—Ä–∏—Ö–æ–¥—è—Ç —á–µ—Ä–µ–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Ñ–∞–±—Ä–∏—á–Ω–æ–π
—Ñ—É–Ω–∫—Ü–∏–∏ (–∏–Ω—ä–µ–∫—Ü–∏—è —á–µ—Ä–µ–∑ –∑–∞–º—ã–∫–∞–Ω–∏–µ). –≠—Ç–æ —ç–∫–≤–∏–≤–∞–ª–µ–Ω—Ç–Ω–æ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä—É –∫–ª–∞—Å—Å–∞.</p>
<pre><code class="language-javascript">// server.js (–ø–æ—Å–ª–µ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞)
'use strict';

const http = require('node:http');

/**
 * createServer ‚Äî —Ñ–∞–±—Ä–∏–∫–∞ HTTP-—Å–µ—Ä–≤–µ—Ä–∞.
 * –†–µ–∞–ª–∏–∑—É–µ—Ç –∫–æ–Ω—Ç—Ä–∞–∫—Ç ICreateServer.
 *
 * @param {IStorage} storage ‚Äî –ª—é–±–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è IStorage
 * @param {ILogger}  logger  ‚Äî –ª—é–±–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è ILogger
 * @returns {import('http').Server}
 *
 * server.js –ù–ï –∏–º–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç –Ω–∏ Storage, –Ω–∏ logger –Ω–∞–ø—Ä—è–º—É—é.
 * –û–Ω —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ —Å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞–º–∏ ‚Äî –Ω–µ –∑–Ω–∞–µ—Ç –æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è—Ö.
 */
function createServer(storage, logger) {
  // –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ –∑–∞–º—ã–∫–∞–Ω–∏–∏ ‚Äî –∞–Ω–∞–ª–æ–≥ –ø—Ä–∏–≤–∞—Ç–Ω—ã—Ö –ø–æ–ª–µ–π –∫–ª–∞—Å—Å–∞.
  async function serveStatic(req, res) {
    try {
      logger.log(`[${new Date().toISOString()}] Request: ${req.url}`);

      const filePath = `.${req.url}`;
      const file = await storage.get(filePath); // –∏—Å–ø–æ–ª—å–∑—É–µ–º IStorage

      const mimeType = getMimeType(file.extension);
      res.setHeader('Content-Type', mimeType);
      file.stream.pipe(res);
    } catch (err) {
      logger.error(`Error serving ${req.url}:`, err.message);
      res.statusCode = 404;
      res.end('Not found');
    }
  }

  return http.createServer(serveStatic);
}

function getMimeType(extension) {
  const map = {
    '.html': 'text/html',
    '.css':  'text/css',
    '.js':   'application/javascript',
    '.json': 'application/json',
    '.txt':  'text/plain',
  };
  return map[extension] ?? 'application/octet-stream';
}

module.exports = { createServer };
</code></pre>
<h3 id="–®–∞–≥-5-mainjs--–µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–∞—è-—Ç–æ—á–∫–∞-—Å–±–æ—Ä–∫–∏-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π"><a class="header" href="#–®–∞–≥-5-mainjs--–µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–∞—è-—Ç–æ—á–∫–∞-—Å–±–æ—Ä–∫–∏-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π">–®–∞–≥ 5. main.js ‚Äî –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–∞—è —Ç–æ—á–∫–∞ —Å–±–æ—Ä–∫–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π</a></h3>
<p>–¢–µ–ø–µ—Ä—å <code>main.js</code> ‚Äî —ç—Ç–æ <strong>–µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–µ –º–µ—Å—Ç–æ</strong>, –≥–¥–µ –º—ã –∑–Ω–∞–µ–º –æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö
—Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è—Ö. –í—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —Å–æ–∑–¥–∞—é—Ç—Å—è –∑–¥–µ—Å—å –∏ –≤–Ω–µ–¥—Ä—è—é—Ç—Å—è –≤ –º–æ–¥—É–ª–∏.</p>
<pre><code class="language-javascript">// main.js (–ø–æ—Å–ª–µ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞)
'use strict';

const { createServer }       = require('./server');
const { FileStorage }        = require('./storage');
const { createFileLogger }   = require('./logger');

// --- –°—Ç—Ä–∞—Ç–µ–≥–∏—è 1: —Ñ–∞–π–ª–æ–≤–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ ---
const storage = new FileStorage();

// --- –°—Ç—Ä–∞—Ç–µ–≥–∏—è 2: –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ —Ñ–∞–π–ª –∏ stdout ---
const logger = createFileLogger('./app.log');

// --- –í–Ω–µ–¥—Ä–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π ---
// –°–µ—Ä–≤–µ—Ä –ø–æ–ª—É—á–∞–µ—Ç –æ–±–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —Å–Ω–∞—Ä—É–∂–∏. –û–Ω –Ω–µ —Å–æ–∑–¥–∞—ë—Ç –∏—Ö —Å–∞–º.
// –ó–∞–≤—Ç—Ä–∞ –º—ã –∑–∞–º–µ–Ω–∏–º FileStorage –Ω–∞ S3Storage ‚Äî server.js –Ω–µ –∏–∑–º–µ–Ω–∏—Ç—Å—è.
const server = createServer(storage, logger);

server.listen(3000, () =&gt; {
  logger.log('Server started on port 3000');
});
</code></pre>
<hr />
<h2 id="–ò—Ç–æ–≥–æ–≤—ã–π-–∫–æ–¥"><a class="header" href="#–ò—Ç–æ–≥–æ–≤—ã–π-–∫–æ–¥">–ò—Ç–æ–≥–æ–≤—ã–π –∫–æ–¥</a></h2>
<h3 id="–ü–æ–ª–Ω–∞—è-—Å—Ç—Ä—É–∫—Ç—É—Ä–∞-–ø—Ä–æ–µ–∫—Ç–∞-–ø–æ—Å–ª–µ"><a class="header" href="#–ü–æ–ª–Ω–∞—è-—Å—Ç—Ä—É–∫—Ç—É—Ä–∞-–ø—Ä–æ–µ–∫—Ç–∞-–ø–æ—Å–ª–µ">–ü–æ–ª–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞ (–ø–æ—Å–ª–µ)</a></h3>
<pre><code>src/
  interfaces.d.ts  ‚Äî –∫–æ–Ω—Ç—Ä–∞–∫—Ç—ã: IFile, IStorage, ILogger, ICreateServer
  logger.js        ‚Äî —Ñ–∞–±—Ä–∏–∫–∏: createStdoutLogger, createFileLogger
  storage.js       ‚Äî —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏: FileStorage, S3Storage
  server.js        ‚Äî —Ñ–∞–±—Ä–∏–∫–∞: createServer(storage, logger)
  main.js          ‚Äî —Ç–æ—á–∫–∞ —Å–±–æ—Ä–∫–∏: —Å–æ–∑–¥–∞—ë—Ç —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏, –≤–Ω–µ–¥—Ä—è–µ—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
</code></pre>
<h3 id="–ö–∞–∫-–≤—ã–≥–ª—è–¥—è—Ç-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏-—Ç–µ–ø–µ—Ä—å"><a class="header" href="#–ö–∞–∫-–≤—ã–≥–ª—è–¥—è—Ç-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏-—Ç–µ–ø–µ—Ä—å">–ö–∞–∫ –≤—ã–≥–ª—è–¥—è—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —Ç–µ–ø–µ—Ä—å</a></h3>
<p><strong>–î–æ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞</strong> ‚Äî –≤—Å–µ —Å—Ç—Ä–µ–ª–∫–∏ –≤–Ω–∏–∑:</p>
<pre><code>main.js
  ‚îî‚îÄ‚îÄ&gt; server.js  (–∑–Ω–∞–µ—Ç –æ storage.js –∏ logger.js)
         ‚îú‚îÄ‚îÄ&gt; storage.js  ‚îÄ‚îÄ&gt; fs
         ‚îî‚îÄ‚îÄ&gt; logger.js   ‚îÄ‚îÄ&gt; console
</code></pre>
<p><strong>–ü–æ—Å–ª–µ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞</strong> ‚Äî —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —É–∫–∞–∑—ã–≤–∞—é—Ç –≤–≤–µ—Ä—Ö –Ω–∞ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã:</p>
<pre><code>main.js  (–µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π, –∫—Ç–æ –∑–Ω–∞–µ—Ç –æ–±–æ –≤—Å–µ—Ö —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è—Ö)
  ‚îú‚îÄ‚îÄ —Å–æ–∑–¥–∞—ë—Ç FileStorage  ‚îÄ‚îÄ—Ä–µ–∞–ª–∏–∑—É–µ—Ç‚îÄ‚îÄ&gt; IStorage  &lt;‚îÄ‚îÄ–∑–∞–≤–∏—Å–∏—Ç‚îÄ‚îÄ server.js
  ‚îú‚îÄ‚îÄ —Å–æ–∑–¥–∞—ë—Ç FileLogger   ‚îÄ‚îÄ—Ä–µ–∞–ª–∏–∑—É–µ—Ç‚îÄ‚îÄ&gt; ILogger   &lt;‚îÄ‚îÄ–∑–∞–≤–∏—Å–∏—Ç‚îÄ‚îÄ server.js
  ‚îî‚îÄ‚îÄ –ø–µ—Ä–µ–¥–∞—ë—Ç –∏—Ö –≤ createServer()
</code></pre>
<p>–°—Ç—Ä–µ–ª–∫–∏ –æ—Ç <code>FileStorage</code> –∏ <code>FileLogger</code> —Ç–µ–ø–µ—Ä—å –∏–¥—É—Ç <strong>–≤–≤–µ—Ä—Ö</strong> –∫ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞–º,
–∫–æ—Ç–æ—Ä—ã–µ –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∞—Ç —Å–ª–æ—é —Å–µ—Ä–≤–µ—Ä–∞. –°–µ—Ä–≤–µ—Ä –∑–∞–≤–∏—Å–∏—Ç —Ç–æ–ª—å–∫–æ –æ—Ç –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–π.</p>
<h3 id="–î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è-–ø–æ–¥–º–µ–Ω—ã-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π-–±–µ–∑-–∏–∑–º–µ–Ω–µ–Ω–∏—è-serverjs"><a class="header" href="#–î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è-–ø–æ–¥–º–µ–Ω—ã-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π-–±–µ–∑-–∏–∑–º–µ–Ω–µ–Ω–∏—è-serverjs">–î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è –ø–æ–¥–º–µ–Ω—ã –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏—è server.js</a></h3>
<pre><code class="language-javascript">// main.js ‚Äî –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (server.js –Ω–µ —Ç—Ä–æ–≥–∞–µ–º)
'use strict';

const { createServer }       = require('./server');
const { S3Storage }          = require('./storage');     // –¥—Ä—É–≥–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è
const { createStdoutLogger } = require('./logger');       // –¥—Ä—É–≥–∞—è —Å—Ç—Ä–∞—Ç–µ–≥–∏—è

// –ú–µ–Ω—è–µ–º —Ö—Ä–∞–Ω–∏–ª–∏—â–µ —Å —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã –Ω–∞ S3:
const storage = new S3Storage('my-bucket');

// –ú–µ–Ω—è–µ–º –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å —Ñ–∞–π–ª–∞ –Ω–∞ stdout:
const logger = createStdoutLogger();

// server.js –Ω–µ –∑–Ω–∞–µ—Ç –∏ –Ω–µ —É–∑–Ω–∞–µ—Ç –æ –∑–∞–º–µ–Ω–µ ‚Äî –æ–Ω —Ä–∞–±–æ—Ç–∞–µ—Ç —Å IStorage –∏ ILogger
const server = createServer(storage, logger);

server.listen(3000, () =&gt; {
  logger.log('Server started with S3 storage and stdout logger');
});
</code></pre>
<hr />
<h2 id="–ò—Ç–æ–≥-5"><a class="header" href="#–ò—Ç–æ–≥-5">–ò—Ç–æ–≥</a></h2>
<div class="table-wrapper"><table><thead><tr><th>–ê—Å–ø–µ–∫—Ç</th><th>–î–æ DIP</th><th>–ü–æ—Å–ª–µ DIP</th></tr></thead><tbody>
<tr><td>–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏</td><td>–ñ—ë—Å—Ç–∫–∏–µ (import –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Ñ–∞–π–ª–∞)</td><td>–ß–µ—Ä–µ–∑ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã (–∫–æ–Ω—Ç—Ä–∞–∫—Ç—ã)</td></tr>
<tr><td>–°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π</td><td>–í –∫–∞–∂–¥–æ–º –º–æ–¥—É–ª–µ (<code>new Storage()</code>)</td><td>–¢–æ–ª—å–∫–æ –≤ <code>main.js</code></td></tr>
<tr><td>–ü–æ–¥–º–µ–Ω—è–µ–º–æ—Å—Ç—å</td><td>–ù–µ–≤–æ–∑–º–æ–∂–Ω–∞ –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∫–æ–¥–∞</td><td>–ú–µ–Ω—è–µ–º —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é –≤ <code>main.js</code></td></tr>
<tr><td>–¢–µ—Å—Ç–∏—Ä—É–µ–º–æ—Å—Ç—å</td><td>–°–ª–æ–∂–Ω–æ ‚Äî –Ω—É–∂–µ–Ω —Ä–µ–∞–ª—å–Ω—ã–π FS –∏ —Å–µ—Ä–≤–µ—Ä</td><td>–õ–µ–≥–∫–æ ‚Äî –ø–µ—Ä–µ–¥–∞—ë–º mock-–æ–±—ä–µ–∫—Ç—ã</td></tr>
<tr><td>–ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å—Ç—Ä–µ–ª–æ–∫</td><td>–¢–æ–ª—å–∫–æ –≤–Ω–∏–∑</td><td>–°–Ω–∏–∑—É –≤–≤–µ—Ä—Ö (–∫ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞–º)</td></tr>
</tbody></table>
</div>
<p><strong>–ß—Ç–æ –¥–∞—ë—Ç DIP:</strong></p>
<ul>
<li>–ú–æ–¥—É–ª—å <code>server.js</code> –º–æ–∂–Ω–æ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å, –ø–µ—Ä–µ–¥–∞–≤ –ª—é–±–æ–π –æ–±—ä–µ–∫—Ç —Å –º–µ—Ç–æ–¥–∞–º–∏ <code>get()</code>
–∏ <code>log()</code> ‚Äî –±–µ–∑ —Ä–µ–∞–ª—å–Ω–æ–≥–æ —Ñ–∞–π–ª–æ–≤–æ–≥–æ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞ –∏ –±–µ–∑ —Ä–µ–∞–ª—å–Ω–æ–≥–æ HTTP.</li>
<li>–•—Ä–∞–Ω–∏–ª–∏—â–µ –º–æ–∂–Ω–æ –∑–∞–º–µ–Ω–∏—Ç—å —Å –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –¥–∏—Å–∫–∞ –Ω–∞ S3/MinIO/PostgreSQL/HTTP, –Ω–µ
—Ç—Ä–æ–≥–∞—è <code>server.js</code>.</li>
<li>–õ–æ–≥–≥–µ—Ä –º–æ–∂–Ω–æ –∑–∞–º–µ–Ω–∏—Ç—å —Å <code>console</code> –Ω–∞ Pino, Winston –∏–ª–∏ –∞–≥—Ä–µ–≥–∞—Ç–æ—Ä –ª–æ–≥–æ–≤ (Elastic,
Datadog) ‚Äî —Ç–∞–∫–∂–µ –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ <code>server.js</code>.</li>
</ul>
<p><strong>–í–∞–∂–Ω–æ–µ —É—Ç–æ—á–Ω–µ–Ω–∏–µ:</strong> DIP –Ω–µ —Å–≤–æ–¥–∏—Ç—Å—è —Ç–æ–ª—å–∫–æ –∫ –≤–Ω–µ–¥—Ä–µ–Ω–∏—é –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π (Dependency
Injection). DI ‚Äî —ç—Ç–æ –ª–∏—à—å –æ–¥–∏–Ω –∏–∑ –º–µ—Ö–∞–Ω–∏–∑–º–æ–≤ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ DIP –Ω–∞—Ä—è–¥—É —Å —Å–µ—Ä–≤–∏—Å-–ª–æ–∫–∞—Ç–æ—Ä–æ–º
–∏ DI-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–º. –°—É—Ç—å –ø—Ä–∏–Ω—Ü–∏–ø–∞ ‚Äî –≤ <strong>—Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–∞–Ω–∏–∏ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤</strong> (–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤)
–º–µ–∂–¥—É –º–æ–¥—É–ª—è–º–∏ –∏ –≤ —Ç–æ–º, —á—Ç–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∏—Ç –≤—ã–∑—ã–≤–∞—é—â–µ–π —Å—Ç–æ—Ä–æ–Ω–µ, –∞ –Ω–µ
—Ä–µ–∞–ª–∏–∑—É—é—â–µ–π.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="service-locator--–ø–∞—Ç—Ç–µ—Ä–Ω-–¥–ª—è-–ø–æ–ª—É—á–µ–Ω–∏—è-–∏-–∏–Ω–≤–µ—Ä—Å–∏–∏-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π"><a class="header" href="#service-locator--–ø–∞—Ç—Ç–µ—Ä–Ω-–¥–ª—è-–ø–æ–ª—É—á–µ–Ω–∏—è-–∏-–∏–Ω–≤–µ—Ä—Å–∏–∏-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π">Service Locator ‚Äî –ø–∞—Ç—Ç–µ—Ä–Ω –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∏ –∏–Ω–≤–µ—Ä—Å–∏–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π</a></h1>
<h2 id="–í–≤–µ–¥–µ–Ω–∏–µ-19"><a class="header" href="#–í–≤–µ–¥–µ–Ω–∏–µ-19">–í–≤–µ–¥–µ–Ω–∏–µ</a></h2>
<p>–ü–∞—Ç—Ç–µ—Ä–Ω <strong>Service Locator</strong> ‚Äî –æ–¥–∏–Ω –∏–∑ —Å–ø–æ—Å–æ–±–æ–≤ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∏–Ω–≤–µ—Ä—Å–∏—é –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π (Dependency Inversion) –∏–∑ –ø—Ä–∏–Ω—Ü–∏–ø–æ–≤ SOLID.</p>
<p>–ü–µ—Ä–µ–¥ –∏–∑—É—á–µ–Ω–∏–µ–º —ç—Ç–æ–π —Ç–µ–º—ã —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –æ–∑–Ω–∞–∫–æ–º–∏—Ç—å—Å—è —Å –ø—Ä–∏–Ω—Ü–∏–ø–æ–º –∏–Ω–≤–µ—Ä—Å–∏–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π (–±—É–∫–≤–∞ <strong>D</strong> –≤ SOLID). –ï–≥–æ —Å—É—Ç—å –≤ —Ç–æ–º, —á—Ç–æ –º–æ–¥—É–ª–∏ –Ω–µ –¥–æ–ª–∂–Ω—ã –Ω–∞–ø—Ä—è–º—É—é –∑–∞–≤–∏—Å–µ—Ç—å –¥—Ä—É–≥ –æ—Ç –¥—Ä—É–≥–∞ ‚Äî –æ–±–∞ –¥–æ–ª–∂–Ω—ã –∑–∞–≤–∏—Å–µ—Ç—å –æ—Ç –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–π (–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤), –∞ –Ω–µ –æ—Ç –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–π.</p>
<p>–ï—Å—Ç—å –¥–≤–∞ –æ—Å–Ω–æ–≤–Ω—ã—Ö –ø—É—Ç–∏ —Ä–∞–∑–≤—è–∑–∞—Ç—å –º–æ–¥—É–ª–∏:</p>
<ul>
<li>–ß–µ—Ä–µ–∑ —Å–∏—Å—Ç–µ–º—É –º–æ–¥—É–ª—å–Ω–æ—Å—Ç–∏ (CommonJS, ESM)</li>
<li>–ß–µ—Ä–µ–∑ –ø–∞—Ç—Ç–µ—Ä–Ω Service Locator</li>
</ul>
<hr />
<h2 id="–ü–∞—Ç—Ç–µ—Ä–Ω-service-locator"><a class="header" href="#–ü–∞—Ç—Ç–µ—Ä–Ω-service-locator">–ü–∞—Ç—Ç–µ—Ä–Ω Service Locator</a></h2>
<p><strong>Service Locator</strong> ‚Äî —ç—Ç–æ –æ–±—ä–µ–∫—Ç (—Ä–µ–µ—Å—Ç—Ä), –∫–æ—Ç–æ—Ä—ã–π —Ö—Ä–∞–Ω–∏—Ç –∫–æ–ª–ª–µ–∫—Ü–∏—é –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π (–∫–ª–∞—Å—Å–æ–≤, —Ñ—É–Ω–∫—Ü–∏–π, –º–æ–¥—É–ª–µ–π) –∏ –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–æ–ª—É—á–∞—Ç—å –∏—Ö –ø–æ –∏–º–µ–Ω–∏. –í–º–µ—Å—Ç–æ —Ç–æ–≥–æ —á—Ç–æ–±—ã –æ–¥–∏–Ω –º–æ–¥—É–ª—å –Ω–∞–ø—Ä—è–º—É—é –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–ª –¥—Ä—É–≥–æ–π, –æ–Ω –æ–±—Ä–∞—â–∞–µ—Ç—Å—è –∫ –ª–æ–∫–∞—Ç–æ—Ä—É –∏ –ø–æ–ª—É—á–∞–µ—Ç –Ω—É–∂–Ω—É—é —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é –æ—Ç—Ç—É–¥–∞.</p>
<p>–ö–ª—é—á–µ–≤–∞—è –∏–¥–µ—è: –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –Ω–µ –∑–Ω–∞–µ—Ç, –æ—Ç–∫—É–¥–∞ –±–µ—Ä—ë—Ç—Å—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è. –õ–æ–∫–∞—Ç–æ—Ä —Å–∫—Ä—ã–≤–∞–µ—Ç —ç—Ç—É –¥–µ—Ç–∞–ª—å.</p>
<p>–ß—Ç–æ –≤–∞–∂–Ω–æ –ø–æ–Ω—è—Ç—å —Å—Ä–∞–∑—É ‚Äî <code>require</code> –∏ <code>import</code> —Å–∞–º–∏ –ø–æ —Å–µ–±–µ —è–≤–ª—è—é—Ç—Å—è —Å–µ—Ä–≤–∏—Å-–ª–æ–∫–∞—Ç–æ—Ä–∞–º–∏:</p>
<ul>
<li><code>require</code> —Ö—Ä–∞–Ω–∏—Ç –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π –∫—ç—à: –∫–ª—é—á–∏ ‚Äî –ø–æ–ª–Ω—ã–µ –ø—É—Ç–∏ –∫ —Ñ–∞–π–ª–∞–º, –∑–Ω–∞—á–µ–Ω–∏—è ‚Äî —Ç–æ, —á—Ç–æ –æ–Ω–∏ —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä—É—é—Ç.</li>
<li>–ü—Ä–∏ –ø–æ–≤—Ç–æ—Ä–Ω–æ–º –≤—ã–∑–æ–≤–µ <code>require('logger')</code> –º–æ–¥—É–ª—å –Ω–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è ‚Äî –∑–Ω–∞—á–µ–Ω–∏–µ –±–µ—Ä—ë—Ç—Å—è –∏–∑ –∫—ç—à–∞.</li>
<li>–í –∫—ç—à <code>require</code> –º–æ–∂–Ω–æ –≤—Ä—É—á–Ω—É—é –∑–∞–ø–∏—Å–∞—Ç—å –ø–æ–¥–º–µ–Ω—ë–Ω–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ –∏–º–µ–Ω–∏ –º–æ–¥—É–ª—è.</li>
<li>–í —Å–ª—É—á–∞–µ <code>import</code> (ESM) —Ç–∞–∫–æ–π —Ä—É—á–Ω–æ–π –ø–æ–¥–º–µ–Ω—ã –Ω–µ—Ç ‚Äî –∫—ç—à –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω –Ω–∞–ø—Ä—è–º—É—é.</li>
</ul>
<hr />
<h2 id="–†–µ–∞–ª–∏–∑–∞—Ü–∏—è-7"><a class="header" href="#–†–µ–∞–ª–∏–∑–∞—Ü–∏—è-7">–†–µ–∞–ª–∏–∑–∞—Ü–∏—è</a></h2>
<h3 id="–í–∞—Ä–∏–∞–Ω—Ç-1--–ü—Ä–æ—Å—Ç–æ–π-—ç–∫—Å–ø–æ—Ä—Ç-map"><a class="header" href="#–í–∞—Ä–∏–∞–Ω—Ç-1--–ü—Ä–æ—Å—Ç–æ–π-—ç–∫—Å–ø–æ—Ä—Ç-map">–í–∞—Ä–∏–∞–Ω—Ç 1 ‚Äî –ü—Ä–æ—Å—Ç–æ–π —ç–∫—Å–ø–æ—Ä—Ç Map</a></h3>
<p>–°–∞–º–∞—è –º–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è: —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å —ç–∫–∑–µ–º–ø–ª—è—Ä <code>Map</code> –∏–∑ —Ñ–∞–π–ª–∞.</p>
<pre><code class="language-js">// serviceLocator.js

// –°–æ–∑–¥–∞—ë–º –æ–±—â–∏–π —Ä–µ–µ—Å—Ç—Ä –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
const locator = new Map();

export default locator;
</code></pre>
<pre><code class="language-js">// bootstrap.js ‚Äî —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
import locator from './serviceLocator.js';
import Logger from './Logger.js';
import Database from './Database.js';

locator.set('logger', Logger);
locator.set('db', Database);
</code></pre>
<pre><code class="language-js">// someModule.js ‚Äî –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
import locator from './serviceLocator.js';

const Logger = locator.get('logger');
const logger = new Logger();
logger.log('–ú–æ–¥—É–ª—å –∑–∞–ø—É—â–µ–Ω');
</code></pre>
<p>–ü—Ä–æ–±–ª–µ–º–∞ —ç—Ç–æ–≥–æ –≤–∞—Ä–∏–∞–Ω—Ç–∞: —Å–Ω–∞—Ä—É–∂–∏ –æ—Ç–∫—Ä—ã—Ç –ø–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫ <code>Map</code>. –õ—é–±–æ–π –º–æ–¥—É–ª—å –º–æ–∂–µ—Ç –¥–æ–±–∞–≤–ª—è—Ç—å, —É–¥–∞–ª—è—Ç—å –∏–ª–∏ –ø–µ—Ä–µ–∑–∞–ø–∏—Å—ã–≤–∞—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω–æ.</p>
<hr />
<h3 id="–í–∞—Ä–∏–∞–Ω—Ç-2--–§–∞—Å–∞–¥-—á–µ—Ä–µ–∑-—Å—Ç—Ä–µ–ª–æ—á–Ω—ã–µ-—Ñ—É–Ω–∫—Ü–∏–∏"><a class="header" href="#–í–∞—Ä–∏–∞–Ω—Ç-2--–§–∞—Å–∞–¥-—á–µ—Ä–µ–∑-—Å—Ç—Ä–µ–ª–æ—á–Ω—ã–µ-—Ñ—É–Ω–∫—Ü–∏–∏">–í–∞—Ä–∏–∞–Ω—Ç 2 ‚Äî –§–∞—Å–∞–¥ —á–µ—Ä–µ–∑ —Å—Ç—Ä–µ–ª–æ—á–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏</a></h3>
<p>–ß—Ç–æ–±—ã –æ–≥—Ä–∞–Ω–∏—á–∏—Ç—å –¥–æ—Å—Ç—É–ø –∏ –≤—ã—Å—Ç–∞–≤–∏—Ç—å –Ω–∞—Ä—É–∂—É —Ç–æ–ª—å–∫–æ <code>get</code> –∏ <code>set</code>, –æ–±–æ—Ä–∞—á–∏–≤–∞–µ–º Map –≤ —Ñ–∞—Å–∞–¥ –∏–∑ –¥–≤—É—Ö —Ñ—É–Ω–∫—Ü–∏–π.</p>
<pre><code class="language-js">// serviceLocator.js

const _registry = new Map();

// –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–µ–º —Ç–æ–ª—å–∫–æ –¥–≤–∞ –º–µ—Ç–æ–¥–∞ ‚Äî –ø—É–±–ª–∏—á–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –ª–æ–∫–∞—Ç–æ—Ä–∞
export const get = (key) =&gt; _registry.get(key);
export const set = (key, value) =&gt; _registry.set(key, value);
</code></pre>
<pre><code class="language-js">// bootstrap.js
import { set } from './serviceLocator.js';
import Logger from './Logger.js';

set('logger', Logger);
</code></pre>
<pre><code class="language-js">// someModule.js
import { get } from './serviceLocator.js';

const Logger = get('logger');
const logger = new Logger();
logger.log('–ì–æ—Ç–æ–≤–æ');
</code></pre>
<hr />
<h3 id="–í–∞—Ä–∏–∞–Ω—Ç-3--–ü—Ä–∏–≤—è–∑–∫–∞-–º–µ—Ç–æ–¥–æ–≤-—á–µ—Ä–µ–∑-bind-–±–µ–∑-–Ω–æ–≤—ã—Ö-—Ñ—É–Ω–∫—Ü–∏–π"><a class="header" href="#–í–∞—Ä–∏–∞–Ω—Ç-3--–ü—Ä–∏–≤—è–∑–∫–∞-–º–µ—Ç–æ–¥–æ–≤-—á–µ—Ä–µ–∑-bind-–±–µ–∑-–Ω–æ–≤—ã—Ö-—Ñ—É–Ω–∫—Ü–∏–π">–í–∞—Ä–∏–∞–Ω—Ç 3 ‚Äî –ü—Ä–∏–≤—è–∑–∫–∞ –º–µ—Ç–æ–¥–æ–≤ —á–µ—Ä–µ–∑ bind (–±–µ–∑ –Ω–æ–≤—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π)</a></h3>
<p>–í–º–µ—Å—Ç–æ —Ç–æ–≥–æ —á—Ç–æ–±—ã —Å–æ–∑–¥–∞–≤–∞—Ç—å –Ω–æ–≤—ã–µ —Å—Ç—Ä–µ–ª–æ—á–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏, –º–æ–∂–Ω–æ –≤–∑—è—Ç—å –º–µ—Ç–æ–¥—ã <code>get</code> –∏ <code>set</code> —É —ç–∫–∑–µ–º–ø–ª—è—Ä–∞ <code>Map</code> –∏ –ø—Ä–∏–≤—è–∑–∞—Ç—å –∏—Ö –∫ —Å–∞–º–æ–º—É —ç–∫–∑–µ–º–ø–ª—è—Ä—É —á–µ—Ä–µ–∑ <code>bind</code>. –ù–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –ø—Ä–∏ —ç—Ç–æ–º –Ω–µ —Å–æ–∑–¥–∞—é—Ç—Å—è ‚Äî –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ.</p>
<pre><code class="language-js">// serviceLocator.js

const _registry = new Map();

// bind –ø—Ä–∏–≤—è–∑—ã–≤–∞–µ—Ç –º–µ—Ç–æ–¥ –∫ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–º—É —ç–∫–∑–µ–º–ø–ª—è—Ä—É Map
// –±–µ–∑ —ç—Ç–æ–≥–æ this –≤–Ω—É—Ç—Ä–∏ get/set –Ω–µ –±—É–¥–µ—Ç —É–∫–∞–∑—ã–≤–∞—Ç—å –Ω–∞ _registry
export const get = _registry.get.bind(_registry);
export const set = _registry.set.bind(_registry);
</code></pre>
<hr />
<h3 id="–í–∞—Ä–∏–∞–Ω—Ç-4--–ö–ª–∞—Å—Å-–æ–±—ë—Ä—Ç–∫–∞"><a class="header" href="#–í–∞—Ä–∏–∞–Ω—Ç-4--–ö–ª–∞—Å—Å-–æ–±—ë—Ä—Ç–∫–∞">–í–∞—Ä–∏–∞–Ω—Ç 4 ‚Äî –ö–ª–∞—Å—Å-–æ–±—ë—Ä—Ç–∫–∞</a></h3>
<p>–ö–ª–∞—Å—Å–æ–≤–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –¥–∞—ë—Ç –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Å–æ–∑–¥–∞–≤–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã—Ö –ª–æ–∫–∞—Ç–æ—Ä–æ–≤ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –¥–ª—è —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞ –∏ –±—ç–∫–µ–Ω–¥–∞ —Å —Ä–∞–∑–Ω—ã–º–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è–º–∏ –æ–¥–Ω–∏—Ö –∏ —Ç–µ—Ö –∂–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π).</p>
<pre><code class="language-js">// ServiceLocator.js

class ServiceLocator {
  constructor() {
    this._registry = new Map();
  }

  // –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –ø–æ –∏–º–µ–Ω–∏
  set(name, implementation) {
    this._registry.set(name, implementation);
    return this; // –ø–æ–∑–≤–æ–ª—è–µ—Ç chaining: locator.set('a', A).set('b', B)
  }

  // –ü–æ–ª—É—á–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –ø–æ –∏–º–µ–Ω–∏
  get(name) {
    if (!this._registry.has(name)) {
      throw new Error(`ServiceLocator: –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å "${name}" –Ω–µ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∞`);
    }
    return this._registry.get(name);
  }

  // –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∏–º–µ–Ω–∞
  keys() {
    return [...this._registry.keys()];
  }
}

export default ServiceLocator;
</code></pre>
<pre><code class="language-js">// bootstrap.js ‚Äî —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
import ServiceLocator from './ServiceLocator.js';
import Logger from './Logger.js';
import ConsoleLogger from './ConsoleLogger.js';

const locator = new ServiceLocator();

// –†–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ–º —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é –¥–ª—è —Ç–µ–∫—É—â–µ–π —Å—Ä–µ–¥—ã
locator.set('logger', Logger);

export default locator;
</code></pre>
<pre><code class="language-js">// someModule.js ‚Äî –ø–æ–ª—É—á–µ–Ω–∏–µ –∏ –ø–æ–¥–º–µ–Ω–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
import locator from './bootstrap.js';
import MockLogger from './MockLogger.js';

// –ü–æ–ª—É—á–∞–µ–º –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–ª–∞—Å—Å
const Logger = locator.get('logger');
const logger = new Logger();
logger.log('–†–∞–±–æ—Ç–∞–µ–º —Å –æ—Å–Ω–æ–≤–Ω—ã–º –ª–æ–≥–≥–µ—Ä–æ–º');

// –ü–æ–¥–º–µ–Ω—è–µ–º —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é (–Ω–∞–ø—Ä–∏–º–µ—Ä, –¥–ª—è —Ç–µ—Å—Ç–æ–≤)
locator.set('logger', MockLogger);

const MockLoggerClass = locator.get('logger');
const mockLogger = new MockLoggerClass();
mockLogger.log('–†–∞–±–æ—Ç–∞–µ–º —Å –º–æ–∫-–ª–æ–≥–≥–µ—Ä–æ–º');
</code></pre>
<hr />
<h2 id="–°—Ä–∞–≤–Ω–µ–Ω–∏–µ-—Å-dependency-injection-di"><a class="header" href="#–°—Ä–∞–≤–Ω–µ–Ω–∏–µ-—Å-dependency-injection-di">–°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å Dependency Injection (DI)</a></h2>
<div class="table-wrapper"><table><thead><tr><th>–ö—Ä–∏—Ç–µ—Ä–∏–π</th><th>Service Locator</th><th>Dependency Injection</th></tr></thead><tbody>
<tr><td>–ö–∞–∫ –ø–æ–ª—É—á–∞—é—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å</td><td>–ê–∫—Ç–∏–≤–Ω–æ –∑–∞–ø—Ä–∞—à–∏–≤–∞—é—Ç —á–µ—Ä–µ–∑ <code>get</code></td><td>–ü–∞—Å—Å–∏–≤–Ω–æ –ø–æ–ª—É—á–∞—é—Ç —á–µ—Ä–µ–∑ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä / –∞—Ä–≥—É–º–µ–Ω—Ç—ã</td></tr>
<tr><td>–ö—Ç–æ –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ—Ç —Å–æ–∑–¥–∞–Ω–∏–µ</td><td>–°–∞–º –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—å</td><td>–í–Ω–µ—à–Ω–∏–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä / —Ñ—Ä–µ–π–º–≤–æ—Ä–∫</td></tr>
<tr><td>–í–∏–¥–∏–º–æ—Å—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π</td><td>–°–∫—Ä—ã—Ç–∞ (–∑–∞–≤–∏—Å–∏—Ç –æ—Ç –ª–æ–∫–∞—Ç–æ—Ä–∞)</td><td>–Ø–≤–Ω–∞—è (–≤–∏–¥–Ω–∞ –≤ —Å–∏–≥–Ω–∞—Ç—É—Ä–µ)</td></tr>
<tr><td>–¢–µ—Å—Ç–∏—Ä—É–µ–º–æ—Å—Ç—å</td><td>–¢—Ä–µ–±—É–µ—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ª–æ–∫–∞—Ç–æ—Ä–∞ –≤ —Ç–µ—Å—Ç–∞—Ö</td><td>–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –ø–æ–¥—Å—Ç–∞–≤–ª—è—é—Ç—Å—è –Ω–∞–ø—Ä—è–º—É—é</td></tr>
<tr><td>–°–ª–æ–∂–Ω–æ—Å—Ç—å</td><td>–ù–∏–∂–µ (–Ω–µ—Ç –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞)</td><td>–í—ã—à–µ, –Ω–æ —è–≤–Ω–µ–µ</td></tr>
</tbody></table>
</div>
<p>Service Locator –∏–Ω–æ–≥–¥–∞ –Ω–∞–∑—ã–≤–∞—é—Ç <strong>–∞–Ω—Ç–∏–ø–∞—Ç—Ç–µ—Ä–Ω–æ–º</strong>, –ø–æ—Ç–æ–º—É —á—Ç–æ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –º–æ–¥—É–ª—è —Å—Ç–∞–Ω–æ–≤—è—Ç—Å—è –Ω–µ—è–≤–Ω—ã–º–∏ ‚Äî –∏—Ö –Ω–µ—Ç –≤ —Å–∏–≥–Ω–∞—Ç—É—Ä–µ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞ –∏–ª–∏ —Ñ—É–Ω–∫—Ü–∏–∏. –ü—Ä–∏ —ç—Ç–æ–º –æ–Ω –æ—Å—Ç–∞—ë—Ç—Å—è –ø–æ–ª–µ–∑–Ω—ã–º –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–º –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã—Ö –∑–∞–¥–∞—á.</p>
<hr />
<h2 id="–°–≤—è–∑—å-—Å-–ø–∞—Ç—Ç–µ—Ä–Ω–æ–º-–°—Ç—Ä–∞—Ç–µ–≥–∏—è"><a class="header" href="#–°–≤—è–∑—å-—Å-–ø–∞—Ç—Ç–µ—Ä–Ω–æ–º-–°—Ç—Ä–∞—Ç–µ–≥–∏—è">–°–≤—è–∑—å —Å –ø–∞—Ç—Ç–µ—Ä–Ω–æ–º –°—Ç—Ä–∞—Ç–µ–≥–∏—è</a></h2>
<p>Service Locator –ø–æ —Å–≤–æ–µ–π —Å—É—Ç–∏ –æ—á–µ–Ω—å –±–ª–∏–∑–æ–∫ –∫ –ø–∞—Ç—Ç–µ—Ä–Ω—É <strong>Strategy</strong>, —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–º—É —á–µ—Ä–µ–∑ –∫–æ–ª–ª–µ–∫—Ü–∏–∏ (Map/–æ–±—ä–µ–∫—Ç). –í–º–µ—Å—Ç–æ —è–≤–Ω–æ–≥–æ —É—Å–ª–æ–≤–Ω–æ–≥–æ –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞ (<code>if/switch</code>) –Ω—É–∂–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –≤—ã–±–∏—Ä–∞–µ—Ç—Å—è –ø–æ –∏–º–µ–Ω–∏-–∫–ª—é—á—É. –≠—Ç–æ —Ç–æ—Ç –∂–µ –ø—Ä–∏–Ω—Ü–∏–ø: –ø–æ–≤–µ–¥–µ–Ω–∏–µ –ø–æ–¥–º–µ–Ω—è–µ—Ç—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏, –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∫–æ–¥–∞ –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—è.</p>
<pre><code class="language-js">// –ü—Ä–∏–º–µ—Ä: —Ä–∞–∑–Ω—ã–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Å—Ä–µ–¥
import ServiceLocator from './ServiceLocator.js';
import BrowserLogger from './BrowserLogger.js';
import NodeLogger from './NodeLogger.js';

const locator = new ServiceLocator();

// –í—ã–±–æ—Ä —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Å—Ä–µ–¥—ã –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
if (typeof window !== 'undefined') {
  locator.set('logger', BrowserLogger); // —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥
} else {
  locator.set('logger', NodeLogger);    // –±—ç–∫–µ–Ω–¥
}

export default locator;
</code></pre>
<hr />
<h2 id="–ö–æ–≥–¥–∞-–ø—Ä–∏–º–µ–Ω—è—Ç—å-3"><a class="header" href="#–ö–æ–≥–¥–∞-–ø—Ä–∏–º–µ–Ω—è—Ç—å-3">–ö–æ–≥–¥–∞ –ø—Ä–∏–º–µ–Ω—è—Ç—å</a></h2>
<p><strong>–ü—Ä–∏–º–µ–Ω—è—Ç—å Service Locator —Å—Ç–æ–∏—Ç, –∫–æ–≥–¥–∞:</strong></p>
<ul>
<li>–ù—É–∂–Ω–æ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –ø–æ–¥–º–µ–Ω—è—Ç—å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –≤ —Ä–∞–Ω—Ç–∞–π–º–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –º–µ–∂–¥—É —Ä–µ–∞–ª—å–Ω—ã–º –∏ —Ç–µ—Å—Ç–æ–≤—ã–º –ª–æ–≥–≥–µ—Ä–æ–º, –º–µ–∂–¥—É –æ–∫—Ä—É–∂–µ–Ω–∏—è–º–∏).</li>
<li>–°–∏—Å—Ç–µ–º–∞ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç DI-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä, –Ω–æ –Ω—É–∂–Ω–∞ —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è —Ç–æ—á–∫–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π.</li>
<li>–í–µ–¥—ë—Ç—Å—è —Ä–∞–±–æ—Ç–∞ —Å–æ —Å—Ç–∞—Ä—ã–º –∫–æ–¥–æ–º (<code>require</code>-based), –≥–¥–µ –Ω–µ—Ç –≥–æ—Ç–æ–≤–æ–≥–æ DI-—Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∞.</li>
<li>–ù—É–∂–Ω–∞ –Ω–µ—Å–∫–æ–ª—å–∫–æ –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –Ω–∞–±–æ—Ä–æ–≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —á–∞—Å—Ç–µ–π –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (–Ω–µ—Å–∫–æ–ª—å–∫–æ —ç–∫–∑–µ–º–ø–ª—è—Ä–æ–≤ <code>ServiceLocator</code>).</li>
</ul>
<p><strong>–°—Ç–æ–∏—Ç –∏–∑–±–µ–≥–∞—Ç—å, –∫–æ–≥–¥–∞:</strong></p>
<ul>
<li>–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –º–æ–¥—É–ª—è –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —è–≤–Ω—ã–º–∏ –∏ –ª–µ–≥–∫–æ —á–∏—Ç–∞–µ–º—ã–º–∏ (–ø—Ä–µ–¥–ø–æ—á—Ç–∏—Ç–µ–ª—å–Ω–µ–µ DI —á–µ—Ä–µ–∑ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä).</li>
<li>–í–∞–∂–Ω–∞ —Å—Ç—Ä–æ–≥–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è –∏ IDE-–ø–æ–¥—Å–∫–∞–∑–∫–∏ (TypeScript + DI-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å–ø—Ä–∞–≤–∏—Ç—Å—è –ª—É—á—à–µ).</li>
<li>–ö–æ–º–∞–Ω–¥–∞ –Ω–µ–∑–Ω–∞–∫–æ–º–∞ —Å –ø–∞—Ç—Ç–µ—Ä–Ω–æ–º ‚Äî —Å–∫—Ä—ã—Ç—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —É—Å–ª–æ–∂–Ω—è—é—Ç –¥–µ–±–∞–≥.</li>
</ul>
<hr />
<h2 id="–ò—Ç–æ–≥-6"><a class="header" href="#–ò—Ç–æ–≥-6">–ò—Ç–æ–≥</a></h2>
<ul>
<li><strong>Service Locator</strong> ‚Äî —Ä–µ–µ—Å—Ç—Ä, –∫–æ—Ç–æ—Ä—ã–π —Ö—Ä–∞–Ω–∏—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∏ –≤—ã–¥–∞—ë—Ç –∏—Ö –ø–æ –∏–º–µ–Ω–∏ —á–µ—Ä–µ–∑ <code>get</code>.</li>
<li><code>require</code> –∏ <code>import</code> ‚Äî —ç—Ç–æ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ —Å–µ—Ä–≤–∏—Å-–ª–æ–∫–∞—Ç–æ—Ä—ã —Å –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ–º. –í <code>require</code> –∫—ç—à –º–æ–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å –≤—Ä—É—á–Ω—É—é, –≤ ESM ‚Äî –Ω–µ—Ç.</li>
<li>–ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è: —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å <code>Map</code> —Å –º–µ—Ç–æ–¥–∞–º–∏ <code>get</code> –∏ <code>set</code>.</li>
<li>–î–ª—è –∏–Ω–∫–∞–ø—Å—É–ª—è—Ü–∏–∏ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–≥–æ —Ä–µ–µ—Å—Ç—Ä–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ª–∏–±–æ —Ñ–∞—Å–∞–¥ –∏–∑ —Å—Ç—Ä–µ–ª–æ—á–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π, –ª–∏–±–æ <code>bind</code>, –ª–∏–±–æ –∫–ª–∞—Å—Å-–æ–±—ë—Ä—Ç–∫–∞.</li>
<li>–ü–∞—Ç—Ç–µ—Ä–Ω –æ—á–µ–Ω—å –±–ª–∏–∑–æ–∫ –∫ <strong>Strategy —á–µ—Ä–µ–∑ –∫–æ–ª–ª–µ–∫—Ü–∏–∏</strong> ‚Äî –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–æ–¥–º–µ–Ω—è—Ç—å –ø–æ–≤–µ–¥–µ–Ω–∏–µ –ø–æ –∏–º–µ–Ω–∏ –∫–ª—é—á–∞.</li>
<li>–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—ã –¥–ª—è –∏–Ω–≤–µ—Ä—Å–∏–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π: —Å–∏—Å—Ç–µ–º—ã –º–æ–¥—É–ª—å–Ω–æ—Å—Ç–∏ (CommonJS, ESM), —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –º–æ–¥—É–ª—å–Ω–æ—Å—Ç–∏ —Å sandboxing.</li>
<li>–ö–ª—é—á–µ–≤–æ–µ –æ—Ç–ª–∏—á–∏–µ –æ—Ç DI: –ø—Ä–∏ Service Locator –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—å —Å–∞–º –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å, –ø—Ä–∏ DI ‚Äî –ø–æ–ª—É—á–∞–µ—Ç –µ—ë –∏–∑–≤–Ω–µ.</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="week-11---scaling-and-architecture-scalable-systems"><a class="header" href="#week-11---scaling-and-architecture-scalable-systems">Week 11 - Scaling and Architecture: Scalable Systems</a></h1>
<ul>
<li><a href="week11/lecture-async-context.html">Context –∏ Async Context ‚Äî –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç –Ω–∞ JavaScript</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="–ü–∞—Ç—Ç–µ—Ä–Ω-–ö–æ–Ω—Ç–µ–∫—Å—Ç-–∏-–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π-–∫–æ–Ω—Ç–µ–∫—Å—Ç-–≤-javascript"><a class="header" href="#–ü–∞—Ç—Ç–µ—Ä–Ω-–ö–æ–Ω—Ç–µ–∫—Å—Ç-–∏-–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π-–∫–æ–Ω—Ç–µ–∫—Å—Ç-–≤-javascript">–ü–∞—Ç—Ç–µ—Ä–Ω –ö–æ–Ω—Ç–µ–∫—Å—Ç –∏ –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç –≤ JavaScript</a></h1>
<h2 id="–í–≤–µ–¥–µ–Ω–∏–µ-20"><a class="header" href="#–í–≤–µ–¥–µ–Ω–∏–µ-20">–í–≤–µ–¥–µ–Ω–∏–µ</a></h2>
<p>–ü–∞—Ç—Ç–µ—Ä–Ω <strong>–ö–æ–Ω—Ç–µ–∫—Å—Ç</strong> –Ω–µ –≤—Ö–æ–¥–∏—Ç –≤ –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π —Å–ø–∏—Å–æ–∫ –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤ ¬´–ë–∞–Ω–¥—ã —á–µ—Ç—ã—Ä—ë—Ö¬ª, –æ–¥–Ω–∞–∫–æ —è–≤–ª—è–µ—Ç—Å—è –æ–¥–Ω–∏–º –∏–∑ –Ω–∞–∏–±–æ–ª–µ–µ –ø—Ä–∞–∫—Ç–∏—á–Ω—ã—Ö –∏ —à–∏—Ä–æ–∫–æ –ø—Ä–∏–º–µ–Ω—è–µ–º—ã—Ö –ø—Ä–∏—ë–º–æ–≤ –≤ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–π JavaScript-—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ. –ï–≥–æ —Ü–µ–ª—å ‚Äî –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∏ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –º–µ–∂–¥—É —Ä–∞–∑–ª–∏—á–Ω—ã–º–∏ –∞–±—Å—Ç—Ä–∞–∫—Ü–∏—è–º–∏ —Å–∏—Å—Ç–µ–º—ã –±–µ–∑ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≥–ª–æ–±–∞–ª—å–Ω—ã—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö, –≥–ª–æ–±–∞–ª—å–Ω—ã—Ö —Å–æ–±—ã—Ç–∏–π–Ω—ã—Ö —à–∏–Ω (EventEmitter/Observer) –∏–ª–∏ –≥–ª–æ–±–∞–ª—å–Ω—ã—Ö –∫–æ–ª–ª–µ–∫—Ü–∏–π.</p>
<p>–ö–æ–Ω—Ç–µ–∫—Å—Ç –ø–æ–∑–≤–æ–ª—è–µ—Ç –æ–≥—Ä–∞–Ω–∏—á–∏—Ç—å –≤–∏–¥–∏–º–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–π –æ–±–ª–∞—Å—Ç—å—é: –ø–æ–¥—Å–∏—Å—Ç–µ–º–æ–π, —Å–µ—Å—Å–∏–µ–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –æ–¥–Ω–∏–º HTTP-–∑–∞–ø—Ä–æ—Å–æ–º –∏–ª–∏ –æ–¥–Ω–∏–º –±–∏–∑–Ω–µ—Å-–ø—Ä–æ—Ü–µ—Å—Å–æ–º. –ò–º–µ–Ω–Ω–æ —ç—Ç–æ –¥–µ–ª–∞–µ—Ç –µ–≥–æ –±–µ–∑–æ–ø–∞—Å–Ω—ã–º –∏ –ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º—ã–º –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–º –≤ –æ—Ç–ª–∏—á–∏–µ –æ—Ç –≥–ª–æ–±–∞–ª—å–Ω–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è.</p>
<hr />
<h2 id="–ß—Ç–æ-—Ç–∞–∫–æ–µ-–ö–æ–Ω—Ç–µ–∫—Å—Ç"><a class="header" href="#–ß—Ç–æ-—Ç–∞–∫–æ–µ-–ö–æ–Ω—Ç–µ–∫—Å—Ç">–ß—Ç–æ —Ç–∞–∫–æ–µ –ö–æ–Ω—Ç–µ–∫—Å—Ç</a></h2>
<p>–ö–æ–Ω—Ç–µ–∫—Å—Ç ‚Äî —ç—Ç–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö (–æ–±—ä–µ–∫—Ç, Map, —ç–∫–∑–µ–º–ø–ª—è—Ä –∫–ª–∞—Å—Å–∞), –∫–æ—Ç–æ—Ä–∞—è —Å–æ–¥–µ—Ä–∂–∏—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∏ —Å–æ—Å—Ç–æ—è–Ω–∏–µ, –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –Ω–µ–∫–æ—Ç–æ—Ä–æ–π –ª–æ–≥–∏–∫–∏. –û–Ω –ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è —è–≤–Ω–æ ‚Äî —á–µ—Ä–µ–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Ñ—É–Ω–∫—Ü–∏–π, –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä—ã –∫–ª–∞—Å—Å–æ–≤ –∏–ª–∏ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ —Ñ–∞–±—Ä–∏–∫–∏.</p>
<h3 id="–ü—Ä–æ–±–ª–µ–º—ã-–±–µ–∑-–∫–æ–Ω—Ç–µ–∫—Å—Ç–∞"><a class="header" href="#–ü—Ä–æ–±–ª–µ–º—ã-–±–µ–∑-–∫–æ–Ω—Ç–µ–∫—Å—Ç–∞">–ü—Ä–æ–±–ª–µ–º—ã –±–µ–∑ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞</a></h3>
<p>–ë–µ–∑ –ø–∞—Ç—Ç–µ—Ä–Ω–∞ –ö–æ–Ω—Ç–µ–∫—Å—Ç —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∏ –≤—ã–Ω—É–∂–¥–µ–Ω—ã:</p>
<ul>
<li>–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≥–ª–æ–±–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ (–∑–∞–≥—Ä—è–∑–Ω—è—é—Ç –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ –∏–º—ë–Ω, –ø—Ä–æ–≤–æ—Ü–∏—Ä—É—é—Ç –≥–æ–Ω–∫–∏ –¥–∞–Ω–Ω—ã—Ö).</li>
<li>–°–æ–∑–¥–∞–≤–∞—Ç—å –≥–ª–æ–±–∞–ª—å–Ω—ã–π EventEmitter/Observer –¥–ª—è –ø–µ—Ä–µ–¥–∞—á–∏ –¥–∞–Ω–Ω—ã—Ö –º–µ–∂–¥—É –º–æ–¥—É–ª—è–º–∏.</li>
<li>–ó–∞–ø–∏—Å—ã–≤–∞—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ –≤ <code>global</code> –∏–ª–∏ –≤ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Å–≤–æ–π—Å—Ç–≤–∞ –∫–ª–∞—Å—Å–æ–≤.</li>
</ul>
<p>–í—Å–µ —ç—Ç–∏ –ø–æ–¥—Ö–æ–¥—ã –ø—Ä–∏–≤–æ–¥—è—Ç –∫ —Ö—Ä—É–ø–∫–æ–º—É, —Ç—Ä—É–¥–Ω–æ —Ç–µ—Å—Ç–∏—Ä—É–µ–º–æ–º—É –∫–æ–¥—É.</p>
<hr />
<h2 id="–†—É—á–Ω–∞—è-—Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è-–∫–æ–Ω—Ç–µ–∫—Å—Ç–∞"><a class="header" href="#–†—É—á–Ω–∞—è-—Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è-–∫–æ–Ω—Ç–µ–∫—Å—Ç–∞">–†—É—á–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞</a></h2>
<h3 id="–í–∞—Ä–∏–∞–Ω—Ç-1-–ó–∞–º—ã–∫–∞–Ω–∏—è-—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π-–ø–æ–¥—Ö–æ–¥"><a class="header" href="#–í–∞—Ä–∏–∞–Ω—Ç-1-–ó–∞–º—ã–∫–∞–Ω–∏—è-—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π-–ø–æ–¥—Ö–æ–¥">–í–∞—Ä–∏–∞–Ω—Ç 1: –ó–∞–º—ã–∫–∞–Ω–∏—è (—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –ø–æ–¥—Ö–æ–¥)</a></h3>
<p>–§–∞–±—Ä–∏—á–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —ç–∫–∑–µ–º–ø–ª—è—Ä —Ñ—É–Ω–∫—Ü–∏–∏, –∫–æ—Ç–æ—Ä—ã–π ¬´–∑–∞—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç¬ª –Ω—É–∂–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —á–µ—Ä–µ–∑ –∑–∞–º—ã–∫–∞–Ω–∏–µ.</p>
<pre><code class="language-javascript">// –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–π –æ–±—ä–µ–∫—Ç –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞ (RBAC)
const createAccessPolicy = (roles) =&gt; ({
  check(user, operation) {
    const allowed = roles[user.role];
    if (!allowed || !allowed.includes(operation)) {
      throw new Error(
        `Access denied: user "${user.name}" cannot perform "${operation}"`
      );
    }
  },
});

// –§–∞–±—Ä–∏–∫–∞: —Å–æ–∑–¥–∞—ë—Ç —Ñ—É–Ω–∫—Ü–∏—é getBalance —Å –¥–æ—Å—Ç—É–ø–æ–º –∫ –∫–æ–Ω—Ç–µ–∫—Å—Ç—É —á–µ—Ä–µ–∑ –∑–∞–º—ã–∫–∞–Ω–∏–µ
const createGetBalance = (context) =&gt; {
  // –î–µ—Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä—É–µ–º –∫–æ–Ω—Ç–µ–∫—Å—Ç –æ–¥–∏–Ω —Ä–∞–∑ ‚Äî –≤—Å–µ –≤–ª–æ–∂–µ–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –µ–≥–æ –≤–∏–¥—è—Ç
  const { console: log, access, user } = context;

  return async (account) =&gt; {
    // –ü—Ä–æ–≤–µ—Ä—è–µ–º –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞
    access.check(user, 'read:balance');
    log.log(`[getBalance] User "${user.name}" reads balance for account ${account}`);

    // –í —Ä–µ–∞–ª—å–Ω–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –∑–¥–µ—Å—å –±—ã–ª –±—ã –∑–∞–ø—Ä–æ—Å –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
    const balances = { acc001: 1500, acc002: 3200 };
    const balance = balances[account] ?? 0;

    return { account, balance };
  };
};

// --- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ ---
const accessPolicy = createAccessPolicy({
  guest: [],
  user: ['read:balance'],
  admin: ['read:balance', 'read:transactions'],
});

const context = {
  console,           // –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å: –ª–æ–≥–≥–µ—Ä
  access: accessPolicy, // –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å: –ø–æ–ª–∏—Ç–∏–∫–∞ –¥–æ—Å—Ç—É–ø–∞
  user: { name: 'Markus', role: 'user' }, // —Å–æ—Å—Ç–æ—è–Ω–∏–µ: —Ç–µ–∫—É—â–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
};

const getBalance = createGetBalance(context);

getBalance('acc001').then((result) =&gt; {
  console.log('Result:', result);
  // Result: { account: 'acc001', balance: 1500 }
});
</code></pre>
<h3 id="–í–∞—Ä–∏–∞–Ω—Ç-2-–û–û–ü--–∫–æ–Ω—Ç–µ–∫—Å—Ç-—á–µ—Ä–µ–∑-–∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä-revealing-constructor"><a class="header" href="#–í–∞—Ä–∏–∞–Ω—Ç-2-–û–û–ü--–∫–æ–Ω—Ç–µ–∫—Å—Ç-—á–µ—Ä–µ–∑-–∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä-revealing-constructor">–í–∞—Ä–∏–∞–Ω—Ç 2: –û–û–ü ‚Äî –∫–æ–Ω—Ç–µ–∫—Å—Ç —á–µ—Ä–µ–∑ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä (Revealing Constructor)</a></h3>
<p>–ü–∞—Ç—Ç–µ—Ä–Ω ¬´–û—Ç–∫—Ä—ã—Ç—ã–π –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä¬ª (Revealing Constructor): –∫–æ–Ω—Ç–µ–∫—Å—Ç –ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è –≤ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –∫–∞–∫ –ø—Ä–∏–≤–∞—Ç–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ —ç–∫–∑–µ–º–ø–ª—è—Ä–∞.</p>
<pre><code class="language-javascript">class AccessPolicy {
  #roles;
  constructor(roles) {
    this.#roles = roles;
  }
  check(user, operation) {
    const allowed = this.#roles[user.role];
    if (!allowed || !allowed.includes(operation)) {
      throw new Error(`Access denied for "${user.name}" on "${operation}"`);
    }
  }
}

class AccountService {
  // –ö–æ–Ω—Ç–µ–∫—Å—Ç —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ ‚Äî —ç—Ç–æ –∏ –µ—Å—Ç—å Revealing Constructor
  #context;

  constructor(context) {
    this.#context = context;
  }

  async getBalance(account) {
    const { console: log, access, user } = this.#context;
    access.check(user, 'read:balance');
    log.log(`[AccountService.getBalance] user=${user.name}, account=${account}`);

    const balances = { acc001: 1500, acc002: 3200 };
    return { account, balance: balances[account] ?? 0 };
  }

  async getTransactions(account) {
    const { console: log, access, user } = this.#context;
    access.check(user, 'read:transactions');
    log.log(`[AccountService.getTransactions] user=${user.name}, account=${account}`);

    return { account, transactions: [{ id: 't1', amount: -100 }, { id: 't2', amount: 500 }] };
  }
}

// --- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ ---
const policy = new AccessPolicy({
  user: ['read:balance'],
  admin: ['read:balance', 'read:transactions'],
});

const ctx = {
  console,
  access: policy,
  user: { name: 'Alice', role: 'admin' },
};

const service = new AccountService(ctx);

service.getBalance('acc001').then(console.log);
service.getTransactions('acc001').then(console.log);
</code></pre>
<h3 id="–í–∞—Ä–∏–∞–Ω—Ç-3-–§–∞–±—Ä–∏–∫–∞-—Å–µ—Ä–≤–∏—Å–æ–≤"><a class="header" href="#–í–∞—Ä–∏–∞–Ω—Ç-3-–§–∞–±—Ä–∏–∫–∞-—Å–µ—Ä–≤–∏—Å–æ–≤">–í–∞—Ä–∏–∞–Ω—Ç 3: –§–∞–±—Ä–∏–∫–∞ —Å–µ—Ä–≤–∏—Å–æ–≤</a></h3>
<p>–ö–æ–≥–¥–∞ —Å–µ—Ä–≤–∏—Å —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Ñ—É–Ω–∫—Ü–∏–π, —É–¥–æ–±–Ω–æ –æ–±–µ—Ä–Ω—É—Ç—å –∏—Ö –≤ –µ–¥–∏–Ω—É—é —Ñ–∞–±—Ä–∏–∫—É. –í–Ω—É—Ç—Ä–∏ —Ñ–∞–±—Ä–∏–∫–∏ –≤—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Ä–∞–∑–¥–µ–ª—è—é—Ç –æ–¥–∏–Ω –ª–µ–∫—Å–∏—á–µ—Å–∫–∏–π –∫–æ–Ω—Ç–µ–∫—Å—Ç.</p>
<pre><code class="language-javascript">const createAccountService = (context) =&gt; {
  // –î–µ—Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä—É–µ–º –æ–¥–∏–Ω —Ä–∞–∑ –¥–ª—è –≤—Å–µ–≥–æ –º–æ–¥—É–ª—è/—Ñ–∞–±—Ä–∏–∫–∏
  const { console: log, access, user } = context;

  const getBalance = async (account) =&gt; {
    access.check(user, 'read:balance');
    log.log(`getBalance: ${user.name} -&gt; ${account}`);
    return { account, balance: 1500 };
  };

  const getTransactions = async (account) =&gt; {
    access.check(user, 'read:transactions');
    log.log(`getTransactions: ${user.name} -&gt; ${account}`);
    return { account, transactions: [] };
  };

  // –í–æ–∑–≤—Ä–∞—â–∞–µ–º –ø—É–±–ª–∏—á–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Å–µ—Ä–≤–∏—Å–∞
  return { getBalance, getTransactions };
};

// --- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ ---
const ctx = {
  console,
  access: { check: () =&gt; {} }, // —É–ø—Ä–æ—â—ë–Ω–Ω–∞—è –∑–∞–≥–ª—É—à–∫–∞
  user: { name: 'Bob', role: 'admin' },
};

const accountService = createAccountService(ctx);
accountService.getBalance('acc002').then(console.log);
</code></pre>
<hr />
<h2 id="–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π-–ø–æ–¥—Ö–æ–¥-pipeline-—Å-–∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º-–∏-—Ç—Ä–∞—Å—Å–∏—Ä–æ–≤–∫–æ–π"><a class="header" href="#–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π-–ø–æ–¥—Ö–æ–¥-pipeline-—Å-–∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º-–∏-—Ç—Ä–∞—Å—Å–∏—Ä–æ–≤–∫–æ–π">–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –ø–æ–¥—Ö–æ–¥: Pipeline —Å –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º –∏ —Ç—Ä–∞—Å—Å–∏—Ä–æ–≤–∫–æ–π</a></h2>
<p>–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–∑–≤–æ–ª—è–µ—Ç –≤—ã—Å—Ç—Ä–æ–∏—Ç—å —Ü–µ–ø–æ—á–∫—É –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö —à–∞–≥–æ–≤, –∫–∞–∂–¥—ã–π –∏–∑ –∫–æ—Ç–æ—Ä—ã—Ö –ø–æ–ª—É—á–∞–µ—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ–±–Ω–æ–≤–ª—ë–Ω–Ω—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç –≤–Ω—É—Ç—Ä–∏ Promise. –≠—Ç–æ –Ω–∞–ø–æ–º–∏–Ω–∞–µ—Ç –∫–æ–º–ø–æ–∑–∏—Ü–∏—é —Ñ—É–Ω–∫—Ü–∏–π, –Ω–æ –≤ –ø—Ä—è–º–æ–º (—Å–ª–µ–≤–∞ –Ω–∞–ø—Ä–∞–≤–æ) –ø–æ—Ä—è–¥–∫–µ.</p>
<pre><code class="language-javascript">import { randomUUID } from 'node:crypto';

// –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –∑–∞–ø—Ä–æ—Å–∞
const makeRequestId = () =&gt; `${Date.now()}-${randomUUID()}`;

// –î–æ–±–∞–≤–ª—è–µ—Ç —Ç–µ–∫—É—â–∏–π —à–∞–≥ –≤ –º–∞—Å—Å–∏–≤ —Ç—Ä–∞—Å—Å–∏—Ä–æ–≤–∫–∏ –≤–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞
const appendTrace = (context, stepName) =&gt; {
  const trace = context.trace ?? [];
  return { ...context, trace: [...trace, stepName] };
};

// Pipeline: –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –º–∞—Å—Å–∏–≤ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö —à–∞–≥–æ–≤ –∏ –∫–æ–Ω—Ç–µ–∫—Å—Ç,
// –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ –ø—Ä–æ–≥–æ–Ω—è–µ—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç —á–µ—Ä–µ–∑ –∫–∞–∂–¥—ã–π —à–∞–≥
const pipeline =
  (...steps) =&gt;
  (context) =&gt;
    steps.reduce(
      (promise, step) =&gt; promise.then((ctx) =&gt; step(ctx)),
      Promise.resolve(context)
    );

// --- –®–∞–≥–∏ –ø–∞–π–ø–ª–∞–π–Ω–∞ ---

// –®–∞–≥ 1: —Ç—Ä–∞—Å—Å–∏—Ä–æ–≤–∫–∞ ‚Äî –¥–æ–±–∞–≤–ª—è–µ—Ç request ID –∏ –ª–æ–≥–∏—Ä—É–µ—Ç
const trace = async (context) =&gt; {
  const { console: log } = context;
  const requestId = context.requestId ?? makeRequestId();
  const next = appendTrace({ ...context, requestId }, 'trace');
  log.log(`[trace] requestId=${requestId}`);
  return next;
};

// –®–∞–≥ 2: –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è ‚Äî –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Ä–æ–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
const authenticate = async (context) =&gt; {
  const { console: log, headers } = context;
  const user = headers?.user
    ? { name: headers.user, role: 'user' }
    : { name: 'anonymous', role: 'guest' };
  log.log(`[authenticate] user=${user.name}, role=${user.role}`);
  return appendTrace({ ...context, user }, 'authenticate');
};

// –®–∞–≥ 3: –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞
const checkAccess = async (context) =&gt; {
  const { console: log, user, accessRules } = context;
  const allowed = accessRules[user.role] ?? [];
  if (!allowed.includes('read:balance')) {
    throw new Error(`Access denied for role "${user.role}"`);
  }
  log.log(`[checkAccess] OK for ${user.name}`);
  return appendTrace(context, 'checkAccess');
};

// –®–∞–≥ 4: –ø–æ–ª—É—á–µ–Ω–∏–µ –±–∞–ª–∞–Ω—Å–∞ (–±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞)
const fetchBalance = async (context) =&gt; {
  const { console: log, account, user } = context;
  const balance = 1500; // –≤ —Ä–µ–∞–ª—å–Ω–æ—Å—Ç–∏ ‚Äî –∑–∞–ø—Ä–æ—Å –∫ –ë–î
  log.log(`[fetchBalance] account=${account}, balance=${balance}`);
  const result = { status: 200, body: { balance } };
  return appendTrace({ ...context, result }, 'fetchBalance');
};

// --- –°–±–æ—Ä–∫–∞ –∏ –∑–∞–ø—É—Å–∫ ---
const execute = pipeline(trace, authenticate, checkAccess, fetchBalance);

const initialContext = {
  console,
  headers: { user: 'Markus' },
  account: 'acc001',
  accessRules: {
    guest: [],
    user: ['read:balance'],
    admin: ['read:balance', 'read:transactions'],
  },
};

execute(initialContext).then((finalCtx) =&gt; {
  console.log('Trace:', finalCtx.trace);
  console.log('Result:', finalCtx.result);
});
/*
[trace] requestId=1700000000000-xxxxxxxx-...
[authenticate] user=Markus, role=user
[checkAccess] OK for Markus
[fetchBalance] account=acc001, balance=1500
Trace: [ 'trace', 'authenticate', 'checkAccess', 'fetchBalance' ]
Result: { status: 200, body: { balance: 1500 } }
*/
</code></pre>
<hr />
<h2 id="–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π-–∫–æ–Ω—Ç–µ–∫—Å—Ç"><a class="header" href="#–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π-–∫–æ–Ω—Ç–µ–∫—Å—Ç">–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç</a></h2>
<p>–†—É—á–Ω–∞—è –ø–µ—Ä–µ–¥–∞—á–∞ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ —á–µ—Ä–µ–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Ñ—É–Ω–∫—Ü–∏–π —É–¥–æ–±–Ω–∞, –Ω–æ —Ç—Ä–µ–±—É–µ—Ç —è–≤–Ω–æ–≥–æ –ø—Ä–æ–±—Ä–∞—Å—ã–≤–∞–Ω–∏—è —á–µ—Ä–µ–∑ –∫–∞–∂–¥—ã–π –≤—ã–∑–æ–≤. –í –≥–ª—É–±–æ–∫–æ –≤–ª–æ–∂–µ–Ω–Ω—ã—Ö –∏–ª–∏ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã—Ö —Å–∏—Å—Ç–µ–º–∞—Ö —ç—Ç–æ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –æ–±—Ä–µ–º–µ–Ω–∏—Ç–µ–ª—å–Ω—ã–º. –î–ª—è —Ä–µ—à–µ–Ω–∏—è —ç—Ç–æ–π –ø—Ä–æ–±–ª–µ–º—ã –≤ Node.js —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –º–µ—Ö–∞–Ω–∏–∑–º <strong>–∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞</strong>.</p>
<p>–ò—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏ –≤ Node.js –¥–ª—è —ç—Ç–æ–≥–æ –ø—Ä–∏–º–µ–Ω—è–ª–∏—Å—å:</p>
<ul>
<li><code>domains</code> ‚Äî —É—Å—Ç–∞—Ä–µ–≤—à–∏–π –º–æ–¥—É–ª—å, —ç–º—É–ª–∏—Ä–æ–≤–∞–≤—à–∏–π –∫–æ–Ω—Ç–µ–∫—Å—Ç—ã (deprecated).</li>
<li>–°—Ç–æ—Ä–æ–Ω–Ω–∏–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ ¬´–∑–æ–Ω¬ª (Zone.js –¥–ª—è Angular, –∞–Ω–∞–ª–æ–≥–∏ –¥–ª—è –±—Ä–∞—É–∑–µ—Ä–∞).</li>
</ul>
<p>–°–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–µ –∏ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ ‚Äî <strong><code>AsyncLocalStorage</code></strong> –∏–∑ –º–æ–¥—É–ª—è <code>node:async_hooks</code>.</p>
<hr />
<h2 id="asynclocalstorage"><a class="header" href="#asynclocalstorage">AsyncLocalStorage</a></h2>
<p><code>AsyncLocalStorage</code> –ø–æ–∑–≤–æ–ª—è–µ—Ç —Ö—Ä–∞–Ω–∏—Ç—å –¥–∞–Ω–Ω—ã–µ, –∫–æ—Ç–æ—Ä—ã–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–æ—Å—Ç—É–ø–Ω—ã –≤–æ –≤—Å–µ—Ö –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏—è—Ö, –∑–∞–ø—É—â–µ–Ω–Ω—ã—Ö –≤ —Ä–∞–º–∫–∞—Ö –æ–¥–Ω–æ–≥–æ ¬´–∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞¬ª (<code>run</code>). –≠—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –±–ª–∞–≥–æ–¥–∞—Ä—è —Ç–æ–º—É, —á—Ç–æ Node.js –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç ¬´–¥–µ—Ä–µ–≤–æ¬ª –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö —Ä–µ—Å—É—Ä—Å–æ–≤ –∏ –∑–Ω–∞–µ—Ç, –∫ –∫–∞–∫–æ–º—É –∫–æ—Ä–Ω–µ–≤–æ–º—É <code>run</code>-–≤—ã–∑–æ–≤—É –æ—Ç–Ω–æ—Å–∏—Ç—Å—è –∫–∞–∂–¥—ã–π –∫–æ–ª–±—ç–∫.</p>
<h3 id="–ö–ª—é—á–µ–≤—ã–µ-–º–µ—Ç–æ–¥—ã"><a class="header" href="#–ö–ª—é—á–µ–≤—ã–µ-–º–µ—Ç–æ–¥—ã">–ö–ª—é—á–µ–≤—ã–µ –º–µ—Ç–æ–¥—ã</a></h3>
<div class="table-wrapper"><table><thead><tr><th>–ú–µ—Ç–æ–¥</th><th>–û–ø–∏—Å–∞–Ω–∏–µ</th></tr></thead><tbody>
<tr><td><code>new AsyncLocalStorage()</code></td><td>–°–æ–∑–¥–∞—ë—Ç —Ö—Ä–∞–Ω–∏–ª–∏—â–µ</td></tr>
<tr><td><code>.run(store, callback)</code></td><td>–ó–∞–ø—É—Å–∫–∞–µ—Ç <code>callback</code>, —Å–≤—è–∑—ã–≤–∞—è —Å –Ω–∏–º <code>store</code></td></tr>
<tr><td><code>.getStore()</code></td><td>–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç <code>store</code> —Ç–µ–∫—É—â–µ–≥–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –∏–∑ –ª—é–±–æ–≥–æ –≤–ª–æ–∂–µ–Ω–Ω–æ–≥–æ –≤—ã–∑–æ–≤–∞</td></tr>
<tr><td><code>.enterWith(store)</code></td><td>–£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç <code>store</code> –¥–ª—è —Ç–µ–∫—É—â–µ–≥–æ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –±–µ–∑ –∑–∞–ø—É—Å–∫–∞ –∫–æ–ª–±—ç–∫–∞</td></tr>
</tbody></table>
</div>
<h3 id="–ü—Ä–∏–Ω—Ü–∏–ø-—Ä–∞–±–æ—Ç—ã-2"><a class="header" href="#–ü—Ä–∏–Ω—Ü–∏–ø-—Ä–∞–±–æ—Ç—ã-2">–ü—Ä–∏–Ω—Ü–∏–ø —Ä–∞–±–æ—Ç—ã</a></h3>
<pre><code>asyncLocalStorage.run(store, () =&gt; {
  // –ó–¥–µ—Å—å –∏ –≤–æ –í–°–ï–• –≤–ª–æ–∂–µ–Ω–Ω—ã—Ö –≤—ã–∑–æ–≤–∞—Ö (–¥–∞–∂–µ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö)
  // asyncLocalStorage.getStore() –≤–µ—Ä–Ω—ë—Ç —ç—Ç–æ—Ç store
});
</code></pre>
<hr />
<h2 id="–†–µ–∞–ª–∏–∑–∞—Ü–∏—è-—Å-asynclocalstorage"><a class="header" href="#–†–µ–∞–ª–∏–∑–∞—Ü–∏—è-—Å-asynclocalstorage">–†–µ–∞–ª–∏–∑–∞—Ü–∏—è —Å AsyncLocalStorage</a></h2>
<h3 id="–ë–∞–∑–æ–≤—ã–π-–ø—Ä–∏–º–µ—Ä-—Ö—Ä–∞–Ω–µ–Ω–∏–µ-–∫–æ–Ω—Ç–µ–∫—Å—Ç–∞-–∑–∞–ø—Ä–æ—Å–∞"><a class="header" href="#–ë–∞–∑–æ–≤—ã–π-–ø—Ä–∏–º–µ—Ä-—Ö—Ä–∞–Ω–µ–Ω–∏–µ-–∫–æ–Ω—Ç–µ–∫—Å—Ç–∞-–∑–∞–ø—Ä–æ—Å–∞">–ë–∞–∑–æ–≤—ã–π –ø—Ä–∏–º–µ—Ä: —Ö—Ä–∞–Ω–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –∑–∞–ø—Ä–æ—Å–∞</a></h3>
<pre><code class="language-javascript">import { AsyncLocalStorage } from 'node:async_hooks';

// –°–æ–∑–¥–∞—ë–º —Ö—Ä–∞–Ω–∏–ª–∏—â–µ ‚Äî –æ–¥–∏–Ω —ç–∫–∑–µ–º–ø–ª—è—Ä –Ω–∞ –≤—Å—ë –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
const requestContext = new AsyncLocalStorage();

// –ò–º–∏—Ç–∞—Ü–∏—è middleware –≤ HTTP-—Å–µ—Ä–≤–µ—Ä–µ
const handleRequest = (req) =&gt; {
  // –§–æ—Ä–º–∏—Ä—É–µ–º –∫–æ–Ω—Ç–µ–∫—Å—Ç –∑–∞–ø—Ä–æ—Å–∞
  const store = {
    requestId: `req-${Date.now()}`,
    user: req.user ?? { name: 'anonymous', role: 'guest' },
    console, // –ª–æ–≥–≥–µ—Ä (–º–æ–∂–Ω–æ –∑–∞–º–µ–Ω–∏—Ç—å –Ω–∞ winston, pino –∏ —Ç.–¥.)
  };

  // –ó–∞–ø—É—Å–∫–∞–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –≤–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞
  requestContext.run(store, () =&gt; {
    processRequest(req.account);
  });
};

// –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –¥–æ—Å—Ç—É–ø–∞ –∫ –∫–æ–Ω—Ç–µ–∫—Å—Ç—É ‚Äî –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –∏–∑ –ª—é–±–æ–≥–æ –º–µ—Å—Ç–∞
const getContext = () =&gt; {
  const store = requestContext.getStore();
  if (!store) throw new Error('No request context found');
  return store;
};

// –§—É–Ω–∫—Ü–∏—è –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏ ‚Äî –ù–ï –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç —á–µ—Ä–µ–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
const getBalance = async (account) =&gt; {
  const { console: log, user, requestId } = getContext();
  log.log(`[${requestId}] getBalance: user=${user.name}, account=${account}`);
  // –ó–∞–ø—Ä–æ—Å –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö...
  return { account, balance: 1500 };
};

// –ï—â—ë –æ–¥–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è, –∫–æ—Ç–æ—Ä–∞—è —Ç–æ–∂–µ —á–∏—Ç–∞–µ—Ç –∏–∑ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞
const getTransactions = async (account) =&gt; {
  const { console: log, user, requestId } = getContext();
  log.log(`[${requestId}] getTransactions: user=${user.name}, account=${account}`);
  return { account, transactions: [] };
};

const processRequest = async (account) =&gt; {
  const balance = await getBalance(account);
  const transactions = await getTransactions(account);
  console.log({ balance, transactions });
};

// --- –ò–º–∏—Ç–∞—Ü–∏—è –¥–≤—É—Ö –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ ---
handleRequest({ user: { name: 'Markus', role: 'user' }, account: 'acc001' });
handleRequest({ user: { name: 'Alice', role: 'admin' }, account: 'acc002' });

// –ö–∞–∂–¥—ã–π –≤—ã–∑–æ–≤ handleRequest —Å–æ–∑–¥–∞—ë—Ç —Å–≤–æ–π –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–π store.
// –§—É–Ω–∫—Ü–∏–∏ getBalance –∏ getTransactions —á–∏—Ç–∞—é—Ç –∏–º–µ–Ω–Ω–æ —Å–≤–æ–π store,
// –¥–∞–∂–µ –µ—Å–ª–∏ –∑–∞–ø—Ä–æ—Å—ã –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ.
</code></pre>
<h3 id="–†–µ–∞–ª–∏—Å—Ç–∏—á–Ω—ã–π-–ø—Ä–∏–º–µ—Ä-http-—Å–µ—Ä–≤–µ—Ä-—Å-—Ç—Ä–∞—Å—Å–∏—Ä–æ–≤–∫–æ–π"><a class="header" href="#–†–µ–∞–ª–∏—Å—Ç–∏—á–Ω—ã–π-–ø—Ä–∏–º–µ—Ä-http-—Å–µ—Ä–≤–µ—Ä-—Å-—Ç—Ä–∞—Å—Å–∏—Ä–æ–≤–∫–æ–π">–†–µ–∞–ª–∏—Å—Ç–∏—á–Ω—ã–π –ø—Ä–∏–º–µ—Ä: HTTP-—Å–µ—Ä–≤–µ—Ä —Å —Ç—Ä–∞—Å—Å–∏—Ä–æ–≤–∫–æ–π</a></h3>
<pre><code class="language-javascript">import { createServer } from 'node:http';
import { AsyncLocalStorage } from 'node:async_hooks';
import { randomUUID } from 'node:crypto';

const als = new AsyncLocalStorage();

// –§—É–Ω–∫—Ü–∏—è-—Ö–µ–ª–ø–µ—Ä: –ø–æ–ª—É—á–∏—Ç—å store –∏–ª–∏ –±—Ä–æ—Å–∏—Ç—å –æ—à–∏–±–∫—É
const ctx = () =&gt; {
  const store = als.getStore();
  if (!store) throw new Error('AsyncLocalStorage store is not initialized');
  return store;
};

// –õ–æ–≥–≥–µ—Ä, –∫–æ—Ç–æ—Ä—ã–π –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–æ–±–∞–≤–ª—è–µ—Ç requestId –∏–∑ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞
const logger = {
  log: (message) =&gt; {
    const store = als.getStore();
    const prefix = store ? `[${store.requestId}]` : '[no-ctx]';
    console.log(`${prefix} ${message}`);
  },
};

// –°–µ—Ä–≤–∏—Å ‚Äî –Ω–µ –∑–Ω–∞–µ—Ç –Ω–∏ –æ –∫–∞–∫–æ–º –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ –Ω–∞–ø—Ä—è–º—É—é
class UserService {
  async getUser(userId) {
    logger.log(`UserService.getUser(${userId})`);
    // –ò–º–∏—Ç–∞—Ü–∏—è –æ–±—Ä–∞—â–µ–Ω–∏—è –∫ –ë–î
    return { id: userId, name: 'Markus', role: 'user' };
  }
}

class BalanceService {
  #userService;
  constructor(userService) {
    this.#userService = userService;
  }

  async getBalance(userId, account) {
    logger.log(`BalanceService.getBalance(${userId}, ${account})`);
    const user = await this.#userService.getUser(userId);
    logger.log(`  -&gt; resolved user: ${user.name}`);
    return { user, account, balance: 2500 };
  }
}

// Middleware: —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞
const withRequestContext = (req, res, next) =&gt; {
  const store = {
    requestId: randomUUID(),
    method: req.method,
    url: req.url,
    startTime: Date.now(),
  };

  als.run(store, () =&gt; {
    logger.log(`Incoming ${req.method} ${req.url}`);
    next();
  });
};

// –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∑–∞–ø—Ä–æ—Å–∞
const userService = new UserService();
const balanceService = new BalanceService(userService);

const server = createServer((req, res) =&gt; {
  withRequestContext(req, res, async () =&gt; {
    try {
      const result = await balanceService.getBalance('user-1', 'acc001');
      const duration = Date.now() - ctx().startTime;
      logger.log(`Request completed in ${duration}ms`);
      res.writeHead(200, { 'Content-Type': 'application/json' });
      res.end(JSON.stringify(result));
    } catch (error) {
      logger.log(`Error: ${error.message}`);
      res.writeHead(500);
      res.end(JSON.stringify({ error: error.message }));
    }
  });
});

server.listen(3000, () =&gt; {
  console.log('Server listening on http://localhost:3000');
});

/*
–ü—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞ –ø—Ä–∏ –¥–≤—É—Ö –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–∞—Ö:

[a1b2c3d4-...] Incoming GET /balance
[e5f6g7h8-...] Incoming GET /balance
[a1b2c3d4-...] BalanceService.getBalance(user-1, acc001)
[e5f6g7h8-...] BalanceService.getBalance(user-1, acc001)
[a1b2c3d4-...] UserService.getUser(user-1)
[e5f6g7h8-...] UserService.getUser(user-1)
[a1b2c3d4-...]   -&gt; resolved user: Markus
[e5f6g7h8-...]   -&gt; resolved user: Markus
[a1b2c3d4-...] Request completed in 12ms
[e5f6g7h8-...] Request completed in 14ms

–ö–∞–∂–¥—ã–π –∑–∞–ø—Ä–æ—Å –≤–∏–¥–∏—Ç —Ç–æ–ª—å–∫–æ —Å–≤–æ–π requestId ‚Äî –∏–∑–æ–ª—è—Ü–∏—è –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∞.
*/
</code></pre>
<hr />
<h2 id="–í–ª–æ–∂–µ–Ω–Ω—ã–µ-–∏-–Ω–∞—Å–ª–µ–¥—É–µ–º—ã–µ-–∫–æ–Ω—Ç–µ–∫—Å—Ç—ã"><a class="header" href="#–í–ª–æ–∂–µ–Ω–Ω—ã–µ-–∏-–Ω–∞—Å–ª–µ–¥—É–µ–º—ã–µ-–∫–æ–Ω—Ç–µ–∫—Å—Ç—ã">–í–ª–æ–∂–µ–Ω–Ω—ã–µ –∏ –Ω–∞—Å–ª–µ–¥—É–µ–º—ã–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç—ã</a></h2>
<p>–ò–Ω–æ–≥–¥–∞ –Ω—É–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å ¬´–¥–æ—á–µ—Ä–Ω–∏–π¬ª –∫–æ–Ω—Ç–µ–∫—Å—Ç, –∫–æ—Ç–æ—Ä—ã–π —Ä–∞—Å—à–∏—Ä—è–µ—Ç —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–π, –Ω–µ –º—É—Ç–∏—Ä—É—è –µ–≥–æ. –≠—Ç–æ –≤–∞–∂–Ω–æ, –∫–æ–≥–¥–∞ –¥–≤–∞ –±–∏–∑–Ω–µ—Å-–ø—Ä–æ—Ü–µ—Å—Å–∞ —Ä–∞–±–æ—Ç–∞—é—Ç –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ –∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç –æ–±—â–∏–π –±–∞–∑–æ–≤—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç: –µ—Å–ª–∏ –æ–¥–∏–Ω –ø—Ä–æ—Ü–µ—Å—Å –∏–∑–º–µ–Ω–∏—Ç –æ–±—ä–µ–∫—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞, —ç—Ç–æ –º–æ–∂–µ—Ç –ø–æ–≤–ª–∏—è—Ç—å –Ω–∞ –¥—Ä—É–≥–æ–π (race condition / data corruption).</p>
<h3 id="–ë–µ–∑–æ–ø–∞—Å–Ω—ã–π-–ø–∞—Ç—Ç–µ—Ä–Ω-–∏–º–º—É—Ç–∞–±–µ–ª—å–Ω–æ–µ-—Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ-–∫–æ–Ω—Ç–µ–∫—Å—Ç–∞"><a class="header" href="#–ë–µ–∑–æ–ø–∞—Å–Ω—ã–π-–ø–∞—Ç—Ç–µ—Ä–Ω-–∏–º–º—É—Ç–∞–±–µ–ª—å–Ω–æ–µ-—Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ-–∫–æ–Ω—Ç–µ–∫—Å—Ç–∞">–ë–µ–∑–æ–ø–∞—Å–Ω—ã–π –ø–∞—Ç—Ç–µ—Ä–Ω: –∏–º–º—É—Ç–∞–±–µ–ª—å–Ω–æ–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞</a></h3>
<pre><code class="language-javascript">import { AsyncLocalStorage } from 'node:async_hooks';

const als = new AsyncLocalStorage();

// –°–æ–∑–¥–∞—ë–º –±–∞–∑–æ–≤—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç (—Ç–æ–ª—å–∫–æ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏, –±–µ–∑ —Å–æ—Å—Ç–æ—è–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è)
const createBaseContext = () =&gt;
  Object.freeze({
    console,
    accessRules: {
      guest: [],
      user: ['read:balance'],
      admin: ['read:balance', 'read:transactions'],
    },
  });

// –†–∞—Å—à–∏—Ä—è–µ–º –±–∞–∑–æ–≤—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º ‚Äî –≤–æ–∑–≤—Ä–∞—â–∞–µ–º –ù–û–í–´–ô –æ–±—ä–µ–∫—Ç
const withUser = (baseContext, user) =&gt;
  Object.freeze({ ...baseContext, user });

// –†–∞—Å—à–∏—Ä—è–µ–º –∫–æ–Ω—Ç–µ–∫—Å—Ç –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–æ–º –∑–∞–ø—Ä–æ—Å–∞
const withRequestId = (context, requestId) =&gt;
  Object.freeze({ ...context, requestId });

// --- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ ---
const baseCtx = createBaseContext();

// –ö–æ–Ω—Ç–µ–∫—Å—Ç –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è Alice
const aliceCtx = withUser(baseCtx, { name: 'Alice', role: 'admin' });

// –ö–æ–Ω—Ç–µ–∫—Å—Ç –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞ Alice
const requestCtx = withRequestId(aliceCtx, 'req-001');

// –ó–∞–ø—É—Å–∫–∞–µ–º –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫—É –≤ –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω–æ–º –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ
als.run(requestCtx, async () =&gt; {
  const store = als.getStore();
  store.console.log(`[${store.requestId}] User: ${store.user.name}`);

  // –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫ –¥–≤—É—Ö –¥–æ–ª–≥–∏—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
  // –ö–∞–∂–¥–∞—è –ø–æ–ª—É—á–∞–µ—Ç —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π –¥–æ—á–µ—Ä–Ω–∏–π –∫–æ–Ω—Ç–µ–∫—Å—Ç ‚Äî –æ–Ω–∏ –Ω–µ –º–µ—à–∞—é—Ç –¥—Ä—É–≥ –¥—Ä—É–≥—É
  const childCtx1 = withRequestId(store, 'req-001-transactions');
  const childCtx2 = withRequestId(store, 'req-001-passport');

  await Promise.all([
    als.run(childCtx1, async () =&gt; {
      const s = als.getStore();
      // –î–æ–ª–≥–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è: —Å–±–æ—Ä —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π –∑–∞ 2 –≥–æ–¥–∞
      s.console.log(`[${s.requestId}] Collecting transactions...`);
      await new Promise((r) =&gt; setTimeout(r, 100)); // –∏–º–∏—Ç–∞—Ü–∏—è –∑–∞–¥–µ—Ä–∂–∫–∏
      s.console.log(`[${s.requestId}] Transactions done`);
    }),
    als.run(childCtx2, async () =&gt; {
      const s = als.getStore();
      // –ë—ã—Å—Ç—Ä–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è: –ø–∞—Å–ø–æ—Ä—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
      s.console.log(`[${s.requestId}] Fetching passport data...`);
      // –î–∞–∂–µ –µ—Å–ª–∏ —ç—Ç–∞ –æ–ø–µ—Ä–∞—Ü–∏—è –∏–∑–º–µ–Ω–∏—Ç —á—Ç–æ-—Ç–æ –≤ —Å–≤–æ—ë–º store,
      // —ç—Ç–æ –Ω–µ –∑–∞—Ç—Ä–æ–Ω–µ—Ç store –ø–µ—Ä–≤–æ–π –æ–ø–µ—Ä–∞—Ü–∏–∏
      s.console.log(`[${s.requestId}] Passport data done`);
    }),
  ]);
});

/*
[req-001] User: Alice
[req-001-transactions] Collecting transactions...
[req-001-passport] Fetching passport data...
[req-001-passport] Passport data done
[req-001-transactions] Transactions done
*/
</code></pre>
<hr />
<h2 id="–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ-–≤-nodejs"><a class="header" href="#–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ-–≤-nodejs">–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –≤ Node.js</a></h2>
<h3 id="–¢–∏–ø–∏—á–Ω—ã–µ-—Å—Ü–µ–Ω–∞—Ä–∏–∏-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è-–∫–æ–Ω—Ç–µ–∫—Å—Ç–∞-–∏-asynclocalstorage"><a class="header" href="#–¢–∏–ø–∏—á–Ω—ã–µ-—Å—Ü–µ–Ω–∞—Ä–∏–∏-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è-–∫–æ–Ω—Ç–µ–∫—Å—Ç–∞-–∏-asynclocalstorage">–¢–∏–ø–∏—á–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –∏ AsyncLocalStorage</a></h3>
<p><strong>1. –¢—Ä–∞—Å—Å–∏—Ä–æ–≤–∫–∞ –∑–∞–ø—Ä–æ—Å–æ–≤ (Request Tracing)</strong></p>
<p>–í –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ –æ–¥–∏–Ω –±–∏–∑–Ω–µ—Å-–ø—Ä–æ—Ü–µ—Å—Å –º–æ–∂–µ—Ç –æ—Ö–≤–∞—Ç—ã–≤–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–µ—Ä–≤–∏—Å–æ–≤. –ö–æ–Ω—Ç–µ–∫—Å—Ç —Ö—Ä–∞–Ω–∏—Ç <code>traceId</code> / <code>spanId</code>, –∫–æ—Ç–æ—Ä—ã–µ –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è –º–µ–∂–¥—É —Å–µ—Ä–≤–∏—Å–∞–º–∏ —á–µ—Ä–µ–∑ HTTP-–∑–∞–≥–æ–ª–æ–≤–∫–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, <code>X-Request-ID</code>, <code>X-Trace-ID</code>) –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è –≤–æ –≤—Å–µ –ª–æ–≥–∏.</p>
<pre><code class="language-javascript">import { AsyncLocalStorage } from 'node:async_hooks';
import { randomUUID } from 'node:crypto';

const traceStorage = new AsyncLocalStorage();

// –û–±—ë—Ä—Ç–∫–∞ –Ω–∞–¥ fetch, –∫–æ—Ç–æ—Ä–∞—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–æ–±–∞–≤–ª—è–µ—Ç trace-–∑–∞–≥–æ–ª–æ–≤–∫–∏
const tracedFetch = (url, options = {}) =&gt; {
  const store = traceStorage.getStore();
  const headers = {
    ...options.headers,
    ...(store ? { 'X-Trace-ID': store.traceId, 'X-Span-ID': store.spanId } : {}),
  };
  return fetch(url, { ...options, headers });
};

// –ó–∞–ø—É—Å–∫ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∑–∞–ø—Ä–æ—Å–∞ —Å —Ç—Ä–∞—Å—Å–∏—Ä–æ–≤–∫–æ–π
const handleIncomingRequest = (incomingTraceId) =&gt; {
  const store = {
    traceId: incomingTraceId ?? randomUUID(), // –±–µ—Ä—ë–º –æ—Ç –∫–ª–∏–µ–Ω—Ç–∞ –∏–ª–∏ —Å–æ–∑–¥–∞—ë–º –Ω–æ–≤—ã–π
    spanId: randomUUID(),                     // spanId —É–Ω–∏–∫–∞–ª–µ–Ω –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞
  };

  traceStorage.run(store, async () =&gt; {
    // –í—Å–µ –≤—ã–∑–æ–≤—ã tracedFetch –≤–Ω—É—Ç—Ä–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–ª—É—á–∞—Ç –∑–∞–≥–æ–ª–æ–≤–∫–∏ —Ç—Ä–∞—Å—Å–∏—Ä–æ–≤–∫–∏
    await tracedFetch('http://user-service/api/user/1');
    await tracedFetch('http://balance-service/api/balance/acc001');
  });
};
</code></pre>
<p><strong>2. –ö–æ–Ω—Ç–µ–∫—Å—Ç —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö</strong></p>
<pre><code class="language-javascript">import { AsyncLocalStorage } from 'node:async_hooks';

const dbTransactionStorage = new AsyncLocalStorage();

// –ü–æ–ª—É—á–∏—Ç—å —Ç–µ–∫—É—â–µ–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ/—Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é –∏–∑ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞
const getDbConnection = () =&gt; {
  const store = dbTransactionStorage.getStore();
  return store?.connection ?? globalDbPool;
};

// –ó–∞–ø—É—Å—Ç–∏—Ç—å –±–ª–æ–∫ –∫–æ–¥–∞ –≤–Ω—É—Ç—Ä–∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –ë–î
const withTransaction = async (globalDbPool, callback) =&gt; {
  const connection = await globalDbPool.getConnection();
  await connection.beginTransaction();

  return dbTransactionStorage.run({ connection }, async () =&gt; {
    try {
      const result = await callback();
      await connection.commit();
      return result;
    } catch (error) {
      await connection.rollback();
      throw error;
    } finally {
      connection.release();
    }
  });
};

// –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç getDbConnection() ‚Äî –Ω–µ –∑–Ω–∞—é—Ç –æ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –Ω–∞–ø—Ä—è–º—É—é
const userRepository = {
  async findById(id) {
    const conn = getDbConnection();
    return conn.query('SELECT * FROM users WHERE id = ?', [id]);
  },
  async update(id, data) {
    const conn = getDbConnection();
    return conn.query('UPDATE users SET ? WHERE id = ?', [data, id]);
  },
};
</code></pre>
<p><strong>3. –ú—É–ª—å—Ç–∏—Ç–µ–Ω–∞–Ω—Ç–Ω–æ—Å—Ç—å (multi-tenancy)</strong></p>
<pre><code class="language-javascript">import { AsyncLocalStorage } from 'node:async_hooks';

const tenantStorage = new AsyncLocalStorage();

const getTenantId = () =&gt; {
  const store = tenantStorage.getStore();
  if (!store) throw new Error('Tenant context not set');
  return store.tenantId;
};

// Middleware –¥–ª—è Express
const tenantMiddleware = (req, res, next) =&gt; {
  const tenantId = req.headers['x-tenant-id'];
  if (!tenantId) {
    res.status(400).json({ error: 'Missing X-Tenant-ID header' });
    return;
  }
  tenantStorage.run({ tenantId }, next);
};

// –°–µ—Ä–≤–∏—Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–ª—É—á–∞–µ—Ç tenantId –±–µ–∑ —è–≤–Ω–æ–π –ø–µ—Ä–µ–¥–∞—á–∏
class ProductService {
  async getProducts() {
    const tenantId = getTenantId();
    // –ó–∞–ø—Ä–æ—Å –¥–∞–Ω–Ω—ã—Ö —Ç–æ–ª—å–∫–æ –¥–ª—è —Ç–µ–∫—É—â–µ–≥–æ —Ç–µ–Ω–∞–Ω—Ç–∞
    console.log(`Fetching products for tenant: ${tenantId}`);
    return []; // —Ä–µ–∑—É–ª—å—Ç–∞—Ç –∏–∑ –ë–î
  }
}
</code></pre>
<hr />
<h2 id="–ò—Ç–æ–≥-7"><a class="header" href="#–ò—Ç–æ–≥-7">–ò—Ç–æ–≥</a></h2>
<h3 id="–ö–æ–≥–¥–∞-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å-—Ä—É—á–Ω–æ–π-–∫–æ–Ω—Ç–µ–∫—Å—Ç-–ø–∞—Ä–∞–º–µ—Ç—Ä—ã--–∑–∞–º—ã–∫–∞–Ω–∏—è--–∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä"><a class="header" href="#–ö–æ–≥–¥–∞-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å-—Ä—É—á–Ω–æ–π-–∫–æ–Ω—Ç–µ–∫—Å—Ç-–ø–∞—Ä–∞–º–µ—Ç—Ä—ã--–∑–∞–º—ã–∫–∞–Ω–∏—è--–∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä">–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ä—É—á–Ω–æ–π –∫–æ–Ω—Ç–µ–∫—Å—Ç (–ø–∞—Ä–∞–º–µ—Ç—Ä—ã / –∑–∞–º—ã–∫–∞–Ω–∏—è / –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä)</a></h3>
<ul>
<li>–ù–µ–±–æ–ª—å—à–∏–µ –º–æ–¥—É–ª–∏ —Å –ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–æ–π –≥–ª—É–±–∏–Ω–æ–π –≤—ã–∑–æ–≤–æ–≤.</li>
<li>–ö–æ–≥–¥–∞ –≤–∞–∂–Ω–∞ —è–≤–Ω–æ—Å—Ç—å: —á–∏—Ç–∞—Ç–µ–ª—å –∫–æ–¥–∞ —Å—Ä–∞–∑—É –≤–∏–¥–∏—Ç, –∫–∞–∫–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è.</li>
<li>–í —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã—Ö –ø–∞–π–ø–ª–∞–π–Ω–∞—Ö, –≥–¥–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç –ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è –∫–∞–∫ –∏–º–º—É—Ç–∞–±–µ–ª—å–Ω—ã–π –æ–±—ä–µ–∫—Ç –º–µ–∂–¥—É —à–∞–≥–∞–º–∏.</li>
</ul>
<h3 id="–ö–æ–≥–¥–∞-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å-asynclocalstorage"><a class="header" href="#–ö–æ–≥–¥–∞-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å-asynclocalstorage">–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å AsyncLocalStorage</a></h3>
<ul>
<li>HTTP-—Å–µ—Ä–≤–µ—Ä—ã: –∫–æ–Ω—Ç–µ–∫—Å—Ç –∑–∞–ø—Ä–æ—Å–∞ (requestId, user, tenant) –Ω—É–∂–µ–Ω –≤–æ –º–Ω–æ–∂–µ—Å—Ç–≤–µ –≤–ª–æ–∂–µ–Ω–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π.</li>
<li>–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ–º trace ID –±–µ–∑ –ø–µ—Ä–µ–¥–∞—á–∏ –µ–≥–æ —á–µ—Ä–µ–∑ –≤—Å–µ —Å–ª–æ–∏.</li>
<li>–¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –ë–î: —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ/—Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –¥–æ—Å—Ç—É–ø–Ω—ã –≤ –ª—é–±–æ–º —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ –±–µ–∑ —è–≤–Ω–æ–π –ø–µ—Ä–µ–¥–∞—á–∏.</li>
<li>–ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞: —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–∞—è —Ç—Ä–∞—Å—Å–∏—Ä–æ–≤–∫–∞ —á–µ—Ä–µ–∑ —Å–µ—Ä–≤–∏—Å–Ω—ã–µ –≥—Ä–∞–Ω–∏—Ü—ã.</li>
</ul>
<h3 id="–†–∏—Å–∫–∏-–∏-–∫–∞–∫-–∏—Ö-–∏–∑–±–µ–∂–∞—Ç—å"><a class="header" href="#–†–∏—Å–∫–∏-–∏-–∫–∞–∫-–∏—Ö-–∏–∑–±–µ–∂–∞—Ç—å">–†–∏—Å–∫–∏ –∏ –∫–∞–∫ –∏—Ö –∏–∑–±–µ–∂–∞—Ç—å</a></h3>
<div class="table-wrapper"><table><thead><tr><th>–†–∏—Å–∫</th><th>–†–µ—à–µ–Ω–∏–µ</th></tr></thead><tbody>
<tr><td>–ì–æ–Ω–∫–∞ –¥–∞–Ω–Ω—ã—Ö (race condition): –¥–≤–∞ –±–∏–∑–Ω–µ—Å-–ø—Ä–æ—Ü–µ—Å—Å–∞ –∏—Å–ø–æ–ª—å–∑—É—é—Ç –æ–¥–∏–Ω –∫–æ–Ω—Ç–µ–∫—Å—Ç</td><td>–°–æ–∑–¥–∞–≤–∞—Ç—å –¥–æ—á–µ—Ä–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç—ã —á–µ—Ä–µ–∑ <code>Object.freeze({ ...parentCtx, ...extra })</code> –∏ <code>als.run(childCtx, ...)</code></td></tr>
<tr><td>–£—Ç–µ—á–∫–∏ –ø–∞–º—è—Ç–∏: store —É–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –æ–±—ä–µ–∫—Ç—ã –¥–æ–ª—å—à–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ–≥–æ</td><td>–•—Ä–∞–Ω–∏—Ç—å –≤ store —Ç–æ–ª—å–∫–æ —Å—Å—ã–ª–∫–∏, –æ—á–∏—â–∞—Ç—å –ø—Ä–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∑–∞–ø—Ä–æ—Å–∞</td></tr>
<tr><td>–ù–µ—è–≤–Ω–æ—Å—Ç—å: —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫ –Ω–µ –≤–∏–¥–∏—Ç, —á—Ç–æ —Ñ—É–Ω–∫—Ü–∏—è —á–∏—Ç–∞–µ—Ç –≥–ª–æ–±–∞–ª—å–Ω—ã–π store</td><td>–î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–µ–¥–ø–æ–ª–∞–≥–∞–µ–º—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç, –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å TypeScript —Ç–∏–ø—ã –¥–ª—è store</td></tr>
<tr><td>–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å: –Ω–∞–∫–ª–∞–¥–Ω—ã–µ —Ä–∞—Å—Ö–æ–¥—ã AsyncLocalStorage</td><td>–ú–∏–Ω–∏–º–∞–ª—å–Ω—ã –≤ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–º Node.js (v12.17+); –Ω–µ –∫—Ä–∏—Ç–∏—á–Ω—ã –¥–ª—è I/O-bound –Ω–∞–≥—Ä—É–∑–∫–∏</td></tr>
</tbody></table>
</div>
<h3 id="–ö–ª—é—á–µ–≤—ã–µ-–≤—ã–≤–æ–¥—ã-26"><a class="header" href="#–ö–ª—é—á–µ–≤—ã–µ-–≤—ã–≤–æ–¥—ã-26">–ö–ª—é—á–µ–≤—ã–µ –≤—ã–≤–æ–¥—ã</a></h3>
<ol>
<li><strong>–ö–æ–Ω—Ç–µ–∫—Å—Ç</strong> ‚Äî —ç—Ç–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –ø–µ—Ä–µ–¥–∞—á–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è –±–µ–∑ –≥–ª–æ–±–∞–ª—å–Ω—ã—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö, –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–π –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–π –æ–±–ª–∞—Å—Ç—å—é –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è.</li>
<li><strong>–†—É—á–Ω–∞—è –ø–µ—Ä–µ–¥–∞—á–∞</strong> —á–µ—Ä–µ–∑ –∑–∞–º—ã–∫–∞–Ω–∏—è –∏–ª–∏ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä ‚Äî —è–≤–Ω–∞—è, –ø–æ–Ω—è—Ç–Ω–∞—è, –Ω–æ —Ç—Ä–µ–±—É–µ—Ç –ø—Ä–æ–±—Ä–∞—Å—ã–≤–∞–Ω–∏—è —á–µ—Ä–µ–∑ –∫–∞–∂–¥—ã–π —É—Ä–æ–≤–µ–Ω—å.</li>
<li><strong>–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π Pipeline</strong> –ø–æ–∑–≤–æ–ª—è–µ—Ç —ç–ª–µ–≥–∞–Ω—Ç–Ω–æ –∫–æ–º–ø–æ–Ω–æ–≤–∞—Ç—å –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ —à–∞–≥–∏, –ø–µ—Ä–µ–¥–∞–≤–∞—è –∏–º–º—É—Ç–∞–±–µ–ª—å–Ω—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç –º–µ–∂–¥—É –Ω–∏–º–∏.</li>
<li><strong>AsyncLocalStorage</strong> —Ä–µ—à–∞–µ—Ç –ø—Ä–æ–±–ª–µ–º—É ¬´–ø—Ä–æ–±—Ä–∞—Å—ã–≤–∞–Ω–∏—è¬ª –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏: store –¥–æ—Å—Ç—É–ø–µ–Ω –∏–∑ –ª—é–±–æ–π –≥–ª—É–±–∏–Ω—ã –≤–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç–∏ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö –≤—ã–∑–æ–≤–æ–≤.</li>
<li><strong>–ò–º–º—É—Ç–∞–±–µ–ª—å–Ω–æ—Å—Ç—å –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞</strong> (<code>Object.freeze</code>, spread-–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ) –∑–∞—â–∏—â–∞–µ—Ç –æ—Ç –≥–æ–Ω–æ–∫ –¥–∞–Ω–Ω—ã—Ö –ø—Ä–∏ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–º –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏.</li>
<li>–ü–∞—Ç—Ç–µ—Ä–Ω –∞–∫—Ç–∏–≤–Ω–æ –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –≤ –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∞—Ö: Express, Fastify, Nest.js –∏—Å–ø–æ–ª—å–∑—É—é—Ç –∞–Ω–∞–ª–æ–≥–∏—á–Ω—ã–µ –º–µ—Ö–∞–Ω–∏–∑–º—ã –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –∑–∞–ø—Ä–æ—Å–∞.</li>
</ol>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->


                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">

            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="elasticlunr.min.js"></script>
        <script src="mark.min.js"></script>
        <script src="searcher.js"></script>

        <script src="clipboard.min.js"></script>
        <script src="highlight.js"></script>
        <script src="book.js"></script>

        <!-- Custom JS scripts -->

        <script>
        window.addEventListener('load', function() {
            window.setTimeout(window.print, 100);
        });
        </script>

    </div>
    </body>
</html>
